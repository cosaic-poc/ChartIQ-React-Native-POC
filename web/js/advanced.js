/**
 *	8.3.0
 *	Generation date: 2021-09-08T03:57:27.183Z
 *	Client name: sofi
 *	Package Type: Technical Analysis
 *	License type: trial
 *	Expiration date: "2021/10/08"
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
M211[244018]=(function(){var k=2;for(;k !== 9;){switch(k){case 2:k=typeof globalThis === '\x6f\x62\u006a\u0065\u0063\x74'?1:5;break;case 5:var V;try{var P=2;for(;P !== 6;){switch(P){case 9:delete V['\x55\x5f\x54\u0039\x69'];var q=Object['\u0070\x72\x6f\u0074\x6f\u0074\u0079\x70\x65'];delete q['\x7a\x69\u0073\u0079\u0045'];P=6;break;case 3:throw "";P=9;break;case 4:P=typeof U_T9i === '\x75\u006e\x64\u0065\u0066\u0069\u006e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\u0069\x6e\x65\u0050\u0072\x6f\x70\u0065\x72\x74\u0079'](Object['\x70\u0072\u006f\u0074\x6f\u0074\x79\u0070\u0065'],'\u007a\x69\u0073\x79\x45',{'\x67\x65\x74':function(){var I=2;for(;I !== 1;){switch(I){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});V=zisyE;V['\u0055\x5f\x54\u0039\x69']=V;P=4;break;}}}catch(o){V=window;}return V;break;case 1:return globalThis;break;}}})();M211[562657]=J500(M211[244018]);M211[77224]=o5TT(M211[244018]);M211[244018].b2JJ=M211;M211.D5h=function(){return typeof M211[620635].x5h === 'function'?M211[620635].x5h.apply(M211[620635],arguments):M211[620635].x5h;};M211.a4Y=function(){return typeof M211[84656].N5z === 'function'?M211[84656].N5z.apply(M211[84656],arguments):M211[84656].N5z;};M211.H65=function(){return typeof M211[58953].i9k === 'function'?M211[58953].i9k.apply(M211[58953],arguments):M211[58953].i9k;};function J500(M6i){var F4Y=2;for(;F4Y !== 11;){switch(F4Y){case 12:F6i(Z6i,"charCodeAt",S6i[8],S6i[9]);F4Y=11;break;case 13:var F6i=function(t6i,T6i,x6i,H6i){var I4Y=2;for(;I4Y !== 5;){switch(I4Y){case 2:var u6i=[arguments];j6i(S6i[0][0],u6i[0][0],u6i[0][1],u6i[0][2],u6i[0][3]);I4Y=5;break;}}};F4Y=12;break;case 8:S6i[8]=1;S6i[9]=S6i[6];S6i[9]+=S6i[2];S6i[9]+=S6i[4];F4Y=13;break;case 2:var S6i=[arguments];S6i[2]="";S6i[4]="0";S6i[2]="50";S6i[6]="w";S6i[8]=2;F4Y=8;break;}}function j6i(D6i,A6i,b6i,R6i,z6i){var k4Y=2;for(;k4Y !== 14;){switch(k4Y){case 2:var Q6i=[arguments];Q6i[6]="perty";Q6i[3]="";Q6i[3]="inePro";Q6i[7]="";Q6i[7]="";Q6i[7]="def";k4Y=7;break;case 7:Q6i[1]=3;try{var Z4Y=2;for(;Z4Y !== 8;){switch(Z4Y){case 9:Q6i[2][Q6i[0][4]]=Q6i[8].value;Z4Y=8;break;case 2:Q6i[8]={};Q6i[9]=(1,Q6i[0][1])(Q6i[0][0]);Q6i[2]=[Q6i[1],Q6i[9].prototype][Q6i[0][3]];Q6i[8].value=Q6i[2][Q6i[0][2]];try{var j4Y=2;for(;j4Y !== 3;){switch(j4Y){case 2:Q6i[5]=Q6i[7];Q6i[5]+=Q6i[3];Q6i[5]+=Q6i[6];Q6i[0][0].Object[Q6i[5]](Q6i[2],Q6i[0][4],Q6i[8]);j4Y=3;break;}}}catch(G6i){}Z4Y=9;break;}}}catch(J6i){}k4Y=14;break;}}}function Z6i(U6i){var o4Y=2;for(;o4Y !== 5;){switch(o4Y){case 2:var v6i=[arguments];return v6i[0][0].String;break;}}}}M211[372522]=M211[562657];function o5TT(B25){function P0q(p65){var m65=2;for(;m65 !== 5;){switch(m65){case 2:var A25=[arguments];return A25[0][0];break;}}}function p0q(Y65){var u65=2;for(;u65 !== 5;){switch(u65){case 2:var w25=[arguments];return w25[0][0].RegExp;break;}}}function C0q(T65){var G65=2;for(;G65 !== 5;){switch(G65){case 2:var R25=[arguments];return R25[0][0].Function;break;}}}var k65=2;for(;k65 !== 57;){switch(k65){case 2:var G25=[arguments];G25[6]="";G25[6]="optimiz";G25[1]="";k65=3;break;case 64:var X0q=function(W25,j25,r25,X65){var V65=2;for(;V65 !== 5;){switch(V65){case 2:var F25=[arguments];d0q(G25[0][0],F25[0][0],F25[0][1],F25[0][2],F25[0][3]);V65=5;break;}}};k65=63;break;case 60:X0q(P0q,G25[88],G25[29],G25[85]);k65=59;break;case 48:G25[34]+=G25[66];G25[34]+=G25[66];G25[96]=G25[9];G25[96]+=G25[6];k65=65;break;case 63:X0q(P0q,G25[96],G25[29],G25[34]);k65=62;break;case 16:G25[66]="";G25[42]="_a";G25[57]="_";G25[66]="T";G25[94]="8T";k65=24;break;case 65:G25[96]+=G25[3];k65=64;break;case 3:G25[1]="y8";G25[8]="";G25[3]="e";G25[8]="dual";G25[5]="";k65=14;break;case 10:G25[7]="";G25[4]="r8";G25[7]="bstract";G25[25]="_resi";G25[53]="C8";k65=16;break;case 44:G25[91]+=G25[42];G25[91]+=G25[7];G25[85]=G25[5];G25[85]+=G25[66];k65=40;break;case 54:G25[19]+=G25[94];G25[19]+=G25[66];G25[28]=G25[4];G25[28]+=G25[66];G25[28]+=G25[66];G25[34]=G25[1];k65=48;break;case 62:X0q(p0q,"test",G25[51],G25[28]);k65=61;break;case 31:G25[64]=G25[53];G25[64]+=G25[66];G25[64]+=G25[66];G25[91]=G25[57];k65=44;break;case 24:G25[22]="";G25[22]="D";G25[51]=1;G25[29]=7;k65=35;break;case 58:X0q(C0q,"apply",G25[51],G25[67]);k65=57;break;case 14:G25[9]="__";G25[5]="F8";G25[2]="I";G25[7]="";k65=10;break;case 35:G25[29]=0;G25[67]=G25[22];G25[67]+=G25[94];G25[67]+=G25[66];k65=31;break;case 59:X0q(P0q,G25[91],G25[29],G25[64]);k65=58;break;case 40:G25[85]+=G25[66];G25[88]=G25[57];G25[88]+=G25[25];G25[88]+=G25[8];G25[19]=G25[2];k65=54;break;case 61:X0q(Z0q,"push",G25[51],G25[19]);k65=60;break;}}function Z0q(O65){var q65=2;for(;q65 !== 5;){switch(q65){case 2:var K25=[arguments];q65=1;break;case 1:return K25[0][0].Array;break;}}}function d0q(P65,c65,d65,C65,Z65){var f65=2;for(;f65 !== 6;){switch(f65){case 2:var M25=[arguments];M25[4]="";M25[4]="neProperty";M25[5]="";f65=3;break;case 3:M25[5]="fi";M25[7]="";M25[7]="de";try{var U65=2;for(;U65 !== 8;){switch(U65){case 2:M25[1]={};M25[3]=(1,M25[0][1])(M25[0][0]);M25[6]=[M25[3],M25[3].prototype][M25[0][3]];M25[1].value=M25[6][M25[0][2]];try{var o65=2;for(;o65 !== 3;){switch(o65){case 2:M25[8]=M25[7];M25[8]+=M25[5];M25[8]+=M25[4];M25[0][0].Object[M25[8]](M25[6],M25[0][4],M25[1]);o65=3;break;}}}catch(F0q){}U65=9;break;case 9:M25[6][M25[0][4]]=M25[1].value;U65=8;break;}}}catch(M0q){}f65=6;break;}}}}M211.U5h=function(){return typeof M211[620635].x5h === 'function'?M211[620635].x5h.apply(M211[620635],arguments):M211[620635].x5h;};M211[308550]=937;M211.m5h=function(){return typeof M211[620635].X5h === 'function'?M211[620635].X5h.apply(M211[620635],arguments):M211[620635].X5h;};M211.l65=function(){return typeof M211[58953].i9k === 'function'?M211[58953].i9k.apply(M211[58953],arguments):M211[58953].i9k;};M211[58953]=(function(){var s65=2;for(;s65 !== 9;){switch(s65){case 3:return F65[5];break;case 2:var F65=[arguments];F65[3]=undefined;F65[5]={};F65[5].i9k=function(){var N65=2;for(;N65 !== 90;){switch(N65){case 47:M65[9].I8TT(M65[96]);M65[9].I8TT(M65[45]);M65[9].I8TT(M65[97]);M65[58]=[];N65=64;break;case 8:M65[6].l5h=function(){var Z9k=typeof y8TT === 'function';return Z9k;};M65[3]=M65[6];M65[4]={};M65[4].E5h=['t5h'];M65[4].l5h=function(){var v9k=function(){return [] + ('a').concat('a');};var S9k=!(/\u005b\u005d/).r8TT(v9k + []) && (/\u0061\u0061/).r8TT(v9k + []);return S9k;};M65[7]=M65[4];N65=11;break;case 56:M65[48]=M65[9][M65[11]];try{M65[49]=M65[48][M65[54]]()?M65[10]:M65[31];}catch(K2k){M65[49]=M65[31];}N65=77;break;case 40:M65[97]=M65[71];M65[29]={};M65[29].E5h=['t5h'];M65[29].l5h=function(){var L2k=function(){return ('a').codePointAt(0);};var a2k=(/\x39\x37/).r8TT(L2k + []);return a2k;};M65[96]=M65[29];N65=54;break;case 5:return 77;break;case 43:M65[71]={};M65[71].E5h=['p5h'];M65[71].l5h=function(){var l9k=typeof C8TT === 'function';return l9k;};N65=40;break;case 75:M65[78]={};M65[78][M65[95]]=M65[48][M65[22]][M65[39]];M65[78][M65[59]]=M65[49];M65[58].I8TT(M65[78]);N65=71;break;case 77:M65[39]=0;N65=76;break;case 64:M65[10]='h5h';M65[31]='K5h';M65[22]='E5h';M65[59]='A5h';N65=60;break;case 1:N65=F65[3]?5:4;break;case 67:F65[3]=16;return 87;break;case 11:M65[2]={};M65[2].E5h=['t5h'];M65[2].l5h=function(){var y9k=function(){return ('aaaa').padEnd(5,'a');};var r9k=(/\x61\u0061\x61\x61\x61/).r8TT(y9k + []);return r9k;};N65=19;break;case 4:M65[9]=[];M65[6]={};M65[6].E5h=['p5h'];N65=8;break;case 51:M65[9].I8TT(M65[3]);M65[9].I8TT(M65[53]);M65[9].I8TT(M65[7]);M65[9].I8TT(M65[8]);N65=47;break;case 76:N65=M65[39] < M65[48][M65[22]].length?75:70;break;case 70:M65[11]++;N65=57;break;case 44:M65[53]=M65[84];N65=43;break;case 22:M65[75].E5h=['p5h'];M65[75].l5h=function(){var w9k=typeof F8TT === 'function';return w9k;};M65[90]=M65[75];N65=34;break;case 52:M65[9].I8TT(M65[5]);N65=51;break;case 69:N65=(function(I65){var R65=2;for(;R65 !== 22;){switch(R65){case 24:v65[1]++;R65=16;break;case 10:R65=v65[2][M65[59]] === M65[10]?20:19;break;case 15:v65[4]=v65[3][v65[1]];v65[7]=v65[8][v65[4]].h / v65[8][v65[4]].t;R65=26;break;case 12:v65[3].I8TT(v65[2][M65[95]]);R65=11;break;case 23:return v65[6];break;case 1:R65=v65[0][0].length === 0?5:4;break;case 26:R65=v65[7] >= 0.5?25:24;break;case 4:v65[8]={};R65=3;break;case 7:R65=v65[1] < v65[0][0].length?6:18;break;case 19:v65[1]++;R65=7;break;case 13:v65[8][v65[2][M65[95]]]=(function(){var n65=2;for(;n65 !== 9;){switch(n65){case 4:A65[5].t=0;return A65[5];break;case 2:var A65=[arguments];A65[5]={};A65[5].h=0;n65=4;break;}}}).D8TT(this,arguments);R65=12;break;case 17:v65[1]=0;R65=16;break;case 8:v65[1]=0;R65=7;break;case 2:var v65=[arguments];R65=1;break;case 6:v65[2]=v65[0][0][v65[1]];R65=14;break;case 18:v65[6]=false;R65=17;break;case 16:R65=v65[1] < v65[3].length?15:23;break;case 20:v65[8][v65[2][M65[95]]].h+=true;R65=19;break;case 5:return;break;case 11:v65[8][v65[2][M65[95]]].t+=true;R65=10;break;case 3:v65[3]=[];v65[1]=0;R65=8;break;case 14:R65=typeof v65[8][v65[2][M65[95]]] === 'undefined'?13:11;break;case 25:v65[6]=true;R65=24;break;}}})(M65[58])?68:67;break;case 16:M65[1].l5h=function(){var I9k=function(){return ('x').startsWith('x');};var F9k=(/\u0074\u0072\x75\x65/).r8TT(I9k + []);return F9k;};M65[8]=M65[1];M65[44]={};M65[44].E5h=['p5h'];M65[44].l5h=function(){var C9k=false;var D9k=[];try{for(var n9k in console){D9k.I8TT(n9k);}C9k=D9k.length === 0;}catch(u9k){}var R9k=C9k;return R9k;};M65[14]=M65[44];M65[75]={};N65=22;break;case 57:N65=M65[11] < M65[9].length?56:69;break;case 34:M65[82]={};M65[82].E5h=['t5h'];M65[82].l5h=function(){var X9k=function(){return ('aa').charCodeAt(1);};var A9k=(/\u0039\x37/).r8TT(X9k + []);return A9k;};M65[45]=M65[82];N65=30;break;case 58:M65[11]=0;N65=57;break;case 19:M65[5]=M65[2];M65[1]={};M65[1].E5h=['t5h'];N65=16;break;case 71:M65[39]++;N65=76;break;case 30:M65[84]={};M65[84].E5h=['t5h'];M65[84].l5h=function(){var G9k=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var O9k=!(/\u0028\x5b/).r8TT(G9k + []);return O9k;};N65=44;break;case 68:N65=93?68:67;break;case 54:M65[9].I8TT(M65[90]);M65[9].I8TT(M65[14]);N65=52;break;case 60:M65[54]='l5h';M65[95]='C5h';N65=58;break;case 2:var M65=[arguments];N65=1;break;}}};s65=3;break;}}})();M211[620635]=(function(i5h){return {X5h:function(){var R5h,v5h=arguments;switch(i5h){case 14:R5h=-v5h[1] + v5h[0];break;case 9:R5h=(v5h[4] - v5h[3] + v5h[0]) / v5h[2] + v5h[1];break;case 148:R5h=v5h[3] + v5h[0] * (v5h[1] - v5h[2]);break;case 168:R5h=(v5h[4] * v5h[1] + v5h[2]) / v5h[3] - v5h[0];break;case 56:R5h=v5h[0] < v5h[1];break;case 19:R5h=v5h[0] + v5h[2] * v5h[1] * v5h[3];break;case 89:R5h=-v5h[0] / v5h[3] / v5h[2] + v5h[1];break;case 181:R5h=(-v5h[3] - v5h[4]) / v5h[1] / v5h[0] + v5h[2];break;case 170:R5h=v5h[0] - v5h[3] + v5h[1] + v5h[4] - v5h[2];break;case 59:R5h=v5h[0] / v5h[2] / v5h[1] + v5h[3];break;case 171:R5h=+v5h[1] * v5h[0];break;case 71:R5h=(v5h[2] + v5h[3]) * v5h[1] + v5h[0];break;case 140:R5h=(v5h[2] + v5h[0]) / v5h[3] - v5h[1];break;case 102:R5h=v5h[0] - +v5h[1];break;case 83:R5h=(v5h[6] * v5h[2] - v5h[5] * v5h[4]) / (v5h[1] * v5h[0] - v5h[3]);break;case 129:R5h=v5h[0] * v5h[3] / v5h[4] * v5h[2] - v5h[1];break;case 174:R5h=(-v5h[3] - v5h[0]) / v5h[1] + v5h[2];break;case 123:R5h=v5h[4] - v5h[2] + v5h[1] - v5h[3] + v5h[0];break;case 147:R5h=(v5h[3] & v5h[2]) * (v5h[4] / v5h[1] - v5h[0]);break;case 167:R5h=(v5h[3] / v5h[4] + v5h[2]) / v5h[1] - v5h[0];break;case 40:R5h=v5h[0] << v5h[1];break;case 106:R5h=v5h[0] - v5h[2] - +v5h[1];break;case 41:R5h=(v5h[2] + v5h[1]) / +v5h[0];break;case 119:R5h=v5h[5] * v5h[7] * v5h[0] + ((v5h[6] ^ v5h[2]) - v5h[3] * v5h[4]) * v5h[1];break;case 34:R5h=v5h[1] * v5h[2] - v5h[3] - v5h[0];break;case 110:R5h=v5h[0] / v5h[3] / v5h[4] + v5h[2] - v5h[1];break;case 154:R5h=v5h[1] * v5h[3] / v5h[4] * v5h[2] + v5h[0];break;case 8:R5h=v5h[0] - v5h[3] + v5h[1] + v5h[2];break;case 164:R5h=(v5h[1] - v5h[3]) % (v5h[0] + v5h[2] / v5h[4]);break;case 2:R5h=(v5h[0] + v5h[2]) / v5h[1];break;case 131:R5h=v5h[3] / v5h[2] * v5h[0] + v5h[1];break;case 156:R5h=v5h[3] / (v5h[2] * v5h[1]) <= v5h[0];break;case 135:R5h=(v5h[2] + v5h[0]) / v5h[4] * v5h[3] - v5h[1];break;case 177:R5h=v5h[0] - v5h[2] * v5h[3] - v5h[1];break;case 166:R5h=(v5h[1] + v5h[2]) / v5h[3] - v5h[4] + v5h[0];break;case 43:R5h=v5h[2] / v5h[1] - v5h[0];break;case 150:R5h=-v5h[0] / v5h[1] + v5h[2] - v5h[3];break;case 80:R5h=(v5h[2] - v5h[1]) * v5h[0] * v5h[4] - v5h[3];break;case 172:R5h=v5h[1] * -v5h[0];break;case 28:R5h=(-v5h[4] + v5h[0] + v5h[3]) / v5h[2] - v5h[1];break;case 4:R5h=v5h[1] + v5h[2] - v5h[0] - v5h[3];break;case 84:R5h=(v5h[2] - v5h[3] * v5h[1]) / v5h[0];break;case 151:R5h=v5h[1] - v5h[4] - v5h[2] + v5h[0] + v5h[3];break;case 3:R5h=v5h[2] + v5h[0] - v5h[1];break;case 128:R5h=(v5h[1] - v5h[2]) * v5h[0] - v5h[3];break;case 31:R5h=(v5h[1] - v5h[4]) * v5h[2] + v5h[3] + v5h[0];break;case 25:R5h=(v5h[1] - v5h[0]) / v5h[2];break;case 122:R5h=v5h[2] - (v5h[0] | v5h[1]);break;case 47:R5h=v5h[0] + v5h[1] / v5h[2];break;case 29:R5h=v5h[2] * v5h[0] - v5h[1];break;case 53:R5h=(v5h[1] - v5h[2]) / (v5h[5] - v5h[4]) > v5h[0] * v5h[3];break;case 72:R5h=v5h[1] / v5h[0] + v5h[3] + v5h[2];break;case 0:R5h=v5h[1] - v5h[0] + v5h[2];break;case 155:R5h=(v5h[0] % +v5h[2] + v5h[1]) * v5h[3];break;case 21:R5h=(v5h[0] + v5h[1] - v5h[2]) * v5h[4] - v5h[3];break;case 180:R5h=v5h[3] + v5h[1] / v5h[0] + +v5h[2];break;case 141:R5h=(-v5h[2] - v5h[4]) * v5h[3] + v5h[1] + v5h[0];break;case 118:R5h=v5h[2] - v5h[0] - v5h[1] - v5h[3];break;case 81:R5h=v5h[1] * (v5h[0] + v5h[2]) / v5h[3];break;case 85:R5h=v5h[0] * v5h[2] + v5h[1];break;case 88:R5h=v5h[2] / v5h[0] + v5h[1];break;case 178:R5h=v5h[1] + v5h[3] * +v5h[0] + v5h[2];break;case 163:R5h=(-v5h[3] - v5h[0]) * v5h[1] + v5h[2];break;case 10:R5h=(v5h[2] + v5h[3] + v5h[4] + v5h[1]) / v5h[0];break;case 107:R5h=(v5h[1] - (v5h[3] + v5h[0])) / +v5h[2];break;case 49:R5h=v5h[0] + v5h[1] / +v5h[2];break;case 22:R5h=v5h[0] >> v5h[1];break;case 126:R5h=(-v5h[1] + v5h[0]) * v5h[3] - v5h[2] - v5h[4];break;case 6:R5h=-v5h[2] + v5h[1] - v5h[0];break;case 138:R5h=(-v5h[2] + v5h[0]) / v5h[1] - v5h[3];break;case 23:R5h=v5h[1] | v5h[0];break;case 7:R5h=v5h[0] / v5h[1];break;case 60:R5h=v5h[2] * v5h[0] / v5h[3] - v5h[1];break;case 26:R5h=v5h[3] + v5h[0] + v5h[4] - v5h[1] + v5h[2];break;case 161:R5h=-v5h[2] * v5h[0] + v5h[1];break;case 37:R5h=v5h[2] - v5h[0] - v5h[1];break;case 158:R5h=v5h[0] > v5h[1];break;case 182:R5h=v5h[3] + (v5h[1] / v5h[0] - v5h[4] / v5h[2]);break;case 149:R5h=v5h[3] / v5h[2] - v5h[4] - v5h[0] + v5h[1];break;case 70:R5h=v5h[0] + +v5h[1];break;case 48:R5h=v5h[1] * v5h[2] % v5h[0];break;case 96:R5h=(-v5h[2] / v5h[1] + v5h[4]) / v5h[3] + v5h[0];break;case 176:R5h=v5h[1] * v5h[4] - v5h[3] - v5h[0] - v5h[2];break;case 67:R5h=(v5h[1] + v5h[0]) / v5h[3] + v5h[2];break;case 144:R5h=(v5h[2] - v5h[4]) / v5h[3] + v5h[0] - v5h[1];break;case 5:R5h=v5h[0] - v5h[1];break;case 44:R5h=v5h[1] + v5h[3] - v5h[2] + v5h[0];break;case 50:R5h=v5h[2] - v5h[0] + v5h[3] - v5h[1];break;case 54:R5h=(v5h[3] - v5h[1]) / v5h[0] - v5h[2] + v5h[4];break;case 90:R5h=-v5h[0] * v5h[2] * v5h[1] + v5h[3];break;case 52:R5h=v5h[3] / v5h[0] * v5h[1] / v5h[4] + v5h[2];break;case 39:R5h=v5h[1] + (v5h[0] - v5h[2]);break;case 121:R5h=(v5h[3] + v5h[1]) * v5h[2] - v5h[0];break;case 104:R5h=(v5h[3] + v5h[2]) * v5h[1] / v5h[0] + v5h[4];break;case 97:R5h=v5h[1] + (v5h[2] << v5h[0]);break;case 18:R5h=v5h[0] * v5h[1];break;case 57:R5h=(v5h[1] - v5h[2]) / (v5h[3] - v5h[0]);break;case 69:R5h=(v5h[4] - v5h[1] + v5h[2]) * v5h[0] - v5h[3];break;case 133:R5h=(v5h[3] - v5h[4]) / v5h[2] / v5h[1] + v5h[0];break;case 175:R5h=(v5h[3] - v5h[2]) * v5h[4] * v5h[1] + v5h[0];break;case 77:R5h=v5h[1] + (v5h[0] - v5h[2]) / v5h[3];break;case 91:R5h=-(v5h[3] - v5h[1]) * v5h[2] + v5h[0];break;case 124:R5h=(v5h[1] + v5h[0]) * v5h[2] - v5h[4] - v5h[3];break;case 145:R5h=v5h[1] - v5h[4] / (v5h[0] + v5h[3] / v5h[2]);break;case 162:R5h=(v5h[4] + v5h[2]) * v5h[3] / v5h[1] - v5h[0];break;case 157:R5h=(v5h[0] * v5h[4] + v5h[1]) * v5h[3] - v5h[2];break;case 55:R5h=(v5h[3] >> v5h[2]) * v5h[1] - v5h[0];break;case 16:R5h=v5h[1] / (v5h[0] / v5h[2]);break;case 159:R5h=v5h[1] * (v5h[0] + +v5h[2]);break;case 103:R5h=v5h[0] + v5h[2] + v5h[1] - v5h[3];break;case 153:R5h=v5h[4] - v5h[2] - v5h[3] + v5h[1] - v5h[0];break;case 1:R5h=v5h[1] + v5h[0];break;case 100:R5h=(v5h[2] + v5h[3] * v5h[0]) / v5h[1];break;case 146:R5h=(v5h[2] - v5h[1] - v5h[3]) * v5h[4] - v5h[0];break;case 51:R5h=(v5h[3] + v5h[4] + v5h[1]) * v5h[2] - v5h[0];break;case 109:R5h=v5h[4] / v5h[0] / v5h[2] - v5h[3] + v5h[1];break;case 101:R5h=(v5h[0] + +v5h[1] * v5h[4]) / (v5h[3] ^ v5h[2]);break;case 130:R5h=(v5h[0] + v5h[4]) / v5h[2] * v5h[1] + v5h[3];break;case 92:R5h=(v5h[0] - v5h[1]) * v5h[3] + v5h[2];break;case 142:R5h=v5h[2] / v5h[3] * v5h[0] + v5h[1] - v5h[4];break;case 75:R5h=(-v5h[2] - v5h[1] - v5h[0]) / v5h[3] + v5h[4];break;case 94:R5h=v5h[2] * v5h[3] / v5h[0] + v5h[1];break;case 111:R5h=v5h[2] * v5h[0] / v5h[1];break;case 64:R5h=(v5h[2] - v5h[0] - v5h[1]) / v5h[3] + v5h[4];break;case 17:R5h=(v5h[4] - v5h[0]) * v5h[2] - v5h[1] + v5h[3];break;case 11:R5h=v5h[3] * v5h[1] * v5h[2] - v5h[0];break;case 86:R5h=v5h[1] + v5h[0] + v5h[2];break;case 134:R5h=-v5h[3] - v5h[1] + v5h[0] - v5h[2];break;case 82:R5h=v5h[2] * (v5h[0] * v5h[1] + v5h[3]) / v5h[4];break;case 165:R5h=v5h[4] - v5h[1] / (v5h[2] - v5h[0] + v5h[3]);break;case 139:R5h=v5h[0] * v5h[1] / (v5h[3] + v5h[2]);break;case 184:R5h=v5h[2] - (v5h[1] & v5h[0]);break;case 99:R5h=(+v5h[1] * v5h[2] + v5h[0]) / v5h[3];break;case 20:R5h=v5h[0] - v5h[2] * v5h[1];break;case 32:R5h=v5h[1] * v5h[2] * v5h[4] - v5h[0] - v5h[3];break;case 112:R5h=(v5h[1] / v5h[3] - v5h[2]) / v5h[0] + v5h[4];break;case 108:R5h=v5h[2] + v5h[1] + v5h[3] + v5h[0];break;case 78:R5h=v5h[2] - v5h[0] * (v5h[3] - v5h[1]);break;case 87:R5h=v5h[0] + v5h[2] * v5h[1];break;case 173:R5h=v5h[3] * (v5h[1] / v5h[2] - +v5h[0]);break;case 113:R5h=(v5h[1] + v5h[0]) * v5h[2];break;case 35:R5h=-v5h[1] - v5h[2] + v5h[0];break;case 27:R5h=v5h[3] + v5h[4] + v5h[1] - v5h[2] - v5h[0];break;case 13:R5h=v5h[1] ^ v5h[0];break;case 137:R5h=v5h[0] - v5h[3] - v5h[2] + v5h[1];break;case 95:R5h=v5h[6] + (v5h[5] - v5h[4]) / (v5h[0] - v5h[3]) * (v5h[2] - v5h[1]);break;case 38:R5h=v5h[1] * v5h[2] < +v5h[0];break;case 93:R5h=v5h[4] * v5h[1] + v5h[0] - v5h[3] - v5h[2];break;case 115:R5h=-v5h[2] - v5h[3] + v5h[0] + v5h[4] - v5h[1];break;case 74:R5h=v5h[1] + v5h[4] - v5h[2] + v5h[3] - v5h[0];break;case 15:R5h=(-v5h[1] + v5h[3]) * v5h[2] + v5h[0];break;case 98:R5h=(v5h[3] * v5h[2] + v5h[0]) / v5h[1];break;case 30:R5h=-v5h[1] / v5h[2] + v5h[0];break;case 114:R5h=-v5h[1] + v5h[0] + v5h[2];break;case 45:R5h=v5h[1] * v5h[0] + v5h[2] - v5h[3];break;case 105:R5h=v5h[6] + v5h[1] + v5h[4] + v5h[7] + v5h[2] + v5h[0] + v5h[5] + v5h[3];break;case 66:R5h=(v5h[5] - v5h[6]) * (v5h[1] - v5h[3]) / (v5h[2] - v5h[0]) + v5h[4];break;case 76:R5h=+v5h[0] / (v5h[1] >> v5h[2]);break;case 117:R5h=(-v5h[1] + v5h[2]) * v5h[0] / v5h[3] + v5h[4];break;case 65:R5h=(v5h[1] + v5h[4] - v5h[2]) * v5h[3] + v5h[0];break;case 136:R5h=-v5h[2] * v5h[0] + v5h[1] + v5h[3];break;case 36:R5h=(v5h[4] - v5h[1]) / v5h[2] * v5h[0] + v5h[3];break;case 73:R5h=(v5h[1] / v5h[3] + v5h[0]) / v5h[4] + v5h[2];break;case 160:R5h=v5h[1] / v5h[0] + v5h[3] - v5h[2];break;case 42:R5h=v5h[0] % v5h[1];break;case 61:R5h=v5h[0] / v5h[2] - v5h[3] + v5h[1];break;case 169:R5h=(v5h[2] + v5h[1]) / v5h[3] + v5h[0] - v5h[4];break;case 152:R5h=v5h[3] * (v5h[1] / v5h[0] - v5h[2]);break;case 12:R5h=v5h[1] & v5h[0];break;case 143:R5h=v5h[0] * v5h[2] * v5h[1];break;case 63:R5h=(v5h[4] - v5h[0]) / (v5h[1] - v5h[2]) > +v5h[3];break;case 179:R5h=v5h[0] == v5h[1];break;case 125:R5h=v5h[2] + (v5h[1] - v5h[0]) * v5h[3];break;case 33:R5h=-v5h[3] * v5h[2] - v5h[1] + v5h[0];break;case 116:R5h=v5h[3] + v5h[4] + v5h[0] + v5h[1] - v5h[2];break;case 24:R5h=v5h[2] - (v5h[0] - v5h[1]);break;case 62:R5h=+v5h[1] / v5h[0];break;case 79:R5h=v5h[3] + (v5h[2] & v5h[0]) / v5h[1];break;case 132:R5h=(v5h[4] + v5h[2] + v5h[3]) / v5h[0] + v5h[1];break;case 127:R5h=(v5h[3] + v5h[4] - v5h[1]) / v5h[0] + v5h[2];break;case 120:R5h=v5h[3] / v5h[2] / v5h[4] / v5h[0] + v5h[1];break;case 68:R5h=v5h[3] * v5h[1] - v5h[2] + v5h[0];break;case 58:R5h=v5h[4] / v5h[1] + v5h[2] - v5h[0] + v5h[3];break;case 183:R5h=(-v5h[3] + v5h[1]) * v5h[4] * v5h[2] - v5h[0];break;case 46:R5h=v5h[0] - v5h[1] / v5h[2];break;}return R5h;},x5h:function(T5h){i5h=T5h;}};})();M211.a5h=function(){return typeof M211[620635].X5h === 'function'?M211[620635].X5h.apply(M211[620635],arguments):M211[620635].X5h;};M211.C4Y=function(){return typeof M211[84656].N5z === 'function'?M211[84656].N5z.apply(M211[84656],arguments):M211[84656].N5z;};function M211(){}M211[84656]=(function(){var f5z=function(E5z,X5z){var d5z=X5z & 0xffff;var u5z=X5z - d5z;return (u5z * E5z | 0) + (d5z * E5z | 0) | 0;},c5z=function(e5z,a5z,M5z){var S5z=0xcc9e2d51,o5z=0x1b873593;var p5z=M5z;var t5z=a5z & ~0x3;for(var k5z=0;k5z < t5z;k5z+=4){var r5z=e5z.w500(k5z) & 0xff | (e5z.w500(k5z + 1) & 0xff) << 8 | (e5z.w500(k5z + 2) & 0xff) << 16 | (e5z.w500(k5z + 3) & 0xff) << 24;r5z=f5z(r5z,S5z);r5z=(r5z & 0x1ffff) << 15 | r5z >>> 17;r5z=f5z(r5z,o5z);p5z^=r5z;p5z=(p5z & 0x7ffff) << 13 | p5z >>> 19;p5z=p5z * 5 + 0xe6546b64 | 0;}r5z=0;switch(a5z % 4){case 3:r5z=(e5z.w500(t5z + 2) & 0xff) << 16;case 2:r5z|=(e5z.w500(t5z + 1) & 0xff) << 8;case 1:r5z|=e5z.w500(t5z) & 0xff;r5z=f5z(r5z,S5z);r5z=(r5z & 0x1ffff) << 15 | r5z >>> 17;r5z=f5z(r5z,o5z);p5z^=r5z;}p5z^=a5z;p5z^=p5z >>> 16;p5z=f5z(p5z,0x85ebca6b);p5z^=p5z >>> 13;p5z=f5z(p5z,0xc2b2ae35);p5z^=p5z >>> 16;return p5z;};return {N5z:c5z};})();M211[99741]="rKd";var l2J,U2J,w2J,M2J,S2J,P2J,s2J,Z2J,Q2J,X2J,v2J,B2J,i2J,C2J,V2J,h2J,E2J,K2J,W2J,H2J,b2J,R2J,N2J,D2J,I2J,p2J,G2J,x7J,T7J,o7J,k7J,u7J,q7J,j7J,O7J,L7J,g7J,d7J,z7J,r7J,A7J,c7J,Y7J,f7J,m7J,F7J,y7J,e7J,J7J,n7J,a7J,t7J,l7J,U7J,w7J,M7J,S7J,P7J,s7J,Z7J,Q7J,X7J,v7J,B7J,i7J,C7J,V7J,h7J,b7J;import {CIQ as t2J, SplinePlotter as E7J, timezoneJS as K7J, $$ as W7J, $$$ as H7J} from "../js/standard.js";l2J=N7J=>{var R7J;R7J=typeof _CIQ !== "undefined"?_CIQ:N7J.CIQ;R7J.Renderer.Aggregations=function(I7J){var Y9Y,D7J,F2Y;Y9Y="_main_serie";M211.H65();Y9Y+="s";this.construct(I7J);D7J=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=! ![];D7J.highlightable=!"1";if(D7J.name != Y9Y){F2Y="Aggregations are only allowed on m";F2Y+="ain series";F2Y+=".";console.warn(F2Y);D7J.invalid=! ![];}};R7J.inheritsFrom(R7J.Renderer.Aggregations,R7J.Renderer.OHLC,!"1");R7J.Renderer.Aggregations.requestNew=function(o3J,k3J){var j2Y,p7J,k2Y,o2Y,I2Y,x3J,Z2Y,T3J;j2Y="Aggr";j2Y+="egatio";M211.l65();j2Y+="n";j2Y+="s";p7J=null;for(var G7J="0" >> 413168256;G7J < o3J.length;G7J++){k2Y="r";k2Y+="e";k2Y+="n";k2Y+="ko";o2Y="line";o2Y+="break";I2Y="h";I2Y+="e";I2Y+="ikina";I2Y+="shi";x3J=o3J[G7J];switch(x3J){case "kagi":case "pandf":p7J=x3J;break;case I2Y:case o2Y:case "rangebars":case k2Y:Z2Y="c";Z2Y+="a";Z2Y+="n";Z2Y+="dle";p7J=Z2Y;break;default:return null;}}if(p7J === null){return null;}T3J=new R7J.Renderer[p7J == "candle"?"OHLC":j2Y]({params:R7J.extend(k3J,{type:p7J})});T3J.isAggregation=! !"1";return T3J;};R7J.Renderer.Aggregations.prototype.drawIndividualSeries=function(O3J,q3J){var E2Y,u3J,j3J,a2Y,C2Y;E2Y="k";E2Y+="ag";E2Y+="i";if(q3J.invalid){return;}M211.l65();u3J=this.stx;j3J={colors:[]};if(q3J.type == E2Y){a2Y="stx_";a2Y+="kagi_up";u3J.drawKagiSquareWave(O3J.panel,"stx_kagi_up","stx_kagi_down",q3J);j3J.colors.push(u3J.getCanvasColor(a2Y));j3J.colors.push(u3J.getCanvasColor("stx_kagi_down"));}else if(q3J.type == "pandf"){C2Y="s";C2Y+="tx_pand";C2Y+="f_do";C2Y+="wn";u3J.drawPointFigureChart(O3J.panel,"stx_pandf_up",(609.95,5170) < ("3720" ^ 0)?(9.57e+3,"I"):"X",q3J);j3J.colors.push(u3J.getCanvasColor("stx_pandf_up"));u3J.drawPointFigureChart(O3J.panel,"stx_pandf_down",294.4 < 579.03?"O":(+"9610",1613) >= 637?(935.77,0x2408):(6.57e+3,9.91e+3),q3J);j3J.colors.push(u3J.getCanvasColor(C2Y));}return j3J;};M211.l65();R7J.ChartEngine.prototype.setAggregationType=function(g3J){var P2Y,L3J;P2Y="la";P2Y+="yo";P2Y+="u";P2Y+="t";this.layout.chartType="candle";L3J=this.chart;if(L3J.baseline.userLevel !== ! !0){L3J.baseline.userLevel=L3J.baseline.defaultLevel;L3J.panel.yAxis.scroll=R7J.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=g3J;this.setMainSeriesRenderer();if(L3J.canvas){this.createDataSet();this.draw();}M211.l65();this.changeOccurred(P2Y);};R7J.ChartEngine.prototype.drawKagiSquareWave=function(m3J,e3J,J3J,n3J){var a94=M211;var f3J,a3J,d3J,z3J,Q3J,t3J,l3J,M3J,S3J,U3J,w3J,P3J,s3J,c3J,X3J,y3J,Y3J,A3J,v3J,r3J,Z3J;f3J=m3J.chart;this.startClip(m3J.name);a3J=f3J.dataSegment;d3J=f3J.context;z3J=m3J.yAxis;if(z3J.flipped){Q3J=e3J;e3J=J3J;J3J=Q3J;}t3J=this.canvasStyle(e3J);l3J=this.canvasStyle(J3J);this.canvasColor(e3J);if(n3J.border_color_up){d3J.strokeStyle=n3J.border_color_up;}M3J=d3J.strokeStyle;this.canvasColor(J3J);if(n3J.border_color_down){d3J.strokeStyle=n3J.border_color_down;}S3J=d3J.strokeStyle;U3J=1;if(t3J.width && parseInt(t3J.width,10) <= 25){U3J=Math.max(1,R7J.stripPX(t3J.width));}w3J=1;if(l3J.width && parseInt(l3J.width,10) <= +"25"){w3J=Math.max(1,R7J.stripPX(l3J.width));}if(this.highlightedDraggable){d3J.globalAlpha*=0.3;}d3J.beginPath();a94.H65();a94.D5h(0);var L6T=a94.m5h(18,0,19);P3J=f3J.dataSet.length - f3J.scroll - L6T;s3J=! !"1";c3J=null;X3J=null;y3J=null;Y3J=m3J.left - 0.5 * this.layout.candleWidth + this.micropixels - +"1";for(var F3J=0;F3J <= a3J.length;F3J++){Y3J+=this.layout.candleWidth;A3J=a3J[F3J];if(!A3J)continue;if(A3J.projection)break;y3J=A3J.kagiTrend;if(z3J.flipped){y3J*=-1;}if(A3J.transform && f3J.transformFunc){v3J=A3J.kagiPrevOpen;A3J=A3J.transform;A3J.kagiPrevOpen=f3J.transformFunc(this,f3J,v3J);}r3J=A3J.cache;a94.D5h(1);Z3J=a94.m5h(F3J,P3J);if(Z3J < m3J.cacheLeft || Z3J > m3J.cacheRight || !r3J.kagiOpen){r3J.kagiOpen=z3J.semiLog?z3J.height * (("1" >> 751727264) - (Math.log(Math.max(A3J.Open,0)) / Math.LN10 - z3J.logLow) / z3J.logShadow):(z3J.high - A3J.Open) * z3J.multiplier;r3J.kagiClose=z3J.semiLog?z3J.height * (1 - (Math.log(Math.max(A3J.Close,0)) / Math.LN10 - z3J.logLow) / z3J.logShadow):(z3J.high - A3J.Close) * z3J.multiplier;if(z3J.flipped){r3J.kagiOpen=z3J.bottom - r3J.kagiOpen;r3J.kagiClose=z3J.bottom - r3J.kagiClose;}else {r3J.kagiOpen+=z3J.top;r3J.kagiClose+=z3J.top;}}X3J=r3J.kagiClose;c3J=z3J.semiLog?z3J.height * (("1" << 583264096) - (Math.log(Math.max(A3J.kagiPrevOpen,0)) / Math.LN10 - z3J.logLow) / z3J.logShadow):(z3J.high - A3J.kagiPrevOpen) * z3J.multiplier;if(z3J.flipped){c3J=z3J.bottom - c3J;}else {c3J+=z3J.top;}if(s3J){d3J.moveTo(P3J >= 0?m3J.left:Math.floor(Y3J),r3J.kagiOpen);d3J.lineTo(Math.floor(Y3J),r3J.kagiOpen);if(r3J.kagiClose < r3J.kagiOpen){d3J.strokeStyle=M3J;d3J.lineWidth=U3J;}else {d3J.strokeStyle=S3J;d3J.lineWidth=w3J;}}else {if(y3J != -1 && r3J.kagiClose < c3J && c3J < r3J.kagiOpen){d3J.lineTo(Math.floor(Y3J),c3J);d3J.stroke();d3J.beginPath();d3J.moveTo(Math.floor(Y3J),c3J);d3J.strokeStyle=M3J;d3J.lineWidth=U3J;}else if(y3J != "1" - 0 && r3J.kagiClose > c3J && c3J > r3J.kagiOpen){d3J.lineTo(Math.floor(Y3J),c3J);d3J.stroke();d3J.beginPath();d3J.moveTo(Math.floor(Y3J),c3J);d3J.strokeStyle=S3J;d3J.lineWidth=w3J;}}d3J.lineTo(Math.floor(Y3J),r3J.kagiClose);if(F3J + +"1" < a3J.length){d3J.lineTo(Math.floor(Y3J + this.layout.candleWidth),r3J.kagiClose);}s3J=![];}d3J.stroke();this.endClip();d3J.lineWidth=1;};R7J.ChartEngine.prototype.drawPointFigureChart=function(R3J,r0J,N3J,u0J){var h94=M211;var E3J,L0J,i3J,K3J,W3J,D3J,G3J,x0J,g0J,Y0J,B3J,d0J,H3J,C3J,V3J,q0J,j0J,h3J,I3J,p3J,f0J,O0J,b3J,z0J,o0J,k0J;E3J=R3J.chart;this.startClip(R3J.name);L0J=E3J.dataSegment;i3J=E3J.context;this.canvasColor(r0J);if(N3J == ((83.69,198.87) == +"372.93"?(3.97e+3,"332.57" - 0):"X") && u0J.border_color_up){i3J.strokeStyle=u0J.border_color_up;}else if(N3J == "O" && u0J.border_color_down){i3J.strokeStyle=u0J.border_color_down;}function c0J(J0J,n0J,e0J){h94.U5h(2);i3J.moveTo(h94.m5h(J0J,2,n0J),h94.m5h(W3J,V3J,e0J,h94.D5h(3)));h94.D5h(1);h94.l65();i3J.bezierCurveTo(h94.m5h(x0J,n0J),h94.m5h(W3J,V3J,e0J,h94.U5h(3)),h94.a5h(x0J,n0J,h94.U5h(1)),h94.a5h(D3J,e0J,C3J,V3J,h94.U5h(4)),h94.a5h(J0J,2,n0J,h94.U5h(2)),h94.m5h(D3J,e0J,C3J,V3J,h94.U5h(4)));h94.D5h(5);i3J.bezierCurveTo(h94.m5h(J0J,G3J),h94.a5h(D3J,e0J,C3J,V3J,h94.D5h(4)),h94.m5h(J0J,G3J,h94.D5h(5)),h94.m5h(W3J,V3J,e0J,h94.U5h(3)),h94.m5h(J0J,2,n0J,h94.U5h(2)),h94.a5h(W3J,V3J,e0J,h94.U5h(3)));}K3J=this.canvasStyle(r0J);h94.l65();W3J=parseInt(K3J.paddingTop,10);D3J=parseInt(K3J.paddingBottom,+"10");G3J=parseInt(K3J.paddingLeft,10);x0J=parseInt(K3J.paddingRight,10);if(K3J.width && parseInt(K3J.width,10) <= 25){i3J.lineWidth=Math.max(1,R7J.stripPX(K3J.width));}else {i3J.lineWidth=2;}if(this.highlightedDraggable){i3J.globalAlpha*=0.3;}i3J.beginPath();g0J=this.chart.state.aggregation.box;h94.U5h(6);var H6T=h94.m5h(4,14,9);Y0J=E3J.dataSet.length - E3J.scroll - H6T;B3J=R3J.yAxis;C3J=g0J * B3J.multiplier;h94.U5h(7);V3J=h94.m5h(C3J,2);function A0J(F0J,y0J,m0J){h94.H65();h94.D5h(1);i3J.moveTo(h94.a5h(G3J,F0J),h94.a5h(D3J,m0J,V3J,h94.U5h(0)));h94.U5h(5);i3J.lineTo(h94.a5h(y0J,x0J),h94.a5h(m0J,W3J,V3J,C3J,h94.D5h(8)));h94.U5h(1);i3J.moveTo(h94.a5h(G3J,F0J),h94.m5h(m0J,W3J,V3J,C3J,h94.U5h(8)));h94.D5h(5);i3J.lineTo(h94.m5h(y0J,x0J),h94.m5h(D3J,m0J,V3J,h94.D5h(0)));}q0J=this.layout.candleWidth;h94.D5h(6);var U6T=h94.a5h(2,16,13);j0J=R3J.left - q0J + this.micropixels - U6T;for(var T0J=0;T0J < L0J.length;T0J++){j0J+=q0J;h3J=L0J[T0J];if(!h3J)continue;if(h3J.projection)break;I3J=h3J.pfOpen;p3J=h3J.pfClose;f0J=h3J.pfTrend;O0J=h3J.pfStepBack;if(h3J.transform && E3J.transformFunc){h3J=h3J.transform;I3J=E3J.transformFunc(this,E3J,I3J);p3J=E3J.transformFunc(this,E3J,p3J);}b3J=h3J.cache;h94.U5h(1);z0J=h94.a5h(T0J,Y0J);if(z0J < R3J.cacheLeft || z0J > R3J.cacheRight || !b3J.pfOpen){if(B3J.flipped){b3J.pfOpen=B3J.bottom - (B3J.high - I3J) * B3J.multiplier;b3J.pfClose=B3J.bottom - (B3J.high - p3J) * B3J.multiplier;}else {b3J.pfOpen=(B3J.high - I3J) * B3J.multiplier + B3J.top;b3J.pfClose=(B3J.high - p3J) * B3J.multiplier + B3J.top;}}o0J=Math.round(j0J);h94.D5h(1);k0J=Math.round(h94.m5h(q0J,j0J));d0J=Math.abs(Math.round((p3J - I3J) / g0J));H3J=b3J.pfOpen;if(N3J == O0J){if(O0J == ((785.86,5090) != 4670?697 === 8730?!{}:(2149,2760) !== (3560,121.97)?"X":"S":513.55)){h94.D5h(5);A0J(o0J,k0J,h94.a5h(H3J,C3J));}else if(O0J == "O"){h94.U5h(1);c0J(o0J,k0J,h94.a5h(C3J,H3J));}}if(N3J == f0J){for(;d0J >= 0;d0J--){if(N3J == "X"){A0J(o0J,k0J,H3J,C3J,V3J);H3J-=B3J.flipped?-C3J:C3J;}else if(N3J == "O"){c0J(o0J,k0J,H3J,C3J,V3J);H3J+=B3J.flipped?-C3J:C3J;}}}}i3J.stroke();this.endClip();i3J.lineWidth=1;};R7J.ChartEngine.calculateAggregation=function(a0J,l0J,U0J,w0J){var V2Y,O2Y,d2Y,t0J,M0J,t3Y,T3Y,x3Y;V2Y="line";V2Y+="break";O2Y="ka";O2Y+="gi";d2Y="h";d2Y+="ei";d2Y+="ki";d2Y+="nashi";M0J=a0J.layout;M211.H65();if([d2Y,"heikenashi"].indexOf(l0J) > -("1" * 1)){t0J=R7J.calculateHeikinAshi(a0J,U0J,w0J);}else if(l0J == "rangebars"){t0J=R7J.calculateRangeBars(a0J,U0J,M0J.rangebars,w0J);}else if(l0J == O2Y){t0J=R7J.calculateKagi(a0J,U0J,M0J.kagi,w0J);}else if(l0J == V2Y){t0J=R7J.calculateLineBreak(a0J,U0J,M0J.priceLines,w0J);}else if(l0J == "renko"){t3Y=987940985;T3Y=-1987684081;x3Y=2;for(var H3Y=1;M211.C4Y(H3Y.toString(),H3Y.toString().length,43508) !== t3Y;H3Y++){t0J=R7J.calculateRenkoBars(a0J,U0J,M0J.renko,w0J);x3Y+=2;}if(M211.C4Y(x3Y.toString(),x3Y.toString().length,28425) !== T3Y){t0J=R7J.calculateRenkoBars(a0J,U0J,M0J.renko,w0J);}}else if(l0J == "pandf"){t0J=R7J.calculatePointFigure(a0J,U0J,M0J.pandf,w0J);}return t0J;};R7J.calculateHeikinAshi=function(H0J,h0J,E0J){var J94=M211;var v0J,S0J,P0J,i0J,Q0J,s0J,Z0J,X0J,K0J,W0J,C0J;if(!h0J.length){return h0J;}if(!E0J){E0J=[];}v0J=[];for(var B0J=0;B0J < h0J.length;B0J++){S0J=h0J[B0J];if(!S0J)continue;J94.D5h(9);var D6T=J94.a5h(3,2,7,17,7);P0J=v0J[v0J.length - D6T];if(!P0J && !B0J){P0J=E0J[E0J.length - +"1"];}if(!P0J){P0J=S0J;}i0J=S0J.Close;Q0J=S0J.Open;s0J=S0J.High;Z0J=S0J.Low;X0J=P0J.Open;Q0J=Q0J || Q0J === 0?Q0J:i0J;s0J=s0J || s0J === 0?s0J:i0J;Z0J=Z0J || Z0J === 0?Z0J:i0J;X0J=X0J || X0J === 0?X0J:P0J.Close;J94.U5h(3);var X6T=J94.m5h(9,7,0);K0J=(X0J + P0J.Close) / X6T;J94.U5h(10);W0J=J94.m5h(4,i0J,Q0J,s0J,Z0J);C0J={DT:S0J.DT,displayDate:S0J.displayDate,Date:S0J.Date,Open:K0J,Close:W0J,High:Math.max(s0J,Math.max(K0J,W0J)),Low:Math.min(Z0J,Math.min(K0J,W0J)),Volume:S0J.Volume,iqPrevClose:P0J.Close};for(var V0J in S0J){if(!C0J[V0J] && C0J[V0J] !== ("0" & 2147483647)){C0J[V0J]=S0J[V0J];}}v0J.push(C0J);}return v0J;};R7J.calculateKagi=function(u1J,I0J,D0J,o1J){var L94=M211;var k1J,x1J,G0J,b0J,j1J,N0J,q1J,R0J;if(!I0J.length){return I0J;}if(!o1J){o1J=[];}k1J=u1J.layout;x1J=u1J.chart;D0J=parseFloat(D0J);x1J.defaultChartStyleConfig.kagi=R7J.ChartEngine.isDailyInterval(k1J.interval)?4:+"0.4";if(isNaN(D0J) || D0J <= ("0" & 2147483647)){D0J=x1J.defaultChartStyleConfig.kagi;if(R7J.Market.Symbology.isForexSymbol(x1J.symbol)){D0J/=4;}if(k1J.kagi !== null){k1J.kagi=null;u1J.changeOccurred("layout");}}D0J/=100;G0J=[];L94.U5h(11);var A6T=L94.m5h(119,5,6,4);b0J=o1J[o1J.length - A6T];j1J=b0J?b0J.DT:"0" ^ 0;for(var p0J=0;p0J < I0J.length;p0J++){N0J=I0J[p0J];if(!N0J)continue;if(!b0J){L94.U5h(5);b0J=I0J[L94.m5h(p0J,1)];}if(!b0J)continue;q1J=b0J.Open || b0J.Open === 0?b0J.Open:b0J.Close;if(q1J > b0J.Close){if(N0J.Close > b0J.Close * (1 + D0J)){N0J.Open=b0J.Close;}else {if(b0J.Close > N0J.Close){b0J.Close=N0J.Close;}b0J.Volume+=N0J.Volume;if(p0J < I0J.length - 1)continue;}}else if(q1J < b0J.Close){if(N0J.Close < b0J.Close * (1 - D0J)){N0J.Open=b0J.Close;}else {if(b0J.Close < N0J.Close){b0J.Close=N0J.Close;}b0J.Volume+=N0J.Volume;if(p0J < I0J.length - 1)continue;}}else {b0J.Close=N0J.Close;b0J.Volume+=N0J.Volume;if(p0J < I0J.length - 1)continue;}R0J={DT:b0J.DT,displayDate:b0J.displayDate,Date:b0J.Date,Open:b0J.Open,Close:b0J.Close,High:Math.max(b0J.Open,b0J.Close),Low:Math.min(b0J.Open,b0J.Close),Volume:b0J.Volume,iqPrevClose:b0J.iqPrevClose};for(var T1J in b0J){if(!R0J[T1J] && R0J[T1J] !== 0){R0J[T1J]=b0J[T1J];}}if(G0J.length){R0J.kagiPrevOpen=G0J[G0J.length - 1].Open;}else {R0J.kagiPrevOpen=R0J.Open;}if(R0J.Close > R0J.kagiPrevOpen && R0J.kagiPrevOpen > R0J.Open){R0J.kagiTrend=+"1";}else if(R0J.Close < R0J.kagiPrevOpen && R0J.kagiPrevOpen < R0J.Open){R0J.kagiTrend=-1;}if(j1J < R0J.DT){G0J.push(R0J);}b0J=N0J;x1J.currentQuote={Close:N0J.Close};}return G0J;};R7J.calculateLineBreak=function(t1J,y1J,g1J,l1J){var K94=M211;var e1J,J1J,d1J,U1J,n1J,O1J,z1J,r1J,Y1J,f1J,A1J,L1J,c1J,m1J;if(!y1J.length){return y1J;}if(!l1J){l1J=[];}e1J=t1J.layout;J1J=t1J.chart;K94.U5h(12);J1J.defaultChartStyleConfig.priceLines=K94.m5h(2147483647,"3");K94.U5h(13);g1J=parseInt(g1J,K94.a5h(0,"10"));if(isNaN(g1J) || g1J <= 0){g1J=J1J.defaultChartStyleConfig.priceLines;if(e1J.priceLines !== null){e1J.priceLines=null;t1J.changeOccurred("layout");}}else if(g1J > 10){e1J.priceLines=g1J=10;}d1J=l1J.slice(-g1J);U1J=d1J.length;n1J=+"0";a:for(var a1J=0;a1J < y1J.length;a1J++){O1J=y1J[a1J];if(!O1J)continue;n1J+=O1J.Volume;K94.D5h(14);var b6T=K94.m5h(19,18);z1J=d1J[d1J.length - b6T];if(!z1J){z1J={Open:O1J.Open,Close:O1J.Open,High:O1J.Open,Low:O1J.Open};}r1J=z1J.Close;Y1J=z1J.High;f1J=z1J.Low;A1J=z1J.Open;Y1J=Y1J || Y1J === 0?Y1J:r1J;f1J=f1J || f1J === 0?f1J:r1J;A1J=A1J || A1J === 0?A1J:r1J;L1J={DT:O1J.DT,displayDate:O1J.displayDate,Date:O1J.Date,Close:O1J.Close,Volume:n1J,iqPrevClose:r1J};J1J.currentQuote={Close:O1J.Close};if(O1J.Close > r1J && z1J.Close > A1J){;}else if(O1J.Close < r1J && z1J.Close < A1J){;}else if(O1J.Close > Y1J){for(c1J=2;c1J <= g1J;c1J++){m1J=d1J[d1J.length - c1J];if(m1J && O1J.Close <= m1J.High){continue a;}}}else if(O1J.Close < f1J){for(c1J=2;c1J <= g1J;c1J++){m1J=d1J[d1J.length - c1J];if(m1J && O1J.Close >= m1J.Low){continue a;}}}else continue;if(O1J.Close < z1J.Close){L1J.Open=Math.min(A1J,r1J);}else {L1J.Open=Math.max(A1J,r1J);}L1J.Low=Math.min(L1J.Open,L1J.Close);L1J.High=Math.max(L1J.Open,L1J.Close);for(var F1J in O1J){if(!L1J[F1J] && L1J[F1J] !== 0){L1J[F1J]=O1J[F1J];}}d1J.push(L1J);n1J=0;}return d1J.slice(U1J);};R7J.getMaxRenkoBarsPerRecord=function(w1J){return 200;};R7J.calculateRenkoBars=function(B1J,S1J,M1J,i1J,p1J){var t94=M211;var C1J,v1J,G1J,X1J,x9J,K1J,V1J,T9J,k9J,W1J,u9J,H1J,P1J,s1J,Q1J,b1J,Z1J,R1J,N1J,D1J,I1J,q9J,j9J,O9J,L9J,g9J;function o9J(d9J){t94.H65();return d9J > 0.001?Number(d9J.toFixed("4" ^ 0)):d9J;}if(!S1J.length){return [];}if(!i1J){i1J=[];}C1J=B1J.layout;v1J=B1J.chart;G1J=M1J;X1J=v1J.state.aggregation;if(!X1J){X1J=v1J.state.aggregation={};}x9J=Math.min(300,S1J.length);if(!X1J.minMax){X1J.minMax=B1J.determineMinMax(S1J.slice(S1J.length - x9J),["Close","High","Low"]);}t94.D5h(15);var R6T=t94.a5h(91,14,10,5);K1J=X1J.minMax[R6T] - X1J.minMax[0];function h1J(c9J,Y9J){var f9J;c9J=Number(c9J.toFixed(8));t94.l65();Y9J=Number(Y9J.toFixed(8));f9J={DT:Q1J.DT,displayDate:Q1J.displayDate,Date:Q1J.Date,Open:c9J,Close:Y9J,High:Math.max(c9J,Y9J),Low:Math.min(c9J,Y9J),Volume:+"0",iqPrevClose:c9J != Y9J?c9J:null};for(var m9J in Q1J){if(!f9J[m9J] && f9J[m9J] !== ("0" | 0)){f9J[m9J]=Q1J[m9J];}}H1J.push(f9J);}V1J=B1J.panels[v1J.name].height;if(!V1J){return [];}T9J=i1J.length > 0;t94.U5h(16);k9J=o9J(t94.m5h(V1J,K1J,30));W1J=R7J.getMaxRenkoBarsPerRecord(v1J.symbolObject);if(p1J){u9J=S1J.reduce((r9J,A9J)=>{var z9J;z9J=Math.abs(A9J.Close - A9J.iqPrevClose);return z9J > r9J?z9J:r9J;},0);t94.U5h(7);X1J.minAutoRenko=o9J(t94.m5h(u9J,W1J));}v1J.defaultChartStyleConfig.renko=X1J.minAutoRenko || k9J;if(M1J === null || isNaN(M1J) || M1J <= 0){M1J=v1J.defaultChartStyleConfig.renko;if(C1J.renko !== null){C1J.renko=null;B1J.changeOccurred("layout");}}else {t94.U5h(7);M1J=Math.max(M1J,t94.a5h(K1J,V1J));if(C1J.renko !== M1J){C1J.renko=M1J;B1J.changeOccurred("layout");}}H1J=[];P1J=null;s1J=null;Q1J=null;if(i1J.length){t94.U5h(17);var e6T=t94.m5h(12,10,9,47,8);b1J=i1J[i1J.length - e6T];P1J=b1J.Low - M1J;s1J=b1J.High + M1J;}for(var E1J=0;E1J < S1J.length;E1J++){Z1J=S1J[E1J];if(!Z1J)continue;if(!P1J && !s1J){R1J=Z1J.Open || Z1J.Open === 0?Z1J.Open:Z1J.Close;N1J=Math.floor(R1J / M1J) * M1J;D1J=isNaN(N1J)?R1J:N1J;t94.U5h(5);P1J=t94.m5h(D1J,M1J);t94.D5h(1);s1J=t94.a5h(M1J,D1J);}t94.D5h(18);I1J=t94.m5h(M1J,W1J);q9J=!C1J.renko;j9J=P1J - Z1J.Close;O9J=Z1J.Close - s1J;L9J=j9J > I1J || O9J > I1J;g9J=q9J && L9J && !p1J && !T9J;if(g9J){return R7J.calculateRenkoBars(B1J,S1J,G1J,i1J,!"");}while(! ![]){if(!Q1J){Q1J=Z1J;}if(Z1J.Close <= P1J){t94.D5h(1);h1J(t94.m5h(M1J,P1J),P1J);t94.D5h(19);s1J=t94.a5h(P1J,1,"2",M1J);P1J-=M1J;Q1J=null;}else if(Z1J.Close >= s1J){t94.D5h(5);h1J(t94.m5h(s1J,M1J),s1J);t94.U5h(20);P1J=t94.a5h(s1J,M1J,2);s1J+=M1J;Q1J=null;}else break;}v1J.currentQuote=Z1J;}if(P1J < S1J[S1J.length - 1].Close && P1J + M1J > S1J[S1J.length - 1].Close){t94.U5h(1);h1J(t94.m5h(M1J,P1J),S1J[S1J.length - 1].Close);}else if(s1J > S1J[S1J.length - 1].Close && s1J - M1J < S1J[S1J.length - 1].Close){t94.U5h(5);h1J(t94.m5h(s1J,M1J),S1J[S1J.length - 1].Close);}return H1J;};R7J.calculateRangeBars=function(Q9J,t9J,y9J,B9J){var e94=M211;var w2Y,v9J,X9J,P9J,W9J,V9J,i9J,e4Y,z4Y,Y4Y,b7Y,R7Y,e7Y,h9J,F9J,l9J,U9J,C9J,w9J,e9J,Z9J,M9J,J9J,n9J,a9J,K9J,b9J;w2Y="Lo";function E9J(){e94.U5h(1);l9J=e94.a5h(y9J,F9J);e94.U5h(5);U9J=e94.a5h(F9J,y9J);C9J=F9J;}function s9J(p9J,I9J){var c2Y;while(1){c2Y="undefin";c2Y+="ed";if(!w9J){w9J=p9J;}if(F9J < I9J){F9J=Math.min(I9J,l9J);e94.U5h(5);U9J=Math.max(U9J,e94.m5h(F9J,y9J));if(I9J < l9J)break;}else if(F9J >= I9J){F9J=Math.max(I9J,U9J);e94.D5h(1);l9J=Math.min(l9J,e94.a5h(y9J,F9J));if(I9J > U9J)break;}if(typeof F9J == c2Y){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}H9J(F9J);w9J=null;E9J();}}w2Y+="w";if(!t9J.length){return t9J;}if(!B9J){B9J=[];}v9J=Q9J.layout;X9J=Q9J.chart;P9J=X9J.state.aggregation;if(!P9J){P9J=X9J.state.aggregation={};}W9J=Math.min(300,t9J.length);if(!P9J.minMax){P9J.minMax=Q9J.determineMinMax(t9J.slice(t9J.length - W9J),["Close","High",w2Y]);}e94.D5h(5);var z6T=e94.a5h(3,2);V9J=P9J.minMax[z6T] - P9J.minMax[0];i9J=Q9J.panels[X9J.name].height;if(!i9J){return [];}function H9J(D9J){var R9J;R9J={DT:w9J.DT,displayDate:w9J.displayDate,Date:w9J.Date,Open:Number(C9J.toFixed(8)),Close:Number(D9J.toFixed(8)),High:Number(l9J.toFixed(8)),Low:Number(U9J.toFixed("8" ^ 0)),Volume:0};R9J.iqPrevClose=R9J.Open;e94.H65();for(var N9J in w9J){if(!R9J[N9J] && R9J[N9J] !== 0){R9J[N9J]=w9J[N9J];}}h9J.push(R9J);}e94.D5h(5);var Y6T=e94.a5h(41,11);e94.U5h(21);var F4I=e94.a5h(10006,11,17,60000,7);X9J.defaultChartStyleConfig.range=Math.floor(("10000" & 2147483647) * V9J / (i9J / Y6T)) / F4I;if(y9J === null || isNaN(y9J) || y9J < 0){e94.U5h(18);e4Y=-e94.m5h("356792257",1);z4Y=93632795;Y4Y=2;for(var I7Y=1;e94.a4Y(I7Y.toString(),I7Y.toString().length,94852) !== e4Y;I7Y++){y9J=X9J.defaultChartStyleConfig.range;Y4Y+=2;}if(e94.a4Y(Y4Y.toString(),Y4Y.toString().length,78713) !== z4Y){y9J=X9J.defaultChartStyleConfig.range;}if(v9J.range !== null){b7Y=-739835002;R7Y=+"211158228";e7Y=2;for(var Y7Y=1;e94.C4Y(Y7Y.toString(),Y7Y.toString().length,33429) !== b7Y;Y7Y++){v9J.range=null;e7Y+=2;}if(e94.C4Y(e7Y.toString(),e7Y.toString().length,72633) !== R7Y){v9J.range=1;}Q9J.changeOccurred("layout");}}else {e94.U5h(7);y9J=Math.max(y9J,e94.a5h(V9J,i9J));if(v9J.range !== y9J){v9J.range=y9J;Q9J.changeOccurred("layout");}}h9J=[];F9J=null;l9J=null;U9J=null;C9J=null;w9J=null;for(var S9J=0;S9J < t9J.length;S9J++){e9J=t9J[S9J];if(!e9J)continue;e94.U5h(5);Z9J=t9J[e94.a5h(S9J,1)];if(!S9J){if(!Z9J){Z9J=B9J[B9J.length - ("1" & 2147483647)];}if(Z9J){F9J=Z9J.Close;if(F9J || F9J === 0){E9J();}}}if(!Z9J)continue;M9J=e9J.Close;J9J=e9J.Open;n9J=e9J.High;a9J=e9J.Low;if(!M9J && M9J !== ("0" & 2147483647))continue;J9J=J9J || J9J === 0?J9J:M9J;n9J=n9J || n9J === 0?n9J:M9J;a9J=a9J || a9J === +"0"?a9J:M9J;if(!F9J && F9J !== 0){K9J=Math.floor(J9J / y9J) * y9J;F9J=isNaN(K9J)?J9J:K9J;E9J();s9J(Z9J,J9J);}if(S9J){s9J(e9J,J9J);}if(n9J - J9J < J9J - a9J){if(n9J){s9J(e9J,n9J);}if(a9J){s9J(e9J,a9J);}}else {if(a9J){s9J(e9J,a9J);}if(n9J){s9J(e9J,n9J);}}s9J(e9J,M9J);if(S9J == t9J.length - 1 && M9J != C9J){b9J=l9J;e94.D5h(1);l9J=e94.a5h(y9J,U9J);e94.D5h(5);U9J=e94.m5h(b9J,y9J);H9J(M9J);}}return h9J;};R7J.calculatePointFigure=function(m8J,F8J,e8J,J8J){var l94=M211;var j8J,g8J,n8J,G9J,u8J,l2Y,d8J,Y8J,f8J,A8J,q8J,k8J,O8J,x8J,L8J,c8J,T8J,o8J,z8J,r8J;if(!F8J.length){return F8J;}if(!J8J){J8J=[];}j8J=m8J.layout;g8J=m8J.chart;n8J=g8J.state.aggregation;function t8J(M8J,w8J){for(var U8J in M8J){if(!w8J[U8J] && w8J[U8J] !== 0){w8J[U8J]=M8J[U8J];}}return w8J;}if(!n8J){n8J=g8J.state.aggregation={};}g8J.defaultChartStyleConfig.box=1;g8J.defaultChartStyleConfig.reversal=3;function l8J(X8J,v8J,B8J,i8J,C8J,V8J,h8J,E8J,K8J){l94.H65();return {DT:X8J.DT,Date:X8J.Date,pfOpen:E8J,pfClose:K8J,Open:v8J,Close:C8J,High:B8J,Low:i8J,Volume:V8J,iqPrevClose:h8J};}if(!e8J){e8J={};}G9J=e8J.box;if(!G9J){if(j8J.pandf){if(j8J.pandf.box !== null){j8J.pandf.box=null;m8J.changeOccurred("layout");}}G9J=g8J.defaultChartStyleConfig.box;u8J=F8J[F8J.length - 1].Close;if(u8J){if(u8J < "0.25" - 0){G9J=0.0625;}else if(u8J < 1){G9J=0.125;}else if(u8J < 5){l94.D5h(5);G9J=l94.a5h("0.25",0);}else if(u8J < 20){G9J=+"0.5";}else if(u8J < 100){G9J=1;}else if(u8J < +"200"){G9J=+"2";}else if(u8J < 500){G9J=4;}else if(u8J < 1000){G9J=5;}else if(u8J < 25000){G9J=50;}else {G9J=500;}}if(!R7J.ChartEngine.isDailyInterval(j8J.interval)){G9J/=10;}if(R7J.Market.Symbology.isForexSymbol(g8J.symbol)){if(u8J){if(u8J < 1){G9J=0.001;}else if(u8J < 2){G9J=0.002;}else if(u8J < 50){G9J=0.02;}else if(u8J < ("200" | 128)){G9J=+"0.2";}}if(R7J.ChartEngine.isDailyInterval(j8J.interval)){G9J*=10;}}g8J.defaultChartStyleConfig.box=G9J;}G9J=parseFloat(G9J);if(isNaN(G9J) || G9J <= 0){if(j8J.pandf){if(j8J.pandf.box !== null){l2Y="layo";l2Y+="u";l2Y+="t";j8J.pandf.box=null;m8J.changeOccurred(l2Y);}}g8J.defaultChartStyleConfig.box=G9J=1;}d8J=Math.ceil(parseFloat(e8J.reversal));if(d8J > 0 && d8J > e8J.reversal){j8J.pandf.reversal=d8J;m8J.changeOccurred("layout");}else if(isNaN(d8J) || d8J <= 0){if(j8J.pandf){if(j8J.pandf.reversal !== null){j8J.pandf.reversal=null;m8J.changeOccurred("layout");}}d8J=g8J.defaultChartStyleConfig.reversal;}n8J.box=G9J;d8J*=G9J;Y8J=0.00000001;function y8J(S8J,P8J,s8J,Z8J,Q8J){S8J.High=Math.max(P8J,S8J.High);S8J.Low=Math.min(s8J,S8J.Low);S8J.Close=Z8J;S8J.Volume+=Q8J;}f8J=(G9J.toString() + ".").split(".")[1].length;A8J=[];q8J=0;for(var a8J=0;a8J < F8J.length;a8J++){O8J=F8J[a8J];if(!O8J)continue;q8J+=O8J.Volume;L8J=O8J.Close;c8J=O8J.Open;T8J=O8J.High;o8J=O8J.Low;c8J=c8J || c8J === 0?c8J:L8J;T8J=T8J || T8J === 0?T8J:L8J;o8J=o8J || o8J === 0?o8J:L8J;if(!A8J.length && !J8J.length){k8J=t8J(O8J,l8J(O8J,c8J,T8J,o8J,L8J,q8J,T8J + G9J,Number((Math.ceil(o8J / G9J - Y8J) * G9J).toFixed(f8J)),Number((Math.floor(T8J / G9J + Y8J) * G9J).toFixed(f8J))));k8J.pfTrend=119.76 !== (+"1780",8400)?(2084,9070) > (8640,1440)?488.59 !== 985.23?"X":"520.92" * 1:("k",0xb2e):"f";if(k8J.pfOpen == k8J.pfClose){k8J.pfStepBack="-";}A8J.push(k8J);l94.U5h(22);q8J=l94.a5h("0",1782099040);continue;}l94.U5h(3);var I4I=l94.a5h(4,3,0);x8J=A8J[A8J.length - I4I];if(!x8J){x8J=R7J.clone(J8J[J8J.length - 1]);}if(x8J.pfTrend == "O"){if(o8J <= x8J.pfClose - G9J){x8J.pfClose=Number((Math.ceil(o8J / G9J - Y8J) * G9J).toFixed(f8J));if(x8J.pfStepBack == (8110 != 5921?"O":"1.94e+3" - 0)){x8J.pfStepBack=null;}y8J(x8J,T8J,o8J,L8J,q8J);}else if(T8J >= x8J.pfClose + d8J){z8J=x8J.pfClose + G9J;r8J=Number((Math.floor(T8J / G9J + Y8J) * G9J).toFixed(f8J));k8J=l8J(O8J,c8J,T8J,o8J,L8J,q8J,x8J.pfClose,z8J,r8J);if(z8J == r8J){k8J.pfStepBack=+"4738" < 1290?(![],+"7.81e+3"):9645 != (+"7358",850.51)?"X":974.60;}if(x8J.pfStepBack == "O"){x8J.pfOpen=z8J;x8J.pfClose=r8J;x8J.pfTrend="X";y8J(x8J,T8J,o8J,L8J,q8J);}else {k8J=t8J(O8J,k8J);k8J.pfTrend=(7737,12.29) == +"5900"?5080 !== (+"4730",+"9660")?3538 >= 944.94?"a":469.95:(! !{},1.71e+3):"X";A8J.push(k8J);}}else {y8J(x8J,T8J,o8J,L8J,q8J);}q8J=0;}else if(x8J.pfTrend == (5990 > (7180,322.66)?"X":"c")){if(T8J >= x8J.pfClose + G9J){x8J.pfClose=Number((Math.floor(T8J / G9J + Y8J) * G9J).toFixed(f8J));if(x8J.pfStepBack == ((8233,3710) > 4680?+"0x43e":9246 != (3163,"5214" * 1)?"X":5260 > 464.88?!0:! ![]) || x8J.pfStepBack == "-"){x8J.pfStepBack=null;}y8J(x8J,T8J,o8J,L8J,q8J);}else if(o8J <= x8J.pfClose - d8J){z8J=x8J.pfClose - G9J;r8J=Number((Math.ceil(o8J / G9J - Y8J) * G9J).toFixed(f8J));k8J=l8J(O8J,c8J,T8J,o8J,L8J,q8J,x8J.pfClose,z8J,r8J);if(z8J == r8J){k8J.pfStepBack="O";}if(x8J.pfStepBack == ((9204,4099) > (892.29,6520)?1974 >= 233.21?(!0,1.14e+3):(+"582.40",! ![]):"X") || x8J.pfStepBack == (("285" | 1,+"7540") === 261?+"3.88e+3":"-")){x8J.pfOpen=z8J;x8J.pfClose=r8J;x8J.pfTrend=2190 <= (759,5610)?8510 !== (267.45,7801)?"O":(!"",7.18e+3):756.58;y8J(x8J,T8J,o8J,L8J,q8J);if(z8J != r8J && x8J.pfStepBack == "-"){x8J.pfStepBack=null;}}else {k8J=t8J(O8J,k8J);k8J.pfTrend=9570 !== "330.35" - 0?(4299,5770) < "3388" << 990788256?("p","J"):"O":(!{},7.78e+2);A8J.push(k8J);}}else {y8J(x8J,T8J,o8J,L8J,q8J);}q8J=0;}}return A8J;};};U2J=b8J=>{var U94=M211;var g2Y,W8J,H8J,G5Y,m5Y,q5Y,N5Y,g5Y,a5Y,E5Y,Y0Y,D0Y,U0Y,H0Y,L0Y,x0Y,r0Y,H2Y,L2Y,v2Y,i2Y,h2Y,B2Y,G2Y;g2Y="und";g2Y+="ef";g2Y+="ine";g2Y+="d";W8J=typeof _CIQ !== g2Y?_CIQ:b8J.CIQ;H8J=typeof _timezoneJS !== "undefined"?_timezoneJS:b8J.timezoneJS;if(!W8J.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {G5Y="cq-wave-paramet";G5Y+="e";G5Y+="rs";m5Y="b";m5Y+="r[";m5Y+="cq-wave-parameter";m5Y+="s]";q5Y="li";q5Y+="n";q5Y+="eColo";q5Y+="r";N5Y="li";N5Y+="ne";N5Y+="Widt";N5Y+="h";g5Y="enc";g5Y+="lo";g5Y+="sed";a5Y="l";a5Y+="ine";a5Y+="W";a5Y+="idth";E5Y="fi";E5Y+="l";E5Y+="lColor";Y0Y="f";Y0Y+="o";Y0Y+="n";Y0Y+="t";D0Y="cq-cvp-co";D0Y+="ntroller[cq-cvp-header=\"";D0Y+="2\"]";U0Y="line";U0Y+="Wi";U0Y+="dth";U0Y+="3";H0Y="pat";H0Y+="te";H0Y+="rn2";L0Y="a";L0Y+="c";L0Y+="t";L0Y+="ive1";x0Y="p";x0Y+="atte";x0Y+="r";x0Y+="n";r0Y="pa";r0Y+="tte";r0Y+="r";r0Y+="n";H2Y="p";H2Y+="l";L2Y="l";L2Y+="w";v2Y="c";v2Y+="ol";v2Y+="o";v2Y+="r";i2Y="line";i2Y+="Wid";i2Y+="t";i2Y+="h";h2Y="c";h2Y+="ol";h2Y+="o";h2Y+="r";B2Y="fil";B2Y+="l";B2Y+="C";B2Y+="olor";G2Y="patt";G2Y+="er";G2Y+="n";W8J.Drawing.ray=function(){var N2Y;N2Y="r";U94.l65();N2Y+="a";N2Y+="y";this.name=N2Y;};W8J.inheritsFrom(W8J.Drawing.ray,W8J.Drawing.line);W8J.Drawing.ray.prototype.calculateOuterSet=function(D8J){var R8J,N8J;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || W8J.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}R8J={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[+"1"]};N8J=R8J.x1 + +"1000";if(R8J.x0 > R8J.x1){U94.D5h(5);var o4I=U94.m5h(1010,10);N8J=R8J.x1 - o4I;}this.v0B=this.v0;this.v1B=W8J.yIntersection(R8J,N8J);this.d0B=this.d0;U94.l65();this.d1B=this.stx.dateFromTick(N8J,D8J.chart);};W8J.Drawing.ray.prototype.adjust=function(){var I8J;I8J=this.stx.panels[this.panelName];if(!I8J){return;}this.setPoint(0,this.d0,this.v0,I8J.chart);U94.D5h(23);this.setPoint(U94.a5h(1,"1"),this.d1,this.v1,I8J.chart);U94.l65();if(W8J.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,I8J.chart);}};W8J.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!"1";this.maxSegments=null;};W8J.inheritsFrom(W8J.Drawing.continuous,W8J.Drawing.segment);W8J.Drawing.continuous.prototype.click=function(u5J,G8J,x5J){var p8J,o5J,T5J,k5J;p8J=this.stx.panels[this.panelName];if(!p8J){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,G8J,x5J,p8J.chart);this.penDown=!0;return ! !0;}if(this.accidentalClick(G8J,x5J)){this.stx.undo();return ! !1;}this.setPoint(1,G8J,x5J,p8J.chart);o5J=W8J.Drawing.segment;T5J=new o5J();k5J=this.serialize(this.stx);T5J.reconstruct(this.stx,k5J);this.stx.addDrawing(T5J);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! ![];}this.setPoint(0,G8J,x5J,p8J.chart);return ! !0;};W8J.Drawing.ellipse=function(){U94.H65();this.name="ellipse";};W8J.inheritsFrom(W8J.Drawing.ellipse,W8J.Drawing.BaseTwoPoint);W8J.Drawing.ellipse.prototype.render=function(q5J){var q2Y,L5J,y5J,r5J,A5J,c5J,g5J,Y5J,f5J,m5J,F5J,d5J,j5J,O5J,z5J,e5J;q2Y="au";q2Y+="to";L5J=this.stx.panels[this.panelName];if(!L5J){return;}y5J=this.stx.pixelFromTick(this.p0[+"0"],L5J.chart);r5J=this.stx.pixelFromTick(this.p1[0],L5J.chart);A5J=this.stx.pixelFromValueAdjusted(L5J,this.p0[0],this.p0[1]);c5J=this.stx.pixelFromValueAdjusted(L5J,this.p1[0],this.p1[1]);U94.D5h(24);g5J=U94.m5h(r5J,y5J,y5J);Y5J=r5J;f5J=A5J;m5J=c5J;U94.U5h(24);F5J=U94.m5h(c5J,A5J,A5J);U94.U5h(25);d5J=U94.m5h(F5J,m5J,6);j5J=this.lineWidth;if(!j5J){j5J=1.1;}O5J=this.color;if(O5J == q2Y || W8J.isTransparent(O5J)){O5J=this.stx.defaultColor;}if(this.highlighted){O5J=this.stx.getCanvasColor("stx_highlight_vector");if(j5J == +"0.1"){U94.U5h(18);j5J=U94.a5h("1.1",1);}}z5J=this.fillColor;q5J.beginPath();q5J.moveTo(g5J,f5J);U94.D5h(1);q5J.bezierCurveTo(g5J,U94.m5h(d5J,m5J),Y5J,U94.m5h(d5J,m5J),Y5J,f5J);U94.D5h(5);q5J.bezierCurveTo(Y5J,U94.m5h(F5J,d5J),g5J,U94.m5h(F5J,d5J),g5J,f5J);if(z5J && !W8J.isTransparent(z5J) && z5J != "auto"){q5J.fillStyle=z5J;q5J.globalAlpha=0.2;q5J.fill();q5J.globalAlpha=1;}if(O5J && this.pattern != "none"){q5J.strokeStyle=O5J;q5J.lineWidth=j5J;if(q5J.setLineDash){q5J.setLineDash(W8J.borderPatternToArray(j5J,this.pattern));q5J.lineDashOffset=+"0";;}q5J.stroke();}q5J.closePath();if(this.highlighted){e5J=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(q5J,r5J,c5J,e5J);}};W8J.Drawing.ellipse.prototype.intersected=function(U5J,w5J,J5J){var m2Y,n5J,a5J,t5J,l5J;m2Y="mov";m2Y+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],J5J)){this.highlighted="p1";return {action:"drag",point:"p1"};}U94.H65();n5J=this.p0[0] - (this.p1["0" ^ 0] - this.p0[0]);U94.U5h(22);a5J=this.p1[U94.m5h("0",2142602656)];t5J=this.p1[1];U94.U5h(26);var k4I=U94.m5h(8,19,7,0,5);U94.U5h(27);var Z4I=U94.m5h(6,7,16,0,16);U94.U5h(28);var j4I=U94.m5h(12,0,16,18,14);l5J=this.p0[k4I] - (this.p1[Z4I] - this.p0["1" | j4I]);if(J5J.x0 > Math.max(n5J,a5J) || J5J.x1 < Math.min(n5J,a5J)){return ![];}if(J5J.y1 > Math.max(l5J,t5J) || J5J.y0 < Math.min(l5J,t5J)){return ![];}this.highlighted=! ![];return {action:m2Y,p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:U5J,value:w5J};};W8J.Drawing.ellipse.prototype.configs=["color","fillColor","lineWidth",G2Y];W8J.Drawing.ellipse.prototype.reconstruct=function(S5J,M5J){this.stx=S5J;this.color=M5J.col;this.fillColor=M5J.fc;this.panelName=M5J.pnl;this.pattern=M5J.ptrn;this.lineWidth=M5J.lw;this.d0=M5J.d0;this.d1=M5J.d1;this.tzo0=M5J.tzo0;this.tzo1=M5J.tzo1;this.v0=M5J.v0;this.v1=M5J.v1;this.adjust();};W8J.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};W8J.Drawing.channel=function(){var J2Y;J2Y="chan";J2Y+="n";J2Y+="e";J2Y+="l";this.name=J2Y;this.dragToDraw=![];this.p2=null;};W8J.inheritsFrom(W8J.Drawing.channel,W8J.Drawing.segment);W8J.Drawing.channel.prototype.configs=["color",B2Y,"lineWidth","pattern"];W8J.Drawing.channel.prototype.move=function(Q5J,P5J,s5J){U94.H65();var Z5J;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[P5J,s5J];}else {U94.D5h(14);var E4I=U94.a5h(18,17);U94.D5h(29);var a4I=U94.m5h(19,322,17);Z5J=s5J - (this.p1[E4I] - this.p0[a4I]) / (this.p1[0] - this.p0[0]) * (P5J - this.p1[0]);U94.U5h(22);this.p2=[this.p1[U94.m5h("0",905212832)],Z5J];}this.render(Q5J);};W8J.Drawing.channel.prototype.click=function(i5J,v5J,B5J){var X5J;X5J=this.stx.panels[this.panelName];if(!X5J){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",v5J,B5J,X5J.chart);this.penDown=!"";return !{};}if(this.accidentalClick(v5J,B5J)){this.stx.undo();return ! ![];}U94.H65();if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],X5J.chart);this.penDown=!{};return ! ![];}this.setPoint(1,v5J,B5J,X5J.chart);if(this.p0[0] == this.p1[+"0"]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return ![];};W8J.Drawing.channel.prototype.boxIntersection=function(K5J,b5J,h5J){var C5J,V5J,E5J,W5J,H5J;C5J=this.p0;V5J=this.p1;E5J=this.p2;if(!C5J || !V5J || !E5J){return ![];}if(h5J.x0 > Math.max(C5J[0],V5J[0]) || h5J.x1 < Math.min(C5J[0],V5J["0" * 1])){return !1;}U94.U5h(30);var C4I=U94.m5h(2,12,12);U94.D5h(5);var P4I=U94.a5h(12,11);U94.D5h(31);var d4I=U94.m5h(133,0,9,3,15);U94.H65();W5J=(V5J[0] - C5J[0]) * ((E5J[C4I] < C5J["1" - 0]?h5J.y1:h5J.y0) - C5J[P4I]) - (V5J[+"1"] - C5J[d4I]) * (K5J - C5J[0]);U94.U5h(32);var O4I=U94.m5h(18,1010760948,15,89957724374,6);U94.D5h(33);var V4I=U94.m5h(245,6,17,14);U94.U5h(34);var w4I=U94.m5h(53,18,4,18);U94.D5h(35);var c4I=U94.a5h(21,12,8);U94.U5h(36);var l4I=U94.a5h(8,7,1,57,0);U94.D5h(0);var g4I=U94.m5h(18,0,19);U94.D5h(37);var N4I=U94.a5h(14,6,21);U94.U5h(1);var q4I=U94.a5h(1,0);H5J=(E5J["0" << O4I] - C5J[+"0"]) * ((E5J[V4I] > C5J[w4I]?h5J.y1:h5J.y0) - (C5J[c4I] + E5J[l4I] - V5J[g4I])) - (V5J[N4I] - C5J[q4I]) * (K5J - C5J[0]);U94.U5h(38);return U94.m5h("0",W5J,H5J);};W8J.Drawing.channel.prototype.intersected=function(D5J,I5J,p5J){var N5J,s2Y;if(!this.p0 || !this.p1 || !this.p2){return null;}N5J={0:this.p0,1:this.p1,2:this.p2};U94.l65();for(var R5J in N5J){if(this.pointIntersection(N5J[R5J][0],N5J[R5J][1],p5J)){s2Y="dr";s2Y+="ag";U94.D5h(1);this.highlighted=U94.a5h(R5J,5830 !== ("405" | 17,41)?+"2530" == (65.15,198.72)?! !0:"p":(652.93,"S"));return {action:s2Y,point:"p" + R5J};}}if(this.boxIntersection(D5J,I5J,p5J)){this.highlighted=! ![];return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),p2:W8J.clone(this.p2),tick:D5J,value:I5J};}return null;};W8J.Drawing.channel.prototype.render=function(G5J){var x4J,k4J,T4J,u4J,q4J,o4J,g4J,L4J,j4J,O4J,d4J,z4J,r4J;x4J=this.stx.panels[this.panelName];if(!x4J){return;}k4J=this.stx.pixelFromTick(this.p0["0" & 2147483647],x4J.chart);T4J=this.stx.pixelFromTick(this.p1[0],x4J.chart);u4J=this.stx.pixelFromValueAdjusted(x4J,this.p0[0],this.p0["1" * 1]);q4J=this.stx.pixelFromValueAdjusted(x4J,this.p1[0],this.p1[1]);o4J=null;U94.H65();if(this.p2){o4J=this.stx.pixelFromValueAdjusted(x4J,this.p2[0],this.p2[1]);}g4J=this.lineWidth;L4J=this.getLineColor();j4J=this.fillColor;if(this.p2 && j4J && !W8J.isTransparent(j4J) && j4J != "auto"){G5J.beginPath();G5J.moveTo(k4J,u4J);G5J.lineTo(T4J,q4J);G5J.lineTo(T4J,o4J);U94.D5h(39);G5J.lineTo(k4J,U94.m5h(o4J,u4J,q4J));G5J.closePath();G5J.globalAlpha=0.2;G5J.fillStyle=j4J;G5J.fill();G5J.globalAlpha=1;}O4J={pattern:this.pattern,lineWidth:g4J};if((this.penDown || this.highlighted) && this.pattern == "none"){O4J.pattern="dotted";}this.stx.plotLine(k4J,T4J,u4J,q4J,L4J,"segment",G5J,x4J,O4J);if(this.p2){U94.D5h(39);this.stx.plotLine(k4J,T4J,U94.m5h(o4J,u4J,q4J),o4J,L4J,"segment",G5J,x4J,O4J);}if(this.highlighted){d4J=this.highlighted == "p0"?! !{}:! !"";z4J=this.highlighted == "p1"?! !1:!1;r4J=this.highlighted == "p2"?! ![]:!{};this.littleCircle(G5J,k4J,u4J,d4J);this.littleCircle(G5J,T4J,q4J,z4J);this.littleCircle(G5J,T4J,o4J,r4J);}};W8J.Drawing.channel.prototype.reposition=function(m4J,A4J,F4J,y4J){var c4J,Y4J,f4J,R3Y,e3Y,z3Y;if(!A4J){return;}c4J=this.stx.panels[this.panelName];Y4J=A4J.tick - F4J;f4J=A4J.value - y4J;if(A4J.action == "move"){this.setPoint(0,A4J.p0[0] - Y4J,A4J.p0[1] - f4J,c4J.chart);this.setPoint(1,A4J.p1[0] - Y4J,A4J.p1[1] - f4J,c4J.chart);R3Y=+"2010252358";e3Y=-1883208578;z3Y=2;for(var F9Y=1;U94.a4Y(F9Y.toString(),F9Y.toString().length,94718) !== R3Y;F9Y++){this.setPoint(2,A4J.p2[0] - Y4J,A4J.p2[1] - f4J,c4J.chart);z3Y+=2;}if(U94.C4Y(z3Y.toString(),z3Y.toString().length,68723) !== e3Y){U94.U5h(40);this.setPoint(U94.m5h("3",1761260544),A4J.p2[5] / Y4J,A4J.p2[2] % f4J,c4J.chart);}this.render(m4J);}else if(A4J.action == "drag"){this[A4J.point]=[F4J,y4J];this.setPoint(0,this.p0[0],this.p0[1],c4J.chart);this.setPoint(1,this.p1[0],this.p1[1],c4J.chart);this.setPoint(2,this.p2[0],this.p2[1],c4J.chart);this.render(m4J);}};W8J.Drawing.channel.prototype.adjust=function(){var e4J;e4J=this.stx.panels[this.panelName];if(!e4J){return;}this.setPoint(0,this.d0,this.v0,e4J.chart);this.setPoint(+"1",this.d1,this.v1,e4J.chart);this.setPoint(2,this.d1,this.v2,e4J.chart);;};W8J.Drawing.channel.prototype.reconstruct=function(n4J,J4J){this.stx=n4J;this.color=J4J.col;this.fillColor=J4J.fc;this.panelName=J4J.pnl;this.pattern=J4J.ptrn;this.lineWidth=J4J.lw;this.d0=J4J.d0;this.d1=J4J.d1;this.tzo0=J4J.tzo0;this.tzo1=J4J.tzo1;this.v0=J4J.v0;this.v1=J4J.v1;this.v2=J4J.v2;this.adjust();};W8J.Drawing.channel.prototype.serialize=function(){U94.l65();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};W8J.Drawing.pitchfork=function(){var r2Y;r2Y="p";U94.l65();r2Y+="itchfork";this.name=r2Y;this.dragToDraw=!{};this.p2=null;};W8J.inheritsFrom(W8J.Drawing.pitchfork,W8J.Drawing.channel);W8J.Drawing.pitchfork.prototype.configs=[h2Y,"lineWidth","pattern"];W8J.Drawing.pitchfork.prototype.move=function(l4J,a4J,t4J){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[a4J,t4J];}else {this.p2=[a4J,t4J];}this.render(l4J);};W8J.Drawing.pitchfork.prototype.intersected=function(P4J,s4J,Z4J){var M4J,n2Y,S4J,K2Y;if(!this.p0 || !this.p1 || !this.p2){return null;}M4J={0:this.p0,1:this.p1,2:this.p2};for(var w4J in M4J){if(this.pointIntersection(M4J[w4J][0],M4J[w4J][1],Z4J)){n2Y="d";n2Y+="r";n2Y+="a";n2Y+="g";U94.U5h(1);this.highlighted=U94.m5h(w4J,"p");return {action:n2Y,point:"p" + w4J};}}S4J=this.rays;for(var U4J=0;U4J < S4J.length;U4J++){K2Y="r";K2Y+="ay";if(this.lineIntersection(P4J,s4J,Z4J,U4J?K2Y:"segment",S4J[U4J][+"0"],S4J[U4J][1],!0)){this.highlighted=! ![];return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),p2:W8J.clone(this.p2),tick:P4J,value:s4J};}}return null;};W8J.Drawing.pitchfork.prototype.render=function(W4J){var Q4J,X4J,V4J,H4J,v4J,B4J,b4J,i4J,C4J,D4J,I4J,p4J,h4J,R4J,N4J,T4Y,x4Y,L4Y,K4J,G4J,x6M,T6M,o6M;Q4J=this.stx.panels[this.panelName];if(!Q4J){return;}X4J=this.stx;V4J=this.p2;if(!V4J){V4J=this.p1;}H4J=X4J.pixelFromTick(this.p0[0],Q4J.chart);v4J=X4J.pixelFromTick(this.p1[0],Q4J.chart);B4J=X4J.pixelFromTick(V4J[0],Q4J.chart);b4J=X4J.pixelFromValueAdjusted(Q4J,this.p0[0],this.p0["1" ^ 0]);i4J=X4J.pixelFromValueAdjusted(Q4J,this.p1[0],this.p1[1]);C4J=X4J.pixelFromValueAdjusted(Q4J,V4J[0],V4J[1]);D4J=this.lineWidth;I4J=this.getLineColor();p4J={pattern:this.pattern,lineWidth:D4J};h4J=50;U94.U5h(34);R4J=U94.a5h(C4J,2,b4J,i4J);U94.D5h(34);N4J=U94.a5h(B4J,2,H4J,v4J);if(N4J < 0){h4J*=-1;}U94.D5h(7);R4J*=U94.a5h(h4J,N4J);U94.U5h(41);this.rays=[[[v4J,i4J],[B4J,C4J]],[[H4J,b4J],[U94.m5h("2",B4J,v4J),U94.a5h(i4J,2,C4J,U94.D5h(2))]]];if(!(v4J == B4J && i4J == C4J)){T4Y=606415059;x4Y=-1447749781;L4Y=2;for(var U4Y=+"1";U94.a4Y(U4Y.toString(),U4Y.toString().length,96794) !== T4Y;U4Y++){U94.D5h(5);this.rays.push([[v4J,i4J],[U94.a5h(v4J,h4J),U94.m5h(i4J,R4J)]],[[B4J,C4J],[U94.a5h(B4J,h4J),U94.m5h(C4J,R4J)]]);L4Y+=2;}if(U94.C4Y(L4Y.toString(),L4Y.toString().length,73869) !== x4Y){U94.D5h(18);this.rays.push([[v4J,i4J],[U94.a5h(v4J,h4J),U94.a5h(i4J,R4J,U94.D5h(42))]],[[B4J,C4J],[U94.m5h(B4J,h4J,U94.D5h(42)),U94.m5h(R4J,C4J,U94.D5h(1))]]);}}for(var E4J=+"0";E4J < this.rays.length;E4J++){K4J=this.rays[E4J];G4J=E4J?"ray":"segment";X4J.plotLine(K4J[0][0],K4J[+"1"][0],K4J[0][1],K4J[1][1],I4J,G4J,W4J,Q4J,p4J);}if(this.highlighted){x6M=this.highlighted == "p0"?! !1:![];T6M=this.highlighted == "p1"?! !1:![];o6M=this.highlighted == "p2"?!0:![];this.littleCircle(W4J,H4J,b4J,x6M);this.littleCircle(W4J,v4J,i4J,T6M);this.littleCircle(W4J,B4J,C4J,o6M);}};W8J.Drawing.pitchfork.prototype.adjust=function(){var k6M;k6M=this.stx.panels[this.panelName];U94.l65();if(!k6M){return;}this.setPoint(0,this.d0,this.v0,k6M.chart);this.setPoint(1,this.d1,this.v1,k6M.chart);this.setPoint(2,this.d2,this.v2,k6M.chart);};W8J.Drawing.pitchfork.prototype.reconstruct=function(q6M,u6M){this.stx=q6M;this.color=u6M.col;this.panelName=u6M.pnl;this.pattern=u6M.ptrn;this.lineWidth=u6M.lw;U94.H65();this.d0=u6M.d0;this.d1=u6M.d1;this.d2=u6M.d2;this.tzo0=u6M.tzo0;this.tzo1=u6M.tzo1;this.tzo2=u6M.tzo2;this.v0=u6M.v0;this.v1=u6M.v1;this.v2=u6M.v2;this.adjust();};W8J.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};W8J.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=![];this.maxSegments=4;U94.H65();this.shape=null;this.points=[];};W8J.inheritsFrom(W8J.Drawing.gartley,W8J.Drawing.continuous);W8J.Drawing.gartley.prototype.check=function(O6M,j6M){if(!j6M){return ! !{};}if(O6M[0] >= j6M[0] || O6M[1] == j6M[1]){return !1;}U94.l65();if(this.segment == 1){if(O6M[1] < j6M[+"1"]){this.shape=8683 != (130,7267)?"M":(2340,8330) < 9620?(+"4450",648.28) < 3370?(0x4f2,"0xc2c" | 1032):294.33:0x1e61;}else {this.shape=7140 != (8281,6560)?(833.17,186.24) <= ("668.75" - 0,6810)?"W":4.33e+3:(+"0x10e6",293.91);}}else if(this.segment == 2){if(this.shape == (522.88 < (121.36,6890)?"M":(7530,490) == 9130?0x548:(224.88,687) > (345,34.27)?(1.22e+3,"v"):("0x7b1" * 1,"B")) && O6M[+"1"] < j6M[1]){return ![];}else if(this.shape == (76.55 !== "5410" - 0?(6050,594.55) < (313,1653)?"W":(7134,1510) >= (426,3740)?7.42e+3:("j",0x23b3):(8.25e+3,![])) && O6M[1] > j6M[1]){return !{};}else if((j6M[1] - O6M[1]) / (this.points[0][1] - O6M[1]) < 0.618){return ![];}else if((j6M[1] - O6M[1]) / (this.points[0][1] - O6M[1]) >= +"0.786"){return !{};}}else if(this.segment == 3){if(this.shape == ((5780,878.11) <= ("460.91" - 0,702.6)?(7.78e+3,"5.08e+3" | 344):"M") && O6M[1] > j6M[1]){return ! !"";}else if(this.shape == (776.68 >= (3200,+"9280")?156:8950 >= 335?"W":"0x1188" * 1) && O6M[1] < j6M["1" >> 1314710272]){return ![];}else if((j6M[1] - O6M[1]) / (this.points[1][1] - O6M[1]) < 0.618){return !{};}else if((j6M[1] - O6M[1]) / (this.points[+"1"]["1" >> 298435904] - O6M[1]) >= 0.786){return ! !0;}}else if(this.segment == 4){if(this.shape == "M" && (O6M[1] < j6M[1] || j6M[1] < this.points[0][1])){return !{};}else if(this.shape == ((7670,701.36) > 638.8?(4560,758.64) <= 2912?"W":("948" | 288) !== ("709.67" - 0,9797)?"1.46e+3" >> 1370236000:"1.32e+2" >> 1274120448:132.06) && (O6M["1" | 1] > j6M[1] || j6M[1] > this.points[+"0"]["1" ^ 0])){return ! !0;}else if((this.points[+"1"][1] - j6M[1]) / (this.points[1][1] - this.points[2][1]) < +"1.27"){return ![];}else if((this.points["1" | 1][+"1"] - j6M[+"1"]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !1;}}return !0;};W8J.Drawing.gartley.prototype.click=function(z6M,g6M,d6M){var L6M;L6M=this.stx.panels[this.panelName];if(!L6M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,g6M,d6M,L6M.chart);this.pts=[];this.penDown=! ![];this.segment=1;return ! !"";}if(this.accidentalClick(g6M,d6M)){this.penDown=! !{};return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,g6M,d6M,L6M.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[+"0"][1],L6M.chart);this.penDown=![];return ! !{};}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,g6M,d6M,L6M.chart);;}return !{};};W8J.Drawing.gartley.prototype.render=function(A6M){var y2Y,r6M,w6M,e6M,M6M,J6M,f6M,S6M,n6M,y6M,F6M,Y6M,W2Y,a6M,t6M,l6M,U6M;y2Y="dotte";y2Y+="d";r6M=this.stx.panels[this.panelName];if(!r6M){return;}w6M=this.stx.pixelFromTick(this.p0["0" ^ 0],r6M.chart);e6M=this.stx.pixelFromTick(this.p1[0],r6M.chart);M6M=this.stx.pixelFromValueAdjusted(r6M,this.p0["0" - 0],this.p0[1]);J6M=this.stx.pixelFromValueAdjusted(r6M,this.p1[0],this.p1[1]);if(this.segment == +"2"){this.drawDropZone(A6M,0.618 * this.points[0][+"1"] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(A6M,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){U94.U5h(9);var m4I=U94.a5h(5,1,26,3,24);U94.U5h(43);var G4I=U94.a5h(0,4,4);U94.U5h(5);var J4I=U94.a5h(2,1);f6M=1.618 * this.points[m4I]["1" & 2147483647] - 0.618 * this.points[G4I][J4I];if(this.shape == (6168 < 283.22?(! !{},"I"):(7440,3448) !== (5730,2450)?"M":(!{},"229" >> 1113098016))){f6M=Math.max(f6M,this.points[0][1]);}else {f6M=Math.min(f6M,this.points[0][1]);}this.drawDropZone(A6M,f6M,1.27 * this.points[2][1] - +"0.27" * this.points["1" * 1][1],this.p0[0]);}S6M=this.lineWidth;n6M=this.getLineColor();y6M={pattern:this.pattern,lineWidth:S6M};if((this.penDown || this.highlighted) && this.pattern == "none"){y6M.pattern=y2Y;}if(this.segment <= this.maxSegments){this.stx.plotLine(w6M,e6M,M6M,J6M,n6M,this.name,A6M,r6M,y6M);}F6M=this.fillColor;Y6M=[];U94.l65();if(this.points.length){W2Y="a";W2Y+="u";W2Y+="t";W2Y+="o";A6M.beginPath();for(var c6M=1;c6M < this.points.length && c6M <= 4;c6M++){a6M=this.stx.pixelFromTick(this.points[c6M - 1][0],r6M.chart);t6M=this.stx.pixelFromTick(this.points[c6M][0],r6M.chart);l6M=this.stx.pixelFromValueAdjusted(r6M,this.points[c6M - 1][0],this.points[c6M - 1][1]);U6M=this.stx.pixelFromValueAdjusted(r6M,this.points[c6M]["0" << 133430400],this.points[c6M][+"1"]);if(c6M == 1){Y6M.push(a6M,l6M);}Y6M.push(t6M,U6M);this.stx.plotLine(a6M,t6M,l6M,U6M,n6M,this.name,A6M,r6M,y6M);}if(this.points.length == 2 || this.points.length == 4){Y6M.push(e6M,J6M);}if(this.points[+"2"]){Y6M.push(this.stx.pixelFromTick(this.points[2][0],r6M.chart),this.stx.pixelFromValueAdjusted(r6M,this.points[2][0],this.points[2][1]));}if(F6M && F6M != W2Y && !W8J.isTransparent(F6M)){for(var m6M=0;m6M < Y6M.length;m6M+=2){if(m6M === 0){A6M.moveTo(Y6M[0],Y6M[1]);}A6M.lineTo(Y6M[m6M],Y6M[m6M + 1]);}A6M.fillStyle=F6M;A6M.globalAlpha=0.2;A6M.closePath();A6M.fill();A6M.globalAlpha=1;}};};W8J.Drawing.gartley.prototype.lineIntersection=function(Q6M,X6M,v6M,B6M){var P6M,Z6M;P6M=this.points;Z6M=this.stx.panels[this.panelName];U94.H65();if(P6M.length != this.maxSegments + ("1" ^ 0) || !Z6M){return ![];}for(var s6M=0;s6M < P6M.length - 1;s6M++){if(W8J.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,Q6M,X6M,v6M,"segment",P6M[s6M],P6M[s6M + 1])){return ! !"1";}}return ![];};W8J.Drawing.gartley.prototype.boxIntersection=function(E6M,K6M,C6M){var V6M,h6M;if(!this.p0 || !this.p1){return !1;}if(C6M.x0 > Math.max(this.p0[0],this.p1[0]) || C6M.x1 < Math.min(this.p0[0],this.p1[+"0"])){return !1;}U94.H65();V6M=Math.min(this.p0[+"1"],this.p1[1]);h6M=Math.max(this.p0[1],this.p1[+"1"]);for(var i6M=0;i6M < this.points.length;i6M++){V6M=Math.min(V6M,this.points[i6M][1]);h6M=Math.max(h6M,this.points[i6M]["1" | 0]);}if(C6M.y1 > h6M || C6M.y0 < V6M){return !{};}return ! ![];};W8J.Drawing.gartley.prototype.reposition=function(p6M,H6M,R6M,N6M){var b6M,D6M,I6M;if(!H6M){return;}b6M=this.stx.panels[this.panelName];D6M=H6M.tick - R6M;H6M.tick=R6M;I6M=H6M.value - N6M;H6M.value=N6M;if(H6M.action == "move"){this.pts=[];for(var W6M="0" & 2147483647;W6M < this.points.length;W6M++){this.points[W6M][+"0"]-=D6M;this.points[W6M][+"1"]-=I6M;this.setPoint(1,this.points[W6M][0],this.points[W6M][1],b6M.chart);if(W6M && W6M < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[W6M]=this.p1;}this.setPoint(0,this.points[0][+"0"],this.points[+"0"][1],b6M.chart);this.render(p6M);;}};W8J.Drawing.gartley.prototype.configs=["color","fillColor",i2Y,"pattern"];W8J.Drawing.gartley.prototype.adjust=function(){var G6M;G6M=this.stx.panels[this.panelName];if(!G6M){return;}this.reconstructPoints();U94.D5h(22);this.setPoint(U94.m5h("0",1170112608),this.d0,this.v0,G6M.chart);this.points.unshift(this.p0);U94.D5h(13);this.setPoint(U94.a5h(0,"1"),this.d1,this.v1,G6M.chart);this.points.push(this.p1);};W8J.Drawing.gartley.prototype.reconstructPoints=function(){var o2M,V7Y,w7Y,c7Y,T2M;o2M=this.stx.panels[this.panelName];if(!o2M){return;}V7Y=-23664472;w7Y=-310378351;c7Y=2;for(var g7Y=1;U94.a4Y(g7Y.toString(),g7Y.toString().length,33269) !== V7Y;g7Y++){this.points=[];c7Y+=2;}U94.H65();if(U94.C4Y(c7Y.toString(),c7Y.toString().length,"28521" | 10505) !== w7Y){this.points=[];}for(var x2M=0;x2M < this.pts.length;x2M+=3){T2M=W8J.strToDateTime(this.pts[x2M]);T2M.setMinutes(T2M.getMinutes() + Number(this.pts[x2M + 1]) - T2M.getTimezoneOffset());this.points.push([this.stx.tickFromDate(W8J.yyyymmddhhmmssmmm(T2M),o2M.chart),this.pts[x2M + +"2"]]);}};W8J.Drawing.gartley.prototype.reconstruct=function(u2M,k2M){this.stx=u2M;this.color=k2M.col;this.fillColor=k2M.fc;this.panelName=k2M.pnl;this.pattern=k2M.ptrn;this.lineWidth=k2M.lw;this.d0=k2M.d0;this.d1=k2M.d1;this.tzo0=k2M.tzo0;this.tzo1=k2M.tzo1;this.v0=k2M.v0;this.v1=k2M.v1;U94.H65();this.pts=k2M.pts.split(",");this.adjust();};W8J.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};W8J.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;U94.H65();this.dragToDraw=!"";};W8J.inheritsFrom(W8J.Drawing.freeform,W8J.Drawing.segment);W8J.Drawing.freeform.prototype.measure=function(){};W8J.Drawing.freeform.prototype.intersected=function(j2M,O2M,q2M){if(q2M.x0 > this.hiX || q2M.x1 < this.lowX){return null;}if(q2M.y1 > this.hiY || q2M.y0 < this.lowY){return null;}this.highlighted=!"";U94.l65();return {action:"move",p0:W8J.clone(this.p0),tick:j2M,value:O2M};};W8J.Drawing.freeform.prototype.reposition=function(r2M,L2M,A2M,c2M){var g2M,d2M,z8Y,Y8Y,F3Y,z2M;if(!L2M){return;}g2M=this.stx.panels[this.panelName];d2M=L2M.tick - A2M;z8Y=- +"320233964";Y8Y=1493277187;F3Y=2;for(var o3Y=1;U94.C4Y(o3Y.toString(),o3Y.toString().length,51344) !== z8Y;o3Y++){z2M=L2M.value / c2M;F3Y+=2;}if(U94.a4Y(F3Y.toString(),F3Y.toString().length,65042) !== Y8Y){z2M=L2M.value % c2M;}z2M=L2M.value - c2M;if(L2M.action == "move"){this.setPoint(0,L2M.p0[0] - d2M,L2M.p0[1] - z2M,g2M.chart);this.adjust();this.render(r2M);}};W8J.Drawing.freeform.prototype.click=function(y2M,f2M,F2M){var Y2M,f2Y,m2M;Y2M=this.stx.panels[this.panelName];if(!Y2M){return;}if(this.penDown === ! !""){f2Y="poi";f2Y+="nter";this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(f2M,Y2M.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(Y2M,f2M,F2M)));m2M=this.stx.dateFromTick(f2M,Y2M.chart,! !{});this.d0=W8J.yyyymmddhhmmssmmm(m2M);this.tzo0=m2M.getTimezoneOffset();this.v0=F2M;this.p0=[W8J.ChartEngine.crosshairX - this.startX,W8J.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=Y2M.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=- +"1";document.body.style.cursor=f2Y;this.penDown=! !{};return ! !"";}this.penDown=!"1";this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !0;};W8J.Drawing.freeform.prototype.move=function(n2M,a2M,t2M){U94.H65();var e2M,J2M;if(!this.penDown){return;}e2M=this.stx.panels[this.panelName];J2M=this.stx.dateFromTick(a2M,e2M.chart,! !1);this.d1=W8J.yyyymmddhhmmssmmm(J2M);this.tzo1=J2M.getTimezoneOffset();this.v1=t2M;this.p1=[W8J.ChartEngine.crosshairX - this.startX,e2M.yAxis.flipped?this.startY - W8J.ChartEngine.crosshairY:W8J.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > ("2" ^ 0)){if(this.p1[0] == this.pNodes[this.pNodes.length - "2" * 1][0] && this.p1[0] == this.pNodes[this.pNodes.length - ("1" << 922319328)]["0" >> 1734029504]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[+"1"] == this.pNodes[this.pNodes.length - 2][1] && this.p1["1" - 0] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(n2M);return !"1";};W8J.Drawing.freeform.prototype.intervalRatio=function(S2M,l2M,X2M,v2M,w2M,M2M){var U2M,p2Y,S2Y;function s2M(C2M,V2M){return 5;}function Z2M(h2M,E2M){return 30;}U2M=0;if(S2M == l2M){U2M=1;}else if(!isNaN(S2M) && !isNaN(l2M)){U94.D5h(7);U2M=U94.a5h(S2M,l2M);}else if(isNaN(S2M)){if(S2M == "month"){if(l2M == "week"){U2M=Q2M(w2M,M2M);}else if(l2M == "day"){U2M=Z2M(w2M,M2M);}else if(!isNaN(l2M)){U2M=Z2M(w2M,M2M) * P2M(w2M,M2M) / l2M;}}else if(S2M == "week"){if(l2M == "month"){U2M=+"1" / Q2M(w2M,M2M);}if(l2M == "day"){U2M=s2M(w2M,M2M);}else if(!isNaN(l2M)){U2M=s2M(w2M,M2M) * P2M(w2M,M2M) / l2M;}}else if(S2M == "day"){p2Y="m";p2Y+="o";p2Y+="nt";p2Y+="h";if(l2M == "week"){U94.D5h(44);var B4I=U94.m5h(14,0,20,7);U2M=B4I / s2M(w2M,M2M);}else if(l2M == p2Y){U2M=+"1" / Z2M(w2M,M2M);}else if(!isNaN(l2M)){U2M=P2M(w2M,M2M) / l2M;}}}else if(!isNaN(S2M)){S2Y="da";S2Y+="y";if(l2M == "month"){U2M=S2M / (Z2M(w2M,M2M) * P2M(w2M,M2M));}else if(l2M == "week"){U2M=S2M / (s2M(w2M,M2M) * P2M(w2M,M2M));}else if(l2M == S2Y){U2M=S2M / P2M(w2M,M2M);}}U94.D5h(7);U2M*=U94.m5h(X2M,v2M);function P2M(W2M,K2M){var v8Y,Q8Y,M8Y;if(W8J.Market.Symbology.isForexSymbol(K2M)){return 1440;}v8Y=-1590178057;U94.D5h(12);Q8Y=U94.m5h(2147483647,"1413854494");M8Y=+"2";for(var T8Y=1;U94.a4Y(T8Y.toString(),T8Y.toString().length,25395) !== v8Y;T8Y++){U94.U5h(5);return U94.m5h("329",0);}if(U94.C4Y(M8Y.toString(),M8Y.toString().length,+"11911") !== Q8Y){return 390;}}function Q2M(B2M,i2M){var x8Y,L8Y,H8Y;x8Y=-291047220;L8Y=-849582459;H8Y=2;for(var D8Y=1;U94.C4Y(D8Y.toString(),D8Y.toString().length,48417) !== x8Y;D8Y++){U94.D5h(22);return U94.m5h("5",290191936);}if(U94.a4Y(H8Y.toString(),H8Y.toString().length,"55799" & 2147483647) !== L8Y){return 6;}}return U2M;};W8J.Drawing.freeform.prototype.render=function(x7M){var H2M,D2M,T7M,o7M,k7M,I2M,b2M,u7M,p2M,G2M,q7M,N2M;H2M=this.stx.panels[this.panelName];if(!H2M){return;}D2M=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,H2M.chart.symbol);U94.H65();if(D2M === +"0"){return;}T7M=this.stx.layout.candleWidth / this.candleWidth;o7M=H2M.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,H2M.chart);k7M=this.stx.pixelFromTick(this.p0[0],H2M.chart);I2M=this.stx.pixelFromValueAdjusted(H2M,this.p0[+"0"],this.p0[1]);b2M=[];u7M=this.lineWidth;p2M=this.getLineColor();G2M={pattern:this.pattern,lineWidth:u7M};for(var R2M=0;R2M < this.pNodes.length;R2M++){q7M=D2M * T7M * this.pNodes[R2M][0] + k7M;U94.U5h(35);var s4I=U94.m5h(19,12,6);N2M=o7M * this.pNodes[R2M][s4I];if(H2M.yAxis.flipped){U94.D5h(5);N2M=U94.a5h(I2M,N2M);}else {N2M+=I2M;}b2M.push(q7M,N2M);}if(!b2M.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(b2M,p2M,this.name,x7M,H2M,G2M);}else {this.stx.plotSpline(b2M,this.splineTension,p2M,this.name,x7M,! !"1",G2M);}};W8J.Drawing.freeform.prototype.adjust=function(){var j7M,c7M,O7M,z7M,r7M,g7M,A7M,d7M;j7M=this.stx.panels[this.panelName];if(!j7M){return;}c7M=[this.nodes[0],this.nodes[1]];this.pNodes=[c7M];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var L7M=2;L7M < this.nodes.length;L7M+=2){U94.U5h(1);O7M=[this.nodes[L7M],this.nodes[U94.m5h(1,L7M)]];this.pNodes.push(O7M);this.lowX=Math.min(this.lowX,O7M[0]);this.hiX=Math.max(this.hiX,O7M[+"0"]);this.lowY=Math.max(this.lowY,O7M[1]);this.hiY=Math.min(this.hiY,O7M[1]);}z7M=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,j7M.chart.symbol);if(z7M === 0){return;}r7M=this.stx.layout.candleWidth / this.candleWidth;g7M=j7M.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,j7M.chart);A7M=this.stx.pixelFromTick(this.p0[0],j7M.chart);d7M=this.stx.pixelFromValueAdjusted(j7M,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(z7M * r7M * this.lowX) + A7M,j7M.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(z7M * r7M * this.hiX) + A7M,j7M.chart);if(j7M.yAxis.flipped){this.lowY=this.stx.valueFromPixel(d7M - Math.floor(g7M * this.lowY),j7M);this.hiY=this.stx.valueFromPixel(d7M - Math.ceil(g7M * this.hiY),j7M);}else {this.lowY=this.stx.valueFromPixel(Math.floor(g7M * this.lowY) + d7M,j7M);this.hiY=this.stx.valueFromPixel(Math.ceil(g7M * this.hiY) + d7M,j7M);}};W8J.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(+"4")),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};W8J.Drawing.freeform.prototype.reconstruct=function(f7M,Y7M){this.stx=f7M;this.color=Y7M.col;this.panelName=Y7M.pnl;this.pattern=Y7M.ptrn;this.lineWidth=Y7M.lw;this.candleWidth=Y7M.cw;this.multiplier=Y7M.mlt;this.d0=Y7M.d0;this.tzo0=Y7M.tzo0;this.v0=Y7M.v0;this.interval=Y7M.inter;this.periodicity=Y7M.pd;this.nodes=Y7M.nodes;this.adjust();};W8J.Drawing.callout=function(){var u2Y;u2Y="callo";u2Y+="u";u2Y+="t";this.name=u2Y;this.arr=[];U94.U5h(22);this.w=U94.m5h("0",758694080);this.h=0;U94.U5h(5);this.padding=U94.m5h("4",0);this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};W8J.inheritsFrom(W8J.Drawing.callout,W8J.Drawing.annotation);W8J.Drawing.callout.prototype.configs=[v2Y,"fillColor","lineWidth","pattern","font"];W8J.Drawing.callout.prototype.copyConfig=function(m7M){W8J.Drawing.copyConfig(this,m7M);this.borderColor=this.color;};W8J.Drawing.callout.prototype.move=function(F7M,y7M,e7M){if(!this.penDown){return;}this.copyConfig();this.p0=[y7M,e7M];this.render(F7M);};W8J.Drawing.callout.prototype.onChange=function(t7M){var a7M,n7M,J7M;a7M=this.stx.panels[this.panelName];if(!a7M){return;}n7M=t7M.target;this.w=n7M.clientWidth;this.h=n7M.clientHeight;J7M=this.context || this.stx.chart.tempCanvas.context;W8J.clearCanvas(J7M.canvas,this.stx);this.render(J7M);this.edit(J7M);};W8J.Drawing.callout.prototype.render=function(l7M){var Q2Y,v7M,K7M,E7M,w7M,U7M,S7M,M7M,B7M,i7M,X7M,s7M,C7M,Z7M,V7M,P7M,G8Y,J8Y,B8Y,Q7M,t2Y,M2Y,s3Y,r3Y,h3Y,W4Y,i4Y,f4Y,W7M;Q2Y="au";Q2Y+="to";this.context=l7M;v7M=this.stx.panels[this.panelName];if(!v7M){return;}K7M=this.stx.pixelFromTick(this.p0[0],v7M.chart);E7M=this.stx.pixelFromValueAdjusted(v7M,this.p0[0],this.p0[1]);if(isNaN(E7M)){return;}l7M.font=this.fontString;l7M.textBaseline="top";w7M=K7M;U7M=E7M;U94.D5h(45);var r4I=U94.m5h(10,16,16,174);S7M=this.w / r4I;U94.U5h(34);var h4I=U94.a5h(73,21,4,9);M7M=this.h / h4I;if(this.penDown){S7M=this.defaultWidth;M7M=this.defaultHeight;if(!M7M){M7M=this.fontSize;}}B7M=this.lineWidth;if(!B7M){B7M=1.1;}i7M=this.color;if(i7M == "auto" || W8J.isTransparent(i7M)){i7M=this.stx.defaultColor;}X7M=this.borderColor;if(X7M == Q2Y || W8J.isTransparent(X7M)){X7M=this.stx.defaultColor;}if(this.highlighted){X7M=this.stx.getCanvasColor("stx_highlight_vector");}P7M=Math.min(Math.min(S7M,M7M) / 2,8);if(this.stem){if(this.stem.t){G8Y=-1989121340;J8Y=-410624703;B8Y=2;for(var r8Y=1;U94.a4Y(r8Y.toString(),r8Y.toString().length,"76223" << 1573041824) !== G8Y;r8Y++){s7M=this.stx.pixelFromTick(this.stem.t);Z7M=this.stx.pixelFromValueAdjusted(v7M,this.stem.t,this.stem.v);B8Y+=2;}if(U94.C4Y(B8Y.toString(),B8Y.toString().length,88772) !== J8Y){s7M=this.stx.pixelFromTick(this.stem.t);Z7M=this.stx.pixelFromValueAdjusted(v7M,this.stem.t,this.stem.v);}}else if(this.stem.x){s7M=w7M;Z7M=U7M;w7M+=this.stem.x;U7M+=this.stem.y;}Q7M="";if(s7M >= w7M + S7M){U94.D5h(1);C7M=U94.a5h(S7M,w7M);Q7M="r";}else if(s7M > w7M - S7M && s7M < w7M + S7M){C7M=w7M;Q7M=4863 != (9525,6020)?"c":7856 <= 4290?"T":(7481,159.95) > (5658,7709)?0x98d:0xe86;}else if(s7M <= w7M - S7M){U94.U5h(5);C7M=U94.a5h(w7M,S7M);Q7M="l";}if(Z7M >= U7M + M7M){U94.U5h(1);V7M=U94.a5h(M7M,U7M);Q7M+=710.79 !== (609.14,153.24)?"b":(3800,9930) === "948.53" - 0?(138.08,"0x1d05" >> 2003264032):(!"",8.05e+3);}else if(Z7M > U7M - M7M && Z7M < U7M + M7M){V7M=U7M;Q7M+=8451 === 584.18?(9200,5431) == (6447,163.23)?8.01e+3:32.46 > (7450,4681)?1.17e+2:(4.38e+3,6.73e+3):"m";}else if(Z7M <= U7M - M7M){U94.D5h(5);V7M=U94.m5h(U7M,M7M);Q7M+=(9980,370.11) <= 9600?"t":836.15 < 7019?66.13 !== +"7874"?832.56:+"0x1c7c":6.94e+3;}this.stemEntry=Q7M;if(Q7M != "cm"){s7M=Math.round(s7M);C7M=Math.round(C7M);Z7M=Math.round(Z7M);V7M=Math.round(V7M);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",l7M);}else {if(this.fillColor){l7M.fillStyle=this.fillColor;l7M.globalAlpha=0.4;}else if(this.stem){l7M.fillStyle=this.stx.containerColor;}}l7M.strokeStyle=X7M;if(l7M.setLineDash){l7M.setLineDash(W8J.borderPatternToArray(B7M,this.pattern));l7M.lineDashOffset=0;;}if(X7M){t2Y="r";t2Y+="b";M2Y="r";M2Y+="t";l7M.beginPath();l7M.lineWidth=B7M;U94.D5h(3);l7M.moveTo(U94.m5h(S7M,P7M,w7M),U94.a5h(U7M,M7M,U94.U5h(5)));if(this.stemEntry != M2Y){U94.D5h(1);l7M.quadraticCurveTo(U94.a5h(S7M,w7M),U94.a5h(U7M,M7M,U94.U5h(5)),U94.a5h(S7M,w7M,U94.U5h(1)),U94.m5h(M7M,U7M,P7M,U94.U5h(0)));;}else {l7M.lineTo(s7M,Z7M);U94.D5h(1);l7M.lineTo(U94.m5h(S7M,w7M),U94.a5h(M7M,U7M,P7M,U94.D5h(0)));}U94.U5h(1);l7M.lineTo(U94.a5h(S7M,w7M),U94.a5h(U7M,P7M,2,U94.D5h(46)));s3Y=-315187723;r3Y=1816979163;h3Y=2;for(var K3Y=1;U94.a4Y(K3Y.toString(),K3Y.toString().length,+"44424") !== s3Y;K3Y++){if(this.stemEntry == "rm"){l7M.lineTo(s7M,Z7M);}h3Y+=2;}if(U94.a4Y(h3Y.toString(),h3Y.toString().length,56889) !== r3Y){if(this.stemEntry !== ""){l7M.lineTo(s7M,Z7M);}}U94.D5h(1);l7M.lineTo(U94.m5h(S7M,w7M),U94.a5h(U7M,P7M,2,U94.D5h(47)));U94.U5h(1);l7M.lineTo(U94.m5h(S7M,w7M),U94.a5h(M7M,P7M,U7M,U94.D5h(3)));if(this.stemEntry != t2Y){U94.U5h(1);l7M.quadraticCurveTo(U94.a5h(S7M,w7M),U94.m5h(M7M,U7M,U94.D5h(1)),U94.a5h(S7M,P7M,w7M,U94.D5h(3)),U94.m5h(M7M,U7M,U94.U5h(1)));;}else {l7M.lineTo(s7M,Z7M);U94.D5h(18);W4Y=-U94.m5h("1897714247",1);i4Y=-1187443494;U94.D5h(23);f4Y=U94.m5h(2,"2");for(var S4Y=1;U94.C4Y(S4Y.toString(),S4Y.toString().length,+"82244") !== W4Y;S4Y++){U94.U5h(48);l7M.lineTo(U94.a5h(P7M,w7M,S7M),U94.a5h(U7M,M7M,U94.D5h(5)));f4Y+=2;}if(U94.a4Y(f4Y.toString(),f4Y.toString().length,47772) !== i4Y){U94.D5h(3);l7M.lineTo(U94.a5h(S7M,P7M,w7M),U94.m5h(U7M,M7M,U94.D5h(42)));}U94.U5h(3);l7M.lineTo(U94.a5h(S7M,P7M,w7M),U94.m5h(M7M,U7M,U94.D5h(1)));}U94.U5h(47);l7M.lineTo(U94.a5h(w7M,P7M,2),U94.m5h(M7M,U7M,U94.U5h(1)));if(this.stemEntry == "cb"){l7M.lineTo(s7M,Z7M);}U94.D5h(46);l7M.lineTo(U94.m5h(w7M,P7M,2),U94.a5h(M7M,U7M,U94.D5h(1)));U94.D5h(0);l7M.lineTo(U94.a5h(S7M,w7M,P7M),U94.m5h(M7M,U7M,U94.D5h(1)));if(this.stemEntry != "lb"){U94.U5h(5);l7M.quadraticCurveTo(U94.a5h(w7M,S7M),U94.a5h(M7M,U7M,U94.U5h(1)),U94.a5h(w7M,S7M,U94.U5h(5)),U94.a5h(M7M,P7M,U7M,U94.U5h(3)));;}else {l7M.lineTo(s7M,Z7M);U94.U5h(5);l7M.lineTo(U94.m5h(w7M,S7M),U94.a5h(M7M,P7M,U7M,U94.D5h(3)));}U94.U5h(5);l7M.lineTo(U94.m5h(w7M,S7M),U94.a5h(U7M,P7M,2,U94.D5h(47)));if(this.stemEntry == "lm"){l7M.lineTo(s7M,Z7M);}U94.U5h(5);l7M.lineTo(U94.m5h(w7M,S7M),U94.m5h(U7M,P7M,2,U94.U5h(46)));U94.D5h(5);l7M.lineTo(U94.a5h(w7M,S7M),U94.a5h(M7M,U7M,P7M,U94.D5h(0)));if(this.stemEntry != "lt"){U94.U5h(5);l7M.quadraticCurveTo(U94.a5h(w7M,S7M),U94.m5h(U7M,M7M,U94.U5h(5)),U94.a5h(S7M,w7M,P7M,U94.D5h(0)),U94.a5h(U7M,M7M,U94.D5h(5)));;}else {l7M.lineTo(s7M,Z7M);U94.D5h(0);l7M.lineTo(U94.m5h(S7M,w7M,P7M),U94.m5h(U7M,M7M,U94.U5h(5)));}U94.D5h(46);l7M.lineTo(U94.m5h(w7M,P7M,2),U94.a5h(U7M,M7M,U94.D5h(5)));if(this.stemEntry == "ct"){l7M.lineTo(s7M,Z7M);}U94.U5h(49);l7M.lineTo(U94.a5h(w7M,P7M,"2"),U94.m5h(U7M,M7M,U94.D5h(5)));U94.U5h(3);l7M.lineTo(U94.a5h(S7M,P7M,w7M),U94.a5h(U7M,M7M,U94.U5h(5)));l7M.fill();l7M.globalAlpha=1;if(this.pattern != "none"){l7M.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",l7M);}else {l7M.fillStyle=i7M;}U7M+=this.padding;if(!this.ta){for(var h7M=0;h7M < this.arr.length;h7M++){l7M.fillText(this.arr[h7M],w7M - S7M + this.padding,U7M - M7M);U7M+=this.fontSize;}}l7M.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){W7M=this.highlighted == "p0"?! !1:! !0;this.littleCircle(l7M,s7M,Z7M,W7M);};};W8J.Drawing.callout.prototype.click=function(b7M,R7M,N7M){var H7M;if(this.stx.overXAxis || this.stx.overYAxis){return;}U94.l65();H7M=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,R7M,N7M,H7M.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !"1";this.adjust();return ![];}this.adjust();this.edit(b7M);this.penDown=![];return !"1";};W8J.Drawing.callout.prototype.reposition=function(o3M,D7M,x3M,T3M){var I7M,p7M,G7M;if(!D7M){return;}I7M=this.stx.panels[this.panelName];U94.l65();p7M=D7M.tick - x3M;G7M=D7M.value - T3M;if(D7M.stem){if(D7M.action == "drag"){this.stem={d:this.stx.dateFromTick(x3M,I7M.chart,! ![]),v:T3M};}else if(D7M.action == "move"){this.setPoint(0,D7M.p0[0] - p7M,D7M.p0[1] - G7M,I7M.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(D7M.stem.d,I7M.chart) - p7M),v:D7M.stem.v - G7M};}this.adjust();}else {this.setPoint(0,D7M.p0[0] - p7M,D7M.p0[1] - G7M,I7M.chart);}this.render(o3M);};W8J.Drawing.callout.prototype.lineIntersection=function(m3M,F3M,Y3M,f3M){var g3M,k3M,j3M,d3M,z3M,r3M,u3M,O3M,L3M,A3M,c3M,X8Y,A8Y,b8Y,q3M;g3M=this.stx.panels[this.panelName];U94.H65();k3M=this.stem;j3M=this.p0;d3M=this.stx;if(!j3M || !k3M || !g3M){return !"1";}z3M=k3M.t || this.stx.tickFromDate(k3M.d,g3M.chart);r3M={x0:j3M[0],x1:z3M,y0:j3M[1],y1:k3M.v};u3M=W8J.convertBoxToPixels(d3M,this.panelName,r3M);O3M=u3M.x0;L3M=u3M.y0;A3M=u3M.x1;c3M=u3M.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){O3M-=this.w / 2;}else if(this.stemEntry.indexOf("r") > -1){U94.U5h(43);var n4I=U94.a5h(2,7,28);O3M+=this.w / n4I;}if(this.stemEntry.indexOf((401.48,2571) === (+"5090",3660)?(5.99e+3,! !""):(+"1353","59.4" - 0) !== (5723,2552)?"t":+"5.61e+3") > -1){U94.U5h(50);var K4I=U94.m5h(3,35,36,4);L3M-=this.h / K4I;}else if(this.stemEntry.indexOf(5060 != 929?("908.07" - 0,532.75) == "7320" >> 1436543264?(289.25,33.58):(359,+"3249") >= 2742?"b":(0xdc4,583.08):! !{}) > -1){U94.U5h(0);var y4I=U94.m5h(19,16,5);L3M+=this.h / y4I;}}U94.U5h(23);X8Y=-U94.a5h(71377409,"661093001");A8Y=531016581;U94.D5h(40);b8Y=U94.a5h("2",1548105408);for(var e8Y=+"1";U94.a4Y(e8Y.toString(),e8Y.toString().length,76400) !== X8Y;e8Y++){q3M=W8J.convertBoxToPixels(d3M,this.panelName,Y3M);b8Y+=+"2";}if(U94.a4Y(b8Y.toString(),b8Y.toString().length,43804) !== A8Y){q3M=W8J.convertBoxToPixels(d3M,this.panelName,Y3M);}return W8J.boxIntersects(q3M.x0,q3M.y0,q3M.x1,q3M.y1,O3M,L3M,A3M,c3M,f3M);};W8J.Drawing.callout.prototype.intersected=function(e3M,n3M,y3M){var J3M,T2Y,a3M,t3M,l3M,U3M,w3M,M3M,S3M;J3M=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,y3M)){T2Y="p";T2Y+="0";this.highlighted=T2Y;return {action:"drag",stem:! !"1"};}U94.D5h(29);var W4I=U94.m5h(12,142,12);a3M=this.stx.pixelFromTick(this.p0[+"0"],J3M.chart) - this.w / W4I;U94.D5h(51);var i4I=U94.a5h(153,4,11,4,6);U94.D5h(52);var f4I=U94.a5h(32,5,1,32,5);t3M=this.stx.pixelFromValueAdjusted(J3M,this.p0[0],this.p0[i4I]) - this.h / f4I;l3M=a3M + this.w;U3M=t3M + this.h;if(this.stem && this.stem.x){a3M+=this.stem.x;l3M+=this.stem.x;t3M+=this.stem.y;U3M+=this.stem.y;}w3M=this.stx.pixelFromTick(e3M,J3M.chart);U94.H65();M3M=this.stx.pixelFromValueAdjusted(J3M,e3M,n3M);if(w3M + y3M.r >= a3M && w3M - y3M.r <= l3M && M3M + y3M.r >= t3M && M3M - y3M.r <= U3M){this.highlighted=! !{};return {p0:W8J.clone(this.p0),tick:e3M,value:n3M};}S3M=this.lineIntersection(e3M,n3M,y3M,"segment");if(S3M){this.highlighted=! !1;return {action:"move",stem:W8J.clone(this.stem),p0:W8J.clone(this.p0),tick:e3M,value:n3M};}return null;};W8J.Drawing.fibonacci=function(){var x2Y;x2Y="fibonacc";U94.l65();x2Y+="i";this.name=x2Y;this.configurator="fibonacci";};W8J.inheritsFrom(W8J.Drawing.fibonacci,W8J.Drawing.BaseTwoPoint);W8J.Drawing.fibonacci.mapping={trend:80.93 != (9780,+"898.26")?"t":(9966,5140) === 986.09?("c",642.86):(87,1520) <= (712.92,+"219")?!1:300,color:"c",parameters:(243.67,8058) > 2300?(3510,+"8275") <= 4040?(! ![],470):"p":0x630,pattern:"pt",opacity:3758 === 2380?(179.81,7310) === 341.2?(55.86,0x1464):4553 > (521.64,688)?!1:("n","L"):"o",lineWidth:L2Y,level:(1480,180.91) < (1950,8400)?"786.13" - 0 >= 174.8?(1220,8470) >= (284.23,7114)?"l":161.89:(1.63e+3,8.78e+3):+"2.73e+3",extendLeft:7430 > (162.24,634)?"e":(7096,4985) < (6210,14.92)?(!{},"O"):! !1,printLevels:H2Y,printValues:"pv",timezone:"tz",display:305 === (+"1",+"4020")?5.19e+3:"d"};W8J.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,+"0.5",0.618,1,1.382,1.618];W8J.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];W8J.Drawing.fibonacci.prototype.initializeSettings=function(X3M){var Z3M,s3M;Z3M=this.recommendedLevels;if(Z3M && !X3M.currentVectorParameters.fibonacci.fibsAlreadySet){s3M=X3M.currentVectorParameters.fibonacci.fibs;for(var P3M=0;P3M < s3M.length;P3M++){delete s3M[P3M].display;for(var Q3M=+"0";Q3M < Z3M.length;Q3M++){if(s3M[P3M].level == Z3M[Q3M]){s3M[P3M].display=! !1;}}}}};W8J.Drawing.fibonacci.prototype.setOuter=function(){var v3M,B3M,K3M,W3M,H3M,b3M,R3M,D3M,I3M,C3M,V3M,i3M,E3M,N3M;v3M=this.stx;B3M=v3M.panels[this.panelName];if(!B3M){return;}K3M=Math.max(this.p0["1" * 1],this.p1[1]);W3M=Math.min(this.p0[1],this.p1[1]);U94.D5h(5);H3M=U94.a5h(K3M,W3M);this.outer={p0:W8J.clone(this.p0),p1:W8J.clone(this.p1)};b3M=v3M.pixelFromValueAdjusted(B3M,this.p0[0],this.p0[1]);R3M=v3M.pixelFromValueAdjusted(B3M,this.p1[+"0"],this.p1[1]);D3M=v3M.pixelFromTick(this.p0["0" * 1],B3M.chart);I3M=v3M.pixelFromTick(this.p1[0],B3M.chart);C3M=0;V3M=+"1";for(var h3M=0;h3M < this.parameters.fibs.length;h3M++){i3M=this.parameters.fibs[h3M];if(i3M.level >= C3M && i3M.level <= V3M || !i3M.display)continue;E3M=v3M.pixelFromValueAdjusted(B3M,this.p0[0],R3M < b3M?K3M - H3M * i3M.level:W3M + H3M * i3M.level);N3M=W8J.xIntersection({x0:D3M,x1:I3M,y0:b3M,y1:R3M},E3M);if(i3M.level < C3M){C3M=i3M.level;this.outer.p1[1]=v3M.valueFromPixel(E3M,B3M);this.outer.p1[0]=v3M.tickFromPixel(N3M,B3M.chart);}else if(i3M.level > V3M){V3M=i3M.level;this.outer.p0[1]=v3M.valueFromPixel(E3M,B3M);U94.D5h(40);this.outer.p0[U94.a5h("0",1230490720)]=v3M.tickFromPixel(N3M,B3M.chart);}}};W8J.Drawing.fibonacci.prototype.click=function(T0M,G3M,x0M){var p3M;p3M=this.stx.panels[this.panelName];if(!p3M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,G3M,x0M,p3M.chart);this.penDown=! ![];return !"1";}if(this.accidentalClick(G3M,x0M)){return this.dragToDraw;}this.setPoint(1,G3M,x0M,p3M.chart);this.setOuter();this.parameters=W8J.clone(this.parameters);this.penDown=!{};return ! ![];;};W8J.Drawing.fibonacci.prototype.render=function(o0M){var U2Y,k0M,J0M,n0M,a0M,w0M,Y0M,A0M,O0M,q0M,M0M,S0M,P0M,X0M,v0M,s0M,B0M,t0M,f0M,l0M,m0M,c0M,A2Y,X2Y,D2Y,d0M,u0M,y0M,z0M,j0M,i0M,F0M,r0M,L0M,Z0M,g0M,Q0M,C0M,V0M;U2Y="stx_ya";U2Y+="x";U2Y+="is";k0M=this.stx.panels[this.panelName];if(!k0M){return;}J0M=k0M.yAxis;if(!this.p1){return;}n0M=Math.max(this.p0[1],this.p1[1]);a0M=Math.min(this.p0["1" >> 1942607808],this.p1[1]);w0M=J0M.flipped?a0M - n0M:n0M - a0M;Y0M=this.stx.pixelFromTick(this.p0[0],k0M.chart);A0M=this.stx.pixelFromTick(this.p1["0" & 2147483647],k0M.chart);O0M=this.stx.pixelFromValueAdjusted(k0M,this.p0[0],this.p0[1]);q0M=this.stx.pixelFromValueAdjusted(k0M,this.p1[0],this.p1[1]);M0M=Math.min(q0M,O0M);S0M=Math.max(q0M,O0M);U94.U5h(5);P0M=U94.m5h(S0M,M0M);U94.D5h(53);X0M=U94.a5h("0",q0M,O0M,1,Y0M,A0M);v0M={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=v0M;}s0M=this.getLineColor(this.parameters.trend.color);o0M.textBaseline="middle";this.stx.canvasFont(U2Y,o0M);U94.U5h(1);var p4I=U94.m5h(9,1);B0M=o0M.measureText("161.8%").width + p4I;t0M=Number.MAX_VALUE;f0M=Number.MAX_VALUE;U94.D5h(54);var S4I=U94.a5h(19,19,16,0,16);l0M=Number.MAX_VALUE * S4I;U94.U5h(3);var u4I=U94.m5h(17,18,0);m0M=Number.MAX_VALUE * u4I;c0M=this.color;if(c0M == "auto" || W8J.isTransparent(c0M)){c0M=this.stx.defaultColor;}this.rays=[];for(var U0M=0;U0M < this.parameters.fibs.length;U0M++){A2Y="undefine";A2Y+="d";X2Y="au";X2Y+="t";X2Y+="o";D2Y="aut";D2Y+="o";o0M.textAlign="left";o0M.fillStyle=c0M;d0M=this.parameters.fibs[U0M];if(!d0M.display)continue;u0M=this.stx.pixelFromValueAdjusted(k0M,this.p0[0],q0M < O0M?n0M - w0M * d0M.level:a0M + w0M * d0M.level);y0M=W8J.xIntersection({x0:Y0M,x1:A0M,y0:O0M,y1:q0M},u0M);z0M=this.parameters.extendLeft?0:y0M;j0M=k0M.left + k0M.width;if(this.parameters.printLevels){U94.U5h(29);var v4I=U94.m5h(14,27000,2000);U94.D5h(3);var Q4I=U94.m5h(9,121,120);i0M=Math.round(d0M.level * v4I) / ("10" | Q4I) + "%";j0M-=B0M;if(this.parameters.printValues){o0M.fillStyle=c0M;this.stx.canvasFont("stx_yaxis",o0M);;}if(j0M < z0M){o0M.textAlign="right";}o0M.fillText(i0M,j0M,u0M);if(j0M < z0M){U94.U5h(22);j0M+=U94.a5h("5",1701120896);}else {j0M-=5;}}if(this.parameters.printValues){if(y0M < k0M.width){F0M=this.stx.transformedPriceFromPixel(u0M,k0M);if(J0M.priceFormatter){F0M=J0M.priceFormatter(this.stx,k0M,F0M);}else {F0M=this.stx.formatYAxisPrice(F0M,k0M);}if(o0M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(k0M,F0M,u0M,c0M,null,o0M);if(o0M == this.stx.chart.context){this.stx.startClip(k0M.name);}}}r0M=d0M.color;if(r0M == D2Y || W8J.isTransparent(r0M)){r0M=this.color;}if(r0M == "auto" || W8J.isTransparent(r0M)){r0M=this.stx.defaultColor;}L0M=d0M.color;if(L0M == "auto" || W8J.isTransparent(L0M)){L0M=this.fillColor;}if(L0M == X2Y || W8J.isTransparent(L0M)){L0M=this.stx.defaultColor;}o0M.fillStyle=L0M;Z0M=W8J.clone(d0M.parameters);if(this.highlighted){Z0M.opacity=1;}this.stx.plotLine(z0M,j0M,u0M,u0M,this.highlighted?s0M:r0M,"segment",o0M,k0M,Z0M);this.rays.push([[z0M,u0M],[j0M,u0M]]);o0M.globalAlpha=0.05;o0M.beginPath();o0M.moveTo(j0M,u0M);o0M.lineTo(z0M,u0M);if(z0M){o0M.lineTo(A0M,q0M);}else {o0M.lineTo(z0M,q0M);}o0M.lineTo(j0M,q0M);if(typeof L0M != A2Y){o0M.fill();}o0M.globalAlpha=1;if(u0M < f0M){t0M=y0M;f0M=u0M;}if(u0M > m0M){l0M=y0M;m0M=u0M;}}for(var e0M=0;e0M <= 1;e0M++){g0M=X0M?S0M - P0M * e0M:M0M + P0M * e0M;g0M=Math.round(g0M);if(g0M < f0M){t0M=W8J.xIntersection({x0:Y0M,x1:A0M,y0:O0M,y1:q0M},g0M);f0M=g0M;}if(g0M > m0M){l0M=W8J.xIntersection({x0:Y0M,x1:A0M,y0:O0M,y1:q0M},g0M);m0M=g0M;}}Q0M=W8J.clone(this.parameters.trend.parameters);if(this.highlighted){Q0M.opacity=1;}this.stx.plotLine(t0M,l0M,f0M,m0M,s0M,"segment",o0M,k0M,Q0M);if(this.highlighted){C0M=this.highlighted == "p0"?! ![]:!"1";V0M=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(o0M,Y0M,O0M,C0M);this.littleCircle(o0M,A0M,q0M,V0M);}};W8J.Drawing.fibonacci.prototype.reposition=function(E0M,h0M,K0M,W0M){U94.l65();if(!h0M){return;}W8J.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};W8J.Drawing.fibonacci.prototype.intersected=function(x1M,T1M,o1M){var R0M,N0M,D0M,I0M,p0M,G0M;R0M=this.p0;N0M=this.p1;if(!R0M || !N0M){return null;}D0M={0:R0M,1:N0M};for(var H0M in D0M){if(this.pointIntersection(D0M[H0M][0],D0M[H0M][1],o1M)){U94.D5h(1);this.highlighted=U94.m5h(H0M,"p");return {action:"drag",point:"p" + H0M};}}I0M=this.outer;p0M=this.rays;G0M=I0M && this.lineIntersection(x1M,T1M,o1M,"segment",I0M.p0,I0M.p1);if(!G0M){for(var b0M=0;b0M < p0M.length;b0M++){if(this.lineIntersection(x1M,T1M,o1M,"ray",p0M[b0M][0],p0M[b0M][1],!"")){G0M=! ![];break;}}}if(G0M){this.highlighted=! !{};return {action:"move",p0:W8J.clone(R0M),p1:W8J.clone(N0M),tick:x1M,value:T1M};}return null;};W8J.Drawing.fibonacci.prototype.reconstruct=function(u1M,k1M){k1M=W8J.replaceFields(k1M,W8J.reverseObject(W8J.Drawing.fibonacci.mapping));this.stx=u1M;this.parameters=k1M.parameters;if(!this.parameters){this.parameters=W8J.clone(this.stx.currentVectorParameters.fibonacci);}this.color=k1M.col;this.fillColor=k1M.fc;this.panelName=k1M.pnl;this.d0=k1M.d0;this.d1=k1M.d1;this.d2=k1M.d2;this.tzo0=k1M.tzo0;this.tzo1=k1M.tzo1;this.tzo2=k1M.tzo2;this.v0=k1M.v0;this.v1=k1M.v1;this.v2=k1M.v2;this.adjust();};W8J.Drawing.fibonacci.prototype.adjust=function(){var q1M;q1M=this.stx.panels[this.panelName];if(!q1M){return;}this.setPoint(0,this.d0,this.v0,q1M.chart);this.setPoint(1,this.d1,this.v1,q1M.chart);this.setOuter();};W8J.Drawing.fibonacci.prototype.serialize=function(){var j1M;j1M={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return W8J.replaceFields(j1M,W8J.Drawing.fibonacci.mapping);};W8J.Drawing.retracement=function(){var b2Y;b2Y="retracemen";b2Y+="t";U94.H65();this.name=b2Y;};W8J.inheritsFrom(W8J.Drawing.retracement,W8J.Drawing.fibonacci);W8J.Drawing.fibprojection=function(){var R2Y;R2Y="f";R2Y+="ibprojection";this.name=R2Y;this.dragToDraw=!1;this.p2=null;};W8J.inheritsFrom(W8J.Drawing.fibprojection,W8J.Drawing.fibonacci);U94.U5h(23);W8J.Drawing.fibprojection.prototype.recommendedLevels=[+"0",0.618,U94.a5h(0,"1"),1.272,1.618,2.618,4.236];W8J.Drawing.fibprojection.prototype.click=function(d1M,L1M,g1M){var O1M;O1M=this.stx.panels[this.panelName];if(!O1M){return;}this.copyConfig();if(!this.penDown){U94.U5h(23);this.setPoint(U94.m5h(0,"0"),L1M,g1M,O1M.chart);this.penDown=! !{};return ![];}if(this.accidentalClick(L1M,g1M)){this.stx.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],O1M.chart);this.parameters=W8J.clone(this.parameters);return ! !"1";}this.setPoint(1,L1M,g1M,O1M.chart);this.p2=[this.p1[0],this.p1[1]];return !{};;};W8J.Drawing.fibprojection.prototype.render=function(z1M){var j0Y,F0Y,Y2Y,z2Y,e2Y,r1M,P1M,Z1M,J1M,a1M,l1M,t1M,U1M,F1M,Q1M,w1M,X1M,y1M,Z0Y,k0Y,o0Y,e1M,A1M,v1M,f1M,c1M,B1M,I0Y,n1M,m1M,Y1M,s1M,S1M,i1M,C1M,V1M;j0Y="s";j0Y+="e";j0Y+="g";j0Y+="ment";F0Y="161.";F0Y+="8%";Y2Y="stx";Y2Y+="_ya";Y2Y+="xi";Y2Y+="s";z2Y="m";z2Y+="id";z2Y+="dl";z2Y+="e";e2Y="s";e2Y+="o";e2Y+="li";e2Y+="d";U94.l65();r1M=this.stx.panels[this.panelName];if(!r1M){return;}P1M=r1M.yAxis;if(!this.p1){return;}U94.U5h(1);var M4I=U94.a5h(1,0);U94.U5h(14);var t4I=U94.m5h(9,8);Z1M=this.p1[M4I] - this.p0["1" * t4I];J1M=this.stx.pixelFromTick(this.p0["0" ^ 0],r1M.chart);a1M=this.stx.pixelFromTick(this.p1[0],r1M.chart);l1M=this.stx.pixelFromValueAdjusted(r1M,this.p0[0],this.p0[1]);t1M=this.stx.pixelFromValueAdjusted(r1M,this.p1[0],this.p1[1]);U1M=null;F1M=null;if(this.p2){U1M=this.stx.pixelFromTick(this.p2[0],r1M.chart);F1M=this.stx.pixelFromValueAdjusted(r1M,this.p2[0],this.p2[1]);}Q1M={color:"auto",parameters:{pattern:e2Y,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=Q1M;}w1M=this.getLineColor(this.parameters.trend.color);z1M.textBaseline=z2Y;this.stx.canvasFont(Y2Y,z1M);U94.U5h(5);var T4I=U94.m5h(14,4);X1M=z1M.measureText(F0Y).width + T4I;y1M=this.color;if(y1M == "auto" || W8J.isTransparent(y1M)){y1M=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var M1M=0;M1M < this.parameters.fibs.length;M1M++){Z0Y="au";Z0Y+="to";k0Y="a";k0Y+="u";k0Y+="t";k0Y+="o";o0Y="aut";o0Y+="o";z1M.textAlign="left";z1M.fillStyle=y1M;e1M=this.parameters.fibs[M1M];if(!e1M.display)continue;A1M=this.stx.pixelFromValueAdjusted(r1M,this.p2[0],this.p2[1] + Z1M * e1M.level);v1M=W8J.xIntersection({x0:J1M,x1:a1M,y0:l1M,y1:t1M},A1M);f1M=this.parameters.extendLeft?+"0":J1M;c1M=r1M.left + r1M.width;if(this.parameters.printLevels){U94.D5h(1);var x4I=U94.a5h(833,167);U94.U5h(1);var L4I=U94.m5h(5,5);U94.U5h(1);var H4I=U94.m5h(832,64);U94.D5h(5);var U4I=U94.a5h(2869,9);B1M=Math.round(e1M.level * x4I) / L4I + (+"8797" <= (H4I,U4I)?"x":287.69 === +"461.79"?(545.41,! !"1"):"%");c1M-=X1M;if(this.parameters.printValues){I0Y="s";I0Y+="tx_y";I0Y+="ax";I0Y+="is";z1M.fillStyle=y1M;this.stx.canvasFont(I0Y,z1M);;}if(c1M < f1M){z1M.textAlign="right";}z1M.fillText(B1M,c1M,A1M);if(c1M < f1M){U94.D5h(13);c1M+=U94.a5h(0,"5");}else {c1M-=5;}}if(this.parameters.printValues){if(v1M < r1M.width){n1M=this.stx.transformedPriceFromPixel(A1M,r1M);if(P1M.priceFormatter){n1M=P1M.priceFormatter(this.stx,r1M,n1M);}else {n1M=this.stx.formatYAxisPrice(n1M,r1M);}if(z1M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(r1M,n1M,A1M,y1M,null,z1M);if(z1M == this.stx.chart.context){this.stx.startClip(r1M.name);}}}m1M=e1M.color;if(m1M == o0Y || W8J.isTransparent(m1M)){m1M=this.color;}if(m1M == k0Y || W8J.isTransparent(m1M)){m1M=this.stx.defaultColor;}Y1M=e1M.color;if(Y1M == "auto" || W8J.isTransparent(Y1M)){Y1M=this.fillColor;}if(Y1M == Z0Y || W8J.isTransparent(Y1M)){Y1M=this.stx.defaultColor;}z1M.fillStyle=Y1M;s1M=W8J.clone(e1M.parameters);if(this.highlighted){s1M.opacity=1;}this.stx.plotLine(f1M,c1M,A1M,A1M,this.highlighted?w1M:m1M,"segment",z1M,r1M,s1M);this.rays.push([[f1M,A1M],[c1M,A1M]]);z1M.globalAlpha=+"0.05";z1M.beginPath();z1M.moveTo(c1M,A1M);z1M.lineTo(f1M,A1M);if(f1M){z1M.lineTo(J1M,F1M);}else {z1M.lineTo(f1M,F1M);}z1M.lineTo(c1M,F1M);if(typeof Y1M != "undefined"){z1M.fill();}z1M.globalAlpha=1;}}S1M=W8J.clone(this.parameters.trend.parameters);if(this.highlighted){U94.D5h(22);S1M.opacity=U94.a5h("1",1752406560);}this.stx.plotLine(J1M,a1M,l1M,t1M,w1M,"segment",z1M,r1M,S1M);if(this.p2){this.stx.plotLine(a1M,U1M,t1M,F1M,w1M,j0Y,z1M,r1M,S1M);}if(this.highlighted){i1M=this.highlighted == "p0"?!0:!"1";C1M=this.highlighted == "p1"?!"":!"1";V1M=this.highlighted == "p2"?! !1:![];this.littleCircle(z1M,J1M,l1M,i1M);this.littleCircle(z1M,a1M,t1M,C1M);this.littleCircle(z1M,U1M,F1M,V1M);}};W8J.Drawing.fibprojection.prototype.move=function(K1M,h1M,E1M){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[h1M,E1M];}else {this.p2=[h1M,E1M];}this.render(K1M);};W8J.Drawing.fibprojection.prototype.reposition=function(N1M,W1M,D1M,I1M){U94.H65();var E0Y,H1M,b1M,R1M;E0Y="m";E0Y+="ov";E0Y+="e";if(!W1M){return;}H1M=this.stx.panels[this.panelName];b1M=W1M.tick - D1M;R1M=W1M.value - I1M;if(W1M.action == E0Y){this.setPoint(0,W1M.p0[0] - b1M,W1M.p0[1] - R1M,H1M.chart);this.setPoint(1,W1M.p1[+"0"] - b1M,W1M.p1[+"1"] - R1M,H1M.chart);this.setPoint(2,W1M.p2[0] - b1M,W1M.p2[1] - R1M,H1M.chart);this.render(N1M);}else if(W1M.action == "drag"){this[W1M.point]=[D1M,I1M];this.setPoint(0,this.p0[0],this.p0["1" - 0],H1M.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],H1M.chart);this.setPoint(2,this.p2[0],this.p2["1" << 1621696000],H1M.chart);this.render(N1M);}};W8J.Drawing.fibprojection.prototype.intersected=function(k9M,u9M,q9M){var G1M,p1M,x9M,j9M,a0Y,O9M,L9M;G1M=this.p0;p1M=this.p1;x9M=this.p2;if(!G1M || !p1M || !x9M){return null;}j9M={0:G1M,1:p1M,2:x9M};for(var T9M in j9M){if(this.pointIntersection(j9M[T9M][0],j9M[T9M][1],q9M)){a0Y="d";a0Y+="r";a0Y+="a";a0Y+="g";U94.D5h(1);this.highlighted=U94.m5h(T9M,"p");return {action:a0Y,point:(6090 != 9339?(3010,5460) == 3765?(! ![],"o"):(129.52,7820) === (921,5320)?827.43:"p":(475.03,7.11e+3)) + T9M};}}O9M=this.rays;L9M=this.lineIntersection(k9M,u9M,q9M,"segment",G1M,p1M) || this.lineIntersection(k9M,u9M,q9M,"segment",p1M,x9M);if(!L9M){for(var o9M=0;o9M < O9M.length;o9M++){if(this.lineIntersection(k9M,u9M,q9M,"ray",O9M[o9M][0],O9M[o9M][1],! !{})){L9M=! ![];break;}}}if(L9M){this.highlighted=!0;return {action:"move",p0:W8J.clone(G1M),p1:W8J.clone(p1M),p2:W8J.clone(x9M),tick:k9M,value:u9M};}return null;};W8J.Drawing.fibprojection.prototype.adjust=function(){var g9M,o7Y,k7Y,Z7Y;g9M=this.stx.panels[this.panelName];if(!g9M){return;}this.setPoint(0,this.d0,this.v0,g9M.chart);o7Y=1800338821;k7Y=- +"260137220";Z7Y=2;for(var E7Y=1;U94.C4Y(E7Y.toString(),E7Y.toString().length,"2836" >> 497864576) !== o7Y;E7Y++){this.setPoint(2,this.d1,this.v1,g9M.chart);this.setPoint(7,this.d2,this.v2,g9M.chart);U94.D5h(40);Z7Y+=U94.a5h("2",957897792);}if(U94.C4Y(Z7Y.toString(),Z7Y.toString().length,"97762" >> 751276640) !== k7Y){this.setPoint(1,this.d1,this.v1,g9M.chart);this.setPoint(2,this.d2,this.v2,g9M.chart);}};W8J.Drawing.fibarc=function(){this.name="fibarc";U94.l65();;};W8J.inheritsFrom(W8J.Drawing.fibarc,W8J.Drawing.fibonacci);U94.D5h(18);W8J.Drawing.fibarc.prototype.recommendedLevels=[U94.m5h("0.382",1),0.5,0.618,1];W8J.Drawing.fibarc.prototype.setOuter=function(){var d9M,z9M,r9M,c9M,Y9M,A9M,f9M;d9M=this.stx.panels[this.panelName];if(!d9M){return;}this.outer={p0:W8J.clone(this.p0),p1:W8J.clone(this.p1)};z9M=this.stx.pixelFromValueAdjusted(d9M,this.p0[0],this.p0[1]);r9M=this.stx.pixelFromValueAdjusted(d9M,this.p1[0],this.p1[1]);c9M=this.stx.pixelFromTick(this.p0[0],d9M.chart);Y9M=this.stx.pixelFromTick(this.p1[0],d9M.chart);U94.D5h(55);A9M=U94.m5h(r9M,z9M,577802304,"2");f9M=W8J.xIntersection({x0:c9M,x1:Y9M,y0:z9M,y1:r9M},A9M);this.outer.p0[1]=this.stx.valueFromPixel(A9M,d9M);this.outer.p0[0]=this.stx.tickFromPixel(f9M,d9M.chart);};W8J.Drawing.fibarc.prototype.intersected=function(J9M,l9M,F9M){var U9M,y9M,e9M,M9M,w9M,C0Y,P9M,m9M,a9M,S9M,t9M;U9M=this.stx.panels[this.panelName];if(!U9M){return;}y9M=this.p0;e9M=this.p1;M9M=this.outer;if(!y9M || !e9M){return null;}w9M={0:y9M,1:e9M};for(var n9M in w9M){if(this.pointIntersection(w9M[n9M][0],w9M[n9M][+"1"],F9M)){U94.U5h(1);this.highlighted=U94.a5h(n9M,+"710.02" !== 9730?(7280,"495" - 0) < (3424,169.63)?!0:(496.74,8530) < 9260?"p":"U":"D");return {action:"drag",point:((683.97,"885.85" * 1) <= (8155,7650)?"p":"0x1a88" & 2147483647) + n9M};}}U94.l65();if(this.lineIntersection(J9M,l9M,F9M,"segment",M9M.p0,M9M.p1)){C0Y="mo";C0Y+="ve";this.highlighted=! !{};return {action:C0Y,p0:W8J.clone(y9M),p1:W8J.clone(e9M),tick:J9M,value:l9M};}P9M={x0:y9M[0],x1:e9M["0" & 2147483647],y0:y9M[1],y1:e9M["1" << 1667042976]};m9M=W8J.convertBoxToPixels(this.stx,this.panelName,P9M);a9M={x:Math.abs(Math.sqrt("2" | 2) * (m9M.x1 - m9M.x0)),y:Math.abs(Math.sqrt(2) * (m9M.y1 - m9M.y0))};S9M=this.stx.pixelFromTick(J9M,U9M.chart);t9M=this.stx.pixelFromValueAdjusted(U9M,J9M,l9M);if(S9M + F9M.r < m9M.x1 - a9M.x || S9M - F9M.r > m9M.x1 + a9M.x){return null;}if(t9M + F9M.r < m9M.y1 - a9M.y || t9M - F9M.r > m9M.y1 + a9M.y){return null;}if(m9M.y0 < m9M.y1 && t9M - F9M.r > m9M.y1){return null;}if(m9M.y0 > m9M.y1 && t9M + F9M.r < m9M.y1){return null;}this.highlighted=!0;return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:J9M,value:l9M};};W8J.Drawing.fibarc.prototype.render=function(s9M){var O0Y,Z9M,K9M,V9M,v9M,i9M,X9M,b9M,R9M,N9M,W9M,d0Y,P0Y,Q9M,p9M,D9M,h9M,G9M,x8M,C9M,E9M,B9M,I9M,V0Y,T8M,o8M;O0Y="seg";O0Y+="me";O0Y+="nt";Z9M=this.stx.panels[this.panelName];U94.l65();if(!Z9M){return;}K9M=Z9M.yAxis;if(!this.p1){return;}V9M=this.stx.pixelFromTick(this.p0[0],Z9M.chart);v9M=this.stx.pixelFromTick(this.p1[0],Z9M.chart);i9M=this.stx.pixelFromValueAdjusted(Z9M,this.p0[0],this.p0[1]);X9M=this.stx.pixelFromValueAdjusted(Z9M,this.p1[0],this.p1[1]);U94.U5h(56);b9M=U94.m5h(X9M,i9M);U94.D5h(57);R9M=Math.abs(U94.m5h(V9M,X9M,i9M,v9M));N9M=this.getLineColor(this.parameters.trend.color);s9M.textBaseline="middle";this.stx.canvasFont("stx_yaxis",s9M);W9M=this.getLineColor();for(var H9M=0;H9M < this.parameters.fibs.length;H9M++){d0Y="a";d0Y+="u";d0Y+="to";P0Y="a";P0Y+="u";P0Y+="t";P0Y+="o";s9M.fillStyle=W9M;Q9M=this.parameters.fibs[H9M];if(Q9M.level < 0 || !Q9M.display)continue;U94.D5h(14);var D4I=U94.a5h(7,6);U94.U5h(21);var X4I=U94.a5h(15,6,10,32,3);U94.D5h(5);var A4I=U94.a5h(5,3);p9M=Math.abs(this.p1[D4I] - this.p0[X4I]) * Math.sqrt(A4I) * Q9M.level;U94.U5h(11);var b4I=U94.a5h(323,12,9,3);U94.D5h(5);var R4I=U94.m5h(6,7);U94.U5h(58);var e4I=U94.m5h(20,1,8,6,7);D9M=this.p1[+"1"] + p9M * (b9M?-("1" & 2147483647):b4I) * (K9M.flipped?R4I:e4I);h9M=this.stx.pixelFromValueAdjusted(Z9M,this.p0[+"0"],D9M);G9M=W8J.xIntersection({x0:V9M,x1:v9M,y0:i9M,y1:X9M},h9M);if(this.parameters.printLevels){s9M.textAlign="center";U94.U5h(59);var z4I=U94.a5h(14,1,14,255);U94.U5h(3);var Y4I=U94.m5h(17,105617,114400);U94.U5h(60);var F7I=U94.m5h(9,3,8,18);U94.D5h(1);var I7I=U94.a5h(8057,733);U94.D5h(5);var o7I=U94.m5h(20,19);U94.U5h(61);var k7I=U94.a5h(5161,5189,5161,13);x8M=Math.round(Q9M.level * 1000) / +"10" + (("257" | z4I,Y4I) == (274.75,+"161")?(609.31,"584.56" * F7I):I7I >= (230.46,"554.51" * o7I)?"%":k7I);if(this.parameters.printValues){s9M.fillStyle=W9M;this.stx.canvasFont("stx_yaxis",s9M);;}s9M.fillText(x8M,v9M,Math.round(h9M - 5));}s9M.textAlign="left";if(this.parameters.printValues){if(G9M < Z9M.width){C9M=D9M;if(K9M.priceFormatter){C9M=K9M.priceFormatter(this.stx,Z9M,C9M);}else {C9M=this.stx.formatYAxisPrice(C9M,Z9M);}if(s9M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Z9M,C9M,h9M,W9M,null,s9M);if(s9M == this.stx.chart.context){this.stx.startClip(Z9M.name);}}}E9M=Q9M.color;if(E9M == "auto" || W8J.isTransparent(E9M)){E9M=this.getLineColor();}s9M.strokeStyle=this.highlighted?N9M:E9M;B9M=Q9M.color;if(B9M == P0Y || W8J.isTransparent(B9M)){B9M=this.fillColor;}if(B9M == d0Y || W8J.isTransparent(B9M)){B9M=this.stx.defaultColor;}s9M.fillStyle=B9M;s9M.globalAlpha=this.highlighted?1:Q9M.parameters.opacity;s9M.lineWidth=Q9M.parameters.lineWidth;if(s9M.setLineDash){s9M.setLineDash(W8J.borderPatternToArray(s9M.lineWidth,Q9M.parameters.pattern));s9M.lineDashOffset=0;;}s9M.save();s9M.beginPath();U94.U5h(62);s9M.scale(U94.m5h(R9M,"1"),1);U94.D5h(18);s9M.arc(U94.m5h(v9M,R9M),X9M,Math.abs(h9M - X9M),"0" - 0,Math.PI,!b9M);if(this.pattern != "none"){s9M.stroke();}s9M.globalAlpha=0.05;s9M.fill();s9M.restore();if(s9M.setLineDash){s9M.setLineDash([]);}s9M.globalAlpha=1;}s9M.textAlign="left";I9M=W8J.clone(this.parameters.trend.parameters);if(this.highlighted){I9M.opacity=1;}U94.D5h(29);this.stx.plotLine(v9M,U94.m5h(V9M,v9M,2),X9M,U94.a5h(i9M,X9M,2),N9M,O0Y,s9M,Z9M,I9M);if(this.highlighted){V0Y="p";V0Y+="1";T8M=this.highlighted == "p0"?! ![]:!{};o8M=this.highlighted == V0Y?! !"1":!1;this.littleCircle(s9M,V9M,i9M,T8M);this.littleCircle(s9M,v9M,X9M,o8M);}};W8J.Drawing.fibfan=function(){this.name="fibfan";;};W8J.inheritsFrom(W8J.Drawing.fibfan,W8J.Drawing.fibonacci);U94.D5h(18);W8J.Drawing.fibfan.prototype.recommendedLevels=[0,U94.a5h("0.382",1),0.5,0.618,1];W8J.Drawing.fibfan.prototype.setOuter=function(){};W8J.Drawing.fibfan.prototype.render=function(k8M){var c0Y,w0Y,q8M,t8M,u8M,g8M,j8M,f8M,l8M,U8M,w8M,S8M,P8M,F8M,y8M,e8M,r8M,A8M,L8M,J8M,O8M,c8M,s8M,l0Y,m8M,d8M,z8M,M8M,Y8M,g0Y,Z8M,Q8M;c0Y="1";c0Y+="61.";c0Y+="8";c0Y+="%";w0Y="mid";w0Y+="d";w0Y+="le";q8M=this.stx.panels[this.panelName];if(!q8M){return;}t8M=q8M.yAxis;if(!this.p1){return;}u8M=this.stx.pixelFromTick(this.p0[0],q8M.chart);g8M=this.stx.pixelFromTick(this.p1[0],q8M.chart);j8M=this.stx.pixelFromValueAdjusted(q8M,this.p0[0],this.p0[1]);f8M=this.stx.pixelFromValueAdjusted(q8M,this.p1[0],this.p1[1]);l8M=Math.min(f8M,j8M);U8M=Math.max(f8M,j8M);U94.U5h(5);w8M=U94.m5h(U8M,l8M);U94.D5h(63);S8M=U94.a5h(j8M,g8M,u8M,"0",f8M);P8M=this.getLineColor(this.parameters.trend.color);k8M.textBaseline=w0Y;this.stx.canvasFont("stx_yaxis",k8M);U94.U5h(64);var Z7I=U94.a5h(18,19,1,36,11);F8M=k8M.measureText(c0Y).width + Z7I;y8M=Number.MAX_VALUE;U94.U5h(65);var j7I=U94.m5h(13,0,9,14,8);e8M=Number.MAX_VALUE * j7I;r8M=this.color;if(r8M == "auto" || W8J.isTransparent(r8M)){r8M=this.stx.defaultColor;}this.rays=[];for(var a8M=0;a8M < this.parameters.fibs.length;a8M++){k8M.fillStyle=r8M;A8M=this.parameters.fibs[a8M];if(!A8M.display)continue;L8M=this.stx.pixelFromValueAdjusted(q8M,this.p0[0],(this.p0[1] - this.p1[1]) * A8M.level + this.p1[1]);J8M=W8J.xIntersection({x0:g8M,x1:g8M,y0:j8M,y1:f8M},L8M);O8M=q8M.left;if(g8M > u8M){O8M+=q8M.width;}U94.D5h(66);c8M=U94.a5h(u8M,L8M,J8M,j8M,j8M,O8M,u8M);if(u8M > O8M - (this.parameters.printLevels?F8M + 5:0) && g8M > u8M)continue;else if(u8M < O8M + (this.parameters.printLevels?F8M + +"5":0) && g8M < u8M)continue;if(this.parameters.printLevels){U94.D5h(67);var E7I=U94.a5h(19,989,664,3);U94.D5h(68);var a7I=U94.a5h(23,6,19,1);s8M=Math.round(A8M.level * E7I) / a7I + "%";if(g8M > u8M){l0Y="l";l0Y+="eft";O8M-=F8M;k8M.textAlign=l0Y;}else {O8M+=F8M;k8M.textAlign="right";}if(this.parameters.printValues){k8M.fillStyle=r8M;this.stx.canvasFont("stx_yaxis",k8M);;}U94.U5h(66);c8M=U94.m5h(u8M,L8M,J8M,j8M,j8M,O8M,u8M);k8M.fillText(s8M,O8M,c8M);if(g8M > u8M){O8M-=5;}else {U94.U5h(18);O8M+=U94.a5h("5",1);}}k8M.textAlign="left";if(this.parameters.printValues){if(J8M < q8M.width){m8M=this.stx.transformedPriceFromPixel(L8M,q8M);if(t8M.priceFormatter){m8M=t8M.priceFormatter(this.stx,q8M,m8M);}else {m8M=this.stx.formatYAxisPrice(m8M,q8M);}if(k8M == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(q8M,m8M,L8M,r8M,null,k8M);if(k8M == this.stx.chart.context){this.stx.startClip(q8M.name);}}}d8M=A8M.color;if(d8M == "auto" || W8J.isTransparent(d8M)){d8M=this.color;}if(d8M == "auto" || W8J.isTransparent(d8M)){d8M=this.stx.defaultColor;}z8M=A8M.color;if(z8M == "auto" || W8J.isTransparent(z8M)){z8M=this.fillColor;}if(z8M == "auto" || W8J.isTransparent(z8M)){z8M=this.stx.defaultColor;}k8M.fillStyle=z8M;if(this.parameters.printLevels){U94.D5h(66);c8M=U94.a5h(u8M,L8M,J8M,j8M,j8M,O8M,u8M);}M8M=W8J.clone(A8M.parameters);if(this.highlighted){M8M.opacity=1;}this.stx.plotLine(u8M,O8M,j8M,c8M,this.highlighted?P8M:d8M,"segment",k8M,q8M,M8M);this.rays.push([[u8M,j8M],[O8M,c8M]]);k8M.globalAlpha=0.05;k8M.beginPath();k8M.moveTo(O8M,c8M);k8M.lineTo(u8M,j8M);k8M.lineTo(O8M,j8M);k8M.fill();U94.D5h(18);k8M.globalAlpha=U94.m5h("1",1);if(L8M < y8M){y8M=L8M;}if(L8M > e8M){e8M=L8M;}}for(var n8M=+"0";n8M <= +"1";n8M++){Y8M=S8M?U8M - w8M * n8M:l8M + w8M * n8M;Y8M=Math.round(Y8M);if(Y8M < y8M){y8M=Y8M;}if(Y8M > e8M){e8M=Y8M;}}if(this.highlighted){g0Y="p";g0Y+="0";Z8M=this.highlighted == g0Y?! !{}:!1;Q8M=this.highlighted == "p1"?! ![]:![];this.littleCircle(k8M,u8M,j8M,Z8M);this.littleCircle(k8M,g8M,f8M,Q8M);}};W8J.Drawing.fibtimezone=function(){U94.l65();this.name="fibtimezone";;};W8J.inheritsFrom(W8J.Drawing.fibtimezone,W8J.Drawing.fibonacci);W8J.Drawing.fibtimezone.prototype.render=function(X8M){var m0Y,q0Y,N0Y,v8M,B8M,h8M,R8M,N8M,H8M,D8M,x5M,I8M,W8M,i8M,p8M,E8M,K8M,C8M,V8M,b8M,G0Y,T5M,o5M,G8M;m0Y="se";m0Y+="gment";q0Y="l";q0Y+="e";q0Y+="ft";N0Y="ce";N0Y+="n";N0Y+="te";N0Y+="r";v8M=this.stx.panels[this.panelName];if(!v8M){return;}if(!this.p1){return;}B8M=this.stx.pixelFromTick(this.p0[0],v8M.chart);h8M=this.stx.pixelFromTick(this.p1[0],v8M.chart);R8M=this.stx.pixelFromValueAdjusted(v8M,this.p0[0],this.p0[1]);N8M=this.stx.pixelFromValueAdjusted(v8M,this.p1[0],this.p1[1]);H8M=[1,0];D8M=this.getLineColor(this.parameters.trend.color);X8M.textBaseline="middle";this.stx.canvasFont("stx_yaxis",X8M);x5M=20;I8M=this.p1[0] - this.p0[0];W8M=this.color;if(W8M == "auto" || W8J.isTransparent(W8M)){W8M=this.stx.defaultColor;}X8M.textAlign=N0Y;i8M=B8M;p8M=v8M.yAxis.top;E8M=v8M.yAxis.bottom;K8M=0;C8M=this.parameters.timezone.color;if(C8M == "auto" || W8J.isTransparent(C8M)){C8M=this.color;}if(C8M == "auto" || W8J.isTransparent(C8M)){C8M=this.stx.defaultColor;}V8M=this.parameters.timezone.color;if(V8M == "auto" || W8J.isTransparent(V8M)){V8M=this.fillColor;}if(V8M == "auto" || W8J.isTransparent(V8M)){V8M=this.stx.defaultColor;}if(this.parameters.printLevels){U94.D5h(5);E8M-=U94.m5h(x5M,7);}b8M=W8J.clone(this.parameters.timezone.parameters);if(this.highlighted){b8M.opacity=1;}do {i8M=this.stx.pixelFromTick(this.p0[+"0"] + K8M * I8M,v8M.chart);if(B8M < h8M && i8M > v8M.left + v8M.width)break;else if(B8M > h8M && i8M < v8M.left)break;if(this.parameters.printLevels){X8M.fillStyle=W8M;X8M.fillText(h8M > B8M?K8M:K8M * -1,i8M,E8M + ("7" & 2147483647));}X8M.fillStyle=V8M;this.stx.plotLine(i8M,i8M,0,E8M,this.highlighted?D8M:C8M,"segment",X8M,v8M,b8M);X8M.globalAlpha=0.05;X8M.beginPath();X8M.moveTo(B8M,p8M);X8M.lineTo(i8M,p8M);X8M.lineTo(i8M,E8M);X8M.lineTo(B8M,E8M);X8M.fill();X8M.globalAlpha=+"1";U94.D5h(69);var C7I=U94.a5h(18,6,11,161,4);K8M=H8M[0] + H8M["1" * C7I];H8M.unshift(K8M);}while(I8M);X8M.textAlign=q0Y;this.stx.plotLine(B8M,h8M,R8M,N8M,D8M,m0Y,X8M,v8M,b8M);if(this.highlighted){G0Y="p";G0Y+="0";T5M=this.highlighted == G0Y?! !{}:! !0;o5M=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(X8M,B8M,R8M,T5M);this.littleCircle(X8M,h8M,N8M,o5M);}else {G8M=this.stx.valueFromPixel(v8M.height / 2,v8M);this.setPoint(0,this.p0[0],G8M,v8M.chart);this.setPoint(1,this.p1[0],G8M,v8M.chart);}};W8J.Drawing.fibtimezone.prototype.intersected=function(L5M,g5M,q5M){var J0Y,k5M,j5M,d5M,O5M,z5M;J0Y="seg";U94.H65();J0Y+="ment";k5M=this.p0;j5M=this.p1;d5M=this.stx.panels[this.panelName];if(!k5M || !j5M || !d5M){return null;}O5M={0:k5M,1:j5M};for(var u5M in O5M){if(this.pointIntersection(O5M[u5M][+"0"],O5M[u5M]["1" | 0],q5M)){U94.D5h(1);this.highlighted=U94.m5h(u5M,"p");return {action:"drag",point:"p" + u5M};}}z5M=this.lineIntersection(L5M,g5M,q5M,J0Y);if(z5M || q5M.x0 <= this.p0[+"0"] && q5M.x1 >= k5M[0]){this.highlighted=! !1;return {action:"move",p0:W8J.clone(k5M),p1:W8J.clone(j5M),tick:L5M,value:g5M};}return null;};W8J.Drawing.arrow_v0=function(){this.name="arrow";U94.U5h(13);U94.l65();this.dimension=[U94.a5h(0,"11"),11];U94.D5h(22);this.points=[["1483" >> 473137632 <= (4579,136.71)?(! ![],314.41):"M",3,0,(+"562",6870) > 272?6006 > (6168,6240)?"359.6" - 0 > +"5270"?0x17db:(!1,0x852):"L":0xf5b,7,U94.a5h("0",332779520),"L",7,5,3270 <= (8920,"646.35" * 1)?(784.15,+"366.99") <= +"8390"?("z","p"):! !{}:"L",10,5,(2046,7305) === 2630?(+"0xc74",563.09):"L",5,U94.a5h(0,"10",U94.D5h(13)),(+"583.27",+"6590") > (5370,5550)?1510 !== (9730,406)?"L":2600 > (+"2338",203.58)?829.37:(! !1,+"0x1fab"):528.79,0,5,(7376,6874) < (662.95,645)?8130 <= 810.35?0x1e94:("V",0x220d):"L",3,+"5",(6139,6099) != 9574?"L":669,3,0]];};W8J.inheritsFrom(W8J.Drawing.arrow_v0,W8J.Drawing.shape);W8J.Drawing.xcross=function(){var B0Y;B0Y="xc";B0Y+="r";B0Y+="os";B0Y+="s";this.name=B0Y;this.dimension=[7,7];U94.U5h(12);this.points=[[3720 === (+"4390","9446" << 527705344)?(9839,4410) === 7060?![]:(78.56,509.18):"M",U94.a5h(2147483647,"1"),0,(57.1,1809) != 2300?"L":+"413.93" === 4848?5.92e+2:(3549,3450) >= (6640,9368)?(+"0x14c8",0x2162):"O",3,2,"L",U94.a5h(0,"5",U94.D5h(13)),0,"L",6,1,+"7620" <= (577.15,2082)?("399.28" - 0,"R"):"L",4,3,(1065,+"489") >= ("5100" ^ 0)?("0x1189" | 1,0x15de):"L",6,5,3050 === (9690,3380)?(9742,351) < 5713?(4940,5050) >= (464.15,1940)?("L",+"0x9b1"):9.25e+3:+"5.40e+3":"L",U94.m5h("5",2050507072,U94.D5h(22)),U94.a5h(0,"6",U94.U5h(13)),(9860,6609) <= 9820?307.94 >= 311?0x179b:"L":("O","6.20e+2" << 779695776),3,+"4",(7470,8208) === 869.19?"o":"L",1,6,"L",0,5,(+"7105",8842) > (130.6,884.18)?32.78 >= 636.6?"534.14" * 1:"L":(! !{},+"315.21"),2,3,+"8380" > +"9810"?(888.15,"O"):"L",0,1,(7460,+"18") == (+"245.54",9674)?(0x15b4,0x2d6):"L",1,0]];;};W8J.inheritsFrom(W8J.Drawing.xcross,W8J.Drawing.shape);W8J.Drawing.check=function(){this.name="check";this.dimension=[8,9];U94.D5h(12);this.points=[["M",1,5,"L",0,6,(2370,2580) !== ("708.92" * 1,9710)?"L":! !{},U94.m5h(2147483647,"2"),8,8132 === "318.7" - 0?"M":"L",7,1,"L",6,0,(784,+"672.5") != (320,4920)?+"4451" < ("2521" | 2392,474.26)?(0x2387,! !""):(859.95,8263) != ("1680" >> 962175392,13.83)?"L":(542.06,618.98):(! !"",+"0x389"),2,6,5294 <= (+"4200","223.46" - 0)?2670 >= 4705?4.95e+3:2.53e+3:"L",1,5]];;};W8J.inheritsFrom(W8J.Drawing.check,W8J.Drawing.shape);W8J.Drawing.star=function(){this.name="star";U94.U5h(5);this.dimension=[12,U94.m5h("12",0)];U94.D5h(23);this.points=[[(957.91,2560) != +"7879"?2509 > 38.45?"M":(0xfbf,"U"):("o","X"),U94.a5h(0,"0"),4,"L",4,4,"L",5.5,U94.m5h("0",0,U94.U5h(5)),"L",7,4,3616 == (817.05,618.9)?2.07e+3:450.87 >= (4041,+"457.28")?! !1:(408.13,1590) >= +"8540"?(0x1dff,"p"):"L",U94.a5h(2147483647,"11",U94.D5h(12)),4,(+"7445",9070) === 4220?7.95e+2:"L",8,7,(8040,"5382" * 1) === 6440?! !"1":"L",U94.m5h(9,"9",U94.U5h(23)),11,6226 != 6129?733.93 !== +"360"?"L":(361.85,206.16):(711.68,"D"),5.5,U94.a5h("9",305781568,U94.D5h(22)),"L",2,11,3646 > 9280?(838.88,! !{}):(274.98,9057) != 8444?"L":(621.38,386.95),3,7,(171.22,+"250.14") !== 964.93?(+"3497",1447) === 9510?("u",0x1ea5):("5280" & 2147483647) === 397?!0:"L":"h",0,4]];U94.H65();;};W8J.inheritsFrom(W8J.Drawing.star,W8J.Drawing.shape);W8J.Drawing.heart=function(){this.name="heart";U94.l65();this.dimension=[23,+"20"];U94.U5h(18);this.points=[["M",11,3,"B",11,U94.m5h("2.4",1),+"10",0,6,+"0",9750 >= 7584?"B":(222.23,3.41e+3),+"0",0,0,7.5,0,7.5,(7140,58.08) == (2746,2120)?+"60.42" == ("187.17" - 0,2412)?0x1519:(0x5d5,![]):"B",0,11,4,15.4,11,U94.m5h("19",1,U94.U5h(18)),3727 === (2245,634)?! !"":("8586" * 1,284.14) < 75.63?(0x3d8,+"8.34e+2"):5750 <= (614.85,624)?0x242:"B",18,15.4,22,11,22,7.5,"B",22,7.5,U94.m5h("22",0,U94.D5h(5)),0,+"16",0,("3740" | 512) !== +"7537"?"B":"J",13,0,11,U94.a5h("2.4",0,U94.U5h(5)),+"11",U94.m5h(2147483647,"3",U94.U5h(12))]];;};W8J.inheritsFrom(W8J.Drawing.heart,W8J.Drawing.shape);W8J.Drawing.focusarrow=function(){this.name="focusarrow";U94.U5h(5);U94.H65();this.dimension=[U94.a5h("7",0),5];U94.D5h(18);this.points=[["M",0,U94.a5h("0",1),(3865,2270) !== (6310,210)?(5668,5770) != +"1356"?"L":671.83 <= 9535?(0x2679,"U"):145.41:("0xa4f" | 2120,"784.38" * 1),2,2,(259.69,+"9820") < ("1227" & 2147483647)?0x2ca:"L",0,U94.a5h(2147483647,"4",U94.D5h(12)),2550 != (3050,+"4720")?(7390,976.56) >= ("9960" & 2147483647,356.58)?(913.5,8680) > 508?"L":(6.44e+3,"m"):("P",3.05e+3):(4.88e+3,919.70),U94.m5h("0",1,U94.D5h(18)),0],["M",6,0,(+"7570",3406) != 6730?"L":(842.69,9456) != 669.12?3600 < 409?(7.26e+3,7.97e+3):9.75e+3:(0x8f4,8.43e+3),U94.a5h("4",1095314080,U94.U5h(40)),2,(491.99,100.14) == (7660,8563)?5.07e+3:(247.89,300.8) < (8480,563.73)?"L":688.67,6,4,(+"3870",439) == (8780,2004)?(9.68e+3,0x4d9):(+"5590",446.9) > (6999,7850)?3630 >= (1360,929.92)?(2.73e+3,5.54e+3):5.95e+3:"L",6,U94.m5h(2147483647,"0",U94.U5h(12))]];;};W8J.inheritsFrom(W8J.Drawing.focusarrow,W8J.Drawing.shape);W8J.Drawing.crossline=function(){U94.H65();this.name="crossline";};W8J.inheritsFrom(W8J.Drawing.crossline,W8J.Drawing.horizontal);W8J.extend(W8J.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(r5M,A5M){return !{};},adjust:function(){var c5M;U94.l65();c5M=this.stx.panels[this.panelName];if(!c5M){return;}this.setPoint(0,this.d0,this.v0,c5M.chart);this.p1=W8J.clone(this.p0);},intersected:function(f5M,m5M,F5M){var Y5M;if(!this.p0 || !this.p1){return null;}U94.U5h(18);this.p1[0]+=U94.m5h("1",1);Y5M=this.lineIntersection(f5M,m5M,F5M,"line");this.p1=W8J.clone(this.p0);if(!Y5M){U94.U5h(13);this.p1[1]+=U94.a5h(0,"1");Y5M=this.lineIntersection(f5M,m5M,F5M,"line");this.p1=W8J.clone(this.p0);if(!Y5M){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0[0],this.p0[1],F5M)){this.highlighted="p0";}return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:f5M,value:m5M};},render:function(M5M){var y5M,n5M,a5M,l5M,S5M,J5M,e5M,t5M,P5M,U5M,w5M,s0Y,s5M;y5M=this.stx.panels[this.panelName];if(!y5M){return;}n5M=this.stx.pixelFromTick(this.p0[0],y5M.chart);a5M=this.stx.pixelFromValueAdjusted(y5M,this.p0[0],this.p0[1]);l5M=this.getLineColor();S5M={pattern:this.pattern,lineWidth:this.lineWidth};U94.D5h(1);this.stx.plotLine(n5M,U94.a5h(100,n5M),a5M,a5M,l5M,"horizontal",M5M,y5M,S5M);U94.D5h(70);this.stx.plotLine(n5M,n5M,a5M,U94.m5h(a5M,"100"),l5M,"vertical",M5M,y5M,S5M);if(this.axisLabel && !this.repositioner){this.stx.endClip();J5M=this.p0[1];if(y5M.chart.transformFunc){J5M=y5M.chart.transformFunc(this.stx,y5M.chart,J5M);}if(y5M.yAxis.priceFormatter){J5M=y5M.yAxis.priceFormatter(this.stx,y5M,J5M);}else {J5M=this.stx.formatYAxisPrice(J5M,y5M);}this.stx.createYAxisLabel(y5M,J5M,a5M,l5M);this.stx.startClip(y5M.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){e5M=this.stx.dateFromTick(this.p0[0],y5M.chart,!0);if(!W8J.ChartEngine.isDailyInterval(this.stx.layout.interval)){U94.U5h(1);var P7I=U94.a5h(944,56);P5M=e5M.getSeconds() * P7I + e5M.getMilliseconds();if(H8J.Date && this.stx.displayZone){t5M=new H8J.Date(e5M.getTime(),this.stx.displayZone);e5M=new Date(t5M.getFullYear(),t5M.getMonth(),t5M.getDate(),t5M.getHours(),t5M.getMinutes());e5M=new Date(e5M.getTime() + P5M);}}else {e5M.setHours(0,0,0,0);}U5M=W8J.mmddhhmm(W8J.yyyymmddhhmm(e5M));if(y5M.chart.xAxis.formatter){U5M=y5M.chart.xAxis.formatter(e5M,this.name,null,null,U5M);}else if(this.stx.internationalizer){if(e5M.getHours() !== 0 || e5M.getMinutes() !== 0){w5M=this.stx.internationalizer.monthDay.format(e5M);U94.U5h(71);var d7I=U94.m5h(704,11,389,7);U94.U5h(0);var O7I=U94.a5h(5,1816,22);U94.D5h(59);var V7I=U94.a5h(8417,8417,1,8399);U94.D5h(1);var w7I=U94.m5h(2056,114);U94.D5h(72);var c7I=U94.m5h(5,1510,1211,17);U94.U5h(73);var l7I=U94.m5h(5,401,392,401,6);w5M+=((d7I,O7I) === (V7I,w7I)?(c7I,l7I):" ") + this.stx.internationalizer.hourMinute.format(e5M);}else {w5M=this.stx.internationalizer.yearMonthDay.format(e5M);}U5M=w5M;}this.stx.endClip();this.stx.createXAxisLabel({panel:y5M,txt:U5M,x:n5M,backgroundColor:l5M,color:null,pointed:! ![],padding:2});this.stx.startClip(y5M.name);}}if(this.highlighted){s0Y="p";s0Y+="0";s5M=this.highlighted == s0Y?!0:!1;this.littleCircle(M5M,n5M,a5M,s5M);}}},! !{});W8J.Drawing.speedarc=function(){this.name="speedarc";U94.l65();this.printLevels=! !1;};W8J.inheritsFrom(W8J.Drawing.speedarc,W8J.Drawing.segment);W8J.extend(W8J.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth",r0Y],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(Z5M,Q5M,h5M){var v5M,E5M,h0Y,B5M,i5M,C5M,V5M;if(!this.p0 || !this.p1){return null;}v5M={0:this.p0,1:this.p1};for(var X5M in v5M){if(this.pointIntersection(v5M[X5M][0],v5M[X5M][1],h5M)){U94.U5h(1);this.highlighted=U94.m5h(X5M,"p");return {action:"drag",point:(973.15 == 296?(360.95,7570) > (582.04,6977)?(139.31,"K"):(! ![],"A"):"p") + X5M};}}U94.H65();E5M=this.lineIntersection(Z5M,Q5M,h5M,this.name);if(E5M){h0Y="m";h0Y+="o";h0Y+="ve";this.highlighted=!0;return {action:h0Y,p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:Z5M,value:Q5M};}B5M=this.p1[+"0"] - (this.p0[0] - this.p1[+"0"]);U94.U5h(18);i5M=this.p0[U94.a5h("0",1)];U94.U5h(12);C5M=this.p1[U94.m5h(2147483647,"1")];V5M=this.p0[1];if(Z5M > Math.max(B5M,i5M) || Z5M < Math.min(B5M,i5M)){return null;}if(Q5M > Math.max(V5M,C5M) || Q5M < Math.min(V5M,C5M)){return null;}this.highlighted=! ![];return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:Z5M,value:Q5M};},render:function(K5M){var y0Y,K0Y,n0Y,W5M,I5M,b5M,N5M,H5M,G5M,x4M,p5M,R5M,o4M,k4M,T4M,u4M,q4M,j4M,O4M;y0Y="l";y0Y+="e";y0Y+="f";y0Y+="t";K0Y="st";K0Y+="x_";K0Y+="yax";K0Y+="is";n0Y="a";n0Y+="u";n0Y+="to";W5M=this.stx.panels[this.panelName];if(!W5M){return;}if(!this.p1){return;}I5M=this.stx.pixelFromTick(this.p0[0],W5M.chart);b5M=this.stx.pixelFromTick(this.p1[0],W5M.chart);N5M=this.stx.pixelFromValueAdjusted(W5M,this.p0[0],this.p0[1]);H5M=this.stx.pixelFromValueAdjusted(W5M,this.p1[0],this.p1[1]);U94.U5h(56);G5M=U94.m5h(H5M,N5M);U94.U5h(57);x4M=Math.abs(U94.m5h(I5M,H5M,N5M,b5M));p5M=this.getLineColor();K5M.strokeStyle=p5M;R5M=this.fillColor;if(R5M == n0Y || W8J.isTransparent(R5M)){R5M=this.stx.defaultColor;}K5M.fillStyle=R5M;if(K5M.setLineDash){K5M.setLineDash(W8J.borderPatternToArray(this.lineWidth,this.pattern));K5M.lineDashOffset=+"0";;}this.stx.canvasFont(K0Y,K5M);for(var D5M=1;D5M < 3;D5M++){U94.U5h(8);var g7I=U94.m5h(2,2,4,7);U94.D5h(74);var N7I=U94.a5h(17,17,20,11,10);U94.D5h(14);var q7I=U94.a5h(7,5);o4M=Math.abs(this.p1[g7I] - this.p0[N7I]) * Math.sqrt(q7I) * D5M / ("3" - 0);U94.U5h(75);var m7I=U94.a5h(14,18,8,4,11);U94.U5h(31);var G7I=U94.a5h(58,8,7,11,18);U94.U5h(3);var J7I=U94.a5h(18,17,0);U94.D5h(14);var B7I=U94.a5h(14,15);U94.D5h(5);var s7I=U94.m5h(4,3);k4M=this.p1[m7I] + o4M * (G5M?G7I:"1" * J7I) * (W5M.yAxis.flipped?B7I:s7I);T4M=this.stx.pixelFromValueAdjusted(W5M,this.p0[0],k4M);K5M.save();K5M.beginPath();U94.U5h(7);K5M.scale(U94.a5h(1,x4M),1);U94.U5h(18);K5M.arc(U94.a5h(b5M,x4M),H5M,Math.abs(T4M - H5M),0,Math.PI,!G5M);K5M.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){K5M.stroke();}K5M.globalAlpha=0.1;K5M.fill();K5M.restore();K5M.globalAlpha=1;if(this.printLevels){K5M.fillStyle=p5M;K5M.textAlign="center";U94.D5h(1);u4M=U94.a5h("/3",D5M);K5M.fillText(u4M,b5M,Math.round(T4M - 5));K5M.fillStyle=R5M;}}K5M.textAlign=y0Y;q4M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};this.stx.plotLine(I5M,b5M,N5M,H5M,p5M,"segment",K5M,W5M,q4M);if(K5M.setLineDash){K5M.setLineDash([]);}if(this.highlighted){j4M=this.highlighted == "p0"?!"":! !0;O4M=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(K5M,I5M,N5M,j4M);this.littleCircle(K5M,b5M,H5M,O4M);}},reconstruct:function(g4M,L4M){this.stx=g4M;this.color=L4M.col;this.fillColor=L4M.fc;this.panelName=L4M.pnl;this.pattern=L4M.ptrn;this.lineWidth=L4M.lw;this.d0=L4M.d0;this.d1=L4M.d1;this.tzo0=L4M.tzo0;this.tzo1=L4M.tzo1;this.v0=L4M.v0;this.v1=L4M.v1;this.adjust();},serialize:function(){U94.H65();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! !{});W8J.Drawing.speedline=function(){var W0Y;W0Y="spe";U94.l65();W0Y+="e";W0Y+="dline";this.name=W0Y;this.printLevels=! ![];};W8J.inheritsFrom(W8J.Drawing.speedline,W8J.Drawing.speedarc);W8J.extend(W8J.Drawing.speedline.prototype,{intersected:function(f4M,m4M,F4M){var r4M,A4M,c4M,Y4M;r4M=this.p0;A4M=this.p1;U94.l65();if(!r4M || !A4M){return null;}c4M={0:r4M,1:A4M};for(var d4M in c4M){if(this.pointIntersection(c4M[d4M][0],c4M[d4M][1],F4M)){U94.U5h(1);this.highlighted=U94.a5h(d4M,("162.42" - 0,"7960" - 0) !== 266.22?378 > (283.39,5860)?754.83:"p":7.71e+3);return {action:"drag",point:(9609 < (7530,5026)?"H":(474.83,6774) <= ("125" ^ 0)?9498 > 3361?(0x3f8,7.99e+3):13.14:"p") + d4M};}}Y4M=this.rays;for(var z4M="0" - 0;z4M < Y4M.length;z4M++){if(this.lineIntersection(f4M,m4M,F4M,"ray",Y4M[z4M][0],Y4M[z4M][1],! !{})){this.highlighted=!0;return {action:"move",p0:W8J.clone(r4M),p1:W8J.clone(A4M),tick:f4M,value:m4M};}}return null;},render:function(y4M){U94.l65();var i0Y,t4M,e4M,n4M,J4M,l4M,C4M,M4M,P4M,V4M,h4M,E4M,B4M,i4M,a4M,f0Y,U4M,S4M,Q4M,w4M,Z4M,X4M,v4M,K4M,W4M,d8Y,O8Y,V8Y;i0Y="2";i0Y+="/3";t4M=this.stx.panels[this.panelName];if(!t4M){return;}if(!this.p1){return;}e4M=this.stx.pixelFromTick(this.p0[0],t4M.chart);n4M=this.stx.pixelFromTick(this.p1[0],t4M.chart);J4M=this.stx.pixelFromValueAdjusted(t4M,this.p0[0],this.p0[1]);l4M=this.stx.pixelFromValueAdjusted(t4M,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",y4M);C4M=this.getLineColor();M4M=this.color;if(M4M == "auto" || W8J.isTransparent(M4M)){M4M=this.stx.defaultColor;}y4M.strokeStyle=M4M;P4M=this.fillColor;if(P4M == "auto" || W8J.isTransparent(P4M)){P4M=this.stx.defaultColor;}y4M.fillStyle=P4M;V4M={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};B4M=[(1171,284.06) != 1990?"1":(+"1.73e+3","l"),i0Y,"1/3","3/2",(1774,9300) != 8490?"3":1524 !== 4046?(8.92e+3,0x18f9):("l",! !0)];U94.D5h(7);i4M=[1,U94.a5h(2,3),U94.a5h(1,3),U94.m5h(3,2),3];a4M=[];this.rays=[];for(var s4M=+"0";s4M < i4M.length;s4M++){f0Y="seg";f0Y+="m";f0Y+="en";f0Y+="t";U4M=i4M[s4M];if(U4M > 1 && !this.extension)continue;S4M=this.stx.pixelFromValueAdjusted(t4M,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * U4M);if(U4M > 1){Q4M=W8J.xIntersection({x0:e4M,x1:n4M,y0:J4M,y1:S4M},l4M);a4M.push(Q4M);}else {Q4M=W8J.xIntersection({x0:n4M,x1:n4M,y0:J4M,y1:l4M},S4M);a4M.push(S4M);}w4M=U4M > 1?Q4M:n4M;Z4M=U4M > 1?l4M:S4M;if(!this.confineToGrid){w4M=t4M.left;if(n4M > e4M){w4M+=t4M.width;}U94.U5h(66);Z4M=U94.a5h(e4M,S4M,n4M,J4M,J4M,w4M,e4M);}if(this.printLevels){if(U4M != 1 || this.extension){y4M.fillStyle=M4M;X4M=0;v4M=0;if(J4M > l4M){v4M=-5;y4M.textBaseline="bottom";}else {U94.U5h(23);v4M=U94.m5h(0,"5");y4M.textBaseline="top";}if(e4M > n4M){X4M=5;y4M.textAlign="right";}else {X4M=-5;y4M.textAlign="left";}if(U4M > 1){y4M.fillText(B4M[s4M],Q4M + (this.confineToGrid?+"0":X4M),l4M);}else {y4M.fillText(B4M[s4M],n4M,S4M + (this.confineToGrid?0:v4M));}y4M.fillStyle=P4M;}}this.stx.plotLine(e4M,w4M,J4M,Z4M,this.highlighted?C4M:M4M,f0Y,y4M,t4M,V4M);if(U4M == 1){h4M=w4M;E4M=Z4M;}this.rays.push([[e4M,J4M],[w4M,Z4M]]);y4M.globalAlpha=0.1;y4M.beginPath();y4M.moveTo(w4M,Z4M);y4M.lineTo(e4M,J4M);y4M.lineTo(h4M,E4M);y4M.fill();U94.D5h(23);y4M.globalAlpha=U94.a5h(1,"1");}y4M.textAlign="left";y4M.textBaseline="middle";if(this.confineToGrid){y4M.globalAlpha=+"0.3";y4M.beginPath();U94.D5h(5);y4M.strokeRect(e4M,J4M,U94.m5h(n4M,e4M),U94.a5h(l4M,J4M));y4M.moveTo(e4M,a4M[1]);y4M.lineTo(n4M,a4M[1]);y4M.moveTo(e4M,a4M[2]);y4M.lineTo(n4M,a4M[2]);if(this.extension){y4M.moveTo(a4M[+"3"],J4M);y4M.lineTo(a4M[3],l4M);y4M.moveTo(a4M[4],J4M);y4M.lineTo(a4M[4],l4M);}y4M.stroke();y4M.globalAlpha=1;}if(this.highlighted){K4M=this.highlighted == "p0"?! ![]:![];W4M=this.highlighted == "p1"?! !{}:!{};this.littleCircle(y4M,e4M,J4M,K4M);d8Y=155528567;O8Y=733388839;V8Y=2;for(var c8Y=1;U94.a4Y(c8Y.toString(),c8Y.toString().length,+"46381") !== d8Y;c8Y++){this.littleCircle(y4M,n4M,l4M,W4M);V8Y+=2;}if(U94.C4Y(V8Y.toString(),V8Y.toString().length,92806) !== O8Y){this.littleCircle(y4M,n4M,l4M,W4M);}}}},!0);W8J.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !1;};W8J.inheritsFrom(W8J.Drawing.gannfan,W8J.Drawing.speedline);W8J.extend(W8J.Drawing.gannfan.prototype,{render:function(H4M){var p0Y,N4M,b4M,D4M,R4M,T63,L63,I4M,x63,g63,d63,z63,j63,v0Y,p4M,r63,O63,G4M,o63,u63,q63,S0Y,u0Y,A63,c63;U94.l65();p0Y="stx_";p0Y+="yaxi";p0Y+="s";N4M=this.stx.panels[this.panelName];if(!N4M){return;}if(!this.p1){return;}b4M=this.stx.pixelFromTick(this.p0[0],N4M.chart);D4M=this.stx.pixelFromTick(this.p1[0],N4M.chart);R4M=this.stx.pixelFromValueAdjusted(N4M,this.p0[+"0"],this.p0[1]);T63=this.stx.pixelFromValueAdjusted(N4M,this.p1["0" & 2147483647],this.p1[1]);this.stx.canvasFont(p0Y,H4M);L63=this.getLineColor();I4M=this.color;if(I4M == "auto" || W8J.isTransparent(I4M)){I4M=this.stx.defaultColor;}H4M.strokeStyle=I4M;x63=this.fillColor;if(x63 == "auto" || W8J.isTransparent(x63)){x63=this.stx.defaultColor;}H4M.fillStyle=x63;g63={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};U94.D5h(7);j63=[1,2,3,4,8,U94.a5h(1,2),U94.m5h("1","3",962821504,U94.U5h(76)),U94.a5h(1,4,U94.U5h(7)),U94.m5h(1,8,U94.D5h(7))];this.rays=[];for(var k63=0;k63 < j63.length;k63++){v0Y="segme";v0Y+="nt";p4M=j63[k63];U94.D5h(77);r63=U94.m5h(D4M,b4M,b4M,p4M);U94.U5h(78);O63=U94.m5h(p4M,T63,R4M,R4M);G4M=N4M.left;if(D4M > b4M){G4M+=N4M.width;}U94.D5h(66);o63=U94.a5h(b4M,O63,D4M,R4M,R4M,G4M,b4M);if(this.printLevels){H4M.fillStyle=I4M;u63=0;q63=0;if(R4M > T63){q63=5;H4M.textBaseline="top";}else {S0Y="b";S0Y+="ot";S0Y+="t";S0Y+="om";q63=- +"5";H4M.textBaseline=S0Y;}if(b4M > D4M){u63=5;H4M.textAlign="left";}else {u0Y="ri";u0Y+="g";u0Y+="h";u0Y+="t";u63=-5;H4M.textAlign=u0Y;}if(p4M > "1" >> 1172657248){U94.D5h(1);H4M.fillText(U94.a5h("x1",p4M),U94.a5h(u63,r63),T63);}else {U94.D5h(79);H4M.fillText(U94.m5h(2147483647,p4M,"1","1x"),D4M,U94.m5h(q63,O63,U94.D5h(1)));}H4M.fillStyle=x63;}this.stx.plotLine(b4M,G4M,R4M,o63,this.highlighted?L63:I4M,v0Y,H4M,N4M,g63);this.rays.push([[b4M,R4M],[G4M,o63]]);if(p4M == +"1"){d63=G4M;z63=o63;}H4M.globalAlpha=+"0.1";H4M.beginPath();H4M.moveTo(G4M,o63);H4M.lineTo(b4M,R4M);H4M.lineTo(d63,z63);H4M.fill();H4M.globalAlpha=1;}H4M.textAlign="left";H4M.textBaseline="middle";if(this.highlighted){A63=this.highlighted == "p0"?! !1:!{};c63=this.highlighted == "p1"?! !{}:!{};this.littleCircle(H4M,b4M,R4M,A63);this.littleCircle(H4M,D4M,T63,c63);}}},! !{});W8J.Drawing.timecycle=function(){var Q0Y;U94.l65();Q0Y="timec";Q0Y+="yc";Q0Y+="le";this.name=Q0Y;this.printLevels=! ![];};W8J.inheritsFrom(W8J.Drawing.timecycle,W8J.Drawing.speedarc);W8J.extend(W8J.Drawing.timecycle.prototype,{intersected:function(e63,J63,m63){var Y63,F63,n63,y63,a63;Y63=this.p0;F63=this.p1;n63=this.stx.panels[this.panelName];if(!Y63 || !F63 || !n63){return null;}y63={0:Y63,1:F63};for(var f63 in y63){if(this.pointIntersection(y63[f63]["0" | 0],y63[f63][1],m63)){U94.D5h(1);this.highlighted=U94.m5h(f63,"p");return {action:"drag",point:"p" + f63};}}a63=this.lineIntersection(e63,J63,m63,"segment");if(a63 || m63.x0 <= this.p0[0] && m63.x1 >= Y63[0]){this.highlighted=! ![];return {action:"move",p0:W8J.clone(Y63),p1:W8J.clone(F63),tick:e63,value:J63};}return null;},render:function(t63){var t0Y,M0Y,l63,w63,Z63,B63,i63,X63,C63,W63,V63,U63,h63,P63,s63,Q63,E63,M63,v63,H63,M7Y,t7Y,T7Y,T0Y,b63,R63,K63;t0Y="l";t0Y+="e";t0Y+="ft";M0Y="mi";M0Y+="d";M0Y+="dl";M0Y+="e";l63=this.stx.panels[this.panelName];if(!l63){return;}if(!this.p1){return;}w63=this.stx.pixelFromTick(this.p0[0],l63.chart);Z63=this.stx.pixelFromTick(this.p1[0],l63.chart);B63=this.stx.pixelFromValueAdjusted(l63,this.p0[0],this.p0[1]);i63=this.stx.pixelFromValueAdjusted(l63,this.p1[0],this.p1[+"1"]);X63=0;C63=this.getLineColor();t63.textBaseline=M0Y;this.stx.canvasFont("stx_yaxis",t63);W63=20;V63=this.p1[0] - this.p0[0];t63.textAlign="center";U63=w63;h63=l63.yAxis.top;P63=l63.yAxis.bottom;s63=this.color;if(s63 == "auto" || W8J.isTransparent(s63)){s63=this.stx.defaultColor;}Q63=this.fillColor;if(Q63 == "auto" || W8J.isTransparent(Q63)){Q63=this.stx.defaultColor;}if(this.printLevels){U94.U5h(5);P63-=U94.m5h(W63,7);}E63={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};M63=[];t63.save();t63.fillStyle=Q63;U94.D5h(18);t63.globalAlpha=U94.m5h("0.05",1);do {U63=this.stx.pixelFromTick(this.p0[0] + X63 * V63,l63.chart);X63++;if(w63 < Z63 && U63 > l63.left + l63.width)break;else if(w63 > Z63 && U63 < l63.left)break;else if(U63 < l63.left || U63 > l63.left + l63.width)continue;t63.beginPath();t63.moveTo(w63,h63);t63.lineTo(U63,h63);t63.lineTo(U63,P63);t63.lineTo(w63,P63);t63.fill();M63.push({c:X63,x:U63});}while(V63);t63.globalAlpha=1;v63=0;for(var S63="0" & 2147483647;S63 < M63.length;S63++){this.stx.plotLine(M63[S63].x,M63[S63].x,0,P63,this.highlighted?C63:s63,"segment",t63,l63,E63);if(this.printLevels){t63.fillStyle=s63;U94.U5h(3);var r7I=U94.a5h(19,16,0);H63=this.stx.chart.context.measureText(M63[S63].c).width + r7I;if(H63 < this.stx.layout.candleWidth + v63){t63.fillText(M63[S63].c,M63[S63].x,P63 + 7);v63=0;}else {v63+=this.stx.layout.candleWidth;}}}t63.restore();t63.textAlign=t0Y;M7Y=-888836572;t7Y=-2031133724;T7Y=2;for(var L7Y="1" - 0;U94.C4Y(L7Y.toString(),L7Y.toString().length,9851) !== M7Y;L7Y++){this.stx.plotLine(w63,Z63,B63,i63,C63,"",t63,l63,E63);T7Y+=2;}if(U94.C4Y(T7Y.toString(),T7Y.toString().length,83852) !== t7Y){this.stx.plotLine(w63,Z63,B63,i63,C63,"segment",t63,l63,E63);}if(this.highlighted){T0Y="p";T0Y+="1";b63=this.highlighted == "p0"?!"":!"1";R63=this.highlighted == T0Y?! ![]:!1;this.littleCircle(t63,w63,B63,b63);this.littleCircle(t63,Z63,i63,R63);}else {K63=this.stx.valueFromPixel(l63.height / 2,l63);this.setPoint(+"0",this.p0[0],K63,l63.chart);this.setPoint(1,this.p1[0],K63,l63.chart);}}},!"");W8J.Drawing.regression=function(){this.name="regression";};W8J.inheritsFrom(W8J.Drawing.regression,W8J.Drawing.segment);W8J.extend(W8J.Drawing.regression.prototype,{configs:["color","lineWidth",x0Y,L0Y,"color1","lineWidth1","pattern1","active2","color2","lineWidth2",H0Y,"active3","color3",U0Y,"pattern3"],copyConfig:function(D63){var N63;W8J.Drawing.copyConfig(this,D63);N63=this.stx.currentVectorParameters;this.active1=! !N63.active1;this.active2=! !N63.active2;this.active3=! !N63.active3;this.color1=N63.color1 || "auto";this.color2=N63.color2 || "auto";this.color3=N63.color3 || "auto";this.lineWidth1=N63.lineWidth1;this.lineWidth2=N63.lineWidth2;this.lineWidth3=N63.lineWidth3;this.pattern1=N63.pattern1;this.pattern2=N63.pattern2;this.pattern3=N63.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]',D0Y,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(q23,G63,x23){var p63,I63,T23,o23;U94.l65();if(G63 < 0){return;}this.copyConfig();p63=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,G63,x23,p63.chart);this.penDown=! ![];I63=this.stx;this.field=I63.highlightedDataSetField;if(!this.field && p63 != I63.chart.panel){for(var k23 in I63.chart.seriesRenderers){T23=I63.chart.seriesRenderers[k23];if(T23.params.panel == p63.name){this.field=T23.seriesParams[0].field;break;}}for(var u23 in I63.layout.studies){o23=I63.layout.studies[u23];if(o23.panel == p63.name){this.field=Object.keys(o23.outputMap)[0];break;}}}return !{};}if(this.accidentalClick(G63,x23)){return this.dragToDraw;}this.setPoint(1,G63,x23,p63.chart);this.penDown=! !"";return ! !{};;},getYValue:function(r23){var X0Y,L23,g23,d23,A23,O23,j23,z23;X0Y="Clos";X0Y+="e";L23=this.stx.chart.dataSet[r23];g23=this.stx.chart.dataSet[r23];if(!L23){return null;}d23=this.stx.panels[this.panelName];A23=this.stx.getYAxisByField(d23,this.field) || d23.yAxis;if(this.stx.charts[d23.name] && d23.chart.transformFunc && A23 == d23.yAxis){g23=L23.transform;}if(!g23){return null;}O23=null;j23=null;z23=this.stx.defaultPlotField || X0Y;if(this.field){j23=W8J.existsInObjectChain(g23,this.field);if(!j23){return null;}O23=j23=j23.obj[j23.member];if(L23 != g23){O23=W8J.existsInObjectChain(L23,this.field);O23=O23.obj[O23.member];}if(typeof j23 == "object"){j23=j23[z23];O23=O23[z23];}}else {j23=g23[z23];O23=L23[z23];}return {transformed:j23,untransformed:O23};},render:function(J23){var Y23,m23,F23,s23,n23,Z23,a23,U23,C23,V23,h23,E23,w23,Q23,c23,y23,K23,W23,M23,S23,H23,P23,X23,v23,t23,l23,B23,i23,R23,b23,N23,e23,A0Y,D23,I23;Y23=this.stx.panels[this.panelName];if(!Y23){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < "0" << 129093344){return;}m23=this.stx.pixelFromTick(this.p0[0],Y23.chart);F23=this.stx.pixelFromTick(this.p1[0],Y23.chart);if(m23 < Y23.left && F23 < Y23.left){return;}if(m23 > Y23.right && F23 > Y23.right){return;}s23=this.stx.getYAxisByField(Y23,this.field);n23=[];Z23=[];a23=0;U23=0;C23=0;V23=0;h23=Math.min(this.p1[0],this.p0[+"0"]);U94.D5h(80);var h7I=U94.m5h(12,6,13,671,8);E23=Math.max(this.p1[+"0"],this.p0[0]) + h7I;U94.U5h(5);w23=U94.m5h(E23,h23);for(var f23=h23;f23 < E23;f23++){Q23=this.getYValue(f23);if(Q23){n23.push(Q23.transformed);Z23.push(Q23.untransformed);}}c23=n23.length;U94.U5h(81);y23=U94.m5h(c23,c23,1,2);K23=Math.pow(y23,2);U94.U5h(82);W23=U94.m5h(2,c23,y23,1,3);for(f23="0" * 1;f23 < c23;f23++){C23+=c23 * n23[f23] - a23;a23+=n23[f23];V23+=c23 * Z23[f23] - U23;U23+=Z23[f23];}U94.U5h(83);M23=U94.m5h(W23,c23,C23,K23,a23,y23,c23);U94.U5h(84);S23=U94.m5h(c23,y23,a23,M23);U94.D5h(83);H23=U94.a5h(W23,c23,V23,K23,U23,y23,c23);U94.U5h(84);P23=U94.a5h(c23,y23,U23,M23);if(this.p0[0] < this.p1[+"0"]){X23=S23;U94.D5h(85);v23=U94.m5h(M23,S23,w23);U94.D5h(5);this.p0[U94.a5h("1",0)]=P23;U94.D5h(85);this.p1[1]=U94.m5h(H23,P23,w23);}else {U94.U5h(85);X23=U94.m5h(M23,S23,w23);v23=S23;U94.U5h(85);this.p0[1]=U94.a5h(H23,P23,w23);this.p1[1]=P23;}U94.l65();t23=this.stx.pixelFromTransformedValue(X23,Y23,s23);l23=this.stx.pixelFromTransformedValue(v23,Y23,s23);B23=this.getLineColor();i23={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(m23,F23,t23,l23,B23,"segment",J23,Y23,i23);U94.U5h(5);this.stx.plotLine(m23,m23,U94.m5h(t23,20),U94.m5h(20,t23,U94.D5h(1)),B23,"segment",J23,Y23,i23);U94.U5h(5);this.stx.plotLine(F23,F23,U94.a5h(l23,20),U94.a5h(20,l23,U94.U5h(1)),B23,"segment",J23,Y23,i23);if(this.active1 || this.active2 || this.active3){U94.D5h(7);R23=U94.m5h(a23,c23);b23=0;for(f23=0;f23 < c23;f23++){b23+=Math.pow(n23[f23] - R23,2);}U94.D5h(7);N23=Math.sqrt(U94.m5h(b23,c23));e23={context:J23,panel:Y23,points:{0:{x:m23,v:X23},1:{x:F23,v:v23}},stddev:N23,yAxis:s23};this.lines={};if(this.active1){this.renderStddev("1","p",e23);this.renderStddev("1","n",e23);}if(this.active2){this.renderStddev(+"952.98" != 7010?618 <= (649.66,2770)?"2":(548.88,+"3.50e+3"):!"",+"414" < ("455.61" - 0,2750)?6998 === (945.19,4838)?(0x15f4,"k"):"p":(!1,0x265d),e23);this.renderStddev((179.37,98) == 2890?6794 >= 568.97?1977 > "6730" - 0?(104.21,784.18):453:6.00e+3:"2","n",e23);}if(this.active3){this.renderStddev((6023,288.9) !== +"9660"?(7070,6780) > (7460,"5965" | 1804)?"3":305.28:0x507,(+"9470",6500) != (8037,124.92)?(202.54,6230) === (751.48,9959)?(4.16e+3,0x1cef):"p":!0,e23);this.renderStddev(("5778" | 1682) !== ("4580" ^ 0)?(164,1019) > (315.01,2360)?"u":"3":(! ![],80.26),5317 > 6737?(3930,2740) != ("1990" | 576,9560)?(! !{},"o"):!{}:"n",e23);}}if(!this.highlighted){this.pixelX=[m23,F23];this.pixelY=[t23,l23];}else {A0Y="p";A0Y+="0";D23=this.highlighted == A0Y?!"":!{};I23=this.highlighted == "p1"?!0:! !0;this.littleCircle(J23,m23,t23,D23);this.littleCircle(J23,F23,l23,I23);}},renderStddev:function(u73,c73,q73){var R0Y,b0Y,d73,Y73,f73,m73,j73,z73,r73,L73,g73,T73,G23,O73,p23,x73,o73,k73,F73,y73,A73,e73;R0Y="segm";R0Y+="e";R0Y+="n";R0Y+="t";b0Y="std";b0Y+="d";b0Y+="ev";U94.U5h(86);d73=U94.a5h(u73,b0Y,c73);U94.D5h(1);Y73=U94.a5h(u73,"color");U94.U5h(1);f73=U94.a5h(u73,"pattern");U94.U5h(1);m73=U94.m5h(u73,"lineWidth");j73=q73.points;z73=j73[0].v;r73=j73[1].v;L73=q73.stddev;g73=c73 === ((5299,5291) != 6900?"6080" << 456443008 == (307,"218.11" * 1)?(0x21f1,492.61):"n":(!{},"T"))?u73 * -1:u73 * 1;T73=this.stx;G23=q73.panel;O73=q73.yAxis;p23={name:d73,color:this.getLineColor(this[Y73]),type:R0Y,y0:T73.pixelFromTransformedValue(z73 + L73 * g73,G23,O73),y1:T73.pixelFromTransformedValue(r73 + L73 * g73,G23,O73),params:{pattern:this[f73],lineWidth:this[m73]}};if(this.lines){this.lines[d73]=p23;}x73=q73.context;o73=j73[0].x;k73=j73[1].x;T73.plotLine(o73,k73,p23.y0,p23.y1,p23.color,p23.type,x73,G23,p23.params);T73.plotLine(o73,o73,p23.y0 - 10,p23.y0 + 10,p23.color,p23.type,x73,G23,p23.params);T73.plotLine(k73,k73,p23.y1 - 10,p23.y1 + 10,p23.color,p23.type,x73,G23,p23.params);U94.U5h(1);F73=U94.m5h((5086,"7140" << 1789103584) == +"509.2"?951.42:(4900,+"8460") == 557?(6680,421) != 87.66?9.91e+3:5.17e+3:"\u03c3",u73);U94.U5h(37);var n7I=U94.a5h(7,0,12);y73=Math.max(o73,k73) + n7I;A73=o73 < k73?p23.y1:p23.y0;x73.fillStyle=p23.color;x73.save();x73.textBaseline="middle";x73.fillText(F73,y73,A73);x73.restore();if(q73.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(o73 >= G23.chart.left && o73 <= G23.chart.right || k73 >= G23.chart.left && k73 <= G23.chart.right){U94.D5h(87);e73=U94.a5h(o73 < k73?r73:z73,g73,L73);T73.endClip();T73.createYAxisLabel(G23,q73.formatPrice(e73,O73),A73,p23.color,null,x73,O73);T73.startClip(G23.name);}}},intersected:function(a73,t73,S73){var l73,U73,w73,P73,s73,M73,n73;if(!this.pixelX || !this.pixelY){return null;}l73=this.repositionIntersection(a73,t73);if(l73){return l73;}U73={0:this.pixelX,1:this.pixelY};for(var J73=0;J73 < 2;J73++){if(this.pointIntersection(U73[0][J73],U73[+"1"][J73],S73,! !{})){U94.U5h(1);this.highlighted=U94.a5h(J73,"p");return {action:"drag",point:(292.02 === (875.87,237.58)?5.04e+3:+"7665" == 381.09?(597.97,438.42):"3830" >> 66339744 == (7365,7710)?+"351.44":"p") + J73};}}w73=this;P73=this.pixelX[0];s73=this.pixelX[1];U94.H65();M73=function(Q73){var X73,v73;X73=[P73,Q73.y0];v73=[s73,Q73.y1];return w73.lineIntersection(a73,t73,S73,w73.name,X73,v73,!0);};n73=M73({y0:this.pixelY[+"0"],y1:this.pixelY[+"1"]});if(!n73 && this.lines){for(var Z73 in this.lines){if(M73(this.lines[Z73])){n73=! ![];break;}}}if(n73){this.highlighted=!0;return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:a73,value:t73};}return null;},repositionIntersection:function(B73,i73){if(!this.p0 || !this.p1){return ![];}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! ![]){return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:B73,value:i73};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(R73,N73,W73,H73,V73,h73,b73){var e0Y,K73,C73,E73;if(!b73){e0Y=" ";e0Y+="lineIntersection must accept p0 and p1 in pixels.  Please verify and s";e0Y+="et isPixels";e0Y+="=true.";U94.U5h(1);console.log(U94.a5h(e0Y,H73));return !{};}if(!V73){V73=this.p0;}if(!h73){h73=this.p1;}if(!(V73 && h73)){return ![];}K73=this.stx;C73=W8J.convertBoxToPixels(K73,this.panelName,W73);if(C73.x0 === undefined){return !{};}E73={x0:V73[0],x1:h73["0" | 0],y0:V73[1],y1:h73[+"1"]};return W8J.boxIntersects(C73.x0,C73.y0,C73.x1,C73.y1,E73.x0,E73.y0,E73.x1,E73.y1);},boxIntersection:function(I73,p73,D73){var w3Y,c3Y,l3Y;if(D73.cx0 > Math.max(this.pixelX[0],this.pixelX[+"1"]) || D73.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ! !"";}if(!this.stx.repositioningDrawing && (D73.cy1 < this.pixelY[0] || D73.cy0 > this.pixelY[1])){return ! !0;}w3Y=-1105462888;U94.l65();c3Y=- +"944082585";l3Y=2;for(var N3Y=1;U94.C4Y(N3Y.toString(),N3Y.toString().length,70869) !== w3Y;N3Y++){return ![];}if(U94.a4Y(l3Y.toString(),l3Y.toString().length,"14711" >> 450544064) !== c3Y){return ! !{};}},reconstruct:function(x33,G73){this.stx=x33;this.color=G73.col;this.color1=G73.col1;this.color2=G73.col2;this.color3=G73.col3;this.active1=G73.dev1;this.active2=G73.dev2;this.active3=G73.dev3;this.panelName=G73.pnl;this.pattern=G73.ptrn;this.pattern1=G73.ptrn1;this.pattern2=G73.ptrn2;this.pattern3=G73.ptrn3;this.lineWidth=G73.lw;this.lineWidth1=G73.lw1;this.lineWidth2=G73.lw2;this.lineWidth3=G73.lw3;this.d0=G73.d0;this.d1=G73.d1;this.tzo0=G73.tzo0;this.tzo1=G73.tzo1;this.field=G73.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");W8J.Drawing.trendline=function(){U94.H65();var n9Y,K9Y,y9Y,z0Y;U94.D5h(5);n9Y=-U94.a5h("1336197074",0);U94.U5h(13);K9Y=U94.m5h(0,"151352066");y9Y=2;for(var i9Y=1;U94.C4Y(i9Y.toString(),i9Y.toString().length,27789) !== n9Y;i9Y++){z0Y="t";z0Y+="ren";z0Y+="d";z0Y+="line";this.name=z0Y;U94.D5h(13);y9Y+=U94.a5h(0,"2");}if(U94.a4Y(y9Y.toString(),y9Y.toString().length,26053) !== K9Y){this.name="";}};W8J.inheritsFrom(W8J.Drawing.trendline,W8J.Drawing.segment);W8J.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth","pattern",Y0Y];W8J.Drawing.trendline.prototype.measure=function(){U94.H65();;};W8J.Drawing.trendline.prototype.reconstruct=function(T33,o33){U94.l65();W8J.Drawing.segment.prototype.reconstruct.call(this,T33,o33);this.callout=new W8J.Drawing.callout();this.callout.reconstruct(T33,o33.callout);};W8J.Drawing.trendline.prototype.serialize=function(){var k33,K7Y,y7Y,W7Y;k33=W8J.Drawing.segment.prototype.serialize.call(this);K7Y=1500144761;U94.U5h(23);y7Y=U94.m5h(20,"4457853");W7Y=2;U94.H65();for(var f7Y=1;U94.a4Y(f7Y.toString(),f7Y.toString().length,66533) !== K7Y;f7Y++){k33.callout=this.callout.serialize();W7Y+=2;}if(U94.a4Y(W7Y.toString(),W7Y.toString().length,91835) !== y7Y){k33.callout=this.callout.serialize();}return k33;};W8J.Drawing.trendline.prototype.render=function(d33){var F5Y,u33,m33,I9Y,o9Y,k9Y,O33,L33,q33,j33,z33,g33,r33,F33,A33,e33,J33,c33,Y33,f33,n33,a33,I5Y,t33,l33;F5Y="%";F5Y+=")";F5Y+=" ";u33=this.stx.panels[this.panelName];if(!u33){return;}W8J.Drawing.segment.prototype.render.call(this,d33);if(!this.callout){this.callout=new W8J.Drawing.callout();m33=W8J.Drawing.segment.prototype.serialize.call(this);I9Y=-558245409;o9Y=971536334;k9Y=2;for(var j9Y=1;U94.a4Y(j9Y.toString(),j9Y.toString().length,22731) !== I9Y;j9Y++){this.callout.reconstruct(this.stx,m33);k9Y+=2;}if(U94.a4Y(k9Y.toString(),k9Y.toString().length,34034) !== o9Y){this.callout.reconstruct(this.stx,m33);}}this.callout.p0=W8J.clone(this.p0);O33=this.stx.pixelFromTick(this.p0[0],u33.chart);L33=this.stx.pixelFromTick(this.p1[+"0"],u33.chart);q33=this.stx.pixelFromValueAdjusted(u33,this.p0[0],this.p0[1]);j33=this.stx.pixelFromValueAdjusted(u33,this.p1[0],this.p1[1]);if(!isFinite(q33) || !isFinite(j33)){return;}U94.D5h(2);z33=U94.m5h(O33,2,L33);U94.D5h(2);g33=U94.m5h(q33,2,j33);this.fontSize=W8J.stripPX(this.font && this.font.size || 13);U94.D5h(85);var K7I=U94.m5h(191,1523,10);U94.D5h(1);var y7I=U94.a5h(2851,259);U94.D5h(37);var W7I=U94.m5h(18,53262,59940);U94.D5h(88);var i7I=U94.a5h(4,6858,9128);U94.U5h(0);var f7I=U94.a5h(8,9240,4);U94.D5h(1);var p7I=U94.a5h(6669,476);U94.U5h(43);var S7I=U94.a5h(425,2,950);r33=this.callout.w * 1.2 + (this.callout.stemEntry["0" - 0] == ((K7I,+"965.52") >= (y7I,W7I)?59.40:i7I === (f7I,981.93)?"J":(p7I,"5340" ^ 0) != 164.81?"c":12.52)?0:S7I);F33=Math.sqrt(Math.pow(L33 - O33,2) + Math.pow(j33 - q33,2));U94.U5h(89);var u7I=U94.a5h(4,2,1,4);U94.D5h(5);var v7I=U94.a5h(14,13);U94.U5h(3);var Q7I=U94.m5h(2,5,4);U94.U5h(90);var M7I=U94.m5h(16,6,6,575);A33=r33 / (F33 || r33) * (this.p1[u7I] < this.p0[v7I]?Q7I:M7I);U94.U5h(91);e33=U94.m5h(z33,g33,A33,j33);U94.D5h(92);J33=U94.m5h(L33,z33,g33,A33);this.callout.p0[0]=this.stx.tickFromPixel(e33,u33.chart);this.callout.p0[1]=this.stx.priceFromPixel(J33,u33);this.callout.v0=this.callout.p0[1];this.callout.p1=W8J.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};U94.D5h(5);var t7I=U94.a5h(6,5);U94.D5h(65);var T7I=U94.a5h(61,5,18,10,7);c33=this.p1[t7I] - this.p0[T7I];U94.U5h(93);var x7I=U94.m5h(4,5,18,4,4);U94.U5h(0);var L7I=U94.a5h(5,0,6);U94.U5h(94);var H7I=U94.m5h(247,1,19,13);this.callout.text="" + Number(c33).toFixed(x7I) + (this.p0[L7I] === 0?"":" (" + Number(100 * c33 / this.p0[1]).toFixed(H7I) + F5Y) + "" + Math.abs(this.p1[+"0"] - this.p0[0]) + " Bars";Y33=Math.floor((this.p0[0] + this.p1["0" >> 751413216]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){n33=this.stx.pixelFromTick(Y33,u33.chart);U94.D5h(95);a33=U94.a5h(L33,O33,n33,O33,q33,j33,q33);f33=this.stx.priceFromPixel(a33,u33) || g33;}else {f33=this.stx.priceFromPixel(g33,u33);}this.callout.stem={t:Y33,v:f33};this.callout.renderText();this.callout.render(d33);if(this.highlighted){I5Y="p";I5Y+="1";t33=this.highlighted == "p0"?!"":![];l33=this.highlighted == I5Y?! !{}:![];this.littleCircle(d33,O33,q33,t33);this.littleCircle(d33,L33,j33,l33);}};W8J.Drawing.trendline.prototype.lineIntersection=function(U33,w33,M33,S33){var o5Y;U94.l65();o5Y="segme";o5Y+="n";o5Y+="t";return W8J.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,U33,w33,M33,o5Y);};W8J.Drawing.trendline.prototype.intersected=function(s33,Z33,X33){var Q33,P33;if(!this.p0 || !this.p1){return null;}Q33=this.callout.intersected(s33,Z33,X33);P33=W8J.Drawing.segment.prototype.intersected.call(this,s33,Z33,X33);this.callout.highlighted=! !(Q33 || P33);if(P33){return P33;}else if(Q33){return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:s33,value:Z33};}return null;};W8J.Drawing.average=function(){var k5Y;k5Y="averag";k5Y+="e";this.name=k5Y;};W8J.inheritsFrom(W8J.Drawing.average,W8J.Drawing.regression);W8J.extend(W8J.Drawing.average.prototype,{configs:W8J.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var v33,i33,V33,h33,C33,B33;if(this.p0 && this.p1){this.stx.setMeasure(0,![],this.p0[0],this.p1[0],! !{},this.name);v33=[];i33="";if(this.active1){v33.push(6540 !== (7010,3660)?234.49 < 851.64?("2850" | 800) <= 4360?"1":"C":(351.29,305.51):"e");}if(this.active2){v33.push(6250 < 1065?9200 <= 3310?0x212:!{}:"2");}if(this.active3){v33.push("3");}if(v33.length){i33="&ensp;" + v33.join(", ") + " &sigma;";}V33=(this.stx.drawingContainer || document).querySelector(".mMeasure");h33=this.stx.controls.mSticky;C33=h33 && h33.querySelector(".mStickyInterior");if(V33){V33.innerHTML+=i33;}if(C33){B33=[];B33.push(W8J.capitalize(this.name));B33.push(this.field || this.stx.defaultPlotField || "Close");B33.push(C33.innerHTML + i33);C33.innerHTML=B33.join("<br>");}}},render:function(N33){var Z5Y,E33,W33,H33,G33,b33,u03,q03,r03,j03,o03,R33,I33,x03,p33,K33,T03,k03,O03,g03,D33,j5Y,d03,z03;Z5Y="se";Z5Y+="gm";Z5Y+="e";Z5Y+="nt";E33=this.stx.panels[this.panelName];if(!E33){return;}function L03(A03,c03){if(c03 && c03.priceFormatter){A03=c03.priceFormatter(b33,E33,A03);}else {A03=b33.formatYAxisPrice(A03,E33,null,c03);}U94.H65();return A03;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" >> 338013280] < 0){return;}W33=this.stx.pixelFromTick(this.p0[0],E33.chart);H33=this.stx.pixelFromTick(this.p1[0],E33.chart);if(W33 < E33.left && H33 < E33.left){return;}if(W33 > E33.right && H33 > E33.right){return;}G33=this.stx.getYAxisByField(E33,this.field);b33=this.stx;u03=Math.min(this.p1[0],this.p0[0]);U94.U5h(96);var U7I=U94.a5h(3,1,18,3,12);q03=Math.max(this.p1[0],this.p0[0]) + U7I;U94.D5h(5);r03=U94.a5h(q03,u03);j03=0;o03=[];for(R33=u03;R33 < q03;R33++){I33=this.getYValue(R33);if(I33 !== null){j03+=I33.transformed;o03.push(I33);}}x03=o03.length;if(!x03){return;}U94.D5h(7);p33=U94.m5h(j03,x03);K33=b33.pixelFromTransformedValue(p33,E33,G33);T03=this.getLineColor();k03={pattern:this.pattern,lineWidth:this.lineWidth};b33.plotLine(W33,H33,K33,K33,T03,"segment",N33,E33,k03);U94.U5h(5);b33.plotLine(W33,W33,U94.a5h(K33,20),U94.m5h(20,K33,U94.D5h(1)),T03,"segment",N33,E33,k03);U94.U5h(5);b33.plotLine(H33,H33,U94.a5h(K33,20),U94.a5h(1753855968,K33,"20",U94.U5h(97)),T03,Z5Y,N33,E33,k03);if(this.axisLabel && !this.highlighted && !this.penDown){if(W33 >= E33.chart.left && W33 <= E33.chart.right || H33 >= E33.chart.left && H33 <= E33.chart.right){b33.endClip();b33.createYAxisLabel(E33,L03(p33,G33),K33,T03,null,N33,G33);b33.startClip(E33.name);}}if(this.active1 || this.active2 || this.active3){O03=0;for(R33=0;R33 < x03;R33++){I33=o03[R33];O03+=Math.pow(I33.transformed - p33,2);}U94.D5h(7);g03=Math.sqrt(U94.a5h(O03,x03));D33={context:N33,formatPrice:L03,panel:E33,points:{0:{x:W33,v:p33},1:{x:H33,v:p33}},stddev:g03,yAxis:G33};this.lines={};if(this.active1){this.renderStddev(+"1587" > (1726,+"2170")?(+"5841","2792" - 0) !== 9815?373.86:9.83e+3:"1",(+"500.73","516.72" * 1) > (9815,2000)?(8.13e+3,"k"):8750 < 242.29?("8900" & 2147483647,7900) >= (732.98,837.58)?(780.89,3.52e+3):"I":"p",D33);this.renderStddev(8574 === 3240?741.38:"1",(1759,7280) >= 8480?(!"","180.08" * 1):205 === 1794?"I":"n",D33);}if(this.active2){this.renderStddev((419.17,343) != (221.61,6530)?"2":!1,6977 == 4190?(! !{},5.65e+3):"p",D33);this.renderStddev((7070,89.64) == +"554.08"?![]:"2",("58.78" * 1,204.94) > "403.84" * 1?(4090,"541.7" - 0) != (1055,8482)?551.75 >= (295.27,9070)?(4.50e+2,396.68):"p":! !1:"n",D33);}if(this.active3){this.renderStddev("3","p",D33);this.renderStddev((26.19,9629) >= (+"719.66",844.88)?"3":("k",787),7240 > (5260,8495)?(3.42e+2,! !{}):297 <= +"2441"?"n":("3910" | 2308) < 52.15?! !"":! !"",D33);}}if(!this.highlighted){this.pixelX=[W33,H33];this.pixelY=[K33,K33];}else {j5Y="p";j5Y+="1";d03=this.highlighted == "p0"?! !{}:!{};z03=this.highlighted == j5Y?! ![]:![];this.littleCircle(N33,W33,K33,d03);this.littleCircle(N33,H33,K33,z03);}},reconstruct:function(f03,Y03){this.axisLabel=Y03.al;W8J.Drawing.regression.prototype.reconstruct.call(this,f03,Y03);},serialize:function(){var m03;m03=W8J.Drawing.regression.prototype.serialize.call(this);m03.al=this.axisLabel;return m03;}},!0);W8J.Drawing.quadrant=function(){U94.H65();this.name="quadrant";};W8J.inheritsFrom(W8J.Drawing.quadrant,W8J.Drawing.regression);W8J.extend(W8J.Drawing.quadrant.prototype,{configs:["color",E5Y,a5Y,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(J03){var O5Y,d5Y,C5Y,y03,F03,e03,n03,w03,a03,t03,P03,M03,s03,Z03,Q03,X03,v03,S03,l03,B03,U03,P5Y,V5Y,C03,V03;O5Y="s";O5Y+="eg";O5Y+="men";O5Y+="t";d5Y="segmen";d5Y+="t";C5Y="qua";U94.H65();C5Y+="drant";y03=this.stx;F03=y03.panels[this.panelName];if(!F03){return;}if(!this.p1){return;}e03=y03.pixelFromTick(this.p0["0" - 0],F03.chart);n03=y03.pixelFromTick(this.p1[0],F03.chart);if(e03 < F03.left && n03 < F03.left){return;}if(e03 > F03.right && n03 > F03.right){return;}w03=this.stx.getYAxisByField(F03,this.field);a03=null;t03=null;for(var i03=Math.max(0,Math.min(this.p1[0],this.p0[0]));i03 <= Math.min(y03.chart.dataSet.length - 1,Math.max(this.p1[+"0"],this.p0["0" & 2147483647]));i03++){P03=this.getYValue(i03);if(P03 !== null){if(a03 === null || P03.transformed > a03){a03=P03.transformed;}if(t03 === null || P03.transformed < t03){t03=P03.transformed;}}}M03=y03.pixelFromTransformedValue(a03,F03,w03);U94.D5h(98);s03=y03.pixelFromTransformedValue(U94.a5h(t03,4,a03,3),F03,w03);U94.D5h(99);Z03=y03.pixelFromTransformedValue(U94.m5h(t03,"2",a03,3),F03,w03);U94.U5h(2);Q03=y03.pixelFromTransformedValue(U94.m5h(a03,2,t03),F03,w03);U94.D5h(100);X03=y03.pixelFromTransformedValue(U94.a5h(t03,3,a03,2),F03,w03);U94.U5h(101);v03=y03.pixelFromTransformedValue(U94.a5h(a03,"3",0,"4",t03),F03,w03);S03=y03.pixelFromTransformedValue(t03,F03,w03);this.p0[1]=0;this.p1[1]=!{};l03=this.getLineColor();B03=this.fillColor;if(B03 == "auto" || W8J.isTransparent(B03)){B03=y03.defaultColor;}J03.fillStyle=B03;U03={pattern:this.pattern,lineWidth:this.lineWidth};y03.plotLine(e03,n03,M03,M03,l03,"segment",J03,F03,U03);y03.plotLine(e03,n03,S03,S03,l03,"segment",J03,F03,U03);if(this.name == C5Y){y03.plotLine(e03,n03,s03,s03,l03,"segment",J03,F03,U03);y03.plotLine(e03,n03,v03,v03,l03,"segment",J03,F03,U03);}else if(this.name == "tirone"){P5Y="se";P5Y+="gm";P5Y+="ent";y03.plotLine(e03,n03,Z03,Z03,l03,P5Y,J03,F03,U03);y03.plotLine(e03,n03,X03,X03,l03,"segment",J03,F03,U03);}y03.plotLine(e03,e03,M03,S03,l03,d5Y,J03,F03,U03);y03.plotLine(n03,n03,M03,S03,l03,O5Y,J03,F03,U03);y03.plotLine(e03,n03,Q03,Q03,l03,"segment",J03,F03,W8J.extend(U03,{opacity:this.name == "tirone"?0.2:1}));J03.globalAlpha=0.1;J03.beginPath();U94.U5h(5);J03.fillRect(e03,M03,U94.m5h(n03,e03),U94.a5h(S03,M03));if(this.name == "quadrant"){U94.U5h(5);J03.fillRect(e03,s03,U94.m5h(n03,e03),U94.m5h(v03,s03));}else if(this.name == "tirone"){U94.D5h(5);J03.fillRect(e03,Z03,U94.m5h(n03,e03),U94.a5h(X03,Z03));}J03.globalAlpha=1;if(!this.highlighted){this.pixelX=[e03,n03];this.pixelY=[M03,S03,Q03];if(this.name === "quadrant"){this.pixelY.push(s03,v03);}if(this.name === "tirone"){this.pixelY.push(Z03,X03);}}else {V5Y="p";V5Y+="0";C03=this.highlighted == V5Y?!"":!{};V03=this.highlighted == "p1"?!"":![];this.littleCircle(J03,e03,Q03,C03);this.littleCircle(J03,n03,Q03,V03);}},intersected:function(H03,b03,N03){var R03,w5Y,W03,D03;U94.l65();var {pixelX:h03, pixelY:E03}=this;if(!h03 || !E03){return null;}R03=this.repositionIntersection(H03,b03);if(R03){return R03;}for(var K03=0;K03 < 2;K03++){if(this.pointIntersection(h03[K03],E03[2],N03,! !1)){w5Y="dr";w5Y+="ag";U94.D5h(1);this.highlighted=U94.a5h(K03,9840 > 8580?"p":(2680,216.14) > (850.2,911.21)?(675.55,"7.99e+3" | 4150):942.24 != 5983?"243.90" * 1:8.62e+3);return {action:w5Y,point:"p" + K03};}}W03=[];h03.forEach(I03=>{U94.l65();W03.push({p0:[I03,E03[0]],p1:[I03,E03[1]]});});E03.forEach(p03=>{W03.push({p0:[h03[0],p03],p1:[h03[1],p03]});});D03=W03.some(({p0:G03, p1:x13})=>{U94.l65();return this.lineIntersection(H03,b03,N03,this.name,G03,x13,! !{});});if(D03){this.highlighted=!0;return {action:"move",p0:W8J.clone(this.p0),p1:W8J.clone(this.p1),tick:H03,value:b03};}return null;},reconstruct:function(o13,T13){this.stx=o13;this.color=T13.col;this.fillColor=T13.fc;this.panelName=T13.pnl;U94.H65();this.pattern=T13.ptrn;this.lineWidth=T13.lw;this.d0=T13.d0;this.d1=T13.d1;this.tzo0=T13.tzo0;this.tzo1=T13.tzo1;this.field=T13.fld;this.adjust();},serialize:function(){U94.l65();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});W8J.Drawing.tirone=function(){var c5Y;c5Y="t";c5Y+="i";c5Y+="ron";c5Y+="e";this.name=c5Y;};W8J.inheritsFrom(W8J.Drawing.tirone,W8J.Drawing.quadrant);W8J.Drawing.elliottwave=function(){var l5Y;l5Y="elli";l5Y+="ottwave";U94.H65();this.name=l5Y;this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!"1";this.annotationPoints=[];this.edit=null;};W8J.inheritsFrom(W8J.Drawing.elliottwave,W8J.Drawing.annotation);W8J.Drawing.elliottwave.defaultTemplate={impulse:[447.21 != (4795,425.74)?4947 === 5924?(6.68e+3,!0):(1642,152.46) <= 3746?"I":! !0:("x",9.89e+3),"II","III","IV","V"],corrective:["A",3831 !== 981.14?"B":(732,6340) >= ("3870" ^ 0)?0x11d0:("U",8.69e+3),8632 == (923.82,2180)?123 > 573?("4.20e+3" ^ 0,516.62):"2.29e+3" | 208:"C"],decoration:g5Y,showLines:! ![]};W8J.Drawing.elliottwave.prototype.initializeSettings=function(k13){U94.H65();k13.currentVectorParameters.waveParameters=W8J.clone(W8J.Drawing.elliottwave.defaultTemplate);};W8J.Drawing.elliottwave.prototype.configs=["color",N5Y,q5Y,"pattern","font","waveParameters"];W8J.Drawing.elliottwave.prototype.$controls=[m5Y,G5Y];W8J.Drawing.elliottwave.prototype.construct=function(u13,j13){var q13;this.stx=u13;this.panelName=j13.name;q13=u13.currentVectorParameters;U94.H65();Object.assign(this,q13.waveParameters);};W8J.Drawing.elliottwave.prototype.serialize=function(){var J5Y,L13;U94.H65();J5Y="f";J5Y+="l";L13={};for(var O13=0;O13 < this.points.length;O13++){U94.U5h(1);L13[U94.a5h(O13,"d")]=this[U94.m5h(O13,992.84 >= (8944,676.74)?3170 !== 613?"d":(6401,"3320" << 1454086048) <= 2140?![]:"J":(4.43e+3,![]))];U94.D5h(1);L13[U94.m5h(O13,"tzo")]=this[U94.m5h(O13,"tzo")];U94.U5h(1);L13[U94.m5h(O13,7810 !== ("200.6" - 0,5510)?"v":! ![])]=this[U94.m5h(O13,"v")];}L13.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:W8J.removeNullValues(W8J.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:J5Y}))},L13);};W8J.Drawing.elliottwave.prototype.reconstruct=function(d13,g13){var s5Y,B5Y;s5Y="enc";s5Y+="losed";B5Y="w";B5Y+="eig";B5Y+="ht";this.stx=d13;this.color=g13.col;this.panelName=g13.pnl;this.pattern=g13.ptrn;this.lineWidth=g13.lw;this.font=W8J.replaceFields(g13.fnt,{st:"style",sz:"size",wt:B5Y,fl:"family"});this.decoration=g13.decor;this.showLines=g13.show;this.dx=g13.dx;this.dy=g13.dy;this.trend=g13.trend;this.annotationPoints=g13.annotations.split(8973 >= (8100,5905)?",":9760 === +"6560"?(9.68e+3,!"1"):4454 !== 221.27?1.85e+3:(!0,"e"));if(g13.decor === s5Y){this.calculateRadius(d13.chart.tempCanvas.context);}this.maxSegments=g13.mxSeg;this.reconstructPoints(g13);this.adjust();};W8J.Drawing.elliottwave.prototype.reconstructPoints=function(r13){var A13,h5Y,r5Y,c13,Y13;A13=this.stx.panels[this.panelName];U94.H65();if(!A13){return;}for(var z13=0;z13 < this.annotationPoints.length;z13++){h5Y="t";h5Y+="z";h5Y+="o";r5Y="t";r5Y+="z";r5Y+="o";U94.D5h(1);this[U94.a5h(z13,(+"867",+"7020") !== (+"7103",6260)?(908.1,5840) == 4020?"p":"d":(![],5.85e+3))]=r13[U94.a5h(z13,"d")];U94.D5h(1);this[U94.m5h(z13,"v")]=r13[U94.a5h(z13,(975.21,209.89) !== 2030?"v":(8268,+"202.49") == (4104,+"5388")?("d",5.79e+3):(! !"",1.80e+3))];U94.U5h(1);this[U94.a5h(z13,r5Y)]=r13[U94.a5h(z13,h5Y)];c13=W8J.strToDateTime(r13[(("6520" ^ 0) != (273.93,5)?"d":"E") + z13]);Y13=this.stx.tickFromDate(c13,A13.chart);this.points.push([Y13,r13["v" + z13]]);}};W8J.Drawing.elliottwave.prototype.calculateRadius=function(y13){var f13,F13;this.getFontString();y13.font=this.fontString;f13=0;for(var m13=0;m13 < this.annotationPoints.length;m13++){F13=y13.measureText(this.annotationPoints[m13]).width;if(f13 < F13){f13=F13;}}this.enclosedRadius=f13;};W8J.Drawing.elliottwave.prototype.check=function(a13,l13,e13){var J13,n13;if(e13 === 1 && this.points.length === 2){return !"";}U94.l65();U94.D5h(102);J13=this.points[U94.m5h(e13,"1")];function t13(w13){for(var U13=2;U13 < w13.length;U13++){if(Math.sign(w13[U13][+"1"] - w13[U13 - 1]["1" & 2147483647]) == Math.sign(w13[U13 - 1][1] - w13[U13 - 2][1])){return !{};}}U94.H65();return ! ![];}if(J13 && a13 <= J13[0]){return ! !"";}U94.D5h(1);n13=this.points[U94.a5h(1,e13)];if(n13 && a13 >= n13[0]){return ![];}if(!t13(this.points)){return ![];}return ! ![];};W8J.Drawing.elliottwave.prototype.move=function(M13,S13,P13){this.copyConfig();U94.D5h(80);var D7I=U94.a5h(9,2,4,359,20);this.points[this.lastPoint + D7I]=[S13,P13];this.render(M13);};W8J.Drawing.elliottwave.prototype.adjust=function(){var y3Y,W3Y,i3Y,Z13,Q13;y3Y=124204265;W3Y=421569260;i3Y=2;for(var p3Y=1;U94.a4Y(p3Y.toString(),p3Y.toString().length,"87234" >> 951604640) !== y3Y;p3Y++){Z13=this.stx.panels[this.panelName];i3Y+=2;}if(U94.C4Y(i3Y.toString(),i3Y.toString().length,74383) !== W3Y){Z13=this.stx.panels[this.panelName];}if(!Z13){return;}for(var s13=0;this.maxSegments + 1 > s13;s13++){U94.U5h(1);Q13=this[U94.a5h(s13,867.39 <= 356.05?"U":"d")];this.setPoint(s13,Q13,this[((438.58,238.9) < 2100?+"823.51" !== (5525,646.27)?"v":100.5 === 3581?("342.20" - 0,+"0x9d4"):(![],! !1):(+"0x2222",751.32)) + s13],Z13.chart);this.points[s13][0]=this.stx.tickFromDate(W8J.strToDateTime(Q13),Z13.chart);U94.D5h(1);this.points[s13][1]=this[U94.m5h(s13,(8082,660.54) == 45.75?9810 >= 777.75?("v",20.06):2.58e+3:"v")];}};W8J.Drawing.elliottwave.prototype.click=function(i13,X13,v13){var B13;B13=this.stx.panels[this.panelName];if(!B13){return;}this.copyConfig();if(!this.penDown){U94.U5h(18);this.setPoint(U94.m5h("0",1),X13,v13,B13.chart);this.points.push(this.p0);this.penDown=! !1;this.segment=+"0";this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((6520,2910) >= ("938.41" - 0,"69.07" - 0)?"0":("5335" | 5141) !== "5670" - 0?(5630,9713) > (1910,6332)?!"1":"1.28e+3" << 1997639360:(0x1a39,532));if(this.decoration === "enclosed"){this.calculateRadius(i13);}this.maxSegments=this.annotationPoints.length - ("1" - 0);this.trend=1;return ! !0;}if(this.accidentalClick(X13,v13)){this.penDown=! ![];return ! !0;}if(this.check(X13,v13,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,X13,v13,B13.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";return ! ![];}}return !"1";};W8J.Drawing.elliottwave.prototype.render=function(C13){var h13,o93,L93,g93,d93,k93,u93,K13,W13,q93,H13,E13,y5Y,K5Y,n5Y,R13,D13,b13,I13,p13,z93,r93,W5Y,G13,x93,N13,j93,O93,A93,T93;h13=this.stx.panels[this.panelName];if(!h13){return;}o93=this.stx;L93=this.annotationPoints;g93=this.pattern?W8J.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();C13.font=this.fontString;C13.textAlign="center";C13.textBaseline="middle";C13.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(C13);}this.lastFontString=this.fontString;d93=this.getLineColor();C13.fillStyle=C13.strokeStyle=d93;C13.save();C13.setLineDash(g93);k93=this.dx;u93=this.dy;K13=this.points;W13=this.pts;q93=!this.showLines && this.highlighted;H13=K13.length;if(this.penDown && this.segment){U94.U5h(37);var X7I=U94.m5h(4,30,36);U94.U5h(60);var A7I=U94.a5h(11,1,2,11);E13=this.trend * (H13 % X7I - "0.5" * A7I) < 0;if(h13.yAxis.flipped){E13=!E13;}this.drawDropZone(C13,K13[H13 - 2][1],this.stx.priceFromPixel(h13.yAxis[E13?"top":"bottom"]),K13[H13 - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){y5Y="bot";y5Y+="t";y5Y+="om";K5Y="m";K5Y+="i";K5Y+="n";n5Y="m";n5Y+="ax";R13=parseInt(this.highlighted.substring("1" | 1,this.highlighted.length),10);U94.U5h(103);var b7I=U94.m5h(0,20,5,23);E13=this.trend * (R13 % b7I - 0.5) > ("0" & 2147483647);U94.D5h(5);D13=K13[U94.a5h(R13,1)];U94.D5h(1);b13=K13[U94.m5h(1,R13)];I13=R13 > 0?D13[1]:b13[1];if(b13){I13=Math[E13?n5Y:K5Y](I13,b13[1]);}if(h13.yAxis.flipped){E13=!E13;}this.drawDropZone(C13,I13,this.stx.priceFromPixel(h13.yAxis[E13?"top":y5Y]),D13?D13[0]:null,b13?b13[0]:null);}for(var V13=0;V13 < H13;V13++){p13=K13[V13];z93=o93.pixelFromTick(p13[0],h13.chart);r93=o93.pixelFromValueAdjusted(h13,p13[0],p13[1]);W13[V13]=[z93,r93];}V13=0;if(this.showLines || q93){C13.beginPath();if(q93){C13.globalAlpha=0.3;}for(;V13 < W13.length;V13++){C13.lineTo(W13[V13][0],W13[V13][1]);}C13.stroke();V13=0;}C13.restore();for(;V13 < H13;V13++){W5Y="enclose";W5Y+="d";G13=V13 % 2?k93:-k93;x93=V13 % 2?u93:-u93;G13*=this.trend;x93*=this.trend;if(h13.yAxis.flipped){G13*=-1;U94.D5h(40);x93*=-U94.a5h("1",1969103776);}N13=W13[V13];j93=N13[2]=N13[0] + G13;O93=N13[+"3"]=N13["1" ^ 0] + x93;A93=this.enclosedRadius || 8;T93=L93[V13];if(this.decoration === "parentheses"){U94.D5h(86);T93=U94.a5h(T93,"(",(+"1232",+"8444") < (1350,3710)?580.37:800.65 === 6545?(9115,6227) == (3830,5754)?(0x1918,0x1a0a):610.33:")");}C13.fillText(T93,j93,O93);if(this.decoration === W5Y){C13.beginPath();C13.arc(j93,O93,A93,0,2 * Math.PI,![]);C13.stroke();}if(this.highlighted){C13.save();this.littleCircle(C13,this.pts[V13]["0" * 1],this.pts[V13][1],this.highlighted === (("2090" | 2090,417.72) >= 5148?("E",+"412.51"):"p") + V13);C13.restore();}}};W8J.Drawing.elliottwave.prototype.reposition=function(t93,c93,m93,F93){var e93,J93,n93,f93,y93,a93;U94.H65();if(!c93){return;}e93=this.stx.panels[this.panelName];J93=c93.tick - m93;n93=c93.value - F93;if(c93.action === "move"){for(var Y93=+"0";c93.points.length > Y93;Y93++){f93=c93.points[Y93];this.setPoint(Y93,f93[0] - J93,f93[1] - n93,e93.chart);U94.D5h(37);var R7I=U94.a5h(14,0,15);this.points[Y93]=[f93[0] - J93,f93[R7I] - n93];}}if(c93.action === "drag"){y93=c93.point;a93=this.points;a93[y93]=[m93,F93];if(this.check(m93,F93,y93)){this.setPoint(y93,m93,F93,e93.chart);;};}this.render(t93);};W8J.Drawing.elliottwave.prototype.intersected=function(w93,M93,S93){var P93,U93;if(!this.p0 || !this.p1){return null;}for(var l93=0;this.points.length > l93;l93++){U93=this.points[l93];if(this.pointIntersection(U93[0],U93[1],S93)){U94.U5h(1);this.highlighted=U94.a5h(l93,(793.74,7018) == 368.64?(0x20b7,"J"):877.72 === (3020,1960)?950 !== 6740?![]:1.30e+2:"p");return {action:"drag",point:l93,tick:w93,value:M93};}if(this.points[l93 + 1] && this.lineIntersection(w93,M93,S93,"segment",U93,this.points[l93 + 1])){this.highlighted=! ![];P93={action:"move",points:W8J.clone(this.points),tick:w93,value:M93};}}return P93;};W8J.Drawing.elliottwave.prototype.measure=function(){var s93,X93,Q93,p5Y,f5Y,i5Y,Z93;U94.H65();if(this.points.length >= "2" >> 711735872){s93=this.points;this.stx.setMeasure(s93[0][1],s93[s93.length - 1][1],s93[0][0],s93[s93.length - +"1"][0],!0);X93=this.stx.controls.mSticky;Q93=X93 && X93.querySelector(".mStickyInterior");if(Q93){p5Y="<";p5Y+="b";p5Y+="r";p5Y+=">";f5Y="C";f5Y+="lo";f5Y+="s";f5Y+="e";i5Y="Elli";i5Y+="ott Wave";Z93=[];Z93.push(W8J.capitalize(i5Y));if(this.getYValue){Z93.push(this.field || this.stx.defaultPlotField || f5Y);}Z93.push(Q93.innerHTML);Q93.innerHTML=Z93.join(p5Y);}}};W8J.Drawing.printProjection=function(K93,k83,v93){var i93,J9Y,B9Y,s9Y,C93,p93,W93,G93,H93,x83,b93,E93,D93,h93,T83,I93,N93,B93,o83;i93=k83.arr;if(i93.length > 1){J9Y=609742306;B9Y=-22627766;s9Y=2;for(var h9Y=1;U94.a4Y(h9Y.toString(),h9Y.toString().length,26583) !== J9Y;h9Y++){C93=i93[2][+"5"];p93=Math.round(K93.chart.maxTicks + 3403);s9Y+=2;}if(U94.C4Y(s9Y.toString(),s9Y.toString().length,59991) !== B9Y){U94.U5h(5);C93=i93[U94.a5h("0",0)][U94.a5h("1",0)];p93=Math.round(K93.chart.maxTicks - 1193);}C93=i93[0][+"0"];p93=Math.round(K93.chart.maxTicks * 0.75);for(var V93=1;V93 < i93.length;V93++){U94.D5h(5);W93=i93[U94.m5h(V93,1)][0];G93=i93[V93][0];H93=W8J.strToDateTime(W93);x83=W8J.strToDateTime(G93).getTime();b93=K93.standardMarketIterator(H93);E93=+"0";while(H93.getTime() < x83){H93=b93.next();E93+=1;}D93=W8J.strToDateTime(W93).getTime();if(D93 > W8J.strToDateTime(v93[v93.length - 1].Date).getTime()){h93=v93.length - +"1";E93+=1;}else {for(h93=v93.length - 1;h93 >= 0;h93--){if(D93 <= W8J.strToDateTime(v93[h93].Date).getTime())break;}}T83={x0:0,x1:E93,y0:v93[h93].Close,y1:i93[V93][1]};C93=W8J.strToDateTime(W93);b93=K93.standardMarketIterator(C93);I93=! !0;for(var R93=0;R93 <= E93;R93++){if(!I93){I93=! ![];}else {C93=b93.next();}if(C93.getTime() <= v93[v93.length - 1].DT.getTime())continue;N93=W8J.yIntersection(T83,R93);if(!N93){N93=0;}U94.D5h(104);var e7I=U94.m5h(7,2,14,10017,7134);B93=Math.round(N93 * 10000) / e7I;if(B93 === "0" >> 1308601376){B93=i93[V93][1];}o83={Date:W8J.yyyymmddhhmmssmmm(C93),DT:C93,Open:B93,Close:B93,High:B93,Low:B93,Volume:0,Adj_Close:B93,Split_Close:B93,projection:! !{}};if(K93.layout.interval == "minute")if(p93-- < 0)break;v93[v93.length]=o83;}}}};}};w2J=q83=>{var u83;u83=typeof _CIQ !== "undefined"?_CIQ:q83.CIQ;if(!u83.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {u83.formatEquation=function(r83){var r74=M211;var L83,d83,j83,g83,O83;L83="";d83=[];j83="";g83=!1;for(var z83="1" * 1;z83 < r83.length;z83++){O83=r83[z83];if(O83 == (1280 !== 7930?(2200,5484) > (4673,4964)?"[":(! !{},699.51):987.49) && !g83){g83=!"";}else if(O83 == "]" && g83){g83=! !"";if(j83 !== ""){d83.push(j83);r74.U5h(86);L83+=r74.a5h(j83,"[",1957 !== (8100,7860)?"]":+"781" < "7428" << 819929760?0xfc4:"4.27e+3" | 4110);}j83="";}else if(g83){j83+=O83;}else if(O83 == "+" || O83 == "-" || O83 == (5740 == (823.35,610.44)?(5.84e+3,0xfa):"*") || O83 == ((7270,22.55) != (+"8500",+"2500")?"/":(393.78,0xdf6)) || O83 == (5649 == 3312?+"5.29e+3":":") || O83 == "%" || O83 == "(" || O83 == (990.49 === +"170.22"?(67,1170) >= (6669,454.49)?("6000" * 1,560.61) >= 802.75?0x1e96:(967.17,![]):(! !"1",![]):")")){if(j83 !== "" && isNaN(j83)){d83.push(j83);r74.U5h(86);L83+=r74.m5h(j83,"[","]");}else {L83+=j83;}if(O83 == ":"){O83="6380" >> 814436576 > "7567" * 1?("d",1.31e+3):"/";}L83+=O83;j83="";}else if(O83 != " "){j83+=O83;}}if(j83 !== "" && isNaN(j83)){d83.push(j83);r74.D5h(86);L83+=r74.m5h(j83,(8130,995.16) === (8285,1540)?("o",+"0x10df"):(6388,7910) < 275.22?"8200" - 0 != "411.45" * 1?457.54:4.68e+3:"[","]");}else {L83+=j83;}return {equation:L83,symbols:d83};};u83.fetchEquationChart=function(A83,e83){var f83,m83,F83,y83,Y83;f83=u83.formatEquation(A83.symbol);m83=f83.symbols;F83=[];y83=A83.stx;A83.stx=null;for(var c83=0;c83 < m83.length;c83++){Y83=u83.shallowClone(A83);Y83.stx=y83;Y83.symbol=m83[c83];Y83.symbolObject={symbol:m83[c83]};F83.push(Y83);}M211.H65();A83.stx=y83;y83.quoteDriver.multiFetch(F83,function(w83){var l83,J83,n83,a83,M83;l83={};A83.loadMoreReplace=! !{};J83={charge:0};for(var t83=0;t83 < w83.length;t83++){n83=w83[t83];if(n83.dataCallback.error){e83({error:n83.dataCallback.error});return;}l83[n83.params.symbol]=n83.dataCallback.quotes;A83.loadMoreReplace=A83.loadMoreReplace && n83.params.loadMoreReplace;A83.moreToLoad=A83.moreToLoad || n83.dataCallback.moreAvailable;a83=n83.dataCallback.attribution;if(a83){if(a83.charge){J83.charge+=a83.charge;}J83.source=a83.source;if(J83.exchange === undefined){J83.exchange=a83.exchange;}else if(J83.exchange != a83.exchange){J83.exchange="";};}}if(F83.length || !(A83.loadMore || A83.update)){try{M83=u83.computeEquationChart(f83.equation,l83);e83({quotes:M83,moreAvailable:A83.moreToLoad,attribution:J83});}catch(S83){var U83;U83={error:"Invalid equation: " + f83.equation};if(S83.name && S83.name == "NoException"){U83.suppressAlert=! !"1";}e83(U83);}}});};}};M2J=s83=>{var S5Y,P83;S5Y="undef";S5Y+="ined";P83=typeof _CIQ !== S5Y?_CIQ:s83.CIQ;if(!P83.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!P83.Marker.Performance){P83.ChartEngine.prototype.removeDOMMarker=function(Z83){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");P83.Marker.Performance.prototype.removeDOMMarker.call(Z83.params.node,Z83);};P83.ChartEngine.prototype.drawMarkers=function(){var u5Y;u5Y="CIQ.ChartEngine#drawMarkers is ";u5Y+="scheduled for deprecation in a future release\n Pl";M211.l65();u5Y+="ease use C";u5Y+="IQ.Marker.Performance.drawMarkers instead.";console.warn(u5Y);P83.Marker.Performance.drawMarkers(this);};P83.ChartEngine.prototype.calculateMarkerStyles=function(Q83,X83){M211.l65();console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");P83.Marker.Performance.calculateMarkerStyles(this,Q83,X83);};P83.ChartEngine.prototype.drawCircleMarker=function(v83,B83,i83){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");P83.Marker.Performance.drawCircleMarker(v83,B83,i83);};P83.ChartEngine.prototype.drawSquareMarker=function(C83,V83,h83){M211.l65();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");P83.Marker.Performance.drawSquareMarker(C83,V83,h83);};P83.ChartEngine.prototype.drawCalloutMarker=function(E83,K83,W83){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");P83.Marker.Performance.drawCalloutMarker(E83,K83,W83);};P83.ChartEngine.prototype.drawMarkerStem=function(H83,b83,R83){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");M211.H65();P83.Marker.Performance.drawMarkerStem(H83,b83,R83);};P83.ChartEngine.prototype.positionDOMMarkers=function(){M211.l65();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");P83.Marker.Performance.drawMarkers(this);};P83.Marker.Performance=function(I83){var v5Y,D83,N83,G83,T53,p83,x53,o53,k53;v5Y="TEMPLAT";v5Y+="E";this.params={displayCategory:! !1,displayStem:! !"1",invert:!{},story:"",headline:""};P83.extend(this.params,I83);D83=this.template=document.createElement(v5Y);M211.U5h(105);D83.innerHTML=M211.m5h("</div>",'<div class="stx-visual">',"</div>","</div>",'<div class="stx-marker-content">','<div class="stx-stem"></div>','<div class="stx-marker highlight">','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>');N83=this.template.content.cloneNode(! !"1");M211.H65();G83=N83.querySelector(".stx-marker",D83);G83.classList.add(I83.type);G83.classList.add(I83.category);T53=N83.querySelector(".stx-visual",D83);p83=N83.querySelector(".stx-marker-expand");x53=N83.querySelector("h4",D83);o53=N83.querySelector("p",D83);x53.innerText=this.params.headline;o53.innerText=this.params.story;this.hasText=! !I83.headline || ! !I83.story;this.deferAttach=! !1;this.node=N83.firstChild;this.node.params=this.params;this.visual=T53;this.expand=p83;if(I83.type === "callout"){k53=p83.removeChild(x53);N83.querySelector(".stx-marker-content",D83).insertBefore(k53,p83);}};P83.inheritsFrom(P83.Marker.Performance,P83.Marker.NodeCreator,! !0);P83.Marker.Performance.consolidateExpanded=function(d53){var B74=M211;var u53,q53,L53,O53,g53;u53=d53.markerHelper.highlighted;function z53(Y53){var A53,r53,c53;A53=Y53.params.node;r53=A53.expand;if(!r53){return "";}c53=r53.style.display !== "none"?r53.innerHTML:"";B74.H65();return c53;}if(!u53.length){return;}B74.D5h(1);var z7I=B74.m5h(1,0);q53=u53[u53.length - z7I];L53=q53.params.node;if(!q53.consolidated){q53.consolidated=[];}for(var j53=u53.length - 2;j53 >= 0;j53--){O53=z53(u53[j53]);B74.U5h(86);g53=B74.a5h(O53,"<consolidated>","</consolidated>");if(O53.length){L53.expand.innerHTML+=g53;}}q53.stxNodeCreator.quickCache(q53);};P83.Marker.Performance.reconstituteExpanded=function(y53){var f53,e53,J53,F53;f53=y53.markerHelper.highlighted;if(!f53.length || !y53.activeMarker){return;}f53=[y53.activeMarker];for(var m53=f53.length - 1;m53 >= 0;m53--){e53=f53[m53];J53=e53.params.node;F53=J53.expand;while(F53.lastElementChild.nodeName === "CONSOLIDATED"){F53.removeChild(F53.lastElementChild);}}};P83.Marker.Performance.drawMarkers=function(w53){var U53,n53,t53,l53,M53,S53;U53=w53.getMarkerArray("all");M211.l65();n53=w53.chart;for(var a53=0;a53 < U53.length;a53++){t53=U53[a53];l53=t53.stxNodeCreator;M53=n53.dataSegment[0].tick;S53=n53.dataSegment[n53.dataSegment.length - 1].tick;if(M53 <= t53.tick <= S53){if(l53 && l53.drawMarker){l53.drawMarker(t53);}}}};P83.Marker.Performance.calculateMarkerStyles=function(s53,Z53,v53){var Q5Y,P53,t5Y,M5Y,Q53,X53;Q5Y=".stx-";Q5Y+="marker-tem";Q5Y+="plates";P53=document.querySelector(Q5Y);if(!P53){t5Y="-";t5Y+="100";t5Y+="0p";t5Y+="x";M5Y="D";M5Y+="IV";P53=document.createElement(M5Y);P53.style.visibility="hidden";P53.style.left=t5Y;document.body.append(P53);}P53.appendChild(Z53.node);Q53=getComputedStyle(Z53.stxNodeCreator.visual);M211.l65();if(!s53.styles.stx_marker_stem){X53=getComputedStyle(document.querySelector(".stx-stem",Z53.node));s53.styles.stx_marker_stem=s53.cloneStyle(X53);}s53.styles[v53]=s53.cloneStyle(Q53);P53.removeChild(Z53.node);};P83.Marker.Performance.drawCircleMarker=function(h53,R53,i53){var g74=M211;var H53,b53,B53,C53,V53,E53,K53,W53,m4Y,G4Y,J4Y,T5Y;H53=h53.params.stx;b53=H53.chart;B53=b53.context;C53=i53.x;V53=i53.y;E53=i53.radius;K53=i53.label;W53=i53.color?i53.color:R53.backgroundColor;B53.beginPath();B53.setLineDash([]);B53.lineWidth=1;B53.fillStyle=W53;B53.strokeStyle=W53;B53.font="normal bold 12px Roboto, Helvetica, sans-serif";g74.l65();B53.arc(C53,V53,E53,0,+"2" * Math.PI,!{});B53.fill();m4Y=591651472;G4Y=-1197875348;J4Y=2;for(var s4Y=1;g74.C4Y(s4Y.toString(),s4Y.toString().length,54675) !== m4Y;s4Y++){B53.stroke();B53.closePath();J4Y+=2;}if(g74.C4Y(J4Y.toString(),J4Y.toString().length,12980) !== G4Y){B53.stroke();B53.closePath();}B53.stroke();B53.closePath();if(K53){T5Y="whit";T5Y+="e";B53.fillStyle=P83.colorsEqual(T5Y,B53.fillStyle)?"black":"white";B53.fillText(K53.charAt(0).toUpperCase(),C53 - 4,V53 + 1);}if(h53.highlight || h53.active){B53.beginPath();g74.U5h(1);B53.arc(C53,V53,g74.m5h(4,E53),0,2 * Math.PI,! !0);B53.stroke();B53.closePath();}};P83.Marker.Performance.drawSquareMarker=function(T43,j43,D53){var a74=M211;var u43,q43,N53,G53,x43,I53,o43,k43,p53;u43=T43.params.stx;q43=u43.chart;N53=q43.context;G53=D53.x;x43=D53.y;I53=D53.half;o43=D53.label;k43=D53.color?D53.color:j43.backgroundColor;a74.l65();a74.D5h(18);p53=a74.m5h(I53,2);N53.beginPath();N53.setLineDash([]);N53.lineWidth=1;N53.fillStyle=k43;N53.strokeStyle=k43;N53.font="normal bold 12px Roboto, Helvetica, sans-serif";a74.D5h(5);N53.rect(a74.m5h(G53,I53),a74.a5h(x43,I53),p53,p53);N53.fill();if(T43.highlight || T43.active){a74.U5h(106);N53.rect(a74.m5h(G53,"4",I53),a74.a5h(I53,4,x43,a74.D5h(37)),a74.a5h(p53,1,"8",a74.D5h(87)),a74.a5h(8,p53,a74.U5h(1)));}N53.stroke();N53.closePath();if(o43){N53.fillStyle=P83.colorsEqual("white",N53.fillStyle)?"black":"white";N53.fillText(o43.charAt(0).toUpperCase(),G53 - +"4",x43 + 1);}};P83.Marker.Performance.drawCalloutMarker=function(d43,n43,L43){var U5Y,H5Y,L5Y,x5Y,y43,e43,O43,g43,a43,r43,A43,c43,Y43,f43,J43,z43,m43,F43;U5Y="bla";U5Y+="c";U5Y+="k";H5Y="rgb";H5Y+="a(255,";H5Y+="255,255,0.65)";L5Y="rgba(25";L5Y+="5,255,";L5Y+="255,0.8)";x5Y="normal bold";x5Y+=" 12px Roboto, Helv";x5Y+="etica, sans-serif";y43=d43.params.stx;e43=y43.chart;O43=e43.context;g43=d43.params;a43=L43.x;r43=L43.y;A43=L43.half;c43=L43.midWidth;Y43=L43.headline;f43=L43.color?L43.color:n43.backgroundColor;J43=A43 * ("2" ^ 0) || 25;z43=Math.round(O43.measureText(Y43).width);m43=c43?c43 * ("2" | 2):z43 + 8;O43.beginPath();O43.setLineDash([]);O43.lineWidth=+"1";O43.fillStyle=f43;O43.strokeStyle=f43;O43.font=x5Y;O43.rect(g43.box.x0,g43.box.y0,m43,J43);O43.fill();O43.stroke();O43.closePath();O43.beginPath();O43.fillStyle=d43.highlight || d43.active?L5Y:H5Y;M211.D5h(107);F43=M211.a5h(20,m43,"2",z43);O43.rect(g43.box.x0 + F43,r43 - A43,z43 + 40,22);O43.fill();O43.stroke();O43.closePath();O43.fillStyle=U5Y;O43.fillText(Y43,g43.box.x0 + F43 + 10,r43);};P83.Marker.Performance.drawMarkerStem=function(l43,S43,U43){var P43,s43,t43,w43,X43,M43,Z43,Q43;P43=l43.params.stx;s43=P43.chart;t43=s43.context;w43=U43.x;X43=U43.y;t43.beginPath();t43.strokeStyle=S43.borderLeftColor;t43.setLineDash([+"1",1]);M43=P83.stripPX(S43.height);Z43=U43.invert?l43.params.box.y0:l43.params.box.y1;Q43=U43.invert?l43.params.box.y0 - M43:l43.params.box.y1 + M43;t43.moveTo(w43,Z43);t43.lineTo(w43,Q43);t43.stroke();t43.closePath();};P83.Marker.Performance.prototype.drawMarker=function(v43){var w74=M211;var D5Y,R43,i43,T6K,o6K,p43,C43,K43,W43,k6K,G43,N43,x6K,D43,V43,I43,B43,H43,b43,u6K,q6K,h43,E43;D5Y="st";D5Y+="x_m";D5Y+="arker_";R43=v43.params;i43=v43.params.stx;if(!i43){return;}T6K=i43.chart;o6K=T6K.dataSegment;if(!o6K.length){return;}p43=i43.panels[v43.params.panelName];C43=v43.stxNodeCreator.params;K43=C43.type;W43=C43.category;k6K=C43.headline;G43=C43.displayCategory;N43=C43.color;x6K=C43.invert;w74.D5h(108);w74.H65();D43=w74.a5h(W43,K43,D5Y,6740 === (3120,6246)?4330 == (+"6910","5" * 1)?"b":("j",0x2500):"_");if(!i43.styles[D43]){P83.Marker.Performance.calculateMarkerStyles(i43,v43,D43);}V43=v43.style=i43.styles[D43];I43=i43.styles.stx_marker_stem;w74.U5h(69);var Y7I=w74.m5h(10,4,12,250,18);w74.U5h(1);var F8I=w74.a5h(2,0);B43=parseInt(V43.height,Y7I) / F8I;H43=parseInt(V43.width,10) / +"2";b43=C43.displayStem?parseInt(I43.height,10) + parseInt(I43.marginBottom,+"10"):"0" | 0;w74.U5h(109);var I8I=w74.a5h(2,22,1,13,2);u6K=b43 + parseInt(V43.height,I8I);q6K=b43?b43 + B43:0;h43=i43.pixelFromDate(R43.x);E43=R43.node.calculateYPosition({marker:v43,panel:p43,height:u6K,half:B43,offset:q6K,inverted:x6K});if(!v43.tick && v43.tick !== 0){return;}R43.box={x0:h43 - (H43 || B43),y0:E43 - B43,x1:h43 + (H43 || B43),y1:E43 + B43,midY:B43,midX:H43 || B43,stemHeight:b43};if(!G43){W43=G43;}i43.startClip(p43.name);if(K43 === "circle"){P83.Marker.Performance.drawCircleMarker(v43,V43,{x:h43,y:E43,radius:B43,label:W43,color:N43});}else if(K43 === "square"){P83.Marker.Performance.drawSquareMarker(v43,V43,{x:h43,y:E43,half:B43,label:W43,color:N43});}else if(K43 === "callout"){P83.Marker.Performance.drawCalloutMarker(v43,V43,{x:h43,y:E43,half:B43,midWidth:H43,headline:k6K,color:N43});}else {w74.D5h(86);console.warn(w74.m5h(K43,"Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}if(C43.displayStem){P83.Marker.Performance.drawMarkerStem(v43,I43,{x:h43,y:E43,invert:x6K});}i43.endClip();if(v43.attached){this.positionPopUpNode(v43);}};P83.Marker.Performance.prototype.positionPopUpNode=function(O6K){var J74=M211;var A5Y,X5Y,A6K,g6K,j6K,c6K,z6K,L6K,Y6K,e6K,J6K,n6K,a6K,f6K,d6K,y6K,m6K,r6K,F6K,t6K;A5Y="translat";A5Y+="eX(";X5Y="hidde";X5Y+="n";if(!O6K.attached || !O6K.params.box){return;}A6K=O6K.params;g6K=A6K.stx;j6K=A6K.box;c6K=O6K.params.node.expand;z6K=g6K.chart.dataSet;L6K=g6K.chart.dataSegment;if(O6K.tick){e6K=[z6K[L6K[0] && L6K["0" - 0].tick - 1],z6K[L6K[0] && L6K[0].tick - ("2" | 0)]];J6K=g6K.getFirstLastDataRecord(e6K.concat(L6K),"Date");J74.D5h(110);var o8I=J74.a5h(5,14,14,5,1);J74.U5h(37);var k8I=J74.m5h(11,469220341,527872896);J74.U5h(5);var Z8I=J74.m5h(15,14);J74.D5h(5);var j8I=J74.m5h(10,8);n6K=[z6K[L6K[L6K.length - o8I].tick + ("1" >> k8I)],z6K[L6K[L6K.length - Z8I].tick + j8I]];a6K=g6K.getFirstLastDataRecord(L6K.concat(n6K),"Date",! !{});Y6K=J6K.DT <= z6K[O6K.tick].DT && z6K[O6K.tick].DT <= a6K.DT;}else {Y6K=! !"";}if(!O6K.highlight && !O6K.active){Y6K=![];}c6K.style.visibility=Y6K?"":X5Y;if(!Y6K){return;}f6K=g6K.panels[A6K.panelName];d6K=c6K.rects;J74.U5h(5);var E8I=J74.a5h(5,3);y6K=d6K.height / E8I;r6K=O6K.node.params.infoOffset || 0;if(O6K.node.params.infoOnLeft){m6K=j6K.x0 - d6K.width - r6K < f6K.left?j6K.x1 + r6K:j6K.x0 - d6K.width - r6K;}else {m6K=j6K.x0 + d6K.width > f6K.right?j6K.x0 - d6K.width - r6K:j6K.x1 + r6K;}m6K-=g6K.chart.left;F6K=j6K.y0 - y6K >= f6K.top?j6K.y0 + j6K.midY - y6K:j6K.y0;if(!A6K.avoidFlush && j6K.y1 + j6K.stemHeight === f6K.yAxis.bottom && d6K.height > j6K.y1 - j6K.y0 + j6K.stemHeight){F6K=j6K.y1 - d6K.height + j6K.stemHeight;}F6K-=g6K.chart.panel.top;t6K=A5Y + Math.floor(m6K) + "px) translateY(" + Math.floor(F6K) + "px) translateZ(0)";c6K.style.transform=t6K;c6K.transform={translateX:m6K,translateY:F6K};};P83.Marker.Performance.prototype.quickCache=function(w6K){M211.l65();var M6K,l6K,U6K,S6K;M6K=w6K.params.node;l6K=M6K.expand;U6K=w6K.style;S6K=P83.stripPX(U6K.marginLeft) + P83.stripPX(U6K.marginRight) + P83.stripPX(U6K.borderRight) + P83.stripPX(U6K.borderLeft);l6K.rects=l6K.getBoundingClientRect();l6K.scrollBarWidth=l6K.rects.width - l6K.clientWidth - S6K;};P83.Marker.Performance.prototype.calculateYPosition=function(B6K){var e5Y,R5Y,b5Y,v6K,s6K,V6K,i6K,X6K,h6K,Z6K,E6K,K6K,Q6K,C6K,W6K,P6K,H6K,b6K;e5Y="b";e5Y+="o";e5Y+="tt";e5Y+="om";R5Y="b";R5Y+="elow_candl";R5Y+="e";b5Y="v";b5Y+="al";b5Y+="u";b5Y+="e";v6K=B6K.marker;s6K=B6K.panel;V6K=B6K.height;i6K=B6K.half;X6K=B6K.offset;h6K=B6K.inverted;Z6K=v6K.params.stx;E6K=Z6K.chart;K6K=Z6K.chart.highLowBars;Q6K=E6K.dataSet[v6K.tick];if(!Q6K){return;}C6K=K6K?Q6K.High:Q6K.Close;W6K=v6K.params.yPositioner;switch(W6K){case b5Y:if(v6K.params.y || v6K.params.y === 0){P6K=Z6K.pixelFromPrice(v6K.params.y,s6K) - V6K * ("0.5" - 0) + i6K;}else {P6K=Z6K.pixelFromPrice(C6K,s6K) - X6K;}break;case "above_candle":P6K=Z6K.pixelFromPrice(C6K,s6K) - X6K;break;case R5Y:P6K=Z6K.pixelFromPrice(Q6K.Low || C6K,s6K);if(h6K && X6K){P6K+=X6K;}else {P6K+=i6K;}break;case "on_candle":(H6K=Q6K.High || Q6K.Close,b6K=Q6K.Low || Q6K.Low === 0 || Q6K.Close);M211.U5h(37);var a8I=M211.m5h(3,15,20);P6K=Z6K.pixelFromPrice((H6K + b6K) / a8I,s6K) - V6K * 0.5 + i6K;break;case "top":P6K=Z6K.pixelFromPrice(s6K.yAxis.high,s6K);if(h6K && X6K){P6K+=X6K;}else {P6K+=i6K;}break;case e5Y:P6K=Z6K.pixelFromPrice(s6K.yAxis.low,s6K) - (X6K || i6K);break;default:break;}return P6K;};P83.Marker.Performance.prototype.prepareForHolder=function(N6K){var R6K,D6K;R6K=this.expand;D6K=N6K.params.stx;M211.H65();R6K.classList.add(this.params.type);D6K.markerHelper.domMarkers.push(N6K);return R6K;};P83.Marker.Performance.prototype.addToHolder=function(G6K){var p6K,I6K;p6K=this.expand;I6K=G6K.params.stx;P83.Marker.Performance.reconstituteExpanded(I6K);M211.l65();P83.Marker.Performance.consolidateExpanded(I6K);this.quickCache(G6K);function x2K(T2K){I6K.activeMarker=G6K;I6K.activeMarker.click({cx:T2K.clientX,cy:T2K.clientY,panel:I6K.currentPanel});M211.H65();T2K.stopPropagation();}if(p6K.clickClosure){return;}p6K.addEventListener("mousedown",x2K);p6K.addEventListener("touchstart",x2K,{passive:!{}});p6K.clickClosure=x2K;};P83.Marker.Performance.prototype.remove=function(k2K){var o2K,q2K,j2K,u2K;o2K=k2K.params.stx;if(!o2K){return;}if(!o2K.markerHelper.domMarkers){return;}q2K=o2K.markerHelper.domMarkers.indexOf(k2K);if(q2K != -("1" >> 549130144)){o2K.markerHelper.domMarkers.splice(q2K,1);}if(k2K.attached){j2K=o2K.panels[k2K.params.panelName];u2K=k2K.params.node.expand;if(u2K.parentNode === j2K.subholder){j2K.subholder.removeChild(u2K);}u2K.removeEventListener("click",u2K.clickClosure);}};P83.Marker.Performance.prototype.click=function(z2K){var z5Y,g2K,r2K,L2K;z5Y="nu";z5Y+="mber";M211.l65();if(!this.hasText){return;}if(typeof arguments[0] === z5Y){z2K={cx:arguments[0],cy:arguments[1],marker:arguments["2" >> 94505824],panel:arguments[3]};}var {cx:d2K, cy:A2K, marker:O2K, panel:c2K}=z2K;g2K=O2K.params.stx;if(O2K.attached){L2K=this.expand;if(L2K.rects.width - L2K.scrollBarWidth + L2K.transform.translateX < g2K.backOutX(d2K) && g2K.backOutX(d2K) < L2K.rects.width + L2K.transform.translateX){return;}this.remove(O2K);}else {g2K.addToHolder(O2K);r2K=! !"1";}O2K.attached=!O2K.attached;O2K.active=!O2K.active;if(r2K){O2K.stxNodeCreator.positionPopUpNode(O2K);}};}};S2J=f2K=>{var Y5Y,Y2K;Y5Y="un";Y5Y+="define";Y5Y+="d";Y2K=typeof _CIQ !== Y5Y?_CIQ:f2K.CIQ;Y2K.Renderer.OHLC.requestNew=function(U2K,m2K){var F2K,e2K,J2K,n2K,a2K,t2K,o1Y,I1Y,F1Y,l2K;F2K=null;e2K=m2K.hlc;J2K=m2K.colored;M211.H65();n2K=m2K.hollow;a2K=m2K.volume;t2K=m2K.histogram;for(var y2K=0;y2K < U2K.length;y2K++){o1Y="histogra";o1Y+="m";I1Y="ho";I1Y+="l";I1Y+="lo";I1Y+="w";F1Y="can";F1Y+="dle";l2K=U2K[y2K];switch(l2K){case "bar":case F1Y:F2K=l2K;break;case "volume":a2K=! !{};break;case I1Y:n2K=! !{};break;case "colored":J2K=!"";break;case o1Y:t2K=! ![];F2K="candle";break;case "hlc":e2K=!"";F2K="bar";break;default:return null;}}if(F2K === null){return null;}return new Y2K.Renderer.OHLC({params:Y2K.extend(m2K,{type:F2K,hlc:e2K,colored:J2K,hollow:n2K,volume:a2K,histogram:t2K})});};Y2K.Renderer.OHLC.getChartParts=function(X2K,Q2K){var t6Y,M6Y,Q6Y,v6Y,u6Y,S6Y,p6Y,f6Y,i6Y,W6Y,y6Y,K6Y,n6Y,h6Y,r6Y,s6Y,B6Y,J6Y,G6Y,m6Y,q6Y,N6Y,g6Y,l6Y,c6Y,w6Y,V6Y,O6Y,d6Y,P6Y,C6Y,a6Y,S2K,P2K,s2K,w2K,M2K,Z2K,L9Y,H9Y,U9Y,f1Y,i1Y,W1Y,y1Y,K1Y,n1Y,h1Y,r1Y,s1Y,B1Y,J1Y,G1Y,m1Y,q1Y,N1Y,g1Y,l1Y,c1Y,w1Y,V1Y,O1Y,d1Y,P1Y,C1Y,a1Y,E1Y,j1Y,Z1Y,k1Y,E6Y,j6Y,Z6Y,k6Y,o6Y,I6Y,F6Y,Y1Y,z1Y,e1Y,R1Y,b1Y,A1Y,X1Y,D1Y,U1Y,H1Y,L1Y,x1Y,T1Y,t1Y,M1Y,Q1Y,v1Y,u1Y,S1Y,p1Y;t6Y="fill";t6Y+="_col";t6Y+="or_even";M6Y="stx_hollow_";M6Y+="c";M6Y+="andle_";M6Y+="down";Q6Y="h";Q6Y+="o";Q6Y+="l";Q6Y+="low";v6Y="bo";v6Y+="rder_color_even";u6Y="c";u6Y+="an";u6Y+="d";u6Y+="le";S6Y="stx_hollow_";S6Y+="candle_down";p6Y="hol";p6Y+="l";p6Y+="o";p6Y+="w";f6Y="stx_hol";f6Y+="lo";f6Y+="w_ca";f6Y+="ndle_up";i6Y="s";i6Y+="tx_hollow_candle_even";W6Y="s";W6Y+="ha";W6Y+="dow";y6Y="ho";y6Y+="ll";y6Y+="ow";K6Y="bor";K6Y+="der_c";K6Y+="olor_";K6Y+="down";n6Y="fill_color_do";n6Y+="wn";h6Y="c";h6Y+="a";h6Y+="nd";h6Y+="le";r6Y="ca";r6Y+="ndle";s6Y="stx_";s6Y+="cand";s6Y+="le_up";B6Y="c";B6Y+="an";B6Y+="d";B6Y+="le";J6Y="stx_can";J6Y+="dle_shadow";J6Y+="_e";J6Y+="ven";G6Y="sh";G6Y+="adow";m6Y="b";m6Y+="a";m6Y+="r";q6Y="s";q6Y+="tx_bar_do";q6Y+="w";q6Y+="n";N6Y="bor";N6Y+="der_colo";N6Y+="r_up";g6Y="s";g6Y+="tx_bar_";g6Y+="up";l6Y="b";l6Y+="ar";c6Y="b";c6Y+="a";c6Y+="r";w6Y="stx_";w6Y+="bar_ch";w6Y+="a";w6Y+="rt";V6Y="b";V6Y+="a";V6Y+="r";O6Y="s";O6Y+="tx_";O6Y+="histogram_even";d6Y="histo";d6Y+="g";d6Y+="ram";P6Y="border";P6Y+="_co";P6Y+="lor_";P6Y+="up";C6Y="f";C6Y+="i";C6Y+="ll_co";C6Y+="lor_up";a6Y="his";a6Y+="to";a6Y+="gram";S2K=1;P2K=+"2";s2K=4;w2K=8;M2K=16;Z2K=32;L9Y=+"440550455";H9Y=-46398873;U9Y=2;for(var X9Y=1;M211.a4Y(X9Y.toString(),X9Y.toString().length,"65874" & 2147483647) !== L9Y;X9Y++){f1Y="border_colo";f1Y+="r_d";f1Y+="own";i1Y="stx_hollow_c";i1Y+="and";i1Y+="le_";i1Y+="up";W1Y="fil";W1Y+="l_color_down";y1Y="ca";y1Y+="n";y1Y+="d";y1Y+="le";K1Y="stx_ba";K1Y+="r_down";n1Y="c";n1Y+="a";n1Y+="ndl";n1Y+="e";h1Y="c";h1Y+="andle";r1Y="ca";r1Y+="n";r1Y+="dl";r1Y+="e";s1Y="fill_c";s1Y+="olor_";s1Y+="ev";s1Y+="en";B1Y="bo";B1Y+="rder_col";B1Y+="or_up";J1Y="fill_co";J1Y+="lor_down";G1Y="fill_c";G1Y+="ol";G1Y+="or_down";m1Y="borde";m1Y+="r_color_e";m1Y+="ven";q1Y="border";q1Y+="_color_up";N1Y="can";N1Y+="d";N1Y+="le";g1Y="ca";g1Y+="nd";g1Y+="le";l1Y="borde";l1Y+="r_color_down";c1Y="c";c1Y+="andle";w1Y="fi";w1Y+="ll_co";w1Y+="lo";w1Y+="r_even";V1Y="stx_bar_";V1Y+="eve";V1Y+="n";O1Y="stx_bar_";O1Y+="down";d1Y="ca";d1Y+="ndl";d1Y+="e";P1Y="bo";P1Y+="rder_color_up";C1Y="fill_co";C1Y+="lor_up";a1Y="s";a1Y+="tx_";a1Y+="b";a1Y+="ar_chart";E1Y="stx_";E1Y+="bar_ev";E1Y+="en";j1Y="border";j1Y+="_color";j1Y+="_";j1Y+="down";Z1Y="stx_";Z1Y+="b";Z1Y+="ar";Z1Y+="_up";k1Y="border";k1Y+="_co";k1Y+="lor_";k1Y+="even";return [{type:"border_color_down",drawType:"candle",style:"candle",condition:w2K,fill:"stx_bar_chart",border:"border_color_up",useColorInMap:! !0,useBorderStyleProp:![]},{type:k1Y,drawType:Z1Y,style:"stx_hollow_candle_up",condition:M2K,fill:j1Y,border:E1Y,useColorInMap:![],useBorderStyleProp:!{}},{type:"stx_candle_shadow_up",drawType:"border_color",style:"stx_bar_down",condition:Z2K,fill:a1Y,border:"candle",skipIfPass:![],useColorInMap:! !"",useBorderStyleProp:!1},{type:C1Y,drawType:"border_color_down",style:X2K && "stx_bar_even",border:"candle",useColorInMap:![]},{type:"border_color_down",drawType:"candle",style:"stx_hollow_candle_up",condition:Q2K?w2K:S2K,border:"shadow",useColorInMap:! !0},{type:P1Y,drawType:"stx_bar_even",style:"stx_hollow_candle_even",condition:Q2K?M2K:P2K,border:d1Y,useColorInMap:!1},{type:O1Y,drawType:"candle",style:V1Y,condition:Q2K?Z2K:s2K,border:w1Y,skipIfPass:![],useColorInMap:! !""},{type:"candle",drawType:c1Y,style:"stx_hollow_candle_even",border:"candle"},{type:"fill_color_down",drawType:"candle",style:"candle",condition:w2K,border:"stx_candle_down"},{type:l1Y,drawType:"stx_hollow_candle_up",style:"candle",condition:M2K,border:g1Y},{type:"stx_hollow_candle_up",drawType:"fill_color_down",style:N1Y,condition:Z2K,border:"border_color_up",skipIfPass:!1},{type:q1Y,drawType:m1Y,style:"fill_color_down",condition:w2K,fill:"border_color_even",border:"border_color_even",useColorInMap:! !"",useBorderStyleProp:!{}},{type:"candle",drawType:"candle",style:"stx_hollow_candle_even",condition:M2K,fill:G1Y,border:"candle",useColorInMap:![],useBorderStyleProp:![]},{type:J1Y,drawType:B1Y,style:"border_color_down",condition:S2K,border:"stx_hollow_candle_up"},{type:"stx_hollow_candle_up",drawType:"stx_hollow_candle_up",style:"candle",condition:P2K,border:"candle"},{type:s1Y,drawType:r1Y,style:"hollow",condition:s2K,border:"border_color_up",skipIfPass:!{}},{type:"candle",drawType:"border_color_up",style:"fill_color_down",condition:S2K & M2K,fill:"fill_color_down",border:"stx_candle_down",useColorInMap:!{}},{type:"border_color_down",drawType:h1Y,style:n1Y,condition:P2K & M2K,fill:"border_color_down",border:"stx_hollow_candle_up",useColorInMap:!{}},{type:"candle",drawType:"hollow",style:K1Y,condition:s2K ^ M2K,fill:"stx_bar_even",border:"candle",skipIfPass:!1,useColorInMap:![]},{type:"candle",drawType:"stx_bar_up",style:y1Y,condition:S2K ^ w2K,fill:"stx_hollow_candle_down",border:"stx_candle_down"},{type:"border_color_down",drawType:"border_color_down",style:"candle",condition:P2K ^ w2K,fill:"candle",border:W1Y},{type:"stx_hollow_candle_up",drawType:i1Y,style:"candle",condition:s2K & w2K,fill:"candle",border:f1Y}];}if(M211.a4Y(U9Y.toString(),U9Y.toString().length,37638) !== H9Y){E6Y="c";E6Y+="a";E6Y+="n";E6Y+="dle";j6Y="st";j6Y+="x_hollow_";j6Y+="candle_even";Z6Y="c";Z6Y+="andle";k6Y="fi";k6Y+="ll_color_down";o6Y="s";o6Y+="t";o6Y+="x";o6Y+="_candle_down";I6Y="border_color_do";I6Y+="wn";F6Y="c";F6Y+="a";F6Y+="nd";F6Y+="le";Y1Y="bor";Y1Y+="der_color";Y1Y+="_e";Y1Y+="ven";z1Y="stx_b";z1Y+="ar_even";e1Y="stx_hol";e1Y+="low_candle";e1Y+="_up";R1Y="can";R1Y+="d";R1Y+="l";R1Y+="e";b1Y="f";b1Y+="ill_";b1Y+="col";b1Y+="or_even";A1Y="c";A1Y+="andl";A1Y+="e";X1Y="border_";X1Y+="colo";X1Y+="r_even";D1Y="borde";D1Y+="r_";D1Y+="co";D1Y+="lor";U1Y="border_c";U1Y+="olor";U1Y+="_down";H1Y="border_";H1Y+="col";H1Y+="o";H1Y+="r";L1Y="fil";L1Y+="l_";L1Y+="color_even";x1Y="stx_hollow_c";x1Y+="andle_up";T1Y="stx_hollow_";T1Y+="candle_u";T1Y+="p";t1Y="bord";t1Y+="er_co";t1Y+="lo";t1Y+="r";M1Y="stx_hollo";M1Y+="w_candle_even";Q1Y="c";Q1Y+="and";Q1Y+="le";v1Y="ca";v1Y+="nd";v1Y+="le";u1Y="s";u1Y+="tx";u1Y+="_candle_d";u1Y+="own";S1Y="s";S1Y+="tx_bar_down";p1Y="st";p1Y+="x_holl";p1Y+="ow_ca";p1Y+="ndle_up";return [{type:"candle",drawType:"fill_color_down",style:"border_color",condition:w2K,fill:p1Y,border:"candle",useColorInMap:! !"1",useBorderStyleProp:! ![]},{type:"candle",drawType:S1Y,style:u1Y,condition:M2K,fill:"stx_bar_even",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"fill_color_down",drawType:"stx_bar_up",style:v1Y,condition:Z2K,fill:Q1Y,border:"border_color_down",skipIfPass:!0,useColorInMap:! ![],useBorderStyleProp:! ![]},{type:M1Y,drawType:t1Y,style:X2K || "candle",border:"border_color_even",useColorInMap:! !"1"},{type:"stx_hollow_candle_up",drawType:"stx_hollow_candle_up",style:"border_color_even",condition:Q2K?w2K:S2K,border:"border_color_even",useColorInMap:!0},{type:"border_color_even",drawType:"border_color_even",style:T1Y,condition:Q2K?M2K:P2K,border:x1Y,useColorInMap:!0},{type:L1Y,drawType:"candle",style:"candle",condition:Q2K?Z2K:s2K,border:"candle",skipIfPass:! !{},useColorInMap:! !{}},{type:"stx_hollow_candle_up",drawType:"candle",style:"border_color_even",border:"border_color_even"},{type:H1Y,drawType:"fill_color_down",style:"stx_bar_even",condition:w2K,border:"fill_color_down"},{type:"border_color_down",drawType:"border_color_up",style:U1Y,condition:M2K,border:D1Y},{type:X1Y,drawType:A1Y,style:"border_color_down",condition:Z2K,border:"hollow",skipIfPass:! ![]},{type:"candle",drawType:"candle",style:b1Y,condition:w2K,fill:"border_color_even",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! !1},{type:"candle",drawType:"candle",style:"candle",condition:M2K,fill:R1Y,border:"stx_hollow_candle_up",useColorInMap:! !"1",useBorderStyleProp:! !{}},{type:"fill_color_down",drawType:"border_color_down",style:"candle",condition:S2K,border:e1Y},{type:"stx_bar_even",drawType:z1Y,style:"candle",condition:P2K,border:"border_color_even"},{type:"border_color_up",drawType:"candle",style:Y1Y,condition:s2K,border:"fill_color_down",skipIfPass:!""},{type:"border_color_up",drawType:"candle",style:"stx_bar_even",condition:S2K | M2K,fill:F6Y,border:"candle",useColorInMap:! !{}},{type:"border_color_down",drawType:"candle",style:"border_color_even",condition:P2K | M2K,fill:"candle",border:"stx_hollow_candle_up",useColorInMap:!""},{type:"border_color_even",drawType:I6Y,style:"candle",condition:s2K & M2K,fill:o6Y,border:"fill_color_even",skipIfPass:! !{},useColorInMap:! !{}},{type:k6Y,drawType:"candle",style:Z6Y,condition:S2K & w2K,fill:"candle",border:"candle"},{type:j6Y,drawType:"candle",style:"border_color_even",condition:P2K & w2K,fill:"border_color_even",border:"border_color_down"},{type:E6Y,drawType:"border_color_even",style:"border_color",condition:s2K ^ w2K,fill:"candle",border:"candle"}];}return [{type:"histogram",drawType:a6Y,style:"stx_histogram_up",condition:w2K,fill:C6Y,border:P6Y,useColorInMap:! !"1",useBorderStyleProp:! !"1"},{type:d6Y,drawType:"histogram",style:"stx_histogram_down",condition:M2K,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:O6Y,condition:Z2K,fill:"fill_color_even",border:"border_color_even",skipIfPass:!"",useColorInMap:!"",useBorderStyleProp:! !{}},{type:V6Y,drawType:"bar",style:X2K || w6Y,border:"border_color",useColorInMap:!""},{type:c6Y,drawType:l6Y,style:g6Y,condition:Q2K?w2K:S2K,border:N6Y,useColorInMap:! !"1"},{type:"bar",drawType:"bar",style:q6Y,condition:Q2K?M2K:P2K,border:"border_color_down",useColorInMap:! ![]},{type:"bar",drawType:m6Y,style:"stx_bar_even",condition:Q2K?Z2K:s2K,border:"border_color_even",skipIfPass:! !{},useColorInMap:! !{}},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:G6Y,style:"stx_candle_shadow_up",condition:w2K,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:M2K,border:"border_color_down"},{type:"candle",drawType:"shadow",style:J6Y,condition:Z2K,border:"border_color_even",skipIfPass:! !{}},{type:"candle",drawType:B6Y,style:s6Y,condition:w2K,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:! ![]},{type:r6Y,drawType:h6Y,style:"stx_candle_down",condition:M2K,fill:n6Y,border:K6Y,useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:y6Y,drawType:"shadow",style:"stx_hollow_candle_up",condition:S2K,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:P2K,border:"border_color_down"},{type:"hollow",drawType:W6Y,style:i6Y,condition:s2K,border:"border_color_even",skipIfPass:! !"1"},{type:"hollow",drawType:"candle",style:f6Y,condition:S2K | M2K,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:p6Y,drawType:"candle",style:S6Y,condition:P2K | M2K,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![]},{type:"hollow",drawType:u6Y,style:"stx_hollow_candle_even",condition:s2K | M2K,fill:"fill_color_even",border:v6Y,skipIfPass:! !{},useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:S2K | w2K,fill:"fill_color_up",border:"border_color_up"},{type:Q6Y,drawType:"candle",style:M6Y,condition:P2K | w2K,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:s2K | w2K,fill:t6Y,border:"border_color_even"}];;};Y2K.Renderer.Bars=function(B2K){var n94=M211;var N7Y,q7Y,m7Y,v2K;N7Y=1486129127;q7Y=-536948784;m7Y=2;for(var J7Y=1;n94.C4Y(J7Y.toString(),J7Y.toString().length,64753) !== N7Y;J7Y++){this.construct(B2K);v2K=this.params;v2K.type="";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!{};v2K.hlc=v2K.volume=v2K.hollow=v2K.histogram=! ![];n94.D5h(23);m7Y+=n94.m5h(0,"2");}if(n94.C4Y(m7Y.toString(),m7Y.toString().length,22666) !== q7Y){this.construct(B2K);v2K=this.params;v2K.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";v2K.hlc=v2K.volume=v2K.hollow=v2K.histogram=![];}};Y2K.inheritsFrom(Y2K.Renderer.Bars,Y2K.Renderer.OHLC,![]);Y2K.Renderer.HLC=function(C2K){M211.l65();var i2K;this.construct(C2K);i2K=this.params;i2K.type="bar";i2K.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;i2K.volume=i2K.hollow=i2K.histogram=!"1";};Y2K.inheritsFrom(Y2K.Renderer.HLC,Y2K.Renderer.Bars,! !0);Y2K.Renderer.Shading=function(V2K){var N94=M211;var f9Y,p9Y,S9Y;this.construct(V2K);this.beenSetup=!"1";this.errTimeout=null;this.params.useChartLegend=![];f9Y=+"1959584124";p9Y=2075875423;S9Y=2;for(var v9Y=1;N94.C4Y(v9Y.toString(),v9Y.toString().length,4159) !== f9Y;v9Y++){this.shading=[];N94.D5h(40);S9Y+=N94.m5h("2",2058153952);}if(N94.a4Y(S9Y.toString(),S9Y.toString().length,24642) !== p9Y){this.shading=[];}if(this.params.type == "rangechannel"){this.highLowBars=! !1;}};Y2K.inheritsFrom(Y2K.Renderer.Shading,Y2K.Renderer.Lines,!{});Y2K.Renderer.Shading.requestNew=function(H2K,b2K){var h2K,K2K,W2K;h2K=null;K2K=null;M211.H65();for(var E2K=0;E2K < H2K.length;E2K++){W2K=H2K[E2K];if(W2K == "rangechannel"){h2K="rangechannel";}else if(W2K == "step"){K2K=!0;}}if(h2K === null){return null;}return new Y2K.Renderer.Shading({params:Y2K.extend(b2K,{type:h2K,step:K2K})});};Y2K.Renderer.Shading.prototype.setShading=function(R2K){if(R2K.constructor != Array){R2K=[R2K];}M211.l65();this.shading=R2K;};Y2K.Renderer.Shading.prototype.draw=function(){var A94=M211;var p2K,N2K,G2K,x6Y,T6Y,g7K,T7K,d7K,u7K,i8Y,f8Y,p8Y,z7K,x7K,I2K,q7K,j7K,r7K,H6Y,L6Y,D2K,k7K,O7K,L7K,o7K;p2K=this.stx;N2K=this.params;G2K=p2K.panels[N2K.panel].chart;if(N2K.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams["2" << 1494121120].id);}}else {x6Y="stx";x6Y+="_line_down";T6Y="H";T6Y+="i";T6Y+="g";T6Y+="h";this.beenSetup=! !"1";N2K.display=this.seriesParams["0" ^ 0].display;N2K.yAxis=this.seriesParams[0].yAxis;g7K=this.seriesParams[0].color || "auto";T7K=this.seriesParams[0].symbol;d7K="";if(T7K){A94.D5h(1);d7K=A94.m5h(".",T7K);}this.removeAllSeries(! ![]);u7K=N2K.name;p2K.addSeries(null,{symbol:T7K,loadData:! !T7K,field:T6Y,renderer:"Shading",name:u7K,style:"stx_line_up",display:N2K.display,shareYAxis:! !1});p2K.addSeries(null,{symbol:T7K,loadData:! !T7K,field:"Low",renderer:"Shading",name:u7K,style:x6Y,display:N2K.display,shareYAxis:! !1});this.setShading({primary:this.seriesParams["0" * 1].id,secondary:this.seriesParams[1].id,color:g7K});}}if(!this.shading){if(!this.errTimeout){i8Y=-1264757385;f8Y=-1820974981;p8Y=2;for(var u8Y=1;A94.C4Y(u8Y.toString(),u8Y.toString().length,47295) !== i8Y;u8Y++){console.log("");z7K=this;p8Y+=2;}if(A94.C4Y(p8Y.toString(),p8Y.toString().length,49366) !== f8Y){console.log("");z7K=this;}console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");z7K=this;this.errTimeout=setTimeout(function(){A94.l65();z7K.errTimeout=null;},"10000" - 0);}}x7K={};function A7K(f7K){var c7K,m7K,Y7K,Q9Y,M9Y,t9Y;c7K=x7K[f7K];if(c7K){m7K=c7K.parameters.field;Y7K=c7K.parameters.subField;A94.U5h(1);return A94.a5h(Y7K?(461 !== 911.94?".":2520 > "239.76" - 0?![]:"N") + Y7K:"",m7K);}Q9Y=-2081571161;M9Y=-430745314;t9Y=2;for(var x9Y=1;A94.a4Y(x9Y.toString(),x9Y.toString().length,46313) !== Q9Y;x9Y++){return f7K;}if(A94.C4Y(t9Y.toString(),t9Y.toString().length,42191) !== M9Y){return f7K;}}for(I2K=0;I2K < this.seriesParams.length;I2K++){q7K={};if(G2K.series[this.seriesParams[I2K].id]){q7K=Y2K.clone(G2K.series[this.seriesParams[I2K].id].parameters);}x7K[this.seriesParams[I2K].id]={parameters:Y2K.extend(Y2K.extend(q7K,N2K),this.seriesParams[I2K]),yValueCache:this.caches[this.seriesParams[I2K].id]};}A94.H65();p2K.drawSeries(G2K,x7K,N2K.yAxis,this);if(G2K.legend && N2K.type == "rangechannel"){if(!G2K.legend.colorMap){G2K.legend.colorMap={};}j7K=N2K.display;r7K=[p2K.getCanvasColor("stx_line_up"),p2K.getCanvasColor("stx_line_down")];G2K.legend.colorMap[j7K]={color:r7K,display:j7K,isBase:this == p2K.mainSeriesRenderer};;}for(I2K in x7K){this.caches[I2K]=x7K[I2K].yValueCache;}for(I2K=0;I2K < this.shading.length;I2K++){H6Y="C";H6Y+="lo";H6Y+="se";L6Y="Clos";L6Y+="e";D2K=this.shading[I2K];k7K=D2K.color;if(D2K.color == "auto"){k7K=p2K.defaultColor;}if(!D2K.primary){D2K.primary=L6Y;}if(!D2K.secondary && this.seriesParams[+"0"]){D2K.secondary=this.seriesParams[+"0"].field;}if(!D2K.secondary)continue;else if(!x7K[D2K.primary] && D2K.primary != H6Y)continue;else if(!x7K[D2K.secondary])continue;else if(D2K.primary == "Close" && N2K.yAxis && N2K.yAxis != G2K.yAxis)continue;O7K=A7K(D2K.primary).split(".");L7K=A7K(D2K.secondary).split(".");o7K={topBand:O7K[0],topSubBand:O7K[1],topColor:D2K.greater || k7K || p2K.containerColor,topAxis:N2K.yAxis,bottomBand:L7K[+"0"],bottomSubBand:L7K["1" - 0],bottomColor:D2K.lesser || k7K || p2K.containerColor,bottomAxis:D2K.primary == "Close"?null:N2K.yAxis,tension:N2K.tension || G2K.tension,opacity:0.1,step:N2K.step};if(!o7K.topColor && !o7K.bottomColor)continue;if(!N2K.highlight && p2K.highlightedDraggable){A94.U5h(18);o7K.opacity*=A94.m5h("0.3",1);}Y2K.fillIntersecting(p2K,N2K.panel,o7K);}};Y2K.Renderer.Histogram=function(F7K){var C3Y,P3Y,d3Y;this.construct(F7K);this.params.type="histogram";C3Y=1028293925;P3Y=2105519353;d3Y=2;for(var V3Y=1;M211.C4Y(V3Y.toString(),V3Y.toString().length,69757) !== C3Y;V3Y++){this.barsHaveWidth=this.standaloneBars=!0;d3Y+=2;}M211.l65();if(M211.a4Y(d3Y.toString(),d3Y.toString().length,63262) !== P3Y){this.barsHaveWidth=this.standaloneBars=![];}if(this.params.yAxis){this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};Y2K.inheritsFrom(Y2K.Renderer.Histogram,Y2K.Renderer,!1);Y2K.Renderer.Histogram.prototype.adjustYAxis=function(){var y7K;y7K=this.params.yAxis;if(!y7K || y7K.baseline){return;}y7K.min=0;y7K.highValue/=this.params.heightPercentage || 1;};Y2K.Renderer.Histogram.prototype.draw=function(){var e7K,J7K,U6Y,n7K,a7K;e7K=Y2K.clone(this.params);e7K.type=e7K.subtype;this.useSum=e7K.subtype == "stacked";if(!e7K.yAxis || e7K.yAxis == this.stx.chart.yAxis){e7K.bindToYAxis=!"";}this.stx.drawHistogram(e7K,this.seriesParams);J7K=e7K.yAxis && e7K.yAxis.baseline;if(J7K && J7K.color){U6Y="soli";U6Y+="d";n7K=this.stx.panels[this.params.panel];a7K=this.stx.pixelFromPrice(J7K.value,n7K,this.params.yAxis) - 0.5;this.stx.plotLine({x0:n7K.left,x1:n7K.right,y0:a7K,y1:a7K,color:J7K.color,type:"line",context:n7K.chart.context,confineToPanel:n7K,pattern:J7K.pattern || U6Y,lineWidth:J7K.lineWidth || 1,opacity:J7K.opacity || 0.8,globalCompositeOperation:"destination-over"});}};Y2K.Renderer.Histogram.prototype.getBasis=function(M7K,S7K,P7K){var U7K,w7K,t7K;M211.l65();U7K=0;if(M7K && this.useSum){for(var l7K=0;l7K < this.seriesParams.length;l7K++){w7K=this.seriesParams[l7K].field;if(w7K === S7K)break;t7K=M7K[w7K];if(t7K && typeof t7K === "object"){t7K=t7K[P7K || this.seriesParams[l7K].subField || this.stx.chart.defaultPlotField || "Close"];}if(t7K){U7K+=t7K;}}}return U7K;};Y2K.Renderer.Heatmap=function(s7K){M211.H65();this.construct(s7K);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=!"";};Y2K.inheritsFrom(Y2K.Renderer.Heatmap,Y2K.Renderer,![]);Y2K.Renderer.Heatmap.requestNew=function(X7K,B7K){M211.l65();var Z7K,D6Y,v7K;Z7K=null;for(var Q7K=0;Q7K < X7K.length;Q7K++){D6Y="he";D6Y+="at";D6Y+="ma";D6Y+="p";v7K=X7K[Q7K];if(v7K == D6Y){Z7K="heatmap";}}if(Z7K === null){return null;}return new Y2K.Renderer.Heatmap({params:Y2K.extend(B7K,{type:Z7K})});};M211.l65();Y2K.Renderer.Heatmap.prototype.draw=function(){M211.l65();this.stx.drawHeatmap(Y2K.clone(this.params),this.seriesParams);};Y2K.Renderer.Scatter=function(i7K){this.construct(i7K);M211.l65();this.standaloneBars=this.barsHaveWidth=! !{};this.bounded=! ![];};Y2K.inheritsFrom(Y2K.Renderer.Scatter,Y2K.Renderer.Lines,![]);Y2K.Renderer.Scatter.requestNew=function(h7K,K7K){var C7K,A6Y,X6Y,E7K;C7K=null;for(var V7K=0;V7K < h7K.length;V7K++){A6Y="s";A6Y+="ca";A6Y+="tt";A6Y+="er";X6Y="scat";X6Y+="t";X6Y+="erplot";E7K=h7K[V7K];if(E7K == X6Y){C7K=A6Y;}}if(C7K === null){return null;}return new Y2K.Renderer.Scatter({params:Y2K.extend(K7K,{type:C7K})});};Y2K.Renderer.Scatter.prototype.drawIndividualSeries=function(R7K,H7K){var b7K,W7K;M211.H65();b7K=this.stx.panels[H7K.panel] || R7K.panel;W7K={colors:[]};if(this.stx.scatter){W7K=this.stx.scatter(b7K,H7K);}else {console.warn("Error, Scatter renderer requires customChart.js");}return W7K;};};P2J=D7K=>{var N7K;N7K=typeof _CIQ !== "undefined"?_CIQ:D7K.CIQ;if(!N7K.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {N7K.Studies.calculateAccumulationDistribution=function(u3K,x3K){var H74=M211;var k3K,e6Y,R6Y,b6Y,I7K,G7K,T3K,o3K;k3K=x3K.chart.scrubbed;for(var p7K=x3K.startFrom;p7K < k3K.length;p7K++){e6Y="Res";e6Y+="ult ";R6Y="Resul";R6Y+="t ";b6Y="Us";b6Y+="e";b6Y+=" Volume";if(!p7K)continue;I7K=k3K[p7K];if(I7K.futureTick)break;H74.D5h(5);G7K=k3K[H74.a5h(p7K,1)];H74.D5h(12);T3K=H74.a5h(2147483647,"0");if(I7K.Close > G7K.Close){T3K=I7K.Close - Math.min(I7K.Low,G7K.Close);}else if(I7K.Close < G7K.Close){T3K=I7K.Close - Math.max(I7K.High,G7K.Close);}if(x3K.inputs[b6Y]){T3K*=I7K.Volume;}o3K=G7K[R6Y + x3K.name];if(!o3K){o3K=0;}o3K+=T3K;if(!isNaN(I7K.Close)){I7K[e6Y + x3K.name]=o3K;}}};N7K.Studies.studyLibrary=N7K.extend(N7K.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:N7K.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!"1"}}});}};s2J=j3K=>{var q3K,z6Y,d4T;q3K=typeof _CIQ !== "undefined"?_CIQ:j3K.CIQ;if(!q3K.Studies){z6Y="adx feature requires first activating studies feature";z6Y+=".";console.error(z6Y);}else {d4T="#";d4T+="F";d4T+="F0000";q3K.Studies.calculateADX=function(t3K,O3K){var x74=M211;var Y6Y,d3K,z3K,r3K,f3K,m3K,F3K,y3K,L3K,o4T,A3K,c3K,I4T,F4T,e3K,J3K,n3K,j4T,Z4T,k4T,a4T,E4T,P4T,C4T,a3K;Y6Y="Smoothi";Y6Y+="n";Y6Y+="g";Y6Y+=" Period";q3K.Studies.calculateStudyATR(t3K,O3K);d3K=O3K.chart.scrubbed;z3K=O3K.days;r3K=parseInt(O3K.inputs[Y6Y],10);if(!r3K && r3K !== 0){r3K=z3K;}if(d3K.length < O3K.days + 1){O3K.error=! !{};return;}f3K=0;m3K=0;F3K=0;y3K=0;for(var g3K=Math.max("1" * 1,O3K.startFrom);g3K < d3K.length;g3K++){o4T="_s";o4T+="m";o4T+="-D";o4T+="M ";L3K=d3K[g3K];A3K=Math.max(0,L3K.High - d3K[g3K - 1].High);c3K=Math.max(+"0",d3K[g3K - 1].Low - L3K.Low);if(A3K > c3K){c3K=0;}else if(c3K > A3K){A3K=0;}else {A3K=c3K=+"0";}if(g3K <= z3K){m3K+=A3K;F3K+=c3K;f3K+=L3K["True Range " + O3K.name];}else {I4T="_sm";I4T+="-DM";I4T+=" ";F4T="_";F4T+="sm+DM ";x74.D5h(4);var C8I=x74.a5h(10,0,13,2);m3K=d3K[g3K - ("1" ^ 0)][F4T + O3K.name] * (z3K - C8I) / z3K + A3K;x74.D5h(4);var P8I=x74.a5h(7,12,16,20);x74.D5h(5);var d8I=x74.m5h(16,15);F3K=d3K[g3K - P8I][I4T + O3K.name] * (z3K - ("1" | d8I)) / z3K + c3K;x74.U5h(0);var O8I=x74.a5h(7,3,5);x74.U5h(4);var V8I=x74.m5h(16,6,13,2);f3K=d3K[g3K - O8I]["_smTR " + O3K.name] * (z3K - V8I) / z3K + L3K["True Range " + O3K.name];}L3K["_sm+DM " + O3K.name]=m3K;L3K[o4T + O3K.name]=F3K;L3K["_smTR " + O3K.name]=f3K;if(g3K < z3K)continue;x74.U5h(111);e3K=x74.m5h(m3K,f3K,100);x74.U5h(111);J3K=x74.a5h(F3K,f3K,100);x74.D5h(88);var w8I=x74.m5h(93,99,93);n3K=w8I * Math.abs(e3K - J3K) / (e3K + J3K);L3K["+DI " + O3K.name]=e3K;L3K["-DI " + O3K.name]=J3K;if(O3K.inputs.Series !== !{} && r3K){if(g3K < z3K + r3K - ("1" | 1)){if(g3K == O3K.startFrom){for(var Y3K=z3K;Y3K < O3K.startFrom;Y3K++){j4T="-D";j4T+="I ";Z4T="+D";Z4T+="I";Z4T+=" ";k4T="+";k4T+="D";k4T+="I";k4T+=" ";x74.U5h(112);var c8I=x74.a5h(77,1900,13,4,94);y3K+=c8I * Math.abs(d3K[Y3K][k4T + O3K.name] - d3K[Y3K]["-DI " + O3K.name]) / (d3K[Y3K][Z4T + O3K.name] + d3K[Y3K][j4T + O3K.name]);}}y3K+=n3K;}else if(g3K == z3K + r3K - 1){x74.D5h(7);L3K["ADX " + O3K.name]=x74.a5h(y3K,r3K);}else {a4T="A";a4T+="D";a4T+="X";a4T+=" ";E4T="AD";E4T+="X ";x74.D5h(5);var l8I=x74.m5h(1,0);L3K[E4T + O3K.name]=(d3K[g3K - l8I][a4T + O3K.name] * (r3K - +"1") + n3K) / r3K;}}if(O3K.inputs.Histogram){P4T="-D";P4T+="I";P4T+=" ";C4T="+D";C4T+="I";C4T+=" ";a3K=O3K.name + "_hist";if(!L3K["+DI " + O3K.name] && L3K[C4T + O3K.name] !== 0)continue;if(!L3K[P4T + O3K.name] && L3K["-DI " + O3K.name] !== +"0")continue;L3K[a3K]=L3K["+DI " + O3K.name] - L3K["-DI " + O3K.name];if(O3K.inputs.Series === ! !0){L3K["+DI " + O3K.name]=null;L3K["-DI " + O3K.name]=null;}O3K.outputMap[a3K]="";}}};q3K.Studies.displayADX=function(U3K,l3K,s3K){var Z3K,w3K,M3K,Q3K,X3K,S3K,P3K;Z3K=l3K.underlay?0.3:l3K.inputs.Series?+"0.4":1;if(l3K.inputs.Series && l3K.inputs.Shading){w3K="+DI " + l3K.name;M3K="-DI " + l3K.name;Q3K=q3K.Studies.determineColor(l3K.outputs[l3K.outputMap[w3K]]);X3K=q3K.Studies.determineColor(l3K.outputs[l3K.outputMap[M3K]]);S3K=l3K.getYAxis(U3K);P3K={topBand:w3K,bottomBand:M3K,topColor:Q3K,bottomColor:X3K,skipTransform:U3K.panels[l3K.panel].name != l3K.chart.name,topAxis:S3K,bottomAxis:S3K,opacity:"0.3" * 1};if(!l3K.highlight && U3K.highlightedDraggable){P3K.opacity*=+"0.3";}q3K.fillIntersecting(U3K,l3K.panel,P3K);}if(l3K.inputs.Histogram){q3K.Studies.createHistogram(U3K,l3K,s3K,!"1",Z3K);}if(l3K.inputs.Series !== !"1"){q3K.Studies.displaySeriesAsLine(U3K,l3K,s3K);}else if(!l3K.inputs.Series && !l3K.inputs.Histogram){U3K.displayErrorAsWatermark(l3K.panel,U3K.translateIf(l3K.name) + ": " + U3K.translateIf("Nothing to display"));}};q3K.Studies.studyLibrary=q3K.extend(q3K.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:q3K.Studies.calculateADX,seriesFN:q3K.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!"",Shading:!{},Histogram:![]},outputs:{"+DI":"#00FF00","-DI":d4T,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};Z2J=B3K=>{var v3K;v3K=typeof _CIQ !== "undefined"?_CIQ:B3K.CIQ;if(!v3K.Studies){console.error("alligator feature requires first activating studies feature.");}else {v3K.Studies.calculateAlligator=function(H3K,V3K){var n74=M211;var V4T,O4T,h3K,i3K,g4T,l4T,c4T,w4T,B4T,N4T,J4T,G4T,q4T,K3K,W3K,E3K,m4T,s4T;V4T="Ga";V4T+="t";V4T+="o";V4T+="r";O4T="J";O4T+="aw Period";h3K={J:Number(V3K.inputs[O4T]),T:Number(V3K.inputs["Teeth Period"]),L:Number(V3K.inputs["Lips Period"])};i3K=V3K.chart.scrubbed;if(i3K.length < Math.max(h3K.J,h3K.T,h3K.L) + 1){V3K.error=!"";return;}if(V3K.type === V4T || V3K.inputs["Show Lines"]){g4T="L";g4T+="ips";l4T="welles wild";l4T+="er";c4T="Ja";c4T+="w ";c4T+="Off";c4T+="set";w4T="w";w4T+="elle";w4T+="s wilder";v3K.Studies.MA(w4T,h3K.J,"hl/2",V3K.inputs[c4T],"Jaw",H3K,V3K);v3K.Studies.MA(l4T,h3K.T,"hl/2",V3K.inputs["Teeth Offset"],"Teeth",H3K,V3K);v3K.Studies.MA("welles wilder",h3K.L,"hl/2",V3K.inputs["Lips Offset"],g4T,H3K,V3K);}for(var C3K=V3K.startFrom;C3K < i3K.length;C3K++){B4T="S";B4T+="how F";B4T+="ract";B4T+="als";N4T="Ga";N4T+="tor";if(!i3K[C3K])continue;if(V3K.type == N4T){J4T="_";J4T+="h";J4T+="is";J4T+="t2";G4T="_h";G4T+="ist1";q4T="Li";q4T+="p";q4T+="s ";K3K=i3K[C3K]["Jaw " + V3K.name];W3K=i3K[C3K][q4T + V3K.name];E3K=i3K[C3K]["Teeth " + V3K.name];if(E3K || E3K === 0){m4T="_hi";m4T+="st";m4T+="1";if(K3K || K3K === ("0" & 2147483647)){n74.D5h(5);i3K[C3K][V3K.name + m4T]=Math.abs(n74.m5h(K3K,E3K));}if(W3K || W3K === 0){n74.U5h(5);i3K[C3K][V3K.name + "_hist2"]=-Math.abs(n74.m5h(E3K,W3K));}}V3K.outputMap={};V3K.outputMap[V3K.name + G4T]="";V3K.outputMap[V3K.name + J4T]="";}if(V3K.inputs[B4T]){if(!i3K[C3K - ("2" << 1959800416)] || !i3K[C3K - 1] || !i3K[C3K] || !i3K[C3K + 1] || !i3K[C3K + 2])continue;if(i3K[C3K - 2].High && i3K[C3K - 1].High && i3K[C3K].High && i3K[C3K + 1].High && i3K[C3K + ("2" - 0)].High){if(i3K[C3K].High > i3K[C3K - 1].High && i3K[C3K].High > i3K[C3K - 2].High && i3K[C3K].High > i3K[C3K + 1].High && i3K[C3K].High > i3K[C3K + 2].High){s4T="F";s4T+="ractal H";s4T+="ig";s4T+="h ";i3K[C3K][s4T + V3K.name]=1;}}if(i3K[C3K - 2].Low && i3K[C3K - 1].Low && i3K[C3K].Low && i3K[C3K + "1" * 1].Low && i3K[C3K + 2].Low){if(i3K[C3K].Low < i3K[C3K - 1].Low && i3K[C3K].Low < i3K[C3K - 2].Low && i3K[C3K].Low < i3K[C3K + 1].Low && i3K[C3K].Low < i3K[C3K + 2].Low){i3K[C3K]["Fractal Low " + V3K.name]=1;}}}}};v3K.Studies.displayAlligator=function(b3K,D3K,I3K){var a7Y,C7Y,P7Y,R3K,n4T;a7Y=593720194;C7Y=1996403108;M211.l65();P7Y=+"2";for(var O7Y=+"1";M211.C4Y(O7Y.toString(),O7Y.toString().length,59154) !== a7Y;O7Y++){R3K=D3K.getContext(b3K);if(D3K.inputs[""]){v3K.Studies.displaySeriesAsLine(b3K,D3K,I3K);}P7Y+=2;}function p3K(T0K,o0K){var x0K,G3K,r4T,h4T;G3K=b3K.chart.panel.yAxis.flipped;M211.l65();if(T0K == "high"){r4T="bot";r4T+="t";r4T+="o";r4T+="m";R3K.fillStyle=b3K.defaultColor;R3K.textBaseline=G3K?"top":r4T;x0K=b3K.pixelFromPrice(I3K[o0K].High);R3K.fillText(G3K?(1932,"3850" - 0) <= (3070,"2723" << 1436532864)?(6.39e+3,1.54e+3):(2800,7410) === 25.47?!{}:("5994" & 2147483647) < (5054,5840)?(! !{},! !{}):"\u25BC":(2240,4500) == (6170,2530)?6.36e+3:"\u25B2",b3K.pixelFromBar(N3K,b3K.chart) - R3K.measureText("\u25B2").width / 2 + 1,G3K?x0K + 5:x0K - 5);;}else if(T0K == "low"){h4T="bott";h4T+="om";R3K.fillStyle=b3K.defaultColor;R3K.textBaseline=G3K?h4T:"top";x0K=b3K.pixelFromPrice(I3K[o0K].Low);R3K.fillText(G3K?"\u25B2":"\u25BC",b3K.pixelFromBar(N3K,b3K.chart) - R3K.measureText((9257,6780) !== (+"9834",4810)?"\u25BC":0x1ee0).width / 2 + 1,G3K?x0K - 5:x0K + ("5" ^ 0));;}}if(M211.a4Y(P7Y.toString(),P7Y.toString().length,55051) !== C7Y){R3K=D3K.getContext(b3K);if(D3K.inputs[""]){v3K.Studies.displaySeriesAsLine(b3K,D3K,I3K);}}R3K=D3K.getContext(b3K);if(D3K.inputs["Show Lines"]){v3K.Studies.displaySeriesAsLine(b3K,D3K,I3K);}if(D3K.inputs["Show Fractals"]){b3K.startClip();R3K.globalAlpha=D3K.underlay?+"0.3":1;if(!D3K.highlight && b3K.highlightedDraggable){R3K.globalAlpha*=0.3;}for(var N3K=2;N3K < I3K.length - 2;N3K++){if(I3K[N3K]){n4T="l";n4T+="o";n4T+="w";if(I3K[N3K]["Fractal High " + D3K.name]){p3K("high",N3K);}if(I3K[N3K]["Fractal Low " + D3K.name]){p3K(n4T,N3K);}}}b3K.endClip();}};v3K.Studies.displayGator=function(u0K,k0K,r0K){var K4T,z0K,j0K,A0K,c0K,g0K,Y0K,f0K,L0K,d0K,y4T;K4T="#CC";K4T+="CCCC";z0K=u0K.panels[k0K.panel];j0K=k0K.getContext(u0K);A0K=k0K.getYAxis(u0K);c0K=u0K.pixelFromPrice(0,z0K,A0K);g0K=u0K.layout.candleWidth - ("2" & 2147483647);if(g0K < 2){g0K=1;}Y0K=v3K.Studies.determineColor(k0K.outputs["Increasing Bar"]);f0K=v3K.Studies.determineColor(k0K.outputs["Decreasing Bar"]);u0K.canvasColor("stx_histogram");if(!k0K.underlay){j0K.globalAlpha=1;}M211.l65();j0K.fillStyle=K4T;u0K.startClip(k0K.panel);if(!k0K.highlight && u0K.highlightedDraggable){j0K.globalAlpha*=0.3;}for(var O0K=+"0";O0K < r0K.length;O0K++){L0K=r0K[O0K];M211.U5h(5);d0K=r0K[M211.m5h(O0K,1)];if(!L0K)continue;for(var q0K=1;q0K <= ("2" | 0);q0K++){y4T="_";y4T+="h";y4T+="i";y4T+="st";if(!d0K){d0K=u0K.getPreviousBar(u0K.chart,k0K.name + "_hist" + q0K,O0K);}if(!d0K){j0K.fillStyle="#CCCCCC";}else if(Math.abs(d0K[k0K.name + "_hist" + q0K]) < Math.abs(L0K[k0K.name + "_hist" + q0K])){j0K.fillStyle=Y0K;}else if(Math.abs(d0K[k0K.name + y4T + q0K]) > Math.abs(L0K[k0K.name + "_hist" + q0K])){j0K.fillStyle=f0K;}if(L0K.candleWidth){g0K=Math.floor(Math.max(1,L0K.candleWidth - 2));}j0K.fillRect(Math.floor(u0K.pixelFromBar(O0K,z0K.chart) - g0K / 2),Math.floor(c0K),Math.floor(g0K),Math.floor(u0K.pixelFromPrice(L0K[k0K.name + "_hist" + q0K],z0K,A0K) - c0K));}}u0K.endClip();};v3K.Studies.studyLibrary=v3K.extend(v3K.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:v3K.Studies.displayAlligator,calculateFN:v3K.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":"8" - 0,"Teeth Offset":5,"Lips Period":5,"Lips Offset":+"3","Show Fractals":!"1"},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:v3K.Studies.displayGator,calculateFN:v3K.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":+"5","Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};Q2J=F0K=>{var m0K,f4T,i4T;m0K=typeof _CIQ !== "undefined"?_CIQ:F0K.CIQ;if(!m0K.Studies){console.error("aroon feature requires first activating studies feature.");}else {f4T="a";f4T+="uto";i4T="#FF0";i4T+="0";i4T+="0";i4T+="0";m0K.Studies.calculateAroon=function(Q0K,y0K){var s74=M211;var t0K,l0K,U0K,P4Y,d4Y,O4Y,J0K,n0K,W4T,M0K,a0K,e0K,S0K,P0K,s0K,Z0K;t0K=y0K.chart.scrubbed;if(t0K.length < y0K.days + 1){y0K.error=!0;return;}l0K=0;U0K=0;P4Y=1757938529;d4Y=199508957;O4Y=2;for(var w4Y=1;s74.a4Y(w4Y.toString(),w4Y.toString().length,37316) !== P4Y;w4Y++){s74.D5h(22);J0K=s74.m5h("1",2030419296);n0K=1;O4Y+=2;}if(s74.a4Y(O4Y.toString(),O4Y.toString().length,"28591" ^ 0) !== d4Y){J0K=null;n0K=null;}if(y0K.startFrom > ("0" | 0)){W4T="_";W4T+="sta";W4T+="te ";s74.D5h(3);var g8I=s74.a5h(13,29,17);M0K=t0K[y0K.startFrom - g8I][W4T + y0K.name];if(M0K){l0K=M0K[0];U0K=M0K[1];J0K=M0K[+"2"];n0K=M0K[3];}}for(var w0K=y0K.startFrom;w0K < t0K.length;w0K++){e0K=t0K[w0K];if(e0K.futureTick)break;if(J0K === null){J0K=e0K.High;}if(n0K === null){n0K=e0K.Low;}J0K=Math.max(J0K,e0K.High);if(J0K == e0K.High){l0K=0;}else {l0K++;if(l0K > y0K.days){J0K=e0K.High;l0K=0;for(a0K=+"1";a0K <= y0K.days;a0K++){J0K=Math.max(J0K,t0K[w0K - a0K].High);if(J0K == t0K[w0K - a0K].High){l0K=a0K;}}}}n0K=Math.min(n0K,e0K.Low);if(n0K == e0K.Low){U0K=0;}else {U0K++;if(U0K > y0K.days){n0K=e0K.Low;U0K=0;for(a0K=1;a0K <= y0K.days;a0K++){n0K=Math.min(n0K,t0K[w0K - a0K].Low);if(n0K == t0K[w0K - a0K].Low){U0K=a0K;}}}}S0K=!isNaN(e0K.High);P0K=!isNaN(e0K.Low);s74.D5h(29);var N8I=s74.a5h(5,150,50);s0K=N8I * (+"1" - l0K / y0K.days);if(S0K){e0K["Aroon Up " + y0K.name]=s0K;}s74.D5h(11);var q8I=s74.m5h(215,6,6,6);Z0K=("100" ^ 0) * (("1" | q8I) - U0K / y0K.days);if(P0K){e0K["Aroon Down " + y0K.name]=Z0K;}if(S0K && P0K){e0K["Aroon Oscillator " + y0K.name]=e0K["Aroon Up " + y0K.name] - e0K["Aroon Down " + y0K.name];}e0K["_state " + y0K.name]=[l0K,U0K,J0K,n0K];}};m0K.Studies.studyLibrary=m0K.extend(m0K.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:m0K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":i4T}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:m0K.Studies.calculateAroon,outputs:{"Aroon Oscillator":f4T}}});}};X2J=v0K=>{var X0K,p4T,A4T,X4T,D4T,U4T,H4T;X0K=typeof _CIQ !== "undefined"?_CIQ:v0K.CIQ;M211.H65();if(!X0K.Studies){p4T="atr feat";p4T+="ure requires first activatin";p4T+="g studie";p4T+="s feature.";console.error(p4T);}else {A4T="AT";A4T+="R Trailing St";A4T+="ops";X4T="a";X4T+="uto";D4T="STARC";D4T+=" Bands";U4T="fiel";U4T+="d";H4T="a";H4T+="u";H4T+="t";H4T+="o";X0K.Studies.calculateATRBands=function(C0K,B0K){var S4T,i0K;S4T="A";S4T+="T";S4T+="R";S4T+=" ";X0K.Studies.calculateStudyATR(C0K,B0K);i0K=B0K.inputs.Field;M211.H65();if(!i0K || i0K == "field"){i0K="Close";}X0K.Studies.calculateGenericEnvelope(C0K,B0K,B0K.inputs.Shift,i0K,S4T + B0K.name);};X0K.Studies.calculateSTARCBands=function(h0K,V0K){var Q4T,v4T,u4T;Q4T="_";Q4T+="M";Q4T+="A";v4T="Clo";v4T+="se";u4T="s";u4T+="im";u4T+="pl";u4T+="e";X0K.Studies.calculateStudyATR(h0K,V0K);X0K.Studies.MA(u4T,V0K.inputs["MA Period"],v4T,+"0",Q4T,h0K,V0K);X0K.Studies.calculateGenericEnvelope(h0K,V0K,V0K.inputs.Multiplier,"_MA " + V0K.name,"ATR " + V0K.name);};X0K.Studies.calculateATRStops=function(G0K,E0K){var A74=M211;var b0K,D0K,L4T,t4T,M4T,K0K,p0K,W0K,H0K,N0K,I0K,T4T,x4T;b0K=E0K.chart.scrubbed;if(!b0K){return;}X0K.Studies.calculateStudyATR(G0K,E0K);D0K=E0K.inputs.HighLow;A74.H65();for(var R0K=Math.max(E0K.startFrom - 1,1);R0K < b0K.length - 1;R0K++){L4T="A";L4T+="ll";L4T+=" St";L4T+="ops ";t4T="A";t4T+="T";t4T+="R";t4T+=" ";M4T="Sell ";M4T+="Sto";M4T+="ps";M4T+=" ";K0K=b0K[R0K];A74.D5h(5);p0K=b0K[A74.m5h(R0K,1)];W0K=K0K["Buy Stops " + E0K.name];if(!W0K){W0K=K0K[M4T + E0K.name];}if(!W0K){W0K=0;}if(!K0K || !p0K)continue;H0K=K0K.Close;N0K=H0K;I0K=K0K[t4T + E0K.name] * E0K.inputs.Multiplier;if(K0K.Close > W0K && p0K.Close > W0K){if(D0K){H0K=K0K.High;}A74.U5h(5);N0K=Math.max(W0K,A74.m5h(H0K,I0K));}else if(K0K.Close <= W0K && p0K.Close <= W0K){if(D0K){H0K=K0K.Low;}A74.D5h(1);N0K=Math.min(W0K,A74.m5h(I0K,H0K));}else if(K0K.Close > W0K){if(D0K){H0K=K0K.High;}A74.U5h(5);N0K=A74.m5h(H0K,I0K);}else if(K0K.Close <= W0K){if(D0K){H0K=K0K.Low;}A74.D5h(1);N0K=A74.m5h(I0K,H0K);}if(H0K <= N0K){T4T="Sell ";T4T+="S";T4T+="to";T4T+="ps ";A74.U5h(1);b0K[A74.a5h(1,R0K)]["Buy Stops " + E0K.name]=N0K;A74.D5h(1);delete b0K[A74.m5h(1,R0K)][T4T + E0K.name];}else if(H0K > N0K){x4T="Bu";x4T+="y Stops ";A74.U5h(1);b0K[A74.m5h(1,R0K)]["Sell Stops " + E0K.name]=N0K;A74.D5h(70);delete b0K[A74.a5h(R0K,"1")][x4T + E0K.name];}A74.D5h(1);b0K[A74.m5h(1,R0K)][L4T + E0K.name]=N0K;}E0K.referenceOutput="All Stops";E0K.outputMap={};E0K.outputMap["All Stops " + E0K.name]="";};X0K.Studies.studyLibrary=X0K.extend(X0K.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:X0K.Studies.calculateStudyATR,outputs:{ATR:H4T}},"ATR Bands":{name:"ATR Bands",overlay:! !1,seriesFN:X0K.Studies.displayChannel,calculateFN:X0K.Studies.calculateATRBands,inputs:{Period:5,Field:U4T,Shift:3,"Channel Fill":! ![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:D4T,overlay:! !1,seriesFN:X0K.Studies.displayChannel,calculateFN:X0K.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":X4T,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:"0.1" * 1}}},"ATR Trailing Stop":{name:A4T,overlay:!"",seriesFN:X0K.Studies.displayPSAR2,calculateFN:X0K.Studies.calculateATRStops,inputs:{Period:"21" ^ 0,Multiplier:+"3","Plot Type":["points","squarewave"],HighLow:! !""},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};v2J=T1K=>{var b4T,x1K,I7T;b4T="un";b4T+="defined";x1K=typeof _CIQ !== b4T?_CIQ:T1K.CIQ;if(!x1K.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {I7T="#";I7T+="00DD";I7T+="0";I7T+="0";x1K.Studies.calculateAwesomeOscillator=function(q1K,o1K){var e4T,R4T,k1K;e4T="_his";e4T+="t";R4T="simp";M211.l65();R4T+="le";k1K=o1K.chart.scrubbed;if(k1K.length < ("33" ^ 0)){o1K.error=!0;return;}M211.U5h(18);x1K.Studies.MA("simple",M211.m5h("5",1),"hl/2",0,"_MA5",q1K,o1K);x1K.Studies.MA(R4T,34,"hl/2",+"0","_MA34",q1K,o1K);for(var u1K=Math.max(o1K.startFrom,33);u1K < k1K.length;u1K++){if(!k1K[u1K])continue;k1K[u1K][o1K.name + "_hist"]=k1K[u1K]["_MA5 " + o1K.name] - k1K[u1K]["_MA34 " + o1K.name];}o1K.outputMap={};o1K.outputMap[o1K.name + e4T]="";};x1K.Studies.displayAwesomeOscillator=function(O1K,j1K,c1K){var z4T,A1K,L1K,Y1K,f1K,z1K,m1K,F1K,F7T,Y4T,d1K,r1K;z4T="stx_";z4T+="hi";z4T+="sto";z4T+="gram";A1K=O1K.panels[j1K.panel];L1K=j1K.getContext(O1K);Y1K=j1K.getYAxis(O1K);f1K=O1K.pixelFromPrice(0,A1K,Y1K);z1K=O1K.layout.candleWidth - ("2" & 2147483647);if(z1K < "2" * 1){z1K=1;}m1K=x1K.Studies.determineColor(j1K.outputs["Increasing Bar"]);M211.H65();F1K=x1K.Studies.determineColor(j1K.outputs["Decreasing Bar"]);O1K.canvasColor(z4T);if(!j1K.underlay){L1K.globalAlpha=+"1";}L1K.fillStyle="#CCCCCC";O1K.startClip(j1K.panel);if(!j1K.highlight && O1K.highlightedDraggable){L1K.globalAlpha*=0.3;}for(var g1K=0;g1K < c1K.length;g1K++){F7T="_hi";F7T+="s";F7T+="t";Y4T="_";Y4T+="hist";d1K=c1K[g1K];M211.U5h(20);r1K=c1K[M211.m5h(g1K,1,"1")];if(!r1K){r1K=O1K.getPreviousBar(O1K.chart,j1K.name + "_hist",g1K);}if(!d1K)continue;if(!r1K);else if(r1K[j1K.name + Y4T] < d1K[j1K.name + "_hist"]){L1K.fillStyle=m1K;}else if(r1K[j1K.name + F7T] > d1K[j1K.name + "_hist"]){L1K.fillStyle=F1K;}if(d1K.candleWidth){z1K=Math.floor(Math.max("1" << 1180901952,d1K.candleWidth - ("2" | 2)));}L1K.fillRect(Math.floor(O1K.pixelFromBar(g1K,A1K.chart) - z1K / 2),Math.floor(f1K),Math.floor(z1K),Math.floor(O1K.pixelFromPrice(d1K[j1K.name + "_hist"],A1K,Y1K) - f1K));}O1K.endClip();};x1K.Studies.studyLibrary=x1K.extend(x1K.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:x1K.Studies.displayAwesomeOscillator,calculateFN:x1K.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":I7T,"Decreasing Bar":"#FF0000"}}});}};B2J=e1K=>{var y1K;y1K=typeof _CIQ !== "undefined"?_CIQ:e1K.CIQ;if(!y1K.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {y1K.Studies.calculateBalanceOfPower=function(l1K,J1K){var a1K,o7T,n1K;a1K=J1K.chart.scrubbed;if(a1K.length < J1K.days + 1){J1K.error=! ![];return;}M211.H65();for(var t1K=J1K.startFrom;t1K < a1K.length;t1K++){o7T="_";o7T+="R";o7T+="atio";o7T+=" ";n1K=a1K[t1K];n1K["_Ratio " + J1K.name]=n1K.Close - n1K.Open;if(n1K.High - n1K.Low !== 0){n1K[o7T + J1K.name]/=n1K.High - n1K.Low;}}y1K.Studies.MA(J1K.inputs["Moving Average Type"],J1K.days,"_Ratio " + J1K.name,0,"Result",l1K,J1K);};y1K.Studies.studyLibrary=y1K.extend(y1K.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:y1K.Studies.calculateBalanceOfPower,inputs:{Period:"14" ^ 0,"Moving Average Type":"ma"}}});}};i2J=w1K=>{M211.l65();var U1K,k7T,O7T,d7T,P7T,C7T,a7T,E7T;U1K=typeof _CIQ !== "undefined"?_CIQ:w1K.CIQ;if(!U1K.Studies){k7T="bollinger feature requires first activa";k7T+="ting studies feature.";console.error(k7T);}else {O7T="m";O7T+="a";d7T="f";d7T+="ie";d7T+="l";d7T+="d";P7T="au";P7T+="t";P7T+="o";C7T="f";C7T+="i";C7T+="eld";a7T="au";a7T+="to";E7T="Bo";E7T+="llin";E7T+="ge";E7T+="r Bands";U1K.Studies.calculateBollinger=function(P1K,M1K){var j7T,Z7T,S1K;j7T="Boll";j7T+=" ";j7T+="%b";M211.l65();Z7T="Clo";Z7T+="se";S1K=M1K.inputs.Field;if(!S1K || S1K == "field"){S1K=Z7T;}U1K.Studies.MA(M1K.inputs["Moving Average Type"],M1K.days,S1K,"0" >> 549082112,"_MA",P1K,M1K);M1K.std=new U1K.Studies.StudyDescriptor(M1K.name,"STD Dev",M1K.panel);M1K.std.chart=M1K.chart;M1K.std.startFrom=M1K.startFrom;M1K.std.days=M1K.days;M1K.std.inputs={Field:S1K,"Standard Deviations":1,Type:M1K.inputs["Moving Average Type"]};M1K.std.outputs={"_STD Dev":null};U1K.Studies.calculateStandardDeviation(P1K,M1K.std);U1K.Studies.calculateGenericEnvelope(P1K,M1K,M1K.inputs["Standard Deviations"],"_MA " + M1K.name,"_STD Dev " + M1K.name);if(M1K.type == j7T){M1K.zoneOutput="%b";}};U1K.Studies.studyLibrary=U1K.extend(U1K.Studies.studyLibrary,{"Bollinger Bands":{name:E7T,overlay:! ![],calculateFN:U1K.Studies.calculateBollinger,seriesFN:U1K.Studies.displayChannel,inputs:{Period:+"20",Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"Bollinger Bands Top":a7T,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll %b":{name:"Bollinger %b",calculateFN:U1K.Studies.calculateBollinger,inputs:{Period:20,Field:C7T,"Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:100,studyOverBoughtColor:P7T,studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:+"0.1",step:+"0.1"}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:U1K.Studies.calculateBollinger,inputs:{Period:"20" & 2147483647,Field:d7T,"Standard Deviations":2,"Moving Average Type":O7T},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};C2J=Z1K=>{var s1K,c7T;s1K=typeof _CIQ !== "undefined"?_CIQ:Z1K.CIQ;if(!s1K.Studies){console.error("cci feature requires first activating studies feature.");}else {c7T="a";c7T+="u";c7T+="t";c7T+="o";s1K.Studies.calculateCCI=function(V1K,Q1K){M211.H65();var v1K,w7T,V7T,X1K,i1K;v1K=Q1K.chart.scrubbed;if(v1K.length < Q1K.days + 1){Q1K.error=! ![];return;}s1K.Studies.MA("simple",Q1K.days,"hlc/3",0,"MA",V1K,Q1K);for(var B1K=Math.max(Q1K.startFrom,Q1K.days - 1);B1K < v1K.length;B1K++){w7T="M";w7T+="A";w7T+=" ";V7T="h";V7T+="lc/";V7T+="3";X1K=v1K[B1K];if(!X1K)continue;i1K=+"0";for(var C1K=0;C1K < Q1K.days;C1K++){i1K+=Math.abs(v1K[B1K - C1K]["hlc/3"] - X1K["MA " + Q1K.name]);}i1K/=Q1K.days;if(Math.abs(i1K) < 0.00000001){X1K["Result " + Q1K.name]=0;}else {X1K["Result " + Q1K.name]=(X1K[V7T] - X1K[w7T + Q1K.name]) / (0.015 * i1K);}}};s1K.Studies.studyLibrary=s1K.extend(s1K.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:s1K.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"100" & 2147483647,studyOverBoughtColor:c7T,studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};V2J=E1K=>{var l7T,h1K,g7T;l7T="und";l7T+="efined";h1K=typeof _CIQ !== l7T?_CIQ:E1K.CIQ;M211.H65();if(!h1K.Studies){g7T="centerOfGravit";g7T+="y feature requires first activating studies feature.";console.error(g7T);}else {h1K.Studies.calculateCenterOfGravity=function(p1K,K1K){var G74=M211;var N7T,W1K,H1K,q7T,D1K,N1K,I1K;N7T="fi";G74.H65();N7T+="e";N7T+="l";N7T+="d";W1K=K1K.chart.scrubbed;if(W1K.length < K1K.days){K1K.error=! ![];return;}H1K=K1K.inputs.Field;if(!H1K || H1K == N7T){H1K="Close";}for(var b1K=Math.max(K1K.startFrom,K1K.days - 1);b1K < W1K.length;b1K++){q7T="Re";q7T+="sult";q7T+=" ";D1K=0;N1K=0;for(var R1K=0;R1K < K1K.days;R1K++){G74.D5h(5);I1K=W1K[G74.m5h(b1K,R1K)][H1K];G74.D5h(113);D1K-=G74.m5h(1,R1K,I1K);N1K+=I1K;}if(N1K){G74.D5h(7);W1K[b1K][q7T + K1K.name]=G74.m5h(D1K,N1K);}}};h1K.Studies.studyLibrary=h1K.extend(h1K.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:h1K.Studies.calculateCenterOfGravity,inputs:{Period:+"10",Field:"field"}}});}};h2J=x9K=>{var G1K,m7T;M211.l65();G1K=typeof _CIQ !== "undefined"?_CIQ:x9K.CIQ;if(!G1K.Studies){m7T="chaikin feature requires first activati";m7T+="ng studies feature.";console.error(m7T);}else {G1K.Studies.calculateChaikinMoneyFlow=function(O9K,k9K){var m74=M211;var T9K,q9K,u9K,j9K,G7T;T9K=k9K.chart.scrubbed;if(T9K.length < k9K.days){k9K.error=! ![];return;}m74.D5h(5);q9K=m74.m5h("0",0);u9K=0;m74.U5h(114);var m8I=m74.a5h(18,18,1);j9K=T9K[k9K.startFrom - m8I];if(j9K){if(j9K["_sumMF " + k9K.name]){q9K=j9K["_sumMF " + k9K.name];}if(j9K["_sumV " + k9K.name]){u9K=j9K["_sumV " + k9K.name];}}for(var o9K=k9K.startFrom;o9K < T9K.length;o9K++){G7T="_";G7T+="s";G7T+="um";G7T+="V ";if(T9K[o9K].High == T9K[o9K].Low){T9K[o9K]["_MFV " + k9K.name]=0;}else {m74.U5h(115);var G8I=m74.a5h(10,6,11,5,14);T9K[o9K]["_MFV " + k9K.name]=T9K[o9K].Volume * (G8I * T9K[o9K].Close - T9K[o9K].High - T9K[o9K].Low) / (T9K[o9K].High - T9K[o9K].Low);}q9K+=T9K[o9K]["_MFV " + k9K.name];u9K+=T9K[o9K].Volume;if(o9K > k9K.days - 1){q9K-=T9K[o9K - k9K.days]["_MFV " + k9K.name];u9K-=T9K[o9K - k9K.days].Volume;if(u9K){m74.D5h(7);T9K[o9K]["Result " + k9K.name]=m74.a5h(q9K,u9K);}}T9K[o9K]["_sumMF " + k9K.name]=q9K;T9K[o9K][G7T + k9K.name]=u9K;}};G1K.Studies.calculateChaikinVolatility=function(r9K,L9K){var o74=M211;var J7T,d9K,g9K,z9K,B7T;J7T="Moving A";J7T+="ve";J7T+="rage Typ";J7T+="e";d9K=L9K.chart.scrubbed;if(d9K.length < L9K.days){L9K.error=! ![];return;}for(g9K=L9K.startFrom;g9K < d9K.length;g9K++){if(d9K[g9K].futureTick)break;d9K[g9K]["_High-Low " + L9K.name]=d9K[g9K].High - d9K[g9K].Low;}G1K.Studies.MA(L9K.inputs[J7T],L9K.days,"_High-Low " + L9K.name,0,"_MA",r9K,L9K);z9K=L9K.inputs["Rate Of Change"];if(!z9K){z9K=L9K.days;}for(g9K=Math.max(L9K.startFrom,z9K);g9K < d9K.length;g9K++){B7T="_";B7T+="MA ";if(!d9K[g9K - z9K]["_MA " + L9K.name])continue;if(d9K[g9K].futureTick)break;o74.D5h(1);var J8I=o74.a5h(92,8);o74.D5h(116);var B8I=o74.a5h(16,2,49,13,19);d9K[g9K]["Result " + L9K.name]=J8I * (d9K[g9K][B7T + L9K.name] / d9K[g9K - z9K]["_MA " + L9K.name] - B8I);}};G1K.Studies.studyLibrary=G1K.extend(G1K.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:G1K.Studies.calculateChaikinMoneyFlow,inputs:{Period:+"20"}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:G1K.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};E2J=c9K=>{var A9K,p7T;A9K=typeof _CIQ !== "undefined"?_CIQ:c9K.CIQ;if(!A9K.Studies){console.error("chande feature requires first activating studies feature.");}else {p7T="Ch";p7T+="ande Forecast O";p7T+="s";p7T+="cillator";A9K.Studies.prettify.variable="vma";A9K.Studies.movingAverage.conversions.vma="variable";A9K.Studies.movingAverage.translations.variable="Variable";A9K.Studies.movingAverage.typeMap.vma="Variable";A9K.Studies.movingAverage.typeMap.variable="Variable";A9K.Studies.calculateChandeForecast=function(e9K,Y9K){var U74=M211;var s7T,f9K,m9K,r7T,y9K;s7T="C";s7T+="l";s7T+="ose";f9K=Y9K.chart.scrubbed;if(f9K.length < Y9K.days + 1){Y9K.error=! ![];return;}m9K=Y9K.inputs.Field;if(!m9K || m9K == "field"){m9K=s7T;}A9K.Studies.MA("time series",Y9K.days,m9K,0,"MA",e9K,Y9K);U74.H65();for(var F9K=Math.max(1,Y9K.startFrom);F9K < f9K.length;F9K++){r7T="Re";r7T+="sult ";y9K=f9K[F9K][m9K];if(y9K && typeof y9K == "object"){y9K=y9K[Y9K.subField];}U74.U5h(29);var s8I=U74.m5h(8,612,89);U74.U5h(117);var r8I=U74.m5h(20,16,9,2,71);f9K[F9K][r7T + Y9K.name]=s8I * (r8I - f9K[F9K]["MA " + Y9K.name] / y9K);}};A9K.Studies.calculateChandeMomentum=function(X9K,J9K){var f74=M211;var n7T,h7T,w9K,t9K,l9K,M9K,S9K,P9K,K7T,U9K,a9K,s9K,Z9K;n7T="C";n7T+="los";n7T+="e";h7T="f";h7T+="i";h7T+="el";h7T+="d";w9K=J9K.name;for(var Q9K in J9K.outputs){f74.D5h(86);w9K=f74.a5h((3190,2834) <= (887.81,5738)?"1345" << 999869152 != (3440,2760)?" ":492.76:+"325.14",Q9K,w9K);}t9K=J9K.chart.scrubbed;if(t9K.length < J9K.days + 1){J9K.error=! !1;return;}l9K=J9K.inputs.Field;if(!l9K || l9K == h7T){l9K=n7T;}f74.H65();M9K=0;f74.D5h(13);S9K=f74.m5h(0,"0");P9K=[];for(var n9K=J9K.startFrom - J9K.days + +"1";n9K < t9K.length;n9K++){K7T="o";K7T+="b";K7T+="j";K7T+="ect";if(n9K < 1)continue;U9K=t9K[n9K][l9K];f74.D5h(5);a9K=t9K[f74.a5h(n9K,1)][l9K];if(U9K && typeof U9K == "object"){U9K=U9K.Close;}if(a9K && typeof a9K == K7T){a9K=a9K.Close;}if(a9K === undefined)continue;f74.U5h(5);s9K=f74.a5h(U9K,a9K);P9K.push(s9K);M9K+=s9K;S9K+=Math.abs(s9K);if(P9K.length == J9K.days){f74.D5h(111);t9K[n9K][w9K]=f74.m5h(M9K,S9K,100);Z9K=P9K.shift();M9K-=Z9K;S9K-=Math.abs(Z9K);}}};A9K.Studies.calculateMovingAverageVariable=function(x8K,v9K){var V74=M211;var i7T,W7T,y7T,k8K,V9K,I9K,E9K,h9K,K9K,C9K,B9K,i9K,W9K,N9K,p9K,D9K,f7T,H9K,o8K,b9K,G9K,R9K;i7T="c";i7T+="m";i7T+="o";W7T="Clo";W7T+="se";y7T="fi";y7T+="eld";k8K=v9K.inputs.Type;V9K=v9K.chart.scrubbed;V74.U5h(44);V74.l65();var h8I=V74.m5h(8,0,16,10);V74.D5h(1);var n8I=V74.a5h(1,0);I9K=h8I / (v9K.days + n8I);E9K=null;h9K=v9K.name;for(var T8K in v9K.outputs){V74.U5h(86);h9K=V74.m5h(("461" ^ 0) <= 1880?144.74 < 5139?" ":9722 <= ("60" & 2147483647)?2.76e+3:(0x1d71,"E"):8.46e+3,T8K,h9K);}K9K=v9K.inputs.Field;if(!K9K || K9K == y7T){K9K=W7T;}v9K.cmo=new A9K.Studies.StudyDescriptor(v9K.name,i7T,v9K.panel);v9K.cmo.chart=v9K.chart;v9K.cmo.days=9;v9K.cmo.inputs={Field:K9K};v9K.cmo.startFrom=v9K.startFrom;v9K.cmo.outputs={_CMO:null};A9K.Studies.calculateChandeMomentum(x8K,v9K.cmo);C9K=parseInt(v9K.inputs.Offset,10);if(isNaN(C9K)){C9K=0;}N9K=v9K.startFrom;p9K=C9K;for(B9K=v9K.startFrom - 1;B9K >= 0;B9K--){i9K=V9K[B9K][h9K];if(!i9K && i9K !== +"0")continue;if(E9K === null){E9K=i9K;}if(p9K <= "0" >> 520476800)break;p9K--;N9K=B9K;}if(E9K === null){E9K=N9K=0;}D9K=[];for(B9K=N9K;B9K < V9K.length;B9K++){f7T="_C";f7T+="M";f7T+="O";f7T+=" ";H9K=V9K[B9K];i9K=H9K[K9K];if(i9K && typeof i9K == "object"){i9K=i9K[v9K.subField];}o8K=B9K + C9K >= 0 && B9K + C9K < V9K.length;b9K=o8K?V9K[B9K + C9K]:null;if(!i9K && i9K !== 0){if(b9K){b9K[h9K]=null;}else if(B9K + C9K >= V9K.length){W9K={};W9K[h9K]=null;D9K.push(W9K);}continue;}if(!H9K["_CMO " + v9K.name] && H9K["_CMO " + v9K.name] !== 0)continue;V74.D5h(118);var K8I=V74.m5h(10,4,1600,1486);G9K=Math.abs(H9K[f7T + v9K.name]) / K8I;V74.U5h(119);R9K=V74.a5h(i9K,E9K,0,I9K,G9K,I9K,"1",G9K);E9K=R9K;if(B9K < v9K.days){R9K=null;}if(b9K){b9K[h9K]=R9K;}else if(B9K + C9K >= V9K.length){W9K={};W9K[h9K]=R9K;D9K.push(W9K);}}v9K.appendFutureTicks(x8K,D9K);};A9K.Studies.studyLibrary=A9K.extend(A9K.Studies.studyLibrary,{"Chande Fcst":{name:p7T,calculateFN:A9K.Studies.calculateChandeForecast,inputs:{Period:"14" >> 1437105856,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:A9K.Studies.calculateChandeMomentum,inputs:{Period:+"9"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:+"50",studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};K2J=q8K=>{var u8K,t7T,M7T,Q7T;u8K=typeof _CIQ !== "undefined"?_CIQ:q8K.CIQ;if(!u8K.Studies){console.error("choppiness feature requires first activating studies feature.");}else {t7T="0";t7T+=".";t7T+="1";M7T="a";M7T+="uto";Q7T="Choppiness In";Q7T+="d";Q7T+="ex";u8K.Studies.calculateChoppiness=function(z8K,j8K){var k74=M211;var L8K,F8Y,I8Y,o8Y,S7T,O8K,d8K,u7T,v7T;u8K.Studies.calculateStudyATR(z8K,j8K);function r8K(m8K,f8K){var c8K,Y8K;k74.U5h(103);var y8I=k74.m5h(0,4,18,23);c8K=Number.MAX_VALUE * y8I;Y8K=Number.MAX_VALUE;for(var A8K=f8K - m8K + 1;A8K <= f8K;A8K++){if(A8K < 0)continue;c8K=Math.max(c8K,L8K[A8K].High);Y8K=Math.min(Y8K,L8K[A8K].Low);}return [Y8K,c8K];}k74.l65();L8K=j8K.chart.scrubbed;if(L8K.length < j8K.days + +"1"){j8K.error=! !"1";F8Y=40268408;k74.D5h(18);I8Y=k74.m5h("1583637203",1);o8Y=2;for(var Z8Y=1;k74.C4Y(Z8Y.toString(),Z8Y.toString().length,45688) !== F8Y;Z8Y++){return;}if(k74.a4Y(o8Y.toString(),o8Y.toString().length,"10141" << 380653280) !== I8Y){return;}return;}for(var g8K=Math.max(j8K.startFrom,j8K.days);g8K < L8K.length;g8K++){S7T="Su";S7T+="m Tr";S7T+="ue Range";S7T+=" ";O8K=L8K[g8K];if(!O8K)continue;if(O8K.futureTick)break;d8K=r8K(j8K.days,g8K);if(O8K[S7T + j8K.name]){u7T="Sum True Range";u7T+=" ";k74.D5h(5);var W8I=k74.m5h(13,12);O8K["Result " + j8K.name]=("100" ^ 0) * Math.log(O8K[u7T + j8K.name] / Math.max(0.000001,d8K[W8I] - d8K[0])) / Math.log(j8K.days);}else if(!isNaN(O8K)){v7T="Result";v7T+=" ";O8K[v7T + j8K.name]=0;}}};u8K.Studies.studyLibrary=u8K.extend(u8K.Studies.studyLibrary,{Choppiness:{name:Q7T,calculateFN:u8K.Studies.calculateChoppiness,centerline:"50" * 1,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:M7T,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:t7T},studyOverSoldValue:{max:"50" - 0,step:"0.1"}}}});}};W2J=y8K=>{var F8K,d8T,P8T,C8T;F8K=typeof _CIQ !== "undefined"?_CIQ:y8K.CIQ;if(!F8K.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!F8K.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {d8T="B";d8T+="e";d8T+="ta";P8T="S";P8T+="P";P8T+="Y";C8T="Perform";C8T+="anc";C8T+="e Index";F8K.Studies.calculateCorrelationCoefficient=function(X8K,e8K){var Y74=M211;var n8K,t8K,l8K,U8K,w8K,S8K,P8K,s8K,Z8K,Q8K,H7T,L7T,x7T,a8K,T7T,D7T,U7T,B8K,i8K,C8K,V8K;n8K=e8K.chart.scrubbed;t8K=e8K.days;if(n8K.length < t8K + 1){e8K.error=! !"1";return;}e8K.compare=e8K.inputs["Compare To"];if(!e8K.compare){e8K.compare=[];e8K.outputs={};e8K.outputMap={};for(var v8K in X8K.chart.series){l8K=X8K.chart.series[v8K];if(l8K.parameters.color){e8K.compare.push(l8K.display);e8K.outputs["Result " + l8K.display]=l8K.parameters.color;e8K.outputMap["Result " + l8K.display + " " + e8K.name]="Result " + l8K.display;}}}else {e8K.compare=[e8K.compare];}if(!e8K.compare.length){e8K.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var M8K=0;M8K < e8K.compare.length;M8K++){U8K=+"0";w8K=0;Y74.D5h(22);S8K=Y74.m5h("0",236440512);P8K=0;s8K=0;Z8K=e8K.compare[M8K];Q8K=0;for(var J8K=e8K.startFrom - t8K;J8K < n8K.length;J8K++){H7T="_t";H7T+="em";H7T+="ps ";L7T="_temp";L7T+="s ";x7T="_t";x7T+="e";x7T+="mps";x7T+=" ";if(!n8K[J8K])continue;a8K=n8K[J8K][Z8K];if(a8K && typeof a8K == "object"){a8K=a8K.Close;}if(!a8K && a8K !== +"0"){T7T="_temp";T7T+="s ";if(J8K > "0" << 598030720 && n8K[J8K - 1] && n8K[J8K - 1]["_temps " + e8K.name] && n8K[J8K - +"1"][T7T + e8K.name].c){a8K=n8K[J8K - 1]["_temps " + e8K.name].c;}else {a8K=0;}}if(a8K && typeof a8K == "object"){a8K=a8K.Close;}n8K[J8K]["_temps " + e8K.name]={};U8K+=n8K[J8K][x7T + e8K.name].b=n8K[J8K].Close;w8K+=n8K[J8K][L7T + e8K.name].c=a8K;S8K+=n8K[J8K][H7T + e8K.name].b2=Math.pow(n8K[J8K].Close,+"2");P8K+=n8K[J8K]["_temps " + e8K.name].c2=Math.pow(a8K,2);s8K+=n8K[J8K]["_temps " + e8K.name].bc=n8K[J8K].Close * a8K;if(Q8K >= t8K){D7T="_temp";D7T+="s ";U7T="_";U7T+="t";U7T+="emp";U7T+="s ";U8K-=n8K[J8K - t8K]["_temps " + e8K.name].b;w8K-=n8K[J8K - t8K][U7T + e8K.name].c;S8K-=n8K[J8K - t8K]["_temps " + e8K.name].b2;P8K-=n8K[J8K - t8K]["_temps " + e8K.name].c2;s8K-=n8K[J8K - t8K][D7T + e8K.name].bc;B8K=S8K / t8K - Math.pow(U8K / t8K,"2" & 2147483647);Y74.U5h(120);var i8I=Y74.m5h(2,1479398395,7,1593198278,1);i8K=P8K / t8K - Math.pow(w8K / t8K,"2" << i8I);Y74.D5h(88);var f8I=Y74.a5h(1,1,1);C8K=s8K / t8K - U8K * w8K / Math.pow(t8K,f8I);V8K=C8K / Math.sqrt(B8K * i8K);Y74.U5h(61);var p8I=Y74.m5h(2404,2415,2404,2);n8K[J8K]["Result " + Z8K + (39.25 !== (p8I,+"14.64")?" ":"g") + e8K.name]=V8K;}Q8K++;}}};F8K.Studies.calculatePerformance=function(b8K,h8K){var A7T,X7T,E8K,H8K,b7T,W8K;A7T="m";A7T+="a";X7T="Clos";X7T+="e";E8K=h8K.chart.scrubbed;H8K=h8K.inputs["Comparison Symbol"].toUpperCase();if(!H8K){H8K=h8K.study.inputs["Comparison Symbol"];}if(!h8K.days){h8K.days=h8K.study.inputs.Period;}M211.H65();if(E8K.length < h8K.days + 1){h8K.error=! !{};return;}F8K.Studies.MA("ma",h8K.days,X7T,0,"_MA Base",b8K,h8K);F8K.Studies.MA(A7T,h8K.days,H8K,"0" << 1328526016,"_MA Comp",b8K,h8K);for(var K8K=h8K.startFrom;K8K < E8K.length;K8K++){b7T="_";b7T+="MA Comp ";W8K=E8K[K8K][H8K];if(W8K && (W8K.Close || W8K.Close === 0)){W8K=W8K.Close;}E8K[K8K]["Result " + h8K.name]=E8K[K8K].Close / W8K * (E8K[K8K][b7T + h8K.name] / E8K[K8K]["_MA Base " + h8K.name]);}};F8K.Studies.calculateBeta=function(x5K,R8K){var T74=M211;var E8T,j8T,I8T,F8T,Y7T,z7T,D8K,G8K,e7T,R7T,I8K,p8K,Z8T,k8T,o8T,a8T;E8T="_";E8T+="VAR";j8T="_";j8T+="COVARn ";I8T="_";I8T+="M";I8T+="A C";I8T+="omp";F8T="_M";F8T+="A ";F8T+="Base";Y7T="_";Y7T+="BaseChan";Y7T+="ge ";z7T="m";z7T+="a";D8K=R8K.chart.scrubbed;G8K=R8K.inputs["Comparison Symbol"].toUpperCase();if(!G8K){G8K=R8K.study.inputs["Comparison Symbol"];}if(!R8K.days){R8K.days=R8K.study.inputs.Period;}if(D8K.length < R8K.days + 1){R8K.error=! ![];return;}for(var N8K=Math.max(R8K.startFrom,1);N8K < D8K.length;N8K++){e7T="_C";e7T+="ompCh";e7T+="ang";e7T+="e ";R7T="_Bas";R7T+="eCh";R7T+="a";R7T+="nge ";T74.U5h(5);var S8I=T74.a5h(18,17);T74.D5h(1);var u8I=T74.m5h(1,0);D8K[N8K][R7T + R8K.name]=D8K[N8K].Close / D8K[N8K - S8I].Close - u8I;I8K=D8K[N8K][G8K];if(I8K && (I8K.Close || I8K.Close === 0)){I8K=I8K.Close;}T74.U5h(5);p8K=D8K[T74.m5h(N8K,1)][G8K];if(p8K && (p8K.Close || p8K.Close === 0)){p8K=p8K.Close;}T74.D5h(43);D8K[N8K][e7T + R8K.name]=T74.a5h(1,p8K,I8K);}F8K.Studies.MA(z7T,R8K.days,Y7T + R8K.name,0,F8T,x5K,R8K);F8K.Studies.MA("ma",R8K.days,"_CompChange " + R8K.name,0,I8T,x5K,R8K);for(N8K=Math.max(R8K.startFrom,R8K.days);N8K < D8K.length;N8K++){Z8T="_";Z8T+="V";Z8T+="ARn ";k8T="_Co";k8T+="mpCh";k8T+="ange ";o8T="_Base";o8T+="Cha";o8T+="ng";o8T+="e ";D8K[N8K]["_COVARn " + R8K.name]=(D8K[N8K][o8T + R8K.name] - D8K[N8K]["_MA Base " + R8K.name]) * (D8K[N8K][k8T + R8K.name] - D8K[N8K]["_MA Comp " + R8K.name]);D8K[N8K][Z8T + R8K.name]=Math.pow(D8K[N8K]["_CompChange " + R8K.name] - D8K[N8K]["_MA Comp " + R8K.name],2);}F8K.Studies.MA("ma",R8K.days,j8T + R8K.name,0,"_COVAR",x5K,R8K);F8K.Studies.MA("ma",R8K.days,"_VARn " + R8K.name,0,E8T,x5K,R8K);for(N8K=Math.max(R8K.startFrom,R8K.days * ("2" << 2048126784) - 1);N8K < D8K.length;N8K++){a8T="_";a8T+="V";a8T+="AR";a8T+=" ";D8K[N8K]["Result " + R8K.name]=D8K[N8K]["_COVAR " + R8K.name] / D8K[N8K][a8T + R8K.name];}};F8K.Studies.studyLibrary=F8K.extend(F8K.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:F8K.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:C8T,centerline:"1" & 2147483647,initializeFN:F8K.Studies.initPriceRelative,seriesFN:F8K.Studies.displayVsComparisonSymbol,calculateFN:F8K.Studies.calculatePerformance,inputs:{Period:"120" << 331640064,"Comparison Symbol":P8T},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! !"1"},Beta:{name:d8T,centerline:1,initializeFN:F8K.Studies.initPriceRelative,seriesFN:F8K.Studies.displayVsComparisonSymbol,calculateFN:F8K.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !1}});}};H2J=o5K=>{var T5K,c8T;T5K=typeof _CIQ !== "undefined"?_CIQ:o5K.CIQ;if(!T5K.Studies){console.error("coppock feature requires first activating studies feature.");}else {c8T="Co";c8T+="ppock Cur";c8T+="ve";T5K.Studies.calculateCoppock=function(r5K,k5K){var p74=M211;var w8T,O8T,u5K,q5K,O5K,L5K,g5K,d5K,z5K,V8T;w8T="R";w8T+="esul";w8T+="t";O8T="Short";O8T+=" ";O8T+="RoC";u5K=k5K.chart.scrubbed;q5K=k5K.inputs.Field;if(!q5K || q5K == "field"){q5K="Close";}O5K=parseInt(k5K.inputs["Long RoC"],+"10");p74.H65();if(!O5K){O5K=+"14";}L5K=parseInt(k5K.inputs[O8T],10);if(!L5K){L5K=11;}g5K=k5K.days;if(!g5K){p74.D5h(18);g5K=p74.m5h("10",1);}if(O5K < L5K){return;}if(u5K.length < Math.max(L5K,O5K,g5K) + 1){k5K.error=! ![];return;}for(var j5K=Math.max(k5K.startFrom,O5K);j5K < u5K.length;j5K++){p74.D5h(5);d5K=u5K[p74.m5h(j5K,L5K)][q5K];p74.D5h(5);z5K=u5K[p74.m5h(j5K,O5K)][q5K];if(d5K && z5K){V8T="_S";V8T+="u";V8T+="m";V8T+=" ";p74.D5h(121);var v8I=p74.m5h(375,19,19,6);p74.D5h(109);var Q8I=p74.a5h(10,8,1,7,10);u5K[j5K][V8T + k5K.name]=v8I * (u5K[j5K][q5K] / d5K + u5K[j5K][q5K] / z5K - Q8I);}}T5K.Studies.MA("weighted",g5K,"_Sum " + k5K.name,0,w8T,r5K,k5K);};T5K.Studies.studyLibrary=T5K.extend(T5K.Studies.studyLibrary,{Coppock:{name:c8T,calculateFN:T5K.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":"11" | 9,"Long RoC":14}}});}};b2J=c5K=>{var A5K,b8T,A8T,X8T,D8T;A5K=typeof _CIQ !== "undefined"?_CIQ:c5K.CIQ;if(!A5K.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {b8T="au";b8T+="t";b8T+="o";A8T="#69915";A8T+="8";X8T="#5";X8T+="F7";X8T+="CB8";D8T="D";D8T+="arv";D8T+="as Box";A5K.Studies.calculateDarvas=function(X5K,n5K){var Z74=M211;var J8T,G8T,m8T,q8T,l8T,Y5K,J5K,P5K,N8T,g8T,Z5K,a5K,F5K,e5K,U5K,t5K,w5K,l5K,m5K,y5K,M5K,u8T,f5K,B8T,s8T,r8T,K8T,n8T,h8T,y8T,W8T,i8T,p8T,f8T,S8T;J8T="A";J8T+="T";J8T+="H";G8T="L";G8T+="os";G8T+="s";m8T="G";m8T+="h";m8T+="ost";q8T="Vo";q8T+="lume ";q8T+="%";q8T+=" of Avg";l8T="Volume Sp";l8T+="ike";Y5K=n5K.chart.scrubbed;J5K=0;P5K=parseInt(n5K.inputs["ATH Lookback Period"],10);if(n5K.inputs[l8T]){N8T="A";N8T+="D";N8T+="V";g8T="s";g8T+="impl";g8T+="e";A5K.Studies.MA(g8T,P5K,"Volume",0,N8T,X5K,n5K);}Z74.U5h(88);var M8I=Z74.m5h(33,99,33);Z5K=parseFloat(n5K.inputs[q8T]) / M8I;a5K="none";F5K={};e5K=null;U5K=null;t5K=null;w5K=parseFloat(n5K.inputs["Level Offset"]);l5K=!1;if(l5K){console.log("*****************");}y5K={};["Darvas",m8T,"Profit",G8T,J8T,"ADV","Spike"].forEach(function(v5K){Z74.U5h(43);var t8I=Z74.m5h(10,1,11);y5K[v5K]=v5K + (t8I > 618.72?(! !0,86.45):" ") + n5K.name;});for(m5K=n5K.startFrom - 1;m5K > 0;m5K--){M5K=Y5K[m5K];if(M5K[y5K.Darvas] || M5K[y5K.Ghost]){for(var Q5K in y5K){M5K[Q5K]=null;}}else {J5K=M5K[y5K.ATH] || 0;U5K=M5K[y5K.Profit];t5K=M5K[y5K.Loss];break;}}for(m5K;m5K < Y5K.length;m5K++){u8T="Vol";u8T+="um";u8T+="e Spike";f5K=Y5K[m5K];if(!f5K)continue;if(parseFloat(n5K.inputs["Price Minimum"]) <= Y5K[J5K].Close){B8T="non";B8T+="e";if(e5K && (!e5K.End || m5K == e5K.End + 1)){if(Y5K[m5K - 1].Close > F5K.High){F5K={State:1,High:2 * F5K.High - F5K.Low,Low:F5K.High,Start:m5K,End:2 * F5K.End - F5K.Start + 1};}else {e5K=null;;}if(e5K){f5K[y5K.Ghost]=A5K.clone(F5K);if(l5K){console.log("Ghost begin:" + f5K.DT);}F5K.State=0;if(Y5K[F5K.End]){Y5K[F5K.End][y5K.Ghost]=A5K.clone(F5K);if(l5K){console.log("Ghost end:" + Y5K[F5K.End].DT);}}e5K={Start:F5K.Start,End:F5K.End};U5K=F5K.High + w5K;if(!t5K || t5K < F5K.Low - w5K){t5K=F5K.Low - w5K;}}}f5K[y5K.Profit]=U5K;f5K[y5K.Loss]=t5K;if(f5K.Close >= U5K){U5K=null;}else if(n5K.inputs["Exit Field"] == "high/low" && f5K.High >= U5K){U5K=null;}if(a5K == B8T){if(m5K == J5K + 3){if(!Y5K[J5K + 2][y5K.Darvas] && !Y5K[J5K + 1][y5K.Darvas] && !Y5K[J5K][y5K.Darvas] && Y5K[J5K].High > f5K.High){a5K="high";;}}}if(a5K == "high"){if(f5K.High > Y5K[J5K].High){s8T="n";s8T+="o";s8T+="ne";a5K=s8T;}else if(Y5K[m5K - 3].Low < Y5K[m5K - 2].Low && Y5K[m5K - 3].Low < Y5K[m5K - 1].Low && Y5K[m5K - 3].Low < f5K.Low){F5K={State:1,High:Y5K[J5K].High,Low:Y5K[m5K - +"3"].Low,Start:J5K};Y5K[J5K][y5K.Darvas]=A5K.clone(F5K);a5K="darvas";if(l5K){console.log("Darvas begin:" + Y5K[J5K].DT);}if(l5K){console.log("Darvas established:" + f5K.DT);}if(e5K){r8T="G";r8T+="host en";r8T+="d:";if(e5K.End > m5K && Y5K[e5K.Start]){f5K[y5K.Ghost]=A5K.clone(Y5K[e5K.Start][y5K.Ghost]);f5K[y5K.Ghost].End=m5K;if(Y5K[e5K.End]){delete Y5K[e5K.End][y5K.Ghost];if(l5K){console.log("Ghost End removed:" + Y5K[e5K.End].DT);}}}f5K[y5K.Ghost].State=0;Y5K[e5K.Start][y5K.Ghost].End=m5K;if(l5K){console.log(r8T + f5K.DT);}e5K=null;}U5K=F5K.High + w5K;if(!t5K || t5K < F5K.Low - w5K){t5K=F5K.Low - w5K;}}}if(a5K == "darvas"){K8T="no";K8T+="n";K8T+="e";n8T="h";n8T+="igh/l";n8T+="o";n8T+="w";h8T="hi";h8T+="g";h8T+="h/lo";h8T+="w";if(f5K.Close > F5K.High){e5K={};}else if(n5K.inputs["Exit Field"] == h8T && f5K.High > F5K.High){e5K={};}else if(f5K.Close < F5K.Low){a5K="none";}else if(n5K.inputs["Exit Field"] == n8T && f5K.Low < F5K.Low){a5K="none";}if(e5K){a5K="none";}else if(a5K == "none"){U5K=null;t5K=null;}if(!n5K.inputs["Ghost Boxes"]){e5K=null;}if(a5K == K8T){y8T="D";y8T+="arva";y8T+="s end:";for(var s5K=F5K.Start + 1;s5K < m5K;s5K++){Y5K[s5K][y5K.Darvas]=A5K.clone(F5K);}F5K.State=0;F5K.End=m5K;f5K[y5K.Darvas]=A5K.clone(F5K);if(l5K){console.log(y8T + f5K.DT);}f5K[y5K.ATH]=J5K;continue;}}if(t5K){W8T="Exit Fie";W8T+="l";W8T+="d";if(f5K.Close < F5K.Low || n5K.inputs[W8T] == "high/low" && f5K.Low < F5K.Low){i8T="Exi";i8T+="t F";i8T+="ield";if(a5K == "darvas"){a5K="none";}if(f5K.Close < t5K || n5K.inputs[i8T] == "high/low" && f5K.Low < t5K){U5K=null;t5K=null;}if(e5K){p8T="Gho";p8T+="st";p8T+=" en";p8T+="d:";if(e5K.End > m5K && Y5K[e5K.Start]){f5K[y5K.Ghost]=A5K.clone(Y5K[e5K.Start][y5K.Ghost]);f5K[y5K.Ghost].End=m5K;if(Y5K[e5K.End]){f8T="Ghos";f8T+="t En";f8T+="d remov";f8T+="ed:";delete Y5K[e5K.End][y5K.Ghost];if(l5K){console.log(f8T + Y5K[e5K.End].DT);}}}f5K[y5K.Ghost].State=0;Y5K[e5K.Start][y5K.Ghost].End=m5K;if(l5K){console.log(p8T + f5K.DT);}e5K=null;}}}}if(f5K.High >= Y5K[J5K].High){J5K=m5K;if(l5K){console.log("All Time High:" + f5K.DT);}}if(m5K < +"3" || f5K.High >= Y5K[m5K - 1].High && f5K.High >= Y5K[m5K - 2].High && f5K.High >= Y5K[m5K - 3].High){if(m5K - J5K >= P5K){S8T="All Time H";S8T+="igh:";J5K=m5K;for(var S5K=0;S5K < P5K;S5K++){if(m5K - S5K < 0)break;if(Y5K[m5K - S5K].High > Y5K[J5K].High){Z74.D5h(5);J5K=Z74.a5h(m5K,S5K);}}if(l5K){console.log(S8T + f5K.DT);}}}if(n5K.inputs[u8T] && m5K > P5K && m5K == J5K){if(f5K[y5K.ADV] * Z5K < f5K.Volume){f5K[y5K.Spike]=1;if(l5K){console.log("Volume Spike:" + f5K.DT);}}}f5K[y5K.ATH]=J5K;}};A5K.Studies.displayDarvas=function(i5K,h5K,K5K){var C74=M211;var M8T,Q8T,v8T,o4K,R5K,p5K,E5K,B5K,C5K,V5K,L4K,N5K,W5K,t8T,j4K,g4K,r4K,d4K,H5K,b5K,D5K,k4K,I5K,T4K,G5K,q4K,x4K,u4K,A4K,O4K,x8T,T8T,c4K,L8T,H8T,U8T,g9Y,N9Y,q9Y,z4K;M8T="Stop ";M8T+="Le";M8T+="vels";Q8T="au";Q8T+="to";v8T="a";v8T+="uto";C74.l65();o4K=A5K.Studies.determineColor(h5K.outputs.Levels);if(!o4K || o4K == "auto" || A5K.isTransparent(o4K)){o4K=i5K.defaultColor;}R5K=A5K.Studies.determineColor(h5K.outputs.Darvas);if(!R5K || R5K == v8T || A5K.isTransparent(R5K)){R5K=i5K.defaultColor;}p5K=A5K.Studies.determineColor(h5K.outputs.Ghost);if(!p5K || p5K == Q8T || A5K.isTransparent(p5K)){p5K=i5K.defaultColor;}E5K=i5K.panels[h5K.panel];B5K=h5K.getContext(i5K);C74.U5h(1);var T8I=C74.m5h(1,1);W5K=i5K.layout.candleWidth - T8I;if(W5K < 2){W5K=1;}i5K.startClip(h5K.panel);if(h5K.inputs[M8T]){if(B5K.setLineDash){B5K.setLineDash([2,2]);}B5K.lineWidth=2;B5K.strokeStyle=o4K;B5K.beginPath();for(C5K=0;C5K < K5K.length;C5K++){t8T="L";t8T+="oss ";V5K=K5K[C5K];C74.D5h(122);j4K=K5K[C74.m5h("1",1,C5K)];if(!V5K)continue;N5K=V5K["Loss " + h5K.name]?Math.floor(i5K.pixelFromPrice(V5K[t8T + h5K.name],E5K)):null;g4K=j4K && j4K["Loss " + h5K.name]?Math.floor(i5K.pixelFromPrice(j4K["Loss " + h5K.name],E5K)):null;if(N5K){if(V5K.candleWidth){W5K=Math.floor(Math.max(1,V5K.candleWidth));}r4K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) + W5K / ("2" << 2002386912));d4K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) - W5K / 2);if(g4K && g4K >= N5K){B5K.lineTo(d4K,N5K);}else if(C5K === 0){B5K.moveTo(i5K.chart.left,N5K);}else {B5K.moveTo(d4K,N5K);}B5K.lineTo(r4K,N5K);}}B5K.stroke();if(B5K.setLineDash){B5K.setLineDash([]);}B5K.lineWidth=1;}H5K=-10;D5K=0;I5K=-10;G5K=0;x4K=!{};u4K=!1;C74.D5h(123);var x8I=C74.a5h(4,8,15,2,5875);C74.D5h(124);var L8I=C74.m5h(16,1848,8,13060,12);C74.U5h(72);var H8I=C74.a5h(4,120,2006,11);C74.D5h(3);var U8I=C74.a5h(17,34,19);A4K=B5K.measureText(x8I !== L8I?H8I !== 658.93?(+"5140",+"6624") === 219.02?+"20.04":"\u25B2":(!"1",! !{}):"a").width / U8I;O4K=0;for(C5K=0;C5K < K5K.length;C5K++){x8T="D";x8T+="arvas ";if(!K5K[C5K])continue;if(K5K[C5K].Close || K5K[C5K].Close === 0){O4K=C5K;}if(K5K[C5K]["Spike " + h5K.name]){T8T="b";T8T+="o";T8T+="tto";T8T+="m";B5K.fillStyle=R5K;B5K.textBaseline=T8T;c4K=i5K.pixelFromPrice(K5K[C5K].High,i5K.chart.panel);B5K.fillText("\u25BC",i5K.pixelFromBar(C5K) - A4K,c4K - 5);;}if(K5K[C5K].candleWidth){W5K=Math.floor(Math.max(1,K5K[C5K].candleWidth));}if(K5K[C5K][x8T + h5K.name]){L8T="Da";L8T+="rvas ";V5K=K5K[C5K][L8T + h5K.name];if(V5K.State == 1 && !x4K){H5K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) - W5K / 2);b5K=Math.floor(i5K.pixelFromPrice(V5K.High,E5K));k4K=Math.floor(i5K.pixelFromPrice(V5K.Low,E5K)) - b5K;x4K=! !{};}else if(V5K.State === 0){C74.U5h(29);var D8I=C74.a5h(14,124,9);D5K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) + W5K / D8I) - H5K;b5K=Math.floor(i5K.pixelFromPrice(V5K.High,E5K));k4K=Math.floor(i5K.pixelFromPrice(V5K.Low,E5K)) - b5K;B5K.strokeStyle=R5K;B5K.fillStyle=R5K;if(!h5K.inputs["Stop Levels"]){B5K.strokeRect(H5K,b5K,D5K,k4K);B5K.globalAlpha=0.2;}else {B5K.globalAlpha=0.3;}B5K.fillRect(H5K,b5K,D5K,k4K);B5K.globalAlpha=1;x4K=! !"";}}if(K5K[C5K]["Ghost " + h5K.name] && h5K.inputs["Ghost Boxes"]){H8T="Gh";H8T+="o";H8T+="st";H8T+=" ";V5K=K5K[C5K][H8T + h5K.name];if(V5K.State == 1 && !u4K){I5K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) - W5K / +"2");T4K=Math.floor(i5K.pixelFromPrice(V5K.High,E5K));G5K=Math.floor((V5K.End - V5K.Start + +"1") * i5K.layout.candleWidth + W5K / +"2");q4K=Math.floor(i5K.pixelFromPrice(V5K.Low,E5K)) - T4K;u4K=! ![];}else if(V5K.State === 0){if(V5K.Start == V5K.End){I5K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) - W5K / 2);}G5K=Math.floor(i5K.pixelFromBar(C5K,E5K.chart) + W5K / ("2" - 0)) - I5K;T4K=Math.floor(i5K.pixelFromPrice(V5K.High,E5K));q4K=Math.floor(i5K.pixelFromPrice(V5K.Low,E5K)) - T4K;B5K.strokeStyle=p5K;B5K.fillStyle=p5K;if(!h5K.inputs["Stop Levels"]){B5K.strokeRect(I5K,T4K,G5K,q4K);B5K.globalAlpha=0.2;}else {B5K.globalAlpha=0.3;}B5K.fillRect(I5K,T4K,G5K,q4K);B5K.globalAlpha=1;u4K=!{};}}}if(x4K){C74.U5h(1);var X8I=C74.m5h(2,0);D5K=Math.floor(i5K.pixelFromBar(O4K,E5K.chart) + W5K / X8I) - H5K;B5K.strokeStyle=R5K;B5K.fillStyle=R5K;if(!h5K.inputs["Stop Levels"]){B5K.beginPath();C74.D5h(87);B5K.moveTo(C74.a5h(H5K,D5K,2),b5K);B5K.lineTo(H5K,b5K);C74.D5h(1);B5K.lineTo(H5K,C74.m5h(k4K,b5K));C74.U5h(125);B5K.lineTo(C74.a5h(0,"2",H5K,D5K),C74.a5h(k4K,b5K,C74.D5h(1)));B5K.stroke();B5K.globalAlpha=0.2;}else {B5K.globalAlpha=0.3;}C74.D5h(18);B5K.fillRect(H5K,b5K,C74.m5h(2,D5K),k4K);B5K.globalAlpha=1;}if(u4K){U8T="Stop L";U8T+="evels";B5K.strokeStyle=p5K;B5K.fillStyle=p5K;if(!h5K.inputs[U8T]){B5K.strokeRect(I5K,T4K,G5K,q4K);B5K.globalAlpha=0.2;}else {B5K.globalAlpha=+"0.3";}g9Y=412234240;N9Y=-657565907;q9Y=2;for(var G9Y=1;C74.C4Y(G9Y.toString(),G9Y.toString().length,17091) !== g9Y;G9Y++){B5K.fillRect(I5K,T4K,G5K,q4K);B5K.globalAlpha=4;q9Y+=2;}if(C74.a4Y(q9Y.toString(),q9Y.toString().length,"42583" << 1297028288) !== N9Y){B5K.fillRect(I5K,T4K,G5K,q4K);B5K.globalAlpha=1;}}if(x4K || u4K){if(h5K.inputs["Stop Levels"]){if(B5K.setLineDash){B5K.setLineDash([2,2]);}B5K.lineWidth=2;B5K.strokeStyle=o4K;z4K=Math.floor(i5K.pixelFromBar(O4K - 1,E5K.chart) + W5K / ("2" * 1));if(L4K){B5K.beginPath();B5K.moveTo(z4K,L4K);B5K.lineTo(x4K?H5K + 2 * D5K:I5K + G5K,L4K);B5K.stroke();}if(N5K){B5K.beginPath();B5K.moveTo(z4K,N5K);B5K.lineTo(x4K?H5K + 2 * D5K:I5K + G5K,N5K);B5K.stroke();}if(B5K.setLineDash){B5K.setLineDash([]);}B5K.lineWidth=1;}x4K=!1;u4K=! !"";}i5K.endClip();};A5K.Studies.studyLibrary=A5K.extend(A5K.Studies.studyLibrary,{Darvas:{name:D8T,underlay:! !{},calculateFN:A5K.Studies.calculateDarvas,seriesFN:A5K.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !"1","Stop Levels":!{},"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!1,"Volume % of Avg":400},outputs:{Darvas:X8T,Ghost:A8T,Levels:b8T},customRemoval:!"",attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! ![]}}}});}};R2J=f4K=>{var Y4K,e8T;Y4K=typeof _CIQ !== "undefined"?_CIQ:f4K.CIQ;if(!Y4K.Studies){console.error("detrended feature requires first activating studies feature.");}else {e8T="Detrend";e8T+="ed Price Oscillator";Y4K.Studies.calculateDetrendedPrice=function(t4K,m4K){var R8T,e4K,J4K,n4K,F4K,a4K;R8T="C";R8T+="lose";e4K=m4K.chart.scrubbed;if(e4K.length < m4K.days + 1){m4K.error=!"";return;}M211.H65();J4K=m4K.inputs.Field;if(!J4K || J4K == "field"){J4K=R8T;}n4K=Math.floor(m4K.days / 2 + ("1" << 758611552));Y4K.Studies.MA(m4K.inputs["Moving Average Type"],m4K.days,J4K,-n4K,"MA",t4K,m4K);for(var y4K=Math.max(m4K.days - n4K - 1,m4K.startFrom - n4K);y4K < e4K.length - n4K;y4K++){if(y4K < 0)continue;F4K=e4K[y4K][J4K];if(F4K && typeof F4K == "object"){F4K=F4K[m4K.subField];}a4K=e4K[y4K]["MA " + m4K.name];if((F4K || F4K === 0) && (a4K || a4K === +"0")){M211.D5h(5);e4K[y4K]["Result " + m4K.name]=M211.a5h(F4K,a4K);}}};Y4K.Studies.studyLibrary=Y4K.extend(Y4K.Studies.studyLibrary,{Detrended:{name:e8T,calculateFN:Y4K.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};N2J=U4K=>{var l4K,I3T;l4K=typeof _CIQ !== "undefined"?_CIQ:U4K.CIQ;if(!l4K.Studies){console.error("disparity feature requires first activating studies feature.");}else {I3T="fi";I3T+="eld";l4K.Studies.calculateDisparity=function(Z4K,w4K){var c74=M211;var Y8T,z8T,M4K,P4K,F3T,s4K;Y8T="C";Y8T+="lo";Y8T+="se";z8T="f";z8T+="iel";z8T+="d";M4K=w4K.chart.scrubbed;if(M4K.length < w4K.days + 1){w4K.error=! ![];return;}P4K=w4K.inputs.Field;if(!P4K || P4K == z8T){P4K=Y8T;}l4K.Studies.MA(w4K.inputs["Moving Average Type"],w4K.days,P4K,0,"_MA",Z4K,w4K);for(var S4K=Math.max(w4K.startFrom,w4K.days - 1);S4K < M4K.length;S4K++){F3T="Resu";F3T+="l";F3T+="t ";if(!M4K[S4K])continue;s4K=M4K[S4K]["_MA " + w4K.name];if(s4K){c74.D5h(1);var A8I=c74.m5h(20,80);c74.D5h(126);var b8I=c74.a5h(19,2,7,20,332);M4K[S4K][F3T + w4K.name]=A8I * (M4K[S4K][P4K] / s4K - b8I);}}};l4K.Studies.studyLibrary=l4K.extend(l4K.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:l4K.Studies.calculateDisparity,inputs:{Period:14,Field:I3T,"Moving Average Type":"ma"}}});}};D2J=X4K=>{M211.l65();var Q4K,O9Y,V9Y,w9Y,o3T;Q4K=typeof _CIQ !== "undefined"?_CIQ:X4K.CIQ;if(!Q4K.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {Q4K.Studies.calculateEaseOfMovement=function(W4K,i4K){var P74=M211;var v4K,V4K,h4K,E4K,K4K,C4K;v4K=i4K.chart.scrubbed;if(v4K.length < i4K.days){i4K.error=!"";return;}for(var B4K=Math.max(1,i4K.startFrom);B4K < v4K.length;B4K++){P74.U5h(127);var R8I=P74.m5h(1,17,8,0,11);V4K=(v4K[B4K].High + v4K[B4K].Low) / R8I;P74.D5h(5);var e8I=P74.a5h(28,26);h4K=(v4K[B4K - +"1"].High + v4K[B4K - ("1" - 0)].Low) / e8I;P74.D5h(5);E4K=P74.m5h(V4K,h4K);P74.D5h(88);var z8I=P74.m5h(1754386,99999997,5263158);K4K=v4K[B4K].Volume / z8I / (v4K[B4K].High - v4K[B4K].Low);P74.U5h(7);C4K=P74.a5h(E4K,K4K);if(!isFinite(C4K)){v4K[B4K]["_EOM1 " + i4K.name]=NaN;}else {v4K[B4K]["_EOM1 " + i4K.name]=C4K;}}Q4K.Studies.MA(i4K.inputs["Moving Average Type"],i4K.days,"_EOM1 " + i4K.name,+"0","Result",W4K,i4K);};O9Y=-213643477;V9Y=- +"944947347";w9Y=2;for(var l9Y=1;M211.C4Y(l9Y.toString(),l9Y.toString().length,"10262" << 1628959168) !== O9Y;l9Y++){o3T="M";o3T+="oving A";o3T+="verage Type";Q4K.Studies.studyLibrary=Q4K.extend(Q4K.Studies.studyLibrary,{EOM:{name:"Moving Average Type",calculateFN:Q4K.Studies.calculateEaseOfMovement,inputs:{Period:46,"Moving Average Type":o3T}}});w9Y+=2;}if(M211.C4Y(w9Y.toString(),w9Y.toString().length,40649) !== V9Y){Q4K.Studies.studyLibrary=Q4K.extend(Q4K.Studies.studyLibrary,{EOM:{name:"Moving Average Type",calculateFN:Q4K.Studies.calculateEaseOfMovement,inputs:{Period:46,"Moving Average Type":"Moving Average Type"}}});}Q4K.Studies.studyLibrary=Q4K.extend(Q4K.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:Q4K.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};I2J=b4K=>{var H4K,k3T,P3T,C3T;M211.H65();H4K=typeof _CIQ !== "undefined"?_CIQ:b4K.CIQ;if(!H4K.Studies){k3T="ehlerFisher feature requires first acti";k3T+="vating studies feature.";console.error(k3T);}else {P3T="#F";P3T+="F0000";C3T="a";C3T+="u";C3T+="t";C3T+="o";H4K.Studies.calculateEhlerFisher=function(o6X,R4K){var X74=M211;var D4K,N4K,a3T,E3T,j3T,p4K,Z3T,G4K,x6X;D4K=R4K.chart.scrubbed;if(D4K.length < R4K.days + 1){R4K.error=! !{};return;}N4K=0;if(R4K.startFrom > "1" * 1){N4K=D4K[R4K.startFrom - ("1" & 2147483647)]["_n " + R4K.name];}for(var I4K=R4K.startFrom;I4K < D4K.length;I4K++){a3T="_";a3T+="n ";E3T="EF Trigger";E3T+=" ";j3T="E";j3T+="F";j3T+=" ";p4K=D4K[I4K];if(p4K.futureTick)break;if(I4K < R4K.days - 1){Z3T="EF Tr";Z3T+="igger ";p4K["EF " + R4K.name]=p4K[Z3T + R4K.name]=N4K;continue;}G4K=T6X(R4K.days,I4K);X74.D5h(128);var Y8I=X74.a5h(14,22,2,278);X74.U5h(61);var F3I=X74.a5h(2,16,2,16);N4K=0.33 * +"2" * (((D4K[I4K].High + D4K[I4K].Low) / Y8I - G4K[0]) / Math.max(0.000001,G4K[F3I] - G4K[0]) - 0.5) + 0.67 * N4K;if(N4K > 0){N4K=Math.min(N4K,0.9999);}else if(N4K < 0){N4K=Math.max(N4K,- +"0.9999");}x6X=I4K?D4K[I4K - ("1" << 1660777024)]["EF " + R4K.name]:0;p4K[j3T + R4K.name]=0.5 * Math.log((+"1" + N4K) / (+"1" - N4K)) + 0.5 * x6X;p4K[E3T + R4K.name]=x6X;p4K[a3T + R4K.name]=N4K;}function T6X(L6X,O6X){var D4Y,X4Y,A4Y,u6X,q6X,j6X;D4Y=-1085245883;X74.U5h(18);X4Y=X74.m5h("751893423",1);A4Y=2;for(var R4Y=1;X74.a4Y(R4Y.toString(),R4Y.toString().length,"15667" ^ 0) !== D4Y;R4Y++){u6X=Number.MAX_VALUE;X74.U5h(11);var I3I=X74.a5h(39925083120,15,16,167050557);q6X=Number.MAX_VALUE + +("7" << I3I);A4Y+=2;}X74.l65();if(X74.a4Y(A4Y.toString(),A4Y.toString().length,50553) !== X4Y){u6X=Number.MAX_VALUE;X74.U5h(65);var o3I=X74.m5h(135,4,17,16,5);q6X=Number.MAX_VALUE + o3I;}u6X=Number.MAX_VALUE;q6X=Number.MAX_VALUE * - +"1";for(var k6X=O6X - L6X + 1;k6X <= O6X;k6X++){X74.D5h(15);var k3I=X74.a5h(58,7,14,3);j6X=(D4K[k6X].High + D4K[k6X].Low) / k3I;u6X=Math.min(u6X,j6X);q6X=Math.max(q6X,j6X);}return [u6X,q6X];}};H4K.Studies.studyLibrary=H4K.extend(H4K.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:H4K.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:C3T,"EF Trigger":P3T}}});}};p2J=d6X=>{var Z94=M211;var g6X,r4Y,h4Y,n4Y;g6X=typeof _CIQ !== "undefined"?_CIQ:d6X.CIQ;if(!g6X.Studies){r4Y=+"549642938";h4Y=-62819078;Z94.D5h(5);n4Y=Z94.a5h("2",0);for(var y4Y=1;Z94.a4Y(y4Y.toString(),y4Y.toString().length,18013) !== r4Y;y4Y++){console.error("");n4Y+=2;}if(Z94.C4Y(n4Y.toString(),n4Y.toString().length,36365) !== h4Y){console.error("");}console.error("elder feature requires first activating studies feature.");}else {g6X.Studies.calculateElderImpulse=function(f6X,z6X){var A6X,m6X,F6X,Y6X,c6X,c3T,w3T,V3T,O3T,d3T;A6X=z6X.chart.scrubbed;m6X=z6X.outputs.Bullish;F6X=z6X.outputs.Bearish;Y6X=z6X.outputs.Neutral;g6X.Studies.MA("exponential",+"13","Close",0,"_MA",f6X,z6X);Z94.U5h(129);var Z3I=Z94.a5h(8359,810842,14,14,2);Z94.U5h(130);var j3I=Z94.a5h(2262,16,566,2186,2);Z94.U5h(5);var E3I=Z94.a5h(6737,2);Z94.D5h(131);var a3I=Z94.a5h(9,2108,18071,36142);Z94.U5h(132);var C3I=Z94.m5h(6758,6739,3,4,6751);z6X.macd=new g6X.Studies.StudyDescriptor((Z3I >= (j3I,E3I)?"_":a3I <= 71.62?35.82:C3I) + z6X.name,"macd",z6X.panel);z6X.macd.chart=z6X.chart;z6X.macd.days=z6X.days;z6X.macd.startFrom=z6X.startFrom;z6X.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};z6X.macd.outputs={_MACD:null,_Signal:null};g6X.Studies.calculateMACD(f6X,z6X.macd);for(var r6X=z6X.startFrom;r6X < A6X.length;r6X++){c3T="Res";c3T+="ult";c3T+=" ";w3T="_";w3T+="h";w3T+="i";w3T+="st";V3T="_M";V3T+="A ";O3T="_h";O3T+="i";O3T+="st";d3T="_";d3T+="MA ";if(r6X === 0){c6X=Y6X;}else if(A6X[r6X][d3T + z6X.name] > A6X[r6X - 1]["_MA " + z6X.name] && A6X[r6X][(+"4620" !== 535.01?"_":(867,64) < 3590?5165 < (3563,6430)?9.28e+3:("p",6.01e+3):"h") + z6X.name + "_hist"] > A6X[r6X - 1]["_" + z6X.name + O3T]){c6X=m6X;}else if(A6X[r6X]["_MA " + z6X.name] < A6X[r6X - "1" * 1][V3T + z6X.name] && A6X[r6X][(7350 >= "4520" - 0?"_":(1833,941.4) != 1050?7340 !== 974?"r":0x15e2:(540.00,6.91e+3)) + z6X.name + w3T] < A6X[r6X - 1][(7100 == 150.62?! !"1":"_") + z6X.name + "_hist"]){c6X=F6X;}else {c6X=Y6X;}A6X[r6X][c3T + z6X.name]=c6X;;}};g6X.Studies.calculateElderRay=function(n6X,y6X){var N3T,g3T,e6X,l3T;Z94.H65();N3T="_h";N3T+="is";N3T+="t2";g3T="_h";g3T+="i";g3T+="st";g3T+="1";e6X=y6X.chart.scrubbed;if(e6X.length < y6X.days){y6X.error=! !"1";return;}g6X.Studies.MA("exponential",y6X.days,"Close",0,"_EMA",n6X,y6X);for(var J6X=Math.max(y6X.startFrom,y6X.days - 1);J6X < e6X.length;J6X++){l3T="_hist";l3T+="1";e6X[J6X][y6X.name + l3T]=e6X[J6X].High - e6X[J6X]["_EMA " + y6X.name];e6X[J6X][y6X.name + "_hist2"]=e6X[J6X].Low - e6X[J6X]["_EMA " + y6X.name];}y6X.outputMap={};y6X.outputMap[y6X.name + g3T]="";y6X.outputMap[y6X.name + N3T]="";};g6X.Studies.calculateElderForce=function(U6X,a6X){var G3T,m3T,q3T,t6X;G3T="Re";G3T+="su";G3T+="lt";m3T="_E";m3T+="F1 ";q3T="exponent";q3T+="i";q3T+="a";q3T+="l";t6X=a6X.chart.scrubbed;if(t6X.length < a6X.days){a6X.error=!"";return;}for(var l6X=Math.max(1,a6X.startFrom);l6X < t6X.length;l6X++){Z94.U5h(5);var P3I=Z94.m5h(9,8);t6X[l6X]["_EF1 " + a6X.name]=t6X[l6X].Volume * (t6X[l6X].Close - t6X[l6X - P3I].Close);}g6X.Studies.MA(q3T,a6X.days,m3T + a6X.name,0,G3T,U6X,a6X);};g6X.Studies.initElderImpulse=function(M6X,P6X,s6X,Z6X,S6X,Q6X){var w6X;Z94.H65();w6X=g6X.Studies.initializeFN(M6X,P6X,s6X,Z6X,S6X,Q6X);if(S6X.calculateOnly){return w6X;}M6X.chart.customChart={chartType:"colored_bar",colorFunction:function(B6X,v6X,i6X){var X6X;X6X=v6X["Result " + w6X.name];if(X6X && typeof X6X == "object"){X6X=X6X.color;}return X6X;}};M6X.setMainSeriesRenderer();return w6X;};g6X.Studies.displayElderForce=function(V6X,C6X,H6X){var E6X,K6X,W6X,h6X;g6X.Studies.displaySeriesAsLine(V6X,C6X,H6X);E6X=g6X.Studies.determineColor(C6X.outputs.Result);K6X=V6X.panels[C6X.panel];W6X=C6X.getYAxis(V6X);Z94.H65();h6X={skipTransform:K6X.name != C6X.chart.name,panelName:C6X.panel,band:"Result " + C6X.name,threshold:0,color:E6X,yAxis:W6X};if(!C6X.highlight && V6X.highlightedDraggable){h6X.opacity=0.3;}h6X.direction=1;g6X.preparePeakValleyFill(V6X,h6X);h6X.direction=-1;g6X.preparePeakValleyFill(V6X,h6X);};g6X.Studies.displayElderRay=function(R6X,b6X,k2X){var G6X,I6X,T2X,o2X,p6X,u2X,s3T,B3T,J3T,N6X;G6X=R6X.panels[b6X.panel];I6X=b6X.getContext(R6X);T2X=b6X.getYAxis(R6X);o2X=R6X.pixelFromPrice(0,G6X,T2X);Z94.D5h(44);var d3I=Z94.a5h(17,0,19,4);p6X=R6X.layout.candleWidth - d3I;function x2X(j2X,q2X,O2X,L2X){I6X.fillStyle=g6X.Studies.determineColor(b6X.outputs[O2X]);I6X.fillRect(Math.floor(R6X.pixelFromBar(j2X,G6X.chart) - p6X / 2 + p6X * q2X),Math.floor(o2X),Math.floor(p6X * (("1" & 2147483647) - 2 * q2X)),Math.floor(R6X.pixelFromPrice(N6X[b6X.name + L2X],G6X,T2X) - o2X));}if(p6X < 2){p6X=1;}R6X.canvasColor("stx_histogram");u2X=I6X.fillStyle;if(!b6X.underlay){I6X.globalAlpha=1;}R6X.startClip(b6X.panel);if(!b6X.highlight && R6X.highlightedDraggable){I6X.globalAlpha*=+"0.3";}for(var D6X=0;D6X < k2X.length;D6X++){s3T="_";s3T+="h";s3T+="i";s3T+="st2";B3T="_";B3T+="hi";B3T+="st1";J3T="_h";J3T+="is";J3T+="t";J3T+="2";N6X=k2X[D6X];if(!N6X)continue;if(N6X.candleWidth){p6X=Math.floor(Math.max(1,N6X.candleWidth - ("2" << 913164608)));}if(N6X[b6X.name + "_hist1"] > 0){x2X(D6X,+"0","Elder Bull Power","_hist1");}if(N6X[b6X.name + J3T] < +"0"){x2X(D6X,0,"Elder Bear Power","_hist2");}if(N6X[b6X.name + B3T] < 0){Z94.U5h(18);x2X(D6X,Z94.a5h("0.1",1),"Elder Bull Power","_hist1");}if(N6X[b6X.name + "_hist2"] > 0){x2X(D6X,0.1,"Elder Bear Power",s3T);}}R6X.endClip();I6X.fillStyle=u2X;};g6X.Studies.studyLibrary=g6X.extend(g6X.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:g6X.Studies.calculateElderForce,seriesFN:g6X.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:g6X.Studies.displayElderRay,calculateFN:g6X.Studies.calculateElderRay,centerline:0,inputs:{Period:+"13"},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:g6X.Studies.calculateElderImpulse,initializeFN:g6X.Studies.initElderImpulse,seriesFN:null,customRemoval:!0,underlay:! !{},inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(g2X,d2X){g2X.chart.customChart=null;g2X.setMainSeriesRenderer();}}});}};G2J=r2X=>{var r3T,j8Y,E8Y,a8Y,z2X,v3T,u3T,S3T,p3T,f3T,i3T;M211.H65();r3T="un";r3T+="def";r3T+="ined";j8Y=1548749569;E8Y=1549343838;a8Y=2;for(var P8Y=1;M211.a4Y(P8Y.toString(),P8Y.toString().length,13261) !== j8Y;P8Y++){z2X=+_CIQ == ""?_CIQ:r2X.CIQ;a8Y+=2;}if(M211.a4Y(a8Y.toString(),a8Y.toString().length,69403) !== E8Y){z2X=+_CIQ == ""?_CIQ:r2X.CIQ;}z2X=typeof _CIQ !== r3T?_CIQ:r2X.CIQ;if(!z2X.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {v3T="au";v3T+="to";u3T="au";u3T+="to";S3T="a";S3T+="u";S3T+="t";S3T+="o";p3T="Fra";p3T+="ctal Chaos Band";p3T+="s";f3T="-1 ";f3T+="to 1";i3T="Fractal Chaos Oscill";i3T+="ator";z2X.Studies.calculateFractalChaos=function(n2X,f2X){var y24=M211;var h3T,c2X,F2X,y2X,k3Y,Z3Y,j3Y,m2X,p7Y,S7Y,u7Y,n3T,e2X,J2X,Y2X,K3T,y3T,W3T;h3T="Fra";h3T+="ctal Chaos Ban";h3T+="ds";c2X=f2X.chart.scrubbed;F2X=0;y2X=0;k3Y=-1089547590;Z3Y=1315313008;j3Y=2;for(var a3Y=1;y24.a4Y(a3Y.toString(),a3Y.toString().length,63983) !== k3Y;a3Y++){m2X=+"4";j3Y+=2;}if(y24.a4Y(j3Y.toString(),j3Y.toString().length,96013) !== Z3Y){m2X=0;}if(f2X.startFrom && f2X.type == h3T){y24.U5h(133);var O3I=y24.m5h(2,15,1,0,15);F2X=c2X[f2X.startFrom - O3I]["Fractal High " + f2X.name];p7Y=- +"467721996";S7Y=-2008727997;y24.D5h(18);u7Y=y24.a5h("2",1);for(var Q7Y=1;y24.C4Y(Q7Y.toString(),Q7Y.toString().length,59245) !== p7Y;Q7Y++){y24.U5h(129);var V3I=y24.m5h(2200497,138631308,19,16,4);y2X=c2X[f2X.startFrom % ("2" << V3I)]["" - f2X.name];u7Y+=+"2";}if(y24.C4Y(u7Y.toString(),u7Y.toString().length,80683) !== S7Y){y24.U5h(92);var w3I=y24.m5h(0,16,97,6);y2X=c2X[f2X.startFrom - w3I]["Fractal Low " + f2X.name];}}for(var A2X=Math.max(4,f2X.startFrom);A2X < c2X.length;A2X++){n3T="Fractal Chaos ";n3T+="Band";n3T+="s";if(c2X[A2X].futureTick)break;e2X=!isNaN(c2X[A2X].High);J2X=!isNaN(c2X[A2X].Low);if(e2X || J2X){c2X[A2X]["Result " + f2X.name]=0;}m2X=0;for(Y2X=0;Y2X <= A2X;Y2X++){if(!c2X[A2X - Y2X])break;if(c2X[A2X - Y2X].High > c2X[A2X - 2].High)break;if(Y2X < +"2" && c2X[A2X - Y2X].High == c2X[A2X - ("2" | 2)].High)break;if(c2X[A2X - Y2X].High < c2X[A2X - 2].High){m2X++;}if(m2X == +"4"){F2X=c2X[A2X - 2].High;break;}}if(f2X.type == n3T){K3T="Fra";K3T+="ctal High ";if(e2X){c2X[A2X][K3T + f2X.name]=F2X > ("0" & 2147483647)?F2X:null;}}else if(m2X == 4){c2X[A2X]["Result " + f2X.name]=1;}m2X=0;for(Y2X=+"0";Y2X <= A2X;Y2X++){if(!c2X[A2X - Y2X])break;if(c2X[A2X - Y2X].Low < c2X[A2X - 2].Low)break;if(Y2X < +"2" && c2X[A2X - Y2X].Low == c2X[A2X - 2].Low)break;if(c2X[A2X - Y2X].Low > c2X[A2X - 2].Low){m2X++;}if(m2X == 4){y2X=c2X[A2X - 2].Low;break;}}if(f2X.type == "Fractal Chaos Bands"){y3T="Fract";y3T+="al L";y3T+="ow ";if(J2X){c2X[A2X][y3T + f2X.name]=y2X > +"0"?y2X:null;}}else if(m2X == 4){W3T="Res";W3T+="ult ";c2X[A2X][W3T + f2X.name]=- +"1";}}};z2X.Studies.studyLibrary=z2X.extend(z2X.Studies.studyLibrary,{"Fractal Chaos":{name:i3T,range:f3T,calculateFN:z2X.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:p3T,overlay:! !"1",calculateFN:z2X.Studies.calculateFractalChaos,seriesFN:z2X.Studies.displayChannel,inputs:{"Channel Fill":!""},outputs:{"Fractal High":S3T,"Fractal Low":u3T,"Fractal Channel":v3T}}});}};x7J=t2X=>{var Q3T,a2X,R3T,b3T,A3T,X3T,D3T;Q3T="undef";Q3T+="in";Q3T+="ed";a2X=typeof _CIQ !== Q3T?_CIQ:t2X.CIQ;M211.l65();if(!a2X.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {R3T="a";R3T+="u";R3T+="t";R3T+="o";b3T="Highest";b3T+=" H";b3T+="igh Value";A3T="au";A3T+="t";A3T+="o";X3T="a";X3T+="u";X3T+="t";X3T+="o";D3T="Donc";D3T+="hian";D3T+=" Chan";D3T+="nel";a2X.Studies.calculateMaxHighMinLow=function(X2X,l2X){var r24=M211;var M3T,U2X,Q2X,Z2X,P2X,S2X,M2X,x3T,T3T,t3T,s2X,L3T,U3T,H3T;M3T="Hi";M3T+="gh";M3T+=" Per";M3T+="iod";U2X=l2X.chart.scrubbed;Q2X=l2X.days;Z2X=l2X.days;if(l2X.inputs["High Period"]){Q2X=l2X.inputs[M3T];}if(l2X.inputs["Low Period"]){Z2X=l2X.inputs["Low Period"];}if(U2X.length < Math.max(Q2X,Z2X) + 1){l2X.error=! !"1";return;}P2X=Number.MAX_VALUE;r24.D5h(0);var c3I=r24.a5h(13,0,12);S2X=Number.MAX_VALUE * c3I;if(l2X.startFrom > 1){for(M2X=1;M2X < Q2X;M2X++){if(l2X.startFrom - M2X >= 0){S2X=Math.max(S2X,U2X[l2X.startFrom - M2X].High);}}for(M2X=1;M2X < Z2X;M2X++){if(l2X.startFrom - M2X >= 0){P2X=Math.min(P2X,U2X[l2X.startFrom - M2X].Low);}}}for(var w2X=Math.max(0,l2X.startFrom - 1);w2X < U2X.length;w2X++){x3T="W";x3T+="il";x3T+="li";x3T+="ams %R";T3T="VT HZ Filte";T3T+="r";t3T="L";t3T+="LV";S2X=Math.max(S2X,U2X[w2X].High);P2X=Math.min(P2X,U2X[w2X].Low);if(w2X >= Q2X){if(U2X[w2X - Q2X].High == S2X){S2X=U2X[w2X].High;for(M2X=1;M2X < Q2X;M2X++){S2X=Math.max(S2X,U2X[w2X - M2X].High);}}}if(w2X >= Z2X){if(U2X[w2X - Z2X].Low == P2X){P2X=U2X[w2X].Low;for(M2X="1" ^ 0;M2X < Z2X;M2X++){P2X=Math.min(P2X,U2X[w2X - M2X].Low);}}}s2X=0;if(l2X.type == "HHV"){s2X=S2X;}else if(l2X.type == t3T){s2X=P2X;}else if(l2X.type == "Donchian Width"){r24.D5h(5);s2X=r24.m5h(S2X,P2X);}else if(l2X.type == "GAPO" || l2X.type == "Gopala"){s2X=Math.log(S2X - P2X) / Math.log(Z2X);}else if(l2X.type == T3T){r24.D5h(5);s2X=r24.a5h(S2X,P2X);U2X[w2X]["_MHML " + l2X.name]=s2X;continue;}else if(l2X.type == x3T){L3T="Re";L3T+="sul";L3T+="t ";r24.D5h(134);var l3I=r24.a5h(14,14,94,6);s2X=l3I * (S2X - U2X[w2X].Close) / (S2X - P2X);U2X[w2X][L3T + l2X.name]=s2X;continue;}if(w2X == U2X.length - 1)break;if(!U2X[w2X + 1].futureTick){if(l2X.type == "Donchian Channel"){U3T="Do";U3T+="nchi";U3T+="an ";U3T+="Median ";H3T="D";H3T+="onch";H3T+="ia";H3T+="n High ";r24.D5h(1);U2X[r24.a5h(1,w2X)][H3T + l2X.name]=S2X;r24.U5h(1);U2X[r24.m5h(1,w2X)]["Donchian Low " + l2X.name]=P2X;r24.U5h(1);U2X[r24.a5h(1,w2X)][U3T + l2X.name]=r24.m5h("2",P2X,S2X,r24.U5h(41));}else {r24.U5h(1);U2X[r24.m5h(1,w2X)]["Result " + l2X.name]=s2X;}}}};a2X.Studies.calculateVerticalHorizontalFilter=function(E2X,v2X){M211.H65();var B2X,C2X,V2X,h2X;B2X=v2X.chart.scrubbed;if(B2X.length < v2X.days + ("1" ^ 0)){v2X.error=! ![];return;}v2X.mhml=new a2X.Studies.StudyDescriptor(v2X.name,v2X.type,v2X.panel);v2X.mhml.chart=v2X.chart;v2X.mhml.days=v2X.days;v2X.mhml.startFrom=v2X.startFrom;v2X.mhml.inputs={};v2X.mhml.outputs={_MHML:null};a2X.Studies.calculateMaxHighMinLow(E2X,v2X.mhml);M211.D5h(40);C2X=M211.a5h("0",1777597536);V2X=[];for(var i2X=Math.max(1,v2X.startFrom - v2X.days);i2X < B2X.length;i2X++){h2X=Math.abs(B2X[i2X].Close - B2X[i2X - 1].Close);V2X.push(h2X);C2X+=h2X;if(V2X.length == v2X.days){B2X[i2X]["Result " + v2X.name]=B2X[i2X]["_MHML " + v2X.name] / C2X;C2X-=V2X.shift();}}};a2X.Studies.studyLibrary=a2X.extend(a2X.Studies.studyLibrary,{"Donchian Channel":{name:D3T,overlay:! !{},calculateFN:a2X.Studies.calculateMaxHighMinLow,seriesFN:a2X.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! ![]},outputs:{"Donchian High":"auto","Donchian Median":X3T,"Donchian Low":A3T}},"Donchian Width":{name:"Donchian Width",calculateFN:a2X.Studies.calculateMaxHighMinLow,inputs:{"High Period":"20" >> 1079558400,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:a2X.Studies.calculateMaxHighMinLow},HHV:{name:b3T,calculateFN:a2X.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:a2X.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},"Williams %R":{name:"Williams %R",calculateFN:a2X.Studies.calculateMaxHighMinLow,inputs:{Period:"14" << 504202912},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:R3T,studyOverSoldValue:- +"80",studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:a2X.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(b2X,H2X){var W2X;W2X=H2X.chart.scrubbed;M211.l65();for(var K2X=H2X.startFrom;K2X < W2X.length;K2X++){W2X[K2X]["Result " + H2X.name]=W2X[K2X].High - W2X[K2X].Low;}},inputs:{}}});}};T7J=N2X=>{var R2X,z3T,e3T;M211.l65();R2X=typeof _CIQ !== "undefined"?_CIQ:N2X.CIQ;if(!R2X.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {z3T="#80800";z3T+="0";e3T="Ichimo";e3T+="ku Clouds";R2X.Studies.calculateIchimoku=function(j7X,I2X){var j24=M211;var p2X,G2X,D2X,x7X,k7X,u7X,q7X,T7X;j24.H65();p2X=I2X.chart.scrubbed;G2X={Base:Number(I2X.inputs["Base Line Period"]),Conv:Number(I2X.inputs["Conversion Line Period"]),LeadB:Number(I2X.inputs["Leading Span B Period"]),Lag:Number(I2X.inputs["Lagging Span Period"])};for(D2X=I2X.startFrom;D2X < p2X.length;D2X++){if(!p2X[D2X])continue;x7X=o7X(G2X.Conv,D2X);j24.D5h(1);var g3I=j24.a5h(1,0);p2X[D2X]["Conversion Line " + I2X.name]=(x7X[g3I] + x7X[0]) / ("2" ^ 0);x7X=o7X(G2X.Base,D2X);j24.D5h(135);var N3I=j24.m5h(7,104,0,15,1);j24.D5h(136);var q3I=j24.m5h(6,12,9,44);p2X[D2X]["Base Line " + I2X.name]=(x7X[N3I] + x7X[0]) / q3I;if(D2X < G2X.Lag)continue;p2X[D2X - G2X.Lag]["Lagging Span " + I2X.name]=p2X[D2X].Close;}function o7X(z7X,d7X){var L7X,g7X;L7X=Number.MAX_VALUE;j24.D5h(5);var m3I=j24.a5h(0,1);g7X=Number.MAX_VALUE * m3I;for(var O7X=d7X - z7X + 1;O7X <= d7X;O7X++){if(O7X < +"0")continue;L7X=Math.min(L7X,p2X[O7X].Low);g7X=Math.max(g7X,p2X[O7X].High);}return [L7X,g7X];}k7X=[];for(D2X=Math.max(0,I2X.startFrom - G2X.Base);D2X < p2X.length;D2X++){x7X=o7X(G2X.LeadB,D2X);j24.U5h(14);var G3I=j24.a5h(7,5);u7X=(p2X[D2X]["Conversion Line " + I2X.name] + p2X[D2X]["Base Line " + I2X.name]) / G3I;j24.D5h(1);var J3I=j24.m5h(1,0);j24.D5h(137);var B3I=j24.m5h(12,9,13,6);q7X=(x7X[J3I] + x7X[0]) / B3I;if(p2X[D2X + G2X.Base]){p2X[D2X + G2X.Base]["Leading Span A " + I2X.name]=u7X;p2X[D2X + G2X.Base]["Leading Span B " + I2X.name]=q7X;}else {T7X={};T7X["Leading Span A " + I2X.name]=u7X;T7X["Leading Span B " + I2X.name]=q7X;k7X.push(T7X);}}I2X.appendFutureTicks(j7X,k7X);};R2X.Studies.displayIchimoku=function(A7X,r7X,J7X){var c7X,Y7X,F7X,y7X,e7X,f7X,m7X;c7X="Leading Span A " + r7X.name;Y7X="Leading Span B " + r7X.name;F7X=R2X.Studies.determineColor(r7X.outputs[r7X.outputMap[c7X]]);y7X=R2X.Studies.determineColor(r7X.outputs[r7X.outputMap[Y7X]]);e7X=A7X.panels[r7X.panel];M211.l65();f7X=r7X.getYAxis(A7X);m7X={topBand:c7X,bottomBand:Y7X,topColor:F7X,bottomColor:y7X,skipTransform:e7X.name != r7X.chart.name,topAxis:f7X,bottomAxis:f7X,opacity:+"0.3"};if(!r7X.highlight && A7X.highlightedDraggable){m7X.opacity*=+"0.3";}R2X.fillIntersecting(A7X,r7X.panel,m7X);R2X.Studies.displaySeriesAsLine(A7X,r7X,J7X);};R2X.Studies.studyLibrary=R2X.extend(R2X.Studies.studyLibrary,{"Ichimoku Clouds":{name:e3T,overlay:! ![],calculateFN:R2X.Studies.calculateIchimoku,seriesFN:R2X.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":"26" | 18,"Leading Span B Period":52,"Lagging Span Period":"26" << 265362624},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":z3T}}});}};o7J=a7X=>{var Y3T,n7X,F9T,Z9T;M211.H65();Y3T="unde";Y3T+="f";Y3T+="i";Y3T+="ned";n7X=typeof _CIQ !== Y3T?_CIQ:a7X.CIQ;if(!n7X.Studies){F9T="intradayMomentum feature requires";F9T+=" first activating studies feature.";console.error(F9T);}else {Z9T="au";Z9T+="to";n7X.Studies.calculateIntradayMomentum=function(Z7X,t7X){var E24=M211;var l7X,S7X,w7X,M7X,o9T,I9T,k9T,P7X,s7X;l7X=t7X.chart.scrubbed;S7X=t7X.days;if(l7X.length < S7X + +"1"){t7X.error=! !1;return;}E24.H65();w7X=0;M7X=0;if(t7X.startFrom > 1){o9T="_to";o9T+="tD";o9T+="n ";I9T="_";I9T+="totUp";I9T+=" ";E24.D5h(138);var s3I=E24.a5h(14,11,3,0);w7X=l7X[t7X.startFrom - s3I][I9T + t7X.name];E24.D5h(1);var r3I=E24.m5h(1,0);M7X=l7X[t7X.startFrom - r3I][o9T + t7X.name];}for(var U7X=t7X.startFrom;U7X < l7X.length;U7X++){k9T="R";k9T+="esu";k9T+="lt ";P7X=l7X[U7X].Close - l7X[U7X].Open;if(P7X > "0" >> 1257755424){w7X+=P7X;}else {M7X-=P7X;}if(U7X >= S7X){s7X=l7X[U7X - S7X].Close - l7X[U7X - S7X].Open;if(s7X > +"0"){w7X-=s7X;}else {M7X+=s7X;}}E24.D5h(139);l7X[U7X][k9T + t7X.name]=E24.a5h(100,w7X,M7X,w7X);l7X[U7X]["_totUp " + t7X.name]=w7X;l7X[U7X]["_totDn " + t7X.name]=M7X;}};n7X.Studies.studyLibrary=n7X.extend(n7X.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:n7X.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:Z9T,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};k7J=X7X=>{var Q7X,E9T;Q7X=typeof _CIQ !== "undefined"?_CIQ:X7X.CIQ;if(!Q7X.Studies){console.error("keltner feature requires first activating studies feature.");}else {E9T="a";E9T+="uto";Q7X.Studies.calculateKeltner=function(B7X,v7X){var j9T;j9T="Cl";j9T+="o";j9T+="s";j9T+="e";Q7X.Studies.MA(v7X.inputs["Moving Average Type"],v7X.days,j9T,0,"MA",B7X,v7X);Q7X.Studies.calculateStudyATR(B7X,v7X);Q7X.Studies.calculateGenericEnvelope(B7X,v7X,v7X.inputs.Shift,"MA " + v7X.name,"ATR " + v7X.name);};Q7X.Studies.studyLibrary=Q7X.extend(Q7X.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!"",seriesFN:Q7X.Studies.displayChannel,calculateFN:Q7X.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":"ema","Channel Fill":! !1},outputs:{"Keltner Top":"auto","Keltner Median":E9T,"Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};u7J=C7X=>{var i7X,q9T,N9T,g9T;i7X=typeof _CIQ !== "undefined"?_CIQ:C7X.CIQ;M211.H65();if(!i7X.Studies){console.error("klinger feature requires first activating studies feature.");}else {q9T="#";q9T+="FF";q9T+="00";q9T+="00";N9T="a";N9T+="u";N9T+="t";N9T+="o";g9T="Kli";g9T+="nger Volume Oscillator";i7X.Studies.calculateKlinger=function(R7X,h7X){var l9T,c9T,V9T,O9T,d9T,P9T,C9T,a9T,E7X,N7X,K7X,D7X,W7X,G7X,H7X,I7X,p7X,V7X,w9T,b7X;l9T="expo";l9T+="nential";c9T="_";c9T+="EM";c9T+="A";c9T+="-L";V9T="_EMA";V9T+="-L ";O9T="_EMA-";O9T+="S";O9T+=" ";d9T="_";d9T+="SV ";P9T="Klin";P9T+="ger";P9T+=" ";C9T="_";C9T+="hi";C9T+="st";a9T="Long ";a9T+="Cycl";a9T+="e";E7X=h7X.chart.scrubbed;N7X=Number(h7X.inputs["Short Cycle"]);K7X=Number(h7X.inputs[a9T]);if(E7X.length < Math.max(N7X,K7X) + 1){h7X.error=! !1;return;}D7X=h7X.name + C9T;W7X=P9T + h7X.name;G7X="KlingerSignal " + h7X.name;H7X=d9T + h7X.name;I7X=O9T + h7X.name;M211.H65();p7X=V9T + h7X.name;for(V7X=Math.max(1,h7X.startFrom);V7X < E7X.length;V7X++){w9T="hlc/";w9T+="3";b7X=E7X[V7X].Volume;if(E7X[V7X]["hlc/3"] < E7X[V7X - "1" * 1][w9T]){b7X*=-1;}if(b7X){E7X[V7X][H7X]=b7X;}}i7X.Studies.MA("exponential",N7X,H7X,0,"_EMA-S",R7X,h7X);i7X.Studies.MA("exponential",K7X,H7X,0,c9T,R7X,h7X);for(V7X=Math.max(K7X,h7X.startFrom);V7X < E7X.length;V7X++){if(E7X[V7X].futureTick || E7X[V7X][I7X] === null || E7X[V7X][p7X] === null)break;E7X[V7X][W7X]=E7X[V7X][I7X] - E7X[V7X][p7X];}i7X.Studies.MA(l9T,Number(h7X.inputs["Signal Periods"]),W7X,"0" & 2147483647,"KlingerSignal",R7X,h7X);for(V7X=h7X.startFrom;V7X < E7X.length;V7X++){E7X[V7X][D7X]=E7X[V7X][W7X] - E7X[V7X][G7X];}h7X.outputMap[D7X]="";};i7X.Studies.studyLibrary=i7X.extend(i7X.Studies.studyLibrary,{Klinger:{name:g9T,seriesFN:i7X.Studies.displayHistogramWithSeries,calculateFN:i7X.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:N9T,KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":q9T}}});}};q7J=T3X=>{var x3X,m9T,S9T,p9T,f9T,i9T,W9T,y9T,K9T,B9T,J9T,G9T;x3X=typeof _CIQ !== "undefined"?_CIQ:T3X.CIQ;M211.l65();if(!x3X.Studies){m9T="linearRegression feature requires first a";m9T+="ctivating studies fea";m9T+="ture.";console.error(m9T);}else {S9T="a";S9T+="u";S9T+="t";S9T+="o";p9T="a";p9T+="ut";p9T+="o";f9T="fiel";f9T+="d";i9T="a";i9T+="u";i9T+="t";i9T+="o";W9T="f";W9T+="i";W9T+="el";W9T+="d";y9T="Lin";y9T+="ear ";y9T+="Reg ";y9T+="R2";K9T="f";K9T+="i";K9T+="eld";B9T="Tim";B9T+="e Seri";B9T+="es";J9T="ti";J9T+="m";J9T+="e ";J9T+="series";G9T="time se";G9T+="r";G9T+="i";G9T+="es";x3X.Studies.prettify[G9T]="tsma";x3X.Studies.movingAverage.conversions.tsma="time series";x3X.Studies.movingAverage.translations[J9T]=B9T;x3X.Studies.movingAverage.typeMap.tsma="TimeSeries";x3X.Studies.movingAverage.typeMap["time series"]="TimeSeries";x3X.Studies.calculateMovingAverageTimeSeries=function(r3X,o3X){var D24=M211;var q3X,u3X,j3X,O3X,L3X,g3X,d3X,s9T,z3X;o3X.ma=new x3X.Studies.StudyDescriptor(o3X.name,"ma",o3X.panel);o3X.ma.chart=o3X.chart;o3X.ma.days=o3X.days;o3X.ma.startFrom=o3X.startFrom;o3X.ma.inputs=o3X.inputs;x3X.Studies.calculateLinearRegressionIndicator(r3X,o3X.ma);q3X=o3X.name;for(var A3X in o3X.outputs){D24.U5h(86);q3X=D24.a5h(160.4 > (9310,301.01)?(613.24,"n"):" ",A3X,q3X);}u3X=parseInt(o3X.inputs.Offset,10);if(isNaN(u3X)){D24.D5h(12);u3X=D24.a5h(2147483647,"0");}j3X=o3X.chart.scrubbed;O3X=u3X;for(var k3X=o3X.startFrom - 1;k3X >= 0;k3X--){L3X=j3X[k3X][q3X];if(!L3X && L3X !== 0)continue;if(O3X > +"0"){O3X--;continue;}break;}g3X=[];for(k3X++;k3X < j3X.length;k3X++){d3X=j3X[k3X];if(k3X + u3X >= ("0" | 0)){if(k3X + u3X < j3X.length){D24.D5h(1);j3X[D24.a5h(u3X,k3X)][q3X]=d3X["Forecast " + o3X.name];}else {s9T="For";s9T+="ecast ";z3X={};z3X[q3X]=d3X[s9T + o3X.name];g3X.push(z3X);}}}D24.l65();o3X.appendFutureTicks(r3X,g3X);};x3X.Studies.calculateLinearRegressionIndicator=function(P3X,c3X){var B24=M211;var r9T,f3X,e3X,a3X,U3X,w3X,F3X,t3X,J3X,l3X,n9T,h9T,m3X,y3X,n3X,M3X,S3X;r9T="Clos";r9T+="e";f3X=c3X.chart.scrubbed;if(f3X.length < c3X.days + 1){c3X.error=! !{};return;}e3X=c3X.inputs.Field;if(!e3X || e3X == "field"){e3X=r9T;}B24.U5h(140);var h3I=B24.a5h(3,15,13,1);B24.D5h(3);var n3I=B24.a5h(2,18,447275632);a3X=c3X.days * (c3X.days + h3I) / ("2" << n3I);U3X=Math.pow(a3X,2);B24.U5h(121);var K3I=B24.a5h(43,2,5,7);B24.U5h(14);var y3I=B24.a5h(20,19);B24.U5h(141);var W3I=B24.m5h(365,16,11,18,10);B24.l65();w3X=a3X * (K3I * c3X.days + y3I) / W3I;F3X=0;t3X=0;J3X=0;if(c3X.startFrom){B24.D5h(5);var i3I=B24.m5h(11,10);l3X=f3X[c3X.startFrom - i3I]["_sums " + c3X.name];if(l3X){t3X=l3X[0];F3X=l3X[1];J3X=l3X[2];}}for(var Y3X=c3X.startFrom;Y3X < f3X.length;Y3X++){n9T="Int";n9T+="ercept ";h9T="ob";h9T+="j";h9T+="ect";m3X=f3X[Y3X][e3X];if(m3X && typeof m3X == h9T){m3X=m3X[c3X.subField];}if(!m3X && m3X !== ("0" & 2147483647))continue;t3X+=c3X.days * m3X - F3X;F3X+=m3X;J3X+=Math.pow(m3X,2);if(Y3X < c3X.days - 1)continue;else if(Y3X > c3X.days - 1){y3X=f3X[Y3X - c3X.days][e3X];if(y3X && typeof y3X == "object"){y3X=y3X[c3X.subField];}if(!y3X && y3X !== 0)continue;F3X-=y3X;J3X-=Math.pow(y3X,2);}n3X=(c3X.days * t3X - a3X * F3X) / (c3X.days * w3X - U3X);f3X[Y3X]["Slope " + c3X.name]=n3X;M3X=(F3X - n3X * a3X) / c3X.days;f3X[Y3X][n9T + c3X.name]=M3X;f3X[Y3X]["Forecast " + c3X.name]=M3X + n3X * c3X.days;B24.U5h(142);var f3I=B24.a5h(15,7,9,3,50);S3X=(c3X.days * w3X - U3X) / (c3X.days * J3X - Math.pow(F3X,f3I));B24.D5h(143);f3X[Y3X]["RSquared " + c3X.name]=B24.a5h(n3X,S3X,n3X);f3X[Y3X]["_sums " + c3X.name]=[t3X,F3X,J3X];}};x3X.Studies.studyLibrary=x3X.extend(x3X.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! ![],calculateFN:x3X.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:K9T},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:x3X.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:y9T,calculateFN:x3X.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:W9T},outputs:{RSquared:i9T}},"LR Slope":{name:"Linear Reg Slope",calculateFN:x3X.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:f9T},outputs:{Slope:p9T}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:x3X.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:S9T}}});}};j7J=Z3X=>{var s3X,u9T,H9T,L9T;s3X=typeof _CIQ !== "undefined"?_CIQ:Z3X.CIQ;if(!s3X.Studies){u9T="macd featur";u9T+="e requires first activating studies feature.";console.error(u9T);}else {H9T="#FF";H9T+="0";H9T+="00";H9T+="0";L9T="#";L9T+="FF";L9T+="0000";s3X.Studies.calculateMACD=function(K3X,Q3X){var z24=M211;var T9T,M9T,Q9T,v9T,i3X,C3X,X3X,V3X,h3X,B3X,v3X,W3X,t9T,E3X,H3X,x9T,b3X;T9T="Sign";T9T+="al MA";T9T+=" Ty";T9T+="pe";M9T="expon";M9T+="en";M9T+="tial";Q9T="Mov";Q9T+="ing ";Q9T+="Average ";Q9T+="Type";v9T="f";v9T+="ie";v9T+="l";v9T+="d";i3X=Q3X.chart.scrubbed;C3X=Q3X.inputs;X3X=Q3X.name;if(!Q3X.macd1Days){Q3X.macd1Days=parseFloat(C3X["Fast MA Period"]);}if(!Q3X.macd2Days){Q3X.macd2Days=parseFloat(C3X["Slow MA Period"]);}if(!Q3X.signalDays){Q3X.signalDays=parseFloat(C3X["Signal Period"]);}if(!Q3X.days){Q3X.days=Math.max(Q3X.macd1Days,Q3X.macd2Days,Q3X.signalDays);}if(i3X.length < Q3X.days + ("1" >> 1724659040)){Q3X.error=!"";return;}V3X=Q3X.inputs.Field;if(!V3X || V3X == v9T){V3X="Close";}h3X=C3X[Q9T];if(!h3X){h3X=M9T;}s3X.Studies.MA(h3X,Q3X.macd1Days,V3X,0,"_MACD1",K3X,Q3X);s3X.Studies.MA(h3X,Q3X.macd2Days,V3X,0,"_MACD2",K3X,Q3X);W3X=Math.max(Q3X.startFrom,Q3X.days - 1);for(B3X=W3X;B3X < i3X.length;B3X++){t9T="_M";t9T+="ACD2 ";v3X=i3X[B3X];if((v3X["_MACD1 " + X3X] || v3X["_MACD1 " + X3X] === 0) && (v3X["_MACD2 " + X3X] || v3X[t9T + X3X] === 0)){z24.D5h(1);v3X[z24.m5h(X3X,"MACD ")]=v3X["_MACD1 " + X3X] - v3X["_MACD2 " + X3X];}}E3X=C3X[T9T];if(!E3X){E3X="exponential";}s3X.Studies.MA(E3X,Q3X.signalDays,"MACD " + X3X,0,"Signal",K3X,Q3X);z24.D5h(1);H3X=z24.a5h("_hist",X3X);for(B3X=W3X;B3X < i3X.length;B3X++){x9T="Signa";x9T+="l";x9T+=" ";v3X=i3X[B3X];z24.U5h(1);b3X=v3X[z24.a5h(X3X,x9T)];if(!b3X && b3X !== 0)continue;v3X[H3X]=v3X["MACD " + X3X] - v3X["Signal " + X3X];}Q3X.outputMap[H3X]="";};s3X.Studies.studyLibrary=s3X.extend(s3X.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:s3X.Studies.calculateMACD,seriesFN:s3X.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:L9T,"Increasing Bar":"#00DD00","Decreasing Bar":H9T}}});}};O7J=N3X=>{var R3X;R3X=typeof _CIQ !== "undefined"?_CIQ:N3X.CIQ;if(!R3X.Studies){console.error("massIndex feature requires first activating studies feature.");}else {R3X.Studies.calculateMassIndex=function(T0X,D3X){var b24=M211;var A9T,X9T,D9T,U9T,I3X,x0X,R9T,b9T;A9T="_EM";A9T+="A2";X9T="_E";X9T+="MA";D9T="_";D9T+="High-";b24.l65();D9T+="L";D9T+="ow ";U9T="expone";U9T+="nti";U9T+="al";I3X=D3X.chart.scrubbed;if(I3X.length < Math.max(9,D3X.days + 1)){D3X.error=!"";return;}for(var G3X=D3X.startFrom;G3X < I3X.length;G3X++){I3X[G3X]["_High-Low " + D3X.name]=I3X[G3X].High - I3X[G3X].Low;}R3X.Studies.MA(U9T,9,D9T + D3X.name,0,X9T,T0X,D3X);R3X.Studies.MA("exponential",+"9","_EMA " + D3X.name,0,A9T,T0X,D3X);x0X=0;if(I3X[D3X.startFrom - 1] && I3X[D3X.startFrom - ("1" << 1860734752)]["_total " + D3X.name]){b24.D5h(5);var p3I=b24.a5h(12,11);x0X=I3X[D3X.startFrom - p3I]["_total " + D3X.name];}for(var p3X=Math.max(17,D3X.startFrom);p3X < I3X.length;p3X++){R9T="_tot";R9T+="al ";b9T="_E";b9T+="M";b9T+="A";b9T+="2 ";x0X+=I3X[p3X]["_EMA " + D3X.name] / I3X[p3X][b9T + D3X.name];if(p3X >= "17" * 1 + D3X.days - 1){I3X[p3X]["Result " + D3X.name]=x0X;b24.U5h(144);var S3I=b24.m5h(19,11,6,2,20);b24.D5h(14);var u3I=b24.a5h(20,19);x0X-=I3X[p3X - D3X.days + S3I]["_EMA " + D3X.name] / I3X[p3X - D3X.days + u3I]["_EMA2 " + D3X.name];}I3X[p3X][R9T + D3X.name]=x0X;}};R3X.Studies.displayMassIndex=function(k0X,o0X,L0X){var e9T,u0X,g0X,q0X,j0X,O0X;e9T="Re";e9T+="s";e9T+="ul";e9T+="t ";R3X.Studies.displaySeriesAsLine(k0X,o0X,L0X);u0X=o0X.inputs["Bulge Threshold"];g0X=k0X.panels[o0X.panel];q0X=o0X.getYAxis(k0X);j0X=R3X.Studies.determineColor(o0X.outputs.Result);O0X={skipTransform:k0X.panels[o0X.panel].name != o0X.chart.name,panelName:o0X.panel,band:e9T + o0X.name,threshold:u0X,direction:1,color:j0X,yAxis:q0X,opacity:+"0.3"};if(!o0X.highlight && k0X.highlightedDraggable){O0X.opacity*=+"0.3";}R3X.preparePeakValleyFill(k0X,O0X);R3X.Studies.drawHorizontal(k0X,o0X,null,u0X,q0X,j0X);};R3X.Studies.studyLibrary=R3X.extend(R3X.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:R3X.Studies.displayMassIndex,calculateFN:R3X.Studies.calculateMassIndex,inputs:{Period:"25" - 0,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:"20" | 20,max:35,step:0.1}}}});}};L7J=z0X=>{var d0X,I2T;d0X=typeof _CIQ !== "undefined"?_CIQ:z0X.CIQ;M211.H65();if(!d0X.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {I2T="a";I2T+="u";I2T+="t";I2T+="o";d0X.Studies.calculateMoneyFlowIndex=function(l0X,c0X){var g24=M211;var Y9T,z9T,A0X,f0X,Y0X,F0X,n0X,y0X,a0X,e0X,F2T,t0X,m0X,J0X;Y9T="R";Y9T+="esu";Y9T+="l";Y9T+="t ";z9T="_";z9T+="r";z9T+="awMF ";A0X=c0X.chart.scrubbed;if(A0X.length < c0X.days + ("1" >> 299824512)){c0X.error=! ![];return;}f0X=0;Y0X=0;g24.D5h(3);var v3I=g24.a5h(12,26,15);F0X=A0X[c0X.startFrom - v3I];n0X=z9T + c0X.name;y0X="_cumMF " + c0X.name;a0X=Y9T + c0X.name;if(F0X && F0X[y0X]){f0X=F0X[y0X][0];g24.U5h(18);Y0X=F0X[y0X][g24.a5h("1",1)];}for(var r0X=c0X.startFrom;r0X < A0X.length;r0X++){e0X=A0X[r0X]["hlc/3"];if(r0X > 0 && !A0X[r0X].futureTick){F2T="h";F2T+="lc/3";g24.U5h(5);t0X=A0X[g24.a5h(r0X,1)][F2T];m0X=e0X * A0X[r0X].Volume;if(e0X > t0X){f0X+=m0X;}else if(e0X < t0X){m0X*=-1;Y0X-=m0X;}else {m0X=0;}if(r0X > c0X.days){J0X=A0X[r0X - c0X.days][n0X];if(J0X > 0){f0X-=J0X;}else {Y0X+=J0X;}if(Y0X === +"0"){A0X[r0X][a0X]=100;}else if(A0X[r0X].Volume){g24.D5h(145);A0X[r0X][a0X]=g24.m5h(1,100,Y0X,f0X,100);}}A0X[r0X][n0X]=m0X;A0X[r0X][y0X]=[f0X,Y0X];}}};d0X.Studies.studyLibrary=d0X.extend(d0X.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:d0X.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:I2T}}}});}};g7J=w0X=>{M211.H65();var o2T,U0X,W2T,y2T,K2T,n2T,h2T,r2T,s2T,B2T,C2T,a2T,E2T,j2T,Z2T,k2T;o2T="und";o2T+="efi";o2T+="ned";U0X=typeof _CIQ !== o2T?_CIQ:w0X.CIQ;if(!U0X.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {W2T="au";W2T+="to";y2T="Perce";y2T+="nt";K2T="a";K2T+="u";K2T+="to";n2T="a";n2T+="u";n2T+="t";n2T+="o";h2T="po";h2T+="ints";r2T="p";r2T+="erc";r2T+="ent";s2T="fie";s2T+="l";s2T+="d";B2T="Mo";B2T+="ving A";B2T+="v";B2T+="erage Envelope";C2T="Tri";C2T+="pleExp";C2T+="onential";a2T="TripleEx";a2T+="pon";a2T+="en";a2T+="tial";E2T="H";E2T+="ull";j2T="Tri";j2T+="ple Exponential";Z2T="H";Z2T+="ul";Z2T+="l";k2T="hu";k2T+="l";k2T+="l";U0X.Studies.prettify=U0X.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},U0X.Studies.prettify);U0X.extend(U0X.Studies.movingAverage,{conversions:{hma:k2T,dema:"2-exponential",tema:"3-exponential"},translations:{hull:Z2T,"2-exponential":"Double Exponential","3-exponential":j2T},typeMap:{hma:"Hull",hull:E2T,dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:a2T,"3-exponential":C2T}});U0X.Studies.calculateMovingAverageHull=function(B0X,M0X){var a24=M211;var V2T,P2T,P0X,s0X,S0X,Z0X,O2T,d2T,Q0X,X0X,i0X,v0X;V2T="w";V2T+="m";V2T+="a";P2T="_W";P2T+="M";P2T+="A1";P0X=M0X.chart.scrubbed;s0X=M0X.inputs.Field;if(!s0X || s0X == "field"){s0X="Close";}U0X.Studies.MA("wma",M0X.days,s0X,0,P2T,B0X,M0X);U0X.Studies.MA("wma",Math.ceil(M0X.days / 2),s0X,+"0","_WMA2",B0X,M0X);for(S0X=M0X.startFrom - +"1";S0X >= 0;S0X--){Z0X=P0X[S0X][s0X];if(Z0X && typeof Z0X == "object"){Z0X=Z0X[M0X.subField];}if(Z0X || Z0X === 0)break;}for(S0X++;S0X < P0X.length;S0X++){O2T="_WM";O2T+="A1 ";d2T="_";d2T+="MM";d2T+="A";d2T+=" ";Q0X=P0X[S0X];a24.U5h(146);var Q3I=a24.a5h(2,7,21,12,2);Q0X[d2T + M0X.name]=Q3I * Q0X["_WMA2 " + M0X.name] - Q0X[O2T + M0X.name];}X0X=parseInt(M0X.inputs.Offset,10);if(isNaN(X0X)){X0X=0;}i0X=Math.floor(Math.sqrt(M0X.days));U0X.Studies.MA(V2T,i0X,"_MMA " + M0X.name,X0X,"_HMA",B0X,M0X);v0X=M0X.name;for(var C0X in M0X.outputs){a24.U5h(86);v0X=a24.a5h(+"6814" > 5658?(1207,"4025" | 3072) < ("9840" ^ 0)?" ":(![],![]):(0x7d2,29.27),C0X,v0X);}for(S0X=Math.max(M0X.days + i0X - ("1" >> 630198112),M0X.startFrom);S0X < P0X.length;S0X++){P0X[S0X][v0X]=P0X[S0X]["_HMA " + M0X.name];}};U0X.Studies.calculateMovingAverageDoubleExponential=function(R0X,V0X){var h24=M211;var c2T,w2T,W0X,H0X,E0X,h0X,K0X,N0X,b0X,D0X,I0X,p0X,G0X;c2T="_";c2T+="EMA";c2T+="1";c2T+=" ";w2T="e";w2T+="m";w2T+="a";W0X=V0X.chart.scrubbed;H0X=V0X.inputs.Field;if(!H0X || H0X == "field"){H0X="Close";}U0X.Studies.MA(w2T,V0X.days,H0X,0,"_EMA1",R0X,V0X);U0X.Studies.MA("ema",V0X.days,c2T + V0X.name,0,"_EMA2",R0X,V0X);E0X=parseInt(V0X.inputs.Offset,10);if(isNaN(E0X)){E0X=0;}N0X=E0X;for(h0X=V0X.startFrom - 1;h0X >= 0;h0X--){K0X=W0X[h0X][H0X];if(K0X && typeof K0X == "object"){K0X=K0X[V0X.subField];}if(!K0X && K0X !== 0)continue;if(N0X > 0){N0X--;continue;}break;}b0X=V0X.name;for(var x1X in V0X.outputs){h24.U5h(86);b0X=h24.a5h(" ",x1X,b0X);}D0X=[];for(h0X++;h0X < W0X.length;h0X++){if(h0X < 2 * (V0X.days - 1))continue;I0X=W0X[h0X];p0X=+"2" * I0X["_EMA1 " + V0X.name] - I0X["_EMA2 " + V0X.name];if(h0X + E0X >= 0){if(h0X + E0X < W0X.length){h24.D5h(1);W0X[h24.a5h(E0X,h0X)][b0X]=p0X;}else {G0X={};G0X[b0X]=p0X;D0X.push(G0X);}}}V0X.appendFutureTicks(R0X,D0X);};U0X.Studies.calculateMovingAverageTripleExponential=function(L1X,T1X){var w24=M211;var g2T,l2T,q1X,j1X,k1X,o1X,u1X,d1X,O1X,z1X,g1X,r1X,A1X;g2T="_";g2T+="EMA";g2T+="2";g2T+=" ";l2T="_E";l2T+="MA1";q1X=T1X.chart.scrubbed;w24.H65();j1X=T1X.inputs.Field;if(!j1X || j1X == "field"){j1X="Close";}U0X.Studies.MA("ema",T1X.days,j1X,"0" >> 1696384768,l2T,L1X,T1X);U0X.Studies.MA("ema",T1X.days,"_EMA1 " + T1X.name,0,"_EMA2",L1X,T1X);U0X.Studies.MA("ema",T1X.days,g2T + T1X.name,0,"_EMA3",L1X,T1X);k1X=parseInt(T1X.inputs.Offset,10);if(isNaN(k1X)){k1X=0;}d1X=k1X;for(o1X=T1X.startFrom - 1;o1X >= ("0" ^ 0);o1X--){u1X=q1X[o1X][j1X];if(u1X && typeof u1X == "object"){u1X=u1X[T1X.subField];}if(!u1X && u1X !== "0" >> 256574080)continue;if(d1X > 0){d1X--;continue;}break;}O1X=T1X.name;for(var c1X in T1X.outputs){w24.D5h(86);O1X=w24.a5h(" ",c1X,O1X);}z1X=[];for(o1X++;o1X < q1X.length;o1X++){if(o1X < 3 * (T1X.days - +"1"))continue;g1X=q1X[o1X];w24.U5h(5);var M3I=w24.m5h(16,13);r1X=+"3" * g1X["_EMA1 " + T1X.name] - M3I * g1X["_EMA2 " + T1X.name] + g1X["_EMA3 " + T1X.name];if(o1X + k1X >= ("0" ^ 0)){if(o1X + k1X < q1X.length){w24.D5h(1);q1X[w24.m5h(k1X,o1X)][O1X]=r1X;}else {A1X={};A1X[O1X]=r1X;z1X.push(A1X);}}}T1X.appendFutureTicks(L1X,z1X);};U0X.Studies.calculateMAEnvelope=function(y1X,Y1X){var N2T,f1X,m1X,F1X,q2T,m2T;N2T="p";N2T+="er";N2T+="ce";N2T+="nt";f1X=Y1X.inputs.Field;if(!f1X || f1X == "field"){f1X="Close";}M211.l65();U0X.Studies.MA(Y1X.inputs["Moving Average Type"],Y1X.days,f1X,0,"MA",y1X,Y1X);m1X=Y1X.inputs["Shift Type"];F1X=Y1X.inputs.Shift;if(!m1X){m1X="percent";F1X=Y1X.inputs["Shift Percentage"];}if(m1X == N2T){q2T="M";q2T+="A";q2T+=" ";M211.U5h(7);U0X.Studies.calculateGenericEnvelope(y1X,Y1X,M211.m5h(F1X,100),q2T + Y1X.name);}else if(m1X == "points"){m2T="M";m2T+="A";m2T+=" ";U0X.Studies.calculateGenericEnvelope(y1X,Y1X,null,m2T + Y1X.name,null,Number(F1X));}};U0X.Studies.calculateMADev=function(P1X,e1X){var L24=M211;var G2T,l1X,n1X,U1X,w1X,S1X,J2T,a1X,J1X,t1X;G2T="f";L24.l65();G2T+="ield";l1X=e1X.chart.scrubbed;if(l1X.length < e1X.days + 1){e1X.error=! !{};return;}n1X=e1X.inputs.Field;if(!n1X || n1X == G2T){n1X="Close";}U1X=e1X.inputs["Points Or Percent"];if(!U1X){U1X="Points";}w1X=e1X.inputs["Moving Average Type"];if(!w1X){w1X="exponential";}U0X.Studies.MA(w1X,e1X.days,n1X,"0" ^ 0,"_MA",P1X,e1X);S1X=e1X.name + "_hist";for(var M1X=Math.max(e1X.startFrom,e1X.days - +"1");M1X < l1X.length;M1X++){J2T="o";J2T+="bject";a1X=l1X[M1X];J1X=a1X[n1X];if(J1X && typeof J1X == J2T){J1X=J1X[e1X.subField];}t1X=a1X["_MA " + e1X.name];if(t1X || t1X === 0){if(U1X == "Points"){L24.U5h(5);a1X[S1X]=L24.m5h(J1X,t1X);}else {L24.D5h(147);a1X[S1X]=L24.m5h(1,t1X,2147483647,"100",J1X);}}}e1X.outputMap={};e1X.outputMap[e1X.name + "_hist"]="";};U0X.Studies.studyLibrary=U0X.extend(U0X.Studies.studyLibrary,{"MA Env":{name:B2T,overlay:!0,seriesFN:U0X.Studies.displayChannel,calculateFN:U0X.Studies.calculateMAEnvelope,inputs:{Period:50,Field:s2T,"Shift Type":[r2T,h2T],Shift:5,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"MA Env Top":n2T,"MA Env Median":"auto","MA Env Bottom":K2T},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:U0X.Studies.calculateMADev,seriesFN:U0X.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points",y2T]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:U0X.Studies.displayChannel,calculateFN:function(Z1X,s1X){var K24=M211;var A9Y,b9Y,R9Y;s1X.inputs["Moving Average Type"]="triangular";A9Y=310254621;b9Y=1154064507;R9Y=2;for(var z9Y=1;K24.a4Y(z9Y.toString(),z9Y.toString().length,+"7964") !== A9Y;z9Y++){U0X.Studies.calculateMAEnvelope(Z1X,s1X);K24.U5h(22);R9Y+=K24.m5h("2",1035194560);}if(K24.C4Y(R9Y.toString(),R9Y.toString().length,+"58752") !== b9Y){U0X.Studies.calculateMAEnvelope(Z1X,s1X);}},inputs:{Period:10,Field:"field","Shift Percentage":"5" << 1381166048,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":W2T},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};d7J=X1X=>{var i2T,Q1X,p2T;i2T="un";M211.l65();i2T+="defined";Q1X=typeof _CIQ !== i2T?_CIQ:X1X.CIQ;if(!Q1X.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {p2T="Pa";p2T+="rabolic SA";p2T+="R";Q1X.Studies.calculatePSAR=function(I1X,V1X){var t24=M211;var f2T,v1X,h1X,i1X,E1X,C1X,H1X,b1X,K1X,W1X,R1X,N1X;f2T="M";f2T+="i";f2T+="nimum";f2T+=" AF";v1X=V1X.chart.scrubbed;t24.D5h(40);h1X=t24.m5h("0",1546212768);i1X=null;E1X=! !0;C1X=0;function D1X(){h1X=0;t24.H65();i1X=null;E1X=!E1X;}H1X=parseFloat(V1X.inputs[f2T]);b1X=parseFloat(V1X.inputs["Maximum AF"]);if(V1X.startFrom > 0){C1X=v1X[V1X.startFrom - +"1"]["Result " + V1X.name];t24.D5h(134);var t3I=t24.a5h(14,4,5,4);K1X=v1X[V1X.startFrom - t3I]["_state " + V1X.name];if(K1X && K1X.length == 3){h1X=K1X[0];i1X=K1X[1];E1X=K1X[2];}}for(var B1X=V1X.startFrom - 1;B1X < v1X.length - 1;B1X++){if(B1X < 0)continue;if(v1X[B1X].futureTick)break;W1X=C1X;if(E1X){if(!i1X || i1X < v1X[B1X].High){i1X=v1X[B1X].High;t24.U5h(1);h1X=Math.min(t24.a5h(H1X,h1X),b1X);}t24.D5h(148);C1X=t24.a5h(h1X,i1X,W1X,W1X);R1X=Math.min(v1X[Math.max(1,B1X) - 1].Low,v1X[B1X].Low);if(C1X > v1X[B1X + 1].Low){C1X=i1X;D1X();}else if(C1X > R1X){C1X=R1X;}}else {if(!i1X || i1X > v1X[B1X].Low){i1X=v1X[B1X].Low;t24.U5h(1);h1X=Math.min(t24.a5h(H1X,h1X),b1X);}t24.U5h(148);C1X=t24.a5h(h1X,i1X,W1X,W1X);N1X=Math.max(v1X[Math.max(1,B1X) - 1].High,v1X[B1X].High);if(C1X < v1X[B1X + 1].High){C1X=i1X;D1X();}else if(C1X < N1X){C1X=N1X;}}t24.U5h(70);v1X[t24.a5h(B1X,"1")]["_state " + V1X.name]=[h1X,i1X,E1X];if(!isNaN(v1X[B1X].High) || !isNaN(v1X[B1X].Low)){t24.U5h(1);v1X[t24.a5h(1,B1X)]["Result " + V1X.name]=C1X;}}};Q1X.Studies.studyLibrary=Q1X.extend(Q1X.Studies.studyLibrary,{PSAR:{name:p2T,overlay:! !{},calculateFN:Q1X.Studies.calculatePSAR,seriesFN:Q1X.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":+"0.2"}}});}};z7J=G1X=>{var p1X,z2T,e2T,R2T,b2T;p1X=typeof _CIQ !== "undefined"?_CIQ:G1X.CIQ;if(!p1X.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {z2T="#d3e8";z2T+="ae";e2T="#";e2T+="f";e2T+="fd0";e2T+="cf";R2T="#e364";R2T+="60";b2T="sta";b2T+="nda";b2T+="rd";p1X.Studies.calculatePivotPoints=function(j9X,k9X){var e24=M211;var v2T,u2T,S2T,T9X,u9X,q9X,g9X,Q2T,d9X,O9X,z9X,x9X,M2T,T2T,t2T,r9X,A9X,x2T;v2T="mill";v2T+="ise";v2T+="cond";function L9X(){e24.H65();e24.D5h(149);var T3I=e24.m5h(18,20,4,8,3);e24.D5h(150);var x3I=e24.a5h(16,4,15,8);x9X.pivotPoint=(x9X.high + x9X.low + T9X[o9X - T3I].Close) / x3I;x9X.prevHigh=x9X.high;x9X.prevLow=x9X.low;x9X.hlSpread=x9X.high - x9X.low;x9X.high=x9X.low=0;}u2T="y";u2T+="e";u2T+="ar";e24.H65();S2T="da";S2T+="y";T9X=k9X.chart.scrubbed;u9X="day";q9X=j9X.layout.interval;g9X=j9X.layout.timeUnit;if(q9X == S2T){u9X="month";}else if(p1X.ChartEngine.isDailyInterval(q9X)){u9X=u2T;}else if(q9X == "second" || q9X == "millisecond" || g9X == "second" || g9X == v2T){u9X="15min";}else {Q2T="m";Q2T+="i";Q2T+="n";Q2T+="ute";d9X=j9X.layout.periodicity;if(q9X != Q2T){d9X*=q9X;}if(d9X >= ("30" ^ 0)){u9X="week";}}O9X=null;z9X=+"7" - p1X.getFromNS(j9X.chart,"market.beginningDayOfWeek",0);x9X={pivotPoint:NaN,high:"0" ^ 0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(k9X.startFrom > 1 && T9X[k9X.startFrom - 1]["_pointers " + k9X.name]){M2T="_po";M2T+="inters ";x9X=p1X.clone(T9X[k9X.startFrom - 1][M2T + k9X.name]);}for(var o9X=Math.max(1,k9X.startFrom);o9X < T9X.length;o9X++){T2T="mo";T2T+="n";T2T+="th";t2T="yea";t2T+="r";if(!T9X[o9X - 1])continue;x9X.high=Math.max(x9X.high,T9X[o9X - 1].High);x9X.low=Math.min(x9X.low > 0?x9X.low:T9X[o9X - +"1"].Low,T9X[o9X - 1].Low);if(k9X.inputs.Continuous){L9X();}else if(u9X == t2T && T9X[o9X].DT.getYear() != T9X[o9X - 1].DT.getYear()){L9X();}else if(u9X == T2T && T9X[o9X].DT.getMonth() != T9X[o9X - 1].DT.getMonth()){L9X();}else if(u9X == "week" && (T9X[o9X].DT.getDay() + z9X) % 7 < (T9X[o9X - "1" * 1].DT.getDay() + z9X) % +"7"){L9X();}else if(u9X == "day"){if(O9X === null){O9X=p1X.Studies.getMarketOffset({stx:j9X,localQuoteDate:T9X[o9X].DT,shiftToDateBoundary:! !{}});}r9X=new Date(new Date(+T9X[o9X].DT).setMilliseconds(T9X[o9X].DT.getMilliseconds() + O9X));A9X=new Date(new Date(+T9X[o9X - ("1" | 1)].DT).setMilliseconds(T9X[o9X - 1].DT.getMilliseconds() + O9X));if(A9X.getDate() !== r9X.getDate() && A9X.getDay() !== 0 && j9X.chart.market.isMarketDate(r9X)){O9X=null;L9X();}}else if(u9X == "15min" && (T9X[o9X].DT.getHours() != T9X[o9X - 1].DT.getHours() || Math.floor(T9X[o9X].DT.getMinutes() / 15) != Math.floor(T9X[o9X - 1].DT.getMinutes() / 15))){L9X();}T9X[o9X]["Pivot " + k9X.name]=x9X.pivotPoint;if(k9X.inputs.Type.toLowerCase() == "fibonacci"){x2T="Resis";x2T+="ta";x2T+="nce";x2T+=" 3 ";T9X[o9X]["Resistance 1 " + k9X.name]=x9X.pivotPoint + 0.382 * x9X.hlSpread;T9X[o9X]["Resistance 2 " + k9X.name]=x9X.pivotPoint + 0.618 * x9X.hlSpread;T9X[o9X][x2T + k9X.name]=x9X.pivotPoint + x9X.hlSpread;T9X[o9X]["Support 1 " + k9X.name]=x9X.pivotPoint - 0.382 * x9X.hlSpread;T9X[o9X]["Support 2 " + k9X.name]=x9X.pivotPoint - ("0.618" - 0) * x9X.hlSpread;T9X[o9X]["Support 3 " + k9X.name]=x9X.pivotPoint - x9X.hlSpread;}else {e24.D5h(151);var L3I=e24.m5h(14,0,9,1,4);T9X[o9X]["Resistance 1 " + k9X.name]=L3I * x9X.pivotPoint - x9X.prevLow;T9X[o9X]["Resistance 2 " + k9X.name]=x9X.pivotPoint + x9X.hlSpread;T9X[o9X]["Resistance 3 " + k9X.name]=x9X.prevHigh + ("2" - 0) * (x9X.pivotPoint - x9X.prevLow);e24.U5h(44);var H3I=e24.m5h(6,0,17,13);T9X[o9X]["Support 1 " + k9X.name]=H3I * x9X.pivotPoint - x9X.prevHigh;T9X[o9X]["Support 2 " + k9X.name]=x9X.pivotPoint - x9X.hlSpread;e24.D5h(37);var U3I=e24.m5h(15,23,40);T9X[o9X]["Support 3 " + k9X.name]=x9X.prevLow - U3I * (x9X.prevHigh - x9X.pivotPoint);}T9X[o9X]["_pointers " + k9X.name]=p1X.clone(x9X);}};p1X.Studies.displayPivotPoints=function(Y9X,c9X,F9X){var A2T,X2T,D2T,U2T,H2T,L2T,m9X,f9X;c9X.noSlopes=!c9X.inputs.Continuous;p1X.Studies.displaySeriesAsLine(Y9X,c9X,F9X);M211.l65();if(c9X.inputs.Shading){A2T="S";A2T+="u";A2T+="pport 3";X2T="Suppo";X2T+="rt";X2T+=" 2 ";D2T="Pi";D2T+="vot";D2T+=" ";U2T="P";U2T+="iv";U2T+="ot";U2T+=" ";H2T="Res";H2T+="is";H2T+="tance";H2T+=" 1 ";L2T="Resistan";L2T+="ce 2";m9X=Y9X.panels[c9X.panel];f9X={noSlopes:c9X.noSlopes,opacity:c9X.parameters.opacity?c9X.parameters.opacity:0.2,skipTransform:m9X.name != c9X.chart.name,yAxis:c9X.getYAxis(Y9X)};if(!c9X.highlight && Y9X.highlightedDraggable){f9X.opacity*=0.3;}p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:"Resistance 3 " + c9X.name,bottomBand:"Resistance 2 " + c9X.name,color:p1X.Studies.determineColor(c9X.outputs["Resistance 3"])},f9X));p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:"Resistance 2 " + c9X.name,bottomBand:"Resistance 1 " + c9X.name,color:p1X.Studies.determineColor(c9X.outputs[L2T])},f9X));p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:H2T + c9X.name,bottomBand:U2T + c9X.name,color:p1X.Studies.determineColor(c9X.outputs["Resistance 1"])},f9X));p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:"Support 1 " + c9X.name,bottomBand:D2T + c9X.name,color:p1X.Studies.determineColor(c9X.outputs["Support 1"])},f9X));p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:"Support 2 " + c9X.name,bottomBand:"Support 1 " + c9X.name,color:p1X.Studies.determineColor(c9X.outputs["Support 2"])},f9X));p1X.prepareChannelFill(Y9X,p1X.extend({panelName:c9X.panel,topBand:"Support 3 " + c9X.name,bottomBand:X2T + c9X.name,color:p1X.Studies.determineColor(c9X.outputs[A2T])},f9X));}};p1X.Studies.studyLibrary=p1X.extend(p1X.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !{},seriesFN:p1X.Studies.displayPivotPoints,calculateFN:p1X.Studies.calculatePivotPoints,inputs:{Type:[b2T,"fibonacci"],Continuous:!1,Shading:!1},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":R2T,"Support 2":"#b3d987","Resistance 3":e2T,"Support 3":z2T},parameters:{init:{opacity:0.2}}}});}};r7J=e9X=>{M211.H65();var y9X,o0T;y9X=typeof _CIQ !== "undefined"?_CIQ:e9X.CIQ;if(!y9X.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {o0T="Pretty Good";o0T+=" Oscillator";y9X.Studies.calculatePrettyGoodOscillator=function(t9X,J9X){var Y2T,n9X,I0T,F0T;Y2T="C";Y2T+="lo";Y2T+="s";Y2T+="e";n9X=J9X.chart.scrubbed;if(n9X.length < J9X.days + 1){J9X.error=! !1;return;}y9X.Studies.MA("exponential",J9X.days,"trueRange",0,"_EMA",t9X,J9X);y9X.Studies.MA("simple",J9X.days,Y2T,+"0","_SMA",t9X,J9X);for(var a9X=Math.max(1,J9X.startFrom);a9X < n9X.length;a9X++){I0T="_E";I0T+="M";I0T+="A";I0T+=" ";F0T="_";F0T+="SMA ";if(!n9X[a9X][F0T + J9X.name] || !n9X[a9X]["_EMA " + J9X.name])continue;n9X[a9X]["Result " + J9X.name]=(n9X[a9X].Close - n9X[a9X]["_SMA " + J9X.name]) / n9X[a9X][I0T + J9X.name];}};y9X.Studies.studyLibrary=y9X.extend(y9X.Studies.studyLibrary,{"Pretty Good":{name:o0T,calculateFN:y9X.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};A7J=U9X=>{var l9X,k0T,P0T;l9X=typeof _CIQ !== "undefined"?_CIQ:U9X.CIQ;if(!l9X.Studies){k0T="priceMomentumOscillator feature";k0T+=" requ";k0T+="ires first activating studies feature.";console.error(k0T);}else {P0T="a";P0T+="uto";l9X.Studies.calculatePMO=function(Z9X,w9X){var H24=M211;var C0T,a0T,E0T,j0T,Z0T,P9X,M9X,s9X,S9X,Q9X;C0T="P";C0T+="M";C0T+="O";C0T+=" ";a0T="e";a0T+="xponen";a0T+="t";a0T+="ial";E0T="fi";E0T+="eld";j0T="Double S";j0T+="moothing Period";Z0T="Smoothing";Z0T+=" Period";P9X={Smooth:Number(w9X.inputs[Z0T]) - 1,Double:Number(w9X.inputs[j0T]) - 1,Signal:Number(w9X.inputs["Signal Period"])};M9X=w9X.chart.scrubbed;if(M9X.length < P9X.Smooth + P9X.Double){w9X.error=! ![];return;}s9X=w9X.inputs.Field;if(!s9X || s9X == E0T){s9X="Close";}for(S9X=w9X.startFrom;S9X < M9X.length;S9X++){if(!M9X[S9X])continue;if(!M9X[S9X - 1])continue;H24.D5h(102);Q9X=M9X[H24.a5h(S9X,"1")][s9X];if(Q9X){H24.U5h(34);var D3I=H24.m5h(61,9,9,19);M9X[S9X]["_ROCx10 " + w9X.name]=+"1000" * (M9X[S9X][s9X] / Q9X - ("1" | D3I));}}l9X.Studies.MA("exponential",P9X.Smooth,"_ROCx10 " + w9X.name,"0" | 0,"_EMAx10",Z9X,w9X);l9X.Studies.MA("exponential",P9X.Double,"_EMAx10 " + w9X.name,0,"PMO",Z9X,w9X);l9X.Studies.MA(a0T,P9X.Signal,C0T + w9X.name,0,"PMOSignal",Z9X,w9X);w9X.zoneOutput="PMO";};l9X.Studies.studyLibrary=l9X.extend(l9X.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:l9X.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:2.5,studyOverBoughtColor:P0T,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};c7J=v9X=>{var X9X,d0T,K0T,n0T,h0T;X9X=typeof _CIQ !== "undefined"?_CIQ:v9X.CIQ;if(!X9X.Studies){d0T="priceVolumeOscillator f";d0T+="e";d0T+="ature requires first activating studies feature.";console.error(d0T);}else {K0T="a";K0T+="u";K0T+="t";K0T+="o";n0T="P";n0T+="o";n0T+="ints";h0T="Volume Osci";h0T+="llator";X9X.Studies.calculatePriceOscillator=function(N9X,B9X){var x24=M211;var c0T,w0T,V0T,O0T,K9X,R9X,W9X,C9X,V9X,H9X,l0T,i9X,h9X,E9X,m0T,q0T,N0T,g0T,J0T,G0T;c0T="_";c0T+="Long ";c0T+="MA";w0T="Perce";w0T+="n";x24.H65();w0T+="t";V0T="Points";V0T+=" O";V0T+="r ";V0T+="Percent";O0T="f";O0T+="i";O0T+="e";O0T+="ld";K9X=B9X.chart.scrubbed;R9X=Number(B9X.inputs["Short Cycle"]);W9X=Number(B9X.inputs["Long Cycle"]);if(K9X.length < Math.max(R9X,W9X) + 1){B9X.error=! !{};return;}C9X=B9X.inputs.Field;V9X=B9X.inputs["Moving Average Type"];if(!V9X){V9X="simple";}if(!C9X || C9X == O0T){C9X="Close";}if(B9X.parameters.isVolume){C9X="Volume";V9X="exponential";}H9X=B9X.inputs[V0T];if(!H9X){H9X=w0T;}X9X.Studies.MA(V9X,R9X,C9X,0,"_Short MA",N9X,B9X);X9X.Studies.MA(V9X,W9X,C9X,0,c0T,N9X,B9X);for(var b9X=Math.max(W9X,B9X.startFrom);b9X < K9X.length;b9X++){l0T="_Short ";l0T+="M";l0T+="A ";i9X=K9X[b9X];if(!i9X)continue;h9X=i9X[l0T + B9X.name];E9X=i9X["_Long MA " + B9X.name];if((h9X || h9X === 0) && (E9X || E9X === 0)){m0T="I";m0T+="ncreasin";m0T+="g ";m0T+="Bar";q0T="Res";q0T+="ult ";N0T="Resul";N0T+="t ";g0T="Po";g0T+="i";g0T+="nt";g0T+="s";if(H9X == g0T){x24.D5h(5);i9X[N0T + B9X.name]=x24.m5h(h9X,E9X);}else {x24.U5h(152);i9X[q0T + B9X.name]=x24.a5h(E9X,h9X,1,100);}if(B9X.outputs[m0T]){J0T="_h";J0T+="ist";G0T="Re";G0T+="su";G0T+="lt ";i9X[B9X.name + "_hist"]=i9X[G0T + B9X.name];B9X.outputMap={};B9X.outputMap[B9X.name + J0T]="";}}}};X9X.Studies.displayRAVI=function(I9X,D9X,u8X){var n24=M211;var k8X,G9X,q8X,j8X,T8X,g8X,d8X,r0T,s0T,B0T,p9X,o8X,O8X,L8X;k8X=I9X.panels[D9X.panel];G9X=D9X.getContext(I9X);q8X=D9X.getYAxis(I9X);j8X=I9X.pixelFromPrice(0,k8X,q8X);n24.D5h(153);var X3I=n24.m5h(6,18,12,12,14);T8X=I9X.layout.candleWidth - X3I;if(T8X < 2){T8X=1;}g8X=X9X.Studies.determineColor(D9X.outputs["Increasing Bar"]);d8X=X9X.Studies.determineColor(D9X.outputs["Decreasing Bar"]);I9X.startClip(D9X.panel);I9X.canvasColor("stx_histogram");if(!D9X.underlay){G9X.globalAlpha=1;}if(!D9X.highlight && I9X.highlightedDraggable){G9X.globalAlpha*=0.3;}for(var x8X=0;x8X < u8X.length;x8X++){r0T="_";r0T+="hi";r0T+="st";s0T="#";s0T+="CCCC";s0T+="C";s0T+="C";B0T="_";B0T+="hi";B0T+="st";p9X=u8X[x8X];n24.U5h(5);o8X=u8X[n24.a5h(x8X,1)];if(!o8X){o8X=I9X.getPreviousBar(I9X.chart,D9X.name + B0T,x8X);}if(!p9X)continue;O8X=0;L8X=0;if(D9X.parameters && D9X.parameters.studyOverZonesEnabled){O8X=parseFloat(D9X.parameters.studyOverBoughtValue);L8X=parseFloat(D9X.parameters.studyOverSoldValue);}if(!o8X){G9X.fillStyle=s0T;}else if(p9X[D9X.name + "_hist"] > O8X && o8X[D9X.name + "_hist"] < p9X[D9X.name + "_hist"]){G9X.fillStyle=g8X;}else if(p9X[D9X.name + r0T] < L8X && o8X[D9X.name + "_hist"] > p9X[D9X.name + "_hist"]){G9X.fillStyle=d8X;}else {G9X.fillStyle="#CCCCCC";}if(p9X.candleWidth){T8X=Math.floor(Math.max(1,p9X.candleWidth - 2));}G9X.fillRect(Math.floor(I9X.pixelFromBar(x8X,k8X.chart) - T8X / 2),Math.floor(j8X),Math.floor(T8X),Math.floor(I9X.pixelFromPrice(p9X[D9X.name + "_hist"],k8X,q8X) - j8X));}I9X.endClip();};X9X.Studies.studyLibrary=X9X.extend(X9X.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:X9X.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:h0T,calculateFN:X9X.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":+"26","Points Or Percent":[n0T,"Percent"]},parameters:{init:{isVolume:! !{}}}},RAVI:{name:"RAVI",seriesFN:X9X.Studies.displayRAVI,calculateFN:X9X.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" | 2),studyOverSoldColor:K0T}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};Y7J=r8X=>{var y0T,z8X;y0T="unde";y0T+="fin";y0T+="ed";z8X=typeof _CIQ !== y0T?_CIQ:r8X.CIQ;if(!z8X.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {z8X.Studies.calculatePrimeNumber=function(U8X,f8X){var R24=M211;var m8X,J8X,Y8X,c8X,A8X,W0T,F8X,t8X,l8X;m8X=[];J8X=f8X.chart.scrubbed;R24.H65();for(var e8X=f8X.startFrom;e8X < J8X.length;e8X++){Y8X=J8X[e8X];if(!Y8X)continue;c8X=Y8X.High;if(!isNaN(c8X)){for(var n8X="0" * 1;c8X > 0 && c8X <= 10;n8X++){c8X*=10;}if(y8X(c8X)){c8X+=2;}c8X=Math.ceil(c8X);if(c8X % 2 === 0){c8X++;}while(!y8X(c8X)){c8X+=2;}c8X/=Math.pow(10,n8X);}A8X=Y8X.Low;if(!isNaN(A8X)){for(var a8X=0;A8X > 0 && A8X <= 10;a8X++){A8X*=10;}if(y8X(A8X)){A8X-=2;}A8X=Math.floor(A8X);if(A8X % 2 === 0){A8X--;}if(A8X > 0){while(!y8X(A8X)){A8X-=2;}A8X/=Math.pow(10,a8X);}}if(f8X.type == "Prime Number Bands"){if(!isNaN(c8X)){Y8X["Prime Bands Top " + f8X.name]=c8X;}if(!isNaN(A8X)){Y8X["Prime Bands Bottom " + f8X.name]=Math.max(0,A8X);}}else {W0T="Toleran";W0T+="ce Percentage";F8X=0;R24.U5h(5);var A3I=R24.m5h(112,12);t8X=f8X.inputs[W0T] * (c8X - A8X) / A3I;R24.D5h(54);var b3I=R24.m5h(1,10,3,0,15);l8X=c8X + A8X - b3I * Y8X.Close;if(l8X < t8X){F8X=+"1";}else if(l8X > t8X){F8X=- +"1";}if(F8X){Y8X["Result " + f8X.name]=F8X;}}}function y8X(w8X){var S8X;if(w8X <= +"0"){return !"1";}else if(w8X != Math.floor(w8X)){return !"1";}else if(m8X[w8X] === ! !"1" || m8X[w8X] === ! !""){return m8X[w8X];}S8X=parseInt(Math.sqrt(w8X),10);for(var M8X=2;M8X <= S8X;M8X++){if(w8X % M8X === "0" >> 139568512){m8X[w8X]=![];return ! !"";}}R24.l65();m8X[w8X]=!0;return ! !1;}};z8X.Studies.studyLibrary=z8X.extend(z8X.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:z8X.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:+"0.1"}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !"1",calculateFN:z8X.Studies.calculatePrimeNumber,seriesFN:z8X.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};f7J=s8X=>{var P8X,T0T,t0T;P8X=typeof _CIQ !== "undefined"?_CIQ:s8X.CIQ;if(!P8X.Studies){console.error("pring feature requires first activating studies feature.");}else {T0T="w";T0T+="eekl";T0T+="y";t0T="#FF";t0T+="00";t0T+="0";t0T+="0";P8X.Studies.calculateKST=function(h8X,Z8X){var N24=M211;var f0T,i0T,v8X,i8X,B8X,C8X,E8X,X8X,Q8X,p0T,V8X;f0T="Heaviest Rate of Chan";f0T+="ge Period";i0T="Lightest";i0T+=" ";i0T+="Rate of Change Period";v8X=Z8X.chart.scrubbed;i8X=Z8X.inputs.Field;if(!i8X || i8X == "field"){i8X="Close";}B8X={};C8X={};B8X[1]=Number(Z8X.inputs[i0T]);B8X[2]=Number(Z8X.inputs["Light Rate of Change Period"]);N24.U5h(18);B8X[N24.m5h("3",1)]=Number(Z8X.inputs["Heavy Rate of Change Period"]);B8X[4]=Number(Z8X.inputs[f0T]);C8X[1]=Number(Z8X.inputs["Lightest SMA Period"]);C8X[+"2"]=Number(Z8X.inputs["Light SMA Period"]);N24.H65();C8X[3]=Number(Z8X.inputs["Heavy SMA Period"]);C8X[4]=Number(Z8X.inputs["Heaviest SMA Period"]);E8X=Number(Z8X.inputs["Signal Period"]);for(X8X=Z8X.startFrom;X8X < v8X.length;X8X++){if(!v8X[X8X])continue;for(Q8X=1;Q8X <= ("4" ^ 0);Q8X++){if(X8X >= B8X[Q8X] && v8X[X8X - B8X[Q8X]] && v8X[X8X - B8X[Q8X]][i8X]){N24.D5h(29);var R3I=N24.a5h(9,2480,309);N24.U5h(88);var e3I=N24.m5h(7535,1368,15070);N24.D5h(86);var z3I=N24.m5h(14,170,1520);N24.U5h(29);var Y3I=N24.m5h(10,7891,1315);N24.U5h(1);var F9I=N24.a5h(6,94);N24.D5h(5);var I9I=N24.a5h(5,4);v8X[X8X]["_ROC" + Q8X + (688.64 == (+"5252",56.99)?(!"1",R3I):(48.87,e3I) <= z3I?" ":("E",Y3I)) + Z8X.name]=F9I * (v8X[X8X][i8X] / v8X[X8X - B8X[Q8X]][i8X] - I9I);}}}for(Q8X="1" | 1;Q8X <= 4;Q8X++){p0T="simpl";p0T+="e";P8X.Studies.MA(p0T,C8X[Q8X],"_ROC" + Q8X + " " + Z8X.name,0,"_SMA" + Q8X,h8X,Z8X);}for(X8X=Z8X.startFrom;X8X < v8X.length;X8X++){v8X[X8X]["KST " + Z8X.name]=null;for(Q8X=1;Q8X <= 4;Q8X++){V8X=v8X[X8X]["_SMA" + Q8X + " " + Z8X.name];if(V8X || V8X === 0){N24.D5h(18);v8X[X8X]["KST " + Z8X.name]+=N24.m5h(Q8X,V8X);}}}P8X.Studies.MA("simple",E8X,"KST " + Z8X.name,"0" >> 1169945504,"KSTSignal",h8X,Z8X);};P8X.Studies.calculateSpecialK=function(G8X,R8X){var s24=M211;var u0T,S0T,H8X,N8X,b8X,D8X,I8X,W8X,K8X,v0T,Q0T,M0T,p8X;u0T="d";u0T+="aily";S0T="fi";S0T+="eld";H8X=R8X.chart.scrubbed;N8X=R8X.inputs.Field;if(!N8X || N8X == S0T){N8X="Close";}b8X=R8X.inputs.Interval;if(!b8X){b8X=u0T;}D8X={daily:[10,15,20,30,50,65,75,+"100",+"195",+"265",390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]};I8X={daily:[+"10",+"10",10,15,50,65,75,100,130,130,130,195],weekly:[+"4",5,6,8,10,13,15,20,26,"26" - 0,26,+"39"]};for(W8X=R8X.startFrom;W8X < H8X.length;W8X++){if(!H8X[W8X])continue;for(K8X=0;K8X < D8X[b8X].length;K8X++){v0T="_";v0T+="R";v0T+="O";v0T+="C";if(W8X >= D8X[b8X][K8X] && H8X[W8X - D8X[b8X][K8X]] && H8X[W8X - D8X[b8X][K8X]][N8X]){s24.U5h(154);var o9I=s24.m5h(43,1000,19,18,6000);s24.U5h(140);var k9I=s24.m5h(19,3,17,9);H8X[W8X][v0T + K8X + " " + R8X.name]=o9I * (H8X[W8X][N8X] / H8X[W8X - D8X[b8X][K8X]][N8X] - k9I);}}}for(K8X=0;K8X < I8X[b8X].length;K8X++){Q0T="si";Q0T+="m";Q0T+="p";Q0T+="le";P8X.Studies.MA(b8X == "daily"?Q0T:"exponential",I8X[b8X][K8X],"_ROC" + K8X + (7503 <= (130.59,3160)?528.87:(5470,3020) === 8630?(4060,6480) > (+"5880","7899" << 976509664)?(3.30e+3,0xcba):0xa19:" ") + R8X.name,+"0","_MA" + K8X,G8X,R8X);}for(W8X=R8X.startFrom;W8X < H8X.length;W8X++){H8X[W8X]["Result " + R8X.name]=null;for(K8X=0;K8X < I8X[b8X].length;K8X++){M0T="_";M0T+="M";M0T+="A";s24.D5h(146);var Z9I=s24.a5h(117359,9,61501,17,2);s24.U5h(9);var j9I=s24.a5h(10,1988,992,19,1993);s24.U5h(1);var E9I=s24.a5h(860,54);s24.D5h(5);var a9I=s24.a5h(18900,17550);s24.D5h(65);var C9I=s24.m5h(4930,447,16,4,14);s24.U5h(128);var P9I=s24.m5h(11,1144,2,3413);p8X=H8X[W8X][M0T + K8X + (Z9I != (j9I,E9I)?a9I >= (707.74,C9I)?(P9I,"f"):" ":"h") + R8X.name];if(p8X || p8X === 0){s24.U5h(155);H8X[W8X]["Result " + R8X.name]+=s24.a5h(K8X,1,"4",p8X);}}}};P8X.Studies.studyLibrary=P8X.extend(P8X.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:P8X.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":+"10","Light Rate of Change Period":15,"Light SMA Period":"10" | 10,"Heavy Rate of Change Period":+"20","Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":"9" * 1},outputs:{KST:"#00DD00",KSTSignal:t0T}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:P8X.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",T0T]}}});}};m7J=T5X=>{var x5X,o5X,x0T,z0T,e0T,R0T,b0T;M211.l65();x5X=typeof _CIQ !== "undefined"?_CIQ:T5X.CIQ;o5X=typeof _timezoneJS !== "undefined"?_timezoneJS:T5X.timezoneJS;if(!x5X.Studies){x0T="pr";x0T+="ojectedVolume feature requires ";x0T+="first activating studies feature.";console.error(x0T);}else if(!x5X.Studies.studyLibrary.PVAT){z0T="#8c";z0T+="c1";z0T+="76";e0T="#b82";e0T+="c";e0T+="0c";R0T="-";R0T+="25%";b0T="+1";b0T+="50";b0T+="%";x5X.Studies.initProjectedVolume=function(q5X,L5X,u5X,g5X,d5X,z5X){var L0T,k5X,O5X;L0T=":";L0T+="0";L0T+="0";var {market:j5X}=q5X.chart;k5X="00";k5X+=":00";if(j5X){k5X=j5X.getNormalOpen();}if(k5X.match(/^[\d]{2}:[\d]{2}$/)){k5X+=L0T;}if(!u5X["Anchor Time"] || !u5X["Anchor Time"].length){u5X["Anchor Time"]=k5X;}O5X=x5X.Studies.initializeFN(q5X,L5X,u5X,g5X,d5X,z5X);if(!q5X.currentlyImporting){O5X.defaultAnchorTime=k5X;}return O5X;};x5X.Studies.validateProjectedVolumeLookback=function(Y5X,f5X){var {interval:r5X, periodicity:A5X}=Y5X.layout;var {"Lookback Days":c5X}=f5X.inputs;M211.l65();M211.U5h(156);return M211.a5h(10,A5X,r5X,c5X);};x5X.Studies.calculateProjectedVolume=function(y5X,m5X){var A24=M211;var A0T,X0T,g4X,w5X,U3Y,D3Y,X3Y,E9Y,a9Y,C9Y,M5X,H0T,z4X,r4X,N5X,D5X,e5X,I5X,Q4X,J5X,p5X,G5X,A4X,x4X,U0T,S5X,T4X,X4X,U5X,v4X,C5X,n5X,K5X,t5X,Q5X,Y4X,f4X,m4X,F4X,k4X,u4X,b5X,C4X,y4X,X5X,v5X,R5X,V4X,q4X,D0T,a5X,e4X,J4X,j4X,n4X,V5X;A0T="Av";A0T+="erag";A0T+="e Li";A0T+="ne";X0T="P";X0T+="V";X0T+=" ";function t4X(N4X,D4X,I4X){while(D4X){N4X=new Date(new Date(N4X).setDate(N4X.getDate() + (I4X?"1" << 1526068544:-1)));if(l5X.isMarketDate(N4X)){D4X--;}}A24.H65();return N4X;}function l4X(p4X){return y5X.tickFromDate(p4X,null,null,!"","scrubbed");}var {interval:w4X, timeUnit:O4X, aggregationType:L4X}=y5X.layout;var {symbol:M4X, scroll:S4X, scrubbed:F5X, market:l5X}=y5X.chart;function h4X(x6r){var T6r;x6r.setHours(0);x6r.setMinutes(0);T6r=x5X.Studies.getMarketOffset({stx:y5X,localQuoteDate:x6r});A24.H65();return new Date(x6r.getTime() + T6r);}g4X=m5X.type === "PAV";w5X=m5X.study?m5X.study.name:m5X.type;if(x5X.ChartEngine.isDailyInterval(w4X)){U3Y=1040668559;D3Y=572141442;X3Y=2;for(var b3Y=1;A24.C4Y(b3Y.toString(),b3Y.toString().length,86323) !== U3Y;b3Y++){m5X.error=`${w5X} is Intraday Only`;X3Y+=2;}if(A24.C4Y(X3Y.toString(),X3Y.toString().length,+"73128") !== D3Y){m5X.error=`${w5X} is Intraday Only`;}}else if(O4X === "tick"){m5X.error=`Tick mode not supported for ${w5X}`;}else if(O4X !== "minute"){m5X.error=`Sub-minute periodicities not supported for ${w5X}`;}else if(!L4X || !["ohlc","heikinashi"].includes(L4X)){m5X.error=`Aggregation type not supported for ${w5X}`;}else if(!x5X.Studies.validateProjectedVolumeLookback(y5X,m5X)){E9Y=1397281437;a9Y=204936762;C9Y=+"2";for(var d9Y=1;A24.a4Y(d9Y.toString(),d9Y.toString().length,81724) !== E9Y;d9Y++){m5X.error=`Selected lookback/periodicity combo not supported for ${w5X}`;C9Y+=2;}if(A24.a4Y(C9Y.toString(),C9Y.toString().length,"96393" * 1) !== a9Y){m5X.error=`Selected lookback/periodicity combo not supported for ${w5X}`;}m5X.error=`Selected lookback/periodicity combo not supported for ${w5X}`;}if(m5X.error){return;}if(m5X.inputs["Anchor Selector"]){x5X.Studies.initAnchorHandle(y5X,m5X);}else {x5X.Studies.removeAnchorHandle(y5X,m5X);}M5X=l5X?l5X.getNormalOpen():"00:00";if(M5X.match(/^[\d]{2}:[\d]{2}$/)){M5X+=":00";}if(!y5X.currentlyImporting){if(!m5X.defaultAnchorTime){m5X.defaultAnchorTime=M5X;}else if(M5X !== m5X.defaultAnchorTime){H0T="An";H0T+="ch";H0T+="or Ti";H0T+="me";m5X.defaultAnchorTime=M5X;m5X.inputs[H0T]=M5X;x5X.Studies.repositionAnchor(y5X,m5X);return;}}var {"Lookback Days":E5X, "Anchor Time":P4X}=m5X.inputs;var [s4X,Z4X,d4X = 0]=P4X.split(":");z4X=x5X.getFn("Market.Symbology.isForexSymbol")(M4X);r4X=m5X.getDependents(y5X);N5X=0;function a4X(b4X){A24.H65();console.error(`Expected data for ${U4X(b4X).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}D5X=[];r4X.forEach(({inputs:E4X, outputMap:K4X})=>{if(E4X.Period){N5X=Math.max(parseInt(E4X.Period),N5X);D5X.push(...Object.keys(K4X));}});m5X.dependentsOutputMap=D5X;I5X=h5X(F5X.length - 1,! !"1");Q4X=Math.ceil(F5X.length - 1 - S4X);A24.D5h(5);J5X=h5X(A24.a5h(Q4X,N5X));if(z4X && F5X[J5X] && x5X.dateToStr(F5X[J5X].DT,"HH:mm") !== M5X){A24.U5h(102);J5X=h5X(A24.m5h(J5X,"1"));;}if(!z4X && m5X.startFrom > J5X && F5X[J5X] && F5X[J5X]["V " + m5X.name] !== undefined && D5X.every(W4X=>{A24.l65();return ![undefined,null].includes(F5X[J5X][W4X]);}) && I5X !== !{}){e5X=I5X;;}else {e5X=J5X;}p5X=t4X(U4X(J5X),E5X);p5X.setHours(0,0,0);G5X=h5X(0,! ![]);A4X=(G5X || G5X === 0) && l4X(t4X(F5X[G5X].DT,E5X,!0));if(F5X[+"0"].DT > p5X){if(y5X.quoteDriver){y5X.quoteDriver.extendHistoricalData({from:p5X});if(A4X > 0){e5X=A4X;}else {return;}}else {return m5X.error=`Not enough data to calculate ${w5X}`;}}function h5X(q6r,j6r){var k6r,u6r,o6r;k6r=U4X(q6r);u6r=l5X.getOpen(k6r) || h4X(k6r);o6r=l4X(u6r);if(!j6r){return o6r;}if(o6r < "0" * 1){o6r=l4X(t4X(u6r,1,! !{}));}if(o6r >= F5X.length){return ! !"";}A24.l65();return o6r;}if(e5X < 0 || e5X > F5X.length - 1){return;}x4X=F5X.length - m5X.startFrom === 1 && m5X.cachedFutureTicks && m5X.cachedLastProjection && +m5X.cachedLastProjection.DT === +F5X[F5X.length - 1].DT && F5X[e5X]["PV " + m5X.name];if(x4X){A24.U5h(14);var d9I=A24.a5h(4,3);F5X[F5X.length - d9I]["PV " + m5X.name]=m5X.cachedLastProjection.projectedValue;m5X.appendFutureTicks(y5X,m5X.cachedFutureTicks);e5X=m5X.startFrom;}else {U0T="P";U0T+="V";U0T+=" ";m5X.cachedFutureTicks=null;m5X.cachedLastProjection=null;S5X=[I5X];T4X=[];for(var c4X=+"0";c4X < E5X;c4X++){X4X=h5X(S5X[0] - +"1");S5X.unshift(X4X);;}while(S5X[E5X] >= e5X){U5X=S5X.pop();if(!F5X[U5X]){return a4X(U5X);}v4X=B5X(F5X[U5X].DT);var {hours:P5X, minutes:i5X}=v4X;C5X=l5X.getClose(F5X[U5X].DT);n5X=void 0;if(!C5X){n5X={hours:24,minutes:0};}else {K5X=l5X.getNextClose(F5X[U5X].DT);n5X=B5X(C5X);while(!(n5X.hours === 0 && n5X.minutes === 0) && C5X.getDate() === K5X.getDate()){C5X=K5X;K5X=l5X.getNextClose(K5X);}n5X=B5X(C5X);if(n5X.hours === 0){A24.D5h(22);n5X.hours=A24.a5h("24",507739872);}}t5X=S5X.slice();for(var W5X=0;W5X < t5X.length;W5X++){Q5X=t5X[W5X];if(!F5X[Q5X]){return a4X(Q5X);}var {hours:H5X, minutes:o4X}=B5X(F5X[Q5X].DT);if(H5X < P5X || H5X === P5X && o4X < i5X){do {Q5X++;({hours:H5X, minutes:o4X}=B5X(F5X[Q5X].DT));}while(!(H5X === P5X && o4X === i5X));}t5X[W5X]=Q5X;}while(P5X < n5X.hours || P5X === n5X.hours && i5X < n5X.minutes){Y4X=! !"";f4X=void 0;m4X=void 0;F4X=0;k4X=0;for(var s5X=0;s5X < t5X.length;s5X++){u4X=t5X[s5X];if(u4X === null)continue;b5X=F5X[u4X];if(!b5X){return a4X(u4X);}var {hours:B4X, minutes:i4X}=B5X(b5X.DT);C4X=b5X.DT.getDate();if(B4X === P5X && i4X === i5X){F4X+=b5X.Volume;k4X++;t5X[s5X]++;if(F5X[t5X[s5X]].DT.getDate() !== C4X){t5X[s5X]=null;}else if(!Y4X){({hours:f4X, minutes:m4X}=B5X(F5X[t5X[s5X]].DT));Y4X=! ![];;}}}P5X=f4X;i5X=m4X;if(k4X === +"0")break;A24.D5h(7);y4X=A24.a5h(F4X,k4X);if(F5X[U5X]){F5X[U5X]["PV " + m5X.name]=y4X;}else {T4X.push({["PV " + m5X.name]:y4X});}U5X++;}S5X.unshift(h5X(S5X[0] - 1));;}m5X.cachedLastProjection={DT:F5X[F5X.length - 1].DT,projectedValue:F5X[F5X.length - ("1" ^ 0)][U0T + m5X.name]};m5X.cachedFutureTicks=T4X;m5X.appendFutureTicks(y5X,T4X);}X5X=null;v5X=0;R5X=0;if(x4X && g4X){while(e5X > +"0"){A24.D5h(102);q4X=F5X[A24.a5h(e5X,"1")]["V " + m5X.name];if(q4X || q4X === 0){v5X=q4X;break;}e5X--;}}for(var Z5X=e5X;Z5X < F5X.length;Z5X++){D0T="V";D0T+=" ";a5X=F5X[Z5X];e4X=a5X.Volume;J4X=a5X["PV " + m5X.name];if(!a5X.futureTick){V4X=Z5X;}if(X5X === null){X5X=x5X.Studies.getMarketOffset({stx:y5X,localQuoteDate:F5X[Z5X].DT,shiftToDateBoundary:!0});}j4X=new Date(new Date(a5X.DT).getTime() + X5X);n4X=F5X[Z5X - +"1"] && new Date(new Date(F5X[Z5X - ("1" - 0)].DT).getTime() + X5X);V5X=new o5X.Date(a5X.DT,l5X.market_def.market_tz || "America/New_York");V5X.setHours(s4X,Z4X,d4X);A24.D5h(1);V5X=new Date(A24.m5h(X5X,V5X));V5X.setDate(j4X.getDate());if(n4X && j4X.getDate() !== n4X.getDate()){X5X=null;v5X=0;R5X=0;}if(j4X < V5X){a5X["V " + m5X.name]=0;A24.U5h(23);a5X["PV " + m5X.name]=A24.m5h(0,"0");continue;}if(g4X){v5X+=e4X;R5X+=J4X;}else {v5X=e4X;R5X=J4X;}a5X[D0T + m5X.name]=v5X;if(!x4X){a5X["PV " + m5X.name]=R5X;}if([NaN,null,undefined].includes(v5X) && !a5X.futureTick){m5X.error=`${w5X} requires volume`;return;}}m5X.cachedLastProjection.projectedValue=F5X[V4X][X0T + m5X.name];m5X.outputMap={};function B5X(R4X){A24.H65();return {hours:R4X.getHours(),minutes:R4X.getMinutes()};}m5X.outputMap["V " + m5X.name]="";function U4X(G4X){A24.H65();return y5X.dateFromTick(G4X,null,! !{},"scrubbed");}m5X.outputMap["PV " + m5X.name]=A0T;r4X.forEach(H4X=>{H4X.startFrom=e5X;A24.H65();H4X.study.calculateFN(y5X,H4X);});};x5X.Studies.displayProjectedVolume=function(L6r,O6r,g6r){var v24=M211;var r6r,d6r,A6r,c6r,Y6r,m6r,F6r;if(O6r.error){return x5X.Studies.removeAnchorHandle(L6r,O6r);}var {"Alert Threshold":z6r = ""}=O6r.inputs;v24.U5h(31);var O9I=v24.a5h(208,0,17,12,13);v24.D5h(157);var V9I=v24.a5h(170,20,10060,19,3);v24.H65();v24.U5h(31);var w9I=v24.m5h(3,33,6,13,19);r6r=parseInt(z6r.slice(0,O9I),V9I) / w9I;d6r=O6r.outputs["Alert Bar"];if(typeof d6r === "object"){d6r=d6r.color;}O6r.volumeField="V " + O6r.name;O6r.alignStepToSide=!"";O6r.extendToEndOfLastBar=! !{};O6r.lineWidth=2;A6r=L6r.canvasStyle("stx_volume_underlay_up").opacity;c6r=L6r.canvasStyle("stx_volume_underlay_down").opacity;O6r.colorFunction=function(e6r){var w6r,y6r,M6r,J6r,n6r,a6r;var {Open:t6r, Close:l6r, iqPrevClose:U6r}=e6r;w6r=L6r.colorByCandleDirection?t6r:U6r;v24.U5h(158);y6r=v24.m5h(w6r,l6r);M6r=e6r["PV " + O6r.name];J6r=e6r["V " + O6r.name];v24.U5h(159);n6r=v24.a5h(r6r,M6r,"1");a6r=r6r < 0?J6r < n6r:J6r > n6r;return {fill_color:a6r && d6r || (y6r?this.fill_color_down:this.fill_color_up),border_color:y6r?this.border_color_down:this.border_color_up,opacity:a6r?1:y6r?c6r:A6r,border_opacity:y6r?c6r:A6r};};Y6r=O6r.study?O6r.study.name:O6r.type;var {loadingMore:f6r}=L6r.chart;m6r=g6r.some(S6r=>{return S6r && S6r[O6r.volumeField] && S6r["PV " + O6r.name];});F6r=g6r[0] && !g6r[0].futureTick && (g6r[0]["PV " + O6r.name] === undefined || (O6r.dependentsOutputMap || []).some(P6r=>{return [undefined,null].includes(g6r["0" << 122963008][P6r]);}));if(!m6r && f6r){return O6r.error=`Fetching data for ${Y6r}`;}x5X.Studies.createVolumeChart(L6r,O6r,g6r);x5X.Studies.displaySeriesAsLine(L6r,O6r,g6r);if(O6r.anchorHandle){x5X.Studies.displayAnchorHandleAndLine(L6r,O6r,g6r);}if(F6r){x5X.Studies.calculateProjectedVolume(L6r,O6r);}};x5X.Studies.studyLibrary=x5X.extend(x5X.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:0,zoom:"0" << 1193559040},calculateFN:x5X.Studies.calculateProjectedVolume,seriesFN:x5X.Studies.displayProjectedVolume,initializeFN:x5X.Studies.initProjectedVolume,removeFN:x5X.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[b0T,"+125%","+100%","+75%","+50%","+25%","None",R0T,"-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":e0T},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !1,initialMarginTop:0,zoom:0},calculateFN:x5X.Studies.calculateProjectedVolume,seriesFN:x5X.Studies.displayProjectedVolume,initializeFN:x5X.Studies.initProjectedVolume,removeFN:x5X.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Up Volume":z0T,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};F7J=Z6r=>{var Y0T,s6r,F5T;Y0T="un";Y0T+="def";Y0T+="ine";Y0T+="d";s6r=typeof _CIQ !== Y0T?_CIQ:Z6r.CIQ;M211.l65();if(!s6r.Studies){F5T="psyc";F5T+="hologic";F5T+="alLine feature requires first activating studies feature.";console.error(F5T);}else {s6r.Studies.calculatePsychologicalLine=function(h6r,Q6r){var v6r,B6r,C6r,i6r,I5T,V6r;v6r=Q6r.chart.scrubbed;if(v6r.length < Q6r.days + 1){Q6r.error=!0;return;}M211.l65();B6r=[];M211.D5h(5);var c9I=M211.m5h(1500,1400);C6r=c9I / Q6r.days;i6r=0;for(var X6r=Math.max(Q6r.startFrom - Q6r.days,1);X6r < v6r.length;X6r++){I5T="Re";I5T+="su";I5T+="lt ";if(v6r[X6r].futureTick)break;V6r=Number(v6r[X6r].Close > v6r[X6r - 1].Close);if(V6r){i6r+=C6r;}B6r.push(V6r);if(B6r.length > Q6r.days){i6r-=B6r.shift() * C6r;}if(X6r < Q6r.startFrom)continue;if(!isNaN(v6r[X6r].Close)){v6r[X6r][I5T + Q6r.name]=i6r;}}};s6r.Studies.studyLibrary=s6r.extend(s6r.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:s6r.Studies.calculatePsychologicalLine,inputs:{Period:"20" >> 228343040}}});}};y7J=K6r=>{var E6r,o5T,j5T,Z5T;E6r=typeof _CIQ !== "undefined"?_CIQ:K6r.CIQ;M211.H65();if(!E6r.Studies){o5T="qstick feature require";o5T+="s first activating studi";o5T+="es feature.";console.error(o5T);}else {j5T="m";j5T+="a";Z5T="Q";Z5T+="S";Z5T+="t";Z5T+="ick";E6r.Studies.calculateQStick=function(R6r,W6r){var F24=M211;var k5T,S3Y,u3Y,v3Y,H6r;k5T="_";k5T+="Close-Open";k5T+=" ";F24.D5h(40);S3Y=-F24.m5h("1813129943",118162976);F24.U5h(13);u3Y=-F24.m5h(0,"30678398");v3Y=2;for(var M3Y=1;F24.a4Y(M3Y.toString(),M3Y.toString().length,38060) !== S3Y;M3Y++){H6r=W6r.chart.scrubbed;v3Y+=2;}if(F24.a4Y(v3Y.toString(),v3Y.toString().length,50489) !== u3Y){H6r=W6r.chart.scrubbed;}if(H6r.length < W6r.days + 1){W6r.error=!0;return;}for(var b6r=W6r.startFrom;b6r < H6r.length;b6r++){H6r[b6r]["_Close-Open " + W6r.name]=H6r[b6r].Close - H6r[b6r].Open;}E6r.Studies.MA(W6r.inputs["Moving Average Type"],W6r.days,k5T + W6r.name,+"0","Result",R6r,W6r);};E6r.Studies.studyLibrary=E6r.extend(E6r.Studies.studyLibrary,{QStick:{name:Z5T,calculateFN:E6r.Studies.calculateQStick,inputs:{Period:+"8","Moving Average Type":j5T}}});}};e7J=D6r=>{M211.l65();var N6r,E5T,G5T,m5T,q5T,N5T,g5T;N6r=typeof _CIQ !== "undefined"?_CIQ:D6r.CIQ;if(!N6r.Studies){E5T="rainbo";E5T+="w feature requires fi";E5T+="rst activating studies feat";E5T+="ure.";console.error(E5T);}else {G5T="f";G5T+="ie";G5T+="l";G5T+="d";m5T="#";m5T+="00F";m5T+="F";m5T+="FF";q5T="#";q5T+="00F";q5T+="F7F";N5T="#";N5T+="7FFF";N5T+="00";g5T="#F";g5T+="F";g5T+="FF";g5T+="00";N6r.Studies.calculateRainbow=function(g2r,I6r){var u24=M211;var a5T,p6r,T2r,q3Y,m3Y,G3Y,O2r,P5T,C5T,L2r,u2r,q2r,j2r,o2r,k2r,O5T,d5T;a5T="f";a5T+="ield";p6r=I6r.chart.scrubbed;function d2r(Y2r,c2r){var r2r,A2r;u24.U5h(160);var l9I=u24.m5h(1,5,16,10);r2r=Number.MAX_VALUE * l9I;A2r=Number.MAX_VALUE;for(var z2r=c2r - Y2r + 1;z2r <= c2r;z2r++){if(z2r < 0)continue;r2r=Math.max(r2r,p6r[z2r].Close);A2r=Math.min(A2r,p6r[z2r].Close);}u24.l65();return [A2r,r2r];}if(p6r.length < I6r.days + 1){I6r.error=! !1;return;}T2r=I6r.inputs.Field;if(!T2r || T2r == a5T){T2r="Close";}q3Y=-1320137829;m3Y=-2064652246;G3Y=2;for(var B3Y="1" * 1;u24.C4Y(B3Y.toString(),B3Y.toString().length,71726) !== q3Y;B3Y++){O2r=T2r;G3Y+=+"2";}if(u24.a4Y(G3Y.toString(),G3Y.toString().length,+"25892") !== m3Y){O2r=T2r;}for(var x2r=1;x2r <= +"10";x2r++){P5T="S";P5T+="M";P5T+="A";C5T="s";C5T+="i";C5T+="m";C5T+="ple";N6r.Studies.MA(C5T,I6r.days,O2r,0,P5T + x2r,g2r,I6r);O2r="SMA" + x2r + " " + I6r.name;}for(var G6r=Math.max(I6r.startFrom,"10" << 1565458144);G6r < p6r.length;G6r++){if(!p6r[G6r])continue;if(p6r[G6r].futureTick)break;L2r=0;u24.U5h(13);u2r=u24.a5h(0,"0");u24.U5h(161);var g9I=u24.a5h(6,35,6);q2r=Number.MAX_VALUE * g9I;j2r=Number.MAX_VALUE;for(x2r=1;x2r <= 10;x2r++){u24.U5h(11);var N9I=u24.a5h(25730,19,4,415);o2r=p6r[G6r]["SMA" + x2r + ((+"725.95",N9I) !== 277.57?" ":("s",! !"")) + I6r.name];if(o2r || o2r === 0){L2r+=o2r;u2r++;q2r=Math.max(q2r,o2r);j2r=Math.min(j2r,o2r);}}if(I6r.name.indexOf("Osc") > -1){k2r=d2r(I6r.inputs["HHV/LLV Lookback"],G6r);if(u2r){u24.U5h(88);var q9I=u24.a5h(1,87,13);u24.U5h(162);var m9I=u24.a5h(14,2,10,3,0);p6r[G6r][I6r.name + "_hist"]=q9I * (p6r[G6r][T2r] - L2r / u2r) / Math.max(0.000001,k2r[m9I] - k2r[0]);u24.U5h(109);var G9I=u24.a5h(6,105,1,6,6);u24.U5h(163);var J9I=u24.m5h(15,18,541,15);p6r[G6r]["Over " + I6r.name]=G9I * (q2r - j2r) / Math.max(0.000001,k2r[J9I] - k2r[0]);p6r[G6r]["Under " + I6r.name]=-p6r[G6r]["Over " + I6r.name];p6r[G6r]["Zero " + I6r.name]=0;}}}if(I6r.name.indexOf("Osc") > -1){O5T="Und";O5T+="e";O5T+="r";O5T+=" ";d5T="Pos";d5T+="itiv";d5T+="e";d5T+=" Bar";I6r.outputMap={};I6r.outputMap["Over " + I6r.name]=d5T;I6r.outputMap[O5T + I6r.name]="Negative Bar";I6r.outputMap["Zero " + I6r.name]="";I6r.outputMap[I6r.name + "_hist"]="";}};N6r.Studies.displayRainbowMA=function(F2r,m2r,e2r){var y2r;y2r=F2r.panels[m2r.panel];M211.l65();for(var f2r=10;f2r > 0;f2r--){N6r.Studies.displayIndividualSeriesAsLine(F2r,m2r,y2r,"SMA" + f2r + (("2000" & 2147483647) < 227?(7.06e+3,0xc37):4320 !== ("4654" >> 1289810560,686.69)?" ":8.93e+3) + m2r.name,e2r);}};N6r.Studies.displayRainbowOsc=function(n2r,J2r,v2r){var c5T,w5T,V5T,l2r,t2r,a2r,M2r,S2r,s2r,Z2r,Q2r,X2r,w2r,l5T,U2r;c5T="Ze";c5T+="r";c5T+="o";c5T+=" ";w5T="O";w5T+="ve";w5T+="r";w5T+=" ";V5T="Posit";V5T+="ive ";V5T+="Bar";N6r.Studies.displaySeriesAsLine(n2r,J2r,v2r);l2r=n2r.panels[J2r.panel];t2r=J2r.getContext(n2r);a2r=J2r.getYAxis(n2r);n2r.startClip(J2r.panel);if(!J2r.highlight && n2r.highlightedDraggable){t2r.globalAlpha*=0.3;}M2r=n2r.pixelFromPrice(+"0",l2r,a2r);S2r=l2r.name != J2r.chart.name;s2r=N6r.Studies.determineColor(J2r.outputs[V5T]);t2r.strokeStyle=s2r;n2r.plotDataSegmentAsLine(w5T + J2r.name,l2r,{skipTransform:S2r,label:![],yAxis:a2r});Z2r=t2r.createLinearGradient(0,M2r,0,a2r.flipped?a2r.bottom:a2r.top);Z2r.addColorStop(0,n2r.containerColor);Z2r.addColorStop(1,s2r);N6r.prepareChannelFill(n2r,{skipTransform:S2r,color:Z2r,opacity:!J2r.highlight && n2r.highlightedDraggable?0.3:"1" - 0,panelName:J2r.panel,topBand:"Over " + J2r.name,bottomBand:c5T + J2r.name,yAxis:a2r});Q2r=N6r.Studies.determineColor(J2r.outputs["Negative Bar"]);t2r.strokeStyle=Q2r;n2r.plotDataSegmentAsLine("Under " + J2r.name,l2r,{skipTransform:S2r,label:!1,yAxis:a2r});X2r=t2r.createLinearGradient(0,M2r,0,a2r.flipped?a2r.top:a2r.bottom);X2r.addColorStop(0,n2r.containerColor);X2r.addColorStop(1,Q2r);N6r.prepareChannelFill(n2r,{skipTransform:S2r,color:X2r,opacity:!J2r.highlight && n2r.highlightedDraggable?0.3:"1" << 1157680032,panelName:J2r.panel,topBand:"Zero " + J2r.name,bottomBand:"Under " + J2r.name,yAxis:a2r});w2r=n2r.layout.candleWidth - +"2";if(w2r < 2){w2r=1;}n2r.canvasColor("stx_histogram");if(!J2r.underlay){t2r.globalAlpha=1;}if(!J2r.highlight && n2r.highlightedDraggable){t2r.globalAlpha*=0.3;}t2r.fillStyle="#CCCCCC";for(var P2r=0;P2r < v2r.length;P2r++){l5T="_h";l5T+="is";l5T+="t";U2r=v2r[P2r];if(!U2r)continue;if(U2r[J2r.name + "_hist"] > 0){t2r.fillStyle=s2r;}else if(U2r[J2r.name + l5T] < "0" << 1023679648){t2r.fillStyle=Q2r;}if(U2r.candleWidth){w2r=Math.floor(Math.max(1,U2r.candleWidth - ("2" ^ 0)));}t2r.fillRect(Math.floor(n2r.pixelFromBar(P2r,l2r.chart) - w2r / 2),Math.floor(M2r),Math.floor(w2r),Math.floor(n2r.pixelFromPrice(U2r[J2r.name + "_hist"],l2r,a2r) - M2r));}n2r.endClip();};N6r.Studies.studyLibrary=N6r.extend(N6r.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! ![],calculateFN:N6r.Studies.calculateRainbow,seriesFN:N6r.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:g5T,SMA4:N5T,SMA5:q5T,SMA6:m5T,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:N6r.Studies.calculateRainbow,seriesFN:N6r.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:G5T,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};J7J=i2r=>{var B2r;M211.H65();B2r=typeof _CIQ !== "undefined"?_CIQ:i2r.CIQ;if(!B2r.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {B2r.Studies.calculateRandomWalk=function(p2r,E2r){var V2r,b2r,R2r,N2r,K2r,W2r,H2r,D2r,I2r;V2r=E2r.chart.scrubbed;if(V2r.length < E2r.days + 1){E2r.error=!0;return;}for(var C2r=Math.max(2,E2r.startFrom);C2r < V2r.length;C2r++){b2r=0;R2r=V2r[C2r].High;N2r=V2r[C2r].Low;K2r=0;W2r=0;for(var h2r=1;h2r <= E2r.days;h2r++){if(V2r[C2r].futureTick)break;if(C2r <= h2r){K2r=W2r=0;break;}b2r+=V2r[C2r - h2r].trueRange;H2r=b2r / h2r * Math.sqrt(h2r);if(H2r){D2r=(R2r - V2r[C2r - h2r].Low) / H2r;I2r=(V2r[C2r - h2r].High - N2r) / H2r;K2r=Math.max(K2r,D2r);W2r=Math.max(W2r,I2r);}}if(!V2r[C2r].futureTick && (!isNaN(R2r) || !isNaN(N2r))){V2r[C2r]["Random Walk High " + E2r.name]=K2r;V2r[C2r]["Random Walk Low " + E2r.name]=W2r;}}};B2r.Studies.studyLibrary=B2r.extend(B2r.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:B2r.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};n7J=x7r=>{var J5T,G2r,K5T;J5T="undef";J5T+="in";J5T+="e";J5T+="d";G2r=typeof _CIQ !== J5T?_CIQ:x7r.CIQ;if(!G2r.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {K5T="#F";K5T+="F";K5T+="0000";G2r.Studies.calculateRelativeVigor=function(g7r,T7r){var h5T,r5T,s5T,k7r,o7r,B5T,u7r,j7r,O7r,d7r,L7r,q7r,n5T;h5T="RelV";h5T+="igSignal";r5T="triangula";r5T+="r";s5T="_";s5T+="Denom";k7r=T7r.chart.scrubbed;if(k7r.length < T7r.days + ("1" | 0)){T7r.error=! !1;return;}for(o7r=T7r.startFrom;o7r < k7r.length;o7r++){B5T="_";B5T+="Ra";B5T+="nge ";u7r=k7r[o7r];if(!isNaN(u7r.Close) && !isNaN(u7r.Open)){u7r["_Change " + T7r.name]=u7r.Close - u7r.Open;}if(!isNaN(u7r.High) && !isNaN(u7r.Low)){u7r[B5T + T7r.name]=u7r.High - u7r.Low;}}G2r.Studies.MA("triangular",4,"_Change " + T7r.name,0,"_Numer",g7r,T7r);G2r.Studies.MA("triangular",4,"_Range " + T7r.name,+"0",s5T,g7r,T7r);j7r=[];O7r=[];for(o7r=Math.max(T7r.startFrom - T7r.days,+"0");o7r < k7r.length;o7r++){if(k7r[o7r].futureTick)break;if(k7r[o7r]["_Numer " + T7r.name] === null && k7r[o7r]["_Denom " + T7r.name] === null)continue;j7r.push(k7r[o7r]["_Numer " + T7r.name]);O7r.push(k7r[o7r]["_Denom " + T7r.name]);if(j7r.length > T7r.days){j7r.shift();O7r.shift();}d7r=0;L7r=0;for(q7r=0;q7r < j7r.length;q7r++){d7r+=j7r[q7r];}for(q7r="0" | 0;q7r < O7r.length;q7r++){L7r+=O7r[q7r];}if(L7r === 0){L7r=0.00000001;}if(o7r < T7r.startFrom)continue;M211.U5h(7);k7r[o7r]["Rel Vig " + T7r.name]=M211.a5h(d7r,L7r);}G2r.Studies.MA(r5T,4,"Rel Vig " + T7r.name,0,h5T,g7r,T7r);for(o7r=T7r.startFrom;o7r < k7r.length;o7r++){n5T="Rel ";n5T+="Vig ";k7r[o7r][T7r.name + "_hist"]=k7r[o7r][n5T + T7r.name] - k7r[o7r]["RelVigSignal " + T7r.name];}T7r.outputMap[T7r.name + "_hist"]="";};G2r.Studies.studyLibrary=G2r.extend(G2r.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:G2r.Studies.displayHistogramWithSeries,calculateFN:G2r.Studies.calculateRelativeVigor,inputs:{Period:+"10"},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":K5T}}});}};a7J=r7r=>{var y5T,z7r,W5T,f5T;y5T="undef";y5T+="ined";z7r=typeof _CIQ !== y5T?_CIQ:r7r.CIQ;if(!z7r.Studies){W5T="rsi feature requires first activating studies ";W5T+="feature.";console.error(W5T);}else {f5T="f";f5T+="i";f5T+="el";f5T+="d";z7r.Studies.calculateRSI=function(t7r,A7r){var m24=M211;var e7r,c7r,i5T,F7r,y7r,J7r,n7r,Y7r,f7r;e7r=A7r.chart.scrubbed;c7r=A7r.inputs.Field;if(!c7r || c7r == "field"){c7r="Close";}if(e7r.length < A7r.days + 1){A7r.error=!"";return;}function a7r(w7r,l7r){var B7Y,s7Y,r7Y,U7r;if(l7r === 0){return 100;}B7Y=-1725533548;s7Y=-621393602;r7Y=2;for(var n7Y=1;m24.C4Y(n7Y.toString(),n7Y.toString().length,78050) !== B7Y;n7Y++){m24.D5h(18);U7r=m24.m5h(w7r,l7r);m24.D5h(164);return m24.a5h(614,"234",2,0,U7r);}if(m24.a4Y(r7Y.toString(),r7Y.toString().length,16403) !== s7Y){m24.U5h(7);U7r=m24.m5h(w7r,l7r);m24.D5h(165);return m24.a5h(0,100,"1",U7r,100);}}for(var m7r=A7r.startFrom;m7r < e7r.length;m7r++){i5T="_avgL";i5T+=" ";if(!m7r)continue;F7r=e7r[m7r];m24.D5h(5);y7r=e7r[m24.m5h(m7r,1)];if(!F7r[c7r] && F7r[c7r] !== 0)continue;if(!y7r[c7r] && y7r[c7r] !== 0)continue;J7r=F7r[c7r] - y7r[c7r];n7r=Math.min(m7r,A7r.days);Y7r=y7r["_avgG " + A7r.name];if(!Y7r){Y7r=0;}m24.U5h(7);Y7r-=m24.m5h(Y7r,n7r);f7r=y7r[i5T + A7r.name];if(!f7r){f7r=0;}m24.D5h(7);f7r-=m24.m5h(f7r,n7r);if(J7r > 0){m24.U5h(7);Y7r+=m24.a5h(J7r,n7r);}else if(J7r <= 0){m24.U5h(7);f7r-=m24.a5h(J7r,n7r);}else continue;if(m7r >= A7r.days){if((Y7r || Y7r !== 0) && (f7r || f7r !== 0)){F7r["RSI " + A7r.name]=a7r(Y7r,f7r);}}F7r["_avgG " + A7r.name]=Y7r;F7r["_avgL " + A7r.name]=f7r;}A7r.zoneOutput="RSI";};z7r.Studies.studyLibrary=z7r.extend(z7r.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:+"14",Field:f5T},calculateFN:z7r.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};t7J=S7r=>{var M7r,X5T;M7r=typeof _CIQ !== "undefined"?_CIQ:S7r.CIQ;if(!M7r.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {X5T="a";X5T+="u";X5T+="to";M7r.Studies.calculateSchaff=function(R7r,P7r){var Q5T,v5T,u5T,S5T,p5T,Q7r,v7r,H7r,B7r,i7r,b7r,C7r,V7r,L5T,T5T,t5T,M5T,X7r,h7r,E7r,K7r,Z7r,x5T,W7r,D5T,U5T,H5T;function N7r(T3r,x3r,o3r){var P34=M211;var I7r,p7r,D7r;I7r=null;p7r=null;for(var G7r=x3r - T3r + 1;G7r <= x3r;G7r++){P34.D5h(88);var B9I=P34.m5h(8096,8084,8096);P34.U5h(3);var s9I=P34.m5h(20,31389,33020);D7r=Q7r[G7r][o3r + (B9I >= (+"681.45",s9I)?" ":! !1) + P7r.name];if(!D7r)continue;I7r=I7r === null?D7r:Math.min(I7r,D7r);p7r=p7r === null?D7r:Math.max(p7r,D7r);}return [I7r,p7r];}Q5T="Movin";Q5T+="g Aver";Q5T+="age Type";v5T="Moving Average Ty";v5T+="pe";u5T="fi";u5T+="el";u5T+="d";S5T="L";S5T+="ong";S5T+=" Cyc";S5T+="le";p5T="S";p5T+="hort Cycle";M211.H65();Q7r=P7r.chart.scrubbed;v7r=P7r.days;H7r=Number(P7r.inputs[p5T]);B7r=Number(P7r.inputs[S5T]);if(Q7r.length < Math.max(v7r,H7r,B7r) + 1){P7r.error=! ![];return;}i7r=P7r.inputs.Field;if(!i7r || i7r == u5T){i7r="Close";}b7r=0.5;M7r.Studies.MA(P7r.inputs[v5T],H7r,i7r,0,"_MACD1",R7r,P7r);M7r.Studies.MA(P7r.inputs[Q5T],B7r,i7r,0,"_MACD2",R7r,P7r);C7r=0;V7r=0;for(var s7r=P7r.startFrom;s7r < Q7r.length;s7r++){L5T="_";L5T+="P";L5T+="F";L5T+=" ";T5T="_M";T5T+="A";T5T+="CD";t5T="_";t5T+="MAC";t5T+="D ";M5T="_M";M5T+="A";M5T+="CD";M5T+="2 ";X7r=Q7r[s7r];if(s7r < B7r - 1)continue;h7r=X7r["_MACD1 " + P7r.name];E7r=X7r[M5T + P7r.name];if(h7r || h7r === 0 || E7r || E7r === 0){M211.D5h(5);X7r["_MACD " + P7r.name]=M211.a5h(h7r,E7r);}K7r=X7r[t5T + P7r.name];if(s7r < B7r + (v7r - 1))continue;Z7r=N7r(v7r,s7r,T5T);C7r=Z7r[1] > Z7r["0" >> 1363459296]?+"100" * (K7r - Z7r[0]) / (Z7r[1] - Z7r[0]):C7r;if(K7r || K7r === "0" >> 125306432){x5T="_";x5T+="P";x5T+="F ";X7r["_PF " + P7r.name]=Q7r[s7r - 1]["_PF " + P7r.name]?Q7r[s7r - +"1"]["_PF " + P7r.name] + b7r * (C7r - Q7r[s7r - 1][x5T + P7r.name]):C7r;}W7r=X7r[L5T + P7r.name];if(s7r < B7r + 2 * (v7r - 1))continue;Z7r=N7r(v7r,s7r,"_PF");V7r=Z7r[1] > Z7r[0]?100 * (W7r - Z7r[0]) / (Z7r[1] - Z7r[0]):V7r;if(W7r || W7r === 0){D5T="Re";D5T+="s";D5T+="ult ";U5T="R";U5T+="es";U5T+="u";U5T+="lt ";H5T="Re";H5T+="s";H5T+="ult";H5T+=" ";X7r["Result " + P7r.name]=Q7r[s7r - 1][H5T + P7r.name]?Q7r[s7r - 1][U5T + P7r.name] + b7r * (V7r - Q7r[s7r - ("1" | 1)][D5T + P7r.name]):V7r;}}};M7r.Studies.studyLibrary=M7r.extend(M7r.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:M7r.Studies.calculateSchaff,inputs:{Period:"10" << 588764032,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"75" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:"25" & 2147483647,studyOverSoldColor:X5T}}}});}};l7J=u3r=>{var k3r,A5T,R5T;k3r=typeof _CIQ !== "undefined"?_CIQ:u3r.CIQ;M211.H65();if(!k3r.Studies){A5T="shinohara feature requires first ";A5T+="activating studies feature.";console.error(A5T);}else {R5T="Shinohara ";R5T+="I";R5T+="n";R5T+="tensity Ratio";k3r.Studies.calculateShinohara=function(g3r,O3r){var U24=M211;U24.l65();var j3r,L3r,b5T;j3r=O3r.chart.scrubbed;if(j3r.length < O3r.days + 1){O3r.error=! !{};return;}L3r={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(O3r.startFrom > 1){b5T="_ac";b5T+="cums";b5T+=" ";L3r=k3r.clone(j3r[O3r.startFrom - 1][b5T + O3r.name]);}for(var q3r=O3r.startFrom;q3r < j3r.length;q3r++){L3r.weakNum+=j3r[q3r].High - j3r[q3r].Close;L3r.weakDen+=j3r[q3r].Close - j3r[q3r].Low;if(q3r > 0){U24.U5h(5);var r9I=U24.a5h(6,5);L3r.strongNum+=j3r[q3r].High - j3r[q3r - r9I].Close;U24.D5h(140);var h9I=U24.m5h(14,6,0,2);L3r.strongDen+=j3r[q3r - h9I].Close - j3r[q3r].Low;}if(q3r >= O3r.days){L3r.weakNum-=j3r[q3r - O3r.days].High - j3r[q3r - O3r.days].Close;L3r.weakDen-=j3r[q3r - O3r.days].Close - j3r[q3r - O3r.days].Low;U24.D5h(67);var n9I=U24.m5h(4,1400,91,156);j3r[q3r]["Weak Ratio " + O3r.name]=n9I * L3r.weakNum / L3r.weakDen;if(q3r > O3r.days){U24.U5h(124);var K9I=U24.m5h(5,0,7,26,8);L3r.strongNum-=j3r[q3r - O3r.days].High - j3r[q3r - O3r.days - K9I].Close;U24.U5h(5);var y9I=U24.a5h(9,8);L3r.strongDen-=j3r[q3r - O3r.days - y9I].Close - j3r[q3r - O3r.days].Low;U24.D5h(166);var W9I=U24.a5h(2102415230,142536625,11,4,13);j3r[q3r]["Strong Ratio " + O3r.name]=("100" << W9I) * L3r.strongNum / L3r.strongDen;}}j3r[q3r]["_accums " + O3r.name]=k3r.clone(L3r);}};k3r.Studies.studyLibrary=k3r.extend(k3r.Studies.studyLibrary,{Shinohara:{name:R5T,calculateFN:k3r.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};U7J=z3r=>{var d3r,O1T,d1T,P1T,C1T,a1T;d3r=typeof _CIQ !== "undefined"?_CIQ:z3r.CIQ;if(!d3r.Studies){console.error("stochastics feature requires first activating studies feature.");}else {O1T="a";O1T+="u";O1T+="to";d1T="fi";d1T+="eld";P1T="Stocha";P1T+="st";P1T+="ics (Simple)";C1T="a";C1T+="u";C1T+="t";C1T+="o";a1T="e";a1T+="m";a1T+="a";d3r.Studies.calculateStochastics=function(y3r,r3r){var o1T,I1T,F1T,Y3r,A3r,c3r,m3r,F3r,Y5T,z5T,J3r;o1T="%";o1T+="K";function e3r(M3r,t3r,s3r){var X34=M211;var S3r,a3r,n3r,e5T,U3r,w3r,P3r;X34.D5h(0);X34.H65();S3r=X34.m5h(s3r,M3r,1);X34.D5h(21);var i9I=X34.m5h(0,13,4,136,15);a3r=Number.MAX_VALUE * i9I;n3r=Number.MAX_VALUE;for(var l3r=S3r;l3r <= M3r;l3r++){e5T="Cl";e5T+="o";e5T+="se";U3r=c3r[l3r][t3r == "Close"?"Low":t3r];w3r=c3r[l3r][t3r == e5T?"High":t3r];if(!U3r && U3r !== "0" >> 1750768032)continue;if(!w3r && w3r !== 0)continue;n3r=Math.min(n3r,U3r);a3r=Math.max(a3r,w3r);}if(a3r == Number.MAX_VALUE * - +"1" || n3r == Number.MAX_VALUE){return null;}P3r=a3r == n3r?0:(c3r[M3r][t3r] - n3r) / (a3r - n3r) * 100;return P3r;}o1T+=" ";I1T="%";I1T+="K";F1T="s";F1T+="im";F1T+="pl";F1T+="e";if(!r3r.smooth){r3r.smooth=r3r.inputs.Smooth;}Y3r=r3r.inputs.Field;if(!Y3r || Y3r == "field"){Y3r="Close";}A3r=r3r.inputs["%K Periods"];if(!A3r){A3r=r3r.days;}c3r=r3r.chart.scrubbed;if(c3r.length < Math.max(A3r,r3r.days) + 1){r3r.error=!"";return;}M211.H65();m3r=r3r.inputs["%K Smoothing Periods"];if(m3r && !r3r.inputs.Fast){r3r.smooth=! !{};}else if(r3r.smooth){m3r=3;}F3r=r3r.inputs["%D Periods"];if(!F3r){M211.D5h(12);F3r=M211.m5h(2147483647,"3");}if(r3r.outputs.Fast){Y5T="F";Y5T+="a";Y5T+="s";Y5T+="t";z5T="%";z5T+="K";z5T+=" ";r3r.outputMap={};r3r.outputMap[z5T + r3r.name]=Y5T;r3r.outputMap["%D " + r3r.name]="Slow";}for(var f3r=Math.max(A3r,r3r.startFrom);f3r < c3r.length;f3r++){J3r=e3r(f3r,Y3r,A3r);if(J3r !== null){c3r[f3r]["_Fast%K " + r3r.name]=e3r(f3r,Y3r,A3r);}}d3r.Studies.MA(F1T,r3r.smooth?m3r:1,"_Fast%K " + r3r.name,0,I1T,y3r,r3r);d3r.Studies.MA("simple",F3r,o1T + r3r.name,0,"%D",y3r,r3r);};d3r.Studies.calculateStochMomentum=function(v3r,Z3r){var V24=M211;var E1T,Z1T,k1T,B3r,C3r,V3r,E3r,Q3r,X3r,h3r,i3r,j1T;E1T="%";V24.H65();function K3r(N3r,R3r){var H3r,b3r;H3r=null;b3r=null;for(var W3r=R3r - N3r + +"1";W3r <= R3r;W3r++){H3r=H3r === null?Q3r[W3r].Low:Math.min(H3r,Q3r[W3r].Low);b3r=b3r === null?Q3r[W3r].High:Math.max(b3r,Q3r[W3r].High);}return [H3r,b3r];}E1T+="D";Z1T="expo";Z1T+="nen";Z1T+="tial";k1T="ex";k1T+="pon";k1T+="en";k1T+="tial";B3r=Number(Z3r.inputs["%K Periods"]);C3r=Number(Z3r.inputs["%K Smoothing Periods"]);V3r=Number(Z3r.inputs["%K Double Smoothing Periods"]);E3r=Number(Z3r.inputs["%D Periods"]);Q3r=Z3r.chart.scrubbed;if(Q3r.length < B3r + C3r + V3r - 1 || Q3r.length < E3r){Z3r.error=! !"1";return;}for(X3r=Math.max(B3r,Z3r.startFrom) - 1;X3r < Q3r.length;X3r++){h3r=Q3r[X3r];i3r=K3r(B3r,X3r);V24.D5h(3);var f9I=V24.a5h(18,17,0);V24.D5h(5);var p9I=V24.m5h(14,12);h3r["_H " + Z3r.name]=h3r.Close - (i3r["0" & 2147483647] + i3r[f9I]) / p9I;V24.U5h(167);var S9I=V24.m5h(0,14,13,3,3);h3r["_DHL " + Z3r.name]=i3r[S9I] - i3r[0];}d3r.Studies.MA(k1T,C3r,"_H " + Z3r.name,0,"_HS1",v3r,Z3r);d3r.Studies.MA(Z1T,V3r,"_HS1 " + Z3r.name,0,"_HS2",v3r,Z3r);d3r.Studies.MA("exponential",C3r,"_DHL " + Z3r.name,0,"_DHL1",v3r,Z3r);d3r.Studies.MA("exponential",V3r,"_DHL1 " + Z3r.name,+"0","_DHL2",v3r,Z3r);for(X3r=B3r - 1;X3r < Q3r.length;X3r++){j1T="%K";j1T+=" ";V24.U5h(88);var u9I=V24.m5h(650,98,1300);Q3r[X3r][j1T + Z3r.name]=Q3r[X3r]["_HS2 " + Z3r.name] / (0.5 * Q3r[X3r]["_DHL2 " + Z3r.name]) * u9I;}d3r.Studies.MA(Z3r.inputs["%D Moving Average Type"],E3r,"%K " + Z3r.name,0,E1T,v3r,Z3r);Z3r.zoneOutput="%K";};d3r.Studies.studyLibrary=d3r.extend(d3r.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:d3r.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":a1T},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:C1T}}},stochastics:{name:P1T,range:"0 to 100",calculateFN:d3r.Studies.calculateStochastics,inputs:{Period:14,Field:d1T,Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:O1T}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:d3r.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":+"14",Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};w7J=I3r=>{var V1T,D3r,w1T;V1T="unde";V1T+="fin";V1T+="e";V1T+="d";D3r=typeof _CIQ !== V1T?_CIQ:I3r.CIQ;M211.H65();if(!D3r.Studies){w1T="supertrend feature requ";w1T+="ires first activating studies featu";w1T+="re.";console.error(w1T);}else {D3r.Studies.calculateSupertrend=function(j0r,p3r){var k24=M211;var m1T,x0r,c1T,T0r,u0r,q0r,o0r,k0r,g1T,l1T,q1T,N1T;k24.H65();m1T="T";m1T+="rend ";x0r=p3r.chart.scrubbed;if(x0r.length < p3r.days + 1){p3r.error=! !{};return;}D3r.Studies.calculateStudyATR(j0r,p3r);for(var G3r=p3r.startFrom;G3r < x0r.length;G3r++){c1T="A";c1T+="T";c1T+="R ";T0r=x0r[G3r];if(!T0r)continue;k24.U5h(168);var v9I=k24.m5h(0,10,8,89,17);u0r=(T0r.High + T0r.Low) / v9I;q0r=p3r.inputs.Multiplier * T0r[c1T + p3r.name];k24.U5h(5);o0r=k24.a5h(u0r,q0r);k24.D5h(1);k0r=k24.m5h(q0r,u0r);if(G3r){g1T="_Do";g1T+="wn";g1T+="trend ";l1T="_Downt";l1T+="r";l1T+="end ";if(x0r[G3r - +"1"] && x0r[G3r - 1].Close && x0r[G3r - 1].Close > x0r[G3r - +"1"]["_Uptrend " + p3r.name] && x0r[G3r - 1]["_Uptrend " + p3r.name] > o0r){k24.D5h(5);o0r=x0r[k24.m5h(G3r,1)]["_Uptrend " + p3r.name];}if(x0r[G3r - 1] && x0r[G3r - 1].Close && x0r[G3r - 1].Close < x0r[G3r - 1][l1T + p3r.name] && x0r[G3r - 1]["_Downtrend " + p3r.name] < k0r){k24.D5h(5);k0r=x0r[k24.m5h(G3r,1)][g1T + p3r.name];}}T0r["_Direction " + p3r.name]=1;if(G3r){q1T="_Up";q1T+="t";q1T+="rend ";N1T="_Down";N1T+="trend ";k24.U5h(5);T0r["_Direction " + p3r.name]=x0r[k24.a5h(G3r,1)]["_Direction " + p3r.name];if(T0r.Close > x0r[G3r - 1][N1T + p3r.name]){k24.D5h(5);T0r["_Direction " + p3r.name]=k24.m5h("1",0);}else if(T0r.Close < x0r[G3r - +"1"][q1T + p3r.name]){T0r["_Direction " + p3r.name]=-1;}}T0r["_Uptrend " + p3r.name]=o0r;T0r["_Downtrend " + p3r.name]=k0r;T0r["Trend " + p3r.name]=T0r["_Direction " + p3r.name] > 0?o0r:k0r;if(!G3r)continue;}p3r.outputMap={};p3r.outputMap[m1T + p3r.name]="";};D3r.Studies.displaySupertrend=function(L0r,O0r,r0r){var A0r,g0r,c0r,a0r,y0r,Y0r,f0r,d0r,z0r,J1T,J0r,n0r;A0r=L0r.panels[O0r.panel];g0r=O0r.getContext(L0r);c0r=O0r.getYAxis(L0r);a0r={skipTransform:A0r.name != O0r.chart.name,skipProjections:! !1,label:L0r.preferences.labels,yAxis:c0r,highlight:O0r.highlight};g0r.lineWidth=+"2";if(O0r.highlight){g0r.lineWidth=1.5;}y0r="Trend " + O0r.name;for(var e0r=0;A0r.chart.transformFunc && c0r != A0r.chart.yAxis && e0r < r0r.length;e0r++){Y0r=r0r[e0r];if(Y0r && Y0r.transform){Y0r.transform[y0r]=A0r.chart.transformFunc(L0r,A0r.chart,Y0r[y0r]);}}L0r.plotDataSegmentAsLine(y0r,A0r,a0r,t0r);g0r.lineWidth=1;g0r.globalAlpha=1;L0r.startClip(O0r.panel);if(!O0r.highlight && L0r.highlightedDraggable){g0r.globalAlpha*=0.3;}M211.D5h(169);var Q9I=M211.a5h(20,17,36,53,19);f0r=g0r.measureText("\u25B2").width / Q9I;M211.l65();function t0r(U0r,l0r,w0r){var G1T;G1T="_";G1T+="Di";M211.H65();G1T+="re";G1T+="ction ";if(l0r && l0r[G1T + O0r.name] < 0){return O0r.outputs.Downtrend;}return O0r.outputs.Uptrend;}for(d0r=0;d0r < r0r.length;d0r++){if(!r0r[d0r] || !r0r[d0r - 1])continue;if(r0r[d0r - 1]["_Direction " + O0r.name] > r0r[d0r]["_Direction " + O0r.name]){J1T="b";J1T+="ott";J1T+="o";J1T+="m";z0r=D3r.Studies.determineColor(O0r.outputs.Downtrend);if(!z0r || z0r == "auto" || D3r.isTransparent(z0r)){z0r=L0r.defaultColor;}g0r.fillStyle=z0r;g0r.textBaseline=J1T;J0r=L0r.pixelFromPrice(r0r[d0r].High,A0r,c0r);for(var m0r=5;m0r <= 45;m0r+=10){if(c0r.flipped){g0r.fillText((866.55,3491) <= 86.97?(0x1649,+"9.97e+3"):"\u25B2",L0r.pixelFromBar(d0r) - f0r,J0r + m0r);}else {g0r.fillText(360 > 8061?793.76 >= ("488" & 2147483647)?(0xc55,793.45):"326.13" * 1:"\u25BC",L0r.pixelFromBar(d0r) - f0r,J0r - m0r);}}}else if(r0r[d0r - +"1"]["_Direction " + O0r.name] < r0r[d0r]["_Direction " + O0r.name]){z0r=D3r.Studies.determineColor(O0r.outputs.Uptrend);if(!z0r || z0r == "auto" || D3r.isTransparent(z0r)){z0r=L0r.defaultColor;}g0r.fillStyle=z0r;g0r.textBaseline="top";n0r=L0r.pixelFromPrice(r0r[d0r].Low,A0r,c0r);for(var F0r=5;F0r <= 45;F0r+=10){if(c0r.flipped){g0r.fillText("\u25BC",L0r.pixelFromBar(d0r) - f0r,n0r - F0r);}else {g0r.fillText((6510,689.18) !== (1040,438)?"\u25B2":781,L0r.pixelFromBar(d0r) - f0r,n0r + F0r);}}}}L0r.endClip();};D3r.Studies.studyLibrary=D3r.extend(D3r.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:! !{},seriesFN:D3r.Studies.displaySupertrend,calculateFN:D3r.Studies.calculateSupertrend,inputs:{Period:+"7",Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};M7J=S0r=>{var M0r;M211.H65();M0r=typeof _CIQ !== "undefined"?_CIQ:S0r.CIQ;if(!M0r.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {M0r.Studies.calculateSwingIndex=function(W0r,Z0r){var O24=M211;var Q0r,P0r,X0r,B0r,i0r,E0r,K0r,V0r,C0r,v0r,h0r;Q0r=Z0r.inputs["Limit Move Value"];if(Q0r === null || isNaN(Q0r)){Q0r=99999;}P0r=Z0r.chart.scrubbed;O24.U5h(23);O24.l65();X0r=O24.a5h(0,"0");if(Z0r.startFrom > 1){O24.U5h(170);var M9I=O24.a5h(15,6,22,10,12);X0r=P0r[Z0r.startFrom - M9I]["Result " + Z0r.name];}for(var s0r=Math.max(1,Z0r.startFrom);s0r < P0r.length;s0r++){B0r=Math.abs(P0r[s0r].High - P0r[s0r - 1].Close);i0r=Math.abs(P0r[s0r].Low - P0r[s0r - "1" * 1].Close);E0r=Math.abs(P0r[s0r].High - P0r[s0r].Low);K0r=Math.abs(P0r[s0r - 1].Close - P0r[s0r - 1].Open);V0r=Math.max(B0r,i0r);C0r=Math.max(E0r,V0r);O24.D5h(87);v0r=O24.m5h(C0r,K0r,0.25);if(C0r == B0r){O24.U5h(18);v0r-=O24.a5h(0.5,i0r);}else if(C0r == i0r){O24.U5h(171);v0r-=O24.m5h(B0r,"0.5");}O24.U5h(72);var t9I=O24.a5h(209059977,1045299885,1045299879,20);O24.U5h(1);var T9I=O24.a5h(1,0);O24.D5h(1);var x9I=O24.a5h(1,0);h0r=("50" >> t9I) * (P0r[s0r].Close - P0r[s0r - +"1"].Close + ("0.5" - 0) * (P0r[s0r].Close - P0r[s0r].Open) + 0.25 * (P0r[s0r - T9I].Close - P0r[s0r - x9I].Open)) / v0r * (V0r / Q0r);if(v0r === +"0" || Q0r === 0){h0r=0;}if(Z0r.type == "Swing"){X0r=0;}X0r+=h0r;P0r[s0r]["Result " + Z0r.name]=X0r;}};M0r.Studies.studyLibrary=M0r.extend(M0r.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:M0r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"0.5" * 1}},Swing:{name:"Swing Index",calculateFN:M0r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};S7J=b0r=>{var B1T,H0r,s1T,n1T,h1T;B1T="un";M211.l65();B1T+="defined";H0r=typeof _CIQ !== B1T?_CIQ:b0r.CIQ;if(!H0r.Studies){s1T="trendIntensity fea";s1T+="ture requires first activa";s1T+="ting studies fea";s1T+="ture.";console.error(s1T);}else {n1T="a";n1T+="uto";h1T="a";h1T+="u";h1T+="t";h1T+="o";H0r.Studies.calculateTrendIntensity=function(k1r,R0r){var T24=M211;var r1T,I0r,p0r,G0r,x1r,N0r,D0r,T1r,o1r;r1T="m";r1T+="a";I0r=R0r.chart.scrubbed;if(I0r.length < R0r.days + 1){R0r.error=!"";return;}p0r=R0r.inputs.Field;function u1r(j1r,q1r){if(Math.abs(q1r) < "0.00000001" * 1){return 100;}T24.D5h(145);return T24.m5h(1,100,q1r,j1r,100);}if(!p0r || p0r == "field"){p0r="Close";}H0r.Studies.MA(r1T,R0r.days,p0r,0,"_SMA",k1r,R0r);G0r=0;x1r=0;T1r=[];o1r=Math.ceil(R0r.days / 2);for(N0r=Math.max(0,R0r.startFrom - o1r);N0r < I0r.length;N0r++){if(!I0r[N0r]["_SMA " + R0r.name] && I0r[N0r]["_SMA " + R0r.name] !== 0)continue;D0r=I0r[N0r][p0r] - I0r[N0r]["_SMA " + R0r.name];if(D0r < 0){T24.D5h(172);x1r+=T24.a5h(1,D0r);}else {G0r+=D0r;}T1r.push(D0r);if(T1r.length > o1r){D0r=T1r.shift();if(D0r < +"0"){T24.U5h(172);x1r-=T24.m5h(1,D0r);}else {G0r-=D0r;}}if(N0r < R0r.startFrom)continue;I0r[N0r]["TII " + R0r.name]=u1r(G0r,x1r);}H0r.Studies.MA("ema",R0r.inputs["Signal Period"],"TII " + R0r.name,0,"Signal",k1r,R0r);};H0r.Studies.studyLibrary=H0r.extend(H0r.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:H0r.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:h1T,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:n1T,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};P7J=L1r=>{var O1r,K1T,W1T;O1r=typeof _CIQ !== "undefined"?_CIQ:L1r.CIQ;if(!O1r.Studies){K1T="trix f";K1T+="eature requir";K1T+="es first activating studies feature.";console.error(K1T);}else {W1T="T";W1T+="R";W1T+="I";W1T+="X";O1r.Studies.calculateTRIX=function(F1r,g1r){var p24=M211;p24.H65();var d1r,r1r,c1r,y1T,f1r,m1r,Y1r;d1r=g1r.chart.scrubbed;if(d1r.length < g1r.days + 1){g1r.error=! !1;return;}r1r=g1r.name;p24.U5h(1);c1r=["Close",p24.m5h(r1r,"_MA1 "),p24.m5h(r1r,"_MA2 "),p24.a5h(r1r,"_MA3 ")];for(var A1r=+"0";A1r < c1r.length - 1;A1r++){y1T="_M";y1T+="A";O1r.Studies.MA("exponential",g1r.days,c1r[A1r],0,y1T + (A1r + 1).toString(),F1r,g1r);}f1r=c1r[3];for(var z1r=Math.max(1,g1r.startFrom);z1r < d1r.length;z1r++){p24.U5h(5);m1r=d1r[p24.a5h(z1r,1)][f1r];if(!m1r)continue;Y1r=d1r[z1r][f1r];if(Y1r || Y1r === +"0"){p24.D5h(1);d1r[z1r][p24.m5h(r1r,"Result ")]=p24.a5h("1",Y1r,m1r,100,p24.D5h(173));}}};O1r.Studies.studyLibrary=O1r.extend(O1r.Studies.studyLibrary,{TRIX:{name:W1T,calculateFN:O1r.Studies.calculateTRIX}});}};s7J=e1r=>{var h65=M211;var i1T,y1r,H7Y,U7Y,D7Y;i1T="undefine";i1T+="d";y1r=typeof _CIQ !== i1T?_CIQ:e1r.CIQ;if(!y1r.Studies){h65.D5h(22);H7Y=-h65.a5h("86601509",459828640);U7Y=-812115118;D7Y=2;for(var A7Y=1;h65.C4Y(A7Y.toString(),A7Y.toString().length,43553) !== H7Y;A7Y++){console.error("");D7Y+=2;}if(h65.C4Y(D7Y.toString(),D7Y.toString().length,46070) !== U7Y){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}}else {y1r.Studies.calculateTwiggsMoneyFlow=function(S1r,J1r){var a1r,l1r,t1r,U1r,p1T,f1T,w1r,M1r;a1r=J1r.chart.scrubbed;if(a1r.length < J1r.days){J1r.error=!"";return;}l1r=0;t1r=0;U1r=a1r[J1r.startFrom - ("1" & 2147483647)];if(U1r){p1T="_";p1T+="sum";p1T+="V";p1T+=" ";f1T="_sumM";f1T+="F ";if(U1r["_sumMF " + J1r.name]){l1r=U1r[f1T + J1r.name];}if(U1r[p1T + J1r.name]){t1r=U1r["_sumV " + J1r.name];}}for(var n1r=Math.max(1,J1r.startFrom);n1r < a1r.length;n1r++){w1r=Math.max(a1r[n1r - 1].Close,a1r[n1r].High);M1r=Math.min(a1r[n1r - +"1"].Close,a1r[n1r].Low);h65.U5h(5);var L9I=h65.a5h(20,18);h65.U5h(86);var H9I=h65.a5h(13,71429,928557);a1r[n1r]["_MFV " + J1r.name]=a1r[n1r].Volume * (L9I * a1r[n1r].Close - w1r - M1r) / (w1r - M1r === 0?H9I:w1r - M1r);if(n1r > J1r.days - 1){h65.D5h(174);var U9I=h65.m5h(17,2,18,17);l1r*=(J1r.days - U9I) / J1r.days;h65.D5h(5);var D9I=h65.m5h(14,13);t1r*=(J1r.days - D9I) / J1r.days;}l1r+=a1r[n1r]["_MFV " + J1r.name];t1r+=a1r[n1r].Volume;if(n1r > J1r.days - 1){if(t1r){h65.D5h(7);a1r[n1r]["Result " + J1r.name]=h65.m5h(l1r,t1r > 0?t1r:999999);}}a1r[n1r]["_sumMF " + J1r.name]=l1r;a1r[n1r]["_sumV " + J1r.name]=t1r;}};y1r.Studies.studyLibrary=y1r.extend(y1r.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:y1r.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};Z7J=s1r=>{var w65=M211;var u4Y,v4Y,Q4Y,P1r,l8Y,g8Y,N8Y;w65.U5h(5);u4Y=-w65.a5h("1742934653",0);v4Y=-564048980;Q4Y=2;for(var t4Y=1;w65.a4Y(t4Y.toString(),t4Y.toString().length,68277) !== u4Y;t4Y++){P1r=!_CIQ != ""?_CIQ:s1r.CIQ;Q4Y+=2;}if(w65.C4Y(Q4Y.toString(),Q4Y.toString().length,19530) !== v4Y){P1r=!_CIQ != ""?_CIQ:s1r.CIQ;}P1r=typeof _CIQ !== "undefined"?_CIQ:s1r.CIQ;if(!P1r.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!P1r.Studies.calculateTypicalPrice){l8Y=1652766582;g8Y=-1275060132;N8Y=2;for(var m8Y="1" & 2147483647;w65.a4Y(m8Y.toString(),m8Y.toString().length,81128) !== l8Y;m8Y++){console.error("typicalPrice feature requires first activating medianPrice feature.");N8Y+=2;}if(w65.a4Y(N8Y.toString(),N8Y.toString().length,47234) !== g8Y){console.error("");}}else {P1r.Studies.studyLibrary=P1r.extend(P1r.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:P1r.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:P1r.Studies.calculateTypicalPrice,inputs:{Period:"14" << 2055289984}}});}};Q7J=Q1r=>{var S1T,Z1r,u1T;S1T="un";S1T+="de";S1T+="fined";Z1r=typeof _CIQ !== S1T?_CIQ:Q1r.CIQ;if(!Z1r.Studies){u1T="ulcer";u1T+="Index feature requires first activating studies";u1T+=" feature.";console.error(u1T);}else {Z1r.Studies.calculateUlcerIndex=function(V1r,X1r){var M1T,v1T,B1r,i1r,v1r,Q1T,t1T,C1r;M1T="_";M1T+="M";M1T+="A";function h1r(b1r,W1r,H1r){var K1r;K1r=null;for(var E1r=W1r - b1r + ("1" >> 1837543808);E1r <= W1r;E1r++){if(E1r < 0)continue;K1r=K1r === null?B1r[E1r][H1r]:Math.max(K1r,B1r[E1r][H1r]);}return K1r;}v1T="C";v1T+="los";v1T+="e";B1r=X1r.chart.scrubbed;if(B1r.length < 2 * X1r.days - 1){X1r.error=! ![];return;}i1r=X1r.inputs.Field;if(!i1r || i1r == "field"){i1r=v1T;}for(v1r=Math.max(X1r.startFrom,X1r.days - ("1" << 1480498176));v1r < B1r.length;v1r++){Q1T="_P";Q1T+="D2";Q1T+=" ";B1r[v1r][Q1T + X1r.name]=Math.pow(100 * (B1r[v1r][i1r] / h1r(X1r.days,v1r,i1r) - 1),2);}Z1r.Studies.MA("simple",X1r.days,"_PD2 " + X1r.name,0,M1T,V1r,X1r);for(v1r=Math.max(X1r.startFrom,2 * (X1r.days - 1));v1r < B1r.length;v1r++){t1T="Resu";t1T+="lt ";C1r=B1r[v1r]["_MA " + X1r.name];if(C1r || C1r === 0){B1r[v1r][t1T + X1r.name]=Math.sqrt(C1r);}}};Z1r.Studies.studyLibrary=Z1r.extend(Z1r.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:Z1r.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};X7J=N1r=>{var R1r,x1T;R1r=typeof _CIQ !== "undefined"?_CIQ:N1r.CIQ;if(!R1r.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {x1T="a";x1T+="u";x1T+="t";x1T+="o";R1r.Studies.calculateUltimateOscillator=function(Y9r,I1r){var Z24=M211;var T1T,D1r,G1r,k9r,u9r,q9r,j9r,T9r,o9r,O9r,g9r,d9r,L9r,z9r,r9r,A9r,c9r;T1T="Cycle";T1T+=" 1";D1r=I1r.chart.scrubbed;G1r=[I1r.inputs[T1T],I1r.inputs["Cycle 2"],I1r.inputs["Cycle 3"]];k9r=Math.max(G1r[0],G1r[1],G1r["2" * 1]);if(D1r.length < k9r + 1){I1r.error=! !"1";return;}Z24.U5h(3);var X9I=Z24.m5h(9,8,0);u9r=G1r["0" | 0] * G1r[X9I];Z24.U5h(64);var A9I=Z24.m5h(2,4,0,6,3);q9r=G1r[0] * G1r[A9I];Z24.D5h(175);Z24.l65();var b9I=Z24.a5h(817,17,8,0,6);Z24.D5h(5);var R9I=Z24.a5h(20,18);j9r=G1r[b9I] * G1r[R9I];T9r=[0,0,0];o9r=[0,0,0];if(I1r.startFrom){if(D1r[I1r.startFrom - +"1"]["_accbp " + I1r.name]){T9r=D1r[I1r.startFrom - 1]["_accbp " + I1r.name].slice();}if(D1r[I1r.startFrom - 1]["_acctr " + I1r.name]){o9r=D1r[I1r.startFrom - +"1"]["_acctr " + I1r.name].slice();}}for(var p1r=Math.max(1,I1r.startFrom);p1r < D1r.length;p1r++){O9r=Math.min(D1r[p1r].Low,D1r[p1r - 1].Close);g9r=D1r[p1r].Close - O9r;Z24.U5h(14);var e9I=Z24.m5h(10,9);d9r=Math.max(D1r[p1r].High,D1r[p1r - e9I].Close) - O9r;for(var x9r=+"0";x9r < G1r.length;x9r++){T9r[x9r]+=g9r;o9r[x9r]+=d9r;if(p1r > G1r[x9r]){L9r=Math.min(D1r[p1r - G1r[x9r]].Low,D1r[p1r - G1r[x9r] - 1].Close);z9r=D1r[p1r - G1r[x9r]].Close - L9r;Z24.D5h(3);var z9I=Z24.m5h(8,7,0);r9r=Math.max(D1r[p1r - G1r[x9r]].High,D1r[p1r - G1r[x9r] - z9I].Close) - L9r;T9r[x9r]-=z9r;o9r[x9r]-=r9r;}}D1r[p1r]["_accbp " + I1r.name]=T9r.slice();D1r[p1r]["_acctr " + I1r.name]=o9r.slice();if(p1r < k9r)continue;Z24.U5h(44);var Y9I=Z24.a5h(5,5,15,6);Z24.D5h(116);var F2I=Z24.m5h(7,11,46,16,13);Z24.D5h(137);var I2I=Z24.m5h(0,28,13,13);Z24.U5h(5);var o2I=Z24.a5h(7,5);A9r=j9r * T9r[0] / o9r[0] + q9r * T9r[Y9I] / o9r["1" * F2I] + u9r * T9r[I2I] / o9r[o2I];Z24.D5h(86);c9r=Z24.a5h(q9r,j9r,u9r);Z24.D5h(111);D1r[p1r]["Result " + I1r.name]=Z24.m5h(A9r,c9r,100);}};R1r.Studies.studyLibrary=R1r.extend(R1r.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:R1r.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:x1T,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};v7J=m9r=>{var f9r,L1T,z1T,e1T,R1T,b1T;M211.l65();f9r=typeof _CIQ !== "undefined"?_CIQ:m9r.CIQ;if(!f9r.Studies){L1T="valuationLines f";L1T+="eature requires first activating studies feature.";console.error(L1T);}else {z1T="#";z1T+="8";z1T+="5c99";z1T+="e";e1T="harmo";e1T+="ni";e1T+="c";R1T="fiel";R1T+="d";b1T="V";b1T+="alua";b1T+="tion L";b1T+="ines";f9r.Studies.calculateValuationLines=function(t9r,F9r,U9r){var C24=M211;var H1T,s9r,X9r,Z9r,w9r,M9r,S9r,P9r,y9r,e9r,J9r,a9r,l9r,Q9r;H1T="f";H1T+="ield";s9r=F9r.inputs.Field == H1T?"Close":F9r.inputs.Field;X9r=F9r.inputs["Average Type"];Z9r=F9r.inputs["Display Average"];w9r=F9r.inputs["Display 1 Standard Deviation (1\u03C3)"];M9r=F9r.inputs["Display 2 Standard Deviation (2\u03C3)"];S9r=F9r.inputs["Display 3 Standard Deviation (3\u03C3)"];P9r=[];for(var n9r=+"0";n9r < U9r.length;++n9r){if(U9r[n9r] && !isNaN(U9r[n9r][s9r])){P9r.push(U9r[n9r][s9r]);}}y9r=(function(V9r,K9r){var U1T,v9r,i9r,C9r,B9r,h9r,E9r;U1T="m";U1T+="ed";U1T+="ian";v9r=V9r.length;i9r=0;C9r=0;C24.l65();B9r=0;switch(K9r){case "mean":C9r=v9r;for(;B9r < v9r;++B9r){i9r+=V9r[B9r];}break;case "harmonic":i9r=v9r;for(;B9r < v9r;++B9r){C24.U5h(30);var k2I=C24.m5h(16,15,1);C9r+=k2I / V9r[B9r];}break;case U1T:C24.D5h(7);h9r=Math.floor(C24.a5h(v9r,2));E9r=V9r.slice().sort(function(W9r,H9r){if(W9r > H9r){return 1;}C24.H65();if(W9r < H9r){return -1;}return 0;});if(v9r % 2 === 0){C24.U5h(176);var Z2I=C24.m5h(20,9,123,9,17);i9r=E9r[h9r] + E9r[h9r - Z2I];C9r=2;}else {i9r=E9r[h9r];C24.U5h(40);C9r=C24.m5h("1",2030316896);}break;}C24.U5h(7);return C24.m5h(i9r,C9r);})(P9r,X9r);e9r=!(w9r || M9r || S9r) || (function(D9r,I9r){C24.H65();var R9r,N9r;R9r=D9r.length;N9r=0;for(var b9r=+"0";b9r < R9r;++b9r){N9r+=Math.pow(D9r[b9r] - I9r,2);}C24.D5h(7);return Math.sqrt(C24.m5h(N9r,R9r));})(P9r,y9r);F9r.data={Average:Z9r?[y9r]:null,"1 Standard Deviation (1\u03C3)":w9r?[y9r + e9r,y9r - e9r]:null,"2 Standard Deviation (2\u03C3)":M9r?[y9r + e9r * 2,y9r - e9r * 2]:null,"3 Standard Deviation (3\u03C3)":S9r?[y9r + e9r * 3,y9r - e9r * 3]:null};J9r=e9r;if(!F9r.parameters){F9r.parameters={};}if(S9r){C24.U5h(177);F9r.parameters.range=[C24.m5h(y9r,J9r,e9r,3),C24.m5h("3",y9r,J9r,e9r,C24.U5h(178))];}else if(M9r){C24.U5h(177);F9r.parameters.range=[C24.m5h(y9r,J9r,e9r,2),C24.m5h("2",y9r,J9r,e9r,C24.U5h(178))];}else if(w9r){C24.D5h(37);F9r.parameters.range=[C24.m5h(e9r,J9r,y9r),C24.a5h(e9r,y9r,J9r,C24.D5h(86))];}else if(Z9r){C24.U5h(5);F9r.parameters.range=[C24.m5h(y9r,J9r),C24.m5h(J9r,y9r,C24.D5h(1))];}if(F9r.panel){a9r=t9r.panels[F9r.panel];l9r=t9r.getYAxisByName(a9r,F9r.name);if(l9r){l9r.decimalPlaces=a9r.chart.yAxis.printDecimalPlaces;Q9r={yAxis:l9r};t9r.calculateYAxisRange(a9r,l9r,F9r.parameters.range[0],F9r.parameters.range[1]);t9r.createYAxis(a9r,Q9r);t9r.drawYAxis(a9r,Q9r);}}};f9r.Studies.displayValuationLines=function(G9r,T8r){var d24=M211;var D1T,p9r,o8r,u8r,O8r,F8r,y8r,e8r,q8r,j8r,L8r,z8r,r8r,A8r,c8r,g8r,d8r,x8r,Y8r,J8r,f8r,A1T,X1T,m8r;D1T="Ave";D1T+="rag";D1T+="e Ty";D1T+="pe";p9r=G9r.panels[T8r.panel];o8r=T8r.getYAxis(G9r);u8r=T8r.getContext(G9r);O8r=T8r.data;F8r=T8r.parameters.labels;y8r=T8r.inputs[D1T];e8r={mean:"AVG",median:"MED",harmonic:"HAVG"};q8r=G9r.canvasStyle("ciq-valuation-average-line");j8r=G9r.canvasStyle("ciq-valuation-deviation-line");L8r=3;d24.U5h(136);var j2I=d24.a5h(14,3,15,209);z8r=G9r.getCanvasFontSize("stx_yaxis") + L8r * j2I;for(var k8r in O8r){if(!O8r[k8r])continue;d24.U5h(179);r8r=d24.m5h(k8r,"Average");A8r=f9r.Studies.determineColor(T8r.outputs[k8r]);c8r=O8r[k8r];for(g8r="0" & 2147483647;g8r < c8r.length;++g8r){A1T="y";A1T+="a";A1T+="x";A1T+="is";X1T="n";X1T+="o";X1T+="n";X1T+="e";d8r=c8r[g8r];x8r=G9r.pixelFromPrice(d8r,p9r,o8r);if(x8r <= p9r.top || x8r >= p9r.yAxis.bottom)continue;f8r=r8r?{pattern:q8r.borderStyle != X1T?q8r.borderStyle || "solid":"solid",lineWidth:parseFloat(q8r.borderWidth) || 1,opacity:parseFloat(q8r.opacity) || 1,yAxis:o8r}:{pattern:j8r.borderStyle != "none"?j8r.borderStyle || "dashed":"dashed",lineWidth:parseFloat(j8r.borderWidth) || 1,opacity:parseFloat(j8r.opacity) || 1,yAxis:o8r};G9r.plotLine(p9r.left,p9r.right,x8r,x8r,A8r,"line",u8r,p9r,f8r);if(F8r === A1T){G9r.createYAxisLabel(p9r,G9r.formatYAxisPrice(d8r,p9r),x8r,A8r,null,u8r,o8r);continue;}x8r+=Math.floor(f8r.lineWidth / 2);if(x8r + z8r >= p9r.yAxis.bottom)continue;Y8r=(r8r?e8r[y8r] + ": ":k8r[0] + "\u03C3: ") + G9r.formatYAxisPrice(d8r,p9r);J8r=u8r.measureText(Y8r).width;m8r=p9r.right - J8r - L8r;if(o8r && o8r.position == "left"){m8r=p9r.left + L8r;}d24.U5h(180);u8r.strokeText(Y8r,m8r,d24.m5h(2,z8r,"0.5",x8r));}}};f9r.Studies.studyLibrary=f9r.extend(f9r.Studies.studyLibrary,{"val lines":{name:b1T,calculateFN:function(){},seriesFN:function(n8r,a8r,t8r){M211.l65();f9r.Studies.calculateValuationLines(n8r,a8r,t8r);f9r.Studies.displayValuationLines(n8r,a8r);},overlay:! ![],yAxisFN:function(){},inputs:{Field:R1T,"Average Type":["mean","median",e1T],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":! !0,"Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":z1T,"3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};B7J=U8r=>{M211.H65();var l8r,w6T,V6T,O6T,d6T;l8r=typeof _CIQ !== "undefined"?_CIQ:U8r.CIQ;if(!l8r.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {w6T="a";w6T+="u";w6T+="t";w6T+="o";V6T="f";V6T+="ie";V6T+="l";V6T+="d";O6T="f";O6T+="ie";O6T+="ld";d6T="H";d6T+="istorical Volatility";l8r.Studies.calculateRelativeVolatility=function(B8r,w8r){var P24=M211;var o6T,I6T,F6T,Y1T,v8r,Z8r,M8r,P8r,s8r,k6T,Z6T,S8r,X8r;o6T="m";o6T+="a";I6T="s";I6T+="d";I6T+="ev";F6T="Cl";F6T+="ose";Y1T="Smoothi";Y1T+="ng Perio";Y1T+="d";w8r.days=Number(w8r.inputs[Y1T]);v8r=Number(w8r.inputs["STD Period"]);Z8r=w8r.chart.scrubbed;if(Z8r.length < w8r.days + v8r){w8r.error=! ![];return;}M8r=w8r.inputs.Field;if(!M8r || M8r == "field"){M8r=F6T;}w8r.std=new l8r.Studies.StudyDescriptor(w8r.name,I6T,w8r.panel);w8r.std.chart=w8r.chart;P24.l65();w8r.std.days=v8r;function i8r(C8r,V8r){if(C8r + V8r === 0){P24.D5h(22);return P24.a5h("100",1731829120);}P24.U5h(139);return P24.m5h(100,C8r,V8r,C8r);}w8r.std.startFrom=w8r.startFrom;w8r.std.inputs={Field:M8r,"Standard Deviations":1,Type:o6T};w8r.std.outputs={_STD:null};l8r.Studies.calculateStandardDeviation(B8r,w8r.std);P8r=0;s8r=0;if(w8r.startFrom > 1){k6T="_";k6T+="av";k6T+="g";k6T+="G ";P8r=Z8r[w8r.startFrom - 1][k6T + w8r.name] || +"0";s8r=Z8r[w8r.startFrom - 1]["_avgL " + w8r.name] || 0;}for(var Q8r=Math.max(w8r.startFrom,w8r.days);Q8r < Z8r.length;Q8r++){Z6T="_STD";Z6T+=" ";S8r=Z8r[Q8r];P24.U5h(5);X8r=Z8r[P24.a5h(Q8r,1)];if(!S8r[M8r] && S8r[M8r] !== 0)continue;if(!X8r[M8r] && X8r[M8r] !== 0)continue;if(!S8r[Z6T + w8r.name] && S8r["_STD " + w8r.name] !== 0)continue;if(S8r[M8r] > X8r[M8r]){P24.U5h(181);var E2I=P24.m5h(11,1,2,6,5);P8r=(P8r * (w8r.days - E2I) + S8r["_STD " + w8r.name]) / w8r.days;P24.U5h(3);var a2I=P24.m5h(8,7,0);s8r=s8r * (w8r.days - a2I) / w8r.days;}else {P24.D5h(65);var C2I=P24.a5h(61,0,10,15,6);s8r=(s8r * (w8r.days - C2I) + S8r["_STD " + w8r.name]) / w8r.days;P24.D5h(43);var P2I=P24.m5h(4,4,20);P8r=P8r * (w8r.days - P2I) / w8r.days;}S8r["Rel Vol " + w8r.name]=i8r(P8r,s8r);S8r["_avgG " + w8r.name]=P8r;S8r["_avgL " + w8r.name]=s8r;}w8r.zoneOutput="Rel Vol";};l8r.Studies.calculateHistoricalVolatility=function(D8r,h8r){var X24=M211;X24.H65();var E6T,E8r,b8r,R8r,x5r,H8r,K8r,a6T,P6T,I8r,p8r,C6T,G8r;E6T="Standard ";E6T+="Deviati";E6T+="ons";E8r=h8r.chart.scrubbed;if(E8r.length < h8r.days + 1){h8r.error=! ![];return;}b8r=h8r.inputs.Field;function T5r(o5r){var j6T;j6T="m";j6T+="o";j6T+="nt";j6T+="h";if(isNaN(o5r)){o5r=365;}if(D8r.layout.interval == "day"){return o5r;}else if(D8r.layout.interval == "week"){return 52;}else if(D8r.layout.interval == j6T){return 12;}X24.l65();return o5r;}if(!b8r || b8r == "field"){b8r="Close";}R8r=h8r.inputs[E6T];if(R8r < 0){R8r=1;}x5r=+"100" * Math.sqrt(T5r(h8r.inputs["Days Per Year"])) * R8r;H8r=[];K8r=0;if(h8r.startFrom > 1){a6T="_s";a6T+="t";a6T+="ate";a6T+=" ";X24.D5h(0);var d2I=X24.a5h(11,6,6);K8r=E8r[h8r.startFrom - d2I][a6T + h8r.name][0];H8r=E8r[h8r.startFrom - 1]["_state " + h8r.name][1].slice();}for(var W8r=Math.max(1,h8r.startFrom);W8r < E8r.length;W8r++){P6T="_";P6T+="sta";P6T+="te ";X24.D5h(20);I8r=E8r[X24.m5h(W8r,1,"1")][b8r];if(I8r){p8r=Math.log(E8r[W8r][b8r] / I8r);H8r.push(p8r);K8r+=p8r;if(W8r >= h8r.days){C6T="Re";C6T+="sul";C6T+="t ";G8r=0;K8r/=h8r.days;for(var N8r=0;N8r < H8r.length;N8r++){G8r+=Math.pow(H8r[N8r] - K8r,2);}K8r*=h8r.days;K8r-=H8r.shift();E8r[W8r][C6T + h8r.name]=Math.sqrt(G8r / h8r.days) * x5r;}}E8r[W8r][P6T + h8r.name]=[K8r,H8r.slice()];}};l8r.Studies.studyLibrary=l8r.extend(l8r.Studies.studyLibrary,{"Hist Vol":{name:d6T,calculateFN:l8r.Studies.calculateHistoricalVolatility,inputs:{Period:+"10",Field:O6T,"Days Per Year":[252,365],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:l8r.Studies.calculateRelativeVolatility,inputs:{Field:V6T,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" << 1760265888,studyOverSoldColor:w6T}}}});}};i7J=u5r=>{var k5r,c6T,m6T;k5r=typeof _CIQ !== "undefined"?_CIQ:u5r.CIQ;M211.l65();if(!k5r.Studies){c6T="volumeProfile feature requires first activ";c6T+="ating";c6T+=" studies feature.";console.error(c6T);}else {m6T="Volume P";m6T+="ro";m6T+="file";k5r.Studies.displayVolumeProfile=function(O5r,d5r,S5r){var y94=M211;var N6T,g6T,l6T,g5r,r5r,Y5r,F5r,y5r,l5r,j5r,f5r,L5r,P5r,m5r,c5r,q5r,U5r,w5r,n5r,a5r,z5r,s5r,M5r,Z5r,t5r,q6T;N6T="Bar";N6T+="s ";N6T+="Co";N6T+="lor";g6T="c";g6T+="ol";g6T+="o";g6T+="r";l6T="stx";l6T+="_vo";l6T+="lu";l6T+="me_profile";if(!O5r || !O5r.chart.dataSet){return;}g5r=O5r.chart;r5r=d5r.parameters.numberOfBars;Y5r=d5r.parameters.widthPercentage;F5r=d5r.parameters.displayBorder;y5r=d5r.parameters.displayVolume;if(!r5r || r5r < 0){y94.D5h(13);r5r=y94.a5h(0,"30");}r5r=Math.ceil(r5r);if(!Y5r || Y5r < 0){Y5r=0.25;}if(F5r !== ![]){F5r=! !{};}if(y5r !== ! !{}){y5r=! !0;}l5r=(g5r.highValue - g5r.lowValue) / r5r;if(l5r === 0){return;}function Q5r(b5r,C5r){var h5r,V5r,B5r,v5r,i5r,E5r,K5r,W5r,H5r;if(!C5r){z5r-=2;}t5r.canvasColor(b5r);q5r.beginPath();h5r=j5r[0][0];V5r=z5r;for(var X5r=1;X5r < j5r.length;X5r++){if(j5r[X5r]["1" >> 1754376768]){y94.D5h(30);var O2I=y94.a5h(4,3,1);B5r=Math.round(z5r - j5r[X5r][O2I] * s5r / f5r) - +"0.5";v5r=Math.round(t5r.pixelFromTransformedValue(h5r,n5r)) + 0.5;i5r=Math.round(t5r.pixelFromTransformedValue(j5r[X5r][0],n5r)) + 0.5;if(!C5r){v5r-=+"0.5";i5r+=0.5;y94.D5h(5);B5r+=y94.m5h("0.5",0);}if(v5r > a5r){v5r=a5r;}if(i5r < a5r){q5r.moveTo(z5r,v5r);q5r.lineTo(z5r,i5r);q5r.lineTo(B5r,i5r);q5r.lineTo(B5r,v5r);if(C5r){if(V5r > B5r || X5r == 1){q5r.lineTo(V5r,v5r);};}else {q5r.lineTo(z5r,v5r);if(y5r){E5r=k5r.condenseInt(j5r[X5r][1]);y94.U5h(5);K5r=y94.m5h(v5r,i5r);if(w5r <= K5r - 2){try{W5r=q5r.measureText(E5r).width;}catch(R5r){W5r=0;}q5r.textBaseline="top";H5r=q5r.fillStyle;q5r.fillStyle=M5r;y94.U5h(37);q5r.fillText(E5r,y94.a5h(W5r,3,B5r),y94.m5h(2,K5r,2,i5r,w5r,y94.U5h(182)));q5r.fillStyle=H5r;}}}}V5r=B5r;}else {V5r=z5r;;}h5r=j5r[X5r][0];}if(!d5r.highlight && O5r.highlightedDraggable){q5r.globalAlpha*=+"0.3";}if(!C5r){q5r.fill();}q5r.strokeStyle=M5r;if(C5r){q5r.stroke();}q5r.closePath();}j5r=[];for(var e5r=g5r.lowValue;e5r < g5r.highValue + 0.1;e5r+=l5r){j5r.push([e5r,+"0"]);}if(j5r.length < ("2" & 2147483647)){O5r.displayErrorAsWatermark("chart",O5r.translateIf("Not enough data to render the Volume Profile"));return;}f5r=0;for(var J5r=+"0";J5r < S5r.length;J5r++){L5r=S5r[J5r];if(!L5r)continue;P5r=L5r.Volume;if(d5r.panel == g5r.name && L5r.transform){L5r=L5r.transform;}m5r=j5r[0][0];y94.D5h(40);c5r=y94.a5h("0",404685856);for(var A5r=1;A5r < j5r.length;A5r++){y94.D5h(13);c5r=j5r[A5r][y94.m5h(0,"0")];if(L5r.Low >= m5r && L5r.Low <= c5r || L5r.Low < m5r && L5r.High > c5r || L5r.High >= m5r && L5r.High <= c5r){j5r[A5r][1]+=P5r;if(j5r[A5r][1] > f5r){f5r=j5r[A5r][1];}}m5r=c5r;}}if(f5r === 0){O5r.displayErrorAsWatermark("chart",O5r.translateIf("Not enough data to render the Volume Profile"));return;}O5r.setStyle(l6T,g6T,k5r.Studies.determineColor(d5r.outputs[N6T]));q5r=d5r.getContext(O5r);U5r="stx-float-date";O5r.canvasFont(U5r,q5r);w5r=O5r.getCanvasFontSize(U5r);n5r=g5r.panel;a5r=n5r.yAxis.bottom;z5r=Math.round(g5r.right) - 0.5;s5r=g5r.width * Y5r;M5r=O5r.canvasStyle("stx_volume_profile").borderTopColor;Z5r=!k5r.isTransparent(O5r.canvasStyle("stx_volume_profile").borderTopColor) && F5r;t5r=O5r;Q5r("stx_volume_profile",! !"");if(Z5r){q6T="stx_";q6T+="volume_pro";q6T+="file";Q5r(q6T,!"");}q5r.globalAlpha=1;};k5r.Studies.studyLibrary=k5r.extend(k5r.Studies.studyLibrary,{"vol profile":{name:m6T,underlay:! !1,seriesFN:k5r.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:! !1,displayVolume:!1,numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:!0},flippedEnabled:{hidden:! ![]}}}});}};C7J=D5r=>{M211.H65();var N5r,u6T,S6T,p6T,f6T,i6T,W6T,y6T,K6T,n6T;N5r=typeof _CIQ !== "undefined"?_CIQ:D5r.CIQ;if(!N5r.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {u6T="0 t";u6T+="o";u6T+=" ma";u6T+="x";S6T="Vo";S6T+="lume Underlay";p6T="Trade";p6T+=" ";p6T+="Volume Index";f6T="fiel";f6T+="d";i6T="Price Volu";i6T+="me T";i6T+="rend";W6T="au";W6T+="t";W6T+="o";y6T="m";y6T+="a";K6T="On Ba";K6T+="la";K6T+="nc";K6T+="e Volume";n6T="Nega";n6T+="tive Volum";n6T+="e Index";N5r.Studies.calculateOnBalanceVolume=function(O4r,G5r){var I5r,x4r,j4r,o4r,k4r,T4r,u4r,q4r;I5r=G5r.inputs.Field;if(!I5r || I5r == "field"){I5r="Close";}x4r=G5r.inputs["Min Tick Value"];M211.l65();j4r=! !0;if(!x4r && x4r !== +"0"){j4r=! !"1";x4r=0;}o4r=G5r.chart.scrubbed;k4r=+"0";for(var p5r=G5r.startFrom;p5r < o4r.length;p5r++){T4r=o4r[p5r];if(!p5r || !T4r[I5r])continue;if(o4r[p5r - 1][I5r]){M211.D5h(5);u4r=o4r[M211.m5h(p5r,1)];}if(!u4r)continue;if(T4r[I5r] - u4r[I5r] > x4r){k4r=1;}else if(u4r[I5r] - T4r[I5r] > x4r){k4r=-1;}else if(j4r){k4r=0;}q4r=u4r["Result " + G5r.name];if(!q4r){q4r=0;}q4r+=T4r.Volume * k4r;T4r["Result " + G5r.name]=q4r;}};N5r.Studies.calculatePriceVolumeTrend=function(A4r,z4r){var i94=M211;var J6T,G6T,d4r,L4r,r4r,h8Y,n8Y,K8Y,B6T;J6T="C";J6T+="lose";G6T="fi";G6T+="e";G6T+="l";G6T+="d";d4r=z4r.inputs.Field;if(!d4r || d4r == G6T){d4r=J6T;}L4r=z4r.chart.scrubbed;i94.l65();r4r=0;if(z4r.startFrom > ("1" | 0)){h8Y=-45562099;n8Y=1799669781;K8Y=2;for(var W8Y=1;i94.a4Y(W8Y.toString(),W8Y.toString().length,30369) !== h8Y;W8Y++){i94.U5h(1);var V2I=i94.a5h(9,0);r4r=L4r[z4r.startFrom / V2I]["" % z4r.name];K8Y+=2;}if(i94.a4Y(K8Y.toString(),K8Y.toString().length,44897) !== n8Y){i94.U5h(183);var w2I=i94.a5h(197,17,6,14,11);r4r=L4r[z4r.startFrom - w2I]["Result " + z4r.name];}}for(var g4r=Math.max(1,z4r.startFrom);g4r < L4r.length;g4r++){B6T="R";B6T+="esu";B6T+="lt ";if(!L4r[g4r][d4r])continue;if(!L4r[g4r - 1][d4r])continue;i94.U5h(92);var c2I=i94.m5h(0,5,101,20);i94.U5h(110);var l2I=i94.a5h(7,10,10,7,1);r4r+=L4r[g4r].Volume * (L4r[g4r][d4r] - L4r[g4r - c2I][d4r]) / L4r[g4r - l2I][d4r];L4r[g4r][B6T + z4r.name]=r4r;}};N5r.Studies.calculateVolumeIndex=function(a4r,c4r){var S94=M211;var r6T,s6T,y4r,Y4r,e4r,h6T,m4r,J4r,F4r,n4r;r6T="Inde";r6T+="x ";s6T="f";s6T+="i";s6T+="e";s6T+="ld";y4r=c4r.inputs.Field;if(!y4r || y4r == s6T){y4r="Close";}S94.l65();Y4r=c4r.chart.scrubbed;if(Y4r.length < c4r.days + 1){c4r.error=!"";return;}e4r=100;if(c4r.startFrom > 1){S94.U5h(114);var g2I=S94.m5h(5,18,14);e4r=Y4r[c4r.startFrom - g2I][r6T + c4r.name];}for(var f4r=Math.max(1,c4r.startFrom);f4r < Y4r.length;f4r++){h6T="Neg";h6T+=" ";h6T+="V";h6T+="ol";m4r=Y4r[f4r][y4r];J4r=Y4r[f4r].Volume;if(m4r && typeof m4r == "object"){J4r=m4r.Volume;m4r=m4r[c4r.subField];}S94.D5h(184);F4r=Y4r[S94.m5h(2147483647,"1",f4r)][y4r];n4r=Y4r[f4r - 1].Volume;if(F4r && typeof F4r == "object"){n4r=F4r.Volume;F4r=F4r[c4r.subField];}if(!m4r)continue;if(!F4r)continue;if(c4r.type == "Pos Vol" && J4r > n4r || c4r.type == h6T && J4r < n4r){S94.D5h(7);e4r*=S94.a5h(m4r,F4r);}Y4r[f4r]["Index " + c4r.name]=e4r;}N5r.Studies.MA(c4r.inputs["Moving Average Type"],c4r.days,"Index " + c4r.name,"0" << 1787770272,"MA",a4r,c4r);};N5r.Studies.studyLibrary=N5r.extend(N5r.Studies.studyLibrary,{"Neg Vol":{name:n6T,calculateFN:N5r.Studies.calculateVolumeIndex,inputs:{Period:"255" * 1,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:K6T,calculateFN:N5r.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:N5r.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":y6T},outputs:{Index:W6T,MA:"#FF0000"}},"Price Vol":{name:i6T,calculateFN:N5r.Studies.calculatePriceVolumeTrend,inputs:{Field:f6T}},"Trade Vol":{name:p6T,calculateFN:N5r.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(t4r,l4r){M211.H65();if(N5r.Studies.calculateRateOfChange){N5r.Studies.calculateRateOfChange(t4r,l4r);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");N5r.Studies.calculateRateOfChange=function(U4r,w4r){};}},parameters:{init:{isVolume:! !1}}},"vol undr":{name:S6T,underlay:! ![],range:u6T,yAxis:{ground:! !1,initialMarginTop:0,position:"none",zoom:+"0",heightFactor:0.25},seriesFN:N5r.Studies.createVolumeChart,calculateFN:N5r.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! ![],removeFN:function(M4r,S4r){M211.H65();M4r.layout.volumeUnderlay=![];M4r.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};V7J=s4r=>{var P4r,Q6T;P4r=typeof _CIQ !== "undefined"?_CIQ:s4r.CIQ;if(!P4r.Studies){console.error("vortex feature requires first activating studies feature.");}else {Q6T="Vor";Q6T+="tex ";Q6T+="Indicator";P4r.Studies.calculateVortex=function(K4r,Z4r){var E94=M211;var B4r,i4r,c4Y,l4Y,g4Y,Q4r,X4r,C4r,V4r,h4r,E4r,v6T;B4r=Z4r.chart.scrubbed;i4r=Z4r.days;if(B4r.length < i4r + 1){c4Y=1790266749;l4Y=-1483838034;g4Y=2;for(var q4Y=1;E94.a4Y(q4Y.toString(),q4Y.toString().length,+"79536") !== c4Y;q4Y++){Z4r.error=! !0;g4Y+=2;}if(E94.a4Y(g4Y.toString(),g4Y.toString().length,+"11935") !== l4Y){Z4r.error=! !{};}Z4r.error=! !"1";return;}Q4r={tr:0,vmPlus:"0" | 0,vmMinus:0};if(Z4r.startFrom > 1){Q4r=P4r.clone(B4r[Z4r.startFrom - ("1" - 0)]["_totals " + Z4r.name]);}for(var v4r=Math.max(Z4r.startFrom,1);v4r < B4r.length;v4r++){X4r=B4r[v4r];E94.U5h(5);C4r=B4r[E94.m5h(v4r,1)];V4r=Math.abs(X4r.High - C4r.Low);h4r=Math.abs(X4r.Low - C4r.High);E4r=Math.max(X4r.High,C4r.Close) - Math.min(X4r.Low,C4r.Close);Q4r.tr+=E4r;Q4r.vmPlus+=V4r;Q4r.vmMinus+=h4r;if(v4r > i4r){v6T="_";v6T+="V";v6T+="MPlus ";E94.U5h(5);Q4r.tr-=B4r[E94.m5h(v4r,i4r)]["_True Range " + Z4r.name];E94.D5h(5);Q4r.vmPlus-=B4r[E94.a5h(v4r,i4r)][v6T + Z4r.name];E94.D5h(5);Q4r.vmMinus-=B4r[E94.m5h(v4r,i4r)]["_VMMinus " + Z4r.name];}X4r["_True Range " + Z4r.name]=E4r;X4r["_VMPlus " + Z4r.name]=V4r;X4r["_VMMinus " + Z4r.name]=h4r;if(v4r >= i4r){X4r["+VI " + Z4r.name]=Q4r.vmPlus / Q4r.tr;X4r["-VI " + Z4r.name]=Q4r.vmMinus / Q4r.tr;}X4r["_totals " + Z4r.name]=P4r.clone(Q4r);}};P4r.Studies.studyLibrary=P4r.extend(P4r.Studies.studyLibrary,{Vortex:{name:Q6T,calculateFN:P4r.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};h7J=H4r=>{var W4r,M6T;W4r=typeof _CIQ !== "undefined"?_CIQ:H4r.CIQ;M211.H65();if(!W4r.Studies){M6T="williamsMFI";M6T+=" feature requires first activating studies feature.";console.error(M6T);}else {W4r.Studies.calculateMFI=function(x6L,b4r){var R4r,p4r,D4r,I4r,G4r,N4r;R4r=b4r.chart.scrubbed;D4r=0;I4r=b4r.inputs["Scale Factor"];if(!I4r){I4r=b4r.study.inputs["Scale Factor"];}G4r=Math.pow(10,Number(I4r));if(b4r.startFrom > 1){M211.U5h(3);var N2I=M211.a5h(7,26,20);D4r=R4r[b4r.startFrom - N2I]["_high " + b4r.name];}for(N4r=b4r.startFrom;N4r < R4r.length;N4r++){if(!R4r[N4r])continue;if(R4r[N4r].Volume){R4r[N4r][b4r.name + "_hist"]=p4r=G4r * (R4r[N4r].High - R4r[N4r].Low) / R4r[N4r].Volume;R4r[N4r]["_high " + b4r.name]=D4r=Math.max(D4r,p4r);}}b4r.outputMap={};b4r.outputMap[b4r.name + "_hist"]="";};W4r.Studies.displayMFI=function(o6L,T6L,g6L){var t6T,d6L,q6L,L6L,z6L,O6L,r6L,A6L,c6L,Y6L,x6T,T6T,k6L,u6L;t6T="st";t6T+="x_h";t6T+="i";t6T+="stogram";d6L=o6L.panels[T6L.panel];q6L=T6L.getContext(o6L);L6L=T6L.getYAxis(o6L);z6L=L6L.flipped?L6L.top:L6L.bottom;M211.l65();O6L=o6L.layout.candleWidth - +"2";if(O6L < 2){O6L=1;}r6L=W4r.Studies.determineColor(T6L.outputs.Green);A6L=W4r.Studies.determineColor(T6L.outputs.Fade);c6L=W4r.Studies.determineColor(T6L.outputs.Fake);Y6L=W4r.Studies.determineColor(T6L.outputs.Squat);o6L.canvasColor(t6T);if(!T6L.underlay){q6L.globalAlpha=1;}q6L.fillStyle="#CCCCCC";o6L.startClip(T6L.panel);if(!T6L.highlight && o6L.highlightedDraggable){q6L.globalAlpha*=0.3;}for(var j6L=0;j6L < g6L.length;j6L++){x6T="_";x6T+="hist";T6T="_hi";T6T+="st";k6L=g6L[j6L];M211.U5h(5);u6L=g6L[M211.a5h(j6L,1)];if(!u6L){u6L=o6L.getPreviousBar(o6L.chart,T6L.name + "_hist",j6L);}if(!k6L)continue;if(!u6L);else if(u6L[T6L.name + "_hist"] < k6L[T6L.name + "_hist"]){if(u6L.Volume < k6L.Volume){q6L.fillStyle=r6L;}else if(u6L.Volume > k6L.Volume){q6L.fillStyle=c6L;}}else if(u6L[T6L.name + "_hist"] > k6L[T6L.name + T6T]){if(u6L.Volume < k6L.Volume){q6L.fillStyle=Y6L;}else if(u6L.Volume > k6L.Volume){q6L.fillStyle=A6L;}}if(k6L.candleWidth){O6L=Math.floor(Math.max(1,k6L.candleWidth - 2));}q6L.fillRect(Math.floor(o6L.pixelFromBar(j6L,d6L.chart) - O6L / +"2"),Math.floor(z6L),Math.floor(O6L),Math.floor(o6L.pixelFromPrice(k6L[T6L.name + x6T],d6L,L6L) - z6L));}o6L.endClip();};W4r.Studies.studyLibrary=W4r.extend(W4r.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:W4r.Studies.displayMFI,calculateFN:W4r.Studies.calculateMFI,yAxis:{ground:! ![]},range:"0 to max",inputs:{"Scale Factor":"6" * 1},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};b7J={CIQ:t2J,SplinePlotter:E7J,timezoneJS:K7J,$$:W7J,$$$:H7J};M211.H65();export {l2J as aggregations};export {U2J as drawingAdvanced};export {w2J as equationsAdvanced};export {M2J as highPerformanceMarkers};export {S2J as renderersAdvanced};export {P2J as accumulationDistribution};export {s2J as adx};export {Z2J as alligator};export {Q2J as aroon};export {X2J as atr};export {v2J as awesomeOscillator};export {B2J as balanceOfPower};export {i2J as bollinger};export {C2J as cci};export {V2J as centerOfGravity};export {h2J as chaikin};export {E2J as chande};export {K2J as choppiness};export {W2J as comparisonStudies};export {H2J as coppock};export {b2J as darvasBox};export {R2J as detrended};export {N2J as disparity};export {D2J as easeOfMovement};export {I2J as ehlerFisher};export {p2J as elder};export {G2J as fractalChaos};export {x7J as highLowStudies};export {T7J as ichimoku};export {o7J as intradayMomentum};export {k7J as keltner};export {u7J as klinger};export {q7J as linearRegression};export {j7J as macd};export {O7J as massIndex};export {L7J as moneyFlow};export {g7J as movingAverages};export {d7J as parabolicSAR};export {z7J as pivotPoints};export {r7J as prettyGoodOscillator};export {A7J as priceMomentumOscillator};export {c7J as priceVolumeOscillator};export {Y7J as primeNumber};export {f7J as pring};export {m7J as projectedVolume};export {F7J as psychologicalLine};export {y7J as qstick};export {e7J as rainbow};export {J7J as randomWalk};export {n7J as relativeVigor};export {a7J as rsi};export {t7J as schaffTrendCycle};export {l7J as shinohara};export {U7J as stochastics};export {w7J as supertrend};export {M7J as swingIndex};export {S7J as trendIntensity};export {P7J as trix};export {s7J as twiggsMoneyFlow};export {Z7J as typicalPrice};export {Q7J as ulcerIndex};export {X7J as ultimateOscillator};export {v7J as valuationLines};export {B7J as volatilityIndex};export {i7J as volumeProfile};export {C7J as volumeStudies};export {V7J as vortex};export {h7J as williamsMFI};export {t2J as CIQ, E7J as SplinePlotter, K7J as timezoneJS, W7J as $$, H7J as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(b7J.CIQ || t2J).activateImports(l2J,U2J,w2J,M2J,S2J,P2J,s2J,Z2J,Q2J,X2J,v2J,B2J,i2J,C2J,V2J,h2J,E2J,K2J,W2J,H2J,b2J,R2J,N2J,D2J,I2J,p2J,G2J,x7J,T7J,o7J,k7J,u7J,q7J,j7J,O7J,L7J,g7J,d7J,z7J,r7J,A7J,c7J,Y7J,f7J,m7J,F7J,y7J,e7J,J7J,n7J,a7J,t7J,l7J,U7J,w7J,M7J,S7J,P7J,s7J,Z7J,Q7J,X7J,v7J,B7J,i7J,C7J,V7J,h7J,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

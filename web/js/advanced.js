/**
 *	8.4.0
 *	Generation date: 2021-11-02T14:04:28.074Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2022/01/31"
 *	Domain lock: ["127.0.0.1","localhost","demo.chartiq.com","10.0.2.2"]
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
a2ww[143108]=(function(){var D=2;for(;D !== 9;){switch(D){case 1:return globalThis;break;case 2:D=typeof globalThis === '\x6f\u0062\u006a\u0065\u0063\u0074'?1:5;break;case 5:var I;try{var R=2;for(;R !== 6;){switch(R){case 9:delete I['\u0075\u0037\x51\x43\u005f'];var S=Object['\u0070\u0072\u006f\x74\x6f\u0074\x79\x70\x65'];delete S['\x78\x4d\x56\x54\u0063'];R=6;break;case 3:throw "";R=9;break;case 4:R=typeof u7QC_ === '\u0075\u006e\u0064\u0065\u0066\u0069\u006e\u0065\u0064'?3:9;break;case 2:Object['\x64\x65\u0066\x69\x6e\u0065\x50\u0072\u006f\u0070\x65\u0072\x74\x79'](Object['\u0070\x72\x6f\x74\u006f\x74\u0079\u0070\u0065'],'\x78\x4d\x56\x54\x63',{'\x67\x65\x74':function(){var H=2;for(;H !== 1;){switch(H){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});I=xMVTc;I['\u0075\x37\u0051\u0043\u005f']=I;R=4;break;}}}catch(E){I=window;}return I;break;}}})();a2ww[189827]=j2II(a2ww[143108]);a2ww[265354]=s2PP(a2ww[143108]);a2ww.x5m=function(){return typeof a2ww[284415].Z5m === 'function'?a2ww[284415].Z5m.apply(a2ww[284415],arguments):a2ww[284415].Z5m;};a2ww.z5m=function(){return typeof a2ww[284415].Q5m === 'function'?a2ww[284415].Q5m.apply(a2ww[284415],arguments):a2ww[284415].Q5m;};function a2ww(){}a2ww[351032]=false;a2ww[546781]="v7k";a2ww.U5m=function(){return typeof a2ww[284415].Q5m === 'function'?a2ww[284415].Q5m.apply(a2ww[284415],arguments):a2ww[284415].Q5m;};a2ww.P89=function(){return typeof a2ww[404716].f3G === 'function'?a2ww[404716].f3G.apply(a2ww[404716],arguments):a2ww[404716].f3G;};a2ww.y89=function(){return typeof a2ww[404716].f3G === 'function'?a2ww[404716].f3G.apply(a2ww[404716],arguments):a2ww[404716].f3G;};a2ww.b9e=function(){return typeof a2ww[362713].g6z === 'function'?a2ww[362713].g6z.apply(a2ww[362713],arguments):a2ww[362713].g6z;};a2ww[143108].T9II=a2ww;function s2PP(v9e){function I8e(B9e){var y9e=2;for(;y9e !== 5;){switch(y9e){case 2:var l9e=[arguments];return l9e[0][0].Function;break;}}}function h8e(S9e){var J9e=2;for(;J9e !== 5;){switch(J9e){case 2:var m9e=[arguments];return m9e[0][0].RegExp;break;}}}var D9e=2;for(;D9e !== 55;){switch(D9e){case 28:G9e[39]+=G9e[48];G9e[39]+=G9e[54];G9e[84]=G9e[47];G9e[84]+=G9e[93];D9e=41;break;case 2:var G9e=[arguments];G9e[8]="O";G9e[6]="";G9e[6]="A";G9e[5]="";D9e=9;break;case 37:G9e[18]=G9e[56];G9e[18]+=G9e[48];G9e[18]+=G9e[54];G9e[79]=G9e[1];D9e=52;break;case 60:H8e(h8e,"test",G9e[24],G9e[96]);D9e=59;break;case 9:G9e[5]="ual";G9e[3]="";G9e[3]="_resid";G9e[9]="";D9e=14;break;case 14:G9e[2]="act";G9e[4]="r";G9e[1]="_";G9e[9]="ze";G9e[7]="__abst";G9e[47]="";D9e=19;break;case 48:G9e[96]+=G9e[54];G9e[33]=G9e[8];G9e[33]+=G9e[93];G9e[33]+=G9e[92];D9e=65;break;case 61:H8e(C8e,G9e[30],G9e[57],G9e[33]);D9e=60;break;case 58:H8e(C8e,G9e[46],G9e[57],G9e[84]);D9e=57;break;case 59:H8e(C8e,G9e[79],G9e[57],G9e[18]);D9e=58;break;case 41:G9e[84]+=G9e[92];G9e[46]=G9e[10];G9e[46]+=G9e[99];G9e[46]+=G9e[9];D9e=37;break;case 19:G9e[93]="2P";G9e[10]="__op";G9e[47]="n";G9e[54]="PP";D9e=15;break;case 15:G9e[56]="t";G9e[99]="timi";G9e[17]="";G9e[17]="Z";D9e=24;break;case 56:H8e(I8e,"apply",G9e[24],G9e[26]);D9e=55;break;case 24:G9e[48]="2";G9e[92]="";G9e[92]="P";G9e[85]="";D9e=35;break;case 57:H8e(g8e,"push",G9e[24],G9e[39]);D9e=56;break;case 35:G9e[85]="W2";G9e[24]=1;G9e[57]=0;G9e[26]=G9e[85];G9e[26]+=G9e[92];G9e[26]+=G9e[92];G9e[39]=G9e[17];D9e=28;break;case 62:var H8e=function(N9e,p9e,Z9e,P9e){var r9e=2;for(;r9e !== 5;){switch(r9e){case 2:var x9e=[arguments];j8e(G9e[0][0],x9e[0][0],x9e[0][1],x9e[0][2],x9e[0][3]);r9e=5;break;}}};D9e=61;break;case 52:G9e[79]+=G9e[3];G9e[79]+=G9e[5];G9e[96]=G9e[6];G9e[96]+=G9e[48];D9e=48;break;case 65:G9e[30]=G9e[7];G9e[30]+=G9e[4];G9e[30]+=G9e[2];D9e=62;break;}}function C8e(A9e){var V9e=2;for(;V9e !== 5;){switch(V9e){case 2:var n9e=[arguments];return n9e[0][0];break;}}}function g8e(W9e){var T9e=2;for(;T9e !== 5;){switch(T9e){case 2:var X9e=[arguments];return X9e[0][0].Array;break;}}}function j8e(u9e,t9e,d9e,K9e,k9e){var i9e=2;for(;i9e !== 9;){switch(i9e){case 2:var w9e=[arguments];w9e[6]="d";i9e=5;break;case 5:w9e[5]="erty";w9e[2]="efineProp";try{var a9e=2;for(;a9e !== 8;){switch(a9e){case 2:w9e[9]={};w9e[4]=(1,w9e[0][1])(w9e[0][0]);a9e=5;break;case 5:w9e[3]=[w9e[4],w9e[4].prototype][w9e[0][3]];w9e[9].value=w9e[3][w9e[0][2]];try{var f9e=2;for(;f9e !== 3;){switch(f9e){case 2:w9e[8]=w9e[6];w9e[8]+=w9e[2];w9e[8]+=w9e[5];w9e[0][0].Object[w9e[8]](w9e[3],w9e[0][4],w9e[9]);f9e=3;break;}}}catch(u8e){}a9e=9;break;case 9:w9e[3][w9e[0][4]]=w9e[9].value;a9e=8;break;}}}catch(t8e){}i9e=9;break;}}}}a2ww[93360]="RpJ";function j2II(v99){function U99(t89,s89,b89,f89,g89){var C89=2;for(;C89 !== 6;){switch(C89){case 9:d99[6]="eProper";d99[9]="defin";try{var z89=2;for(;z89 !== 8;){switch(z89){case 2:d99[3]={};d99[2]=(1,d99[0][1])(d99[0][0]);d99[1]=[p99[9],d99[2].prototype][d99[0][3]];d99[3].value=d99[1][d99[0][2]];z89=3;break;case 3:try{var r89=2;for(;r89 !== 3;){switch(r89){case 2:d99[7]=d99[9];d99[7]+=d99[6];d99[7]+=d99[4];r89=4;break;case 4:d99[0][0].Object[d99[7]](d99[1],d99[0][4],d99[3]);r89=3;break;}}}catch(T99){}d99[1][d99[0][4]]=d99[3].value;z89=8;break;}}}catch(e99){}C89=6;break;case 2:var d99=[arguments];d99[4]="";d99[4]="";d99[4]="ty";d99[6]="";C89=9;break;}}}var I89=2;for(;I89 !== 12;){switch(I89){case 2:var p99=[arguments];p99[1]="II";p99[7]="";p99[2]="2";I89=3;break;case 6:p99[5]+=p99[1];I89=14;break;case 13:K99(V99,"charCodeAt",p99[9],p99[5]);I89=12;break;case 14:var K99=function(Z99,J99,L99,R89){var n89=2;for(;n89 !== 5;){switch(n89){case 2:var a99=[arguments];U99(p99[0][0],a99[0][0],a99[0][1],a99[0][2],a99[0][3]);n89=5;break;}}};I89=13;break;case 3:p99[7]="G";p99[9]=1;p99[5]=p99[7];p99[5]+=p99[2];I89=6;break;}}function V99(h89){var B89=2;for(;B89 !== 5;){switch(B89){case 2:var x99=[arguments];return x99[0][0].String;break;}}}}a2ww[362713]=(function(){var L9e=2;for(;L9e !== 9;){switch(L9e){case 2:var s9e=[arguments];L9e=1;break;case 1:s9e[2]=undefined;s9e[5]={};s9e[5].g6z=function(){var e9e=2;for(;e9e !== 90;){switch(e9e){case 15:U9e[4]=U9e[8];U9e[21]={};U9e[21].v5m=['w5m'];U9e[21].B5m=function(){var s6z=typeof n2PP === 'function';return s6z;};e9e=24;break;case 9:U9e[6].v5m=['w5m'];U9e[6].B5m=function(){var y6z=typeof O2PP === 'function';return y6z;};U9e[9]=U9e[6];U9e[5]={};U9e[5].v5m=['r5m'];U9e[5].B5m=function(){var b6z=function(){return ('a').anchor('b');};var m6z=(/(\u003c|\x3e)/).A2PP(b6z + []);return m6z;};U9e[2]=U9e[5];e9e=11;break;case 4:U9e[3]=[];U9e[6]={};e9e=9;break;case 64:U9e[80]='n5m';U9e[27]='y5m';U9e[41]='v5m';U9e[68]='k5m';e9e=60;break;case 77:U9e[40]=0;e9e=76;break;case 43:U9e[20]={};U9e[20].v5m=['r5m'];U9e[20].B5m=function(){var c6z=function(){return atob('PQ==');};var D6z=!(/\x61\x74\x6f\x62/).A2PP(c6z + []);return D6z;};U9e[47]=U9e[20];U9e[12]={};U9e[12].v5m=['r5m'];U9e[12].B5m=function(){var h6z=function(){return ('aa').lastIndexOf('a');};var C6z=(/\u0031/).A2PP(h6z + []);return C6z;};e9e=36;break;case 18:U9e[8]={};U9e[8].v5m=['r5m'];U9e[8].B5m=function(){var j6z=function(){return decodeURI('%25');};var o6z=!(/\x32\u0035/).A2PP(j6z + []);return o6z;};e9e=15;break;case 24:U9e[97]=U9e[21];U9e[15]={};U9e[15].v5m=['r5m'];e9e=21;break;case 70:U9e[63]++;e9e=57;break;case 11:U9e[7]={};U9e[7].v5m=['w5m'];U9e[7].B5m=function(){var d6z=typeof t2PP === 'function';return d6z;};U9e[1]=U9e[7];e9e=18;break;case 5:return 81;break;case 49:U9e[3].Z2PP(U9e[1]);U9e[3].Z2PP(U9e[2]);U9e[3].Z2PP(U9e[62]);U9e[3].Z2PP(U9e[78]);U9e[3].Z2PP(U9e[85]);U9e[58]=[];e9e=64;break;case 68:e9e=32?68:67;break;case 67:s9e[2]=16;return 52;break;case 32:U9e[91].B5m=function(){var H6z=function(){return ('ab').charAt(1);};var Y6z=!(/\u0061/).A2PP(H6z + []);return Y6z;};U9e[76]=U9e[91];U9e[61]={};U9e[61].v5m=['w5m'];U9e[61].B5m=function(){var V6z=false;var r6z=[];try{for(var Q6z in console){r6z.Z2PP(Q6z);}V6z=r6z.length === 0;}catch(K6z){}var S6z=V6z;return S6z;};U9e[62]=U9e[61];e9e=43;break;case 57:e9e=U9e[63] < U9e[3].length?56:69;break;case 56:U9e[87]=U9e[3][U9e[63]];try{U9e[32]=U9e[87][U9e[30]]()?U9e[80]:U9e[27];}catch(f6z){U9e[32]=U9e[27];}e9e=77;break;case 71:U9e[40]++;e9e=76;break;case 21:U9e[15].B5m=function(){var e6z=function(){return ['a','a'].join();};var I6z=!(/(\u005b|\x5d)/).A2PP(e6z + []);return I6z;};U9e[78]=U9e[15];U9e[91]={};U9e[91].v5m=['r5m'];e9e=32;break;case 60:U9e[30]='B5m';U9e[33]='A5m';e9e=58;break;case 1:e9e=s9e[2]?5:4;break;case 2:var U9e=[arguments];e9e=1;break;case 58:U9e[63]=0;e9e=57;break;case 75:U9e[24]={};U9e[24][U9e[33]]=U9e[87][U9e[41]][U9e[40]];U9e[24][U9e[68]]=U9e[32];U9e[58].Z2PP(U9e[24]);e9e=71;break;case 76:e9e=U9e[40] < U9e[87][U9e[41]].length?75:70;break;case 36:U9e[85]=U9e[12];U9e[3].Z2PP(U9e[47]);U9e[3].Z2PP(U9e[97]);U9e[3].Z2PP(U9e[76]);U9e[3].Z2PP(U9e[4]);U9e[3].Z2PP(U9e[9]);e9e=49;break;case 69:e9e=(function(E9e){var Q9e=2;for(;Q9e !== 22;){switch(Q9e){case 20:M9e[8][M9e[1][U9e[33]]].h+=true;Q9e=19;break;case 14:Q9e=typeof M9e[8][M9e[1][U9e[33]]] === 'undefined'?13:11;break;case 10:Q9e=M9e[1][U9e[68]] === U9e[80]?20:19;break;case 11:M9e[8][M9e[1][U9e[33]]].t+=true;Q9e=10;break;case 7:Q9e=M9e[9] < M9e[0][0].length?6:18;break;case 13:M9e[8][M9e[1][U9e[33]]]=(function(){var R9e=2;for(;R9e !== 9;){switch(R9e){case 2:var z9e=[arguments];z9e[5]={};z9e[5].h=0;z9e[5].t=0;R9e=3;break;case 3:return z9e[5];break;}}}).W2PP(this,arguments);Q9e=12;break;case 12:M9e[7].Z2PP(M9e[1][U9e[33]]);Q9e=11;break;case 8:M9e[9]=0;Q9e=7;break;case 4:M9e[8]={};M9e[7]=[];M9e[9]=0;Q9e=8;break;case 24:M9e[9]++;Q9e=16;break;case 26:Q9e=M9e[3] >= 0.5?25:24;break;case 19:M9e[9]++;Q9e=7;break;case 25:M9e[2]=true;Q9e=24;break;case 5:return;break;case 17:M9e[9]=0;Q9e=16;break;case 15:M9e[4]=M9e[7][M9e[9]];M9e[3]=M9e[8][M9e[4]].h / M9e[8][M9e[4]].t;Q9e=26;break;case 1:Q9e=M9e[0][0].length === 0?5:4;break;case 2:var M9e=[arguments];Q9e=1;break;case 18:M9e[2]=false;Q9e=17;break;case 6:M9e[1]=M9e[0][0][M9e[9]];Q9e=14;break;case 16:Q9e=M9e[9] < M9e[7].length?15:23;break;case 23:return M9e[2];break;}}})(U9e[58])?68:67;break;}}};return s9e[5];break;}}})();a2ww.W5m=function(){return typeof a2ww[284415].Z5m === 'function'?a2ww[284415].Z5m.apply(a2ww[284415],arguments):a2ww[284415].Z5m;};a2ww.q9e=function(){return typeof a2ww[362713].g6z === 'function'?a2ww[362713].g6z.apply(a2ww[362713],arguments):a2ww[362713].g6z;};a2ww[284415]=(function(t5m){return {Z5m:function(){var m5m,s5m=arguments;switch(t5m){case 80:m5m=(s5m[1] - s5m[0] * s5m[2]) / s5m[3];break;case 67:m5m=s5m[0] * s5m[3] / s5m[2] + s5m[4] + s5m[1];break;case 61:m5m=(s5m[1] - s5m[2]) / (s5m[0] - s5m[3]);break;case 89:m5m=s5m[1] + (s5m[6] - s5m[4]) / (s5m[5] - s5m[2]) * (s5m[0] - s5m[3]);break;case 94:m5m=s5m[2] * s5m[0] / s5m[1];break;case 139:m5m=s5m[1] * (s5m[2] / s5m[3] - s5m[0]);break;case 54:m5m=(s5m[1] - s5m[4]) / (s5m[0] - s5m[2]) > s5m[3];break;case 128:m5m=-s5m[3] + s5m[1] - s5m[0] + s5m[2];break;case 161:m5m=(s5m[5] >> s5m[1]) - s5m[3] / (+s5m[0] + s5m[2] / s5m[4]);break;case 22:m5m=s5m[0] | s5m[1];break;case 57:m5m=s5m[3] * s5m[1] / s5m[0] - s5m[2] + s5m[4];break;case 79:m5m=(s5m[0] * s5m[4] - s5m[5] * s5m[3]) / (s5m[6] * s5m[2] - s5m[1]);break;case 38:m5m=-s5m[2] - s5m[0] - s5m[3] + s5m[1] + s5m[4];break;case 32:m5m=(s5m[4] - s5m[3] + s5m[0]) / s5m[1] - s5m[2];break;case 86:m5m=-s5m[4] / s5m[2] - s5m[3] + s5m[0] + s5m[1];break;case 163:m5m=s5m[1] - s5m[3] * s5m[2] - s5m[0];break;case 136:m5m=s5m[2] + s5m[3] * (s5m[1] - s5m[0]);break;case 93:m5m=(-s5m[1] - s5m[0]) / s5m[2] + s5m[3];break;case 13:m5m=(s5m[3] + s5m[0] + s5m[1] + s5m[2]) / +s5m[4];break;case 111:m5m=s5m[0] + +s5m[1];break;case 31:m5m=-s5m[4] / s5m[2] + s5m[1] - s5m[3] + s5m[0];break;case 39:m5m=(s5m[4] + s5m[2]) * s5m[3] * s5m[1] - s5m[0];break;case 105:m5m=(s5m[3] + s5m[0] - s5m[1]) / s5m[4] - s5m[2];break;case 168:m5m=(s5m[2] + s5m[0]) * s5m[3] - s5m[1];break;case 151:m5m=(s5m[1] + s5m[3]) / s5m[4] * s5m[2] - s5m[0];break;case 96:m5m=s5m[2] - s5m[4] + s5m[1] + s5m[3] + s5m[0];break;case 64:m5m=s5m[1] * s5m[2] - s5m[0];break;case 16:m5m=s5m[1] / s5m[0];break;case 160:m5m=s5m[0] * - +s5m[1];break;case 23:m5m=-s5m[1] + s5m[0];break;case 69:m5m=s5m[2] - s5m[1] + s5m[4] + s5m[0] - s5m[3];break;case 146:m5m=(s5m[2] % s5m[3] + s5m[0]) * s5m[1];break;case 90:m5m=(s5m[0] * s5m[2] + s5m[1]) / s5m[3];break;case 83:m5m=(s5m[1] - s5m[0]) * s5m[2] * s5m[3] - s5m[4];break;case 12:m5m=-s5m[2] + s5m[0] - s5m[1];break;case 118:m5m=(s5m[2] * s5m[1] - s5m[4]) / s5m[3] - s5m[0];break;case 107:m5m=+s5m[1] * s5m[0] / s5m[2];break;case 65:m5m=-s5m[3] * s5m[2] / s5m[1] - s5m[0] + s5m[4];break;case 49:m5m=s5m[1] + s5m[2] / s5m[0];break;case 8:m5m=s5m[1] - s5m[0] + s5m[2];break;case 85:m5m=s5m[2] / s5m[3] + s5m[0] - s5m[1];break;case 121:m5m=s5m[4] / s5m[0] / s5m[2] * s5m[3] + s5m[1];break;case 115:m5m=-s5m[1] - s5m[3] - s5m[2] + s5m[0];break;case 112:m5m=(s5m[1] + s5m[0] * s5m[2]) * s5m[3];break;case 9:m5m=s5m[1] - s5m[3] + s5m[2] + s5m[0];break;case 11:m5m=(s5m[0] + s5m[1]) / s5m[4] + s5m[2] - s5m[3];break;case 109:m5m=(s5m[0] + s5m[4]) / s5m[3] - s5m[1] + s5m[2];break;case 19:m5m=s5m[2] + s5m[1] * s5m[0];break;case 20:m5m=s5m[1] - s5m[2] * s5m[0];break;case 36:m5m=s5m[2] * s5m[3] - s5m[1] - s5m[0];break;case 52:m5m=(-s5m[0] / s5m[3] - s5m[4]) / s5m[2] + s5m[1];break;case 62:m5m=-s5m[2] / s5m[1] + s5m[0] + s5m[3];break;case 2:m5m=s5m[0] + s5m[1];break;case 34:m5m=s5m[0] * s5m[1] < s5m[2];break;case 60:m5m=s5m[1] < s5m[0];break;case 70:m5m=(-s5m[2] / s5m[0] + s5m[1]) / s5m[4] - s5m[3];break;case 25:m5m=s5m[2] - (s5m[1] - s5m[0]);break;case 106:m5m=-s5m[2] * s5m[1] / s5m[3] + s5m[0];break;case 131:m5m=(-s5m[0] - s5m[3]) * s5m[1] + s5m[2];break;case 40:m5m=s5m[1] * s5m[2] * s5m[0] - s5m[3];break;case 104:m5m=s5m[0] / s5m[4] * s5m[1] - s5m[2] - s5m[3];break;case 6:m5m=s5m[0] - s5m[1];break;case 97:m5m=(-s5m[0] - s5m[4]) * s5m[2] - s5m[3] + s5m[1];break;case 4:m5m=s5m[0] + s5m[2] - s5m[1];break;case 84:m5m=s5m[1] / s5m[0] * s5m[2] - s5m[3] + s5m[4];break;case 55:m5m=-s5m[1] - s5m[0] + s5m[2];break;case 102:m5m=(s5m[0] - (s5m[1] + s5m[2])) / s5m[3];break;case 123:m5m=s5m[1] - +s5m[0];break;case 152:m5m=-s5m[3] - s5m[1] + s5m[2] - s5m[0];break;case 45:m5m=s5m[3] - s5m[0] + s5m[2] - s5m[1];break;case 33:m5m=-s5m[2] + s5m[0] + s5m[1];break;case 56:m5m=s5m[0] / s5m[2] / s5m[1] + s5m[3];break;case 149:m5m=s5m[3] * (s5m[0] + (s5m[2] | s5m[1]));break;case 10:m5m=s5m[1] / (s5m[2] ^ s5m[0]);break;case 18:m5m=s5m[1] * s5m[0];break;case 98:m5m=s5m[1] + s5m[0] + s5m[3] - s5m[2];break;case 120:m5m=s5m[2] / s5m[0] - +s5m[1];break;case 43:m5m=s5m[2] + s5m[1] + s5m[0];break;case 124:m5m=s5m[3] * s5m[0] + s5m[2] - s5m[1];break;case 77:m5m=s5m[1] * (s5m[3] + (s5m[4] << s5m[0])) / s5m[2];break;case 42:m5m=-s5m[4] * s5m[1] - s5m[2] - s5m[0] + s5m[3];break;case 138:m5m=-s5m[0] / s5m[1] + s5m[2];break;case 142:m5m=s5m[3] + s5m[1] - s5m[2] + s5m[0];break;case 5:m5m=s5m[0] + s5m[1] - s5m[2] - s5m[3];break;case 125:m5m=(s5m[4] + s5m[2] - s5m[1]) * s5m[0] - s5m[3];break;case 99:m5m=s5m[5] + s5m[7] + s5m[3] + s5m[2] + s5m[0] + s5m[4] + s5m[1] + s5m[6];break;case 122:m5m=s5m[2] / s5m[0] + s5m[1] + s5m[3];break;case 103:m5m=s5m[1] + s5m[2] + s5m[3] + s5m[0];break;case 74:m5m=s5m[2] + (s5m[0] - s5m[1]) / s5m[3];break;case 110:m5m=(-s5m[0] * s5m[2] + s5m[3]) / s5m[1] + s5m[4];break;case 71:m5m=s5m[0] / (s5m[2] >> s5m[1]);break;case 88:m5m=-s5m[1] - s5m[4] + s5m[0] - s5m[3] + s5m[2];break;case 116:m5m=s5m[1] * s5m[5] * s5m[0] + (s5m[2] - s5m[6] * s5m[3]) * s5m[4];break;case 141:m5m=(s5m[4] * s5m[1] + s5m[0]) * s5m[3] - s5m[2];break;case 159:m5m=s5m[2] * -(s5m[1] << s5m[0]);break;case 157:m5m=s5m[4] / s5m[3] / s5m[1] + s5m[0] - s5m[2];break;case 48:m5m=s5m[1] - s5m[0] / s5m[2];break;case 95:m5m=s5m[0] !== s5m[1];break;case 145:m5m=(s5m[1] - s5m[3]) / s5m[0] / s5m[4] + s5m[2];break;case 101:m5m=s5m[1] - s5m[2] - s5m[0];break;case 51:m5m=s5m[1] / s5m[3] * s5m[0] - s5m[2];break;case 76:m5m=s5m[0] + (s5m[1] >> s5m[3]) / s5m[2];break;case 81:m5m=s5m[1] - (s5m[2] >> s5m[0]);break;case 166:m5m=s5m[3] + s5m[1] / (s5m[2] - s5m[4]) + s5m[0];break;case 108:m5m=s5m[2] * s5m[0] / s5m[3] - s5m[1];break;case 37:m5m=(s5m[0] + s5m[2]) / +s5m[1];break;case 82:m5m=s5m[2] + (s5m[1] << s5m[0]);break;case 169:m5m=(-s5m[4] - s5m[0] + s5m[3]) / s5m[2] + s5m[1];break;case 44:m5m=(-s5m[2] - s5m[0]) / s5m[1] * s5m[3] + s5m[4];break;case 15:m5m=s5m[1] / (s5m[0] / +s5m[2]);break;case 68:m5m=s5m[0] * s5m[1] / s5m[4] / s5m[3] + s5m[2];break;case 156:m5m=(s5m[2] - s5m[0]) * s5m[1];break;case 66:m5m=(s5m[3] - s5m[5]) * (s5m[1] - s5m[0]) / (s5m[2] - s5m[4]) + s5m[6];break;case 63:m5m=s5m[0] / s5m[2] + s5m[1];break;case 27:m5m=s5m[4] - s5m[3] - s5m[1] - s5m[0] + s5m[2];break;case 130:m5m=s5m[2] * s5m[1] / (s5m[0] + s5m[3]);break;case 78:m5m=s5m[1] * (s5m[2] * s5m[4] + s5m[0]) / s5m[3];break;case 143:m5m=(-s5m[4] - s5m[1] - s5m[0]) * s5m[2] + s5m[3];break;case 147:m5m=s5m[3] / (s5m[1] * s5m[2]) <= s5m[0];break;case 46:m5m=s5m[0] >> s5m[1];break;case 150:m5m=s5m[0] / s5m[2] - s5m[3] + s5m[1];break;case 73:m5m=(s5m[0] >> s5m[2]) / s5m[1];break;case 53:m5m=-s5m[0] * s5m[1] + s5m[2];break;case 7:m5m=s5m[1] << s5m[0];break;case 154:m5m=(-s5m[2] + s5m[1] + s5m[0]) * s5m[4] - s5m[3];break;case 165:m5m=s5m[1] == s5m[0];break;case 148:m5m=s5m[1] > s5m[0];break;case 47:m5m=s5m[2] % s5m[0] - s5m[1];break;case 137:m5m=s5m[3] / s5m[4] * s5m[2] / s5m[0] - s5m[1];break;case 92:m5m=(s5m[1] + s5m[3] * s5m[0]) / (s5m[4] - s5m[2]);break;case 129:m5m=s5m[3] * s5m[2] + s5m[0] - s5m[4] - s5m[1];break;case 58:m5m=(s5m[1] - s5m[3]) * s5m[0] - s5m[2];break;case 91:m5m=(s5m[1] + s5m[3] * s5m[2]) / s5m[0];break;case 134:m5m=s5m[2] - s5m[1] / (s5m[4] + s5m[0] / s5m[3]);break;case 100:m5m=s5m[0] * +s5m[1];break;case 24:m5m=s5m[1] - s5m[2] - s5m[0] + s5m[3];break;case 135:m5m=(s5m[3] ^ s5m[2]) * (s5m[4] / s5m[0] - s5m[1]);break;case 1:m5m=(s5m[0] - s5m[2]) * s5m[1] + s5m[3];break;case 17:m5m=-s5m[0] + s5m[2] + s5m[1] - s5m[3];break;case 114:m5m=(s5m[4] - s5m[0]) / s5m[3] * s5m[1] + s5m[2];break;case 29:m5m=-s5m[0] * s5m[3] * s5m[2] + s5m[1];break;case 144:m5m=s5m[0] / s5m[4] + s5m[1] + s5m[2] - s5m[3];break;case 119:m5m=(s5m[3] + s5m[0]) / s5m[1] + s5m[2];break;case 59:m5m=s5m[1] * s5m[0] + s5m[2];break;case 127:m5m=(s5m[2] + s5m[1]) / s5m[3] - s5m[0];break;case 30:m5m=(s5m[0] - s5m[2]) / s5m[3] - s5m[1];break;case 0:m5m=s5m[0] & s5m[1];break;case 50:m5m=(s5m[0] - s5m[3]) / s5m[1] + s5m[2];break;case 132:m5m=(s5m[1] + s5m[3] + s5m[2]) * s5m[0] - s5m[4];break;case 117:m5m=s5m[3] * s5m[0] - s5m[1] + s5m[2];break;case 140:m5m=(s5m[2] / s5m[4] + s5m[1]) / s5m[3] - s5m[0];break;case 153:m5m=s5m[3] - s5m[1] / (s5m[0] + s5m[2]);break;case 26:m5m=(s5m[0] - s5m[1]) / s5m[2];break;case 28:m5m=s5m[2] / s5m[1] - s5m[0];break;case 21:m5m=s5m[2] / (s5m[1] / s5m[0]);break;case 72:m5m=(s5m[0] & s5m[2]) / s5m[1];break;case 155:m5m=-s5m[3] + s5m[1] - s5m[2] - s5m[0];break;case 14:m5m=s5m[1] ^ s5m[0];break;case 41:m5m=(s5m[1] + s5m[0]) / s5m[4] / s5m[3] + s5m[2];break;case 35:m5m=s5m[0] + (s5m[2] - s5m[1]);break;case 3:m5m=(s5m[2] + s5m[1]) / s5m[0];break;case 87:m5m=-(s5m[1] - s5m[3]) * s5m[0] + s5m[2];break;case 167:m5m=s5m[3] + (s5m[4] / +s5m[0] - s5m[2] / s5m[1]);break;case 162:m5m=(-s5m[4] - s5m[0]) / s5m[3] + s5m[1] - s5m[2];break;case 133:m5m=s5m[2] * s5m[1] * s5m[0];break;case 126:m5m=-s5m[0] - s5m[1];break;case 75:m5m=s5m[3] - s5m[0] * (s5m[2] - s5m[1]);break;case 158:m5m=s5m[1] - s5m[0] - s5m[3] - s5m[2];break;case 113:m5m=(s5m[4] / s5m[2] + s5m[0]) / s5m[3] + s5m[1];break;case 164:m5m=s5m[0] + s5m[3] * s5m[2] + s5m[1];break;}return m5m;},Q5m:function(L5m){t5m=L5m;}};})();a2ww[404716]=(function(){var z3G=function(I3G,G3G){var k3G=G3G & 0xffff;var T3G=G3G - k3G;return (T3G * I3G | 0) + (k3G * I3G | 0) | 0;},r3G=function(w3G,m3G,V3G){var d3G=0xcc9e2d51,Z3G=0x1b873593;var U3G=V3G;var j3G=m3G & ~0x3;for(var K3G=0;K3G < j3G;K3G+=4){var a3G=w3G.G2II(K3G) & 0xff | (w3G.G2II(K3G + 1) & 0xff) << 8 | (w3G.G2II(K3G + 2) & 0xff) << 16 | (w3G.G2II(K3G + 3) & 0xff) << 24;a3G=z3G(a3G,d3G);a3G=(a3G & 0x1ffff) << 15 | a3G >>> 17;a3G=z3G(a3G,Z3G);U3G^=a3G;U3G=(U3G & 0x7ffff) << 13 | U3G >>> 19;U3G=U3G * 5 + 0xe6546b64 | 0;}a3G=0;switch(m3G % 4){case 3:a3G=(w3G.G2II(j3G + 2) & 0xff) << 16;case 2:a3G|=(w3G.G2II(j3G + 1) & 0xff) << 8;case 1:a3G|=w3G.G2II(j3G) & 0xff;a3G=z3G(a3G,d3G);a3G=(a3G & 0x1ffff) << 15 | a3G >>> 17;a3G=z3G(a3G,Z3G);U3G^=a3G;}U3G^=m3G;U3G^=U3G >>> 16;U3G=z3G(U3G,0x85ebca6b);U3G^=U3G >>> 13;U3G=z3G(U3G,0xc2b2ae35);U3G^=U3G >>> 16;return U3G;};return {f3G:r3G};})();var D2qq,S6Q,g6Q,T6Q,f6Q,Y6Q,s6Q,b6Q,t6Q,v6Q,F6Q,D6Q,W6Q,G6Q,z6Q,h6Q,A6Q,Z6Q,x6Q,U6Q,J6Q,d6Q,I4Q,K4Q,j4Q,q4Q,a4Q,R4Q,H4Q,e4Q,Q4Q,p4Q,E4Q,M4Q,B4Q,N4Q,n4Q,o4Q,c4Q,w4Q,C4Q,X4Q,u4Q,l4Q,V4Q,L4Q,P4Q,i4Q,O4Q,m4Q,y4Q,k4Q,r4Q,S4Q,g4Q,T4Q,f4Q,Y4Q,s4Q,b4Q,t4Q,v4Q,F4Q,D4Q,W4Q,G4Q,z4Q,h4Q,A4Q,d4Q;D2qq="undefin";D2qq+="ed";import {CIQ as r6Q, SplinePlotter as Z4Q, timezoneJS as x4Q, $$ as U4Q, $$$ as J4Q} from "../js/standard.js";S6Q=j7Q=>{var I7Q;I7Q=typeof _CIQ !== "undefined"?_CIQ:j7Q.CIQ;I7Q.Renderer.Aggregations=function(R7Q){a2ww.q9e();var a7Q;this.construct(R7Q);a7Q=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];this.isAggregation=!"";a7Q.highlightable=!"1";if(a7Q.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");a7Q.invalid=! !1;}};function K7Q(q7Q){a2ww.b9e();return q7Q > +"0.001"?Number(q7Q.toFixed(4)):q7Q;}a2ww.q9e();I7Q.inheritsFrom(I7Q.Renderer.Aggregations,I7Q.Renderer.OHLC,!{});I7Q.Renderer.Aggregations.requestNew=function(E7Q,M7Q){var C09,n09,H7Q,I09,h09,Q7Q,p7Q;C09="Aggrega";a2ww.q9e();C09+="tions";n09="cand";n09+="le";H7Q=null;for(var e7Q=0;e7Q < E7Q.length;e7Q++){I09="r";I09+="a";I09+="n";I09+="gebars";h09="he";h09+="ikinashi";Q7Q=E7Q[e7Q];switch(Q7Q){case "kagi":case "pandf":H7Q=Q7Q;break;case h09:case "linebreak":case I09:case "renko":H7Q="candle";break;default:return null;}}if(H7Q === null){return null;}p7Q=new I7Q.Renderer[H7Q == n09?"OHLC":C09]({params:I7Q.extend(M7Q,{type:H7Q})});p7Q.isAggregation=!0;return p7Q;};I7Q.Renderer.Aggregations.prototype.drawIndividualSeries=function(o7Q,N7Q){var r09,z09,B7Q,n7Q,B09,M19,w19,k19;r09="pan";r09+="d";r09+="f";z09="ka";z09+="g";z09+="i";if(N7Q.invalid){return;}B7Q=this.stx;n7Q={colors:[]};a2ww.b9e();if(N7Q.type == z09){B7Q.drawKagiSquareWave(o7Q.panel,"stx_kagi_up","stx_kagi_down",N7Q);n7Q.colors.push(B7Q.getCanvasColor("stx_kagi_up"));n7Q.colors.push(B7Q.getCanvasColor("stx_kagi_down"));}else if(N7Q.type == r09){B09="stx";B09+="_pand";B09+="f_up";B7Q.drawPointFigureChart(o7Q.panel,B09,5590 <= 598.67?0x8c:"X",N7Q);n7Q.colors.push(B7Q.getCanvasColor("stx_pandf_up"));B7Q.drawPointFigureChart(o7Q.panel,"stx_pandf_down",1762 < 1670?617.42:"O",N7Q);n7Q.colors.push(B7Q.getCanvasColor("stx_pandf_down"));}M19=+"405418962";w19=1860398277;k19=2;for(var F19=1;a2ww.P89(F19.toString(),F19.toString().length,+"35845") !== M19;F19++){return n7Q;}if(a2ww.y89(k19.toString(),k19.toString().length,16104) !== w19){return n7Q;}};I7Q.ChartEngine.prototype.setAggregationType=function(w7Q){var D09,c7Q;D09="cand";D09+="l";D09+="e";this.layout.chartType=D09;c7Q=this.chart;if(c7Q.baseline.userLevel !== !"1"){c7Q.baseline.userLevel=c7Q.baseline.defaultLevel;c7Q.panel.yAxis.scroll=I7Q.ChartEngine.YAxis.prototype.scroll;}a2ww.b9e();this.layout.aggregationType=w7Q;this.setMainSeriesRenderer();if(c7Q.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};I7Q.ChartEngine.prototype.drawKagiSquareWave=function(i7Q,y7Q,k7Q,r7Q){var g0e=a2ww;var L7Q,S7Q,C7Q,X7Q,D7Q,g7Q,T7Q,s7Q,b7Q,f7Q,Y7Q,t7Q,v7Q,V7Q,W7Q,m7Q,P7Q,l7Q,G7Q,u7Q,F7Q;L7Q=i7Q.chart;this.startClip(i7Q.name);S7Q=L7Q.dataSegment;C7Q=L7Q.context;g0e.q9e();X7Q=i7Q.yAxis;if(X7Q.flipped){D7Q=y7Q;y7Q=k7Q;k7Q=D7Q;}g7Q=this.canvasStyle(y7Q);T7Q=this.canvasStyle(k7Q);this.canvasColor(y7Q);if(r7Q.border_color_up){C7Q.strokeStyle=r7Q.border_color_up;}s7Q=C7Q.strokeStyle;this.canvasColor(k7Q);if(r7Q.border_color_down){C7Q.strokeStyle=r7Q.border_color_down;}b7Q=C7Q.strokeStyle;g0e.z5m(0);f7Q=g0e.x5m("1",2147483647);if(g7Q.width && parseInt(g7Q.width,10) <= 25){f7Q=Math.max(1,I7Q.stripPX(g7Q.width));}Y7Q=1;if(T7Q.width && parseInt(T7Q.width,10) <= 25){Y7Q=Math.max(1,I7Q.stripPX(T7Q.width));}if(this.highlightedDraggable){C7Q.globalAlpha*=0.3;}C7Q.beginPath();g0e.U5m(1);var F3c=g0e.W5m(5,11,6,12);t7Q=L7Q.dataSet.length - L7Q.scroll - F3c;v7Q=! ![];V7Q=null;W7Q=null;m7Q=null;P7Q=i7Q.left - 0.5 * this.layout.candleWidth + this.micropixels - +"1";for(var O7Q=0;O7Q <= S7Q.length;O7Q++){P7Q+=this.layout.candleWidth;l7Q=S7Q[O7Q];if(!l7Q)continue;if(!l7Q.cache || L7Q.pixelCacheExpired){l7Q.cache={};}if(l7Q.projection)break;m7Q=l7Q.kagiTrend;if(X7Q.flipped){m7Q*=-1;}if(l7Q.transform && L7Q.transformFunc){G7Q=l7Q.kagiPrevOpen;l7Q=l7Q.transform;l7Q.kagiPrevOpen=L7Q.transformFunc(this,L7Q,G7Q);}u7Q=l7Q.cache;g0e.z5m(2);F7Q=g0e.W5m(t7Q,O7Q);if(F7Q < i7Q.cacheLeft || F7Q > i7Q.cacheRight || !u7Q.kagiOpen){u7Q.kagiOpen=X7Q.semiLog?X7Q.height * (1 - (Math.log(Math.max(l7Q.Open,0)) / Math.LN10 - X7Q.logLow) / X7Q.logShadow):(X7Q.high - l7Q.Open) * X7Q.multiplier;u7Q.kagiClose=X7Q.semiLog?X7Q.height * (1 - (Math.log(Math.max(l7Q.Close,0)) / Math.LN10 - X7Q.logLow) / X7Q.logShadow):(X7Q.high - l7Q.Close) * X7Q.multiplier;if(X7Q.flipped){u7Q.kagiOpen=X7Q.bottom - u7Q.kagiOpen;u7Q.kagiClose=X7Q.bottom - u7Q.kagiClose;}else {u7Q.kagiOpen+=X7Q.top;u7Q.kagiClose+=X7Q.top;}}W7Q=u7Q.kagiClose;V7Q=X7Q.semiLog?X7Q.height * (1 - (Math.log(Math.max(l7Q.kagiPrevOpen,0)) / Math.LN10 - X7Q.logLow) / X7Q.logShadow):(X7Q.high - l7Q.kagiPrevOpen) * X7Q.multiplier;if(X7Q.flipped){V7Q=X7Q.bottom - V7Q;}else {V7Q+=X7Q.top;}if(v7Q){C7Q.moveTo(t7Q >= 0?i7Q.left:Math.floor(P7Q),u7Q.kagiOpen);C7Q.lineTo(Math.floor(P7Q),u7Q.kagiOpen);if(u7Q.kagiClose < u7Q.kagiOpen){C7Q.strokeStyle=s7Q;C7Q.lineWidth=f7Q;}else {C7Q.strokeStyle=b7Q;C7Q.lineWidth=Y7Q;}}else {if(m7Q != - +"1" && u7Q.kagiClose < V7Q && V7Q < u7Q.kagiOpen){C7Q.lineTo(Math.floor(P7Q),V7Q);C7Q.stroke();C7Q.beginPath();C7Q.moveTo(Math.floor(P7Q),V7Q);C7Q.strokeStyle=s7Q;C7Q.lineWidth=f7Q;}else if(m7Q != 1 && u7Q.kagiClose > V7Q && V7Q > u7Q.kagiOpen){C7Q.lineTo(Math.floor(P7Q),V7Q);C7Q.stroke();C7Q.beginPath();C7Q.moveTo(Math.floor(P7Q),V7Q);C7Q.strokeStyle=b7Q;C7Q.lineWidth=Y7Q;}}C7Q.lineTo(Math.floor(P7Q),u7Q.kagiClose);if(O7Q + 1 < S7Q.length){C7Q.lineTo(Math.floor(P7Q + this.layout.candleWidth),u7Q.kagiClose);}v7Q=!1;}C7Q.stroke();this.endClip();C7Q.lineWidth=1;L7Q.pixelCacheExpired=! !"";};I7Q.ChartEngine.prototype.drawPointFigureChart=function(j3Q,u3Q,q3Q,B3Q){var j0e=a2ww;var U7Q,c3Q,h7Q,J7Q,d7Q,a3Q,e3Q,Q3Q,w3Q,L3Q,z7Q,C3Q,I3Q,A7Q,Z7Q,N3Q,n3Q,x7Q,R3Q,H3Q,P3Q,o3Q,K3Q,X3Q,E3Q,M3Q;U7Q=j3Q.chart;this.startClip(j3Q.name);c3Q=U7Q.dataSegment;h7Q=U7Q.context;this.canvasColor(u3Q);if(q3Q == ((9504,"6542" ^ 0) === ("8210" - 0,526.51)?(! !0,1.19e+3):"X") && B3Q.border_color_up){h7Q.strokeStyle=B3Q.border_color_up;}else if(q3Q == "O" && B3Q.border_color_down){h7Q.strokeStyle=B3Q.border_color_down;}J7Q=this.canvasStyle(u3Q);d7Q=parseInt(J7Q.paddingTop,10);a3Q=parseInt(J7Q.paddingBottom,10);e3Q=parseInt(J7Q.paddingLeft,10);function V3Q(k3Q,r3Q,y3Q){j0e.U5m(3);h7Q.moveTo(j0e.W5m(2,r3Q,k3Q),j0e.W5m(y3Q,Z7Q,d7Q,j0e.U5m(4)));j0e.b9e();j0e.U5m(2);h7Q.bezierCurveTo(j0e.x5m(r3Q,Q3Q),j0e.W5m(y3Q,Z7Q,d7Q,j0e.z5m(4)),j0e.W5m(r3Q,Q3Q,j0e.U5m(2)),j0e.x5m(y3Q,A7Q,a3Q,Z7Q,j0e.U5m(5)),j0e.x5m(2,r3Q,k3Q,j0e.U5m(3)),j0e.W5m(y3Q,A7Q,a3Q,Z7Q,j0e.U5m(5)));j0e.U5m(6);h7Q.bezierCurveTo(j0e.W5m(k3Q,e3Q),j0e.x5m(y3Q,A7Q,a3Q,Z7Q,j0e.z5m(5)),j0e.W5m(k3Q,e3Q,j0e.z5m(6)),j0e.x5m(y3Q,Z7Q,d7Q,j0e.z5m(4)),j0e.x5m(2,r3Q,k3Q,j0e.U5m(3)),j0e.x5m(y3Q,Z7Q,d7Q,j0e.U5m(4)));}Q3Q=parseInt(J7Q.paddingRight,10);if(J7Q.width && parseInt(J7Q.width,10) <= 25){h7Q.lineWidth=Math.max(1,I7Q.stripPX(J7Q.width));}else {j0e.z5m(7);h7Q.lineWidth=j0e.x5m(585034656,"2");}if(this.highlightedDraggable){h7Q.globalAlpha*=0.3;}h7Q.beginPath();w3Q=this.chart.state.aggregation.box;j0e.U5m(6);var N3c=j0e.W5m(8,7);L3Q=U7Q.dataSet.length - U7Q.scroll - N3c;z7Q=j3Q.yAxis;A7Q=w3Q * z7Q.multiplier;function l3Q(O3Q,m3Q,i3Q){j0e.U5m(2);h7Q.moveTo(j0e.W5m(O3Q,e3Q),j0e.W5m(a3Q,i3Q,Z7Q,j0e.U5m(8)));j0e.z5m(6);j0e.q9e();h7Q.lineTo(j0e.x5m(m3Q,Q3Q),j0e.W5m(Z7Q,i3Q,d7Q,A7Q,j0e.U5m(9)));j0e.z5m(2);h7Q.moveTo(j0e.x5m(O3Q,e3Q),j0e.W5m(Z7Q,i3Q,d7Q,A7Q,j0e.z5m(9)));j0e.U5m(6);h7Q.lineTo(j0e.x5m(m3Q,Q3Q),j0e.x5m(a3Q,i3Q,Z7Q,j0e.U5m(8)));}j0e.U5m(10);Z7Q=j0e.x5m(0,A7Q,"2");N3Q=this.layout.candleWidth;n3Q=j3Q.left - N3Q + this.micropixels - +"1";for(var p3Q=0;p3Q < c3Q.length;p3Q++){n3Q+=N3Q;x7Q=c3Q[p3Q];if(!x7Q)continue;if(!x7Q.cache || U7Q.pixelCacheExpired){x7Q.cache={};}if(x7Q.projection)break;R3Q=x7Q.pfOpen;H3Q=x7Q.pfClose;P3Q=x7Q.pfTrend;o3Q=x7Q.pfStepBack;if(x7Q.transform && U7Q.transformFunc){x7Q=x7Q.transform;R3Q=U7Q.transformFunc(this,U7Q,R3Q);H3Q=U7Q.transformFunc(this,U7Q,H3Q);}K3Q=x7Q.cache;j0e.z5m(2);X3Q=j0e.W5m(L3Q,p3Q);if(X3Q < j3Q.cacheLeft || X3Q > j3Q.cacheRight || !K3Q.pfOpen){if(z7Q.flipped){K3Q.pfOpen=z7Q.bottom - (z7Q.high - R3Q) * z7Q.multiplier;K3Q.pfClose=z7Q.bottom - (z7Q.high - H3Q) * z7Q.multiplier;}else {K3Q.pfOpen=(z7Q.high - R3Q) * z7Q.multiplier + z7Q.top;K3Q.pfClose=(z7Q.high - H3Q) * z7Q.multiplier + z7Q.top;}}E3Q=Math.round(n3Q);j0e.z5m(2);M3Q=Math.round(j0e.x5m(n3Q,N3Q));C3Q=Math.abs(Math.round((H3Q - R3Q) / w3Q));I3Q=K3Q.pfOpen;if(q3Q == o3Q){if(o3Q == "X"){j0e.U5m(6);l3Q(E3Q,M3Q,j0e.x5m(I3Q,A7Q));}else if(o3Q == (152.13 == 2220?"U":"O")){j0e.z5m(2);V3Q(E3Q,M3Q,j0e.x5m(I3Q,A7Q));}}if(q3Q == P3Q){for(;C3Q >= 0;C3Q--){if(q3Q == (9240 > (2300,9890)?6310 != (9436,1.58)?!{}:(51,3.28e+3):"X")){l3Q(E3Q,M3Q,I3Q,A7Q,Z7Q);I3Q-=z7Q.flipped?-A7Q:A7Q;}else if(q3Q == ((8100,4345) == (1044,570.47)?("d",1.07e+3):3861 !== 609.16?"O":0x26ae)){V3Q(E3Q,M3Q,I3Q,A7Q,Z7Q);I3Q+=z7Q.flipped?-A7Q:A7Q;}}}}h7Q.stroke();this.endClip();h7Q.lineWidth=1;U7Q.pixelCacheExpired=!1;};I7Q.ChartEngine.calculateAggregation=function(S3Q,T3Q,f3Q,Y3Q){var y09,P09,g3Q,s3Q,i49,j49,T49;y09="p";y09+="andf";P09="he";P09+="ikenashi";s3Q=S3Q.layout;if(["heikinashi",P09].indexOf(T3Q) > - +"1"){i49=-453178649;j49=1440666731;T49=2;for(var G49=1;a2ww.y89(G49.toString(),G49.toString().length,54076) !== i49;G49++){g3Q=I7Q.calculateHeikinAshi(S3Q,f3Q,Y3Q);T49+=+"2";}if(a2ww.y89(T49.toString(),T49.toString().length,"20318" >> 765253536) !== j49){g3Q=I7Q.calculateHeikinAshi(S3Q,f3Q,Y3Q);}}else if(T3Q == "rangebars"){g3Q=I7Q.calculateRangeBars(S3Q,f3Q,s3Q.rangebars,Y3Q);}else if(T3Q == "kagi"){g3Q=I7Q.calculateKagi(S3Q,f3Q,s3Q.kagi,Y3Q);}else if(T3Q == "linebreak"){g3Q=I7Q.calculateLineBreak(S3Q,f3Q,s3Q.priceLines,Y3Q);}else if(T3Q == "renko"){g3Q=I7Q.calculateRenkoBars(S3Q,f3Q,s3Q.renko,Y3Q);}else if(T3Q == y09){g3Q=I7Q.calculatePointFigure(S3Q,f3Q,s3Q.pandf,Y3Q);}return g3Q;};I7Q.calculateHeikinAshi=function(I5Q,x3Q,U3Q){var C0e=a2ww;var G3Q,b3Q,t3Q,h3Q,D3Q,v3Q,F3Q,W3Q,J3Q,d3Q,A3Q;if(!x3Q.length){return x3Q;}if(!U3Q){U3Q=[];}G3Q=[];for(var z3Q=0;z3Q < x3Q.length;z3Q++){b3Q=x3Q[z3Q];if(!b3Q)continue;C0e.z5m(11);var H3c=C0e.W5m(10,13,11,33,1);t3Q=G3Q[G3Q.length - H3c];if(!t3Q && !z3Q){t3Q=U3Q[U3Q.length - ("1" ^ 0)];}if(!t3Q){t3Q=b3Q;}h3Q=b3Q.Close;D3Q=b3Q.Open;v3Q=b3Q.High;F3Q=b3Q.Low;W3Q=t3Q.Open;D3Q=D3Q || D3Q === +"0"?D3Q:h3Q;v3Q=v3Q || v3Q === 0?v3Q:h3Q;F3Q=F3Q || F3Q === 0?F3Q:h3Q;W3Q=W3Q || W3Q === 0?W3Q:t3Q.Close;C0e.z5m(12);var p3c=C0e.x5m(20,0,18);J3Q=(W3Q + t3Q.Close) / p3c;C0e.z5m(13);d3Q=C0e.x5m(v3Q,F3Q,h3Q,D3Q,"4");A3Q={DT:b3Q.DT,displayDate:b3Q.displayDate,Date:b3Q.Date,Open:J3Q,Close:d3Q,High:Math.max(v3Q,Math.max(J3Q,d3Q)),Low:Math.min(F3Q,Math.min(J3Q,d3Q)),Volume:b3Q.Volume,iqPrevClose:t3Q.Close};for(var Z3Q in b3Q){if(!A3Q[Z3Q] && A3Q[Z3Q] !== 0){A3Q[Z3Q]=b3Q[Z3Q];}}G3Q.push(A3Q);}return G3Q;};I7Q.calculateKagi=function(B5Q,R5Q,a5Q,E5Q){var H0e=a2ww;var M5Q,Q5Q,e5Q,K5Q,n5Q,q5Q,N5Q,j5Q;if(!R5Q.length){return R5Q;}if(!E5Q){E5Q=[];}M5Q=B5Q.layout;Q5Q=B5Q.chart;a5Q=parseFloat(a5Q);Q5Q.defaultChartStyleConfig.kagi=I7Q.ChartEngine.isDailyInterval(M5Q.interval)?4:0.4;if(isNaN(a5Q) || a5Q <= 0){a5Q=Q5Q.defaultChartStyleConfig.kagi;if(I7Q.Market.Symbology.isForexSymbol(Q5Q.symbol)){a5Q/=4;}if(M5Q.kagi !== null){M5Q.kagi=null;B5Q.changeOccurred("layout");}}a5Q/=100;e5Q=[];H0e.z5m(1);var a3c=H0e.W5m(0,17,5,86);K5Q=E5Q[E5Q.length - a3c];n5Q=K5Q?K5Q.DT:0;for(var H5Q=0;H5Q < R5Q.length;H5Q++){q5Q=R5Q[H5Q];if(!q5Q)continue;if(!K5Q){H0e.z5m(6);K5Q=R5Q[H0e.x5m(H5Q,1)];}if(!K5Q)continue;N5Q=K5Q.Open || K5Q.Open === 0?K5Q.Open:K5Q.Close;if(N5Q > K5Q.Close){if(q5Q.Close > K5Q.Close * (1 + a5Q)){q5Q.Open=K5Q.Close;}else {if(K5Q.Close > q5Q.Close){K5Q.Close=q5Q.Close;}K5Q.Volume+=q5Q.Volume;if(H5Q < R5Q.length - 1)continue;}}else if(N5Q < K5Q.Close){if(q5Q.Close < K5Q.Close * (1 - a5Q)){q5Q.Open=K5Q.Close;}else {if(K5Q.Close < q5Q.Close){K5Q.Close=q5Q.Close;}K5Q.Volume+=q5Q.Volume;if(H5Q < R5Q.length - 1)continue;}}else {K5Q.Close=q5Q.Close;K5Q.Volume+=q5Q.Volume;if(H5Q < R5Q.length - 1)continue;}j5Q={DT:K5Q.DT,displayDate:K5Q.displayDate,Date:K5Q.Date,Open:K5Q.Open,Close:K5Q.Close,High:Math.max(K5Q.Open,K5Q.Close),Low:Math.min(K5Q.Open,K5Q.Close),Volume:K5Q.Volume,iqPrevClose:K5Q.iqPrevClose};for(var p5Q in K5Q){if(!j5Q[p5Q] && j5Q[p5Q] !== 0){j5Q[p5Q]=K5Q[p5Q];}}if(e5Q.length){j5Q.kagiPrevOpen=e5Q[e5Q.length - 1].Open;}else {j5Q.kagiPrevOpen=j5Q.Open;}if(j5Q.Close > j5Q.kagiPrevOpen && j5Q.kagiPrevOpen > j5Q.Open){j5Q.kagiTrend=1;}else if(j5Q.Close < j5Q.kagiPrevOpen && j5Q.kagiPrevOpen < j5Q.Open){j5Q.kagiTrend=- +"1";}if(n5Q < j5Q.DT){e5Q.push(j5Q);}K5Q=q5Q;Q5Q.currentQuote={Close:q5Q.Close};}return e5Q;};I7Q.calculateLineBreak=function(g5Q,m5Q,w5Q,T5Q){var y5Q,k5Q,C5Q,f5Q,r5Q,o5Q,X5Q,u5Q,L5Q,P5Q,l5Q,c5Q,V5Q,i5Q;if(!m5Q.length){return m5Q;}if(!T5Q){T5Q=[];}y5Q=g5Q.layout;k5Q=g5Q.chart;k5Q.defaultChartStyleConfig.priceLines=3;w5Q=parseInt(w5Q,10);if(isNaN(w5Q) || w5Q <= 0){w5Q=k5Q.defaultChartStyleConfig.priceLines;if(y5Q.priceLines !== null){y5Q.priceLines=null;g5Q.changeOccurred("layout");}}else if(w5Q > 10){y5Q.priceLines=w5Q=10;}C5Q=T5Q.slice(-w5Q);f5Q=C5Q.length;r5Q=0;a:for(var S5Q=0;S5Q < m5Q.length;S5Q++){o5Q=m5Q[S5Q];if(!o5Q)continue;r5Q+=o5Q.Volume;a2ww.U5m(5);var d3c=a2ww.W5m(17,8,17,7);X5Q=C5Q[C5Q.length - d3c];if(!X5Q){X5Q={Open:o5Q.Open,Close:o5Q.Open,High:o5Q.Open,Low:o5Q.Open};}u5Q=X5Q.Close;L5Q=X5Q.High;P5Q=X5Q.Low;l5Q=X5Q.Open;L5Q=L5Q || L5Q === 0?L5Q:u5Q;P5Q=P5Q || P5Q === 0?P5Q:u5Q;l5Q=l5Q || l5Q === 0?l5Q:u5Q;c5Q={DT:o5Q.DT,displayDate:o5Q.displayDate,Date:o5Q.Date,Close:o5Q.Close,Volume:r5Q,iqPrevClose:u5Q};k5Q.currentQuote={Close:o5Q.Close};if(o5Q.Close > u5Q && X5Q.Close > l5Q){;}else if(o5Q.Close < u5Q && X5Q.Close < l5Q){;}else if(o5Q.Close > L5Q){for(V5Q=2;V5Q <= w5Q;V5Q++){i5Q=C5Q[C5Q.length - V5Q];if(i5Q && o5Q.Close <= i5Q.High){continue a;}}}else if(o5Q.Close < P5Q){for(V5Q=2;V5Q <= w5Q;V5Q++){i5Q=C5Q[C5Q.length - V5Q];if(i5Q && o5Q.Close >= i5Q.Low){continue a;}}}else continue;if(o5Q.Close < X5Q.Close){c5Q.Open=Math.min(l5Q,u5Q);}else {c5Q.Open=Math.max(l5Q,u5Q);}c5Q.Low=Math.min(c5Q.Open,c5Q.Close);c5Q.High=Math.max(c5Q.Open,c5Q.Close);for(var O5Q in o5Q){if(!c5Q[O5Q] && c5Q[O5Q] !== ("0" & 2147483647)){c5Q[O5Q]=o5Q[O5Q];}}C5Q.push(c5Q);r5Q=0;}return C5Q.slice(f5Q);};I7Q.getMaxRenkoBarsPerRecord=function(Y5Q){a2ww.b9e();a2ww.U5m(14);return a2ww.W5m(0,"200");};I7Q.calculateRenkoBars=function(z5Q,b5Q,s5Q,h5Q,H9Q){var O2e=a2ww;var A5Q,G5Q,e9Q,W5Q,Q9Q,K09,J5Q,Z5Q,p9Q,E9Q,d5Q,M9Q,Q09,I9Q,t5Q,v5Q,D5Q,K9Q,F5Q,j9Q,q9Q,a9Q,R9Q,B9Q,N9Q,n9Q,o9Q,c9Q;if(!b5Q.length){return [];}if(!h5Q){h5Q=[];}A5Q=z5Q.layout;G5Q=z5Q.chart;e9Q=s5Q;W5Q=G5Q.state.aggregation;if(!W5Q){W5Q=G5Q.state.aggregation={};}Q9Q=Math.min(300,b5Q.length);if(!W5Q.minMax){K09="Lo";K09+="w";W5Q.minMax=z5Q.determineMinMax(b5Q.slice(b5Q.length - Q9Q),["Close","High",K09]);}O2e.U5m(4);var x3c=O2e.W5m(0,16,17);J5Q=W5Q.minMax["1" | x3c] - W5Q.minMax[0];Z5Q=z5Q.panels[G5Q.name].height;if(!Z5Q){return [];}p9Q=h5Q.length > 0;O2e.z5m(15);E9Q=K7Q(O2e.W5m(Z5Q,J5Q,"30"));function x5Q(u9Q,l9Q){var V9Q;O2e.q9e();u9Q=Number(u9Q.toFixed(8));l9Q=Number(l9Q.toFixed(8));V9Q={DT:D5Q.DT,displayDate:D5Q.displayDate,Date:D5Q.Date,Open:u9Q,Close:l9Q,High:Math.max(u9Q,l9Q),Low:Math.min(u9Q,l9Q),Volume:+"0",iqPrevClose:u9Q != l9Q?u9Q:null};for(var L9Q in D5Q){if(!V9Q[L9Q] && V9Q[L9Q] !== 0){V9Q[L9Q]=D5Q[L9Q];}}I9Q.push(V9Q);}d5Q=I7Q.getMaxRenkoBarsPerRecord(G5Q.symbolObject);if(H9Q){M9Q=b5Q.reduce((C9Q,X9Q)=>{var w9Q;w9Q=Math.abs(X9Q.Close - X9Q.iqPrevClose);return w9Q > C9Q?w9Q:C9Q;},0);O2e.z5m(16);W5Q.minAutoRenko=K7Q(O2e.W5m(d5Q,M9Q));}G5Q.defaultChartStyleConfig.renko=W5Q.minAutoRenko || E9Q;if(s5Q === null || isNaN(s5Q) || s5Q <= 0){s5Q=G5Q.defaultChartStyleConfig.renko;if(A5Q.renko !== null){A5Q.renko=null;z5Q.changeOccurred("layout");}}else {O2e.U5m(16);s5Q=Math.max(s5Q,O2e.x5m(Z5Q,J5Q));if(A5Q.renko !== s5Q){Q09="l";Q09+="a";Q09+="yout";A5Q.renko=s5Q;z5Q.changeOccurred(Q09);}}I9Q=[];t5Q=null;v5Q=null;D5Q=null;if(h5Q.length){O2e.z5m(17);var v3c=O2e.x5m(11,16,3,7);K9Q=h5Q[h5Q.length - v3c];t5Q=K9Q.Low - s5Q;v5Q=K9Q.High + s5Q;}for(var U5Q=0;U5Q < b5Q.length;U5Q++){F5Q=b5Q[U5Q];if(!F5Q)continue;if(!t5Q && !v5Q){j9Q=F5Q.Open || F5Q.Open === 0?F5Q.Open:F5Q.Close;q9Q=Math.floor(j9Q / s5Q) * s5Q;a9Q=isNaN(q9Q)?j9Q:q9Q;O2e.z5m(6);t5Q=O2e.x5m(a9Q,s5Q);O2e.U5m(2);v5Q=O2e.x5m(a9Q,s5Q);}O2e.U5m(18);R9Q=O2e.x5m(d5Q,s5Q);B9Q=!A5Q.renko;N9Q=t5Q - F5Q.Close;n9Q=F5Q.Close - v5Q;o9Q=N9Q > R9Q || n9Q > R9Q;c9Q=B9Q && o9Q && !H9Q && !p9Q;if(c9Q){return I7Q.calculateRenkoBars(z5Q,b5Q,e9Q,h5Q,! !{});}while(! !1){if(!D5Q){D5Q=F5Q;}if(F5Q.Close <= t5Q){O2e.U5m(2);x5Q(O2e.x5m(t5Q,s5Q),t5Q);O2e.U5m(19);v5Q=O2e.x5m(s5Q,2,t5Q);t5Q-=s5Q;D5Q=null;}else if(F5Q.Close >= v5Q){O2e.z5m(6);x5Q(O2e.W5m(v5Q,s5Q),v5Q);O2e.U5m(20);t5Q=O2e.W5m(s5Q,v5Q,2);v5Q+=s5Q;D5Q=null;}else break;}G5Q.currentQuote=F5Q;}if(t5Q < b5Q[b5Q.length - 1].Close && t5Q + s5Q > b5Q[b5Q.length - 1].Close){O2e.U5m(2);x5Q(O2e.x5m(t5Q,s5Q),b5Q[b5Q.length - 1].Close);}else if(v5Q > b5Q[b5Q.length - 1].Close && v5Q - s5Q < b5Q[b5Q.length - 1].Close){O2e.U5m(6);x5Q(O2e.W5m(v5Q,s5Q),b5Q[b5Q.length - 1].Close);}return I9Q;};I7Q.calculateRangeBars=function(v9Q,r9Q,i9Q,W9Q){var b2e=a2ww;var V09,U09,D9Q,F9Q,s9Q,U9Q,h9Q,G9Q,A9Q,P9Q,S9Q,g9Q,z9Q,T9Q,O9Q,t9Q,f9Q,m9Q,y9Q,k9Q,x9Q,d9Q;function b9Q(a8Q,q8Q){b2e.b9e();var u09;while(1){if(!T9Q){T9Q=a8Q;}if(P9Q < q8Q){P9Q=Math.min(q8Q,S9Q);b2e.z5m(6);g9Q=Math.max(g9Q,b2e.W5m(P9Q,i9Q));if(q8Q < S9Q)break;}else if(P9Q >= q8Q){P9Q=Math.max(q8Q,g9Q);b2e.U5m(2);S9Q=Math.min(S9Q,b2e.W5m(P9Q,i9Q));if(q8Q > g9Q)break;}if(typeof P9Q == "undefined"){u09="Uh oh undefined in calculateRa";u09+="ng";u09+="eBar";u09+="s:processMove";console.log(u09);return;}J9Q(P9Q);T9Q=null;Z9Q();}}V09="H";V09+="igh";U09="C";U09+="lose";if(!r9Q.length){return r9Q;}if(!W9Q){W9Q=[];}D9Q=v9Q.layout;F9Q=v9Q.chart;s9Q=F9Q.state.aggregation;if(!s9Q){s9Q=F9Q.state.aggregation={};}U9Q=Math.min(300,r9Q.length);if(!s9Q.minMax){s9Q.minMax=v9Q.determineMinMax(r9Q.slice(r9Q.length - U9Q),[U09,V09,"Low"]);}h9Q=s9Q.minMax["1" ^ 0] - s9Q.minMax[0];G9Q=v9Q.panels[F9Q.name].height;if(!G9Q){return [];}b2e.U5m(21);F9Q.defaultChartStyleConfig.range=K7Q(b2e.W5m(30,G9Q,h9Q));if(i9Q === null || isNaN(i9Q) || i9Q < 0){i9Q=F9Q.defaultChartStyleConfig.range;if(D9Q.range !== null){D9Q.range=null;v9Q.changeOccurred("layout");}}else {b2e.U5m(16);i9Q=Math.max(i9Q,b2e.x5m(G9Q,h9Q));if(D9Q.range !== i9Q){D9Q.range=i9Q;v9Q.changeOccurred("layout");}}function J9Q(j8Q){var I8Q;I8Q={DT:T9Q.DT,displayDate:T9Q.displayDate,Date:T9Q.Date,Open:Number(z9Q.toFixed(+"8")),Close:Number(j8Q.toFixed(+"8")),High:Number(S9Q.toFixed(8)),Low:Number(g9Q.toFixed(8)),Volume:0};I8Q.iqPrevClose=I8Q.Open;for(var K8Q in T9Q){if(!I8Q[K8Q] && I8Q[K8Q] !== 0){I8Q[K8Q]=T9Q[K8Q];}}A9Q.push(I8Q);}A9Q=[];P9Q=null;S9Q=null;g9Q=null;z9Q=null;T9Q=null;for(var Y9Q=0;Y9Q < r9Q.length;Y9Q++){O9Q=r9Q[Y9Q];if(!O9Q)continue;b2e.U5m(6);t9Q=r9Q[b2e.W5m(Y9Q,1)];if(!Y9Q){if(!t9Q){b2e.U5m(6);var Z3c=b2e.W5m(4,3);t9Q=W9Q[W9Q.length - Z3c];}if(t9Q){P9Q=t9Q.Close;if(P9Q || P9Q === 0){Z9Q();}}}if(!t9Q)continue;f9Q=O9Q.Close;m9Q=O9Q.Open;y9Q=O9Q.High;k9Q=O9Q.Low;if(!f9Q && f9Q !== 0)continue;m9Q=m9Q || m9Q === +"0"?m9Q:f9Q;y9Q=y9Q || y9Q === 0?y9Q:f9Q;k9Q=k9Q || k9Q === 0?k9Q:f9Q;if(!P9Q && P9Q !== 0){x9Q=Math.floor(m9Q / i9Q) * i9Q;P9Q=isNaN(x9Q)?m9Q:x9Q;Z9Q();b9Q(t9Q,m9Q);}if(Y9Q){b9Q(O9Q,m9Q);}if(y9Q - m9Q < m9Q - k9Q){if(y9Q){b9Q(O9Q,y9Q);}if(k9Q){b9Q(O9Q,k9Q);}}else {if(k9Q){b9Q(O9Q,k9Q);}if(y9Q){b9Q(O9Q,y9Q);}}b9Q(O9Q,f9Q);if(Y9Q == r9Q.length - 1 && f9Q != z9Q){d9Q=S9Q;b2e.z5m(2);S9Q=b2e.x5m(g9Q,i9Q);b2e.U5m(6);g9Q=b2e.x5m(d9Q,i9Q);J9Q(f9Q);}}function Z9Q(){b2e.q9e();b2e.U5m(2);S9Q=b2e.x5m(P9Q,i9Q);b2e.z5m(6);g9Q=b2e.W5m(P9Q,i9Q);z9Q=P9Q;}return A9Q;};I7Q.calculatePointFigure=function(L8Q,P8Q,O8Q,m8Q){var q2e=a2ww;var B8Q,o8Q,y8Q,R8Q,E8Q,c8Q,E09,l8Q,V8Q,X8Q,M8Q,p8Q,N8Q,H8Q,n8Q,u8Q,e8Q,Q8Q,w8Q,C8Q;if(!P8Q.length){return P8Q;}if(!m8Q){m8Q=[];}B8Q=L8Q.layout;o8Q=L8Q.chart;y8Q=o8Q.state.aggregation;if(!y8Q){y8Q=o8Q.state.aggregation={};}o8Q.defaultChartStyleConfig.box=1;o8Q.defaultChartStyleConfig.reversal=3;if(!O8Q){O8Q={};}R8Q=O8Q.box;if(!R8Q){if(B8Q.pandf){if(B8Q.pandf.box !== null){B8Q.pandf.box=null;L8Q.changeOccurred("layout");}}R8Q=o8Q.defaultChartStyleConfig.box;E8Q=P8Q[P8Q.length - 1].Close;if(E8Q){if(E8Q < 0.25){R8Q=0.0625;}else if(E8Q < 1){R8Q=0.125;}else if(E8Q < 5){R8Q=0.25;}else if(E8Q < 20){R8Q=0.5;}else if(E8Q < +"100"){R8Q=1;}else if(E8Q < 200){R8Q=2;}else if(E8Q < 500){R8Q=4;}else if(E8Q < 1000){q2e.z5m(22);R8Q=q2e.x5m("5",1);}else if(E8Q < 25000){R8Q=50;}else {R8Q=500;}}if(!I7Q.ChartEngine.isDailyInterval(B8Q.interval)){R8Q/=10;}if(I7Q.Market.Symbology.isForexSymbol(o8Q.symbol)){if(E8Q){if(E8Q < 1){R8Q=0.001;}else if(E8Q < "2" >> 1862281792){R8Q=0.002;}else if(E8Q < 50){R8Q=0.02;}else if(E8Q < 200){R8Q=0.2;}}if(I7Q.ChartEngine.isDailyInterval(B8Q.interval)){R8Q*=10;}}o8Q.defaultChartStyleConfig.box=R8Q;}R8Q=parseFloat(R8Q);if(isNaN(R8Q) || R8Q <= 0){if(B8Q.pandf){if(B8Q.pandf.box !== null){B8Q.pandf.box=null;L8Q.changeOccurred("layout");}}o8Q.defaultChartStyleConfig.box=R8Q=1;}function S8Q(F8Q,D8Q,W8Q,G8Q,z8Q,h8Q,A8Q,Z8Q,x8Q){return {DT:F8Q.DT,Date:F8Q.Date,pfOpen:Z8Q,pfClose:x8Q,Open:D8Q,Close:z8Q,High:W8Q,Low:G8Q,Volume:h8Q,iqPrevClose:A8Q};}c8Q=Math.ceil(parseFloat(O8Q.reversal));function i8Q(Y8Q,s8Q,b8Q,t8Q,v8Q){var E89,W89,l89;Y8Q.High=Math.max(s8Q,Y8Q.High);Y8Q.Low=Math.min(b8Q,Y8Q.Low);Y8Q.Close=t8Q;E89=1268958033;W89=455501523;l89=2;for(var o89="1" << 678496384;q2e.y89(o89.toString(),o89.toString().length,48309) !== E89;o89++){Y8Q.Volume%=v8Q;l89+=2;}if(q2e.P89(l89.toString(),l89.toString().length,11088) !== W89){Y8Q.Volume+=v8Q;}}if(c8Q > 0 && c8Q > O8Q.reversal){E09="la";E09+="you";E09+="t";B8Q.pandf.reversal=c8Q;L8Q.changeOccurred(E09);}else if(isNaN(c8Q) || c8Q <= 0){if(B8Q.pandf){if(B8Q.pandf.reversal !== null){B8Q.pandf.reversal=null;L8Q.changeOccurred("layout");}}c8Q=o8Q.defaultChartStyleConfig.reversal;}function r8Q(f8Q,T8Q){for(var g8Q in f8Q){if(!T8Q[g8Q] && T8Q[g8Q] !== +"0"){T8Q[g8Q]=f8Q[g8Q];}}q2e.q9e();return T8Q;}y8Q.box=R8Q;c8Q*=R8Q;l8Q=0.00000001;V8Q=(R8Q.toString() + ((7301,8140) <= 1072?(! ![],7.90e+3):".")).split(9080 === 900?(+"375.31",2290) !== +"1850"?"0x1c3" ^ 0:+"0x1115":".")[1].length;X8Q=[];M8Q=0;for(var k8Q=0;k8Q < P8Q.length;k8Q++){N8Q=P8Q[k8Q];if(!N8Q)continue;M8Q+=N8Q.Volume;n8Q=N8Q.Close;u8Q=N8Q.Open;e8Q=N8Q.High;Q8Q=N8Q.Low;u8Q=u8Q || u8Q === 0?u8Q:n8Q;e8Q=e8Q || e8Q === 0?e8Q:n8Q;Q8Q=Q8Q || Q8Q === 0?Q8Q:n8Q;if(!X8Q.length && !m8Q.length){p8Q=r8Q(N8Q,S8Q(N8Q,u8Q,e8Q,Q8Q,n8Q,M8Q,e8Q + R8Q,Number((Math.ceil(Q8Q / R8Q - l8Q) * R8Q).toFixed(V8Q)),Number((Math.floor(e8Q / R8Q + l8Q) * R8Q).toFixed(V8Q))));p8Q.pfTrend=(2630,9460) < 794.15?(+"0xff6",! !1):(2351,495) != 909?("9118" & 2147483647,"1210" ^ 0) !== (4520,2440)?"X":"B":(![],0x19e8);if(p8Q.pfOpen == p8Q.pfClose){p8Q.pfStepBack=750.04 != 875.5?"-":514 == (6320,3730)?"p":!0;}X8Q.push(p8Q);M8Q=0;continue;}q2e.U5m(23);var J3c=q2e.x5m(17,16);H8Q=X8Q[X8Q.length - J3c];if(!H8Q){H8Q=I7Q.clone(m8Q[m8Q.length - "1" * 1]);}if(H8Q.pfTrend == (308.49 <= 3910?1161 === 8037?9.73e+3:"O":658.82)){if(Q8Q <= H8Q.pfClose - R8Q){H8Q.pfClose=Number((Math.ceil(Q8Q / R8Q - l8Q) * R8Q).toFixed(V8Q));if(H8Q.pfStepBack == (2847 !== (1344,1006)?"O":(4.26e+3,!{}))){H8Q.pfStepBack=null;}i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);}else if(e8Q >= H8Q.pfClose + c8Q){w8Q=H8Q.pfClose + R8Q;C8Q=Number((Math.floor(e8Q / R8Q + l8Q) * R8Q).toFixed(V8Q));p8Q=S8Q(N8Q,u8Q,e8Q,Q8Q,n8Q,M8Q,H8Q.pfClose,w8Q,C8Q);if(w8Q == C8Q){p8Q.pfStepBack="X";}if(H8Q.pfStepBack == (16.36 != (3969,738.66)?"O":(2580,"4360" >> 1184876320) === 2270?! !"1":!"")){H8Q.pfOpen=w8Q;H8Q.pfClose=C8Q;H8Q.pfTrend=(9638,894.26) !== 8570?"X":("S",1.23e+3);i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);}else {p8Q=r8Q(N8Q,p8Q);p8Q.pfTrend=(839.71,7377) >= "629.09" - 0?"X":"k";X8Q.push(p8Q);}}else {i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);}M8Q=0;}else if(H8Q.pfTrend == (223.57 == (8750,5951)?(598.52,974.14):(6012,2450) <= 2890?"X":8700 <= 562?(!{},"8.93e+3" >> 648695072):!{})){if(e8Q >= H8Q.pfClose + R8Q){H8Q.pfClose=Number((Math.floor(e8Q / R8Q + l8Q) * R8Q).toFixed(V8Q));if(H8Q.pfStepBack == ((102.55,7617) > (400.89,6784)?"X":"3980" >> 906145984 != "283.3" * 1?2194 === 83?0x2513:0x144b:(! !"",! ![])) || H8Q.pfStepBack == "-"){H8Q.pfStepBack=null;}i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);}else if(Q8Q <= H8Q.pfClose - c8Q){w8Q=H8Q.pfClose - R8Q;C8Q=Number((Math.ceil(Q8Q / R8Q - l8Q) * R8Q).toFixed(V8Q));p8Q=S8Q(N8Q,u8Q,e8Q,Q8Q,n8Q,M8Q,H8Q.pfClose,w8Q,C8Q);if(w8Q == C8Q){p8Q.pfStepBack=(130.47,397.64) <= 922.46?"O":6360 < 5630?"x":"8980" >> 1440491584 !== 9725?!{}:8.70;}if(H8Q.pfStepBack == ((2661,2230) > (76.46,5749)?(658,0x15eb):"X") || H8Q.pfStepBack == (4020 <= ("6000" | 5376,832.92)?("c","M"):"-")){H8Q.pfOpen=w8Q;H8Q.pfClose=C8Q;H8Q.pfTrend=+"5820" !== ("2972" * 1,1710)?3118 != ("2800" ^ 0,2610)?952.23 < (9911,8876)?"O":1.70e+3:(209.70,85.22):+"986.06";i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);if(w8Q != C8Q && H8Q.pfStepBack == ((3364,8537) > 1557?"-":(+"108.46",6760) > (4724,250.29)?! !0:"l")){H8Q.pfStepBack=null;}}else {p8Q=r8Q(N8Q,p8Q);p8Q.pfTrend="O";X8Q.push(p8Q);}}else {i8Q(H8Q,e8Q,Q8Q,n8Q,M8Q);}M8Q=0;}}return X8Q;};};g6Q=d8Q=>{var J2e=a2ww;var W09,U8Q,J8Q,p69,H69,N69,F69,w69,M69,A69,o69,E69,u69,r69,z69,C69,n69,I69,b59,x09,e09,S09,A09;W09="un";W09+="d";W09+="efine";W09+="d";U8Q=typeof _CIQ !== W09?_CIQ:d8Q.CIQ;J8Q=typeof _timezoneJS !== "undefined"?_timezoneJS:d8Q.timezoneJS;if(!U8Q.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {p69="f";p69+="on";p69+="t";H69="p";H69+="atte";H69+="rn";N69="l";N69+="in";N69+="e";N69+="Width";F69="I";F69+="I";w69="line";w69+="Width";M69="col";M69+="or";A69="c";A69+="ol";A69+="o";A69+="r";o69="ax";o69+="isLabel";E69="p";E69+="at";E69+="te";E69+="rn";u69="f";u69+="i";u69+="llColo";u69+="r";r69="pattern";r69+="3";z69="lineWid";z69+="th2";C69="p";C69+="att";C69+="ern1";n69="l";n69+="in";n69+="eWidth1";I69="ac";I69+="ti";I69+="v";I69+="e1";b59="l";b59+="w";x09="p";x09+="att";x09+="e";x09+="rn";e09="l";e09+="in";e09+="eWidth";S09="pa";S09+="ttern";A09="fillC";A09+="olor";U8Q.Drawing.ray=function(){J2e.q9e();this.name="ray";};U8Q.inheritsFrom(U8Q.Drawing.ray,U8Q.Drawing.line);U8Q.Drawing.ray.prototype.calculateOuterSet=function(j1u){var I1u,K1u;if(this.p0[0] == this.p1[0] || this.p0[+"1"] == this.p1[1] || U8Q.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}I1u={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1["1" | 0]};J2e.U5m(24);var L3c=J2e.W5m(17,1016,12,13);K1u=I1u.x1 + L3c;if(I1u.x0 > I1u.x1){J2e.U5m(2);var R9t=J2e.x5m(500,500);K1u=I1u.x1 - R9t;}this.v0B=this.v0;this.v1B=U8Q.yIntersection(I1u,K1u);this.d0B=this.d0;J2e.q9e();this.d1B=this.stx.dateFromTick(K1u,j1u.chart);};U8Q.Drawing.ray.prototype.adjust=function(){J2e.q9e();var q1u;q1u=this.stx.panels[this.panelName];if(!q1u){return;}this.setPoint(+"0",this.d0,this.v0,q1u.chart);this.setPoint(1,this.d1,this.v1,q1u.chart);if(U8Q.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,q1u.chart);}};U8Q.Drawing.continuous=function(){var l09;l09="continu";l09+="o";J2e.b9e();l09+="us";this.name=l09;this.dragToDraw=!{};this.maxSegments=null;};U8Q.inheritsFrom(U8Q.Drawing.continuous,U8Q.Drawing.segment);U8Q.Drawing.continuous.prototype.click=function(M1u,H1u,e1u){var a1u,R1u,p1u,Q1u,E1u;a1u=this.stx;R1u=a1u.panels[this.panelName];if(!R1u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,H1u,e1u,R1u.chart);this.penDown=!"";return ! !0;}if(this.accidentalClick(H1u,e1u)){a1u.undo();return ! !{};}this.setPoint(1,H1u,e1u,R1u.chart);p1u=U8Q.Drawing.segment;Q1u=new p1u();J2e.q9e();E1u=this.serialize(a1u);Q1u.reconstruct(a1u,E1u);a1u.addDrawing(Q1u);a1u.changeOccurred("vector");a1u.draw();Q1u++;if(this.maxSegments && this.segment > this.maxSegments){return ! !1;}this.setPoint(0,H1u,e1u,R1u.chart);return !{};};U8Q.Drawing.ellipse=function(){var O09;O09="e";O09+="ll";O09+="ip";O09+="se";this.name=O09;};U8Q.inheritsFrom(U8Q.Drawing.ellipse,U8Q.Drawing.BaseTwoPoint);U8Q.Drawing.ellipse.prototype.render=function(B1u){var q09,o09,c1u,N1u,u1u,y1u,l1u,V1u,L1u,w1u,P1u,i1u,O1u,m1u,C1u,n1u,o1u,X1u,W19,l19,O19,k1u;q09="n";q09+="on";q09+="e";o09="a";o09+="u";o09+="t";o09+="o";c1u=this.stx;N1u=c1u.panels[this.panelName];u1u=c1u.getYAxisByField(N1u,this.field);if(!N1u || this.field && !u1u){return;}y1u=c1u.pixelFromTick(this.p0[0],N1u.chart);l1u=c1u.pixelFromTick(this.p1[0],N1u.chart);V1u=this.pixelFromValue(N1u,this.p0[0],this.p0[1],u1u);L1u=this.pixelFromValue(N1u,this.p1[0],this.p1[1],u1u);J2e.z5m(25);w1u=J2e.x5m(y1u,l1u,y1u);P1u=l1u;i1u=V1u;O1u=L1u;J2e.U5m(25);m1u=J2e.W5m(V1u,L1u,V1u);J2e.z5m(26);C1u=J2e.x5m(O1u,m1u,6);n1u=this.lineWidth;if(!n1u){n1u=1.1;}o1u=this.color;if(o1u == "auto" || U8Q.isTransparent(o1u)){o1u=this.getLineColor();}if(this.highlighted && n1u == "0.1" - 0){n1u=1.1;}X1u=this.fillColor;B1u.beginPath();B1u.moveTo(w1u,i1u);J2e.U5m(2);B1u.bezierCurveTo(w1u,J2e.W5m(O1u,C1u),P1u,J2e.x5m(O1u,C1u),P1u,i1u);J2e.b9e();J2e.z5m(6);B1u.bezierCurveTo(P1u,J2e.W5m(m1u,C1u),w1u,J2e.x5m(m1u,C1u),w1u,i1u);if(X1u && !U8Q.isTransparent(X1u) && X1u != o09){B1u.fillStyle=X1u;B1u.globalAlpha=0.2;B1u.fill();B1u.globalAlpha=1;}if(o1u && this.pattern != q09){W19=1840069455;l19=-2058029688;O19=2;for(var q19=1;J2e.y89(q19.toString(),q19.toString().length,3385) !== W19;q19++){B1u.strokeStyle=o1u;B1u.lineWidth=n1u;O19+=+"2";}if(J2e.P89(O19.toString(),O19.toString().length,95618) !== l19){B1u.strokeStyle=o1u;B1u.lineWidth=n1u;}B1u.strokeStyle=o1u;B1u.lineWidth=n1u;if(B1u.setLineDash){B1u.setLineDash(U8Q.borderPatternToArray(n1u,this.pattern));B1u.lineDashOffset=0;;}B1u.stroke();}B1u.closePath();if(this.highlighted){k1u=this.highlighted == "p1"?!"":!{};this.littleCircle(B1u,l1u,L1u,k1u);}};U8Q.Drawing.ellipse.prototype.intersected=function(F1u,Z1u,D1u){var m09,S1u,g1u,T1u,f1u,r1u,v1u;m09="m";m09+="o";m09+="ve";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],D1u)){this.highlighted="p1";return {action:"drag",point:"p1"};}S1u=this.p0[0] - (this.p1[0] - this.p0[0]);g1u=this.p1[0];T1u=this.p1[1];J2e.U5m(24);var t9t=J2e.W5m(15,0,6,22);J2e.U5m(27);var s9t=J2e.x5m(10,16,40,13,0);J2e.z5m(6);var b9t=J2e.W5m(5,4);f1u=this.p0[t9t] - (this.p1[s9t] - this.p0[b9t]);var {x0:W1u, x1:G1u, y0:Y1u, y1:s1u, cy0:z1u, cy1:h1u}=D1u;if(W1u > Math.max(S1u,g1u) || G1u < Math.min(S1u,g1u)){return ! !"";}var {field:b1u, panelName:A1u, stx:t1u}=this;if(b1u){r1u=t1u.panels[A1u];v1u=t1u.getYAxisByField(r1u,b1u);Y1u=this.valueFromPixel(z1u,r1u,v1u);s1u=this.valueFromPixel(h1u,r1u,v1u);}if(s1u > Math.max(f1u,T1u) || Y1u < Math.min(f1u,T1u)){return ! !"";}this.highlighted=! !{};return {action:m09,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:F1u,value:this.valueOnDrawingAxis(F1u,Z1u)};};U8Q.Drawing.ellipse.prototype.configs=["color",A09,"lineWidth",S09];U8Q.Drawing.ellipse.prototype.reconstruct=function(U1u,x1u){this.stx=U1u;this.color=x1u.col;this.fillColor=x1u.fc;this.panelName=x1u.pnl;this.pattern=x1u.ptrn;this.lineWidth=x1u.lw;this.d0=x1u.d0;this.d1=x1u.d1;this.tzo0=x1u.tzo0;J2e.q9e();this.tzo1=x1u.tzo1;this.v0=x1u.v0;this.v1=x1u.v1;this.field=x1u.fld;this.adjust();};U8Q.Drawing.ellipse.prototype.serialize=function(){J2e.b9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};U8Q.Drawing.channel=function(){var i09;i09="c";i09+="ha";i09+="nn";i09+="el";this.name=i09;this.dragToDraw=! !"";this.p2=null;};U8Q.inheritsFrom(U8Q.Drawing.channel,U8Q.Drawing.segment);U8Q.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"];U8Q.Drawing.channel.prototype.move=function(K0u,J1u,d1u){var I0u;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[J1u,d1u];}else {J2e.z5m(28);var f9t=J2e.W5m(4,3,15);I0u=d1u - (this.p1[f9t] - this.p0["1" - 0]) / (this.p1[0] - this.p0[0]) * (J1u - this.p1[0]);this.p2=[this.p1[0],I0u];}J2e.b9e();this.render(K0u);};U8Q.Drawing.channel.prototype.click=function(H0u,q0u,a0u){var R0u,j0u;R0u=this.stx;j0u=R0u.panels[this.panelName];if(!j0u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,q0u,a0u,j0u.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(q0u,a0u)){R0u.undo();return ! !1;}if(this.p2 !== null){J2e.U5m(6);this.setPoint(J2e.x5m("2",0),this.p2[0],this.p2["1" & 2147483647],j0u.chart);this.penDown=!1;return ! !{};}this.setPoint(1,q0u,a0u,j0u.chart);J2e.q9e();if(this.p0[0] == this.p1[0]){this.p1=null;return !"1";}this.p2=[this.p1[0],this.p1[1]];return ![];};U8Q.Drawing.channel.prototype.boxIntersection=function(c0u,i0u,P0u){var B0u,o0u,V0u,L0u;var {p0:e0u, p1:Q0u, p2:p0u}=this;if(!e0u || !Q0u || !p0u){return ![];}var {x0:w0u, x1:C0u, y0:E0u, y1:M0u, cy0:X0u, cy1:u0u}=P0u;if(w0u > Math.max(e0u[0],Q0u[0]) || C0u < Math.min(e0u[+"0"],Q0u[0])){return ![];}var {field:N0u, panelName:l0u, stx:n0u}=this;if(N0u){B0u=n0u.panels[l0u];o0u=n0u.getYAxisByField(B0u,N0u);E0u=this.valueFromPixel(X0u,B0u,o0u);M0u=this.valueFromPixel(u0u,B0u,o0u);}J2e.z5m(6);var g9t=J2e.W5m(5,4);J2e.z5m(6);var h9t=J2e.x5m(9,8);J2e.U5m(29);var I9t=J2e.x5m(11,4401,20,20);J2e.U5m(5);var n9t=J2e.W5m(735762638,8,3,19);V0u=(Q0u[+"0"] - e0u[0]) * ((p0u[g9t] < e0u[1]?M0u:E0u) - e0u[+"1"]) - (Q0u[h9t] - e0u[I9t]) * (c0u - e0u["0" >> n9t]);J2e.z5m(30);var C9t=J2e.x5m(19,3,11,2);J2e.z5m(23);var z9t=J2e.W5m(9,8);J2e.z5m(31);var r9t=J2e.x5m(1,8,8,7,8);J2e.z5m(32);var B9t=J2e.x5m(15,2,10,8,15);J2e.b9e();J2e.U5m(6);var D9t=J2e.W5m(6,5);J2e.U5m(33);var P9t=J2e.x5m(3,2,4);J2e.z5m(1);var y9t=J2e.W5m(0,16,20,321);L0u=(p0u["0" & 2147483647] - e0u[0]) * ((p0u[C9t] > e0u[z9t]?M0u:E0u) - (e0u["1" | r9t] + p0u[B9t] - Q0u[D9t])) - (Q0u[P9t] - e0u[y9t]) * (c0u - e0u[0]);J2e.z5m(34);return J2e.W5m(V0u,L0u,0);};U8Q.Drawing.channel.prototype.intersected=function(y0u,k0u,r0u){var m0u,j09;if(!this.p0 || !this.p1 || !this.p2){return null;}m0u={0:this.p0,1:this.p1,2:this.p2};J2e.q9e();for(var O0u in m0u){if(this.pointIntersection(m0u[O0u][0],m0u[O0u][+"1"],r0u)){J2e.U5m(2);this.highlighted=J2e.x5m(6920 < (842.22,2250)?(![],! !{}):(1400,769.53) <= +"1390"?779.71 != "6070" << 546856672?"p":(! ![],374.07):"h",O0u);return {action:"drag",point:((+"588.71",7380) != (504.21,7539)?"p":!"1") + O0u};}}if(this.boxIntersection(y0u,k0u,r0u)){j09="m";j09+="o";j09+="v";j09+="e";this.highlighted=! !{};return {action:j09,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),p2:U8Q.clone(this.p2),tick:y0u,value:this.valueOnDrawingAxis(y0u,k0u)};}return null;};U8Q.Drawing.channel.prototype.render=function(S0u){var T0u,g0u,v0u,s0u,f0u,b0u,t0u,Y0u,G0u,W0u,F0u,D0u,T09,z0u,h0u,A0u;J2e.b9e();T0u=this.stx;g0u=T0u.panels[this.panelName];v0u=T0u.getYAxisByField(g0u,this.field);if(!g0u || this.field && !v0u){return;}s0u=T0u.pixelFromTick(this.p0[0],g0u.chart);f0u=T0u.pixelFromTick(this.p1[0],g0u.chart);b0u=this.pixelFromValue(g0u,this.p0[0],this.p0[1],v0u);t0u=this.pixelFromValue(g0u,this.p1[+"0"],this.p1[1],v0u);Y0u=null;if(this.p2){Y0u=this.pixelFromValue(g0u,this.p2[0],this.p2[1],v0u);}G0u=this.lineWidth;W0u=this.getLineColor();F0u=this.fillColor;if(this.p2 && F0u && !U8Q.isTransparent(F0u) && F0u != "auto"){S0u.beginPath();S0u.moveTo(s0u,b0u);S0u.lineTo(f0u,t0u);S0u.lineTo(f0u,Y0u);J2e.z5m(35);S0u.lineTo(s0u,J2e.W5m(b0u,t0u,Y0u));S0u.closePath();S0u.globalAlpha=0.2;S0u.fillStyle=F0u;S0u.fill();S0u.globalAlpha=1;}D0u={pattern:this.pattern,lineWidth:G0u};if((this.penDown || this.highlighted) && this.pattern == "none"){D0u.pattern="dotted";}T0u.plotLine(s0u,f0u,b0u,t0u,W0u,"segment",S0u,g0u,D0u);if(this.p2){J2e.U5m(35);T0u.plotLine(s0u,f0u,J2e.W5m(b0u,t0u,Y0u),Y0u,W0u,"segment",S0u,g0u,D0u);}if(this.highlighted){T09="p";T09+="0";z0u=this.highlighted == T09?! ![]:![];h0u=this.highlighted == "p1"?!0:![];A0u=this.highlighted == "p2"?!0:!{};this.littleCircle(S0u,s0u,b0u,z0u);this.littleCircle(S0u,f0u,t0u,h0u);this.littleCircle(S0u,f0u,Y0u,A0u);}};U8Q.Drawing.channel.prototype.reposition=function(d0u,Z0u,I2u,K2u){var x0u,U0u,J0u;if(!Z0u){return;}x0u=this.stx.panels[this.panelName];U0u=Z0u.tick - I2u;J0u=Z0u.value - K2u;J2e.b9e();if(Z0u.action == "move"){this.setPoint(0,Z0u.p0[0] - U0u,Z0u.p0[1] - J0u,x0u.chart);this.setPoint(1,Z0u.p1[0] - U0u,Z0u.p1[1] - J0u,x0u.chart);this.setPoint(2,Z0u.p2[0] - U0u,Z0u.p2[1] - J0u,x0u.chart);this.render(d0u);}else if(Z0u.action == "drag"){this[Z0u.point]=[I2u,K2u];this.setPoint(0,this.p0[+"0"],this.p0[1],x0u.chart);this.setPoint(1,this.p1[0],this.p1[1],x0u.chart);this.setPoint(2,this.p2[0],this.p2[1],x0u.chart);this.render(d0u);}};U8Q.Drawing.channel.prototype.adjust=function(){var j2u;J2e.b9e();j2u=this.stx.panels[this.panelName];if(!j2u){return;}this.setPoint(0,this.d0,this.v0,j2u.chart);this.setPoint(1,this.d1,this.v1,j2u.chart);this.setPoint(2,this.d1,this.v2,j2u.chart);;};U8Q.Drawing.channel.prototype.reconstruct=function(a2u,q2u){this.stx=a2u;this.color=q2u.col;this.fillColor=q2u.fc;this.panelName=q2u.pnl;this.pattern=q2u.ptrn;this.lineWidth=q2u.lw;this.d0=q2u.d0;this.d1=q2u.d1;this.tzo0=q2u.tzo0;this.tzo1=q2u.tzo1;this.v0=q2u.v0;this.v1=q2u.v1;this.v2=q2u.v2;this.field=q2u.fld;this.adjust();};U8Q.Drawing.channel.prototype.serialize=function(){J2e.b9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};U8Q.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!{};this.p2=null;};U8Q.inheritsFrom(U8Q.Drawing.pitchfork,U8Q.Drawing.channel);U8Q.Drawing.pitchfork.prototype.configs=["color",e09,"pattern"];U8Q.Drawing.pitchfork.prototype.move=function(e2u,R2u,H2u){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[R2u,H2u];}else {this.p2=[R2u,H2u];}this.render(e2u);};U8Q.Drawing.pitchfork.prototype.intersected=function(B2u,N2u,n2u){var E2u,M2u,Y09,G09;J2e.q9e();if(!this.p0 || !this.p1 || !this.p2){return null;}E2u={0:this.p0,1:this.p1,2:this.p2};for(var p2u in E2u){if(this.pointIntersection(E2u[p2u][0],E2u[p2u][1],n2u)){J2e.U5m(2);this.highlighted=J2e.W5m(2717 !== 977.59?"p":583.82,p2u);return {action:"drag",point:((1518,490) === 6592?(916.14,"f"):(695.67,498.32) >= 6429?542.67:"p") + p2u};}}M2u=this.rays;for(var Q2u=0;Q2u < M2u.length;Q2u++){Y09="segme";Y09+="nt";G09="r";G09+="a";G09+="y";if(this.lineIntersection(B2u,N2u,n2u,Q2u?G09:Y09,M2u[Q2u][0],M2u[Q2u][1],!0)){this.highlighted=! !{};return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),p2:U8Q.clone(this.p2),tick:B2u,value:this.valueOnDrawingAxis(B2u,N2u)};}}return null;};U8Q.Drawing.pitchfork.prototype.render=function(O2u){var u2u,o2u,V2u,l2u,m2u,c2u,w2u,y2u,C2u,X2u,S2u,g2u,T2u,L2u,k2u,r2u,i2u,f2u,Y2u,s2u,b2u;u2u=this.stx;o2u=u2u.panels[this.panelName];V2u=u2u.getYAxisByField(o2u,this.field);if(!o2u || this.field && !V2u){return;}l2u=this.p2;if(!l2u){l2u=this.p1;}m2u=u2u.pixelFromTick(this.p0[+"0"],o2u.chart);c2u=u2u.pixelFromTick(this.p1[0],o2u.chart);w2u=u2u.pixelFromTick(l2u[+"0"],o2u.chart);y2u=this.pixelFromValue(o2u,this.p0[0],this.p0[1],V2u);C2u=this.pixelFromValue(o2u,this.p1[0],this.p1[1],V2u);X2u=this.pixelFromValue(o2u,l2u[+"0"],l2u[+"1"],V2u);S2u=this.lineWidth;g2u=this.getLineColor();T2u={pattern:this.pattern,lineWidth:S2u};L2u=50;J2e.z5m(36);k2u=J2e.W5m(X2u,C2u,2,y2u);J2e.z5m(36);r2u=J2e.x5m(w2u,c2u,2,m2u);if(r2u < 0){L2u*=-1;}J2e.U5m(16);k2u*=J2e.W5m(r2u,L2u);J2e.z5m(3);this.rays=[[[c2u,C2u],[w2u,X2u]],[[m2u,y2u],[J2e.W5m(2,w2u,c2u),J2e.W5m(C2u,"2",X2u,J2e.z5m(37))]]];if(!(c2u == w2u && C2u == X2u)){J2e.z5m(6);this.rays.push([[c2u,C2u],[J2e.x5m(c2u,L2u),J2e.x5m(C2u,k2u)]],[[w2u,X2u],[J2e.x5m(w2u,L2u),J2e.x5m(X2u,k2u)]]);}for(var P2u=0;P2u < this.rays.length;P2u++){i2u=this.rays[P2u];f2u=P2u?"ray":"segment";u2u.plotLine(i2u[0][0],i2u[1][+"0"],i2u[0][+"1"],i2u[1]["1" >> 57877120],g2u,f2u,O2u,o2u,T2u);}if(this.highlighted){Y2u=this.highlighted == "p0"?! ![]:!1;s2u=this.highlighted == "p1"?! ![]:!"1";b2u=this.highlighted == "p2"?!"":! !"";this.littleCircle(O2u,m2u,y2u,Y2u);this.littleCircle(O2u,c2u,C2u,s2u);this.littleCircle(O2u,w2u,X2u,b2u);}};U8Q.Drawing.pitchfork.prototype.adjust=function(){var t2u;J2e.b9e();t2u=this.stx.panels[this.panelName];if(!t2u){return;}this.setPoint(0,this.d0,this.v0,t2u.chart);this.setPoint(1,this.d1,this.v1,t2u.chart);this.setPoint(2,this.d2,this.v2,t2u.chart);};U8Q.Drawing.pitchfork.prototype.reconstruct=function(F2u,v2u){this.stx=F2u;this.color=v2u.col;this.panelName=v2u.pnl;this.pattern=v2u.ptrn;this.lineWidth=v2u.lw;this.d0=v2u.d0;this.d1=v2u.d1;J2e.q9e();this.d2=v2u.d2;this.tzo0=v2u.tzo0;this.tzo1=v2u.tzo1;this.tzo2=v2u.tzo2;this.v0=v2u.v0;this.v1=v2u.v1;this.v2=v2u.v2;this.field=v2u.fld;this.adjust();};U8Q.Drawing.pitchfork.prototype.serialize=function(){J2e.b9e();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};U8Q.Drawing.gartley=function(){var X09;X09="g";X09+="ar";X09+="tle";X09+="y";this.name=X09;this.dragToDraw=!{};this.maxSegments=4;this.shape=null;this.points=[];};U8Q.inheritsFrom(U8Q.Drawing.gartley,U8Q.Drawing.continuous);U8Q.Drawing.gartley.prototype.check=function(W2u,D2u){J2e.b9e();if(!D2u){return !"";}if(W2u[0] >= D2u[0] || W2u[1] == D2u[1]){return !{};}if(this.segment == "1" >> 44175968){if(W2u[1] < D2u[+"1"]){this.shape=818 !== 322.12?"M":(457.35,0x1ab8);}else {this.shape=877 != (7225,7000)?(1590,"7407" ^ 0) <= 9370?"W":("0x2630" << 1234865856,0x7c1):!{};}}else if(this.segment == ("2" & 2147483647)){if(this.shape == (5320 == 5320?"M":"g") && W2u[1] < D2u[1]){return !1;}else if(this.shape == "W" && W2u[1] > D2u[1]){return !1;}else if((D2u[1] - W2u[1]) / (this.points[0][1] - W2u[1]) < "0.618" - 0){return ! !"";}else if((D2u[1] - W2u[1]) / (this.points[+"0"][+"1"] - W2u[1]) >= "0.786" - 0){return !"1";}}else if(this.segment == 3){if(this.shape == (("277" & 2147483647) < (196.21,1330)?"M":"s") && W2u[1] > D2u[1]){return !{};}else if(this.shape == ((1693,"934.1" - 0) >= (9140,744)?"W":(!"",4.29e+3)) && W2u[1] < D2u[1]){return ! !"";}else if((D2u[+"1"] - W2u["1" ^ 0]) / (this.points[1][1] - W2u[1]) < "0.618" - 0){return !{};}else if((D2u[1] - W2u[1]) / (this.points[1][1] - W2u[1]) >= 0.786){return !{};}}else if(this.segment == 4){if(this.shape == "M" && (W2u["1" ^ 0] < D2u[1] || D2u[1] < this.points[0][1])){return ! !0;}else if(this.shape == "W" && (W2u["1" * 1] > D2u[1] || D2u[1] > this.points[+"0"][1])){return ! !0;}else if((this.points[1][1] - D2u[1]) / (this.points[1]["1" | 1] - this.points[2][1]) < 1.27){return ![];}else if((this.points["1" & 2147483647][1] - D2u[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !"1";}}return ! !"1";};U8Q.Drawing.gartley.prototype.click=function(A2u,z2u,h2u){var G2u;G2u=this.stx.panels[this.panelName];if(!G2u){return;}this.copyConfig();if(!this.penDown){J2e.z5m(0);this.setPoint(J2e.W5m("0",2147483647),z2u,h2u,G2u.chart);this.pts=[];this.penDown=! ![];this.segment=1;return !"1";}if(this.accidentalClick(z2u,h2u)){this.penDown=! ![];return !"1";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,z2u,h2u,G2u.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0]["0" | 0],this.points[0][+"1"],G2u.chart);this.penDown=!"1";return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,z2u,h2u,G2u.chart);;}return !{};};U8Q.Drawing.gartley.prototype.render=function(x2u){var w09,M09,J2u,Z2u,I6u,B6u,R6u,N6u,H6u,K6u,n6u,e6u,a6u,q6u,d2u,Q6u,p6u,E6u,M6u;w09="d";w09+="otted";M09="n";M09+="one";J2u=this.stx;Z2u=J2u.panels[this.panelName];I6u=J2u.getYAxisByField(Z2u,this.field);if(!Z2u || this.field && !I6u){return;}B6u=J2u.pixelFromTick(this.p0[0],Z2u.chart);R6u=J2u.pixelFromTick(this.p1[0],Z2u.chart);N6u=this.pixelFromValue(Z2u,this.p0[0],this.p0[1],I6u);H6u=this.pixelFromValue(Z2u,this.p1[0],this.p1[1],I6u);if(this.segment == 2){this.drawDropZone(x2u,0.618 * this.points["0" >> 724415232][1] + 0.382 * this.p0[1],0.786 * this.points["0" << 1592350592][1] + ("0.214" - 0) * this.p0[1],this.p0["0" ^ 0]);}else if(this.segment == 3){this.drawDropZone(x2u,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){J2e.z5m(2);var K9t=J2e.W5m(0,2);J2e.z5m(38);var Q9t=J2e.x5m(5,5,17,2,20);J2e.U5m(39);var U9t=J2e.x5m(2089,10,11,19,0);J2e.U5m(40);var V9t=J2e.x5m(12,5,20,1199);K6u=1.618 * this.points[K9t]["1" | Q9t] - 0.618 * this.points[U9t][V9t];if(this.shape == ("8540" >> 1261412448 <= 660?! ![]:(4480,"2726" >> 1342224576) <= 6176?"M":(0xb19,"T"))){K6u=Math.max(K6u,this.points[0][1]);}else {K6u=Math.min(K6u,this.points[0][1]);}this.drawDropZone(x2u,K6u,+"1.27" * this.points[2][1] - +"0.27" * this.points[1][1],this.p0[0]);}n6u=this.lineWidth;e6u=this.getLineColor();a6u={pattern:this.pattern,lineWidth:n6u};if((this.penDown || this.highlighted) && this.pattern == M09){a6u.pattern=w09;}if(this.segment <= this.maxSegments){J2u.plotLine(B6u,R6u,N6u,H6u,e6u,this.name,x2u,Z2u,a6u);}q6u=this.fillColor;d2u=[];if(this.points.length){x2u.beginPath();for(var U2u=1;U2u < this.points.length && U2u <= 4;U2u++){Q6u=J2u.pixelFromTick(this.points[U2u - ("1" | 0)][0],Z2u.chart);p6u=J2u.pixelFromTick(this.points[U2u][0],Z2u.chart);E6u=this.pixelFromValue(Z2u,this.points[U2u - 1][+"0"],this.points[U2u - 1][+"1"],I6u);M6u=this.pixelFromValue(Z2u,this.points[U2u][0],this.points[U2u][1],I6u);if(U2u == 1){d2u.push(Q6u,E6u);}d2u.push(p6u,M6u);J2u.plotLine(Q6u,p6u,E6u,M6u,e6u,this.name,x2u,Z2u,a6u);}if(this.points.length == 2 || this.points.length == 4){d2u.push(R6u,H6u);}if(this.points[2]){d2u.push(J2u.pixelFromTick(this.points[2][0],Z2u.chart),this.pixelFromValue(Z2u,this.points[2][0],this.points[2][1],I6u));}if(q6u && q6u != "auto" && !U8Q.isTransparent(q6u)){for(var j6u=0;j6u < d2u.length;j6u+=2){if(j6u === ("0" ^ 0)){x2u.moveTo(d2u[0],d2u["1" << 1270087808]);}x2u.lineTo(d2u[j6u],d2u[j6u + ("1" ^ 0)]);}x2u.fillStyle=q6u;x2u.globalAlpha=+"0.2";x2u.closePath();x2u.fill();x2u.globalAlpha=1;}};};U8Q.Drawing.gartley.prototype.lineIntersection=function(C6u,X6u,u6u,l6u){var o6u,w6u;o6u=this.points;w6u=this.stx.panels[this.panelName];if(o6u.length != this.maxSegments + 1 || !w6u){return ! !"";}for(var c6u=0;c6u < o6u.length - 1;c6u++){if(U8Q.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,C6u,X6u,u6u,"segment",o6u[c6u],o6u[c6u + 1])){return ! ![];}}return ! !0;};U8Q.Drawing.gartley.prototype.boxIntersection=function(O6u,m6u,L6u){var P6u,i6u;J2e.b9e();if(!this.p0 || !this.p1){return ![];}if(L6u.x0 > Math.max(this.p0[0],this.p1[0]) || L6u.x1 < Math.min(this.p0[0],this.p1[0])){return ! !0;}P6u=Math.min(this.p0[1],this.p1[1]);i6u=Math.max(this.p0[+"1"],this.p1[1]);for(var V6u=+"0";V6u < this.points.length;V6u++){P6u=Math.min(P6u,this.points[V6u][1]);i6u=Math.max(i6u,this.points[V6u][+"1"]);}if(L6u.y1 > i6u || L6u.y0 < P6u){return !1;}return ! ![];};U8Q.Drawing.gartley.prototype.reposition=function(Y6u,k6u,S6u,g6u){var r6u,T6u,f6u;if(!k6u){return;}r6u=this.stx.panels[this.panelName];T6u=k6u.tick - S6u;k6u.tick=S6u;f6u=k6u.value - g6u;k6u.value=g6u;J2e.q9e();if(k6u.action == "move"){this.pts=[];for(var y6u=0;y6u < this.points.length;y6u++){this.points[y6u][0]-=T6u;this.points[y6u][+"1"]-=f6u;this.setPoint(+"1",this.points[y6u][0],this.points[y6u][1],r6u.chart);if(y6u && y6u < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[y6u]=this.p1;}this.setPoint(0,this.points["0" * 1][0],this.points[0]["1" >> 1650251680],r6u.chart);this.render(Y6u);;}};U8Q.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];U8Q.Drawing.gartley.prototype.adjust=function(){J2e.q9e();var s6u;s6u=this.stx.panels[this.panelName];if(!s6u){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,s6u.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,s6u.chart);this.points.push(this.p1);};U8Q.Drawing.gartley.prototype.reconstructPoints=function(){var v6u,t6u;v6u=this.stx.panels[this.panelName];if(!v6u){return;}this.points=[];for(var b6u=0;b6u < this.pts.length;b6u+=3){t6u=U8Q.strToDateTime(this.pts[b6u]);t6u.setMinutes(t6u.getMinutes() + Number(this.pts[b6u + 1]) - t6u.getTimezoneOffset());this.points.push([this.stx.tickFromDate(U8Q.yyyymmddhhmmssmmm(t6u),v6u.chart),this.pts[b6u + +"2"]]);}};U8Q.Drawing.gartley.prototype.reconstruct=function(D6u,F6u){this.stx=D6u;J2e.b9e();this.color=F6u.col;this.fillColor=F6u.fc;this.panelName=F6u.pnl;this.pattern=F6u.ptrn;this.lineWidth=F6u.lw;this.d0=F6u.d0;this.d1=F6u.d1;this.tzo0=F6u.tzo0;this.tzo1=F6u.tzo1;this.v0=F6u.v0;this.v1=F6u.v1;this.field=F6u.fld;this.pts=F6u.pts.split(",");this.adjust();};U8Q.Drawing.gartley.prototype.serialize=function(){J2e.q9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(952.2 == (114,3960)?30.38:",")};};U8Q.Drawing.freeform=function(){var k09;k09="f";k09+="r";k09+="eef";k09+="orm";this.name=k09;J2e.b9e();this.splineTension=0.3;this.dragToDraw=! ![];};U8Q.inheritsFrom(U8Q.Drawing.freeform,U8Q.Drawing.segment);U8Q.Drawing.freeform.prototype.measure=function(){};U8Q.Drawing.freeform.prototype.intersected=function(x6u,j4u,q4u){var c09,W6u,Z6u;c09="mo";c09+="ve";var {x0:U6u, x1:J6u, y0:G6u, y1:z6u, cy0:d6u, cy1:I4u}=q4u;if(U6u > this.hiX || J6u < this.lowX){return ![];}var {field:h6u, panelName:K4u, stx:A6u}=this;if(h6u){W6u=A6u.panels[K4u];Z6u=A6u.getYAxisByField(W6u,h6u);G6u=this.valueFromPixel(d6u,W6u,Z6u);z6u=this.valueFromPixel(I4u,W6u,Z6u);}if(z6u > this.hiY || G6u < this.lowY){return !1;}this.highlighted=! ![];return {action:c09,p0:U8Q.clone(this.p0),tick:x6u,value:this.valueOnDrawingAxis(x6u,j4u)};};U8Q.Drawing.freeform.prototype.reposition=function(Q4u,a4u,p4u,E4u){var F09,R4u,H4u,e4u;F09="m";F09+="ov";F09+="e";J2e.b9e();if(!a4u){return;}R4u=this.stx.panels[this.panelName];H4u=a4u.tick - p4u;e4u=a4u.value - E4u;if(a4u.action == F09){J2e.U5m(14);this.setPoint(J2e.x5m(0,"0"),a4u.p0[0] - H4u,a4u.p0[1] - e4u,R4u.chart);this.adjust();this.render(Q4u);}};U8Q.Drawing.freeform.prototype.click=function(w4u,N4u,c4u){var M4u,B4u,n4u,o4u;M4u=this.stx;B4u=M4u.panels[this.panelName];if(!B4u){return;}n4u=M4u.getYAxisByField(B4u,this.field) || B4u.yAxis;if(this.penDown === !1){this.copyConfig();this.startX=Math.round(M4u.resolveX(M4u.pixelFromTick(N4u,B4u.chart)));this.startY=Math.round(M4u.resolveY(this.pixelFromValue(B4u,N4u,c4u,n4u)));o4u=M4u.dateFromTick(N4u,B4u.chart,! !"1");this.d0=U8Q.yyyymmddhhmmssmmm(o4u);this.tzo0=o4u.getTimezoneOffset();this.v0=c4u;this.p0=[U8Q.ChartEngine.crosshairX - this.startX,U8Q.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=M4u.layout.candleWidth;this.multiplier=n4u.multiplier;this.interval=M4u.layout.interval;this.periodicity=M4u.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! ![];return !{};}this.penDown=![];this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return !0;};U8Q.Drawing.freeform.prototype.move=function(V4u,L4u,P4u){var C4u,X4u,l4u,u4u;if(!this.penDown){return;}C4u=this.stx;J2e.q9e();X4u=C4u.panels[this.panelName];l4u=C4u.getYAxisByField(X4u,this.field) || X4u.yAxis;u4u=C4u.dateFromTick(L4u,X4u.chart,!"");this.d1=U8Q.yyyymmddhhmmssmmm(u4u);this.tzo1=u4u.getTimezoneOffset();this.v1=P4u;this.p1=[U8Q.ChartEngine.crosshairX - this.startX,l4u.flipped?this.startY - U8Q.ChartEngine.crosshairY:U8Q.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[+"0"] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" >> 2025854528)][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(V4u);return !"1";};U8Q.Drawing.freeform.prototype.intervalRatio=function(k4u,i4u,f4u,Y4u,m4u,y4u){var O4u,N09,H09,d09,a09,p09;function r4u(G4u,W4u){if(U8Q.Market.Symbology.isForexSymbol(W4u)){return 1440;}return 390;}function S4u(t4u,v4u){J2e.b9e();return 5;}function g4u(F4u,D4u){J2e.b9e();return 30;}O4u=0;if(k4u == i4u){O4u=1;}else if(!isNaN(k4u) && !isNaN(i4u)){J2e.z5m(16);O4u=J2e.x5m(i4u,k4u);}else if(isNaN(k4u)){if(k4u == "month"){if(i4u == "week"){O4u=T4u(m4u,y4u);}else if(i4u == "day"){O4u=g4u(m4u,y4u);}else if(!isNaN(i4u)){O4u=g4u(m4u,y4u) * r4u(m4u,y4u) / i4u;}}else if(k4u == "week"){N09="d";N09+="ay";if(i4u == "month"){J2e.z5m(4);var u9t=J2e.W5m(0,12,13);O4u=u9t / T4u(m4u,y4u);}if(i4u == N09){O4u=S4u(m4u,y4u);}else if(!isNaN(i4u)){O4u=S4u(m4u,y4u) * r4u(m4u,y4u) / i4u;}}else if(k4u == "day"){H09="m";H09+="o";H09+="nt";H09+="h";if(i4u == "week"){J2e.z5m(6);var E9t=J2e.W5m(12,11);O4u=E9t / S4u(m4u,y4u);}else if(i4u == H09){J2e.z5m(6);var W9t=J2e.W5m(14,13);O4u=W9t / g4u(m4u,y4u);}else if(!isNaN(i4u)){O4u=r4u(m4u,y4u) / i4u;}}}else if(!isNaN(k4u)){d09="d";d09+="a";d09+="y";a09="w";a09+="ee";a09+="k";p09="m";p09+="on";p09+="t";p09+="h";if(i4u == p09){O4u=k4u / (g4u(m4u,y4u) * r4u(m4u,y4u));}else if(i4u == a09){O4u=k4u / (S4u(m4u,y4u) * r4u(m4u,y4u));}else if(i4u == d09){O4u=k4u / r4u(m4u,y4u);}}J2e.z5m(16);O4u*=J2e.W5m(Y4u,f4u);function T4u(s4u,b4u){var I19,n19,C19;J2e.z5m(14);I19=J2e.W5m(0,"2045773540");n19=2055283612;C19=2;J2e.b9e();for(var r19=1;J2e.y89(r19.toString(),r19.toString().length,2983) !== I19;r19++){return 6;}if(J2e.y89(C19.toString(),C19.toString().length,96796) !== n19){return 6;}return 5;}return O4u;};U8Q.Drawing.freeform.prototype.render=function(j7u){var z4u,h4u,A4u,J4u,q7u,a7u,R7u,d4u,Z4u,H7u,I7u,K7u,e7u,U4u;z4u=this.stx;h4u=z4u.panels[this.panelName];A4u=z4u.getYAxisByField(h4u,this.field);if(!h4u || this.field && !A4u){return;}A4u=A4u || h4u.yAxis;J4u=this.intervalRatio(this.interval,z4u.layout.interval,this.periodicity,z4u.layout.periodicity,this.d0,h4u.chart.symbol);if(J4u === 0){return;}q7u=z4u.layout.candleWidth / this.candleWidth;a7u=A4u.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,h4u.chart);R7u=z4u.pixelFromTick(this.p0[0],h4u.chart);d4u=this.pixelFromValue(h4u,this.p0[0],this.p0["1" ^ 0],A4u);Z4u=[];H7u=this.lineWidth;I7u=this.getLineColor();K7u={pattern:this.pattern,lineWidth:H7u};for(var x4u=0;x4u < this.pNodes.length;x4u++){e7u=J4u * q7u * this.pNodes[x4u][0] + R7u;J2e.U5m(23);var l9t=J2e.x5m(9,8);U4u=a7u * this.pNodes[x4u][l9t];if(A4u.flipped){J2e.U5m(6);U4u=J2e.W5m(d4u,U4u);}else {U4u+=d4u;}Z4u.push(e7u,U4u);}if(!Z4u.length){return;}if(this.splineTension < 0){z4u.connectTheDots(Z4u,I7u,this.name,j7u,h4u,K7u);}else {z4u.plotSpline(Z4u,this.splineTension,I7u,this.name,j7u,! !{},K7u);}};U8Q.Drawing.freeform.prototype.adjust=function(){var p7u,Q7u,C7u,M7u,o7u,E7u,c7u,N7u,w7u,n7u;p7u=this.stx;Q7u=p7u.panels[this.panelName];if(!Q7u){return;}J2e.U5m(7);C7u=[this.nodes[J2e.W5m(520029088,"0")],this.nodes[1]];J2e.b9e();this.pNodes=[C7u];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var B7u=2;B7u < this.nodes.length;B7u+=2){J2e.z5m(2);M7u=[this.nodes[B7u],this.nodes[J2e.W5m(B7u,1)]];this.pNodes.push(M7u);this.lowX=Math.min(this.lowX,M7u[0]);this.hiX=Math.max(this.hiX,M7u[0]);this.lowY=Math.max(this.lowY,M7u[1]);this.hiY=Math.min(this.hiY,M7u["1" ^ 0]);}o7u=this.intervalRatio(this.interval,p7u.layout.interval,this.periodicity,p7u.layout.periodicity,this.d0,Q7u.chart.symbol);if(o7u === "0" * 1){return;}E7u=p7u.getYAxisByField(Q7u,this.field) || Q7u.yAxis;c7u=p7u.layout.candleWidth / this.candleWidth;N7u=E7u.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Q7u.chart);w7u=p7u.pixelFromTick(this.p0[0],Q7u.chart);n7u=this.pixelFromValue(Q7u,this.p0[0],this.p0[1],E7u);this.lowX=p7u.tickFromPixel(Math.floor(o7u * c7u * this.lowX) + w7u,Q7u.chart);this.hiX=p7u.tickFromPixel(Math.ceil(o7u * c7u * this.hiX) + w7u,Q7u.chart);if(E7u.flipped){this.lowY=this.valueFromPixel(n7u - Math.floor(N7u * this.lowY),Q7u,E7u);this.hiY=this.valueFromPixel(n7u - Math.ceil(N7u * this.hiY),Q7u,E7u);}else {this.lowY=this.valueFromPixel(Math.floor(N7u * this.lowY) + n7u,Q7u,E7u);this.hiY=this.valueFromPixel(Math.ceil(N7u * this.hiY) + n7u,Q7u,E7u);}};U8Q.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};U8Q.Drawing.freeform.prototype.reconstruct=function(u7u,X7u){this.stx=u7u;this.color=X7u.col;this.panelName=X7u.pnl;this.pattern=X7u.ptrn;this.lineWidth=X7u.lw;this.candleWidth=X7u.cw;this.multiplier=X7u.mlt;this.d0=X7u.d0;this.tzo0=X7u.tzo0;this.v0=X7u.v0;this.interval=X7u.inter;this.periodicity=X7u.pd;this.nodes=X7u.nodes;this.field=X7u.fld;this.adjust();};U8Q.Drawing.callout=function(){this.name="callout";this.arr=[];J2e.z5m(18);this.w=J2e.W5m(1,"0");this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!1;this.fontSize=12;this.font={};this.stemEntry="";this.defaultWidth=35;;};U8Q.inheritsFrom(U8Q.Drawing.callout,U8Q.Drawing.annotation);U8Q.Drawing.callout.prototype.configs=["color","fillColor","lineWidth",x09,"font"];U8Q.Drawing.callout.prototype.copyConfig=function(l7u){U8Q.Drawing.copyConfig(this,l7u);this.borderColor=this.color;};U8Q.Drawing.callout.prototype.move=function(V7u,L7u,P7u){if(!this.penDown){return;}this.copyConfig();this.p0=[L7u,P7u];this.render(V7u);};U8Q.Drawing.callout.prototype.onChange=function(y7u){var m7u,O7u,i7u;m7u=this.stx.panels[this.panelName];if(!m7u){return;}O7u=y7u.target;J2e.b9e();this.w=O7u.clientWidth;this.h=O7u.clientHeight;i7u=this.context || this.stx.chart.tempCanvas.context;U8Q.clearCanvas(i7u.canvas,this.stx);this.render(i7u);this.edit(i7u);};U8Q.Drawing.callout.prototype.repositionTextArea=function(r7u){var k7u;J2e.z5m(6);var O9t=J2e.W5m(5,3);k7u=this.defaultWidth * O9t + this.whitespace + this.padding;k7u=Math.max(this.w,k7u);J2e.U5m(41);var o9t=J2e.x5m(7,930226681,930226687,2,465113344);J2e.U5m(42);var q9t=J2e.W5m(6,8,9,153,17);r7u.style.left=U8Q.stripPX(r7u.style.left) - (!isNaN(k7u)?k7u / ("2" << o9t):this.defaultWidth * q9t) + "px";this.ta=r7u;};U8Q.Drawing.callout.prototype.render=function(S7u){var F7u,D7u,h7u,U7u,Z7u,T7u,g7u,f7u,Y7u,W7u,J7u,x7u,b7u,G7u,t7u,z7u,s7u,d89,x89,v89,v7u,c49,F49,N49,V29,u29,E29,Z09,v09,k29,c29,F29,d7u;F7u=this.stx;D7u=F7u.panels[this.panelName];h7u=F7u.getYAxisByField(D7u,this.field);if(!D7u || this.field && !h7u){return;}this.context=S7u;U7u=F7u.pixelFromTick(this.p0[0],D7u.chart);Z7u=this.pixelFromValue(D7u,this.p0[0],this.p0[+"1"],h7u);if(isNaN(Z7u)){return;}S7u.font=this.fontString;S7u.textBaseline="top";T7u=U7u;g7u=Z7u;J2e.z5m(6);var m9t=J2e.W5m(38,36);f7u=this.w / m9t;J2e.U5m(43);var A9t=J2e.x5m(545297196,17,60588579);Y7u=this.h / ("2" >> A9t);if(this.penDown){J2e.z5m(44);var S9t=J2e.x5m(4,5,1,17,19);J2e.U5m(45);var i9t=J2e.x5m(13,16,5,26);f7u=this.defaultWidth + this.whitespace / S9t + this.padding / i9t;Y7u=this.fontSize + this.fontModifier;}W7u=this.lineWidth;if(!W7u){W7u=1.1;}J7u=this.getLineColor();x7u=this.getLineColor(this.borderColor);s7u=Math.min(Math.min(f7u,Y7u) / 2,8);if(this.stem){if(this.stem.t){d89=- +"830606312";x89=980535615;v89=2;for(var J89=1;J2e.P89(J89.toString(),J89.toString().length,49914) !== d89;J89++){b7u=F7u.pixelFromTick(this.stem.t);v89+=2;}if(J2e.y89(v89.toString(),v89.toString().length,13726) !== x89){b7u=F7u.pixelFromTick(this.stem.t);}t7u=this.pixelFromValue(D7u,this.stem.t,this.stem.v,h7u);}else if(this.stem.x){b7u=T7u;t7u=g7u;T7u+=this.stem.x;g7u+=this.stem.y;}v7u="";if(b7u >= T7u + f7u){J2e.z5m(2);G7u=J2e.x5m(T7u,f7u);v7u=+"714.92" <= (1868,2450)?(969.12,2100) <= 696.28?(+"6676",995.38) != (845,7689)?546.22:(0xdd8,"J"):"r":376.62;}else if(b7u > T7u - f7u && b7u < T7u + f7u){G7u=T7u;v7u=(9020,292.21) >= (1782,8439)?"541.93" - 0 <= (9540,671.73)?(71.59,+"789.41"):"0x16a7" ^ 0:"c";}else if(b7u <= T7u - f7u){J2e.z5m(6);G7u=J2e.x5m(T7u,f7u);c49=- +"714030358";F49=550888244;N49=2;for(var p49=1;J2e.P89(p49.toString(),p49.toString().length,71921) !== c49;p49++){v7u="";N49+=2;}if(J2e.y89(N49.toString(),N49.toString().length,+"90516") !== F49){v7u="l";}}if(t7u >= g7u + Y7u){J2e.U5m(2);z7u=J2e.W5m(g7u,Y7u);v7u+="b";}else if(t7u > g7u - Y7u && t7u < g7u + Y7u){z7u=g7u;v7u+="m";}else if(t7u <= g7u - Y7u){J2e.U5m(6);z7u=J2e.x5m(g7u,Y7u);v7u+=(128.9,5651) === (347,"9660" | 272)?("b","9.49e+3" * 1):"t";}this.stemEntry=v7u;if(v7u != "cm"){b7u=Math.round(b7u);G7u=Math.round(G7u);t7u=Math.round(t7u);z7u=Math.round(z7u);}}if(this.highlighted){F7u.canvasColor("stx_annotation_highlight_bg",S7u);}else {if(this.fillColor){S7u.fillStyle=this.fillColor;J2e.z5m(6);S7u.globalAlpha=J2e.W5m("0.4",0);}else if(this.stem){V29=-436440499;u29=-1793332324;E29=2;for(var l29=1;J2e.y89(l29.toString(),l29.toString().length,879) !== V29;l29++){S7u.fillStyle=F7u.containerColor;J2e.U5m(46);E29+=J2e.W5m("2",1353115424);}if(J2e.P89(E29.toString(),E29.toString().length,27166) !== u29){S7u.fillStyle=F7u.containerColor;}}}S7u.strokeStyle=x7u;if(S7u.setLineDash){S7u.setLineDash(U8Q.borderPatternToArray(W7u,this.pattern));S7u.lineDashOffset=0;;}if(x7u){Z09="c";Z09+="t";v09="r";v09+="t";S7u.beginPath();S7u.lineWidth=W7u;J2e.U5m(4);S7u.moveTo(J2e.x5m(T7u,s7u,f7u),J2e.W5m(g7u,Y7u,J2e.z5m(6)));if(this.stemEntry != v09){k29=1818074124;c29=-31532225;F29=2;for(var H29=+"1";J2e.P89(H29.toString(),H29.toString().length,"67716" >> 650451072) !== k29;H29++){J2e.z5m(2);S7u.quadraticCurveTo(J2e.W5m(T7u,f7u),J2e.x5m(g7u,Y7u,J2e.U5m(6)),J2e.W5m(T7u,f7u,J2e.z5m(2)),J2e.W5m(Y7u,g7u,s7u,J2e.U5m(8)));;F29+=+"2";}if(J2e.y89(F29.toString(),F29.toString().length,44391) !== c29){J2e.z5m(6);S7u.quadraticCurveTo(J2e.W5m(T7u,f7u),J2e.x5m(Y7u,g7u,J2e.z5m(16)),J2e.W5m(f7u,T7u,J2e.U5m(16)),J2e.x5m(Y7u,s7u,g7u,J2e.z5m(47)));;}}else {S7u.lineTo(b7u,t7u);J2e.U5m(2);S7u.lineTo(J2e.x5m(T7u,f7u),J2e.W5m(Y7u,g7u,s7u,J2e.z5m(8)));}J2e.z5m(2);S7u.lineTo(J2e.x5m(T7u,f7u),J2e.x5m(s7u,g7u,2,J2e.z5m(48)));if(this.stemEntry == "rm"){S7u.lineTo(b7u,t7u);}J2e.U5m(2);S7u.lineTo(J2e.x5m(T7u,f7u),J2e.x5m(2,g7u,s7u,J2e.z5m(49)));J2e.U5m(2);S7u.lineTo(J2e.W5m(T7u,f7u),J2e.x5m(g7u,s7u,Y7u,J2e.U5m(4)));if(this.stemEntry != "rb"){J2e.z5m(2);S7u.quadraticCurveTo(J2e.x5m(T7u,f7u),J2e.W5m(g7u,Y7u,J2e.z5m(2)),J2e.W5m(T7u,s7u,f7u,J2e.U5m(4)),J2e.x5m(g7u,Y7u,J2e.z5m(2)));;}else {S7u.lineTo(b7u,t7u);J2e.U5m(4);S7u.lineTo(J2e.W5m(T7u,s7u,f7u),J2e.W5m(g7u,Y7u,J2e.U5m(2)));}J2e.U5m(49);S7u.lineTo(J2e.W5m(2,T7u,s7u),J2e.W5m(g7u,Y7u,J2e.z5m(2)));if(this.stemEntry == "cb"){S7u.lineTo(b7u,t7u);}J2e.z5m(48);S7u.lineTo(J2e.x5m(s7u,T7u,2),J2e.W5m(g7u,Y7u,J2e.U5m(2)));J2e.U5m(8);S7u.lineTo(J2e.x5m(f7u,T7u,s7u),J2e.W5m(g7u,Y7u,J2e.z5m(2)));if(this.stemEntry != "lb"){J2e.U5m(6);S7u.quadraticCurveTo(J2e.x5m(T7u,f7u),J2e.W5m(g7u,Y7u,J2e.U5m(2)),J2e.x5m(T7u,f7u,J2e.U5m(6)),J2e.x5m(g7u,s7u,Y7u,J2e.U5m(4)));;}else {S7u.lineTo(b7u,t7u);J2e.z5m(6);S7u.lineTo(J2e.x5m(T7u,f7u),J2e.W5m(g7u,s7u,Y7u,J2e.U5m(4)));}J2e.U5m(6);S7u.lineTo(J2e.x5m(T7u,f7u),J2e.W5m(2,g7u,s7u,J2e.U5m(49)));if(this.stemEntry == "lm"){S7u.lineTo(b7u,t7u);}J2e.z5m(6);S7u.lineTo(J2e.W5m(T7u,f7u),J2e.W5m(s7u,g7u,2,J2e.z5m(48)));J2e.U5m(6);S7u.lineTo(J2e.W5m(T7u,f7u),J2e.W5m(Y7u,g7u,s7u,J2e.z5m(8)));if(this.stemEntry != "lt"){J2e.U5m(6);S7u.quadraticCurveTo(J2e.x5m(T7u,f7u),J2e.x5m(g7u,Y7u,J2e.z5m(6)),J2e.x5m(f7u,T7u,s7u,J2e.U5m(8)),J2e.x5m(g7u,Y7u,J2e.U5m(6)));;}else {S7u.lineTo(b7u,t7u);J2e.z5m(8);S7u.lineTo(J2e.W5m(f7u,T7u,s7u),J2e.x5m(g7u,Y7u,J2e.U5m(6)));}J2e.z5m(48);S7u.lineTo(J2e.x5m(s7u,T7u,2),J2e.W5m(g7u,Y7u,J2e.z5m(6)));if(this.stemEntry == Z09){S7u.lineTo(b7u,t7u);}J2e.z5m(49);S7u.lineTo(J2e.W5m(2,T7u,s7u),J2e.x5m(g7u,Y7u,J2e.z5m(6)));J2e.z5m(4);S7u.lineTo(J2e.x5m(T7u,s7u,f7u),J2e.x5m(g7u,Y7u,J2e.z5m(6)));S7u.fill();J2e.z5m(18);S7u.globalAlpha=J2e.W5m(1,"1");if(this.pattern != "none"){S7u.stroke();}}if(this.highlighted){F7u.canvasColor("stx_annotation_highlight",S7u);}else {S7u.fillStyle=J7u;}g7u+=this.padding;if(!this.ta){for(var A7u=0;A7u < this.arr.length;A7u++){S7u.fillText(this.arr[A7u],T7u - f7u + this.padding,g7u - Y7u);g7u+=this.fontSize;}}S7u.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){d7u=this.highlighted == "p0"?!"":!"1";this.littleCircle(S7u,b7u,t7u,d7u);};};U8Q.Drawing.callout.prototype.click=function(K3u,j3u,q3u){var I3u,Z29,J29,L29;if(this.stx.overXAxis || this.stx.overYAxis){return;}J2e.b9e();I3u=this.stx.panels[this.panelName];Z29=-322043709;J2e.U5m(6);J29=-J2e.x5m("779533077",0);L29=2;for(var t19=1;J2e.P89(t19.toString(),t19.toString().length,246) !== Z29;t19++){this.copyConfig();J2e.z5m(7);this.setPoint(J2e.W5m(1835791040,"0"),j3u,q3u,I3u.chart);J2e.z5m(46);L29+=J2e.W5m("2",2076349440);}if(J2e.y89(L29.toString(),L29.toString().length,97472) !== J29){this.copyConfig();this.setPoint(3,j3u,q3u,I3u.chart);}if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!0;this.adjust();return !"1";}this.adjust();this.edit(K3u);this.penDown=! !"";return ! !"";};U8Q.Drawing.callout.prototype.reposition=function(E3u,a3u,Q3u,p3u){var R3u,H3u,e3u,L09,J09;if(!a3u){return;}R3u=this.stx.panels[this.panelName];H3u=a3u.tick - Q3u;e3u=a3u.value - p3u;if(a3u.stem){L09="mo";L09+="v";L09+="e";J09="d";J09+="r";J09+="ag";if(a3u.action == J09){this.stem={d:this.stx.dateFromTick(Q3u,R3u.chart,! !"1"),v:p3u};}else if(a3u.action == L09){this.setPoint(0,a3u.p0[0] - H3u,a3u.p0[1] - e3u,R3u.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(a3u.stem.d,R3u.chart) - H3u),v:a3u.stem.v - e3u};}this.adjust();}else {this.setPoint(0,a3u.p0[0] - H3u,a3u.p0[1] - e3u,R3u.chart);}this.render(E3u);};U8Q.Drawing.callout.prototype.lineIntersection=function(P3u,i3u,n3u,L3u){var M3u,o3u,B3u,c3u,X3u,u3u,N3u,w3u,C3u,l3u,V3u;M3u=this.stem;o3u=this.p0;B3u=this.stx;c3u=B3u.panels[this.panelName];J2e.q9e();if(!o3u || !M3u || !c3u){return !{};}X3u=M3u.t || B3u.tickFromDate(M3u.d,c3u.chart);u3u={x0:o3u[0],x1:X3u,y0:o3u[1],y1:M3u.v};N3u=this.boxToPixels(B3u,this.panelName,u3u,B3u.getYAxisByField(c3u,this.field));w3u=N3u.x0;C3u=N3u.y0;l3u=N3u.x1;V3u=N3u.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){w3u-=this.w / ("2" & 2147483647);}else if(this.stemEntry.indexOf((672,"6610" >> 359861920) != (6670,851)?918.92 != (9884,6964)?(816.91,504.02) < 6769?"r":! !"1":(309.40,"k"):("575.41" * 1,"911.23" - 0)) > -1){J2e.z5m(50);var j9t=J2e.x5m(0,1,5,3);w3u+=this.w / j9t;}if(this.stemEntry.indexOf("t") > -1){J2e.U5m(51);var T9t=J2e.x5m(20,7,18,7);C3u-=this.h / T9t;}else if(this.stemEntry.indexOf((989.27,111) > (+"5180",3194)?370.74 <= (+"3400",185)?0x6ac:(0x1abb,0x254f):"b") > -1){J2e.z5m(52);var e9t=J2e.W5m(5,3,7,1,2);C3u+=this.h / e9t;}}return U8Q.boxIntersects(n3u.cx0,n3u.cy0,n3u.cx1,n3u.cy1,w3u,C3u,l3u,V3u,L3u);};U8Q.Drawing.callout.prototype.intersected=function(O3u,r3u,m3u){var y3u,k3u,R59,S3u,b3u,g3u,T3u,f3u,Y3u,s3u,t3u,t59,a49,d49,x49;y3u=this.stx;k3u=y3u.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,m3u)){R59="d";R59+="ra";R59+="g";this.highlighted="p0";return {action:R59,stem:! ![]};}J2e.z5m(53);J2e.b9e();var G9t=J2e.W5m(10,13,132);S3u=y3u.pixelFromTick(this.p0[0],k3u.chart) - this.w / G9t;b3u=y3u.getYAxisByField(k3u,this.field);J2e.U5m(40);var Y9t=J2e.W5m(6,17,11,1120);g3u=this.pixelFromValue(k3u,this.p0[0],this.p0[1],b3u) - this.h / Y9t;T3u=S3u + this.w;f3u=g3u + this.h;if(this.stem && this.stem.x){S3u+=this.stem.x;T3u+=this.stem.x;g3u+=this.stem.y;f3u+=this.stem.y;}Y3u=y3u.pixelFromTick(O3u,k3u.chart);s3u=y3u.pixelFromValueAdjusted(k3u,O3u,r3u);if(Y3u + m3u.r >= S3u && Y3u - m3u.r <= T3u && s3u + m3u.r >= g3u && s3u - m3u.r <= f3u){this.highlighted=! ![];return {p0:U8Q.clone(this.p0),tick:O3u,value:this.valueOnDrawingAxis(O3u,r3u)};}t3u=this.lineIntersection(O3u,r3u,m3u,"segment");if(t3u){t59="m";t59+="o";t59+="v";t59+="e";a49=-507206365;J2e.z5m(14);d49=J2e.W5m(0,"1142595220");J2e.z5m(0);x49=J2e.x5m("2",2147483647);for(var Z49=1;J2e.y89(Z49.toString(),Z49.toString().length,51547) !== a49;Z49++){this.highlighted=! !"";x49+=2;}if(J2e.P89(x49.toString(),x49.toString().length,65923) !== d49){this.highlighted=! !1;}return {action:t59,stem:U8Q.clone(this.stem),p0:U8Q.clone(this.p0),tick:O3u,value:this.valueOnDrawingAxis(O3u,r3u)};}return null;};U8Q.Drawing.fibonacci=function(){var s59;s59="fibon";s59+="ac";s59+="ci";this.name="fibonacci";this.configurator=s59;};U8Q.inheritsFrom(U8Q.Drawing.fibonacci,U8Q.Drawing.BaseTwoPoint);U8Q.Drawing.fibonacci.mapping={trend:5840 === (398,8870)?(0xa99,0x367):(2991,+"178.54") == 7632?(169.91,634.28):"t",color:970.41 <= (9759,3780)?"c":8201 == ("3109" | 3108)?637.90:! !0,parameters:517.87 !== 2801?"p":(4790,"1760" ^ 0) > 7640?(!"1","v"):(! !"1",! ![]),pattern:"pt",opacity:"o",lineWidth:b59,level:(2419,+"59") < (1085,438)?8780 != 5697?+"214.91" >= +"9440"?![]:"l":(! !0,9.60e+1):(!{},"0x6af" | 549),extendLeft:+"4483" !== 67.3?"e":+"6750" === 1378?(938.35,0x9fb):641.11,printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"};J2e.z5m(6);U8Q.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,J2e.x5m("0",0),0.382,0.5,0.618,1,1.382,1.618];U8Q.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];U8Q.Drawing.fibonacci.prototype.initializeSettings=function(G3u){var D3u,F3u;D3u=this.recommendedLevels;if(D3u && !G3u.currentVectorParameters.fibonacci.fibsAlreadySet){F3u=G3u.currentVectorParameters.fibonacci.fibs;for(var v3u=+"0";v3u < F3u.length;v3u++){delete F3u[v3u].display;for(var W3u=0;W3u < D3u.length;W3u++){if(F3u[v3u].level == D3u[W3u]){F3u[v3u].display=!0;}}}}};U8Q.Drawing.fibonacci.prototype.setOuter=function(){var A3u,z3u,I5u,K5u,j5u,H5u,e5u,Z3u,q5u,a5u,x3u,U3u,h3u,d3u,R5u;A3u=this.stx;z3u=A3u.panels[this.panelName];if(!z3u){return;}I5u=Math.max(this.p0[1],this.p1[1]);K5u=Math.min(this.p0[1],this.p1[+"1"]);J2e.U5m(6);j5u=J2e.x5m(I5u,K5u);this.outer={p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1)};H5u=A3u.pixelFromTick(this.p0[0],z3u.chart);e5u=A3u.pixelFromTick(this.p1[0],z3u.chart);Z3u=A3u.getYAxisByField(z3u,this.field);q5u=this.pixelFromValue(z3u,this.p0[+"0"],this.p0[1],Z3u);a5u=this.pixelFromValue(z3u,this.p1[0],this.p1[1],Z3u);x3u=+"0";J2e.U5m(7);U3u=J2e.W5m(968290368,"1");for(var J3u=0;J3u < this.parameters.fibs.length;J3u++){h3u=this.parameters.fibs[J3u];if(h3u.level >= x3u && h3u.level <= U3u || !h3u.display)continue;d3u=this.pixelFromValue(z3u,this.p0[0],a5u < q5u?I5u - j5u * h3u.level:K5u + j5u * h3u.level,Z3u);R5u=U8Q.xIntersection({x0:H5u,x1:e5u,y0:q5u,y1:a5u},d3u);if(h3u.level < x3u){x3u=h3u.level;this.outer.p1[1]=this.valueFromPixel(d3u,z3u,Z3u);this.outer.p1[0]=A3u.tickFromPixel(R5u,z3u.chart);}else if(h3u.level > U3u){U3u=h3u.level;this.outer.p0[1]=this.valueFromPixel(d3u,z3u,Z3u);J2e.U5m(6);this.outer.p0[J2e.W5m("0",0)]=A3u.tickFromPixel(R5u,z3u.chart);}}};U8Q.Drawing.fibonacci.prototype.click=function(M5u,p5u,E5u){var Q5u;Q5u=this.stx.panels[this.panelName];if(!Q5u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,p5u,E5u,Q5u.chart);this.penDown=! ![];return !1;}if(this.accidentalClick(p5u,E5u)){return this.dragToDraw;}this.setPoint(1,p5u,E5u,Q5u.chart);this.setOuter();this.parameters=U8Q.clone(this.parameters);this.penDown=! !"";return ! !{};;};U8Q.Drawing.fibonacci.prototype.render=function(B5u){var g59,f59,n5u,N5u,c5u,g5u,T5u,b5u,i5u,P5u,X5u,w5u,t5u,v5u,F5u,z5u,h5u,A5u,Z5u,f5u,O5u,Y5u,m5u,D5u,C59,n59,I59,V5u,o5u,k5u,L5u,C5u,x5u,h59,y5u,r5u,u5u,W5u,l5u,G5u,z59,U5u,J5u;g59="s";g59+="t";g59+="x_yaxis";f59="m";f59+="i";f59+="ddle";n5u=this.stx;N5u=n5u.panels[this.panelName];c5u=n5u.getYAxisByField(N5u,this.field);if(!N5u || this.field && !c5u){return;}c5u=c5u || N5u.yAxis;if(!this.p1){return;}g5u=Math.max(this.p0[+"1"],this.p1[1]);T5u=Math.min(this.p0[1],this.p1[+"1"]);b5u=c5u.flipped?T5u - g5u:g5u - T5u;i5u=n5u.pixelFromTick(this.p0[0],N5u.chart);P5u=n5u.pixelFromTick(this.p1[0],N5u.chart);X5u=this.pixelFromValue(N5u,this.p0[0],this.p0[1],c5u);w5u=this.pixelFromValue(N5u,this.p1[0],this.p1[1],c5u);t5u=Math.min(w5u,X5u);v5u=Math.max(w5u,X5u);J2e.U5m(6);F5u=J2e.W5m(v5u,t5u);J2e.z5m(54);z5u=J2e.x5m(P5u,w5u,i5u,0,X5u);h5u={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" >> 992861952}};if(!this.parameters.trend){this.parameters.trend=h5u;}A5u=this.getLineColor(this.parameters.trend.color);B5u.textBaseline=f59;n5u.canvasFont(g59,B5u);J2e.U5m(55);var X9t=J2e.W5m(7,4,21);Z5u=B5u.measureText("161.8%").width + X9t;J2e.q9e();f5u=Number.MAX_VALUE;O5u=Number.MAX_VALUE;J2e.U5m(23);var M9t=J2e.x5m(4,5);Y5u=Number.MAX_VALUE * M9t;J2e.U5m(42);var w9t=J2e.x5m(10,7,5,147,19);m5u=Number.MAX_VALUE * w9t;D5u=this.getLineColor();this.rays=[];for(var s5u=0;s5u < this.parameters.fibs.length;s5u++){C59="u";C59+="nd";C59+="ef";C59+="ined";n59="se";n59+="gment";I59="au";I59+="to";B5u.textAlign="left";B5u.fillStyle=D5u;V5u=this.parameters.fibs[s5u];if(!V5u.display)continue;o5u=this.pixelFromValue(N5u,this.p0[0],w5u < X5u?g5u - b5u * V5u.level:T5u + b5u * V5u.level,c5u);k5u=U8Q.xIntersection({x0:i5u,x1:P5u,y0:X5u,y1:w5u},o5u);L5u=this.parameters.extendLeft?0:k5u;C5u=N5u.left + N5u.width;if(this.parameters.printLevels){J2e.U5m(56);var k9t=J2e.W5m(63,9,7,999);J2e.U5m(57);var c9t=J2e.W5m(18,3,9,18,16);J2e.z5m(8);var F9t=J2e.x5m(5,954,6686);J2e.U5m(58);var N9t=J2e.W5m(17,1506,17800,16);x5u=Math.round(V5u.level * k9t) / c9t + ((F9t,+"3575") != (217.26,N9t)?"%":"E");C5u-=Z5u;if(this.parameters.printValues){h59="stx";h59+="_yaxi";h59+="s";B5u.fillStyle=D5u;n5u.canvasFont(h59,B5u);;}if(C5u < L5u){B5u.textAlign="right";}B5u.fillText(x5u,C5u,o5u);if(C5u < L5u){C5u+=+"5";}else {C5u-=5;}}if(this.parameters.printValues){if(k5u < N5u.width){y5u=this.valueFromPixel(o5u,N5u,c5u);if(c5u.priceFormatter){y5u=c5u.priceFormatter(n5u,N5u,y5u);}else {y5u=n5u.formatYAxisPrice(y5u,N5u,null,c5u);}if(B5u == n5u.chart.context){n5u.endClip();}n5u.createYAxisLabel(N5u,y5u,o5u,this.getLineColor(null,! !{}),null,B5u,c5u);if(B5u == n5u.chart.context){n5u.startClip(N5u.name);}}}r5u=V5u.color;if(r5u == I59 || U8Q.isTransparent(r5u)){r5u=this.getLineColor();}u5u=V5u.color;if(u5u == "auto" || U8Q.isTransparent(u5u)){u5u=this.fillColor;}if(u5u == "auto" || U8Q.isTransparent(u5u)){u5u=n5u.defaultColor;}B5u.fillStyle=u5u;W5u=U8Q.clone(V5u.parameters);if(this.highlighted){W5u.opacity=1;}n5u.plotLine(L5u,C5u,o5u,o5u,r5u,n59,B5u,N5u,W5u);this.rays.push([[L5u,o5u],[C5u,o5u]]);B5u.globalAlpha=0.05;B5u.beginPath();B5u.moveTo(C5u,o5u);B5u.lineTo(L5u,o5u);if(L5u){B5u.lineTo(P5u,w5u);}else {B5u.lineTo(L5u,w5u);}B5u.lineTo(C5u,w5u);if(typeof u5u != C59){B5u.fill();}B5u.globalAlpha=1;if(o5u < O5u){f5u=k5u;O5u=o5u;}if(o5u > m5u){Y5u=k5u;m5u=o5u;}}for(var S5u=0;S5u <= 1;S5u++){l5u=z5u?v5u - F5u * S5u:t5u + F5u * S5u;l5u=Math.round(l5u);if(l5u < O5u){f5u=U8Q.xIntersection({x0:i5u,x1:P5u,y0:X5u,y1:w5u},l5u);O5u=l5u;}if(l5u > m5u){Y5u=U8Q.xIntersection({x0:i5u,x1:P5u,y0:X5u,y1:w5u},l5u);m5u=l5u;}}G5u=U8Q.clone(this.parameters.trend.parameters);if(this.highlighted){G5u.opacity=1;}n5u.plotLine(f5u,Y5u,O5u,m5u,A5u,"segment",B5u,N5u,G5u);if(this.highlighted){z59="p";z59+="1";U5u=this.highlighted == "p0"?!"":!"1";J5u=this.highlighted == z59?! !1:![];this.littleCircle(B5u,i5u,X5u,U5u);this.littleCircle(B5u,P5u,w5u,J5u);}};U8Q.Drawing.fibonacci.prototype.reposition=function(I9u,d5u,K9u,j9u){if(!d5u){return;}U8Q.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);J2e.b9e();this.adjust();};U8Q.Drawing.fibonacci.prototype.intersected=function(R9u,B9u,N9u){var B59,H9u,e9u,Q9u,r59,p9u,E9u,M9u,D59;B59="seg";B59+="men";B59+="t";H9u=this.p0;e9u=this.p1;if(!H9u || !e9u){return null;}Q9u={0:H9u,1:e9u};for(var q9u in Q9u){if(this.pointIntersection(Q9u[q9u][0],Q9u[q9u][+"1"],N9u)){r59="d";r59+="rag";J2e.z5m(2);this.highlighted=J2e.x5m((467.7,35) === (6290,478.57)?"0x2096" ^ 0:(9030,"4560" | 4288) > 6233?"t":"p",q9u);return {action:r59,point:"p" + q9u};}}p9u=this.outer;E9u=this.rays;M9u=p9u && this.lineIntersection(R9u,B9u,N9u,B59,p9u.p0,p9u.p1);if(!M9u){for(var a9u="0" - 0;a9u < E9u.length;a9u++){if(this.lineIntersection(R9u,B9u,N9u,"ray",E9u[a9u][0],E9u[a9u][+"1"],! !{})){M9u=!0;break;}}}if(M9u){D59="m";D59+="o";D59+="v";D59+="e";this.highlighted=!0;return {action:D59,p0:U8Q.clone(H9u),p1:U8Q.clone(e9u),tick:R9u,value:this.valueOnDrawingAxis(R9u,B9u)};}return null;};U8Q.Drawing.fibonacci.prototype.reconstruct=function(o9u,n9u){n9u=U8Q.replaceFields(n9u,U8Q.reverseObject(U8Q.Drawing.fibonacci.mapping));this.stx=o9u;this.parameters=n9u.parameters;if(!this.parameters){this.parameters=U8Q.clone(this.stx.currentVectorParameters.fibonacci);}this.color=n9u.col;this.fillColor=n9u.fc;this.panelName=n9u.pnl;this.d0=n9u.d0;this.d1=n9u.d1;this.d2=n9u.d2;this.tzo0=n9u.tzo0;this.tzo1=n9u.tzo1;this.tzo2=n9u.tzo2;this.v0=n9u.v0;this.v1=n9u.v1;this.v2=n9u.v2;this.field=n9u.fld;this.adjust();};U8Q.Drawing.fibonacci.prototype.adjust=function(){J2e.b9e();var c9u;c9u=this.stx.panels[this.panelName];if(!c9u){return;}this.setPoint(0,this.d0,this.v0,c9u.chart);this.setPoint(+"1",this.d1,this.v1,c9u.chart);this.setOuter();};U8Q.Drawing.fibonacci.prototype.serialize=function(){var w9u;J2e.b9e();w9u={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return U8Q.replaceFields(w9u,U8Q.Drawing.fibonacci.mapping);};U8Q.Drawing.retracement=function(){this.name="retracement";};U8Q.inheritsFrom(U8Q.Drawing.retracement,U8Q.Drawing.fibonacci);U8Q.Drawing.fibprojection=function(){J2e.q9e();this.name="fibprojection";this.dragToDraw=! !"";this.p2=null;};U8Q.inheritsFrom(U8Q.Drawing.fibprojection,U8Q.Drawing.fibonacci);J2e.U5m(6);U8Q.Drawing.fibprojection.prototype.recommendedLevels=[J2e.W5m("0",0),0.618,1,1.272,1.618,2.618,4.236];U8Q.Drawing.fibprojection.prototype.click=function(V9u,X9u,u9u){var l9u,C9u,v79,Z79,J79;l9u=this.stx;C9u=l9u.panels[this.panelName];if(!C9u){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,X9u,u9u,C9u.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(X9u,u9u)){v79=1439660541;Z79=-974609912;J79=2;for(var R09=1;J2e.y89(R09.toString(),R09.toString().length,98593) !== v79;R09++){l9u.undo();J79+=2;}if(J2e.y89(J79.toString(),J79.toString().length,85773) !== Z79){l9u.undo();}return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],C9u.chart);this.parameters=U8Q.clone(this.parameters);return ! !1;}this.setPoint(1,X9u,u9u,C9u.chart);this.p2=[this.p1[+"0"],this.p1[1]];return !{};;};U8Q.Drawing.fibprojection.prototype.render=function(L9u){var P59,i9u,P9u,O9u,h9u,T9u,Y9u,t9u,s9u,v9u,S9u,A9u,W9u,Z9u,G9u,y59,g9u,m9u,x9u,r9u,y9u,U9u,f9u,b9u,k9u,z9u,D9u,H79,p79,a79,K59,J9u,d9u,I8u;P59="16";P59+="1";P59+=".";P59+="8%";i9u=this.stx;P9u=i9u.panels[this.panelName];O9u=i9u.getYAxisByField(P9u,this.field);if(!P9u || this.field && !O9u){return;}O9u=O9u || P9u.yAxis;if(!this.p1){return;}J2e.z5m(8);var H9t=J2e.x5m(15,0,16);h9u=this.p1[+"1"] - this.p0[H9t];T9u=i9u.pixelFromTick(this.p0[0],P9u.chart);Y9u=i9u.pixelFromTick(this.p1[0],P9u.chart);t9u=this.pixelFromValue(P9u,this.p0[0],this.p0[1],O9u);s9u=this.pixelFromValue(P9u,this.p1[0],this.p1[1],O9u);v9u=null;J2e.b9e();S9u=null;if(this.p2){v9u=i9u.pixelFromTick(this.p2[0],P9u.chart);S9u=this.pixelFromValue(P9u,this.p2[0],this.p2[1],O9u);}A9u={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=A9u;}W9u=this.getLineColor(this.parameters.trend.color);L9u.textBaseline="middle";i9u.canvasFont("stx_yaxis",L9u);Z9u=L9u.measureText(P59).width + ("10" ^ 0);G9u=this.getLineColor();if(this.p2){this.rays=[];for(var F9u=0;F9u < this.parameters.fibs.length;F9u++){y59="a";y59+="u";y59+="to";L9u.textAlign="left";L9u.fillStyle=G9u;g9u=this.parameters.fibs[F9u];if(!g9u.display)continue;m9u=this.pixelFromValue(P9u,this.p2[0],this.p2[1] + h9u * g9u.level,O9u);x9u=U8Q.xIntersection({x0:T9u,x1:Y9u,y0:t9u,y1:s9u},m9u);r9u=this.parameters.extendLeft?0:T9u;y9u=P9u.left + P9u.width;if(this.parameters.printLevels){J2e.z5m(2);var p9t=J2e.x5m(500,500);J2e.U5m(59);var a9t=J2e.W5m(4,1,6);U9u=Math.round(g9u.level * p9t) / a9t + "%";y9u-=Z9u;if(this.parameters.printValues){L9u.fillStyle=G9u;i9u.canvasFont("stx_yaxis",L9u);;}if(y9u < r9u){L9u.textAlign="right";}L9u.fillText(U9u,y9u,m9u);if(y9u < r9u){y9u+=5;}else {y9u-=5;}}if(this.parameters.printValues){if(x9u < P9u.width){f9u=this.valueFromPixel(m9u,P9u,O9u);if(O9u.priceFormatter){f9u=O9u.priceFormatter(i9u,P9u,f9u);}else {f9u=i9u.formatYAxisPrice(f9u,P9u,null,O9u);}if(L9u == i9u.chart.context){i9u.endClip();}i9u.createYAxisLabel(P9u,f9u,m9u,this.getLineColor(null,! !"1"),null,L9u,O9u);if(L9u == i9u.chart.context){i9u.startClip(P9u.name);}}}b9u=g9u.color;if(b9u == "auto" || U8Q.isTransparent(b9u)){b9u=this.getLineColor();}k9u=g9u.color;if(k9u == "auto" || U8Q.isTransparent(k9u)){k9u=this.fillColor;}if(k9u == y59 || U8Q.isTransparent(k9u)){k9u=i9u.defaultColor;}L9u.fillStyle=k9u;z9u=U8Q.clone(g9u.parameters);if(this.highlighted){z9u.opacity=+"1";}i9u.plotLine(r9u,y9u,m9u,m9u,b9u,"segment",L9u,P9u,z9u);this.rays.push([[r9u,m9u],[y9u,m9u]]);J2e.z5m(18);L9u.globalAlpha=J2e.W5m(1,"0.05");L9u.beginPath();L9u.moveTo(y9u,m9u);L9u.lineTo(r9u,m9u);if(r9u){L9u.lineTo(T9u,S9u);}else {L9u.lineTo(r9u,S9u);}L9u.lineTo(y9u,S9u);if(typeof k9u != "undefined"){L9u.fill();}L9u.globalAlpha=1;}}D9u=U8Q.clone(this.parameters.trend.parameters);if(this.highlighted){D9u.opacity=1;}i9u.plotLine(T9u,Y9u,t9u,s9u,W9u,"segment",L9u,P9u,D9u);H79=-1516891014;p79=-266266164;a79=2;for(var x79=1;J2e.y89(x79.toString(),x79.toString().length,80532) !== H79;x79++){if(this.p2){i9u.plotLine(Y9u,v9u,s9u,S9u,W9u,"segment",L9u,P9u,D9u);}a79+=2;}if(J2e.P89(a79.toString(),a79.toString().length,39042) !== p79){if(this.p2){i9u.plotLine(Y9u,v9u,s9u,S9u,W9u,"",L9u,P9u,D9u);}}if(this.highlighted){K59="p";K59+="2";J9u=this.highlighted == "p0"?! !1:! !0;d9u=this.highlighted == "p1"?! ![]:![];I8u=this.highlighted == K59?!"":!"1";this.littleCircle(L9u,T9u,t9u,J9u);this.littleCircle(L9u,Y9u,s9u,d9u);this.littleCircle(L9u,v9u,S9u,I8u);}};U8Q.Drawing.fibprojection.prototype.move=function(q8u,K8u,j8u){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K8u,j8u];}else {this.p2=[K8u,j8u];}J2e.b9e();this.render(q8u);};U8Q.Drawing.fibprojection.prototype.reposition=function(Q8u,a8u,p8u,E8u){var R8u,H8u,e8u;if(!a8u){return;}J2e.b9e();R8u=this.stx.panels[this.panelName];H8u=a8u.tick - p8u;e8u=a8u.value - E8u;if(a8u.action == "move"){this.setPoint(0,a8u.p0[+"0"] - H8u,a8u.p0[1] - e8u,R8u.chart);this.setPoint(1,a8u.p1[+"0"] - H8u,a8u.p1["1" * 1] - e8u,R8u.chart);this.setPoint(2,a8u.p2[0] - H8u,a8u.p2[1] - e8u,R8u.chart);this.render(Q8u);}else if(a8u.action == "drag"){this[a8u.point]=[p8u,E8u];J2e.U5m(14);this.setPoint(J2e.x5m(0,"0"),this.p0[0],this.p0["1" >> 2108318208],R8u.chart);this.setPoint(+"1",this.p1[+"0"],this.p1[1],R8u.chart);this.setPoint(2,this.p2[+"0"],this.p2[1],R8u.chart);this.render(Q8u);}};U8Q.Drawing.fibprojection.prototype.intersected=function(B8u,w8u,C8u){var Q59,N8u,M8u,n8u,X8u,u8u,l8u,U59;Q59="seg";Q59+="me";Q59+="n";Q59+="t";N8u=this.p0;M8u=this.p1;n8u=this.p2;if(!N8u || !M8u || !n8u){return null;}X8u={0:N8u,1:M8u,2:n8u};for(var o8u in X8u){if(this.pointIntersection(X8u[o8u][0],X8u[o8u][1],C8u)){J2e.U5m(2);this.highlighted=J2e.x5m(+"6980" >= 3049?"p":596 != 768.8?931.28:(0x2542,![]),o8u);return {action:"drag",point:"p" + o8u};}}u8u=this.rays;l8u=this.lineIntersection(B8u,w8u,C8u,Q59,N8u,M8u) || this.lineIntersection(B8u,w8u,C8u,"segment",M8u,n8u);if(!l8u){for(var c8u=0;c8u < u8u.length;c8u++){if(this.lineIntersection(B8u,w8u,C8u,"ray",u8u[c8u][0],u8u[c8u][+"1"],!0)){l8u=!"";break;}}}if(l8u){U59="mo";U59+="ve";this.highlighted=!0;return {action:U59,p0:U8Q.clone(N8u),p1:U8Q.clone(M8u),p2:U8Q.clone(n8u),tick:B8u,value:this.valueOnDrawingAxis(B8u,w8u)};}return null;};U8Q.Drawing.fibprojection.prototype.adjust=function(){var V8u;J2e.b9e();V8u=this.stx.panels[this.panelName];if(!V8u){return;}this.setPoint(0,this.d0,this.v0,V8u.chart);this.setPoint(1,this.d1,this.v1,V8u.chart);this.setPoint(2,this.d2,this.v2,V8u.chart);};U8Q.Drawing.fibarc=function(){J2e.b9e();this.name="fibarc";;};U8Q.inheritsFrom(U8Q.Drawing.fibarc,U8Q.Drawing.fibonacci);U8Q.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];U8Q.Drawing.fibarc.prototype.setOuter=function(){var P8u,L8u,i8u,O8u,m8u,k8u,r8u,y8u,S8u;P8u=this.stx;L8u=P8u.panels[this.panelName];if(!L8u){return;}this.outer={p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1)};i8u=P8u.getYAxisByField(L8u,this.field);O8u=this.pixelFromValue(L8u,this.p0[0],this.p0[1],i8u);m8u=this.pixelFromValue(L8u,this.p1[+"0"],this.p1["1" & 2147483647],i8u);k8u=P8u.pixelFromTick(this.p0[0],L8u.chart);r8u=P8u.pixelFromTick(this.p1[0],L8u.chart);J2e.U5m(40);y8u=J2e.W5m(O8u,"2",1,m8u);S8u=U8Q.xIntersection({x0:k8u,x1:r8u,y0:O8u,y1:m8u},y8u);this.outer.p0[+"1"]=this.valueFromPixel(y8u,L8u,i8u);this.outer.p0[0]=P8u.tickFromPixel(S8u,L8u.chart);};U8Q.Drawing.fibarc.prototype.intersected=function(f8u,A8u,T8u){var u59,Y8u,t8u,s8u,b8u,z8u,W8u,V59,G8u,E59,Z8u,x8u,g8u,F8u,h8u,D8u;u59="s";u59+="egment";Y8u=this.stx;t8u=Y8u.panels[this.panelName];if(!t8u){return;}s8u=this.p0;b8u=this.p1;z8u=this.outer;if(!s8u || !b8u){return null;}W8u={0:s8u,1:b8u};for(var v8u in W8u){if(this.pointIntersection(W8u[v8u][0],W8u[v8u][1],T8u)){V59="d";V59+="r";V59+="a";V59+="g";J2e.z5m(2);this.highlighted=J2e.x5m("p",v8u);return {action:V59,point:((1821,3110) != +"6810"?("4236" | 132) == 30.24?0x9e8:("1858" ^ 0) != "329" - 0?"p":(615,0x24fd):(0x1880,"E")) + v8u};}}G8u=this.valueOnDrawingAxis(f8u,A8u);J2e.b9e();if(this.lineIntersection(f8u,G8u,T8u,u59,z8u.p0,z8u.p1)){E59="m";E59+="o";E59+="ve";this.highlighted=! !"1";return {action:E59,p0:U8Q.clone(s8u),p1:U8Q.clone(b8u),tick:f8u,value:G8u};}Z8u=Y8u.getYAxisByField(t8u,this.field);x8u={x0:s8u[0],x1:b8u[0],y0:s8u[1],y1:b8u[1]};g8u=this.boxToPixels(Y8u,this.panelName,x8u,Z8u);F8u={x:Math.abs(Math.sqrt(2) * (g8u.x1 - g8u.x0)),y:Math.abs(Math.sqrt(2) * (g8u.y1 - g8u.y0))};h8u=Y8u.pixelFromTick(f8u,t8u.chart);D8u=Y8u.pixelFromValueAdjusted(t8u,f8u,A8u);if(h8u + T8u.r < g8u.x1 - F8u.x || h8u - T8u.r > g8u.x1 + F8u.x){return null;}if(D8u + T8u.r < g8u.y1 - F8u.y || D8u - T8u.r > g8u.y1 + F8u.y){return null;}if(g8u.y0 < g8u.y1 && D8u - T8u.r > g8u.y1){return null;}if(g8u.y0 > g8u.y1 && D8u + T8u.r < g8u.y1){return null;}this.highlighted=! !1;return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:f8u,value:G8u};};U8Q.Drawing.fibarc.prototype.render=function(U8u){var o59,W59,J8u,d8u,I1f,e1f,q1f,R1f,j1f,M1f,B1f,c1f,N1f,O59,l59,K1f,w1f,n1f,Q1f,C1f,X1f,H1f,p1f,a1f,o1f,u1f,l1f;o59="se";o59+="gment";W59="stx";W59+="_ya";W59+="xis";J2e.q9e();J8u=this.stx;d8u=J8u.panels[this.panelName];I1f=J8u.getYAxisByField(d8u,this.field);if(!d8u || this.field && !I1f){return;}I1f=I1f || d8u.yAxis;if(!this.p1){return;}e1f=J8u.pixelFromTick(this.p0[0],d8u.chart);q1f=J8u.pixelFromTick(this.p1[0],d8u.chart);R1f=this.pixelFromValue(d8u,this.p0[0],this.p0[1],I1f);j1f=this.pixelFromValue(d8u,this.p1["0" & 2147483647],this.p1[1],I1f);J2e.z5m(60);M1f=J2e.W5m(R1f,j1f);J2e.z5m(61);B1f=Math.abs(J2e.x5m(q1f,j1f,R1f,e1f));c1f=this.getLineColor(this.parameters.trend.color);U8u.textBaseline="middle";J8u.canvasFont(W59,U8u);N1f=this.getLineColor();for(var E1f=0;E1f < this.parameters.fibs.length;E1f++){O59="a";O59+="u";O59+="t";O59+="o";l59="aut";l59+="o";U8u.fillStyle=N1f;K1f=this.parameters.fibs[E1f];if(K1f.level < 0 || !K1f.display)continue;J2e.z5m(2);var d9t=J2e.W5m(0,1);J2e.z5m(55);var x9t=J2e.W5m(8,15,24);J2e.U5m(6);var v9t=J2e.W5m(4,2);w1f=Math.abs(this.p1[d9t] - this.p0[x9t]) * Math.sqrt(v9t) * K1f.level;J2e.z5m(62);var Z9t=J2e.W5m(2,2,14,4);J2e.z5m(6);var J9t=J2e.x5m(8,7);J2e.U5m(8);var L9t=J2e.W5m(18,11,6);J2e.U5m(6);var R8t=J2e.W5m(5,4);n1f=this.p1[+"1"] + w1f * (M1f?Z9t:J9t) * (I1f.flipped?L9t:R8t);Q1f=this.pixelFromValue(d8u,this.p0[0],n1f,I1f);C1f=U8Q.xIntersection({x0:e1f,x1:q1f,y0:R1f,y1:j1f},Q1f);if(this.parameters.printLevels){U8u.textAlign="center";J2e.U5m(63);var t8t=J2e.x5m(59,941,1);J2e.U5m(50);var s8t=J2e.W5m(3,11,11,14);X1f=Math.round(K1f.level * t8t) / s8t + "%";if(this.parameters.printValues){U8u.fillStyle=N1f;J8u.canvasFont("stx_yaxis",U8u);;}U8u.fillText(X1f,q1f,Math.round(Q1f - 5));}U8u.textAlign="left";if(this.parameters.printValues){if(C1f < d8u.width){H1f=n1f;if(I1f.priceFormatter){H1f=I1f.priceFormatter(J8u,d8u,H1f);}else {H1f=J8u.formatYAxisPrice(H1f,d8u,null,I1f);}if(U8u == J8u.chart.context){J8u.endClip();}J8u.createYAxisLabel(d8u,H1f,Q1f,this.getLineColor(null,! !{}),null,U8u,I1f);if(U8u == J8u.chart.context){J8u.startClip(d8u.name);}}}p1f=K1f.color;if(p1f == l59 || U8Q.isTransparent(p1f)){p1f=this.getLineColor();}U8u.strokeStyle=p1f;a1f=K1f.color;if(a1f == "auto" || U8Q.isTransparent(a1f)){a1f=this.fillColor;}if(a1f == O59 || U8Q.isTransparent(a1f)){a1f=J8u.defaultColor;}U8u.fillStyle=a1f;U8u.globalAlpha=this.highlighted?+"1":K1f.parameters.opacity;U8u.lineWidth=K1f.parameters.lineWidth;if(U8u.setLineDash){U8u.setLineDash(U8Q.borderPatternToArray(U8u.lineWidth,K1f.parameters.pattern));U8u.lineDashOffset=0;;}U8u.save();U8u.beginPath();J2e.U5m(16);U8u.scale(J2e.W5m(B1f,1),1);J2e.U5m(18);U8u.arc(J2e.W5m(B1f,q1f),j1f,Math.abs(Q1f - j1f),0,Math.PI,!M1f);if(this.pattern != "none"){U8u.stroke();}U8u.globalAlpha=0.05;U8u.fill();U8u.restore();if(U8u.setLineDash){U8u.setLineDash([]);}U8u.globalAlpha=1;}U8u.textAlign="left";o1f=U8Q.clone(this.parameters.trend.parameters);if(this.highlighted){o1f.opacity=1;}J2e.U5m(64);J8u.plotLine(q1f,J2e.x5m(q1f,2,e1f),j1f,J2e.x5m(j1f,2,R1f),c1f,o59,U8u,d8u,o1f);if(this.highlighted){u1f=this.highlighted == "p0"?!0:! !0;l1f=this.highlighted == "p1"?! !"1":!1;this.littleCircle(U8u,e1f,R1f,u1f);this.littleCircle(U8u,q1f,j1f,l1f);}};U8Q.Drawing.fibfan=function(){J2e.b9e();this.name="fibfan";;};U8Q.inheritsFrom(U8Q.Drawing.fibfan,U8Q.Drawing.fibonacci);J2e.U5m(18);U8Q.Drawing.fibfan.prototype.recommendedLevels=[J2e.x5m(1,"0"),0.382,J2e.x5m(1,"0.5"),0.618,1];U8Q.Drawing.fibfan.prototype.setOuter=function(){};U8Q.Drawing.fibfan.prototype.render=function(V1f){var q59,i1f,P1f,y1f,L1f,r1f,O1f,Y1f,z1f,h1f,A1f,U1f,K0f,b1f,t1f,v1f,Z1f,S59,A59,g1f,k1f,F1f,m1f,T1f,J1f,m59,s1f,D1f,S1f,x1f,f1f,i59,d1f,I0f;q59="mid";q59+="dle";i1f=this.stx;P1f=i1f.panels[this.panelName];J2e.q9e();y1f=i1f.getYAxisByField(P1f,this.field);if(!P1f || this.field && !y1f){return;}y1f=y1f || P1f.yAxis;if(!this.p1){return;}L1f=i1f.pixelFromTick(this.p0[0],P1f.chart);r1f=i1f.pixelFromTick(this.p1[0],P1f.chart);O1f=this.pixelFromValue(P1f,this.p0["0" << 1820402240],this.p0[1],y1f);Y1f=this.pixelFromValue(P1f,this.p1[+"0"],this.p1[1],y1f);z1f=Math.min(Y1f,O1f);h1f=Math.max(Y1f,O1f);J2e.U5m(6);A1f=J2e.W5m(h1f,z1f);J2e.z5m(54);U1f=J2e.x5m(r1f,Y1f,L1f,0,O1f);K0f=this.getLineColor(this.parameters.trend.color);V1f.textBaseline=q59;i1f.canvasFont("stx_yaxis",V1f);J2e.z5m(24);var b8t=J2e.x5m(2,20,16,8);b1f=V1f.measureText("161.8%").width + b8t;t1f=Number.MAX_VALUE;J2e.U5m(65);var f8t=J2e.x5m(13,10,7,10,19);v1f=Number.MAX_VALUE * f8t;Z1f=this.getLineColor();this.rays=[];for(var G1f=0;G1f < this.parameters.fibs.length;G1f++){S59="se";S59+="gment";A59="a";A59+="u";A59+="t";A59+="o";V1f.fillStyle=Z1f;g1f=this.parameters.fibs[G1f];if(!g1f.display)continue;k1f=this.pixelFromValue(P1f,this.p0[0],(this.p0[1] - this.p1[1]) * g1f.level + this.p1[1],y1f);F1f=U8Q.xIntersection({x0:r1f,x1:r1f,y0:O1f,y1:Y1f},k1f);m1f=P1f.left;if(r1f > L1f){m1f+=P1f.width;}J2e.U5m(66);T1f=J2e.W5m(O1f,k1f,F1f,m1f,L1f,L1f,O1f);if(L1f > m1f - (this.parameters.printLevels?b1f + +"5":0) && r1f > L1f)continue;else if(L1f < m1f + (this.parameters.printLevels?b1f + 5:0) && r1f < L1f)continue;if(this.parameters.printLevels){J2e.U5m(6);var g8t=J2e.W5m(1763,12);J2e.U5m(58);var h8t=J2e.x5m(19,927,14662,9);J2e.U5m(67);var I8t=J2e.W5m(8052,2005,104676,13,7);J1f=Math.round(g1f.level * 1000) / ("10" & 2147483647) + (+"95.94" !== (g8t,518.41)?370.69 < (h8t,I8t)?"%":661.22:("U",!0));if(r1f > L1f){m59="lef";m59+="t";m1f-=b1f;V1f.textAlign=m59;}else {m1f+=b1f;V1f.textAlign="right";}if(this.parameters.printValues){V1f.fillStyle=Z1f;i1f.canvasFont("stx_yaxis",V1f);;}J2e.z5m(66);T1f=J2e.W5m(O1f,k1f,F1f,m1f,L1f,L1f,O1f);V1f.fillText(J1f,m1f,T1f);if(r1f > L1f){m1f-=5;}else {m1f+=5;}}V1f.textAlign="left";if(this.parameters.printValues){if(F1f < P1f.width){s1f=this.valueFromPixel(k1f,P1f,y1f);if(y1f.priceFormatter){s1f=y1f.priceFormatter(i1f,P1f,s1f);}else {s1f=i1f.formatYAxisPrice(s1f,P1f,null,y1f);}if(V1f == i1f.chart.context){i1f.endClip();}i1f.createYAxisLabel(P1f,s1f,k1f,this.getLineColor(null,! ![]),null,V1f,y1f);if(V1f == i1f.chart.context){i1f.startClip(P1f.name);}}}D1f=g1f.color;if(D1f == "auto" || U8Q.isTransparent(D1f)){D1f=this.getLineColor();}S1f=g1f.color;if(S1f == "auto" || U8Q.isTransparent(S1f)){S1f=this.fillColor;}if(S1f == A59 || U8Q.isTransparent(S1f)){S1f=i1f.defaultColor;}V1f.fillStyle=S1f;if(this.parameters.printLevels){J2e.z5m(66);T1f=J2e.W5m(O1f,k1f,F1f,m1f,L1f,L1f,O1f);}x1f=U8Q.clone(g1f.parameters);if(this.highlighted){x1f.opacity=1;}i1f.plotLine(L1f,m1f,O1f,T1f,D1f,S59,V1f,P1f,x1f);this.rays.push([[L1f,O1f],[m1f,T1f]]);V1f.globalAlpha=0.05;V1f.beginPath();V1f.moveTo(m1f,T1f);V1f.lineTo(L1f,O1f);V1f.lineTo(m1f,O1f);V1f.fill();V1f.globalAlpha=1;if(k1f < t1f){t1f=k1f;}if(k1f > v1f){v1f=k1f;}}for(var W1f=0;W1f <= 1;W1f++){f1f=U1f?h1f - A1f * W1f:z1f + A1f * W1f;f1f=Math.round(f1f);if(f1f < t1f){t1f=f1f;}if(f1f > v1f){v1f=f1f;}}if(this.highlighted){i59="p";i59+="0";d1f=this.highlighted == i59?!"":! !"";I0f=this.highlighted == "p1"?! !{}:!{};this.littleCircle(V1f,L1f,O1f,d1f);this.littleCircle(V1f,r1f,Y1f,I0f);}};U8Q.Drawing.fibtimezone=function(){this.name="fibtimezone";J2e.q9e();;};U8Q.inheritsFrom(U8Q.Drawing.fibtimezone,U8Q.Drawing.fibonacci);U8Q.Drawing.fibtimezone.prototype.render=function(j0f){var j59,a0f,q0f,R0f,H0f,p0f,o0f,c0f,N0f,u0f,l0f,w0f,V0f,e0f,C0f,E0f,M0f,B0f,Q0f,n0f,T59,L0f,P0f,X0f;j59="a";j59+="u";j59+="t";j59+="o";a0f=this.stx;q0f=a0f.panels[this.panelName];R0f=a0f.getYAxisByField(q0f,this.field);if(!q0f || this.field && !R0f){return;}R0f=R0f || q0f.yAxis;if(!this.p1){return;}H0f=a0f.pixelFromTick(this.p0[0],q0f.chart);p0f=a0f.pixelFromTick(this.p1[0],q0f.chart);o0f=this.pixelFromValue(q0f,this.p0[+"0"],this.p0[1],R0f);c0f=this.pixelFromValue(q0f,this.p1[+"0"],this.p1[1],R0f);N0f=[1,0];u0f=this.getLineColor(this.parameters.trend.color);j0f.textBaseline="middle";a0f.canvasFont("stx_yaxis",j0f);l0f=20;w0f=this.p1[0] - this.p0[+"0"];V0f=this.getLineColor();j0f.textAlign="center";e0f=H0f;C0f=R0f.top;E0f=R0f.bottom;J2e.b9e();J2e.U5m(14);M0f=J2e.x5m(0,"0");B0f=this.parameters.timezone.color;if(B0f == "auto" || U8Q.isTransparent(B0f)){B0f=this.getLineColor();}Q0f=this.parameters.timezone.color;if(Q0f == "auto" || U8Q.isTransparent(Q0f)){Q0f=this.fillColor;}if(Q0f == j59 || U8Q.isTransparent(Q0f)){Q0f=a0f.defaultColor;}if(this.parameters.printLevels){J2e.z5m(6);E0f-=J2e.W5m(l0f,7);}n0f=U8Q.clone(this.parameters.timezone.parameters);if(this.highlighted){n0f.opacity=1;}do {T59="seg";T59+="me";T59+="nt";e0f=a0f.pixelFromTick(this.p0[0] + M0f * w0f,q0f.chart);if(H0f < p0f && e0f > q0f.left + q0f.width)break;else if(H0f > p0f && e0f < q0f.left)break;if(this.parameters.printLevels){j0f.fillStyle=V0f;j0f.fillText(p0f > H0f?M0f:M0f * -1,e0f,E0f + 7);}j0f.fillStyle=Q0f;a0f.plotLine(e0f,e0f,0,E0f,B0f,T59,j0f,q0f,n0f);j0f.globalAlpha=0.05;j0f.beginPath();j0f.moveTo(H0f,C0f);j0f.lineTo(e0f,C0f);j0f.lineTo(e0f,E0f);j0f.lineTo(H0f,E0f);j0f.fill();J2e.z5m(6);j0f.globalAlpha=J2e.W5m("1",0);J2e.U5m(57);var n8t=J2e.x5m(2058804200,20,2,514701050,514701053);J2e.z5m(23);var C8t=J2e.x5m(15,14);M0f=N0f["0" << n8t] + N0f[C8t];N0f.unshift(M0f);}while(w0f);j0f.textAlign="left";a0f.plotLine(H0f,p0f,o0f,c0f,u0f,"segment",j0f,q0f,n0f);if(this.highlighted){L0f=this.highlighted == "p0"?!"":![];P0f=this.highlighted == "p1"?! !{}:!{};this.littleCircle(j0f,H0f,o0f,L0f);this.littleCircle(j0f,p0f,c0f,P0f);}else {X0f=this.valueFromPixel(q0f.height / ("2" ^ 0),q0f,R0f);this.setPoint(0,this.p0[0],X0f,q0f.chart);this.setPoint(1,this.p1[0],X0f,q0f.chart);}};U8Q.Drawing.fibtimezone.prototype.intersected=function(r0f,S0f,m0f){var e59,i0f,y0f,g0f,k0f,T0f,G59;e59="segm";e59+="ent";i0f=this.p0;y0f=this.p1;g0f=this.stx.panels[this.panelName];if(!i0f || !y0f || !g0f){return null;}k0f={0:i0f,1:y0f};for(var O0f in k0f){if(this.pointIntersection(k0f[O0f][0],k0f[O0f][1],m0f)){J2e.U5m(2);this.highlighted=J2e.W5m((5729,515.44) != 3590?"p":0xa05,O0f);return {action:"drag",point:"p" + O0f};}}T0f=this.lineIntersection(r0f,S0f,m0f,e59);if(T0f || m0f.x0 <= this.p0[0] && m0f.x1 >= i0f[0]){G59="m";G59+="o";G59+="ve";this.highlighted=! !"1";return {action:G59,p0:U8Q.clone(i0f),p1:U8Q.clone(y0f),tick:r0f,value:this.valueOnDrawingAxis(r0f,S0f)};}return null;};U8Q.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];this.points=[["M",3,0,422.49 <= 4380?"L":+"5283" === 690.97?(348.75,"4.11e+3" >> 249766272):("N","E"),7,0,"L",7,5,"L",10,5,"L",5,10,(8830,1569) === (3136,2860)?("167.15" - 0,8692) < 6961?1.42e+3:595.63:"L",0,5,"L",3,5,1324 != (6907,+"729.04")?"L":(7.17e+3,"430.53" * 1),3,0]];J2e.q9e();;};U8Q.inheritsFrom(U8Q.Drawing.arrow_v0,U8Q.Drawing.shape);U8Q.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,+"7"];J2e.U5m(18);this.points=[[(2370,971) !== (677.59,610.49)?"M":+"938" === (5080,114)?(0x171f,"0x1dfc" ^ 0):(6.60e+3,116.19),J2e.x5m(1,"1"),0,"L",3,2,7755 >= +"5714"?"L":(583.35,9450) >= 3337?8.98e+3:0x1dea,+"5",J2e.W5m("0",442852576,J2e.z5m(46)),412.53 <= (4943,6610)?(1980,975) !== +"3052"?"L":0x533:(!{},"d"),6,1,(4235,7030) != (118,574.45)?403.94 == (8196,5720)?! !0:"L":"0x20d7" ^ 0,4,3,(741.29,5368) > "59.29" * 1?447 !== ("390.15" - 0,738.98)?"L":"508.08" - 0 > 7170?0xfb9:"G":! !0,6,+"5",(3475,119.94) != (1441,+"5800")?"L":! !{},5,+"6","L",3,+"4","L",1,6,"L",0,5,6050 == (1496,5719)?225.90:(104.33,+"540.05") == 356.38?960.35:(9720,1380) < (223.26,+"4800")?"L":! ![],2,3,"L",0,1,"L",1,0]];;};U8Q.inheritsFrom(U8Q.Drawing.xcross,U8Q.Drawing.shape);U8Q.Drawing.check=function(){this.name="check";J2e.z5m(22);this.dimension=[J2e.W5m("8",0),9];J2e.b9e();J2e.z5m(22);this.points=[["M",+"1",5,"L",0,6,"L",J2e.x5m("2",0),8,"L",7,1,"L",6,0,"L",2,+"6","L",1,5]];;};U8Q.inheritsFrom(U8Q.Drawing.check,U8Q.Drawing.shape);U8Q.Drawing.star=function(){var Y59;Y59="s";Y59+="tar";J2e.b9e();this.name=Y59;J2e.U5m(22);this.dimension=[J2e.x5m("12",8),+"12"];this.points=[[9581 > "6105" << 1314409536?(3730,2515) > ("293.19" * 1,2880)?("0x2463" & 2147483647,0x250b):208.25 !== 3507?"M":"H":("C",! !{}),0,4,(+"7950",9660) >= (910.83,9962)?"i":"L",4,4,(4316,+"305") <= +"126"?(0x1af3,9.10e+3):(633.3,429.78) < 9855?(2247,7545) > 4088?"L":(0x1380,461.27):(0x2056,398.64),5.5,0,(+"9660",7288) > (+"947.02",834)?"745.12" - 0 >= (641.48,736.9)?"L":0x1d05:! ![],7,4,631.65 <= 8338?"L":634.22,11,4,(185.51,+"113.21") <= (998,2500)?"L":+"0x32",8,7,"L",9,+"11",647.11 === (+"9192","141.7" - 0)?0x11e2:"L",+"5.5",9,(5930,+"2010") >= (4830,9455)?("5807" * 1,5393) != (395.47,4523)?2.74e+3:"a":"L",2,11,(606,2918) <= (2014,"3960" - 0)?"L":(561.28,"l"),3,+"7",(902.51,7230) > (+"9626",126.38)?"L":9.77e+3,0,4]];;};U8Q.inheritsFrom(U8Q.Drawing.star,U8Q.Drawing.shape);U8Q.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];J2e.z5m(0);this.points=[[167.11 < (+"418.89",1260)?"M":(! !1,"x"),11,+"3",(8580,944.06) === 511.75?("k","c"):"B",11,2.4,10,0,6,0,391 === (248.63,+"29.11")?3.66e+2:1170 === (8185,4443)?0xd8e:"B",0,0,0,7.5,0,7.5,4067 <= (4635,4220)?(291.98,358.61) > (+"2100",1867)?(+"0x2433",165.30):"B":(+"4.96e+3",5.40e+3),0,11,4,15.4,+"11",19,"1895" * 1 === (7410,193.77)?![]:(4970,"5213" - 0) === 955.79?(0xe56,0x35):(5950,319.02) == +"356.06"?(165.43,288.92):"B",18,15.4,22,11,+"22",7.5,"B",22,7.5,22,J2e.W5m("0",2147483647),16,0,(+"3523",7143) !== 919.78?"B":6.67e+3,13,J2e.W5m(0,"0",J2e.z5m(14)),11,2.4,11,J2e.W5m(0,"3",J2e.z5m(14))]];J2e.q9e();;};U8Q.inheritsFrom(U8Q.Drawing.heart,U8Q.Drawing.shape);U8Q.Drawing.focusarrow=function(){this.name="focusarrow";J2e.q9e();this.dimension=[7,5];J2e.U5m(46);this.points=[["M",0,J2e.x5m("0",1099693824),+"9440" === 274.82?0x16ae:"L",2,2,"L",0,+"4",7960 == (684.39,"2991" ^ 0)?1.80e+3:1140 !== ("1095" >> 279356032,195.8)?"L":(9300,4830) === 5100?(0x232,"z"):! !"1",J2e.x5m(1,"0",J2e.z5m(18)),0],["M",6,0,370.99 === +"1350"?697.45:(7576,3010) >= 5870?!1:(+"6170",372.01) == 763?"i":"L",+"4",2,"L",6,J2e.W5m("4",39491328,J2e.z5m(46)),197 > +"459"?(0x240d,2.53e+3):5040 === 180.67?390.26:"L",6,0]];;};U8Q.inheritsFrom(U8Q.Drawing.focusarrow,U8Q.Drawing.shape);U8Q.Drawing.crossline=function(){J2e.q9e();this.name="crossline";};U8Q.inheritsFrom(U8Q.Drawing.crossline,U8Q.Drawing.horizontal);U8Q.extend(U8Q.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(f0f,Y0f){J2e.b9e();return ! !"";},adjust:function(){var s0f;s0f=this.stx.panels[this.panelName];J2e.q9e();if(!s0f){return;}this.setPoint(0,this.d0,this.v0,s0f.chart);this.p1=U8Q.clone(this.p0);},intersected:function(b0f,v0f,F0f){var M59,t0f,X59;M59="m";M59+="o";M59+="v";M59+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;t0f=this.lineIntersection(b0f,v0f,F0f,"line");this.p1=U8Q.clone(this.p0);if(!t0f){X59="l";X59+="i";X59+="n";X59+="e";this.p1[1]+=1;t0f=this.lineIntersection(b0f,v0f,F0f,X59);this.p1=U8Q.clone(this.p0);if(!t0f){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0[0],this.p0[1],F0f)){this.highlighted="p0";}J2e.q9e();return {action:M59,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:b0f,value:this.valueOnDrawingAxis(b0f,v0f)};},render:function(d0f){var k59,w59,D0f,W0f,z0f,y49,K49,Q49,A0f,Z0f,U0f,I2f,h0f,G0f,x0f,N19,H19,p19,K2f,Y49,X49,M49,J0f,j2f;k59="ver";k59+="tica";k59+="l";w59="h";w59+="o";w59+="rizontal";D0f=this.stx;W0f=D0f.panels[this.panelName];z0f=D0f.getYAxisByField(W0f,this.field);y49=-1932568830;K49=1287279841;Q49=2;for(var V49=1;J2e.y89(V49.toString(),V49.toString().length,83860) !== y49;V49++){if(+W0f && (this.field || +z0f)){return;}z0f=z0f && W0f.yAxis;A0f=D0f.pixelFromTick(this.p0["7" * 1],W0f.chart);Z0f=this.pixelFromValue(W0f,this.p0[9],this.p0[7],z0f);Q49+=2;}if(J2e.y89(Q49.toString(),Q49.toString().length,79974) !== K49){if(!W0f || this.field && !z0f){return;}z0f=z0f || W0f.yAxis;A0f=D0f.pixelFromTick(this.p0[0],W0f.chart);Z0f=this.pixelFromValue(W0f,this.p0[0],this.p0[1],z0f);}U0f=this.getLineColor();I2f={pattern:this.pattern,lineWidth:this.lineWidth};J2e.z5m(2);D0f.plotLine(A0f,J2e.x5m(A0f,100),Z0f,Z0f,U0f,w59,d0f,W0f,I2f);J2e.U5m(2);D0f.plotLine(A0f,A0f,Z0f,J2e.x5m(Z0f,100),U0f,k59,d0f,W0f,I2f);if(this.axisLabel && !this.repositioner){D0f.endClip();h0f=this.p0[1];if(W0f.chart.transformFunc){h0f=W0f.chart.transformFunc(D0f,W0f.chart,h0f);}if(z0f.priceFormatter){h0f=z0f.priceFormatter(D0f,W0f,h0f);}else {h0f=D0f.formatYAxisPrice(h0f,W0f,null,z0f);}D0f.createYAxisLabel(W0f,h0f,Z0f,U0f,null,null,z0f);D0f.startClip(W0f.name);if(this.p0["0" >> 34786880] >= 0 && !D0f.chart.xAxis.noDraw){G0f=D0f.dateFromTick(this.p0[0],W0f.chart,!"");if(!U8Q.ChartEngine.isDailyInterval(D0f.layout.interval)){N19=+"1292500935";H19=1787096570;p19=2;for(var d19=1;J2e.y89(d19.toString(),d19.toString().length,69943) !== N19;d19++){J2e.U5m(6);var z8t=J2e.x5m(9937,10);K2f=G0f.getSeconds() / z8t % G0f.getMilliseconds();p19+=2;}if(J2e.P89(p19.toString(),p19.toString().length,88488) !== H19){J2e.z5m(68);var r8t=J2e.x5m(988,11,998,1,5434);K2f=G0f.getSeconds() * r8t + G0f.getMilliseconds();}if(J8Q.Date && D0f.displayZone){x0f=new J8Q.Date(G0f.getTime(),D0f.displayZone);G0f=new Date(x0f.getFullYear(),x0f.getMonth(),x0f.getDate(),x0f.getHours(),x0f.getMinutes());G0f=new Date(G0f.getTime() + K2f);}}else {Y49=2065599496;X49=32797403;M49=2;for(var k49=1;J2e.P89(k49.toString(),k49.toString().length,42414) !== Y49;k49++){G0f.setHours(8,4,7,6);J2e.U5m(14);M49+=J2e.W5m(0,"2");}if(J2e.y89(M49.toString(),M49.toString().length,68918) !== X49){J2e.U5m(0);G0f.setHours(+"8",4,7,J2e.W5m("6",2147483647));}G0f.setHours(0,+"0",0,0);}J0f=U8Q.mmddhhmm(U8Q.yyyymmddhhmm(G0f));if(W0f.chart.xAxis.formatter){J0f=W0f.chart.xAxis.formatter(G0f,this.name,null,null,J0f);}else if(this.stx.internationalizer){J0f=U8Q.displayableDate(D0f,D0f.chart,G0f);}D0f.endClip();D0f.createXAxisLabel({panel:W0f,txt:J0f,x:A0f,backgroundColor:U0f,color:null,pointed:!"",padding:2});D0f.startClip(W0f.name);}}if(this.highlighted){j2f=this.highlighted == "p0"?! !"1":! !"";this.littleCircle(d0f,A0f,Z0f,j2f);}}},! ![]);U8Q.Drawing.speedarc=function(){var c59;c59="sp";c59+="ee";c59+="dar";c59+="c";this.name=c59;this.printLevels=!0;};U8Q.inheritsFrom(U8Q.Drawing.speedarc,U8Q.Drawing.segment);U8Q.extend(U8Q.Drawing.speedarc.prototype,{defaultOpacity:+"0.25",configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){var R49,t49,s49,q2f;R49=901070818;t49=67468942;s49=2;for(var f49=1;J2e.y89(f49.toString(),f49.toString().length,"4273" - 0) !== R49;f49++){q2f=this.stx.currentVectorParameters;this.color=q2f.currentColor;this.fillColor=q2f.fillColor;this.lineWidth=q2f.lineWidth;this.pattern=q2f.pattern;s49+=2;}if(J2e.y89(s49.toString(),s49.toString().length,55724) !== t49){q2f=this.stx.currentVectorParameters;this.color=q2f.currentColor;this.fillColor=q2f.fillColor;this.lineWidth=q2f.lineWidth;this.pattern=q2f.pattern;}},intersected:function(a2f,B2f,N2f){var N59,e2f,H2f,n2f,F59,Q2f,p2f,E2f,M2f;N59="m";N59+="o";N59+="v";N59+="e";J2e.q9e();if(!this.p0 || !this.p1){return null;}e2f={0:this.p0,1:this.p1};for(var R2f in e2f){if(this.pointIntersection(e2f[R2f][0],e2f[R2f][1],N2f)){J2e.U5m(2);this.highlighted=J2e.x5m(("6270" << 1606603776,+"1612") <= 366.35?("s",320.46):(+"8420",4430) !== 2670?"p":671.13 < (4545,9401)?(2.62e+3,0x2309):(+"0xbf0",9.54e+3),R2f);return {action:"drag",point:(5304 === (5492,+"1220")?5.71e+3:(157.09,4120) != 1786?"p":6.03e+3) + R2f};}}H2f=this.valueOnDrawingAxis(a2f,B2f);n2f=this.lineIntersection(a2f,B2f,N2f,this.name);if(n2f){F59="m";F59+="o";F59+="v";F59+="e";this.highlighted=! ![];return {action:F59,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:a2f,value:H2f};}Q2f=this.p1[0] - (this.p0["0" - 0] - this.p1[0]);p2f=this.p0[+"0"];E2f=this.p1[1];M2f=this.p0[1];if(a2f > Math.max(Q2f,p2f) || a2f < Math.min(Q2f,p2f)){return null;}if(H2f > Math.max(M2f,E2f) || H2f < Math.min(M2f,E2f)){return null;}this.highlighted=! !{};return {action:N59,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:a2f,value:H2f};},render:function(o2f){var p59,w2f,c2f,C2f,P2f,u2f,V2f,X2f,O2f,m2f,i2f,l2f,o49,q49,m49,k2f,r2f,y2f,H59,S2f,g2f,a59,T2f,f2f;p59="l";p59+="eft";w2f=this.stx;c2f=w2f.panels[this.panelName];C2f=w2f.getYAxisByField(c2f,this.field);if(!c2f || this.field && !C2f){return;}C2f=C2f || c2f.yAxis;if(!this.p1){return;}P2f=w2f.pixelFromTick(this.p0[0],c2f.chart);u2f=w2f.pixelFromTick(this.p1[0],c2f.chart);J2e.q9e();V2f=this.pixelFromValue(c2f,this.p0[0],this.p0["1" << 1175653504],C2f);X2f=this.pixelFromValue(c2f,this.p1[0],this.p1[1],C2f);J2e.U5m(60);O2f=J2e.x5m(V2f,X2f);J2e.U5m(61);m2f=Math.abs(J2e.W5m(u2f,X2f,V2f,P2f));i2f=this.getLineColor();o2f.strokeStyle=i2f;l2f=this.fillColor;if(l2f == "auto" || U8Q.isTransparent(l2f)){l2f=w2f.defaultColor;}o2f.fillStyle=l2f;if(o2f.setLineDash){J2e.U5m(46);o49=-J2e.x5m("1808394140",917412896);q49=- +"2093047869";m49=2;for(var S49="1" ^ 0;J2e.P89(S49.toString(),S49.toString().length,43581) !== o49;S49++){o2f.setLineDash(U8Q.borderPatternToArray(this.lineWidth,this.pattern));o2f.lineDashOffset=8;m49+=2;}if(J2e.P89(m49.toString(),m49.toString().length,4552) !== q49){o2f.setLineDash(U8Q.borderPatternToArray(this.lineWidth,this.pattern));o2f.lineDashOffset=0;};}w2f.canvasFont("stx_yaxis",o2f);for(var L2f=1;L2f < +"3";L2f++){J2e.z5m(69);var B8t=J2e.W5m(17,12,0,19,15);J2e.z5m(8);var D8t=J2e.x5m(4,0,6);k2f=Math.abs(this.p1[B8t] - this.p0["1" - 0]) * Math.sqrt(D8t) * L2f / ("3" ^ 0);J2e.z5m(53);var P8t=J2e.W5m(16,16,257);J2e.U5m(70);var y8t=J2e.x5m(1,16,3,14,1);J2e.z5m(64);var K8t=J2e.W5m(39,19,2);J2e.U5m(64);var Q8t=J2e.W5m(23,4,6);r2f=this.p1[P8t] + k2f * (O2f?y8t:"1" ^ 0) * (C2f.flipped?K8t:Q8t);y2f=this.pixelFromValue(c2f,this.p0[0],r2f,C2f);o2f.save();o2f.beginPath();J2e.z5m(16);o2f.scale(J2e.W5m(m2f,1),J2e.W5m("1",1,J2e.U5m(22)));J2e.z5m(18);o2f.arc(J2e.x5m(m2f,u2f),X2f,Math.abs(y2f - X2f),0,Math.PI,!O2f);o2f.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){o2f.stroke();}o2f.globalAlpha=0.1;o2f.fill();o2f.restore();o2f.globalAlpha=1;if(this.printLevels){H59="c";H59+="e";H59+="n";H59+="ter";o2f.fillStyle=i2f;o2f.textAlign=H59;J2e.U5m(2);S2f=J2e.W5m(L2f,"/3");o2f.fillText(S2f,u2f,Math.round(y2f - 5));o2f.fillStyle=l2f;}}o2f.textAlign=p59;g2f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};w2f.plotLine(P2f,u2f,V2f,X2f,i2f,"segment",o2f,c2f,g2f);if(o2f.setLineDash){o2f.setLineDash([]);}if(this.highlighted){a59="p";a59+="0";T2f=this.highlighted == a59?! !1:!1;f2f=this.highlighted == "p1"?! !{}:!{};this.littleCircle(o2f,P2f,V2f,T2f);this.littleCircle(o2f,u2f,X2f,f2f);}},reconstruct:function(s2f,Y2f){this.stx=s2f;this.color=Y2f.col;this.fillColor=Y2f.fc;this.panelName=Y2f.pnl;this.pattern=Y2f.ptrn;this.lineWidth=Y2f.lw;this.d0=Y2f.d0;this.d1=Y2f.d1;this.tzo0=Y2f.tzo0;this.tzo1=Y2f.tzo1;this.v0=Y2f.v0;J2e.q9e();this.v1=Y2f.v1;this.field=Y2f.fld;this.adjust();},serialize:function(){J2e.b9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},! !{});U8Q.Drawing.speedline=function(){J2e.b9e();this.name="speedline";this.printLevels=! !{};};U8Q.inheritsFrom(U8Q.Drawing.speedline,U8Q.Drawing.speedarc);U8Q.extend(U8Q.Drawing.speedline.prototype,{intersected:function(G2f,z2f,h2f){var v2f,F2f,D2f,W2f;v2f=this.p0;F2f=this.p1;if(!v2f || !F2f){return null;}D2f={0:v2f,1:F2f};for(var b2f in D2f){if(this.pointIntersection(D2f[b2f][0],D2f[b2f][1],h2f)){J2e.z5m(2);this.highlighted=J2e.x5m("2089" * 1 == 706.9?0x170e:+"9880" >= (7883,"77.03" * 1)?"p":+"9613" == 3320?7.99:(5.54e+3,7.21e+3),b2f);return {action:"drag",point:((432.41,"6691" & 2147483647) > 625?(+"3150","572.22" - 0) == (218,8971)?"293.98" * 1:"p":(196.39,"D")) + b2f};}}W2f=this.rays;for(var t2f=0;t2f < W2f.length;t2f++){if(this.lineIntersection(G2f,z2f,h2f,"ray",W2f[t2f][0],W2f[t2f][1],!0)){this.highlighted=! !1;return {action:"move",p0:U8Q.clone(v2f),p1:U8Q.clone(F2f),tick:G2f,value:this.valueOnDrawingAxis(G2f,z2f)};}}return null;},render:function(A2f){var x59,d59,j6f,J2f,Q6f,Z2f,U2f,x2f,I6f,E6f,R6f,o6f,c6f,w6f,N6f,n6f,d2f,K6f,a6f,p6f,q6f,e6f,M6f,B6f,v59,Z59,C6f,X6f;x59="3";x59+="/";x59+="2";d59="st";d59+="x";d59+="_yaxi";d59+="s";j6f=this.stx;J2f=j6f.panels[this.panelName];Q6f=j6f.getYAxisByField(J2f,this.field);if(!J2f || this.field && !Q6f){return;}if(!this.p1){return;}Z2f=j6f.pixelFromTick(this.p0[0],J2f.chart);U2f=j6f.pixelFromTick(this.p1[0],J2f.chart);x2f=this.pixelFromValue(J2f,this.p0[0],this.p0["1" | 1],Q6f);I6f=this.pixelFromValue(J2f,this.p1[0],this.p1[1],Q6f);j6f.canvasFont(d59,A2f);E6f=this.getLineColor();A2f.strokeStyle=E6f;R6f=this.fillColor;if(R6f == "auto" || U8Q.isTransparent(R6f)){R6f=j6f.defaultColor;}A2f.fillStyle=R6f;o6f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};N6f=[(3880,3856) !== (835.13,7227)?"1":("H",86.46),"2/3","1/3",x59,"2040" * 1 == (288.79,"5427" - 0)?0x15a1:908.38 != 77?"3":6930 <= ("3800" & 2147483647)?693.95:"Z"];J2e.z5m(71);n6f=[1,J2e.W5m(2,291238208,"3"),J2e.W5m(3,1,J2e.U5m(16)),J2e.x5m(2,3,J2e.U5m(16)),+"3"];d2f=[];this.rays=[];for(var H6f=0;H6f < n6f.length;H6f++){K6f=n6f[H6f];if(K6f > 1 && !this.extension)continue;a6f=this.pixelFromValue(J2f,this.p0["0" | 0],this.p0[1] - (this.p0[1] - this.p1[1]) * K6f,Q6f);if(K6f > +"1"){p6f=U8Q.xIntersection({x0:Z2f,x1:U2f,y0:x2f,y1:a6f},I6f);d2f.push(p6f);}else {p6f=U8Q.xIntersection({x0:U2f,x1:U2f,y0:x2f,y1:I6f},a6f);d2f.push(a6f);}q6f=K6f > 1?p6f:U2f;e6f=K6f > 1?I6f:a6f;if(!this.confineToGrid){q6f=J2f.left;if(U2f > Z2f){q6f+=J2f.width;}J2e.z5m(66);e6f=J2e.W5m(x2f,a6f,U2f,q6f,Z2f,Z2f,x2f);}if(this.printLevels){if(K6f != 1 || this.extension){A2f.fillStyle=E6f;M6f=0;B6f=0;if(x2f > I6f){B6f=-5;A2f.textBaseline="bottom";}else {v59="to";v59+="p";B6f=5;A2f.textBaseline=v59;}if(Z2f > U2f){M6f=+"5";A2f.textAlign="right";}else {M6f=-5;A2f.textAlign="left";}if(K6f > "1" >> 743744){A2f.fillText(N6f[H6f],p6f + (this.confineToGrid?0:M6f),I6f);}else {A2f.fillText(N6f[H6f],U2f,a6f + (this.confineToGrid?0:B6f));}A2f.fillStyle=R6f;}}j6f.plotLine(Z2f,q6f,x2f,e6f,E6f,"segment",A2f,J2f,o6f);if(K6f == 1){c6f=q6f;w6f=e6f;}this.rays.push([[Z2f,x2f],[q6f,e6f]]);A2f.globalAlpha=0.1;A2f.beginPath();A2f.moveTo(q6f,e6f);A2f.lineTo(Z2f,x2f);A2f.lineTo(c6f,w6f);A2f.fill();A2f.globalAlpha=1;}A2f.textAlign="left";A2f.textBaseline="middle";if(this.confineToGrid){A2f.globalAlpha=+"0.3";A2f.beginPath();J2e.z5m(6);A2f.strokeRect(Z2f,x2f,J2e.x5m(U2f,Z2f),J2e.W5m(I6f,x2f));A2f.moveTo(Z2f,d2f[1]);A2f.lineTo(U2f,d2f[1]);A2f.moveTo(Z2f,d2f["2" * 1]);A2f.lineTo(U2f,d2f[2]);if(this.extension){A2f.moveTo(d2f[3],x2f);A2f.lineTo(d2f[3],I6f);A2f.moveTo(d2f["4" & 2147483647],x2f);A2f.lineTo(d2f[4],I6f);}A2f.stroke();A2f.globalAlpha=+"1";}J2e.q9e();if(this.highlighted){Z59="p";Z59+="0";C6f=this.highlighted == Z59?! ![]:!{};X6f=this.highlighted == "p1"?! ![]:!1;this.littleCircle(A2f,Z2f,x2f,C6f);this.littleCircle(A2f,U2f,I6f,X6f);}}},! !{});U8Q.Drawing.gannfan=function(){this.name="gannfan";J2e.q9e();this.printLevels=! !{};};U8Q.inheritsFrom(U8Q.Drawing.gannfan,U8Q.Drawing.speedline);U8Q.extend(U8Q.Drawing.gannfan.prototype,{render:function(u6f){var t69,P6f,V6f,S6f,l6f,i6f,L6f,k6f,g6f,y6f,t6f,v6f,F6f,s6f,O6f,D6f,b6f,m6f,r6f,f6f,Y6f,J59,L59,R69,b69,s69,W6f,G6f;t69="middl";t69+="e";P6f=this.stx;V6f=P6f.panels[this.panelName];S6f=P6f.getYAxisByField(V6f,this.field);if(!V6f || this.field && !S6f){return;}if(!this.p1){return;}l6f=P6f.pixelFromTick(this.p0[0],V6f.chart);i6f=P6f.pixelFromTick(this.p1[0],V6f.chart);L6f=this.pixelFromValue(V6f,this.p0[0],this.p0[1],S6f);k6f=this.pixelFromValue(V6f,this.p1[0],this.p1[1],S6f);P6f.canvasFont("stx_yaxis",u6f);g6f=this.getLineColor();u6f.strokeStyle=g6f;y6f=this.fillColor;if(y6f == "auto" || U8Q.isTransparent(y6f)){y6f=P6f.defaultColor;}u6f.fillStyle=y6f;t6f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};J2e.U5m(72);s6f=[1,2,3,4,8,J2e.W5m("1",2,2147483647),J2e.x5m(3,1,J2e.U5m(16)),J2e.W5m(4,1,J2e.z5m(16)),J2e.W5m("1",8,766541888,J2e.z5m(73))];this.rays=[];for(var T6f=0;T6f < s6f.length;T6f++){O6f=s6f[T6f];J2e.z5m(74);D6f=J2e.W5m(i6f,l6f,l6f,O6f);J2e.U5m(75);b6f=J2e.x5m(O6f,k6f,L6f,L6f);m6f=V6f.left;if(i6f > l6f){m6f+=V6f.width;}J2e.z5m(66);r6f=J2e.x5m(L6f,b6f,i6f,m6f,l6f,l6f,L6f);if(this.printLevels){u6f.fillStyle=g6f;f6f=+"0";J2e.U5m(22);Y6f=J2e.x5m("0",0);if(L6f > k6f){Y6f=5;u6f.textBaseline="top";}else {J59="bott";J59+="o";J59+="m";Y6f=- +"5";u6f.textBaseline=J59;}if(l6f > i6f){f6f=+"5";u6f.textAlign="left";}else {f6f=-5;u6f.textAlign="right";}if(O6f > 1){L59="x";L59+="1";J2e.z5m(2);u6f.fillText(J2e.x5m(O6f,L59),J2e.W5m(D6f,f6f),k6f);}else {R69="1";R69+="x";J2e.z5m(76);u6f.fillText(J2e.x5m(R69,"1",O6f,209178720),i6f,J2e.x5m(b6f,Y6f,J2e.z5m(2)));}u6f.fillStyle=y6f;}P6f.plotLine(l6f,m6f,L6f,r6f,g6f,"segment",u6f,V6f,t6f);this.rays.push([[l6f,L6f],[m6f,r6f]]);if(O6f == 1){v6f=m6f;F6f=r6f;}u6f.globalAlpha=0.1;u6f.beginPath();u6f.moveTo(m6f,r6f);u6f.lineTo(l6f,L6f);u6f.lineTo(v6f,F6f);u6f.fill();u6f.globalAlpha=1;}J2e.q9e();u6f.textAlign="left";u6f.textBaseline=t69;if(this.highlighted){b69="p";b69+="1";s69="p";s69+="0";W6f=this.highlighted == s69?! ![]:![];G6f=this.highlighted == b69?! !1:! !0;this.littleCircle(u6f,l6f,L6f,W6f);this.littleCircle(u6f,i6f,k6f,G6f);}}},! !{});U8Q.Drawing.timecycle=function(){var f69;f69="timecy";f69+="cle";this.name=f69;this.printLevels=! ![];};U8Q.inheritsFrom(U8Q.Drawing.timecycle,U8Q.Drawing.speedarc);U8Q.extend(U8Q.Drawing.timecycle.prototype,{intersected:function(U6f,J6f,A6f){var z6f,Z6f,d6f,x6f,I4f;z6f=this.p0;Z6f=this.p1;d6f=this.stx.panels[this.panelName];if(!z6f || !Z6f || !d6f){return null;}x6f={0:z6f,1:Z6f};for(var h6f in x6f){if(this.pointIntersection(x6f[h6f][0],x6f[h6f][1],A6f)){J2e.z5m(2);this.highlighted=J2e.x5m((8720,420.63) === 241.12?(!"","a"):"p",h6f);return {action:"drag",point:((788,509.01) == (4789,5710)?(0x8eb,"A"):"p") + h6f};}}I4f=this.lineIntersection(U6f,J6f,A6f,"segment");if(I4f || A6f.x0 <= this.p0[0] && A6f.x1 >= z6f[0]){this.highlighted=! ![];return {action:"move",p0:U8Q.clone(z6f),p1:U8Q.clone(Z6f),tick:U6f,value:this.valueOnDrawingAxis(U6f,J6f)};}return null;},render:function(K4f){var h69,g69,q4f,j4f,a4f,H4f,E4f,o4f,c4f,B4f,l4f,w4f,R4f,C4f,p4f,N4f,M4f,X4f,e4f,n4f,V4f,L4f,P4f,u4f;h69="le";h69+="ft";g69="stx_y";g69+="a";g69+="x";g69+="is";q4f=this.stx;j4f=q4f.panels[this.panelName];a4f=q4f.getYAxisByField(j4f,this.field);if(!j4f || this.field && !a4f){return;}a4f=a4f || j4f.yAxis;if(!this.p1){return;}H4f=q4f.pixelFromTick(this.p0[0],j4f.chart);E4f=q4f.pixelFromTick(this.p1[0],j4f.chart);o4f=this.pixelFromValue(j4f,this.p0[0],this.p0[1],a4f);c4f=this.pixelFromValue(j4f,this.p1[0],this.p1[1],a4f);B4f=0;K4f.textBaseline="middle";q4f.canvasFont(g69,K4f);l4f=20;w4f=this.p1[0] - this.p0[0];K4f.textAlign="center";R4f=H4f;C4f=a4f.top;p4f=a4f.bottom;N4f=this.getLineColor();M4f=this.fillColor;if(M4f == "auto" || U8Q.isTransparent(M4f)){M4f=q4f.defaultColor;}if(this.printLevels){J2e.z5m(6);p4f-=J2e.W5m(l4f,7);}X4f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};e4f=[];K4f.save();K4f.fillStyle=M4f;K4f.globalAlpha=0.05;do {R4f=q4f.pixelFromTick(this.p0[0] + B4f * w4f,j4f.chart);B4f++;if(H4f < E4f && R4f > j4f.left + j4f.width)break;else if(H4f > E4f && R4f < j4f.left)break;else if(R4f < j4f.left || R4f > j4f.left + j4f.width)continue;K4f.beginPath();K4f.moveTo(H4f,C4f);K4f.lineTo(R4f,C4f);K4f.lineTo(R4f,p4f);K4f.lineTo(H4f,p4f);K4f.fill();e4f.push({c:B4f,x:R4f});}while(w4f);K4f.globalAlpha=1;n4f=+"0";for(var Q4f=0;Q4f < e4f.length;Q4f++){q4f.plotLine(e4f[Q4f].x,e4f[Q4f].x,0,p4f,N4f,"segment",K4f,j4f,X4f);if(this.printLevels){K4f.fillStyle=N4f;J2e.U5m(23);var U8t=J2e.W5m(19,16);V4f=q4f.chart.context.measureText(e4f[Q4f].c).width + U8t;if(V4f < q4f.layout.candleWidth + n4f){K4f.fillText(e4f[Q4f].c,e4f[Q4f].x,p4f + 7);n4f=0;}else {n4f+=q4f.layout.candleWidth;}}}K4f.restore();K4f.textAlign=h69;J2e.q9e();q4f.plotLine(H4f,E4f,o4f,c4f,N4f,"segment",K4f,j4f,X4f);if(this.highlighted){L4f=this.highlighted == "p0"?! !1:![];P4f=this.highlighted == "p1"?! !1:!{};this.littleCircle(K4f,H4f,o4f,L4f);this.littleCircle(K4f,E4f,c4f,P4f);}else {u4f=this.valueFromPixel(j4f.height / +"2",j4f,a4f);this.setPoint(0,this.p0[0],u4f,j4f.chart);this.setPoint(1,this.p1[0],u4f,j4f.chart);}}},! !{});U8Q.Drawing.regression=function(){this.name="regression";};U8Q.inheritsFrom(U8Q.Drawing.regression,U8Q.Drawing.segment);U8Q.extend(U8Q.Drawing.regression.prototype,{configs:["color","lineWidth","pattern",I69,"color1",n69,C69,"active2","color2",z69,"pattern2","active3","color3","lineWidth3",r69],copyConfig:function(O4f){J2e.b9e();var D69,B69,i4f;D69="a";D69+="ut";D69+="o";B69="a";B69+="uto";U8Q.Drawing.copyConfig(this,O4f);i4f=this.stx.currentVectorParameters;this.active1=! !i4f.active1;this.active2=! !i4f.active2;this.active3=! !i4f.active3;this.color1=i4f.color1 || "auto";this.color2=i4f.color2 || B69;this.color3=i4f.color3 || D69;this.lineWidth1=i4f.lineWidth1;this.lineWidth2=i4f.lineWidth2;this.lineWidth3=i4f.lineWidth3;this.pattern1=i4f.pattern1;this.pattern2=i4f.pattern2;this.pattern3=i4f.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(S4f,m4f,y4f){var r4f,k4f;if(m4f < 0){return;}this.copyConfig();r4f=this.stx;k4f=r4f.panels[this.panelName];if(!this.penDown){this.setPoint(0,m4f,y4f,k4f.chart);this.penDown=! ![];return ![];}if(this.accidentalClick(m4f,y4f)){return this.dragToDraw;}this.setPoint(1,m4f,y4f,k4f.chart);this.penDown=! !"";return !"";;},getYValue:function(v4f){var f4f,Y4f,s4f,b4f,F4f,T4f,g4f,t4f,p29,a29,d29;f4f=this.stx;Y4f=f4f.chart.dataSet[v4f];s4f=f4f.chart.dataSet[v4f];if(!Y4f){return null;}b4f=f4f.panels[this.panelName];F4f=f4f.getYAxisByField(b4f,this.field) || b4f.yAxis;if(f4f.charts[b4f.name] && b4f.chart.transformFunc && F4f == b4f.yAxis){s4f=Y4f.transform;}if(!s4f){return null;}T4f=null;g4f=null;t4f=f4f.defaultPlotField || "Close";if(this.field){g4f=U8Q.existsInObjectChain(s4f,this.field);if(!g4f){return null;}T4f=g4f=g4f.obj[g4f.member];if(Y4f != s4f){T4f=U8Q.existsInObjectChain(Y4f,this.field);T4f=T4f.obj[T4f.member];}if(typeof g4f == "object"){g4f=g4f[t4f];T4f=T4f[t4f];}}else {g4f=s4f[t4f];p29=-338945887;a29=- +"965197967";d29=2;for(var v29=1;J2e.P89(v29.toString(),v29.toString().length,28230) !== p29;v29++){T4f=Y4f[t4f];d29+=2;}if(J2e.y89(d29.toString(),d29.toString().length,74970) !== a29){T4f=Y4f[t4f];}}return {transformed:g4f,untransformed:T4f};},render:function(U4f){var P69,z4f,W4f,j7f,h4f,A4f,J4f,Q7f,d4f,q7f,n7f,o7f,c7f,w7f,a7f,p7f,D4f,Z4f,C7f,X7f,R7f,H7f,u7f,e7f,E7f,M7f,I7f,K7f,B7f,N7f,V7f,l7f,L7f,x4f,P7f,i7f;P69="seg";P69+="ment";z4f=this.stx;W4f=z4f.panels[this.panelName];j7f=z4f.getYAxisByField(W4f,this.field);if(!W4f || this.field && !j7f){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < +"0"){return;}h4f=z4f.pixelFromTick(this.p0["0" >> 1686180032],W4f.chart);A4f=z4f.pixelFromTick(this.p1[0],W4f.chart);if(h4f < W4f.left && A4f < W4f.left){return;}if(h4f > W4f.right && A4f > W4f.right){return;}J4f=[];Q7f=[];d4f=+"0";q7f=+"0";n7f=0;o7f=0;c7f=Math.min(this.p1[0],this.p0[0]);w7f=Math.max(this.p1[0],this.p0[0]) + ("1" ^ 0);J2e.z5m(6);a7f=J2e.W5m(w7f,c7f);for(var G4f=c7f;G4f < w7f;G4f++){p7f=this.getYValue(G4f);if(p7f){J4f.push(p7f.transformed);Q7f.push(p7f.untransformed);}}D4f=J4f.length;J2e.z5m(77);Z4f=J2e.x5m(1656299232,D4f,2,D4f,"1");C7f=Math.pow(Z4f,2);J2e.z5m(78);X7f=J2e.W5m(1,Z4f,2,3,D4f);for(G4f=0;G4f < D4f;G4f++){n7f+=D4f * J4f[G4f] - d4f;d4f+=J4f[G4f];o7f+=D4f * Q7f[G4f] - q7f;q7f+=Q7f[G4f];}J2e.z5m(79);R7f=J2e.x5m(D4f,C7f,X7f,d4f,n7f,Z4f,D4f);J2e.U5m(80);H7f=J2e.x5m(R7f,d4f,Z4f,D4f);J2e.z5m(79);u7f=J2e.x5m(D4f,C7f,X7f,q7f,o7f,Z4f,D4f);J2e.z5m(80);e7f=J2e.W5m(R7f,q7f,Z4f,D4f);if(this.p0[0] < this.p1["0" >> 1612669728]){E7f=H7f;J2e.z5m(59);M7f=J2e.W5m(a7f,R7f,H7f);this.p0[1]=e7f;J2e.z5m(59);this.p1[+"1"]=J2e.x5m(a7f,u7f,e7f);}else {J2e.z5m(59);E7f=J2e.x5m(a7f,R7f,H7f);M7f=H7f;J2e.U5m(59);this.p0[1]=J2e.W5m(a7f,u7f,e7f);this.p1[1]=e7f;}I7f=z4f.pixelFromTransformedValue(E7f,W4f,j7f);K7f=z4f.pixelFromTransformedValue(M7f,W4f,j7f);B7f=this.getLineColor();N7f={pattern:this.pattern,lineWidth:this.lineWidth};z4f.plotLine(h4f,A4f,I7f,K7f,B7f,"segment",U4f,W4f,N7f);J2e.U5m(81);z4f.plotLine(h4f,h4f,J2e.x5m(91720864,I7f,"20"),J2e.W5m(1806016640,"20",I7f,J2e.U5m(82)),B7f,"segment",U4f,W4f,N7f);J2e.U5m(6);z4f.plotLine(A4f,A4f,J2e.W5m(K7f,20),J2e.x5m(K7f,20,J2e.z5m(2)),B7f,P69,U4f,W4f,N7f);J2e.q9e();if(this.active1 || this.active2 || this.active3){J2e.z5m(16);V7f=J2e.x5m(D4f,d4f);J2e.U5m(7);l7f=J2e.W5m(1775725344,"0");for(G4f=+"0";G4f < D4f;G4f++){l7f+=Math.pow(J4f[G4f] - V7f,2);}J2e.z5m(16);L7f=Math.sqrt(J2e.W5m(D4f,l7f));x4f={context:U4f,panel:W4f,points:{0:{x:h4f,v:E7f},1:{x:A4f,v:M7f}},stddev:L7f,yAxis:j7f};this.lines={};if(this.active1){this.renderStddev(5526 === 5841?(! !"",![]):8170 != 3790?"1":(6849,9800) > (5620,+"1820")?0x2698:("P",0x4c6),"p",x4f);this.renderStddev("1",4609 < (65,4520)?(! !"",!{}):"n",x4f);}if(this.active2){this.renderStddev("2","p",x4f);this.renderStddev((3870,2878) >= 681.98?"2":!1,"n",x4f);}if(this.active3){this.renderStddev((+"4441",2170) === (452.53,58.54)?![]:"3","p",x4f);this.renderStddev(("5200" >> 1960913184,2710) == 5380?"B":"3","n",x4f);}}if(!this.highlighted){this.pixelX=[h4f,A4f];this.pixelY=[I7f,K7f];}else {P7f=this.highlighted == "p0"?! !"1":!"1";i7f=this.highlighted == "p1"?! ![]:!"1";this.littleCircle(U4f,h4f,I7f,P7f);this.littleCircle(U4f,A4f,K7f,i7f);}},renderStddev:function(g7f,W7f,T7f){var U69,Q69,K69,y69,t7f,G7f,z7f,h7f,f7f,v7f,F7f,s7f,b7f,k7f,m7f,Y7f,O7f,y7f,r7f,S7f,A7f,Z7f,D7f,x7f;U69="m";U69+="i";U69+="ddl";U69+="e";Q69="segmen";Q69+="t";K69="lineWi";K69+="dth";y69="pa";y69+="t";y69+="tern";J2e.U5m(43);t7f=J2e.W5m(W7f,g7f,"stddev");J2e.U5m(2);G7f=J2e.W5m("color",g7f);J2e.U5m(2);z7f=J2e.W5m(y69,g7f);J2e.z5m(2);h7f=J2e.W5m(K69,g7f);f7f=T7f.points;v7f=f7f[0].v;F7f=f7f[1].v;s7f=T7f.stddev;b7f=W7f === (2370 == ("343.95" * 1,1861)?6970 !== 740.77?(9090,"7120" << 1851549312) === (7110,5530)?"n":3.06e+3:("0x7b8" << 460602720,"c"):"n")?g7f * -1:g7f * 1;k7f=this.stx;m7f=T7f.panel;Y7f=T7f.yAxis;O7f={name:t7f,color:this.getLineColor(this[G7f]),type:Q69,y0:k7f.pixelFromTransformedValue(v7f + s7f * b7f,m7f,Y7f),y1:k7f.pixelFromTransformedValue(F7f + s7f * b7f,m7f,Y7f),params:{pattern:this[z7f],lineWidth:this[h7f]}};if(this.lines){this.lines[t7f]=O7f;}y7f=T7f.context;r7f=f7f[0].x;S7f=f7f[1].x;k7f.plotLine(r7f,S7f,O7f.y0,O7f.y1,O7f.color,O7f.type,y7f,m7f,O7f.params);k7f.plotLine(r7f,r7f,O7f.y0 - 10,O7f.y0 + +"10",O7f.color,O7f.type,y7f,m7f,O7f.params);k7f.plotLine(S7f,S7f,O7f.y1 - 10,O7f.y1 + 10,O7f.color,O7f.type,y7f,m7f,O7f.params);J2e.z5m(2);A7f=J2e.W5m(g7f,622 < 2509?7060 != 188.61?"\u03c3":0x1e9c:(0x2433,"F"));J2e.U5m(2);var V8t=J2e.x5m(0,5);Z7f=Math.max(r7f,S7f) + V8t;D7f=r7f < S7f?O7f.y1:O7f.y0;y7f.fillStyle=O7f.color;y7f.save();y7f.textBaseline=U69;y7f.fillText(A7f,Z7f,D7f);y7f.restore();if(T7f.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(r7f >= m7f.chart.left && r7f <= m7f.chart.right || S7f >= m7f.chart.left && S7f <= m7f.chart.right){J2e.U5m(19);x7f=J2e.W5m(b7f,s7f,r7f < S7f?F7f:v7f);k7f.endClip();k7f.createYAxisLabel(m7f,T7f.formatPrice(x7f,Y7f),D7f,O7f.color,null,y7f,Y7f);k7f.startClip(m7f.name);}}},intersected:function(J7f,I3f,R3f){var K3f,j3f,q3f,H3f,e3f,a3f,d7f;if(!this.pixelX || !this.pixelY){return null;}K3f=this.repositionIntersection(J7f,I3f);if(K3f){return K3f;}j3f={0:this.pixelX,1:this.pixelY};for(var U7f=0;U7f < 2;U7f++){if(this.pointIntersection(j3f[0][U7f],j3f[1][U7f],R3f,! !{})){J2e.z5m(2);this.highlighted=J2e.W5m("p",U7f);return {action:"drag",point:(9280 >= 691?8798 === 601.75?(6.43e+3,0x131e):"p":"824.43" * 1) + U7f};}}q3f=this;H3f=this.pixelX[0];J2e.z5m(18);e3f=this.pixelX[J2e.x5m(1,"1")];a3f=function(p3f){var E3f,M3f;J2e.b9e();E3f=[H3f,p3f.y0];M3f=[e3f,p3f.y1];return q3f.lineIntersection(J7f,I3f,R3f,q3f.name,E3f,M3f,! !"1");};d7f=a3f({y0:this.pixelY[0],y1:this.pixelY[1]});if(!d7f && this.lines){for(var Q3f in this.lines){if(a3f(this.lines[Q3f])){d7f=! !"1";break;}}}if(d7f){this.highlighted=! !1;return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:J7f,value:this.valueOnDrawingAxis(J7f,I3f)};}return null;},repositionIntersection:function(B3f,N3f){var V69;if(!this.p0 || !this.p1){return !1;}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! ![]){V69="m";V69+="o";V69+="v";V69+="e";return {action:V69,p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:B3f,value:this.valueOnDrawingAxis(B3f,N3f)};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(l3f,V3f,n3f,C3f,o3f,c3f,X3f){var u3f,w3f;if(!X3f){J2e.U5m(2);console.log(J2e.x5m(C3f," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !"1";}if(!o3f){o3f=this.p0;}J2e.b9e();if(!c3f){c3f=this.p1;}if(!(o3f && c3f)){return ![];}u3f=this.stx;if(n3f.cx0 === undefined){return ! !0;}w3f={x0:o3f["0" ^ 0],x1:c3f[0],y0:o3f[1],y1:c3f[1]};return U8Q.boxIntersects(n3f.cx0,n3f.cy0,n3f.cx1,n3f.cy1,w3f.x0,w3f.y0,w3f.x1,w3f.y1);},boxIntersection:function(P3f,i3f,L3f){if(L3f.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || L3f.cx1 < Math.min(this.pixelX[0],this.pixelX[+"1"])){return ! !"";}if(!this.stx.repositioningDrawing && (L3f.cy1 < this.pixelY["0" << 1909166240] || L3f.cy0 > this.pixelY[1])){return !"1";}return !0;},reconstruct:function(m3f,O3f){this.stx=m3f;this.color=O3f.col;this.color1=O3f.col1;this.color2=O3f.col2;this.color3=O3f.col3;this.active1=O3f.dev1;this.active2=O3f.dev2;this.active3=O3f.dev3;this.panelName=O3f.pnl;this.pattern=O3f.ptrn;this.pattern1=O3f.ptrn1;this.pattern2=O3f.ptrn2;this.pattern3=O3f.ptrn3;this.lineWidth=O3f.lw;this.lineWidth1=O3f.lw1;this.lineWidth2=O3f.lw2;this.lineWidth3=O3f.lw3;this.d0=O3f.d0;J2e.b9e();this.d1=O3f.d1;this.tzo0=O3f.tzo0;this.tzo1=O3f.tzo1;this.field=O3f.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!"");U8Q.Drawing.trendline=function(){this.name="trendline";};U8Q.inheritsFrom(U8Q.Drawing.trendline,U8Q.Drawing.segment);U8Q.Drawing.trendline.prototype.configs=["color",u69,"lineWidth",E69,"font"];U8Q.Drawing.trendline.prototype.measure=function(){;};U8Q.Drawing.trendline.prototype.reconstruct=function(y3f,k3f){U8Q.Drawing.segment.prototype.reconstruct.call(this,y3f,k3f);this.callout=new U8Q.Drawing.callout();this.callout.reconstruct(y3f,k3f.callout);};U8Q.Drawing.trendline.prototype.serialize=function(){var r3f;r3f=U8Q.Drawing.segment.prototype.serialize.call(this);r3f.callout=this.callout.serialize();return r3f;};U8Q.Drawing.trendline.prototype.render=function(v3f){var l69,W69,g3f,S3f,T3f,A3f,s3f,b3f,f3f,Y3f,F3f,t3f,D3f,Z3f,W3f,x3f,U3f,G3f,z3f,h3f,J3f,d3f,I5f,K5f;l69=" ";l69+="B";l69+="ar";l69+="s";W69=" ";W69+="(";g3f=this.stx;S3f=g3f.panels[this.panelName];T3f=g3f.getYAxisByField(S3f,this.field);if(!S3f || this.field && !T3f){return;}U8Q.Drawing.segment.prototype.render.call(this,v3f);if(!this.callout){this.callout=new U8Q.Drawing.callout();A3f=U8Q.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(g3f,A3f);}this.callout.p0=U8Q.clone(this.p0);s3f=g3f.pixelFromTick(this.p0[0],S3f.chart);b3f=g3f.pixelFromTick(this.p1[0],S3f.chart);f3f=this.pixelFromValue(S3f,this.p0[0],this.p0[1],T3f);Y3f=this.pixelFromValue(S3f,this.p1[0],this.p1[1],T3f);if(!isFinite(f3f) || !isFinite(Y3f)){return;}J2e.U5m(3);F3f=J2e.W5m(2,b3f,s3f);J2e.b9e();J2e.U5m(3);t3f=J2e.x5m(2,Y3f,f3f);this.fontSize=U8Q.stripPX(this.font && this.font.size || 13);J2e.U5m(83);var u8t=J2e.W5m(14,5091,4,3,55819);J2e.z5m(59);var E8t=J2e.x5m(6,473,4730);J2e.U5m(84);var W8t=J2e.W5m(6403,6403,12,13,6391);J2e.z5m(85);var l8t=J2e.W5m(12,32,70,1);D3f=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (+"731.23" == (u8t,E8t)?! !"":272.43 >= +"866.53"?W8t:"c")?0:l8t);Z3f=Math.sqrt(Math.pow(b3f - s3f,2) + Math.pow(Y3f - f3f,2));J2e.z5m(23);var O8t=J2e.x5m(13,12);J2e.z5m(4);var o8t=J2e.x5m(0,16,17);J2e.z5m(86);var q8t=J2e.W5m(9,5,2,14,2);W3f=D3f / (Z3f || D3f) * (this.p1[O8t] < this.p0["1" & 2147483647]?o8t:q8t);J2e.z5m(87);x3f=J2e.x5m(W3f,Y3f,F3f,t3f);J2e.U5m(1);U3f=J2e.W5m(b3f,W3f,F3f,t3f);this.callout.p0[0]=g3f.tickFromPixel(x3f,S3f.chart);J2e.z5m(18);this.callout.p0[J2e.x5m(1,"1")]=this.valueFromPixel(U3f,S3f,T3f);this.callout.v0=this.callout.p0[1];this.callout.p1=U8Q.clone(this.p0);this.callout.stx=g3f;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};J2e.z5m(88);var m8t=J2e.W5m(12,8,24,14,13);G3f=this.p1[m8t] - this.p0[+"1"];J2e.U5m(8);var A8t=J2e.W5m(18,11,9);J2e.U5m(4);var S8t=J2e.x5m(16,27,12);J2e.z5m(6);var i8t=J2e.x5m(22,20);this.callout.text="" + Number(G3f).toFixed(A8t) + (this.p0[S8t] === 0?"":W69 + Number(+"100" * G3f / this.p0[1]).toFixed(i8t) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + l69;z3f=Math.floor((this.p0[+"0"] + this.p1[0]) / +"2");if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1["0" ^ 0]) < 20){J3f=g3f.pixelFromTick(z3f,S3f.chart);J2e.z5m(89);d3f=J2e.x5m(J3f,f3f,s3f,s3f,f3f,b3f,Y3f);h3f=this.valueFromPixel(d3f,S3f,T3f) || t3f;}else {h3f=this.valueFromPixel(t3f,S3f,T3f);}this.callout.stem={t:z3f,v:h3f};this.callout.renderText();this.callout.render(v3f);if(this.highlighted){I5f=this.highlighted == "p0"?! ![]:! !0;K5f=this.highlighted == "p1"?! !"1":!1;this.littleCircle(v3f,s3f,f3f,I5f);this.littleCircle(v3f,b3f,Y3f,K5f);}};U8Q.Drawing.trendline.prototype.lineIntersection=function(j5f,q5f,a5f,R5f){J2e.q9e();return U8Q.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,j5f,q5f,a5f,"segment");};U8Q.Drawing.trendline.prototype.intersected=function(H5f,Q5f,E5f){var p5f,e5f;if(!this.p0 || !this.p1){return null;}p5f=this.callout.intersected(H5f,Q5f,E5f);e5f=U8Q.Drawing.segment.prototype.intersected.call(this,H5f,Q5f,E5f);this.callout.highlighted=! !(p5f || e5f);if(e5f){return e5f;}else if(p5f){return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:H5f,value:this.valueOnDrawingAxis(H5f,Q5f)};}return null;};U8Q.Drawing.average=function(){var O69;O69="aver";O69+="age";this.name=O69;};U8Q.inheritsFrom(U8Q.Drawing.average,U8Q.Drawing.regression);U8Q.extend(U8Q.Drawing.average.prototype,{configs:U8Q.Drawing.regression.prototype.configs.concat(o69),measure:function(){var B5f,M5f,n5f,c5f,w5f,o5f,q69,N5f;J2e.b9e();B5f=this.stx;if(this.p0 && this.p1){B5f.setMeasure(0,!{},this.p0[0],this.p1[0],! !{},this.name);M5f=[];n5f="";if(this.active1){M5f.push("1");}if(this.active2){M5f.push((+"1030",9510) >= 1834?359.83 != (7060,757.15)?"2":("1.51e+3" | 452,0x12ba):634.89);}if(this.active3){M5f.push(9630 == 24.33?(7.28e+3,"K"):"3");}if(M5f.length){n5f="&ensp;" + M5f.join(", ") + " &sigma;";}c5f=(B5f.drawingContainer || document).querySelector(".mMeasure");w5f=B5f.controls.mSticky;o5f=w5f && w5f.querySelector(".mStickyInterior");if(c5f){c5f.innerHTML+=n5f;}if(o5f){q69="<";q69+="b";q69+="r>";N5f=[];N5f.push(U8Q.capitalize(this.name));N5f.push(this.field || B5f.defaultPlotField || "Close");N5f.push(o5f.innerHTML + n5f);o5f.innerHTML=N5f.join(q69);}}},render:function(i5f){var m69,X5f,C5f,L5f,l5f,V5f,Y5f,s5f,T5f,S5f,P5f,m5f,k5f,y5f,u5f,r5f,g5f,f5f,t5f,O5f,w79,k79,c79,v5f,F5f;m69="s";m69+="egme";m69+="nt";X5f=this.stx;C5f=X5f.panels[this.panelName];L5f=X5f.getYAxisByField(C5f,this.field);if(!C5f || this.field && !L5f){return;}L5f=L5f || C5f.yAxis;if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[0] < 0){return;}l5f=X5f.pixelFromTick(this.p0[0],C5f.chart);function b5f(D5f,W5f){if(W5f && W5f.priceFormatter){D5f=W5f.priceFormatter(X5f,C5f,D5f);}else {D5f=X5f.formatYAxisPrice(D5f,C5f,null,W5f);}return D5f;}V5f=X5f.pixelFromTick(this.p1[0],C5f.chart);if(l5f < C5f.left && V5f < C5f.left){return;}if(l5f > C5f.right && V5f > C5f.right){return;}Y5f=Math.min(this.p1["0" - 0],this.p0[0]);J2e.z5m(28);var j8t=J2e.W5m(0,11,11);s5f=Math.max(this.p1[0],this.p0[0]) + j8t;T5f=0;S5f=[];for(P5f=Y5f;P5f < s5f;P5f++){m5f=this.getYValue(P5f);if(m5f !== null){T5f+=m5f.transformed;S5f.push(m5f);}}k5f=S5f.length;if(!k5f){return;}J2e.U5m(16);y5f=J2e.x5m(k5f,T5f);u5f=X5f.pixelFromTransformedValue(y5f,C5f,L5f);r5f=this.getLineColor();g5f={pattern:this.pattern,lineWidth:this.lineWidth};X5f.plotLine(l5f,V5f,u5f,u5f,r5f,m69,i5f,C5f,g5f);J2e.z5m(6);X5f.plotLine(l5f,l5f,J2e.x5m(u5f,20),J2e.x5m(u5f,20,J2e.U5m(2)),r5f,"segment",i5f,C5f,g5f);J2e.U5m(6);X5f.plotLine(V5f,V5f,J2e.x5m(u5f,20),J2e.x5m(u5f,20,J2e.z5m(2)),r5f,"segment",i5f,C5f,g5f);if(this.axisLabel && !this.highlighted && !this.penDown){if(l5f >= C5f.chart.left && l5f <= C5f.chart.right || V5f >= C5f.chart.left && V5f <= C5f.chart.right){X5f.endClip();X5f.createYAxisLabel(C5f,b5f(y5f,L5f),u5f,r5f,null,i5f,L5f);X5f.startClip(C5f.name);}}if(this.active1 || this.active2 || this.active3){f5f=0;for(P5f=0;P5f < k5f;P5f++){m5f=S5f[P5f];f5f+=Math.pow(m5f.transformed - y5f,2);}J2e.U5m(16);t5f=Math.sqrt(J2e.x5m(k5f,f5f));O5f={context:i5f,formatPrice:b5f,panel:C5f,points:{0:{x:l5f,v:y5f},1:{x:V5f,v:y5f}},stddev:t5f,yAxis:L5f};this.lines={};if(this.active1){this.renderStddev("1",748.7 > 163.52?"p":9.70e+2,O5f);this.renderStddev(7580 != 8166?"1":(359.68,+"312.71") === (+"4940",1380)?9.72e+3:(9.85e+3,+"325.98"),2250 !== (9517,+"4750")?(4350,9090) > (7940,9950)?(918,16) != (480.15,"8220" ^ 0)?("r",8.67e+3):("d","L"):"n":"M",O5f);}if(this.active2){this.renderStddev(4400 == 1250?0x1f8e:(1365,2080) > (1212,999.72)?"2":851.08,9700 == 930.28?(7.55e+3,![]):"p",O5f);this.renderStddev((+"9780",6700) >= (6880,385.33)?4791 == ("432.42" - 0,"2361" << 455491584)?(3.76e+3,0x197e):"2":673.63,"287.34" - 0 > 8180?("b",2.11e+3):"n",O5f);}if(this.active3){this.renderStddev("3",(3170,+"2697") === +"9560"?(556.25,! !0):(3082,4060) >= +"165.15"?"p":"l",O5f);this.renderStddev("3","n",O5f);}}if(!this.highlighted){w79=-1486664764;k79=1485450056;c79=2;for(var N79=1;J2e.y89(N79.toString(),N79.toString().length,82623) !== w79;N79++){this.pixelX=[l5f,V5f];c79+=+"2";}if(J2e.P89(c79.toString(),c79.toString().length,43488) !== k79){this.pixelX=[l5f,V5f];}this.pixelY=[u5f,u5f];}else {v5f=this.highlighted == "p0"?!0:! !"";F5f=this.highlighted == "p1"?! !1:! !0;this.littleCircle(i5f,l5f,u5f,v5f);this.littleCircle(i5f,V5f,u5f,F5f);}},reconstruct:function(z5f,G5f){this.axisLabel=G5f.al;U8Q.Drawing.regression.prototype.reconstruct.call(this,z5f,G5f);},serialize:function(){var h5f;J2e.q9e();h5f=U8Q.Drawing.regression.prototype.serialize.call(this);h5f.al=this.axisLabel;return h5f;}},! !"1");U8Q.Drawing.quadrant=function(){J2e.q9e();this.name="quadrant";};U8Q.inheritsFrom(U8Q.Drawing.quadrant,U8Q.Drawing.regression);U8Q.extend(U8Q.Drawing.quadrant.prototype,{configs:[A69,"fillColor","lineWidth","pattern"],copyConfig:function(){J2e.b9e();var A5f;A5f=this.stx.currentVectorParameters;this.color=A5f.currentColor;this.fillColor=A5f.fillColor;this.lineWidth=A5f.lineWidth;this.pattern=A5f.pattern;},$controls:[],render:function(J5f){var T69,x5f,Z5f,a9f,U5f,d5f,I9f,K9f,e9f,R9f,Q9f,p9f,E9f,M9f,B9f,H9f,j9f,N9f,q9f,i69,S69,j69,G69,e69,o9f,c9f;T69="se";T69+="gme";T69+="nt";x5f=this.stx;Z5f=x5f.panels[this.panelName];a9f=x5f.getYAxisByField(Z5f,this.field);if(!Z5f || this.field && !a9f){return;}if(!this.p1){return;}U5f=x5f.pixelFromTick(this.p0[0],Z5f.chart);d5f=x5f.pixelFromTick(this.p1[0],Z5f.chart);if(U5f < Z5f.left && d5f < Z5f.left){return;}if(U5f > Z5f.right && d5f > Z5f.right){return;}I9f=null;K9f=null;for(var n9f=Math.max(0,Math.min(this.p1["0" >> 819457792],this.p0[0]));n9f <= Math.min(x5f.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[+"0"]));n9f++){e9f=this.getYValue(n9f);if(e9f !== null){if(I9f === null || e9f.transformed > I9f){I9f=e9f.transformed;}if(K9f === null || e9f.transformed < K9f){K9f=e9f.transformed;}}}R9f=x5f.pixelFromTransformedValue(I9f,Z5f,a9f);J2e.z5m(90);Q9f=x5f.pixelFromTransformedValue(J2e.x5m(3,K9f,I9f,4),Z5f,a9f);J2e.z5m(90);p9f=x5f.pixelFromTransformedValue(J2e.x5m(2,K9f,I9f,3),Z5f,a9f);J2e.U5m(3);E9f=x5f.pixelFromTransformedValue(J2e.x5m(2,K9f,I9f),Z5f,a9f);J2e.z5m(91);M9f=x5f.pixelFromTransformedValue(J2e.x5m(3,I9f,K9f,2),Z5f,a9f);J2e.z5m(92);B9f=x5f.pixelFromTransformedValue(J2e.W5m(K9f,I9f,0,3,"4"),Z5f,a9f);H9f=x5f.pixelFromTransformedValue(K9f,Z5f,a9f);this.p0[1]=0;this.p1[+"1"]=!"1";j9f=this.getLineColor();N9f=this.fillColor;if(N9f == "auto" || U8Q.isTransparent(N9f)){N9f=x5f.defaultColor;}J5f.fillStyle=N9f;q9f={pattern:this.pattern,lineWidth:this.lineWidth};x5f.plotLine(U5f,d5f,R9f,R9f,j9f,"segment",J5f,Z5f,q9f);x5f.plotLine(U5f,d5f,H9f,H9f,j9f,"segment",J5f,Z5f,q9f);if(this.name == "quadrant"){i69="segmen";i69+="t";S69="se";S69+="gment";x5f.plotLine(U5f,d5f,Q9f,Q9f,j9f,S69,J5f,Z5f,q9f);x5f.plotLine(U5f,d5f,B9f,B9f,j9f,i69,J5f,Z5f,q9f);}else if(this.name == "tirone"){j69="s";j69+="egme";j69+="nt";x5f.plotLine(U5f,d5f,p9f,p9f,j9f,j69,J5f,Z5f,q9f);x5f.plotLine(U5f,d5f,M9f,M9f,j9f,"segment",J5f,Z5f,q9f);}x5f.plotLine(U5f,U5f,R9f,H9f,j9f,T69,J5f,Z5f,q9f);x5f.plotLine(d5f,d5f,R9f,H9f,j9f,"segment",J5f,Z5f,q9f);x5f.plotLine(U5f,d5f,E9f,E9f,j9f,"segment",J5f,Z5f,U8Q.extend(q9f,{opacity:this.name == "tirone"?0.2:1}));J5f.globalAlpha=0.1;J5f.beginPath();J2e.U5m(6);J5f.fillRect(U5f,R9f,J2e.x5m(d5f,U5f),J2e.W5m(H9f,R9f));if(this.name == "quadrant"){J2e.U5m(6);J5f.fillRect(U5f,Q9f,J2e.x5m(d5f,U5f),J2e.x5m(B9f,Q9f));}else if(this.name == "tirone"){J2e.U5m(6);J5f.fillRect(U5f,p9f,J2e.x5m(d5f,U5f),J2e.W5m(M9f,p9f));}J5f.globalAlpha=1;if(!this.highlighted){this.pixelX=[U5f,d5f];this.pixelY=[R9f,H9f,E9f];if(this.name === "quadrant"){this.pixelY.push(Q9f,B9f);}if(this.name === "tirone"){this.pixelY.push(p9f,M9f);}}else {G69="p";G69+="1";e69="p";e69+="0";o9f=this.highlighted == e69?!"":![];c9f=this.highlighted == G69?! !{}:![];this.littleCircle(J5f,U5f,E9f,o9f);this.littleCircle(J5f,d5f,E9f,c9f);}},intersected:function(u9f,V9f,P9f){var L9f,Y69,l9f,i9f;var {pixelX:w9f, pixelY:C9f}=this;if(!w9f || !C9f){return null;}L9f=this.repositionIntersection(u9f,V9f);if(L9f){return L9f;}for(var X9f=+"0";X9f < 2;X9f++){if(this.pointIntersection(w9f[X9f],C9f["2" >> 25765440],P9f,!0)){Y69="d";Y69+="r";Y69+="ag";J2e.U5m(2);this.highlighted=J2e.x5m((6792,638.48) != 874.41?"p":584 === "5613" << 1388047104?(0x1340,0xd0):6.93e+3,X9f);return {action:Y69,point:(2830 === 9650?(8420,6717) >= (+"8070",197.56)?("4282" | 18,816.38) >= (4020,220)?(3.60e+3,"n"):(1.95e+2,"G"):"F":"p") + X9f};}}l9f=[];w9f.forEach(O9f=>{J2e.b9e();l9f.push({p0:[O9f,C9f[0]],p1:[O9f,C9f[1]]});});C9f.forEach(m9f=>{J2e.b9e();l9f.push({p0:[w9f[0],m9f],p1:[w9f[1],m9f]});});i9f=l9f.some(({p0:y9f, p1:k9f})=>{return this.lineIntersection(u9f,V9f,P9f,this.name,y9f,k9f,!0);});if(i9f){this.highlighted=!0;return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:u9f,value:this.valueOnDrawingAxis(u9f,V9f)};}return null;},reconstruct:function(S9f,r9f){this.stx=S9f;this.color=r9f.col;this.fillColor=r9f.fc;J2e.b9e();this.panelName=r9f.pnl;this.pattern=r9f.ptrn;this.lineWidth=r9f.lw;this.d0=r9f.d0;this.d1=r9f.d1;this.tzo0=r9f.tzo0;this.tzo1=r9f.tzo1;this.field=r9f.fld;this.adjust();},serialize:function(){J2e.q9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});U8Q.Drawing.tirone=function(){var L89,R29,t29;L89=1384067216;R29=1069929817;t29=2;for(var b29="1" ^ 0;J2e.y89(b29.toString(),b29.toString().length,56693) !== L89;b29++){this.name="";t29+=2;}if(J2e.P89(t29.toString(),t29.toString().length,+"5924") !== R29){this.name="tirone";}};U8Q.inheritsFrom(U8Q.Drawing.tirone,U8Q.Drawing.quadrant);U8Q.Drawing.volumeprofile=function(){J2e.q9e();var X69;X69="volume";X69+="p";X69+="r";X69+="ofile";this.name=X69;};U8Q.inheritsFrom(U8Q.Drawing.volumeprofile,U8Q.Drawing.regression);U8Q.extend(U8Q.Drawing.volumeprofile.prototype,{configs:[M69,"fillColor",w69,"pattern","parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;J2e.b9e();this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,render:function(t9f){var Y9f,N8f,n8f,s9f,f9f,Z9f,j8f,c8f,s8f,b9f,b8f,x9f,V8f,W9f,U9f,G9f,t8f,v8f,F8f,D8f,P8f,i8f,z9f,Q8f,T9f,O8f,h9f,d9f,W8f,y8f,p8f,E8f,G8f,K8f,z8f,A9f,S8f,g8f,v9f,F9f,h8f,A8f,Z8f,c69,T8f,f8f,Y8f,x8f,U8f;var {stx:g9f}=this;var {dataSet:B8f}=g9f.chart;Y9f=g9f.panels[this.panelName];if(!Y9f){return;}if(!this.p1){return;}N8f=g9f.pixelFromTick(this.p0[0],Y9f.chart);n8f=g9f.pixelFromTick(this.p1[0],Y9f.chart);if(N8f < Y9f.left && n8f < Y9f.left){return;}if(N8f > Y9f.right && n8f > Y9f.right){return;}var {yAxis:D9f}=Y9f;var {flipped:o8f}=D9f;s9f=null;f9f=null;Z9f=Math.min(this.p1[0],this.p0[0]);j8f=Math.max(this.p1[0],this.p0[0]);for(var q8f=Z9f;q8f <= j8f;q8f++){c8f=B8f[q8f];if(!c8f)continue;var {High:w8f, Low:C8f}=c8f;if(s9f === null || w8f > s9f){s9f=w8f;}if(f9f === null || C8f < f9f){f9f=C8f;}}var {priceBuckets:X8f}=this;J2e.z5m(26);s8f=J2e.W5m(s9f,f9f,X8f);b9f=[];if(o8f){[s9f,f9f]=[f9f,s9f];}J2e.q9e();b8f=o8f?-1:1;for(var u8f=f9f,l8f=0;l8f <= X8f;(u8f+=s8f * b8f,l8f++)){b9f.push([u8f,0]);if(f9f === s9f)break;}x9f=0;for(var a8f=Z9f;a8f <= j8f;a8f++){V8f=B8f[a8f];if(!V8f)continue;var {High:R8f, Low:H8f, Volume:L8f}=V8f;if(!L8f)continue;W9f=[];U9f=b9f[0][0];G9f=null;for(var J9f=1;J9f < b9f.length;J9f++){G9f=b9f[J9f][0];t8f=H8f >= U9f && H8f <= G9f;v8f=R8f >= U9f && R8f <= G9f;F8f=H8f < U9f && R8f > G9f;if(t8f || v8f || F8f){W9f.push(J9f);}U9f=G9f;}if(W9f.length){D8f=L8f / W9f.length;for(var e8f=0;e8f < W9f.length;e8f++){P8f=b9f[W9f[e8f]][1]+=D8f;if(P8f > x9f){x9f=P8f;}}}}i8f=x9f === 0 && b9f.length > 1;if(i8f){g9f.displayErrorAsWatermark("chart",g9f.translateIf("Not enough data to render the Volume Profile"));}z9f=J8f=>{J2e.z5m(53);var T8t=J2e.x5m(6,10,61);return Math.round(J8f) + "0.5" * T8t;};Q8f=(j8f - Z9f) * g9f.layout.candleWidth;J2e.U5m(93);var e8t=J2e.x5m(12,17,1,30);T9f=z9f(g9f.pixelFromTick(Z9f)) - e8t;J2e.U5m(2);O8f=z9f(J2e.W5m(T9f,Q8f));J2e.z5m(74);h9f=g9f.pixelFromPrice(J2e.W5m(s9f,f9f,f9f,2));d9f=T9f;var [m8f]=b9f[0];W8f=this.getLineColor();var {fillColor:I8f}=this;if(I8f === "auto" || U8Q.isTransparent(I8f)){I8f=g9f.defaultColor;}t9f.fillStyle=I8f;y8f={pattern:this.pattern,lineWidth:this.lineWidth};p8f=0;J2e.U5m(18);E8f=J2e.x5m(1,"0");G8f=(d8f,a1T)=>{J2e.q9e();return [p8f,E8f]=[d8f,a1T];};K8f=(H1T,p1T,c1T)=>{var k69;J2e.b9e();if(!c1T){k69="segm";k69+="e";k69+="n";k69+="t";g9f.plotLine(p8f,H1T,E8f,p1T,W8f,k69,t9f,Y9f,y8f);}[p8f,E8f]=[H1T,p1T];};if(this.highlighted || i8f){g9f.plotLine(T9f,O8f,h9f,h9f,g9f.defaultColor,"segment",t9f,Y9f,Object.assign({},y8f,{opacity:0.3}));}for(var M8f=+"1";M8f < b9f.length;M8f++){var [k8f,r8f]=b9f[M8f];if(r8f){J2e.z5m(94);z8f=J2e.x5m(Q8f,x9f,r8f);J2e.z5m(2);A9f=z9f(J2e.W5m(T9f,z8f));S8f=z9f(g9f.pixelFromPrice(k8f));g8f=z9f(g9f.pixelFromPrice(m8f));v9f=Math.max(S8f,D9f.top);F9f=Math.min(g8f,D9f.bottom);J2e.z5m(95);h8f=J2e.W5m(S8f,v9f);J2e.U5m(95);A8f=J2e.W5m(g8f,F9f);Z8f=v9f <= D9f.bottom && F9f >= D9f.top;if(Z8f){if(!this.highlighted){t9f.globalAlpha=0.3;}G8f(T9f,F9f);K8f(T9f,v9f);K8f(A9f,v9f,h8f);K8f(A9f,F9f);if(A9f > d9f){K8f(d9f,F9f,A8f);}t9f.globalAlpha=0.2;J2e.U5m(6);t9f.fillRect(T9f,v9f,J2e.W5m(A9f,T9f),J2e.W5m(F9f,v9f));t9f.globalAlpha=1;}d9f=A9f;}else {d9f=T9f;;}m8f=k8f;}if(this.highlighted){c69="p";c69+="0";T8f=this.highlighted === c69;f8f=this.highlighted === "p1";Y8f=this.p0["0" - 0] > this.p1[+"0"];x8f=Y8f?f8f:T8f;U8f=Y8f?T8f:f8f;this.littleCircle(t9f,T9f,h9f,x8f);this.littleCircle(t9f,O8f,h9f,U8f);}J2e.U5m(2);this.pixelX=[T9f,J2e.W5m(T9f,Q8f)];this.pixelY=[g9f.pixelFromPrice(s9f),g9f.pixelFromPrice(f9f),h9f];this.p0[+"1"]=0;this.p1[1]=! !"";;},intersected:function(L1T,P1T,v1T){var r1T;var {p0:O1T, p1:y1T, stx:A1T}=this;if(!O1T || !y1T){return null;}var [,,k1T]=this.pixelY || [];if(k1T === undefined){return;}r1T=this.repositionIntersection(L1T,P1T);if(r1T){return r1T;}for(var [s1T,[Z1T]] of [[0,O1T],[1,y1T]]){if(this.pointIntersection(A1T.pixelFromTick(Z1T),k1T,v1T,! !{})){J2e.z5m(2);this.highlighted=J2e.x5m("p",s1T);return {action:"drag",point:(621 === 4430?0x4e5:672 === 2980?!"1":4085 <= ("9739" | 1032)?"p":("F",![])) + s1T};}}if(this.boxIntersection(L1T,P1T,v1T)){this.highlighted=! ![];return {action:"move",p0:U8Q.clone(this.p0),p1:U8Q.clone(this.p1),tick:L1T,value:P1T};}return null;},reconstruct:function(d1T,J1T){this.stx=d1T;this.color=J1T.col;this.fillColor=J1T.fc;this.panelName=J1T.pnl;this.pattern=J1T.ptrn;this.lineWidth=J1T.lw;this.d0=J1T.d0;this.d1=J1T.d1;this.tzo0=J1T.tzo0;this.tzo1=J1T.tzo1;this.field=J1T.fld;this.priceBuckets=J1T.pb;this.adjust();},serialize:function(){J2e.b9e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},! ![]);U8Q.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];J2e.U5m(18);this.dx=J2e.x5m(1,"0");this.dy=-20;this.dragToDraw=!"1";this.annotationPoints=[];this.edit=null;};U8Q.inheritsFrom(U8Q.Drawing.elliottwave,U8Q.Drawing.annotation);U8Q.Drawing.elliottwave.defaultTemplate={impulse:[(1660,149.92) < +"8590"?("5570" | 386,1891) == "828" >> 1271305696?0x3cd:549.02 == 6020?0x1d5c:"I":(0x1ae,"Z"),F69,"III","IV",+"7490" < 435.18?"A":8320 >= 424.1?(2590,+"573.18") < (4040,"2180" | 2180)?"V":"C":("O","a")],corrective:[7682 === (+"5313",8100)?6731 == (263.86,+"22.3")?0xb8f:(4500,7950) < 6320?"217.62" * 1:![]:"A",1550 === (4660,9410)?![]:"B",2463 !== 443?(497.53,5230) != 3738?"C":(1603,9710) <= 375.13?(12.19,! !0):("b",224.64):! ![]],decoration:"enclosed",showLines:! ![]};U8Q.Drawing.elliottwave.prototype.initializeSettings=function(I0T){J2e.q9e();I0T.currentVectorParameters.waveParameters=U8Q.clone(U8Q.Drawing.elliottwave.defaultTemplate);};U8Q.Drawing.elliottwave.prototype.configs=["color",N69,"lineColor",H69,p69,"waveParameters"];U8Q.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];U8Q.Drawing.elliottwave.prototype.construct=function(K0T,q0T){var j0T;this.stx=K0T;this.panelName=q0T.name;j0T=K0T.currentVectorParameters;Object.assign(this,j0T.waveParameters);};U8Q.Drawing.elliottwave.prototype.serialize=function(){var x69,d69,R0T,a69;x69="f";x69+="l";d69="s";d69+="z";R0T={};for(var a0T=0;a0T < this.points.length;a0T++){a69="t";a69+="z";a69+="o";J2e.z5m(2);R0T[J2e.x5m("d",a0T)]=this[J2e.x5m("d",a0T)];J2e.U5m(2);R0T[J2e.x5m("tzo",a0T)]=this[J2e.x5m(a69,a0T)];J2e.z5m(2);R0T[J2e.W5m("v",a0T)]=this[J2e.x5m((499,4970) >= (3633,5845)?8651 >= (3110,2670)?(1568,7503) !== 4815?"S":("243.59" - 0,"B"):(250.77,184):"v",a0T)];}R0T.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:U8Q.removeNullValues(U8Q.replaceFields(this.font,{style:"st",size:d69,weight:"wt",family:x69}))},R0T);};U8Q.Drawing.elliottwave.prototype.reconstruct=function(e0T,H0T){var v69;v69="s";v69+="iz";v69+="e";this.stx=e0T;this.color=H0T.col;this.panelName=H0T.pnl;this.pattern=H0T.ptrn;this.lineWidth=H0T.lw;this.font=U8Q.replaceFields(H0T.fnt,{st:"style",sz:v69,wt:"weight",fl:"family"});this.decoration=H0T.decor;this.showLines=H0T.show;this.dx=H0T.dx;this.dy=H0T.dy;this.trend=H0T.trend;this.field=H0T.fld;J2e.q9e();this.annotationPoints=H0T.annotations.split((7024,8789) <= 7440?!{}:",");if(H0T.decor === "enclosed"){this.calculateRadius(e0T.chart.tempCanvas.context);}this.maxSegments=H0T.mxSeg;this.reconstructPoints(H0T);this.adjust();};U8Q.Drawing.elliottwave.prototype.reconstructPoints=function(p0T){J2e.q9e();var E0T,M0T,B0T;E0T=this.stx.panels[this.panelName];if(!E0T){return;}for(var Q0T=0;Q0T < this.annotationPoints.length;Q0T++){J2e.z5m(2);this[J2e.x5m("d",Q0T)]=p0T[J2e.W5m(526.33 == 682.04?(3.73e+3,0x273):(500,"8420" * 1) <= +"6770"?(7.81e+3,!""):"d",Q0T)];J2e.U5m(2);this[J2e.W5m("v",Q0T)]=p0T[J2e.W5m((+"3302",2780) !== 6370?(2860,1110) < 2657?"v":0x1571:(+"51.58",!1),Q0T)];J2e.U5m(2);this[J2e.W5m("tzo",Q0T)]=p0T[J2e.W5m("tzo",Q0T)];M0T=U8Q.strToDateTime(p0T["d" + Q0T]);B0T=this.stx.tickFromDate(M0T,E0T.chart);this.points.push([B0T,p0T["v" + Q0T]]);}};U8Q.Drawing.elliottwave.prototype.calculateRadius=function(c0T){var N0T,o0T;this.getFontString();c0T.font=this.fontString;N0T=0;for(var n0T="0" * 1;n0T < this.annotationPoints.length;n0T++){o0T=c0T.measureText(this.annotationPoints[n0T]).width;if(N0T < o0T){N0T=o0T;}}this.enclosedRadius=N0T;};U8Q.Drawing.elliottwave.prototype.check=function(u0T,V0T,w0T){var C0T,X0T;J2e.U5m(6);C0T=this.points[J2e.W5m(w0T,1)];if(C0T && u0T <= C0T[0]){return !{};}if(w0T === 1 && this.points.length === 2){return ! ![];}J2e.U5m(2);X0T=this.points[J2e.W5m(w0T,1)];function l0T(P0T){for(var L0T=2;L0T < P0T.length;L0T++){if(Math.sign(P0T[L0T][+"1"] - P0T[L0T - 1][+"1"]) == Math.sign(P0T[L0T - 1][1] - P0T[L0T - +"2"][1])){return !{};}}return ! !1;}J2e.b9e();if(X0T && u0T >= X0T["0" * 1]){return !{};}if(!l0T(this.points)){return !{};}return !"";};U8Q.Drawing.elliottwave.prototype.move=function(i0T,O0T,m0T){J2e.b9e();this.copyConfig();J2e.z5m(51);var G8t=J2e.x5m(14,2,13,2);this.points[this.lastPoint + G8t]=[O0T,m0T];this.render(i0T);};U8Q.Drawing.elliottwave.prototype.adjust=function(){var k0T,r0T;J2e.q9e();k0T=this.stx.panels[this.panelName];if(!k0T){return;}for(var y0T="0" ^ 0;this.maxSegments + 1 > y0T;y0T++){J2e.U5m(2);r0T=this[J2e.W5m("d",y0T)];this.setPoint(y0T,r0T,this[(3710 > (5002,9634)?"0x213d" << 270339616:2010 !== (9790,+"1550")?(589.97,1923) !== (5450,158.99)?"v":("k",0x2242):+"571.91") + y0T],k0T.chart);this.points[y0T][0]=this.stx.tickFromDate(U8Q.strToDateTime(r0T),k0T.chart);J2e.U5m(2);this.points[y0T][+"1"]=this[J2e.x5m("v",y0T)];}};U8Q.Drawing.elliottwave.prototype.click=function(f0T,S0T,g0T){var T0T;T0T=this.stx.panels[this.panelName];if(!T0T){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,S0T,g0T,T0T.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(9890 == 6407?(0x1b9f,! !1):(233,546.77) < ("30.53" - 0,827)?(986.29,636.55) > 786.2?"K":"0":911.67);if(this.decoration === "enclosed"){this.calculateRadius(f0T);}J2e.z5m(96);var Y8t=J2e.W5m(7,8,3,3,20);this.maxSegments=this.annotationPoints.length - Y8t;this.trend=1;return !"1";}if(this.accidentalClick(S0T,g0T)){this.penDown=!"";return !{};}if(this.check(S0T,g0T,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,S0T,g0T,T0T.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!{};return ! !{};}}return ![];};U8Q.Drawing.elliottwave.prototype.render=function(Y0T){var J69,F0T,b0T,t0T,H2T,e2T,Q2T,K2T,j2T,v0T,D0T,q2T,W0T,z0T,Z69,L69,h0T,Z0T,G0T,x0T,U0T,p2T,E2T,J0T,d0T,A0T,a2T,R2T,M2T,I2T;J69="str";J69+="ing";F0T=this.stx;b0T=F0T.panels[this.panelName];t0T=F0T.getYAxisByField(b0T,this.field);J2e.b9e();if(!b0T || this.field && !t0T){return;}t0T=t0T || b0T.yAxis;H2T=this.annotationPoints;e2T=this.pattern?U8Q.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();Y0T.font=this.fontString;Y0T.textAlign="center";Y0T.textBaseline="middle";Y0T.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(Y0T);}this.lastFontString=this.fontString;Q2T=this.getLineColor();Y0T.fillStyle=Y0T.strokeStyle=Q2T;Y0T.save();Y0T.setLineDash(e2T);K2T=this.dx;j2T=this.dy;v0T=this.points;D0T=this.pts;q2T=!this.showLines && this.highlighted;W0T=v0T.length;if(this.penDown && this.segment){Z69="l";Z69+="o";Z69+="w";J2e.U5m(4);var X8t=J2e.x5m(0,10,12);J2e.U5m(2);var M8t=J2e.x5m(0,1);z0T=this.trend * (W0T % X8t - 0.5) < "0" * M8t;this.drawDropZone(Y0T,v0T[W0T - 2][1],t0T[z0T?"high":Z69],v0T[W0T - 2][0]);}else if(typeof this.highlighted === J69 && F0T.repositioningDrawing){L69="h";L69+="ig";L69+="h";h0T=parseInt(this.highlighted.substring(1,this.highlighted.length),10);J2e.z5m(97);var w8t=J2e.x5m(14,99,4,9,8);J2e.z5m(23);var k8t=J2e.x5m(16,15);z0T=this.trend * (h0T % w8t - "0.5" * k8t) > 0;J2e.z5m(6);Z0T=v0T[J2e.x5m(h0T,1)];J2e.z5m(2);G0T=v0T[J2e.W5m(h0T,1)];x0T=h0T > 0?Z0T[1]:G0T[1];if(G0T){x0T=Math[z0T?"max":"min"](x0T,G0T["1" | 0]);}this.drawDropZone(Y0T,x0T,t0T[z0T?L69:"low"],Z0T?Z0T[0]:null,G0T?G0T[0]:null);}for(var s0T=0;s0T < W0T;s0T++){U0T=v0T[s0T];p2T=F0T.pixelFromTick(U0T[0],b0T.chart);E2T=this.pixelFromValue(b0T,U0T[0],U0T[+"1"],F0T.getYAxisByField(b0T,this.field));D0T[s0T]=[p2T,E2T];}s0T=0;if(this.showLines || q2T){Y0T.beginPath();if(q2T){Y0T.globalAlpha=0.3;}for(;s0T < D0T.length;s0T++){Y0T.lineTo(D0T[s0T][0],D0T[s0T][1]);}Y0T.stroke();s0T=0;}Y0T.restore();for(;s0T < W0T;s0T++){J0T=s0T % 2?K2T:-K2T;d0T=s0T % 2?j2T:-j2T;J0T*=this.trend;d0T*=this.trend;if(t0T.flipped){J0T*=-1;d0T*=-1;}A0T=D0T[s0T];a2T=A0T[2]=A0T[+"0"] + J0T;J2e.U5m(5);var c8t=J2e.W5m(0,19,5,13);R2T=A0T[3]=A0T[c8t] + d0T;M2T=this.enclosedRadius || "8" * 1;I2T=H2T[s0T];if(this.decoration === "parentheses"){J2e.z5m(43);I2T=J2e.x5m(6690 === 9980?0x206:177.96 == (8270,5570)?("7.57e+2" >> 68986368,108.23):")",I2T,"(");}Y0T.fillText(I2T,a2T,R2T);if(this.decoration === "enclosed"){Y0T.beginPath();Y0T.arc(a2T,R2T,M2T,0,2 * Math.PI,![]);Y0T.stroke();}if(this.highlighted){Y0T.save();this.littleCircle(Y0T,this.pts[s0T][0],this.pts[s0T][1],this.highlighted === ("3080" << 337836576 < (347,959.92)?807.07 < ("8540" << 1256180576,1511)?277.84:0xb53:"p") + s0T);Y0T.restore();}}};U8Q.Drawing.elliottwave.prototype.reposition=function(V2T,B2T,o2T,c2T){var C2T,X2T,u2T,n2T,w2T,l2T;if(!B2T){return;}C2T=this.stx.panels[this.panelName];X2T=B2T.tick - o2T;u2T=B2T.value - c2T;if(B2T.action === "move"){for(var N2T=0;B2T.points.length > N2T;N2T++){n2T=B2T.points[N2T];this.setPoint(N2T,n2T[0] - X2T,n2T[1] - u2T,C2T.chart);this.points[N2T]=[n2T[0] - X2T,n2T[+"1"] - u2T];}}J2e.b9e();if(B2T.action === "drag"){w2T=B2T.point;l2T=this.points;l2T[w2T]=[o2T,c2T];if(this.check(o2T,c2T,w2T)){this.setPoint(w2T,o2T,c2T,C2T.chart);;};}this.render(V2T);};U8Q.Drawing.elliottwave.prototype.intersected=function(P2T,O2T,m2T){var y2T,i2T,R39;if(!this.p0 || !this.p1){return null;}for(var L2T=+"0";this.points.length > L2T;L2T++){i2T=this.points[L2T];if(this.pointIntersection(i2T[0],i2T[1],m2T)){J2e.z5m(2);this.highlighted=J2e.x5m("p",L2T);return {action:"drag",point:L2T,tick:P2T,value:this.valueOnDrawingAxis(P2T,O2T)};}if(this.points[L2T + 1] && this.lineIntersection(P2T,O2T,m2T,"segment",i2T,this.points[L2T + 1])){R39="m";R39+="o";R39+="v";R39+="e";this.highlighted=! !{};y2T={action:R39,points:U8Q.clone(this.points),tick:P2T,value:this.valueOnDrawingAxis(P2T,O2T)};}}return y2T;};U8Q.Drawing.elliottwave.prototype.measure=function(){var k2T,g2T,S2T,t39,r2T;if(this.points.length >= +"2"){k2T=this.points;this.stx.setMeasure(k2T[0]["1" | 1],k2T[k2T.length - 1][1],k2T[0][0],k2T[k2T.length - 1][0],! !{});g2T=this.stx.controls.mSticky;S2T=g2T && g2T.querySelector(".mStickyInterior");if(S2T){t39="<b";t39+="r";t39+=">";r2T=[];r2T.push(U8Q.capitalize("Elliott Wave"));if(this.getYValue){r2T.push(this.field || this.stx.defaultPlotField || "Close");}r2T.push(S2T.innerHTML);S2T.innerHTML=r2T.join(t39);}}};U8Q.Drawing.printProjection=function(F2T,K6T,T2T){var Y2T,s2T,x2T,D2T,U2T,W2T,J2T,G2T,v2T,A2T,t2T,d2T,Z2T,h2T,f2T,I6T;Y2T=K6T.arr;if(Y2T.length > 1){s2T=Y2T[0][0];x2T=Math.round(F2T.chart.maxTicks * 0.75);for(var b2T=1;b2T < Y2T.length;b2T++){J2e.U5m(6);D2T=Y2T[J2e.W5m(b2T,1)][0];U2T=Y2T[b2T][0];W2T=U8Q.strToDateTime(D2T);J2T=U8Q.strToDateTime(U2T).getTime();G2T=F2T.standardMarketIterator(W2T);J2e.z5m(6);v2T=J2e.x5m("0",0);while(W2T.getTime() < J2T){W2T=G2T.next();v2T+=1;}A2T=U8Q.strToDateTime(D2T).getTime();if(A2T > U8Q.strToDateTime(T2T[T2T.length - 1].Date).getTime()){J2e.z5m(4);var F8t=J2e.x5m(1814586477,15,2);t2T=T2T.length - ("1" >> F8t);v2T+=1;}else {for(t2T=T2T.length - 1;t2T >= 0;t2T--){if(A2T <= U8Q.strToDateTime(T2T[t2T].Date).getTime())break;}}d2T={x0:0,x1:v2T,y0:T2T[t2T].Close,y1:Y2T[b2T][+"1"]};s2T=U8Q.strToDateTime(D2T);G2T=F2T.standardMarketIterator(s2T);Z2T=![];for(var z2T=0;z2T <= v2T;z2T++){if(!Z2T){Z2T=! ![];}else {s2T=G2T.next();}if(s2T.getTime() <= T2T[T2T.length - 1].DT.getTime())continue;h2T=U8Q.yIntersection(d2T,z2T);if(!h2T){h2T=0;}J2e.z5m(63);var N8t=J2e.x5m(9993,6669,3);J2e.z5m(98);var H8t=J2e.W5m(11,30000,20022,11);f2T=Math.round(h2T * N8t) / H8t;if(f2T === 0){f2T=Y2T[b2T][+"1"];}I6T={Date:U8Q.yyyymmddhhmmssmmm(s2T),DT:s2T,Open:f2T,Close:f2T,High:f2T,Low:f2T,Volume:0,Adj_Close:f2T,Split_Close:f2T,projection:! !{}};if(F2T.layout.interval == "minute")if(x2T-- < 0)break;T2T[T2T.length]=I6T;}}}};}};T6Q=q6T=>{a2ww.b9e();var s39,j6T;s39="undefine";s39+="d";j6T=typeof _CIQ !== s39?_CIQ:q6T.CIQ;if(!j6T.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {j6T.formatEquation=function(E6T){var I5e=a2ww;var H6T,Q6T,a6T,e6T,R6T;H6T="";Q6T=[];a6T="";e6T=!{};for(var p6T=1;p6T < E6T.length;p6T++){R6T=E6T[p6T];if(R6T == (8350 < 2229?792.33:"[") && !e6T){e6T=! ![];}else if(R6T == (4550 !== "578.64" * 1?"]":"219.05" - 0) && e6T){e6T=![];if(a6T !== ""){Q6T.push(a6T);I5e.z5m(43);H6T+=I5e.x5m((1460,5100) > ("484.14" - 0,7750)?9330 < (3195,928)?"X":0x63:"]",a6T,(8146,446.58) < "3830" * 1?"[":966.16 == (500.92,"833" & 2147483647)?(! ![],!0):(2.53e+3,+"0x37"));}a6T="";}else if(e6T){a6T+=R6T;}else if(R6T == (2867 !== (9340,254.65)?"+":("7630" >> 771946496,862.91) <= "8210" >> 202375296?689.4 === 2043?! !0:"X":0x1281) || R6T == "-" || R6T == "*" || R6T == (+"909.68" === (1483,7904)?(752.00,321.45):(+"4803",855.42) == 1114?(+"855.51",7840) !== 9760?0x1e0c:("z",0x1483):"/") || R6T == ((8640,"138.41" - 0) < (251,4438)?":":! !{}) || R6T == "%" || R6T == (343 <= ("4953" ^ 0)?"(":(6623,1090) === (2937,1010)?(3.22e+3,992.06):(6150,9254) != (6239,8600)?(+"0x1212","J"):(! !0,"L")) || R6T == ")"){if(a6T !== "" && isNaN(a6T)){Q6T.push(a6T);I5e.U5m(43);H6T+=I5e.x5m((4670,4774) === 925?+"3768" != (736.21,+"7740")?4668 === (3158,+"588.21")?(4.05e+3,198.57):![]:("b","z"):"]",a6T,"[");}else {H6T+=a6T;}if(R6T == ":"){R6T=7710 <= (61.14,+"3080")?"e":"/";}H6T+=R6T;a6T="";}else if(R6T != " "){a6T+=R6T;}}if(a6T !== "" && isNaN(a6T)){Q6T.push(a6T);I5e.U5m(43);H6T+=I5e.x5m("]",a6T,+"6330" == (628.15,199.17)?(0xd2e,511.66):683.52 === (1163,537)?(+"70.23",0x1a8):("4600" ^ 0,437.34) == 197.73?![]:"[");}else {H6T+=a6T;}return {equation:H6T,symbols:Q6T};};j6T.fetchEquationChart=function(M6T,C6T){var n6T,o6T,c6T,w6T,N6T;n6T=j6T.formatEquation(M6T.symbol);o6T=n6T.symbols;c6T=[];w6T=M6T.stx;M6T.stx=null;a2ww.q9e();for(var B6T=0;B6T < o6T.length;B6T++){N6T=j6T.shallowClone(M6T);N6T.stx=w6T;N6T.symbol=o6T[B6T];N6T.symbolObject={symbol:o6T[B6T]};c6T.push(N6T);}M6T.stx=w6T;w6T.quoteDriver.multiFetch(c6T,function(i6T){var L6T,X6T,u6T,l6T,O6T;L6T={};M6T.loadMoreReplace=! !"1";X6T={charge:0};for(var V6T=0;V6T < i6T.length;V6T++){u6T=i6T[V6T];if(u6T.dataCallback.error){C6T({error:u6T.dataCallback.error});return;}L6T[u6T.params.symbol]=u6T.dataCallback.quotes;M6T.loadMoreReplace=M6T.loadMoreReplace && u6T.params.loadMoreReplace;M6T.moreToLoad=M6T.moreToLoad || u6T.dataCallback.moreAvailable;l6T=u6T.dataCallback.attribution;if(l6T){if(l6T.charge){X6T.charge+=l6T.charge;}X6T.source=l6T.source;if(X6T.exchange === undefined){X6T.exchange=l6T.exchange;}else if(X6T.exchange != l6T.exchange){X6T.exchange="";};}}if(c6T.length || !(M6T.loadMore || M6T.update)){try{O6T=j6T.computeEquationChart(n6T.equation,L6T);C6T({quotes:O6T,moreAvailable:M6T.moreToLoad,attribution:X6T});}catch(m6T){var b39,P6T;b39="NoExc";b39+="e";b39+="p";b39+="tion";P6T={error:"Invalid equation: " + n6T.equation};if(m6T.name && m6T.name == b39){P6T.suppressAlert=!"";}C6T(P6T);}}});};}};f6Q=k6T=>{var y6T,f39;y6T=typeof _CIQ !== "undefined"?_CIQ:k6T.CIQ;if(!y6T.Marker){f39="highPerf";f39+="ormanceMarkers feature requires first activating mar";f39+="ke";f39+="rs feature.";console.error(f39);}else if(!y6T.Marker.Performance){y6T.ChartEngine.prototype.removeDOMMarker=function(r6T){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");y6T.Marker.Performance.prototype.removeDOMMarker.call(r6T.params.node,r6T);};y6T.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");y6T.Marker.Performance.drawMarkers(this);};y6T.ChartEngine.prototype.calculateMarkerStyles=function(S6T,g6T){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");y6T.Marker.Performance.calculateMarkerStyles(this,S6T,g6T);};y6T.ChartEngine.prototype.drawCircleMarker=function(T6T,f6T,Y6T){var g39;g39="CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a futu";g39+="r";g39+="e release\n Please use CIQ.Marker.Performance.drawCircleMarker i";g39+="nstead.";console.warn(g39);y6T.Marker.Performance.drawCircleMarker(T6T,f6T,Y6T);};y6T.ChartEngine.prototype.drawSquareMarker=function(s6T,b6T,t6T){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");y6T.Marker.Performance.drawSquareMarker(s6T,b6T,t6T);};y6T.ChartEngine.prototype.drawCalloutMarker=function(v6T,F6T,D6T){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");a2ww.b9e();y6T.Marker.Performance.drawCalloutMarker(v6T,F6T,D6T);};y6T.ChartEngine.prototype.drawMarkerStem=function(W6T,G6T,z6T){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");a2ww.b9e();y6T.Marker.Performance.drawMarkerStem(W6T,G6T,z6T);};y6T.ChartEngine.prototype.positionDOMMarkers=function(){var h39;h39="CIQ.ChartEngine#positionDOMMarkers is scheduled for de";h39+="precation in a future release\n Please use CIQ.Marker.Performance.d";h39+="r";h39+="awMarkers instead.";console.warn(h39);y6T.Marker.Performance.drawMarkers(this);};y6T.Marker.Performance=function(Z6T){var z39,C39,n39,I39,A6T,h6T,U6T,d6T,x6T,J6T,I4T,K4T;z39="h";z39+="4";C39="</div";C39+=">";n39="<div class=\"stx-stem";n39+="\"";n39+="></div>";I39="<div class=\"stx-mar";I39+="ker highlight\">";this.params={displayCategory:! ![],displayStem:! ![],invert:!{},story:"",headline:""};y6T.extend(this.params,Z6T);A6T=this.template=document.createElement("TEMPLATE");a2ww.z5m(99);A6T.innerHTML=a2ww.W5m("</div>",n39,'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker-content">',"</div>",I39,C39,'<div class="stx-visual">');h6T=this.template.content.cloneNode(! ![]);U6T=h6T.querySelector(".stx-marker",A6T);U6T.classList.add(Z6T.type);U6T.classList.add(Z6T.category);d6T=h6T.querySelector(".stx-visual",A6T);x6T=h6T.querySelector(".stx-marker-expand");J6T=h6T.querySelector(z39,A6T);I4T=h6T.querySelector((+"56.52","3539" >> 406656640) < 642.94?(5920,706.06) == (979.11,978.9)?3.59e+3:6.75e+3:"p",A6T);J6T.innerText=this.params.headline;I4T.innerText=this.params.story;this.hasText=! !Z6T.headline || ! !Z6T.story;this.deferAttach=!"";this.node=h6T.firstChild;this.node.params=this.params;this.visual=d6T;this.expand=x6T;if(Z6T.type === "callout"){K4T=x6T.removeChild(J6T);h6T.querySelector(".stx-marker-content",A6T).insertBefore(K4T,x6T);}};y6T.inheritsFrom(y6T.Marker.Performance,y6T.Marker.NodeCreator,![]);y6T.Marker.Performance.consolidateExpanded=function(Q4T){var C5e=a2ww;var j4T,q4T,H4T,B39,r39,R4T,e4T;j4T=Q4T.markerHelper.highlighted;if(!j4T.length){return;}C5e.z5m(23);var p8t=C5e.W5m(4,3);q4T=j4T[j4T.length - "1" * p8t];H4T=q4T.params.node;if(!q4T.consolidated){q4T.consolidated=[];}for(var a4T=j4T.length - 2;a4T >= 0;a4T--){B39="</";B39+="consolidated>";r39="<consolidat";r39+="ed";r39+=">";R4T=p4T(j4T[a4T]);C5e.U5m(43);e4T=C5e.W5m(B39,R4T,r39);if(R4T.length){H4T.expand.innerHTML+=e4T;}}q4T.stxNodeCreator.quickCache(q4T);function p4T(N4T){var M4T,E4T,B4T;M4T=N4T.params.node;E4T=M4T.expand;if(!E4T){return "";}B4T=E4T.style.display !== "none"?E4T.innerHTML:"";return B4T;}};y6T.Marker.Performance.reconstituteExpanded=function(w4T){var n4T,C4T,X4T,c4T;n4T=w4T.markerHelper.highlighted;if(!n4T.length || !w4T.activeMarker){return;}n4T=[w4T.activeMarker];for(var o4T=n4T.length - 1;o4T >= 0;o4T--){C4T=n4T[o4T];X4T=C4T.params.node;c4T=X4T.expand;while(c4T.lastElementChild.nodeName === "CONSOLIDATED"){c4T.removeChild(c4T.lastElementChild);}}};y6T.Marker.Performance.drawMarkers=function(i4T){var P4T,u4T,V4T,L4T,O4T,m4T;P4T=i4T.getMarkerArray("all");u4T=i4T.chart;for(var l4T="0" ^ 0;l4T < P4T.length;l4T++){V4T=P4T[l4T];L4T=V4T.stxNodeCreator;O4T=u4T.dataSegment[0].tick;m4T=u4T.dataSegment[u4T.dataSegment.length - 1].tick;if(O4T <= V4T.tick <= m4T){if(L4T && L4T.drawMarker){L4T.drawMarker(V4T);}}}};y6T.Marker.Performance.calculateMarkerStyles=function(k4T,r4T,T4T){var H5e=a2ww;var y4T,D39,S4T,g4T,x19,v19,Z19;y4T=document.querySelector(".stx-marker-templates");if(!y4T){D39="-10";D39+="00px";y4T=document.createElement("DIV");y4T.style.visibility="hidden";y4T.style.left=D39;document.body.append(y4T);}y4T.appendChild(r4T.node);S4T=getComputedStyle(r4T.stxNodeCreator.visual);if(!k4T.styles.stx_marker_stem){g4T=getComputedStyle(document.querySelector(".stx-stem",r4T.node));x19=-1046799792;H5e.U5m(14);v19=H5e.W5m(0,"1395065838");Z19=2;for(var L19=1;H5e.y89(L19.toString(),L19.toString().length,349) !== x19;L19++){k4T.styles.stx_marker_stem=k4T.cloneStyle(g4T);Z19+=2;}if(H5e.y89(Z19.toString(),Z19.toString().length,67685) !== v19){k4T.styles.stx_marker_stem=k4T.cloneStyle(g4T);}}k4T.styles[T4T]=k4T.cloneStyle(S4T);y4T.removeChild(r4T.node);};y6T.Marker.Performance.drawCircleMarker=function(t4T,z4T,Y4T){var W4T,G4T,f4T,s4T,b4T,v4T,F4T,D4T;W4T=t4T.params.stx;G4T=W4T.chart;f4T=G4T.context;s4T=Y4T.x;b4T=Y4T.y;v4T=Y4T.radius;F4T=Y4T.label;D4T=Y4T.color?Y4T.color:z4T.backgroundColor;f4T.beginPath();f4T.setLineDash([]);f4T.lineWidth=1;f4T.fillStyle=D4T;f4T.strokeStyle=D4T;f4T.font="normal bold 12px Roboto, Helvetica, sans-serif";f4T.arc(s4T,b4T,v4T,0,2 * Math.PI,!{});f4T.fill();f4T.stroke();f4T.closePath();if(F4T){f4T.fillStyle=y6T.colorsEqual("white",f4T.fillStyle)?"black":"white";f4T.fillText(F4T.charAt(0).toUpperCase(),s4T - "4" * 1,b4T + 1);}if(t4T.highlight || t4T.active){f4T.beginPath();a2ww.z5m(2);f4T.arc(s4T,b4T,a2ww.x5m(v4T,4),0,+"2" * Math.PI,![]);f4T.stroke();f4T.closePath();}};y6T.Marker.Performance.drawSquareMarker=function(d4T,a7T,A4T){var Y4e=a2ww;var P39,j7T,q7T,h4T,U4T,J4T,Z4T,I7T,K7T,x4T,K39,y39;P39="n";P39+="ormal bold 12px Roboto, Helvetica, sans-serif";j7T=d4T.params.stx;q7T=j7T.chart;h4T=q7T.context;U4T=A4T.x;J4T=A4T.y;Z4T=A4T.half;I7T=A4T.label;K7T=A4T.color?A4T.color:a7T.backgroundColor;Y4e.z5m(100);x4T=Y4e.x5m(Z4T,"2");Y4e.q9e();h4T.beginPath();h4T.setLineDash([]);h4T.lineWidth=1;h4T.fillStyle=K7T;h4T.strokeStyle=K7T;h4T.font=P39;Y4e.U5m(6);h4T.rect(Y4e.x5m(U4T,Z4T),Y4e.W5m(J4T,Z4T),x4T,x4T);h4T.fill();if(d4T.highlight || d4T.active){Y4e.U5m(101);h4T.rect(Y4e.W5m(4,U4T,Z4T),Y4e.W5m(4,J4T,Z4T,Y4e.U5m(101)),Y4e.x5m(x4T,0,"8",Y4e.U5m(35)),Y4e.x5m(x4T,8,Y4e.z5m(2)));}h4T.stroke();h4T.closePath();if(I7T){K39="whit";K39+="e";y39="w";y39+="h";y39+="i";y39+="te";h4T.fillStyle=y6T.colorsEqual(y39,h4T.fillStyle)?"black":K39;h4T.fillText(I7T.charAt(0).toUpperCase(),U4T - 4,J4T + 1);}};y6T.Marker.Performance.drawCalloutMarker=function(Q7T,u7T,H7T){var U39,Q39,w7T,C7T,R7T,e7T,l7T,E7T,M7T,B7T,N7T,n7T,X7T,p7T,o7T,c7T;U39="bl";U39+="ac";U39+="k";Q39="rgba";Q39+="(255,255,255,0.65";Q39+=")";w7T=Q7T.params.stx;C7T=w7T.chart;R7T=C7T.context;e7T=Q7T.params;l7T=H7T.x;E7T=H7T.y;M7T=H7T.half;B7T=H7T.midWidth;N7T=H7T.headline;n7T=H7T.color?H7T.color:u7T.backgroundColor;X7T=M7T * 2 || 25;p7T=Math.round(R7T.measureText(N7T).width);o7T=B7T?B7T * 2:p7T + 8;R7T.beginPath();R7T.setLineDash([]);R7T.lineWidth=1;R7T.fillStyle=n7T;R7T.strokeStyle=n7T;R7T.font="normal bold 12px Roboto, Helvetica, sans-serif";R7T.rect(e7T.box.x0,e7T.box.y0,o7T,X7T);R7T.fill();R7T.stroke();R7T.closePath();R7T.beginPath();R7T.fillStyle=Q7T.highlight || Q7T.active?"rgba(255,255,255,0.8)":Q39;a2ww.z5m(102);c7T=a2ww.W5m(o7T,p7T,20,2);R7T.rect(e7T.box.x0 + c7T,E7T - M7T,p7T + 40,22);R7T.fill();R7T.stroke();R7T.closePath();R7T.fillStyle=U39;R7T.fillText(N7T,e7T.box.x0 + c7T + 10,E7T);};y6T.Marker.Performance.drawMarkerStem=function(L7T,m7T,P7T){var y7T,k7T,V7T,i7T,g7T,O7T,r7T,S7T;y7T=L7T.params.stx;k7T=y7T.chart;V7T=k7T.context;i7T=P7T.x;g7T=P7T.y;V7T.beginPath();V7T.strokeStyle=m7T.borderLeftColor;V7T.setLineDash([1,1]);O7T=y6T.stripPX(m7T.height);r7T=P7T.invert?L7T.params.box.y0:L7T.params.box.y1;a2ww.b9e();S7T=P7T.invert?L7T.params.box.y0 - O7T:L7T.params.box.y1 + O7T;V7T.moveTo(i7T,r7T);V7T.lineTo(i7T,S7T);V7T.stroke();V7T.closePath();};y6T.Marker.Performance.prototype.drawMarker=function(T7T){var q4e=a2ww;var V39,z7T,Y7T,d7T,I3T,x7T,s7T,F7T,D7T,K3T,U7T,h7T,J7T,A7T,b7T,Z7T,f7T,W7T,G7T,j3T,q3T,t7T,v7T,u39;V39="s";V39+="qu";V39+="a";V39+="re";z7T=T7T.params;Y7T=T7T.params.stx;if(!Y7T){return;}d7T=Y7T.chart;I3T=d7T.dataSegment;if(!I3T.length){return;}x7T=Y7T.panels[T7T.params.panelName];s7T=T7T.stxNodeCreator.params;F7T=s7T.type;D7T=s7T.category;K3T=s7T.headline;U7T=s7T.displayCategory;h7T=s7T.color;J7T=s7T.invert;q4e.z5m(103);A7T=q4e.W5m(D7T,"stx_marker_",F7T,(10.31,338.05) > (288.06,446.89)?0x11dc:"_");if(!Y7T.styles[A7T]){y6T.Marker.Performance.calculateMarkerStyles(Y7T,T7T,A7T);}b7T=T7T.style=Y7T.styles[A7T];Z7T=Y7T.styles.stx_marker_stem;q4e.U5m(23);var a8t=q4e.W5m(4,2);f7T=parseInt(b7T.height,"10" & 2147483647) / a8t;q4e.z5m(104);var d8t=q4e.x5m(19,4,18,56,1);W7T=parseInt(b7T.width,+"10") / d8t;G7T=s7T.displayStem?parseInt(Z7T.height,10) + parseInt(Z7T.marginBottom,10):0;j3T=G7T + parseInt(b7T.height,+"10");q3T=G7T?G7T + f7T:0;t7T=Y7T.pixelFromDate(z7T.x);v7T=z7T.node.calculateYPosition({marker:T7T,panel:x7T,height:j3T,half:f7T,offset:q3T,inverted:J7T});if(!T7T.tick && T7T.tick !== 0){return;}z7T.box={x0:t7T - (W7T || f7T),y0:v7T - f7T,x1:t7T + (W7T || f7T),y1:v7T + f7T,midY:f7T,midX:W7T || f7T,stemHeight:G7T};if(!U7T){D7T=U7T;}Y7T.startClip(x7T.name);if(F7T === "circle"){y6T.Marker.Performance.drawCircleMarker(T7T,b7T,{x:t7T,y:v7T,radius:f7T,label:D7T,color:h7T});}else if(F7T === V39){y6T.Marker.Performance.drawSquareMarker(T7T,b7T,{x:t7T,y:v7T,half:f7T,label:D7T,color:h7T});}else if(F7T === "callout"){y6T.Marker.Performance.drawCalloutMarker(T7T,b7T,{x:t7T,y:v7T,half:f7T,midWidth:W7T,headline:K3T,color:h7T});}else {u39="Marker";u39+=" ";u39+="type: ";q4e.U5m(43);console.warn(q4e.x5m(" is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",F7T,u39));}if(s7T.displayStem){y6T.Marker.Performance.drawMarkerStem(T7T,Z7T,{x:t7T,y:v7T,invert:J7T});}Y7T.endClip();if(T7T.attached){this.positionPopUpNode(T7T);}};y6T.Marker.Performance.prototype.positionPopUpNode=function(R3T){var F4e=a2ww;var E39,M3T,e3T,a3T,B3T,p3T,H3T,N3T,C3T,X3T,u3T,l3T,n3T,Q3T,w3T,o3T,E3T,c3T,V3T;E39="t";E39+="ranslateX(";if(!R3T.attached || !R3T.params.box){return;}M3T=R3T.params;e3T=M3T.stx;a3T=M3T.box;B3T=R3T.params.node.expand;p3T=e3T.chart.dataSet;H3T=e3T.chart.dataSegment;if(R3T.tick){C3T=[p3T[H3T[0] && H3T["0" << 1521509792].tick - 1],p3T[H3T[0] && H3T[0].tick - 2]];X3T=e3T.getFirstLastDataRecord(C3T.concat(H3T),"Date");F4e.U5m(62);var x8t=F4e.x5m(6,1,13,8);F4e.U5m(4);var v8t=F4e.W5m(16,19,4);F4e.z5m(28);var Z8t=F4e.x5m(11,1,13);u3T=[p3T[H3T[H3T.length - x8t].tick + v8t],p3T[H3T[H3T.length - +"1"].tick + Z8t]];l3T=e3T.getFirstLastDataRecord(H3T.concat(u3T),"Date",! !1);N3T=X3T.DT <= p3T[R3T.tick].DT && p3T[R3T.tick].DT <= l3T.DT;}else {N3T=!1;}if(!R3T.highlight && !R3T.active){N3T=!"1";}B3T.style.visibility=N3T?"":"hidden";if(!N3T){return;}n3T=e3T.panels[M3T.panelName];Q3T=B3T.rects;F4e.U5m(51);var J8t=F4e.x5m(3,16,46,1);w3T=Q3T.height / J8t;E3T=R3T.node.params.infoOffset || 0;if(R3T.node.params.infoOnLeft){o3T=a3T.x0 - Q3T.width - E3T < n3T.left?a3T.x1 + E3T:a3T.x0 - Q3T.width - E3T;}else {o3T=a3T.x0 + Q3T.width > n3T.right?a3T.x0 - Q3T.width - E3T:a3T.x1 + E3T;}o3T-=e3T.chart.left;c3T=a3T.y0 - w3T >= n3T.top?a3T.y0 + a3T.midY - w3T:a3T.y0;if(!M3T.avoidFlush && a3T.y1 + a3T.stemHeight === n3T.yAxis.bottom && Q3T.height > a3T.y1 - a3T.y0 + a3T.stemHeight){c3T=a3T.y1 - Q3T.height + a3T.stemHeight;}c3T-=e3T.chart.panel.top;V3T=E39 + Math.floor(o3T) + "px) translateY(" + Math.floor(c3T) + "px) translateZ(0)";F4e.q9e();B3T.style.transform=V3T;B3T.transform={translateX:o3T,translateY:c3T};};y6T.Marker.Performance.prototype.quickCache=function(i3T){var R4e=a2ww;var O3T,L3T,P3T,m3T,s19,b19,f19;O3T=i3T.params.node;L3T=O3T.expand;P3T=i3T.style;m3T=y6T.stripPX(P3T.marginLeft) + y6T.stripPX(P3T.marginRight) + y6T.stripPX(P3T.borderRight) + y6T.stripPX(P3T.borderLeft);L3T.rects=L3T.getBoundingClientRect();R4e.U5m(22);s19=R4e.x5m("1903466233",1364234265);b19=-686214290;f19=2;for(var h19=1;R4e.y89(h19.toString(),h19.toString().length,90735) !== s19;h19++){L3T.scrollBarWidth=L3T.rects.width / L3T.clientWidth * m3T;R4e.U5m(18);f19+=R4e.W5m(1,"2");}if(R4e.y89(f19.toString(),f19.toString().length,28894) !== b19){L3T.scrollBarWidth=L3T.rects.width + L3T.clientWidth + m3T;}L3T.scrollBarWidth=L3T.rects.width - L3T.clientWidth - m3T;};y6T.Marker.Performance.prototype.calculateYPosition=function(f3T){var W39,T3T,k3T,b3T,Y3T,g3T,t3T,r3T,v3T,F3T,S3T,s3T,D3T,y3T,W3T,G3T;W39="below";W39+="_candle";T3T=f3T.marker;k3T=f3T.panel;b3T=f3T.height;Y3T=f3T.half;g3T=f3T.offset;t3T=f3T.inverted;r3T=T3T.params.stx;v3T=r3T.chart;F3T=r3T.chart.highLowBars;S3T=v3T.dataSet[T3T.tick];a2ww.b9e();if(!S3T){return;}s3T=F3T?S3T.High:S3T.Close;D3T=T3T.params.yPositioner;switch(D3T){case "value":if(T3T.params.y || T3T.params.y === 0){y3T=r3T.pixelFromPrice(T3T.params.y,k3T) - b3T * 0.5 + Y3T;}else {y3T=r3T.pixelFromPrice(s3T,k3T) - g3T;}break;case "above_candle":y3T=r3T.pixelFromPrice(s3T,k3T) - g3T;break;case W39:y3T=r3T.pixelFromPrice(S3T.Low || s3T,k3T);if(t3T && g3T){y3T+=g3T;}else {y3T+=Y3T;}break;case "on_candle":(W3T=S3T.High || S3T.Close,G3T=S3T.Low || S3T.Low === 0 || S3T.Close);a2ww.z5m(98);var L8t=a2ww.W5m(5,0,7,3);y3T=r3T.pixelFromPrice((W3T + G3T) / +"2",k3T) - b3T * ("0.5" * L8t) + Y3T;break;case "top":y3T=r3T.pixelFromPrice(k3T.yAxis.high,k3T);if(t3T && g3T){y3T+=g3T;}else {y3T+=Y3T;}break;case "bottom":y3T=r3T.pixelFromPrice(k3T.yAxis.low,k3T) - (g3T || Y3T);break;default:break;}return y3T;};y6T.Marker.Performance.prototype.prepareForHolder=function(h3T){var z3T,A3T;z3T=this.expand;A3T=h3T.params.stx;z3T.classList.add(this.params.type);A3T.markerHelper.domMarkers.push(h3T);return z3T;};y6T.Marker.Performance.prototype.addToHolder=function(U3T){var x3T,Z3T;x3T=this.expand;Z3T=U3T.params.stx;y6T.Marker.Performance.reconstituteExpanded(Z3T);y6T.Marker.Performance.consolidateExpanded(Z3T);function J3T(d3T){Z3T.activeMarker=U3T;a2ww.b9e();Z3T.activeMarker.click({cx:d3T.clientX,cy:d3T.clientY,panel:Z3T.currentPanel});d3T.stopPropagation();}this.quickCache(U3T);a2ww.b9e();if(x3T.clickClosure){return;}x3T.addEventListener("mousedown",J3T);x3T.addEventListener("touchstart",J3T,{passive:![]});x3T.clickClosure=J3T;};y6T.Marker.Performance.prototype.remove=function(K5T){var I5T,j89,T89,e89,q5T,a5T,j5T;I5T=K5T.params.stx;if(!I5T){return;}a2ww.q9e();if(!I5T.markerHelper.domMarkers){return;}j89=1926211201;T89=1004371642;e89=2;for(var Y89=1;a2ww.y89(Y89.toString(),Y89.toString().length,39124) !== j89;Y89++){q5T=I5T.markerHelper.domMarkers.indexOf(K5T);e89+=2;}if(a2ww.P89(e89.toString(),e89.toString().length,55183) !== T89){q5T=I5T.markerHelper.domMarkers.indexOf(K5T);}if(q5T != -("1" >> 294172896)){I5T.markerHelper.domMarkers.splice(q5T,+"1");}if(K5T.attached){a5T=I5T.panels[K5T.params.panelName];j5T=K5T.params.node.expand;if(j5T.parentNode === a5T.subholder){a5T.subholder.removeChild(j5T);}j5T.removeEventListener("click",j5T.clickClosure);}};y6T.Marker.Performance.prototype.click=function(p5T){var e5T,E5T,H5T;if(!this.hasText){return;}if(typeof arguments[0] === "number"){p5T={cx:arguments[0],cy:arguments[1],marker:arguments["2" & 2147483647],panel:arguments[3]};}var {cx:Q5T, cy:M5T, marker:R5T, panel:B5T}=p5T;e5T=R5T.params.stx;if(R5T.attached){H5T=this.expand;if(H5T.rects.width - H5T.scrollBarWidth + H5T.transform.translateX < e5T.backOutX(Q5T) && e5T.backOutX(Q5T) < H5T.rects.width + H5T.transform.translateX){return;}this.remove(R5T);}else {e5T.addToHolder(R5T);E5T=! !"1";}R5T.attached=!R5T.attached;R5T.active=!R5T.active;if(E5T){R5T.stxNodeCreator.positionPopUpNode(R5T);}};}};Y6Q=n5T=>{var N5T;N5T=typeof _CIQ !== "undefined"?_CIQ:n5T.CIQ;N5T.Renderer.OHLC.requestNew=function(P5T,o5T){var z49,r49,B49,c5T,C5T,X5T,u5T,l5T,V5T,l39,L5T,O39,o39;z49=- +"1738798354";r49=-522073349;B49=2;for(var P49=1;a2ww.y89(P49.toString(),P49.toString().length,+"57660") !== z49;P49++){c5T=1;C5T=o5T.hlc;X5T=o5T.colored;u5T=o5T.hollow;l5T=o5T.volume;V5T=o5T.histogram;B49+=2;}if(a2ww.y89(B49.toString(),B49.toString().length,51956) !== r49){c5T=1;C5T=o5T.hlc;X5T=o5T.colored;u5T=o5T.hollow;l5T=o5T.volume;V5T=o5T.histogram;}c5T=null;C5T=o5T.hlc;X5T=o5T.colored;u5T=o5T.hollow;l5T=o5T.volume;V5T=o5T.histogram;for(var w5T="0" * 1;w5T < P5T.length;w5T++){l39="b";l39+="a";l39+="r";L5T=P5T[w5T];switch(L5T){case l39:case "candle":c5T=L5T;break;case "volume":l5T=! !1;break;case "hollow":u5T=! ![];break;case "colored":X5T=! !{};break;case "histogram":O39="ca";O39+="n";O39+="d";O39+="le";V5T=!0;c5T=O39;break;case "hlc":o39="b";o39+="a";o39+="r";C5T=! ![];c5T=o39;break;default:return null;}}if(c5T === null){return null;}return new N5T.Renderer.OHLC({params:N5T.extend(o5T,{type:c5T,hlc:C5T,colored:X5T,hollow:u5T,volume:l5T,histogram:V5T})});};N5T.Renderer.OHLC.getChartParts=function(g5T,S5T){var d39,a39,p39,H39,N39,F39,c39,k39,w39,M39,X39,Y39,G39,e39,T39,j39,i39,S39,A39,m39,q39,m5T,y5T,k5T,i5T,O5T,r5T;d39="h";d39+="ol";d39+="low";a39="stx_hollo";a39+="w_candle_dow";a39+="n";p39="border";p39+="_color_even";H39="fill_";H39+="color_up";N39="border_c";N39+="olor_even";F39="h";F39+="ollo";F39+="w";c39="stx_hol";c39+="low_candle_";c39+="up";k39="b";k39+="order_color_down";w39="bor";w39+="d";w39+="er_color_";w39+="up";M39="f";M39+="ill_";M39+="color_u";M39+="p";X39="can";X39+="dle";Y39="candl";Y39+="e";G39="border_";G39+="color_up";e39="stx_can";e39+="dle";e39+="_shadow";T39="sh";T39+="a";T39+="d";T39+="ow";j39="ba";j39+="r";i39="borde";i39+="r_color_up";S39="b";S39+="a";S39+="r";A39="b";A39+="ar";m39="stx_bar";m39+="_c";m39+="hart";q39="stx_histogram_eve";q39+="n";m5T=1;y5T=2;k5T=4;i5T=8;O5T=+"16";r5T=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:i5T,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:! !1},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:O5T,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:q39,condition:r5T,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:!0,useBorderStyleProp:! !"1"},{type:"bar",drawType:"bar",style:g5T || m39,border:"border_color",useColorInMap:! !"1"},{type:A39,drawType:S39,style:"stx_bar_up",condition:S5T?i5T:m5T,border:i39,useColorInMap:!""},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:S5T?O5T:y5T,border:"border_color_down",useColorInMap:! ![]},{type:"bar",drawType:j39,style:"stx_bar_even",condition:S5T?r5T:k5T,border:"border_color_even",skipIfPass:! ![],useColorInMap:! ![]},{type:"candle",drawType:T39,style:e39,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:i5T,border:G39},{type:Y39,drawType:"shadow",style:"stx_candle_shadow_down",condition:O5T,border:"border_color_down"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:r5T,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:X39,style:"stx_candle_up",condition:i5T,fill:M39,border:w39,useColorInMap:! ![],useBorderStyleProp:! ![]},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:O5T,fill:"fill_color_down",border:k39,useColorInMap:! !"1",useBorderStyleProp:! !"1"},{type:"hollow",drawType:"shadow",style:c39,condition:m5T,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:y5T,border:"border_color_down"},{type:F39,drawType:"shadow",style:"stx_hollow_candle_even",condition:k5T,border:N39,skipIfPass:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:m5T | O5T,fill:H39,border:"border_color_up",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:y5T | O5T,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:k5T | O5T,fill:"fill_color_even",border:p39,skipIfPass:! !{},useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:m5T | i5T,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:a39,condition:y5T | i5T,fill:"fill_color_down",border:"border_color_down"},{type:d39,drawType:"candle",style:"stx_hollow_candle_even",condition:k5T | i5T,fill:"fill_color_even",border:"border_color_even"}];;};N5T.Renderer.Bars=function(f5T){var T5T;this.construct(f5T);T5T=this.params;T5T.type="bar";a2ww.q9e();this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];T5T.hlc=T5T.volume=T5T.hollow=T5T.histogram=! !0;};N5T.inheritsFrom(N5T.Renderer.Bars,N5T.Renderer.OHLC,![]);N5T.Renderer.HLC=function(s5T){var Y5T;this.construct(s5T);Y5T=this.params;Y5T.type="bar";Y5T.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;Y5T.volume=Y5T.hollow=Y5T.histogram=!"1";};N5T.inheritsFrom(N5T.Renderer.HLC,N5T.Renderer.Bars,!1);N5T.Renderer.Shading=function(b5T){var x39;x39="range";x39+="channe";a2ww.b9e();x39+="l";this.construct(b5T);this.beenSetup=!{};this.errTimeout=null;this.params.useChartLegend=![];this.shading=[];if(this.params.type == x39){this.highLowBars=! ![];}};N5T.inheritsFrom(N5T.Renderer.Shading,N5T.Renderer.Lines,! !"");N5T.Renderer.Shading.requestNew=function(W5T,G5T){var e2e=a2ww;var t09,s09,b09,t5T,F5T,v39,D5T;t09=-1592415773;s09=902139151;b09=2;for(var g09=1;e2e.y89(g09.toString(),g09.toString().length,69614) !== t09;g09++){t5T=null;F5T=null;b09+=2;}if(e2e.P89(b09.toString(),b09.toString().length,91102) !== s09){e2e.z5m(7);t5T=e2e.x5m(235058048,"1");F5T=1;}for(var v5T=0;v5T < W5T.length;v5T++){v39="s";v39+="t";v39+="e";v39+="p";D5T=W5T[v5T];if(D5T == "rangechannel"){t5T="rangechannel";}else if(D5T == v39){F5T=! ![];}}if(t5T === null){return null;}return new N5T.Renderer.Shading({params:N5T.extend(G5T,{type:t5T,step:F5T})});};N5T.Renderer.Shading.prototype.setShading=function(z5T){if(z5T.constructor != Array){z5T=[z5T];}this.shading=z5T;};N5T.Renderer.Shading.prototype.draw=function(){var L2e=a2ww;var R9c,x5T,h5T,U5T,J39,Z39,e9T,d5T,Q9T,j9T,L39,p9T,J5T,Z5T,q9T,t9c,a9T,E9T,b9c,s9c,A5T,K9T,R9T,H9T,I9T;R9c="rangecha";function M9T(n9T){var B9T,o9T,N9T;B9T=J5T[n9T];if(B9T){o9T=B9T.parameters.field;N9T=B9T.parameters.subField;L2e.U5m(2);return L2e.W5m(o9T,N9T?"." + N9T:"");}return n9T;}R9c+="nn";R9c+="e";R9c+="l";x5T=this.stx;h5T=this.params;U5T=x5T.panels[h5T.panel].chart;L2e.q9e();if(h5T.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {J39="Sh";J39+="adin";J39+="g";Z39="a";Z39+="u";Z39+="t";Z39+="o";this.beenSetup=! ![];h5T.display=this.seriesParams[0].display;h5T.yAxis=this.seriesParams[+"0"].yAxis;e9T=this.seriesParams[0].color || Z39;d5T=this.seriesParams[0].symbol;Q9T="";if(d5T){L2e.z5m(2);Q9T=L2e.x5m(d5T,(+"6620",8410) >= 8460?(6.42e+3,! !{}):9990 === (590.39,851.06)?"C":644.23 > 9156?(215,! !{}):".");}this.removeAllSeries(! ![]);j9T=h5T.name;x5T.addSeries(null,{symbol:d5T,loadData:! !d5T,field:"High",renderer:J39,name:j9T,style:"stx_line_up",display:h5T.display,shareYAxis:!""});x5T.addSeries(null,{symbol:d5T,loadData:! !d5T,field:"Low",renderer:"Shading",name:j9T,style:"stx_line_down",display:h5T.display,shareYAxis:! ![]});this.setShading({primary:this.seriesParams["0" ^ 0].id,secondary:this.seriesParams["1" ^ 0].id,color:e9T});}}if(!this.shading){if(!this.errTimeout){L39="Warn";L39+="ing: no shading scheme set.  Use myRenderer.setShading(scheme";L39+=") to set.";console.log(L39);p9T=this;this.errTimeout=setTimeout(function(){p9T.errTimeout=null;},10000);}}J5T={};for(Z5T=0;Z5T < this.seriesParams.length;Z5T++){q9T={};if(U5T.series[this.seriesParams[Z5T].id]){q9T=N5T.clone(U5T.series[this.seriesParams[Z5T].id].parameters);}J5T[this.seriesParams[Z5T].id]={parameters:N5T.extend(N5T.extend(q9T,h5T),this.seriesParams[Z5T]),yValueCache:this.caches[this.seriesParams[Z5T].id]};}x5T.drawSeries(U5T,J5T,h5T.yAxis,this);if(U5T.legend && h5T.type == R9c){t9c="stx_";t9c+="li";t9c+="ne";t9c+="_up";if(!U5T.legend.colorMap){U5T.legend.colorMap={};}a9T=h5T.display;E9T=[x5T.getCanvasColor(t9c),x5T.getCanvasColor("stx_line_down")];U5T.legend.colorMap[a9T]={color:E9T,display:a9T,isBase:this == x5T.mainSeriesRenderer};;}for(Z5T in J5T){this.caches[Z5T]=J5T[Z5T].yValueCache;}for(Z5T=0;Z5T < this.shading.length;Z5T++){b9c="C";b9c+="l";b9c+="ose";s9c="a";s9c+="u";s9c+="t";s9c+="o";A5T=this.shading[Z5T];K9T=A5T.color;if(A5T.color == s9c){K9T=x5T.defaultColor;}if(!A5T.primary){A5T.primary="Close";}if(!A5T.secondary && this.seriesParams[0]){A5T.secondary=this.seriesParams[0].field;}if(!A5T.secondary)continue;else if(!J5T[A5T.primary] && A5T.primary != "Close")continue;else if(!J5T[A5T.secondary])continue;else if(A5T.primary == b9c && h5T.yAxis && h5T.yAxis != U5T.yAxis)continue;R9T=M9T(A5T.primary).split(".");H9T=M9T(A5T.secondary).split((440.44,930.89) <= 102.89?! ![]:(526.49,7960) == (4730,"7206" & 2147483647)?(![],!0):".");I9T={topBand:R9T[0],topSubBand:R9T[1],topColor:A5T.greater || K9T || x5T.containerColor,topAxis:h5T.yAxis,bottomBand:H9T[0],bottomSubBand:H9T[1],bottomColor:A5T.lesser || K9T || x5T.containerColor,bottomAxis:A5T.primary == "Close"?null:h5T.yAxis,tension:h5T.tension || U5T.tension,opacity:0.1,step:h5T.step};if(!I9T.topColor && !I9T.bottomColor)continue;if(!h5T.highlight && x5T.highlightedDraggable){L2e.U5m(18);I9T.opacity*=L2e.x5m(1,"0.3");}N5T.fillIntersecting(x5T,h5T.panel,I9T);}};N5T.Renderer.Histogram=function(c9T){var f9c,g9c;f9c="h";f9c+="ist";f9c+="ogr";f9c+="am";this.construct(c9T);a2ww.b9e();this.params.type=f9c;this.barsHaveWidth=this.standaloneBars=!"";if(this.params.yAxis){g9c="n";g9c+="um";g9c+="b";g9c+="er";this.params.bindToYAxis=! !{};if(typeof this.params.yAxis.baseline == g9c){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};N5T.inheritsFrom(N5T.Renderer.Histogram,N5T.Renderer,!{});N5T.Renderer.Histogram.prototype.adjustYAxis=function(){var w9T;a2ww.b9e();w9T=this.params.yAxis;if(!w9T || w9T.baseline){return;}w9T.min=0;w9T.highValue/=this.params.heightPercentage || 1;};N5T.Renderer.Histogram.prototype.draw=function(){var C9T,X9T,h9c,u9T,l9T;C9T=N5T.clone(this.params);C9T.type=C9T.subtype;this.useSum=C9T.subtype == "stacked";if(!C9T.yAxis || C9T.yAxis == this.stx.chart.yAxis){C9T.bindToYAxis=! ![];}this.stx.drawHistogram(C9T,this.seriesParams);X9T=C9T.yAxis && C9T.yAxis.baseline;if(X9T && X9T.color){h9c="destin";h9c+="a";h9c+="tion-";h9c+="over";u9T=this.stx.panels[this.params.panel];l9T=this.stx.pixelFromPrice(X9T.value,u9T,this.params.yAxis) - +"0.5";this.stx.plotLine({x0:u9T.left,x1:u9T.right,y0:l9T,y1:l9T,color:X9T.color,type:"line",context:u9T.chart.context,confineToPanel:u9T,pattern:X9T.pattern || "solid",lineWidth:X9T.lineWidth || "1" * 1,opacity:X9T.opacity || 0.8,globalCompositeOperation:h9c});}};N5T.Renderer.Histogram.prototype.getBasis=function(O9T,m9T,y9T){var P9T,i9T,V9T;P9T=0;a2ww.b9e();if(O9T && this.useSum){for(var L9T=0;L9T < this.seriesParams.length;L9T++){i9T=this.seriesParams[L9T].field;if(i9T === m9T)break;V9T=O9T[i9T];if(V9T && typeof V9T === "object"){V9T=V9T[y9T || this.seriesParams[L9T].subField || this.stx.chart.defaultPlotField || "Close"];}if(V9T){P9T+=V9T;}}}return P9T;};N5T.Renderer.Heatmap=function(k9T){this.construct(k9T);this.params.type="heatmap";this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! !"1";};N5T.inheritsFrom(N5T.Renderer.Heatmap,N5T.Renderer,![]);N5T.Renderer.Heatmap.requestNew=function(g9T,f9T){var r9T,T9T;r9T=null;for(var S9T=0;S9T < g9T.length;S9T++){T9T=g9T[S9T];if(T9T == "heatmap"){r9T="heatmap";}}if(r9T === null){return null;}return new N5T.Renderer.Heatmap({params:N5T.extend(f9T,{type:r9T})});};N5T.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(N5T.clone(this.params),this.seriesParams);};N5T.Renderer.Scatter=function(Y9T){this.construct(Y9T);this.standaloneBars=this.barsHaveWidth=!0;this.bounded=! ![];};N5T.inheritsFrom(N5T.Renderer.Scatter,N5T.Renderer.Lines,![]);N5T.Renderer.Scatter.requestNew=function(t9T,F9T){var s9T,v9T;s9T=null;a2ww.q9e();for(var b9T=0;b9T < t9T.length;b9T++){v9T=t9T[b9T];if(v9T == "scatterplot"){s9T="scatter";}}if(s9T === null){return null;}return new N5T.Renderer.Scatter({params:N5T.extend(F9T,{type:s9T})});};N5T.Renderer.Scatter.prototype.drawIndividualSeries=function(z9T,W9T){var G9T,D9T;a2ww.q9e();G9T=this.stx.panels[W9T.panel] || z9T.panel;D9T={colors:[]};if(this.stx.scatter){D9T=this.stx.scatter(G9T,W9T);}else {console.warn("Error, Scatter renderer requires customChart.js");}return D9T;};};s6Q=A9T=>{var h9T,n9c;a2ww.q9e();h9T=typeof _CIQ !== "undefined"?_CIQ:A9T.CIQ;if(!h9T.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {n9c="Accumul";n9c+="ation/Distri";n9c+="bution";h9T.Studies.calculateAccumulationDistribution=function(j8T,J9T){var E4e=a2ww;E4e.b9e();var K8T,I9c,Z9T,U9T,d9T,I8T;K8T=J9T.chart.scrubbed;for(var x9T=J9T.startFrom;x9T < K8T.length;x9T++){I9c="R";I9c+="esu";I9c+="l";I9c+="t ";if(!x9T)continue;Z9T=K8T[x9T];if(Z9T.futureTick)break;E4e.z5m(6);U9T=K8T[E4e.W5m(x9T,1)];E4e.U5m(6);d9T=E4e.W5m("0",0);if(Z9T.Close > U9T.Close){d9T=Z9T.Close - Math.min(Z9T.Low,U9T.Close);}else if(Z9T.Close < U9T.Close){d9T=Z9T.Close - Math.max(Z9T.High,U9T.Close);}if(J9T.inputs["Use Volume"]){d9T*=Z9T.Volume;}I8T=U9T["Result " + J9T.name];if(!I8T){I8T=0;}I8T+=d9T;if(!isNaN(Z9T.Close)){Z9T[I9c + J9T.name]=I8T;}}};h9T.Studies.studyLibrary=h9T.extend(h9T.Studies.studyLibrary,{"W Acc Dist":{name:n9c,calculateFN:h9T.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":! !""}}});}};b6Q=a8T=>{a2ww.b9e();var C9c,q8T,z9c,u9c;C9c="un";C9c+="d";C9c+="efine";C9c+="d";q8T=typeof _CIQ !== C9c?_CIQ:a8T.CIQ;if(!q8T.Studies){z9c="a";z9c+="dx feature requires first activatin";z9c+="g studie";z9c+="s feature.";console.error(z9c);}else {u9c="a";u9c+="u";u9c+="t";u9c+="o";q8T.Studies.calculateADX=function(V8T,R8T){var z4e=a2ww;var r9c,Q8T,p8T,E8T,n8T,o8T,c8T,w8T,H8T,D9c,M8T,B8T,B9c,C8T,X8T,u8T,P9c,U9c,Q9c,K9c,y9c,l8T;r9c="Smoothin";r9c+="g Period";q8T.Studies.calculateStudyATR(V8T,R8T);Q8T=R8T.chart.scrubbed;p8T=R8T.days;z4e.b9e();E8T=parseInt(R8T.inputs[r9c],"10" | 10);if(!E8T && E8T !== 0){E8T=p8T;}if(Q8T.length < R8T.days + +"1"){R8T.error=! ![];return;}n8T=0;o8T=0;c8T=0;w8T=0;for(var e8T=Math.max(+"1",R8T.startFrom);e8T < Q8T.length;e8T++){D9c="+DI";D9c+=" ";H8T=Q8T[e8T];M8T=Math.max(0,H8T.High - Q8T[e8T - 1].High);z4e.z5m(46);B8T=Math.max(z4e.x5m("0",200261440),Q8T[e8T - ("1" >> 1096418752)].Low - H8T.Low);if(M8T > B8T){B8T=0;}else if(B8T > M8T){M8T=+"0";}else {M8T=B8T=+"0";}if(e8T <= p8T){o8T+=M8T;c8T+=B8T;n8T+=H8T["True Range " + R8T.name];}else {B9c="_s";B9c+="m";B9c+="-D";B9c+="M ";z4e.U5m(6);var R2t=z4e.W5m(19,18);z4e.z5m(105);var t2t=z4e.W5m(12,18,12,19,1);o8T=Q8T[e8T - R2t]["_sm+DM " + R8T.name] * (p8T - t2t) / p8T + M8T;z4e.z5m(45);var s2t=z4e.W5m(11,5,6,11);c8T=Q8T[e8T - s2t][B9c + R8T.name] * (p8T - ("1" ^ 0)) / p8T + B8T;z4e.z5m(106);var b2t=z4e.x5m(25,12,10,5);n8T=Q8T[e8T - b2t]["_smTR " + R8T.name] * (p8T - +"1") / p8T + H8T["True Range " + R8T.name];}H8T["_sm+DM " + R8T.name]=o8T;H8T["_sm-DM " + R8T.name]=c8T;H8T["_smTR " + R8T.name]=n8T;if(e8T < p8T)continue;z4e.U5m(107);C8T=z4e.W5m(o8T,"100",n8T);z4e.U5m(94);X8T=z4e.W5m(c8T,n8T,100);z4e.U5m(8);var f2t=z4e.x5m(8,94,14);u8T=f2t * Math.abs(C8T - X8T) / (C8T + X8T);H8T[D9c + R8T.name]=C8T;H8T["-DI " + R8T.name]=X8T;if(R8T.inputs.Series !== ![] && E8T){if(e8T < p8T + E8T - 1){if(e8T == R8T.startFrom){for(var N8T=p8T;N8T < R8T.startFrom;N8T++){P9c="-";P9c+="D";P9c+="I";P9c+=" ";w8T+=100 * Math.abs(Q8T[N8T]["+DI " + R8T.name] - Q8T[N8T][P9c + R8T.name]) / (Q8T[N8T]["+DI " + R8T.name] + Q8T[N8T]["-DI " + R8T.name]);}}w8T+=u8T;}else if(e8T == p8T + E8T - ("1" | 0)){z4e.z5m(16);H8T["ADX " + R8T.name]=z4e.W5m(E8T,w8T);}else {z4e.z5m(1);var g2t=z4e.x5m(0,19,2,39);z4e.z5m(6);var h2t=z4e.W5m(14,13);H8T["ADX " + R8T.name]=(Q8T[e8T - g2t]["ADX " + R8T.name] * (E8T - h2t) + u8T) / E8T;}}if(R8T.inputs.Histogram){U9c="-D";U9c+="I";U9c+=" ";Q9c="-DI";Q9c+=" ";K9c="-";K9c+="D";K9c+="I ";y9c="+";y9c+="DI";y9c+=" ";l8T=R8T.name + "_hist";if(!H8T["+DI " + R8T.name] && H8T[y9c + R8T.name] !== 0)continue;if(!H8T[K9c + R8T.name] && H8T[Q9c + R8T.name] !== 0)continue;H8T[l8T]=H8T["+DI " + R8T.name] - H8T[U9c + R8T.name];if(R8T.inputs.Series === !{}){H8T["+DI " + R8T.name]=null;H8T["-DI " + R8T.name]=null;}R8T.outputMap[l8T]="";}}};q8T.Studies.displayADX=function(P8T,L8T,k8T){a2ww.b9e();var V9c,r8T,i8T,O8T,S8T,g8T,m8T,y8T;V9c=":";V9c+=" ";r8T=L8T.underlay?0.3:L8T.inputs.Series?0.4:1;if(L8T.inputs.Series && L8T.inputs.Shading){i8T="+DI " + L8T.name;O8T="-DI " + L8T.name;S8T=q8T.Studies.determineColor(L8T.outputs[L8T.outputMap[i8T]]);g8T=q8T.Studies.determineColor(L8T.outputs[L8T.outputMap[O8T]]);m8T=L8T.getYAxis(P8T);y8T={topBand:i8T,bottomBand:O8T,topColor:S8T,bottomColor:g8T,skipTransform:P8T.panels[L8T.panel].name != L8T.chart.name,topAxis:m8T,bottomAxis:m8T,opacity:+"0.3"};if(!L8T.highlight && P8T.highlightedDraggable){y8T.opacity*=0.3;}q8T.fillIntersecting(P8T,L8T.panel,y8T);}if(L8T.inputs.Histogram){q8T.Studies.createHistogram(P8T,L8T,k8T,!{},r8T);}if(L8T.inputs.Series !== ! !0){q8T.Studies.displaySeriesAsLine(P8T,L8T,k8T);}else if(!L8T.inputs.Series && !L8T.inputs.Histogram){P8T.displayErrorAsWatermark(L8T.panel,P8T.translateIf(L8T.name) + V9c + P8T.translateIf("Nothing to display"));}};q8T.Studies.studyLibrary=q8T.extend(q8T.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:q8T.Studies.calculateADX,seriesFN:q8T.Studies.displayADX,inputs:{Period:14,"Smoothing Period":+"14",Series:!"",Shading:!{},Histogram:!{}},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:u9c,"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};t6Q=f8T=>{var T8T,Y9c,G9c,e9c,T9c;T8T=typeof _CIQ !== "undefined"?_CIQ:f8T.CIQ;if(!T8T.Studies){console.error("alligator feature requires first activating studies feature.");}else {Y9c="#F";Y9c+="F00";Y9c+="00";G9c="#00DD";G9c+="00";e9c="Gator";e9c+=" Oscillator";T9c="#0";T9c+="0";T9c+="DD00";T8T.Studies.calculateAlligator=function(W8T,b8T){var U4e=a2ww;var l9c,W9c,E9c,t8T,B19,D19,P19,Y8T,m9c,q9c,o9c,O9c,A9c,F8T,D8T,v8T;l9c="Lips Perio";l9c+="d";W9c="T";W9c+="eeth Per";W9c+="i";W9c+="od";E9c="Jaw Pe";E9c+="ri";E9c+="od";t8T={J:Number(b8T.inputs[E9c]),T:Number(b8T.inputs[W9c]),L:Number(b8T.inputs[l9c])};U4e.U5m(22);B19=U4e.W5m("1660269552",1118834896);D19=-359593516;U4e.U5m(6);P19=U4e.W5m("2",0);for(var K19=1;U4e.P89(K19.toString(),K19.toString().length,70688) !== B19;K19++){Y8T=b8T.chart.scrubbed;P19+=2;}if(U4e.P89(P19.toString(),P19.toString().length,+"615") !== D19){Y8T=b8T.chart.scrubbed;}Y8T=b8T.chart.scrubbed;if(Y8T.length < Math.max(t8T.J,t8T.T,t8T.L) + 1){b8T.error=! !{};return;}if(b8T.type === "Gator" || b8T.inputs["Show Lines"]){m9c="Te";m9c+="eth Of";m9c+="fset";q9c="wel";q9c+="le";q9c+="s wilder";o9c="hl/";o9c+="2";O9c="welle";O9c+="s";O9c+=" wi";O9c+="lder";T8T.Studies.MA(O9c,t8T.J,o9c,b8T.inputs["Jaw Offset"],"Jaw",W8T,b8T);T8T.Studies.MA(q9c,t8T.T,"hl/2",b8T.inputs[m9c],"Teeth",W8T,b8T);T8T.Studies.MA("welles wilder",t8T.L,"hl/2",b8T.inputs["Lips Offset"],"Lips",W8T,b8T);}for(var s8T=b8T.startFrom;s8T < Y8T.length;s8T++){A9c="Gat";A9c+="o";A9c+="r";if(!Y8T[s8T])continue;if(b8T.type == A9c){F8T=Y8T[s8T]["Jaw " + b8T.name];D8T=Y8T[s8T]["Lips " + b8T.name];v8T=Y8T[s8T]["Teeth " + b8T.name];if(v8T || v8T === 0){if(F8T || F8T === 0){U4e.z5m(6);Y8T[s8T][b8T.name + "_hist1"]=Math.abs(U4e.W5m(F8T,v8T));}if(D8T || D8T === +"0"){U4e.z5m(6);Y8T[s8T][b8T.name + "_hist2"]=-Math.abs(U4e.x5m(v8T,D8T));}}b8T.outputMap={};b8T.outputMap[b8T.name + "_hist1"]="";b8T.outputMap[b8T.name + "_hist2"]="";}if(b8T.inputs["Show Fractals"]){if(!Y8T[s8T - +"2"] || !Y8T[s8T - 1] || !Y8T[s8T] || !Y8T[s8T + +"1"] || !Y8T[s8T + 2])continue;if(Y8T[s8T - 2].High && Y8T[s8T - 1].High && Y8T[s8T].High && Y8T[s8T + 1].High && Y8T[s8T + 2].High){if(Y8T[s8T].High > Y8T[s8T - 1].High && Y8T[s8T].High > Y8T[s8T - +"2"].High && Y8T[s8T].High > Y8T[s8T + 1].High && Y8T[s8T].High > Y8T[s8T + 2].High){Y8T[s8T]["Fractal High " + b8T.name]=1;}}if(Y8T[s8T - +"2"].Low && Y8T[s8T - 1].Low && Y8T[s8T].Low && Y8T[s8T + 1].Low && Y8T[s8T + 2].Low){if(Y8T[s8T].Low < Y8T[s8T - 1].Low && Y8T[s8T].Low < Y8T[s8T - 2].Low && Y8T[s8T].Low < Y8T[s8T + 1].Low && Y8T[s8T].Low < Y8T[s8T + 2].Low){Y8T[s8T]["Fractal Low " + b8T.name]=1;}}}}};T8T.Studies.displayAlligator=function(G8T,A8T,Z8T){var s4e=a2ww;var z8T,Q19,U19,V19,i9c;z8T=A8T.getContext(G8T);if(A8T.inputs["Show Lines"]){T8T.Studies.displaySeriesAsLine(G8T,A8T,Z8T);}function x8T(d8T,I1s){var J8T,U8T,S9c,e79,G79,Y79;U8T=G8T.chart.panel.yAxis.flipped;if(d8T == "high"){S9c="bott";S9c+="o";S9c+="m";z8T.fillStyle=G8T.defaultColor;z8T.textBaseline=U8T?"top":S9c;J8T=G8T.pixelFromPrice(Z8T[I1s].High);z8T.fillText(U8T?("7900" << 1097639744,551.13) != 2500?"\u25BC":0x984:"\u25B2",G8T.pixelFromBar(h8T,G8T.chart) - z8T.measureText("\u25B2").width / 2 + 1,U8T?J8T + 5:J8T - 5);s4e.z5m(7);e79=s4e.x5m(4905024,"329763343");s4e.U5m(7);G79=-s4e.x5m(372609280,"1898478636");s4e.z5m(18);Y79=s4e.x5m(1,"2");for(var M79=1;s4e.P89(M79.toString(),M79.toString().length,75746) !== e79;M79++){;Y79+=2;}if(s4e.P89(Y79.toString(),Y79.toString().length,63567) !== G79){;}}else if(d8T == "low"){z8T.fillStyle=G8T.defaultColor;z8T.textBaseline=U8T?"bottom":"top";J8T=G8T.pixelFromPrice(Z8T[I1s].Low);z8T.fillText(U8T?(3981,950.71) > 5304?(2.82e+3,"0x10c3" | 4288):7315 === (5419,"326" ^ 0)?! ![]:(685,"2960" ^ 0) >= (4410,5580)?588.11:"\u25B2":"\u25BC",G8T.pixelFromBar(h8T,G8T.chart) - z8T.measureText((777,7250) < (364.29,978.97)?"V":"\u25BC").width / 2 + +"1",U8T?J8T - ("5" ^ 0):J8T + 5);;}}s4e.q9e();if(A8T.inputs["Show Fractals"]){Q19=1870430112;s4e.z5m(0);U19=s4e.x5m("568792313",2147483647);V19=2;for(var E19=1;s4e.P89(E19.toString(),E19.toString().length,"2340" * 1) !== Q19;E19++){G8T.startClip();z8T.globalAlpha=A8T.underlay?+"581":8;if(-A8T.highlight || G8T.highlightedDraggable){z8T.globalAlpha%=395;}V19+=2;}if(s4e.y89(V19.toString(),V19.toString().length,"44741" * 1) !== U19){G8T.startClip();z8T.globalAlpha=A8T.underlay?410:"2" - 0;if(~A8T.highlight && G8T.highlightedDraggable){s4e.z5m(6);z8T.globalAlpha-=s4e.W5m("677",0);}}G8T.startClip();z8T.globalAlpha=A8T.underlay?+"0.3":1;if(!A8T.highlight && G8T.highlightedDraggable){s4e.z5m(18);z8T.globalAlpha*=s4e.x5m(1,"0.3");}for(var h8T=2;h8T < Z8T.length - 2;h8T++){if(Z8T[h8T]){i9c="lo";i9c+="w";if(Z8T[h8T]["Fractal High " + A8T.name]){x8T("high",h8T);}if(Z8T[h8T]["Fractal Low " + A8T.name]){x8T(i9c,h8T);}}}G8T.endClip();}};T8T.Studies.displayGator=function(j1s,K1s,E1s){var y4e=a2ww;var p1s,a1s,M1s,B1s,e1s,N1s,n1s,H1s,Q1s,j9c;p1s=j1s.panels[K1s.panel];a1s=K1s.getContext(j1s);M1s=K1s.getYAxis(j1s);B1s=j1s.pixelFromPrice(0,p1s,M1s);y4e.z5m(56);var I2t=y4e.x5m(28,1,28,1);e1s=j1s.layout.candleWidth - I2t;if(e1s < 2){e1s=1;}N1s=T8T.Studies.determineColor(K1s.outputs["Increasing Bar"]);n1s=T8T.Studies.determineColor(K1s.outputs["Decreasing Bar"]);j1s.canvasColor("stx_histogram");if(!K1s.underlay){y4e.z5m(14);a1s.globalAlpha=y4e.x5m(0,"1");}a1s.fillStyle="#CCCCCC";j1s.startClip(K1s.panel);if(!K1s.highlight && j1s.highlightedDraggable){y4e.z5m(6);a1s.globalAlpha*=y4e.x5m("0.3",0);}for(var R1s=0;R1s < E1s.length;R1s++){H1s=E1s[R1s];y4e.z5m(6);Q1s=E1s[y4e.W5m(R1s,1)];if(!H1s)continue;for(var q1s=1;q1s <= 2;q1s++){j9c="#C";j9c+="C";j9c+="CCC";j9c+="C";if(!Q1s){Q1s=j1s.getPreviousBar(j1s.chart,K1s.name + "_hist" + q1s,R1s);}if(!Q1s){a1s.fillStyle=j9c;}else if(Math.abs(Q1s[K1s.name + "_hist" + q1s]) < Math.abs(H1s[K1s.name + "_hist" + q1s])){a1s.fillStyle=N1s;}else if(Math.abs(Q1s[K1s.name + "_hist" + q1s]) > Math.abs(H1s[K1s.name + "_hist" + q1s])){a1s.fillStyle=n1s;}if(H1s.candleWidth){e1s=Math.floor(Math.max(+"1",H1s.candleWidth - 2));}a1s.fillRect(Math.floor(j1s.pixelFromBar(R1s,p1s.chart) - e1s / ("2" << 307041376)),Math.floor(B1s),Math.floor(e1s),Math.floor(j1s.pixelFromPrice(H1s[K1s.name + "_hist" + q1s],p1s,M1s) - B1s));}}j1s.endClip();};T8T.Studies.studyLibrary=T8T.extend(T8T.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! ![],seriesFN:T8T.Studies.displayAlligator,calculateFN:T8T.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":"13" ^ 0,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":"3" & 2147483647,"Show Fractals":! !""},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:T9c}},Gator:{name:e9c,seriesFN:T8T.Studies.displayGator,calculateFN:T8T.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":+"8","Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":G9c,"Decreasing Bar":Y9c},centerline:0}});}};v6Q=c1s=>{var o1s,n79,C79,z79;o1s=typeof _CIQ !== "undefined"?_CIQ:c1s.CIQ;if(!o1s.Studies){n79=797600963;C79=-1818867527;z79=2;for(var B79=1;a2ww.y89(B79.toString(),B79.toString().length,59532) !== n79;B79++){console.error("aroon feature requires first activating studies feature.");z79+=2;}if(a2ww.y89(z79.toString(),z79.toString().length,6266) !== C79){console.error("");}}else {o1s.Studies.calculateAroon=function(S1s,w1s){var J4e=a2ww;var V1s,L1s,P1s,X1s,u1s,X9c,O1s,l1s,w9c,M9c,C1s,m1s,y1s,k1s,r1s;V1s=w1s.chart.scrubbed;if(V1s.length < w1s.days + ("1" >> 1350787840)){w1s.error=! ![];return;}L1s=0;P1s=0;X1s=null;u1s=null;J4e.q9e();if(w1s.startFrom > 0){X9c="_";X9c+="stat";X9c+="e";X9c+=" ";J4e.U5m(108);var n2t=J4e.x5m(13,0,5,65);O1s=V1s[w1s.startFrom - n2t][X9c + w1s.name];if(O1s){J4e.U5m(6);L1s=O1s[J4e.x5m("0",0)];J4e.U5m(18);P1s=O1s[J4e.x5m(1,"1")];X1s=O1s[2];u1s=O1s[3];}}for(var i1s=w1s.startFrom;i1s < V1s.length;i1s++){w9c="Aroo";w9c+="n U";w9c+="p";w9c+=" ";M9c="Aro";M9c+="on Up";M9c+=" ";C1s=V1s[i1s];if(C1s.futureTick)break;if(X1s === null){X1s=C1s.High;}if(u1s === null){u1s=C1s.Low;}X1s=Math.max(X1s,C1s.High);if(X1s == C1s.High){L1s=0;}else {L1s++;if(L1s > w1s.days){X1s=C1s.High;L1s=0;for(l1s=1;l1s <= w1s.days;l1s++){X1s=Math.max(X1s,V1s[i1s - l1s].High);if(X1s == V1s[i1s - l1s].High){L1s=l1s;}}}}u1s=Math.min(u1s,C1s.Low);if(u1s == C1s.Low){P1s=0;}else {P1s++;if(P1s > w1s.days){u1s=C1s.Low;P1s=0;for(l1s=1;l1s <= w1s.days;l1s++){u1s=Math.min(u1s,V1s[i1s - l1s].Low);if(u1s == V1s[i1s - l1s].Low){P1s=l1s;}}}}m1s=!isNaN(C1s.High);y1s=!isNaN(C1s.Low);J4e.U5m(64);var C2t=J4e.W5m(416,86,6);J4e.z5m(109);var z2t=J4e.x5m(2,11,5,3,19);k1s=C2t * (z2t - L1s / w1s.days);if(m1s){C1s[M9c + w1s.name]=k1s;}J4e.z5m(30);var r2t=J4e.x5m(1500,1390,10,1);J4e.U5m(110);var B2t=J4e.W5m(12,118,11,14,2);r1s=r2t * (B2t - P1s / w1s.days);if(y1s){C1s["Aroon Down " + w1s.name]=r1s;}if(m1s && y1s){C1s["Aroon Oscillator " + w1s.name]=C1s[w9c + w1s.name] - C1s["Aroon Down " + w1s.name];}C1s["_state " + w1s.name]=[L1s,P1s,X1s,u1s];}};o1s.Studies.studyLibrary=o1s.extend(o1s.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:o1s.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:o1s.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};F6Q=T1s=>{var g1s,k9c,v9c,x9c,d9c,a9c,p9c;g1s=typeof _CIQ !== "undefined"?_CIQ:T1s.CIQ;a2ww.q9e();if(!g1s.Studies){k9c="atr";k9c+=" feature requir";k9c+="es first activati";k9c+="ng studies feature.";console.error(k9c);}else {v9c="p";v9c+="oi";v9c+="nts";x9c="A";x9c+="TR Trailing S";x9c+="tops";d9c="aut";d9c+="o";a9c="STARC Ban";a9c+="ds";p9c="ATR ";p9c+="Ban";p9c+="ds";g1s.Studies.calculateATRBands=function(s1s,f1s){var c9c,Y1s;c9c="A";c9c+="TR";c9c+=" ";g1s.Studies.calculateStudyATR(s1s,f1s);Y1s=f1s.inputs.Field;if(!Y1s || Y1s == "field"){Y1s="Close";}g1s.Studies.calculateGenericEnvelope(s1s,f1s,f1s.inputs.Shift,Y1s,c9c + f1s.name);};g1s.Studies.calculateSTARCBands=function(t1s,b1s){var H9c,N9c,F9c;H9c="A";H9c+="T";H9c+="R";H9c+=" ";N9c="_";N9c+="M";N9c+="A";N9c+=" ";F9c="si";F9c+="mp";F9c+="l";F9c+="e";g1s.Studies.calculateStudyATR(t1s,b1s);g1s.Studies.MA(F9c,b1s.inputs["MA Period"],"Close",+"0","_MA",t1s,b1s);a2ww.b9e();g1s.Studies.calculateGenericEnvelope(t1s,b1s,b1s.inputs.Multiplier,N9c + b1s.name,H9c + b1s.name);};g1s.Studies.calculateATRStops=function(U1s,v1s){var f4e=a2ww;var G1s,A1s,F1s,x1s,D1s,W1s,h1s,Z1s;G1s=v1s.chart.scrubbed;if(!G1s){return;}g1s.Studies.calculateStudyATR(U1s,v1s);A1s=v1s.inputs.HighLow;for(var z1s=Math.max(v1s.startFrom - 1,1);z1s < G1s.length - 1;z1s++){F1s=G1s[z1s];f4e.z5m(6);x1s=G1s[f4e.W5m(z1s,1)];D1s=F1s["Buy Stops " + v1s.name];if(!D1s){D1s=F1s["Sell Stops " + v1s.name];}if(!D1s){D1s=0;}if(!F1s || !x1s)continue;W1s=F1s.Close;h1s=W1s;Z1s=F1s["ATR " + v1s.name] * v1s.inputs.Multiplier;if(F1s.Close > D1s && x1s.Close > D1s){if(A1s){W1s=F1s.High;}f4e.U5m(6);h1s=Math.max(D1s,f4e.x5m(W1s,Z1s));}else if(F1s.Close <= D1s && x1s.Close <= D1s){if(A1s){W1s=F1s.Low;}f4e.z5m(2);h1s=Math.min(D1s,f4e.x5m(W1s,Z1s));}else if(F1s.Close > D1s){if(A1s){W1s=F1s.High;}f4e.U5m(6);h1s=f4e.x5m(W1s,Z1s);}else if(F1s.Close <= D1s){if(A1s){W1s=F1s.Low;}f4e.U5m(2);h1s=f4e.W5m(W1s,Z1s);}if(W1s <= h1s){f4e.U5m(111);G1s[f4e.x5m(z1s,"1")]["Buy Stops " + v1s.name]=h1s;f4e.z5m(2);delete G1s[f4e.W5m(z1s,1)]["Sell Stops " + v1s.name];}else if(W1s > h1s){f4e.U5m(82);G1s[f4e.W5m(622869088,"1",z1s)]["Sell Stops " + v1s.name]=h1s;f4e.U5m(2);delete G1s[f4e.W5m(z1s,1)]["Buy Stops " + v1s.name];}f4e.z5m(2);G1s[f4e.x5m(z1s,1)]["All Stops " + v1s.name]=h1s;}v1s.referenceOutput="All Stops";f4e.q9e();v1s.outputMap={};v1s.outputMap["All Stops " + v1s.name]="";};g1s.Studies.studyLibrary=g1s.extend(g1s.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:g1s.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:p9c,overlay:! !"1",seriesFN:g1s.Studies.displayChannel,calculateFN:g1s.Studies.calculateATRBands,inputs:{Period:"5" & 2147483647,Field:"field",Shift:3,"Channel Fill":! !{}},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:+"0.1",step:0.1}}},"STARC Bands":{name:a9c,overlay:! !1,seriesFN:g1s.Studies.displayChannel,calculateFN:g1s.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":d9c},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:x9c,overlay:! ![],seriesFN:g1s.Studies.displayPSAR2,calculateFN:g1s.Studies.calculateATRStops,inputs:{Period:21,Multiplier:"3" ^ 0,"Plot Type":[v9c,"squarewave"],HighLow:![]},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};D6Q=d1s=>{var J1s,f8c;J1s=typeof _CIQ !== "undefined"?_CIQ:d1s.CIQ;a2ww.b9e();if(!J1s.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {f8c="#F";f8c+="F";f8c+="0";f8c+="000";J1s.Studies.calculateAwesomeOscillator=function(q0s,I0s){var R8c,Z9c,K0s,L9c,J9c;R8c="_";R8c+="h";R8c+="i";R8c+="st";Z9c="s";Z9c+="i";Z9c+="mpl";Z9c+="e";K0s=I0s.chart.scrubbed;if(K0s.length < 33){I0s.error=! !{};return;}J1s.Studies.MA(Z9c,5,"hl/2",0,"_MA5",q0s,I0s);J1s.Studies.MA("simple",34,"hl/2",+"0","_MA34",q0s,I0s);for(var j0s=Math.max(I0s.startFrom,33);j0s < K0s.length;j0s++){L9c="_";L9c+="M";L9c+="A";L9c+="34 ";J9c="_";J9c+="M";J9c+="A";J9c+="5 ";if(!K0s[j0s])continue;K0s[j0s][I0s.name + "_hist"]=K0s[j0s][J9c + I0s.name] - K0s[j0s][L9c + I0s.name];}I0s.outputMap={};I0s.outputMap[I0s.name + R8c]="";};J1s.Studies.displayAwesomeOscillator=function(R0s,a0s,B0s){var a4e=a2ww;var s8c,t8c,M0s,H0s,N0s,n0s,p0s,o0s,c0s,b8c,Q0s,E0s;s8c="st";s8c+="x_";s8c+="histogram";t8c="I";t8c+="ncreasing Bar";M0s=R0s.panels[a0s.panel];H0s=a0s.getContext(R0s);N0s=a0s.getYAxis(R0s);n0s=R0s.pixelFromPrice(0,M0s,N0s);a4e.z5m(2);var D2t=a4e.x5m(106035400,1166389400);p0s=R0s.layout.candleWidth - ("2" << D2t);if(p0s < 2){p0s=1;}o0s=J1s.Studies.determineColor(a0s.outputs[t8c]);c0s=J1s.Studies.determineColor(a0s.outputs["Decreasing Bar"]);R0s.canvasColor(s8c);if(!a0s.underlay){H0s.globalAlpha=1;}H0s.fillStyle="#CCCCCC";R0s.startClip(a0s.panel);if(!a0s.highlight && R0s.highlightedDraggable){H0s.globalAlpha*=0.3;}for(var e0s=0;e0s < B0s.length;e0s++){b8c="_h";b8c+="ist";Q0s=B0s[e0s];a4e.U5m(6);E0s=B0s[a4e.x5m(e0s,1)];if(!E0s){E0s=R0s.getPreviousBar(R0s.chart,a0s.name + "_hist",e0s);}if(!Q0s)continue;if(!E0s);else if(E0s[a0s.name + b8c] < Q0s[a0s.name + "_hist"]){H0s.fillStyle=o0s;}else if(E0s[a0s.name + "_hist"] > Q0s[a0s.name + "_hist"]){H0s.fillStyle=c0s;}if(Q0s.candleWidth){p0s=Math.floor(Math.max(1,Q0s.candleWidth - 2));}H0s.fillRect(Math.floor(R0s.pixelFromBar(e0s,M0s.chart) - p0s / 2),Math.floor(n0s),Math.floor(p0s),Math.floor(R0s.pixelFromPrice(Q0s[a0s.name + "_hist"],M0s,N0s) - n0s));}R0s.endClip();};J1s.Studies.studyLibrary=J1s.extend(J1s.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:J1s.Studies.displayAwesomeOscillator,calculateFN:J1s.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":f8c}}});}};W6Q=C0s=>{var w0s,A79,S79,i79,I8c,h8c;w0s=typeof _CIQ !== "undefined"?_CIQ:C0s.CIQ;if(!w0s.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {w0s.Studies.calculateBalanceOfPower=function(L0s,X0s){var g8c,l0s,u0s;g8c="_";g8c+="R";g8c+="ati";a2ww.q9e();g8c+="o ";l0s=X0s.chart.scrubbed;if(l0s.length < X0s.days + 1){X0s.error=! !"1";return;}for(var V0s=X0s.startFrom;V0s < l0s.length;V0s++){u0s=l0s[V0s];u0s["_Ratio " + X0s.name]=u0s.Close - u0s.Open;if(u0s.High - u0s.Low !== 0){u0s["_Ratio " + X0s.name]/=u0s.High - u0s.Low;}}w0s.Studies.MA(X0s.inputs["Moving Average Type"],X0s.days,g8c + X0s.name,"0" * 1,"Result",L0s,X0s);};A79=-1335305655;S79=1543780361;i79=2;for(var T79=1;a2ww.P89(T79.toString(),T79.toString().length,29923) !== A79;T79++){w0s.Studies.studyLibrary=w0s.extend(w0s.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:w0s.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});i79+=2;}if(a2ww.y89(i79.toString(),i79.toString().length,66887) !== S79){I8c="Bal ";I8c+="Pwr";h8c="m";h8c+="a";w0s.Studies.studyLibrary=w0s.extend(w0s.Studies.studyLibrary,{"Bal Pwr":{name:h8c,range:"ma",centerline:2,calculateFN:w0s.Studies.calculateBalanceOfPower,inputs:{Period:"59" ^ 0,"Moving Average Type":I8c}}});}}};G6Q=i0s=>{var P0s,D8c,B8c,r8c;P0s=typeof _CIQ !== "undefined"?_CIQ:i0s.CIQ;a2ww.q9e();if(!P0s.Studies){console.error("bollinger feature requires first activating studies feature.");}else {D8c="m";D8c+="a";B8c="a";B8c+="u";B8c+="t";B8c+="o";r8c="Bollin";r8c+="g";r8c+="er Band";r8c+="s";P0s.Studies.calculateBollinger=function(y0s,O0s){var z8c,C8c,n8c,m0s;z8c="%";z8c+="b";C8c="_";C8c+="M";C8c+="A";C8c+=" ";n8c="STD ";n8c+="D";n8c+="e";n8c+="v";m0s=O0s.inputs.Field;if(!m0s || m0s == "field"){m0s="Close";}P0s.Studies.MA(O0s.inputs["Moving Average Type"],O0s.days,m0s,+"0","_MA",y0s,O0s);O0s.std=new P0s.Studies.StudyDescriptor(O0s.name,n8c,O0s.panel);O0s.std.chart=O0s.chart;O0s.std.startFrom=O0s.startFrom;O0s.std.days=O0s.days;O0s.std.inputs={Field:m0s,"Standard Deviations":1,Type:O0s.inputs["Moving Average Type"]};O0s.std.outputs={"_STD Dev":null};P0s.Studies.calculateStandardDeviation(y0s,O0s.std);P0s.Studies.calculateGenericEnvelope(y0s,O0s,O0s.inputs["Standard Deviations"],C8c + O0s.name,"_STD Dev " + O0s.name);if(O0s.type == "Boll %b"){O0s.zoneOutput=z8c;}};P0s.Studies.studyLibrary=P0s.extend(P0s.Studies.studyLibrary,{"Bollinger Bands":{name:r8c,overlay:! !"1",calculateFN:P0s.Studies.calculateBollinger,seriesFN:P0s.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!""},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":B8c},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:P0s.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:P0s.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":D8c},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:0.1}}}});}};z6Q=r0s=>{var k0s;k0s=typeof _CIQ !== "undefined"?_CIQ:r0s.CIQ;if(!k0s.Studies){console.error("cci feature requires first activating studies feature.");}else {k0s.Studies.calculateCCI=function(b0s,S0s){var P8c,T0s,g0s,Y0s;P8c="simp";P8c+="l";P8c+="e";T0s=S0s.chart.scrubbed;if(T0s.length < S0s.days + ("1" >> 3908928)){S0s.error=! ![];return;}k0s.Studies.MA(P8c,S0s.days,"hlc/3",0,"MA",b0s,S0s);for(var f0s=Math.max(S0s.startFrom,S0s.days - 1);f0s < T0s.length;f0s++){g0s=T0s[f0s];if(!g0s)continue;Y0s=0;for(var s0s=+"0";s0s < S0s.days;s0s++){Y0s+=Math.abs(T0s[f0s - s0s]["hlc/3"] - g0s["MA " + S0s.name]);}Y0s/=S0s.days;if(Math.abs(Y0s) < 0.00000001){g0s["Result " + S0s.name]=0;}else {g0s["Result " + S0s.name]=(g0s["hlc/3"] - g0s["MA " + S0s.name]) / (0.015 * Y0s);}}};k0s.Studies.studyLibrary=k0s.extend(k0s.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:k0s.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"100" | 68,studyOverBoughtColor:"auto",studyOverSoldValue:- +"100",studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};h6Q=v0s=>{var t0s,K8c;t0s=typeof _CIQ !== "undefined"?_CIQ:v0s.CIQ;a2ww.q9e();if(!t0s.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {K8c="Center O";K8c+="f Gravity";t0s.Studies.calculateCenterOfGravity=function(x0s,F0s){var V4e=a2ww;V4e.b9e();var y8c,D0s,W0s,A0s,h0s,Z0s;y8c="Cl";y8c+="ose";D0s=F0s.chart.scrubbed;if(D0s.length < F0s.days){F0s.error=! !1;return;}W0s=F0s.inputs.Field;if(!W0s || W0s == "field"){W0s=y8c;}for(var G0s=Math.max(F0s.startFrom,F0s.days - 1);G0s < D0s.length;G0s++){A0s=+"0";h0s=+"0";for(var z0s=0;z0s < F0s.days;z0s++){V4e.U5m(6);Z0s=D0s[V4e.x5m(G0s,z0s)][W0s];V4e.z5m(112);A0s-=V4e.x5m("1",z0s,1,Z0s);h0s+=Z0s;}if(h0s){V4e.z5m(16);D0s[G0s]["Result " + F0s.name]=V4e.x5m(h0s,A0s);}}};t0s.Studies.studyLibrary=t0s.extend(t0s.Studies.studyLibrary,{COG:{name:K8c,calculateFN:t0s.Studies.calculateCenterOfGravity,inputs:{Period:"10" >> 2095979552,Field:"field"}}});}};A6Q=J0s=>{var U0s,o8c,O8c;U0s=typeof _CIQ !== "undefined"?_CIQ:J0s.CIQ;if(!U0s.Studies){console.error("chaikin feature requires first activating studies feature.");}else {o8c="Cha";o8c+="ikin Volatility";O8c="Chai";O8c+="kin M";O8c+="oney Flow";U0s.Studies.calculateChaikinMoneyFlow=function(R2s,K2s){var r4e=a2ww;var d0s,q2s,j2s,a2s,Q8c,V8c,U8c,u8c;d0s=K2s.chart.scrubbed;if(d0s.length < K2s.days){K2s.error=! ![];return;}q2s=0;j2s=0;r4e.U5m(6);var P2t=r4e.W5m(15,14);a2s=d0s[K2s.startFrom - P2t];if(a2s){Q8c="_s";Q8c+="umMF ";if(a2s["_sumMF " + K2s.name]){q2s=a2s[Q8c + K2s.name];}if(a2s["_sumV " + K2s.name]){j2s=a2s["_sumV " + K2s.name];}}for(var I2s=K2s.startFrom;I2s < d0s.length;I2s++){V8c="_";V8c+="M";V8c+="F";V8c+="V ";U8c="_";U8c+="MF";U8c+="V";U8c+=" ";if(d0s[I2s].High == d0s[I2s].Low){d0s[I2s][U8c + K2s.name]=0;}else {d0s[I2s][V8c + K2s.name]=d0s[I2s].Volume * (+"2" * d0s[I2s].Close - d0s[I2s].High - d0s[I2s].Low) / (d0s[I2s].High - d0s[I2s].Low);}q2s+=d0s[I2s]["_MFV " + K2s.name];j2s+=d0s[I2s].Volume;if(I2s > K2s.days - 1){u8c="_";u8c+="M";u8c+="F";u8c+="V ";q2s-=d0s[I2s - K2s.days][u8c + K2s.name];j2s-=d0s[I2s - K2s.days].Volume;if(j2s){r4e.U5m(16);d0s[I2s]["Result " + K2s.name]=r4e.x5m(j2s,q2s);}}d0s[I2s]["_sumMF " + K2s.name]=q2s;d0s[I2s]["_sumV " + K2s.name]=j2s;}};U0s.Studies.calculateChaikinVolatility=function(E2s,H2s){var D4e=a2ww;var E8c,Q2s,e2s,p2s,l8c,W8c;E8c="_";E8c+="M";E8c+="A";D4e.b9e();Q2s=H2s.chart.scrubbed;if(Q2s.length < H2s.days){H2s.error=! ![];return;}for(e2s=H2s.startFrom;e2s < Q2s.length;e2s++){if(Q2s[e2s].futureTick)break;Q2s[e2s]["_High-Low " + H2s.name]=Q2s[e2s].High - Q2s[e2s].Low;}U0s.Studies.MA(H2s.inputs["Moving Average Type"],H2s.days,"_High-Low " + H2s.name,0,E8c,E2s,H2s);p2s=H2s.inputs["Rate Of Change"];if(!p2s){p2s=H2s.days;}for(e2s=Math.max(H2s.startFrom,p2s);e2s < Q2s.length;e2s++){l8c="_";l8c+="M";l8c+="A";l8c+=" ";W8c="_";W8c+="M";W8c+="A ";if(!Q2s[e2s - p2s]["_MA " + H2s.name])continue;if(Q2s[e2s].futureTick)break;D4e.U5m(113);var y2t=D4e.x5m(12,99,114,13,114);D4e.U5m(114);var K2t=D4e.x5m(10,9,19,5,0);Q2s[e2s]["Result " + H2s.name]=y2t * (Q2s[e2s][W8c + H2s.name] / Q2s[e2s - p2s][l8c + H2s.name] - K2t);}};U0s.Studies.studyLibrary=U0s.extend(U0s.Studies.studyLibrary,{"Chaikin MF":{name:O8c,calculateFN:U0s.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" << 359202912}},"Chaikin Vol":{name:o8c,calculateFN:U0s.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};Z6Q=B2s=>{var M2s,q8c,m8c;M2s=typeof _CIQ !== "undefined"?_CIQ:B2s.CIQ;if(!M2s.Studies){q8c="chande feature requires first activati";q8c+="ng stud";q8c+="ies feature.";console.error(q8c);}else {m8c="Va";m8c+="ri";m8c+="abl";m8c+="e";M2s.Studies.prettify.variable="vma";M2s.Studies.movingAverage.conversions.vma="variable";M2s.Studies.movingAverage.translations.variable=m8c;M2s.Studies.movingAverage.typeMap.vma="Variable";M2s.Studies.movingAverage.typeMap.variable="Variable";M2s.Studies.calculateChandeForecast=function(C2s,N2s){var S8c,A8c,n2s,S29,i29,j29,o2s,i8c,w2s;S8c="t";S8c+="im";S8c+="e series";A8c="f";A8c+="ie";A8c+="l";A8c+="d";n2s=N2s.chart.scrubbed;if(n2s.length < N2s.days + ("1" - 0)){N2s.error=! !"1";S29=-1223906834;i29=-1067850198;j29=2;for(var e29=1;a2ww.y89(e29.toString(),e29.toString().length,52373) !== S29;e29++){return;}if(a2ww.y89(j29.toString(),j29.toString().length,94651) !== i29){return;}}o2s=N2s.inputs.Field;if(!o2s || o2s == A8c){o2s="Close";}M2s.Studies.MA(S8c,N2s.days,o2s,+"0","MA",C2s,N2s);for(var c2s=Math.max(1,N2s.startFrom);c2s < n2s.length;c2s++){i8c="o";i8c+="bject";w2s=n2s[c2s][o2s];if(w2s && typeof w2s == i8c){w2s=w2s[N2s.subField];}n2s[c2s]["Result " + N2s.name]=+"100" * (+"1" - n2s[c2s]["MA " + N2s.name] / w2s);}};M2s.Studies.calculateChandeMomentum=function(g2s,X2s){var S4e=a2ww;var i2s,V2s,L2s,O2s,m2s,y2s,j8c,P2s,l2s,k2s,r2s;i2s=X2s.name;for(var S2s in X2s.outputs){S4e.U5m(43);i2s=S4e.x5m(i2s,5796 === 987.01?"U":854.21 !== (979,992)?" ":402 <= (984.89,765.9)?(0x110,1.32e+2):9.23e+3,S2s);}V2s=X2s.chart.scrubbed;if(V2s.length < X2s.days + ("1" & 2147483647)){X2s.error=! ![];return;}L2s=X2s.inputs.Field;if(!L2s || L2s == "field"){L2s="Close";}S4e.q9e();O2s=0;m2s=0;y2s=[];for(var u2s=X2s.startFrom - X2s.days + 1;u2s < V2s.length;u2s++){j8c="o";j8c+="b";j8c+="je";j8c+="ct";if(u2s < 1)continue;P2s=V2s[u2s][L2s];S4e.U5m(6);l2s=V2s[S4e.x5m(u2s,1)][L2s];if(P2s && typeof P2s == j8c){P2s=P2s.Close;}if(l2s && typeof l2s == "object"){l2s=l2s.Close;}if(l2s === undefined)continue;S4e.U5m(6);k2s=S4e.x5m(P2s,l2s);y2s.push(k2s);O2s+=k2s;m2s+=Math.abs(k2s);if(y2s.length == X2s.days){S4e.U5m(94);V2s[u2s][i2s]=S4e.W5m(O2s,m2s,100);r2s=y2s.shift();O2s-=r2s;m2s-=Math.abs(r2s);}}};M2s.Studies.calculateMovingAverageVariable=function(J2s,T2s){var W4e=a2ww;var K6s,b2s,Z2s,v2s,t2s,F2s,s2s,f2s,Y2s,D2s,h2s,x2s,A2s,T8c,W2s,I6s,G2s,U2s,z2s;W4e.q9e();K6s=T2s.inputs.Type;b2s=T2s.chart.scrubbed;W4e.U5m(115);var Q2t=W4e.W5m(31,11,9,9);W4e.U5m(6);var U2t=W4e.W5m(9,8);Z2s=Q2t / (T2s.days + U2t);v2s=null;t2s=T2s.name;for(var d2s in T2s.outputs){W4e.U5m(43);t2s=W4e.x5m(t2s,(665.18,326.93) < (454.12,2119)?" ":491.71,d2s);}F2s=T2s.inputs.Field;if(!F2s || F2s == "field"){F2s="Close";}T2s.cmo=new M2s.Studies.StudyDescriptor(T2s.name,"cmo",T2s.panel);T2s.cmo.chart=T2s.chart;T2s.cmo.days=9;T2s.cmo.inputs={Field:F2s};T2s.cmo.startFrom=T2s.startFrom;T2s.cmo.outputs={_CMO:null};M2s.Studies.calculateChandeMomentum(J2s,T2s.cmo);s2s=parseInt(T2s.inputs.Offset,10);if(isNaN(s2s)){s2s=0;}h2s=T2s.startFrom;x2s=s2s;for(f2s=T2s.startFrom - 1;f2s >= 0;f2s--){Y2s=b2s[f2s][t2s];if(!Y2s && Y2s !== 0)continue;if(v2s === null){v2s=Y2s;}if(x2s <= 0)break;x2s--;h2s=f2s;}if(v2s === null){v2s=h2s=0;}A2s=[];for(f2s=h2s;f2s < b2s.length;f2s++){T8c="o";T8c+="bjec";T8c+="t";W2s=b2s[f2s];Y2s=W2s[F2s];if(Y2s && typeof Y2s == T8c){Y2s=Y2s[T2s.subField];}I6s=f2s + s2s >= 0 && f2s + s2s < b2s.length;G2s=I6s?b2s[f2s + s2s]:null;if(!Y2s && Y2s !== 0){if(G2s){G2s[t2s]=null;}else if(f2s + s2s >= b2s.length){D2s={};D2s[t2s]=null;A2s.push(D2s);}continue;}if(!W2s["_CMO " + T2s.name] && W2s["_CMO " + T2s.name] !== 0)continue;W4e.U5m(6);var V2t=W4e.W5m(2000,1900);U2s=Math.abs(W2s["_CMO " + T2s.name]) / V2t;W4e.z5m(116);z2s=W4e.W5m(Y2s,Z2s,1,U2s,v2s,U2s,Z2s);v2s=z2s;if(f2s < T2s.days){z2s=null;}if(G2s){G2s[t2s]=z2s;}else if(f2s + s2s >= b2s.length){D2s={};D2s[t2s]=z2s;A2s.push(D2s);}}T2s.appendFutureTicks(J2s,A2s);};M2s.Studies.studyLibrary=M2s.extend(M2s.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:M2s.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:M2s.Studies.calculateChandeMomentum,inputs:{Period:+"9"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};x6Q=q6s=>{var j6s,G8c,e8c;a2ww.b9e();j6s=typeof _CIQ !== "undefined"?_CIQ:q6s.CIQ;if(!j6s.Studies){console.error("choppiness feature requires first activating studies feature.");}else {G8c="0";G8c+=".1";e8c="au";e8c+="to";j6s.Studies.calculateChoppiness=function(p6s,a6s){var k4e=a2ww;var H6s,R6s,Q6s;j6s.Studies.calculateStudyATR(p6s,a6s);function E6s(o6s,n6s){var B6s,N6s;k4e.U5m(28);var u2t=k4e.x5m(18,1,17);B6s=Number.MAX_VALUE * u2t;N6s=Number.MAX_VALUE;for(var M6s=n6s - o6s + 1;M6s <= n6s;M6s++){if(M6s < 0)continue;B6s=Math.max(B6s,H6s[M6s].High);N6s=Math.min(N6s,H6s[M6s].Low);}return [N6s,B6s];}H6s=a6s.chart.scrubbed;if(H6s.length < a6s.days + 1){a6s.error=!"";return;}for(var e6s=Math.max(a6s.startFrom,a6s.days);e6s < H6s.length;e6s++){R6s=H6s[e6s];if(!R6s)continue;if(R6s.futureTick)break;Q6s=E6s(a6s.days,e6s);if(R6s["Sum True Range " + a6s.name]){k4e.z5m(117);var E2t=k4e.W5m(2,19,97,11);k4e.z5m(118);var W2t=k4e.x5m(0,9,5,40,5);R6s["Result " + a6s.name]=E2t * Math.log(R6s["Sum True Range " + a6s.name] / Math.max(0.000001,Q6s[W2t] - Q6s[0])) / Math.log(a6s.days);}else if(!isNaN(R6s)){R6s["Result " + a6s.name]=0;}}};j6s.Studies.studyLibrary=j6s.extend(j6s.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:j6s.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:e8c}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:G8c}}}});}};U6Q=w6s=>{var c6s,Y8c,s2c,t2c,R2c,L8c;c6s=typeof _CIQ !== "undefined"?_CIQ:w6s.CIQ;if(!c6s.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!c6s.Studies.initPriceRelative){Y8c="compariso";Y8c+="nStudies feature requires first a";Y8c+="ctivating priceRelative f";Y8c+="eature.";console.error(Y8c);}else {s2c="S";s2c+="P";s2c+="Y";t2c="Be";t2c+="t";t2c+="a";R2c="#00DD0";R2c+="0";L8c="SP";L8c+="Y";c6s.Studies.calculateCorrelationCoefficient=function(g6s,C6s){var K4e=a2ww;var u6s,V6s,L6s,P6s,i6s,m6s,y6s,k6s,r6s,S6s,w8c,M8c,X8c,l6s,c8c,k8c,f6s,Y6s,s6s,b6s;u6s=C6s.chart.scrubbed;V6s=C6s.days;if(u6s.length < V6s + 1){C6s.error=! !{};return;}C6s.compare=C6s.inputs["Compare To"];if(!C6s.compare){C6s.compare=[];C6s.outputs={};C6s.outputMap={};for(var T6s in g6s.chart.series){L6s=g6s.chart.series[T6s];if(L6s.parameters.color){C6s.compare.push(L6s.display);C6s.outputs["Result " + L6s.display]=L6s.parameters.color;K4e.z5m(69);var l2t=K4e.x5m(13,11,517,2,17);K4e.U5m(119);var O2t=K4e.W5m(10,26063,4341,52116);K4e.z5m(50);var o2t=K4e.x5m(13840,2,4,8);K4e.U5m(84);var q2t=K4e.W5m(9181,9181,20,16,9164);C6s.outputMap["Result " + L6s.display + ((314.5,l2t) <= (O2t,o2t)?" ":q2t) + C6s.name]="Result " + L6s.display;}}}else {C6s.compare=[C6s.compare];}if(!C6s.compare.length){C6s.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var O6s=0;O6s < C6s.compare.length;O6s++){P6s=0;i6s=0;m6s=0;y6s=0;k6s=0;r6s=C6s.compare[O6s];S6s=0;for(var X6s=C6s.startFrom - V6s;X6s < u6s.length;X6s++){w8c="_tem";w8c+="ps ";M8c="_temp";M8c+="s";M8c+=" ";X8c="o";X8c+="bje";X8c+="ct";if(!u6s[X6s])continue;l6s=u6s[X6s][r6s];if(l6s && typeof l6s == X8c){l6s=l6s.Close;}if(!l6s && l6s !== 0){if(X6s > "0" << 1067907360 && u6s[X6s - 1] && u6s[X6s - ("1" - 0)]["_temps " + C6s.name] && u6s[X6s - +"1"]["_temps " + C6s.name].c){l6s=u6s[X6s - 1]["_temps " + C6s.name].c;}else {l6s=0;}}if(l6s && typeof l6s == "object"){l6s=l6s.Close;}u6s[X6s]["_temps " + C6s.name]={};P6s+=u6s[X6s][M8c + C6s.name].b=u6s[X6s].Close;i6s+=u6s[X6s][w8c + C6s.name].c=l6s;m6s+=u6s[X6s]["_temps " + C6s.name].b2=Math.pow(u6s[X6s].Close,2);y6s+=u6s[X6s]["_temps " + C6s.name].c2=Math.pow(l6s,2);k6s+=u6s[X6s]["_temps " + C6s.name].bc=u6s[X6s].Close * l6s;if(S6s >= V6s){c8c="_te";c8c+="mps ";k8c="_t";k8c+="e";k8c+="m";k8c+="ps ";P6s-=u6s[X6s - V6s]["_temps " + C6s.name].b;i6s-=u6s[X6s - V6s][k8c + C6s.name].c;m6s-=u6s[X6s - V6s]["_temps " + C6s.name].b2;y6s-=u6s[X6s - V6s][c8c + C6s.name].c2;k6s-=u6s[X6s - V6s]["_temps " + C6s.name].bc;K4e.z5m(6);var m2t=K4e.x5m(30,28);f6s=m6s / V6s - Math.pow(P6s / V6s,m2t);Y6s=y6s / V6s - Math.pow(i6s / V6s,+"2");K4e.z5m(8);var A2t=K4e.x5m(8,0,10);s6s=k6s / V6s - P6s * i6s / Math.pow(V6s,A2t);b6s=s6s / Math.sqrt(f6s * Y6s);u6s[X6s]["Result " + r6s + " " + C6s.name]=b6s;}S6s++;}}};c6s.Studies.calculatePerformance=function(G6s,t6s){var H8c,N8c,F8c,v6s,W6s,D6s;H8c="_M";H8c+="A B";H8c+="ase";N8c="C";N8c+="omparison";N8c+=" ";N8c+="Symbol";F8c="Comp";F8c+="ari";F8c+="son ";F8c+="Symbol";v6s=t6s.chart.scrubbed;a2ww.q9e();W6s=t6s.inputs[F8c].toUpperCase();if(!W6s){W6s=t6s.study.inputs[N8c];}if(!t6s.days){t6s.days=t6s.study.inputs.Period;}if(v6s.length < t6s.days + 1){t6s.error=! !1;return;}c6s.Studies.MA("ma",t6s.days,"Close",0,H8c,G6s,t6s);c6s.Studies.MA("ma",t6s.days,W6s,0,"_MA Comp",G6s,t6s);for(var F6s=t6s.startFrom;F6s < v6s.length;F6s++){D6s=v6s[F6s][W6s];if(D6s && (D6s.Close || D6s.Close === 0)){D6s=D6s.Close;}v6s[F6s]["Result " + t6s.name]=v6s[F6s].Close / D6s * (v6s[F6s]["_MA Comp " + t6s.name] / v6s[F6s]["_MA Base " + t6s.name]);}};c6s.Studies.calculateBeta=function(J6s,z6s){var t4e=a2ww;var Z8c,v8c,d8c,a8c,p8c,A6s,U6s,Z6s,x6s,x8c,J8c;Z8c="_";Z8c+="V";Z8c+="A";Z8c+="R";v8c="_V";v8c+="AR";v8c+="n";v8c+=" ";d8c="_Com";d8c+="pChange ";a8c="m";a8c+="a";p8c="Compar";p8c+="ison Symbo";p8c+="l";A6s=z6s.chart.scrubbed;U6s=z6s.inputs[p8c].toUpperCase();if(!U6s){U6s=z6s.study.inputs["Comparison Symbol"];}if(!z6s.days){z6s.days=z6s.study.inputs.Period;}if(A6s.length < z6s.days + 1){z6s.error=!"";return;}for(var h6s=Math.max(z6s.startFrom,+"1");h6s < A6s.length;h6s++){t4e.U5m(103);var S2t=t4e.x5m(1893139668,99638931,13,12);t4e.U5m(2);var i2t=t4e.W5m(0,1);A6s[h6s]["_BaseChange " + z6s.name]=A6s[h6s].Close / A6s[h6s - ("1" << S2t)].Close - i2t;Z6s=A6s[h6s][U6s];if(Z6s && (Z6s.Close || Z6s.Close === 0)){Z6s=Z6s.Close;}t4e.z5m(6);x6s=A6s[t4e.W5m(h6s,1)][U6s];if(x6s && (x6s.Close || x6s.Close === 0)){x6s=x6s.Close;}t4e.z5m(120);A6s[h6s]["_CompChange " + z6s.name]=t4e.x5m(x6s,"1",Z6s);}c6s.Studies.MA(a8c,z6s.days,"_BaseChange " + z6s.name,+"0","_MA Base",J6s,z6s);t4e.q9e();c6s.Studies.MA("ma",z6s.days,d8c + z6s.name,0,"_MA Comp",J6s,z6s);for(h6s=Math.max(z6s.startFrom,z6s.days);h6s < A6s.length;h6s++){x8c="_VA";x8c+="Rn";x8c+=" ";A6s[h6s]["_COVARn " + z6s.name]=(A6s[h6s]["_BaseChange " + z6s.name] - A6s[h6s]["_MA Base " + z6s.name]) * (A6s[h6s]["_CompChange " + z6s.name] - A6s[h6s]["_MA Comp " + z6s.name]);A6s[h6s][x8c + z6s.name]=Math.pow(A6s[h6s]["_CompChange " + z6s.name] - A6s[h6s]["_MA Comp " + z6s.name],2);}c6s.Studies.MA("ma",z6s.days,"_COVARn " + z6s.name,0,"_COVAR",J6s,z6s);c6s.Studies.MA("ma",z6s.days,v8c + z6s.name,0,Z8c,J6s,z6s);for(h6s=Math.max(z6s.startFrom,z6s.days * 2 - +"1");h6s < A6s.length;h6s++){J8c="_V";J8c+="A";J8c+="R";J8c+=" ";A6s[h6s]["Result " + z6s.name]=A6s[h6s]["_COVAR " + z6s.name] / A6s[h6s][J8c + z6s.name];}};c6s.Studies.studyLibrary=c6s.extend(c6s.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:c6s.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:+"1",initializeFN:c6s.Studies.initPriceRelative,seriesFN:c6s.Studies.displayVsComparisonSymbol,calculateFN:c6s.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":L8c},outputs:{Result:"auto",Gain:R2c,Loss:"#FF0000"},deferUpdate:! !{}},Beta:{name:t2c,centerline:"1" >> 528906784,initializeFN:c6s.Studies.initPriceRelative,seriesFN:c6s.Studies.displayVsComparisonSymbol,calculateFN:c6s.Studies.calculateBeta,inputs:{Period:"20" << 720322592,"Comparison Symbol":s2c},deferUpdate:! !{}}});}};J6Q=I4s=>{var b2c,d6s;b2c="un";b2c+="define";b2c+="d";d6s=typeof _CIQ !== b2c?_CIQ:I4s.CIQ;if(!d6s.Studies){console.error("coppock feature requires first activating studies feature.");}else {d6s.Studies.calculateCoppock=function(E4s,K4s){var u4e=a2ww;var h2c,f2c,j4s,q4s,R4s,H4s,e4s,Q4s,p4s,g2c;h2c="Resu";h2c+="lt";f2c="Cl";f2c+="o";f2c+="s";f2c+="e";j4s=K4s.chart.scrubbed;q4s=K4s.inputs.Field;if(!q4s || q4s == "field"){q4s=f2c;}R4s=parseInt(K4s.inputs["Long RoC"],10);if(!R4s){u4e.z5m(0);R4s=u4e.x5m("14",2147483647);}H4s=parseInt(K4s.inputs["Short RoC"],10);if(!H4s){H4s=11;}e4s=K4s.days;if(!e4s){e4s=10;}if(R4s < H4s){return;}if(j4s.length < Math.max(H4s,R4s,e4s) + 1){K4s.error=! !{};return;}for(var a4s=Math.max(K4s.startFrom,R4s);a4s < j4s.length;a4s++){u4e.U5m(6);Q4s=j4s[u4e.W5m(a4s,H4s)][q4s];u4e.z5m(6);p4s=j4s[u4e.W5m(a4s,R4s)][q4s];if(Q4s && p4s){g2c="_Su";g2c+="m ";u4e.U5m(6);var j2t=u4e.x5m(748,680);j4s[a4s][g2c + K4s.name]=("100" | j2t) * (j4s[a4s][q4s] / Q4s + j4s[a4s][q4s] / p4s - +"2");}}d6s.Studies.MA("weighted",e4s,"_Sum " + K4s.name,"0" | 0,h2c,E4s,K4s);};d6s.Studies.studyLibrary=d6s.extend(d6s.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:d6s.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":+"14"}}});}};d6Q=B4s=>{var M4s,j2c,i2c,S2c;a2ww.q9e();M4s=typeof _CIQ !== "undefined"?_CIQ:B4s.CIQ;if(!M4s.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {j2c="high";j2c+="/low";i2c="c";i2c+="lose";S2c="D";S2c+="arva";S2c+="s B";S2c+="ox";M4s.Studies.calculateDarvas=function(g4s,u4s){var A4e=a2ww;var r2c,z2c,C2c,I2c,N4s,X4s,y4s,n2c,r4s,l4s,c4s,C4s,P4s,V4s,i4s,L4s,o4s,w4s,O4s,B2c,n4s,D2c,P2c,y2c,K2c,Q2c,U2c,u2c,V2c,E2c,W2c,l2c;r2c="Spik";r2c+="e";z2c="D";z2c+="a";z2c+="rv";z2c+="as";C2c="Volume %";C2c+=" ";C2c+="of A";C2c+="vg";I2c="ATH";I2c+=" ";I2c+="Lookback Period";N4s=u4s.chart.scrubbed;X4s=0;y4s=parseInt(u4s.inputs[I2c],10);if(u4s.inputs["Volume Spike"]){n2c="A";n2c+="D";n2c+="V";M4s.Studies.MA("simple",y4s,"Volume",0,n2c,g4s,u4s);}A4e.z5m(64);var T2t=A4e.W5m(1838,102,19);r4s=parseFloat(u4s.inputs[C2c]) / T2t;l4s="none";c4s={};C4s=null;P4s=null;V4s=null;i4s=parseFloat(u4s.inputs["Level Offset"]);L4s=! !0;if(L4s){console.log("*****************");}w4s={};[z2c,"Ghost","Profit","Loss","ATH","ADV",r2c].forEach(function(T4s){var T19,e19,G19;T19=419795814;e19=124743008;G19=2;for(var X19=1;A4e.P89(X19.toString(),X19.toString().length,+"50304") !== T19;X19++){A4e.z5m(2);var e2t=A4e.W5m(1030,5149);A4e.U5m(24);var G2t=A4e.x5m(10,427426,8,8);A4e.U5m(2);var Y2t=A4e.W5m(5882,6);A4e.z5m(121);var X2t=A4e.W5m(3,13637,2278,11,13668);w4s[T4s]=T4s * (e2t == (G2t,Y2t)?"":("467083" - 0,X2t)) / u4s.name;G19+=2;}A4e.q9e();if(A4e.y89(G19.toString(),G19.toString().length,73377) !== e19){A4e.z5m(98);var M2t=A4e.x5m(11,87960,80660,19);A4e.U5m(122);var w2t=A4e.x5m(4067,19,8134,8106);A4e.z5m(55);var k2t=A4e.x5m(7,2,10);w4s[T4s]=T4s + (M2t !== (131.46,w2t)?" ":("468.03" * k2t,+"0x1b69")) + u4s.name;}});for(o4s=u4s.startFrom - 1;o4s > 0;o4s--){O4s=N4s[o4s];if(O4s[w4s.Darvas] || O4s[w4s.Ghost]){for(var S4s in w4s){O4s[S4s]=null;}}else {X4s=O4s[w4s.ATH] || 0;P4s=O4s[w4s.Profit];V4s=O4s[w4s.Loss];break;}}for(o4s;o4s < N4s.length;o4s++){B2c="Pric";B2c+="e M";B2c+="inimum";n4s=N4s[o4s];if(!n4s)continue;if(parseFloat(u4s.inputs[B2c]) <= N4s[X4s].Close){if(C4s && (!C4s.End || o4s == C4s.End + +"1")){if(N4s[o4s - 1].Close > c4s.High){c4s={State:1,High:2 * c4s.High - c4s.Low,Low:c4s.High,Start:o4s,End:2 * c4s.End - c4s.Start + 1};}else {C4s=null;;}if(C4s){D2c="Ghost b";D2c+="egin:";n4s[w4s.Ghost]=M4s.clone(c4s);if(L4s){console.log(D2c + n4s.DT);}c4s.State=0;if(N4s[c4s.End]){N4s[c4s.End][w4s.Ghost]=M4s.clone(c4s);if(L4s){console.log("Ghost end:" + N4s[c4s.End].DT);}}C4s={Start:c4s.Start,End:c4s.End};P4s=c4s.High + i4s;if(!V4s || V4s < c4s.Low - i4s){V4s=c4s.Low - i4s;}}}n4s[w4s.Profit]=P4s;n4s[w4s.Loss]=V4s;if(n4s.Close >= P4s){P4s=null;}else if(u4s.inputs["Exit Field"] == "high/low" && n4s.High >= P4s){P4s=null;}if(l4s == "none"){if(o4s == X4s + 3){if(!N4s[X4s + ("2" ^ 0)][w4s.Darvas] && !N4s[X4s + 1][w4s.Darvas] && !N4s[X4s][w4s.Darvas] && N4s[X4s].High > n4s.High){P2c="hig";P2c+="h";l4s=P2c;;}}}if(l4s == "high"){if(n4s.High > N4s[X4s].High){y2c="no";y2c+="n";y2c+="e";l4s=y2c;}else if(N4s[o4s - ("3" << 955297152)].Low < N4s[o4s - 2].Low && N4s[o4s - +"3"].Low < N4s[o4s - ("1" & 2147483647)].Low && N4s[o4s - 3].Low < n4s.Low){K2c="Darvas establishe";K2c+="d:";c4s={State:"1" ^ 0,High:N4s[X4s].High,Low:N4s[o4s - ("3" ^ 0)].Low,Start:X4s};N4s[X4s][w4s.Darvas]=M4s.clone(c4s);l4s="darvas";if(L4s){console.log("Darvas begin:" + N4s[X4s].DT);}if(L4s){console.log(K2c + n4s.DT);}if(C4s){if(C4s.End > o4s && N4s[C4s.Start]){n4s[w4s.Ghost]=M4s.clone(N4s[C4s.Start][w4s.Ghost]);n4s[w4s.Ghost].End=o4s;if(N4s[C4s.End]){delete N4s[C4s.End][w4s.Ghost];if(L4s){console.log("Ghost End removed:" + N4s[C4s.End].DT);}}}n4s[w4s.Ghost].State=0;N4s[C4s.Start][w4s.Ghost].End=o4s;if(L4s){console.log("Ghost end:" + n4s.DT);}C4s=null;}P4s=c4s.High + i4s;if(!V4s || V4s < c4s.Low - i4s){V4s=c4s.Low - i4s;}}}if(l4s == "darvas"){Q2c="hig";Q2c+="h/low";if(n4s.Close > c4s.High){C4s={};}else if(u4s.inputs["Exit Field"] == "high/low" && n4s.High > c4s.High){C4s={};}else if(n4s.Close < c4s.Low){l4s="none";}else if(u4s.inputs["Exit Field"] == Q2c && n4s.Low < c4s.Low){l4s="none";}if(C4s){l4s="none";}else if(l4s == "none"){P4s=null;V4s=null;}if(!u4s.inputs["Ghost Boxes"]){C4s=null;}if(l4s == "none"){U2c="Darvas e";U2c+="nd:";for(var k4s=c4s.Start + +"1";k4s < o4s;k4s++){N4s[k4s][w4s.Darvas]=M4s.clone(c4s);}c4s.State=+"0";c4s.End=o4s;n4s[w4s.Darvas]=M4s.clone(c4s);if(L4s){console.log(U2c + n4s.DT);}n4s[w4s.ATH]=X4s;continue;}}if(V4s){u2c="high";u2c+="/low";V2c="E";V2c+="xit F";V2c+="iel";V2c+="d";if(n4s.Close < c4s.Low || u4s.inputs[V2c] == u2c && n4s.Low < c4s.Low){E2c="hi";E2c+="g";E2c+="h/lo";E2c+="w";if(l4s == "darvas"){l4s="none";}if(n4s.Close < V4s || u4s.inputs["Exit Field"] == E2c && n4s.Low < V4s){P4s=null;V4s=null;}if(C4s){W2c="Gho";W2c+="s";W2c+="t e";W2c+="nd:";if(C4s.End > o4s && N4s[C4s.Start]){n4s[w4s.Ghost]=M4s.clone(N4s[C4s.Start][w4s.Ghost]);n4s[w4s.Ghost].End=o4s;if(N4s[C4s.End]){delete N4s[C4s.End][w4s.Ghost];if(L4s){console.log("Ghost End removed:" + N4s[C4s.End].DT);}}}n4s[w4s.Ghost].State=0;N4s[C4s.Start][w4s.Ghost].End=o4s;if(L4s){console.log(W2c + n4s.DT);}C4s=null;}}}}if(n4s.High >= N4s[X4s].High){X4s=o4s;if(L4s){console.log("All Time High:" + n4s.DT);}}if(o4s < 3 || n4s.High >= N4s[o4s - 1].High && n4s.High >= N4s[o4s - 2].High && n4s.High >= N4s[o4s - 3].High){if(o4s - X4s >= y4s){X4s=o4s;for(var m4s="0" & 2147483647;m4s < y4s;m4s++){if(o4s - m4s < 0)break;if(N4s[o4s - m4s].High > N4s[X4s].High){A4e.z5m(6);X4s=A4e.W5m(o4s,m4s);}}if(L4s){console.log("All Time High:" + n4s.DT);}}}if(u4s.inputs["Volume Spike"] && o4s > y4s && o4s == X4s){if(n4s[w4s.ADV] * r4s < n4s.Volume){l2c="Volume Sp";l2c+="ike:";n4s[w4s.Spike]=1;if(L4s){console.log(l2c + n4s.DT);}}}n4s[w4s.ATH]=X4s;}};M4s.Studies.displayDarvas=function(Y4s,t4s,F4s){var P4e=a2ww;var O2c,R7s,z4s,x4s,v4s,f4s,s4s,b4s,l7s,h4s,D4s,o2c,w7s,V7s,Y7s,i7s,W4s,G4s,A4s,e7s,Z4s,d4s,U4s,n7s,J4s,Q7s,b7s,X7s,q2c,t7s,m2c,A2c,y7s;O2c="Sto";O2c+="p Le";O2c+="vels";R7s=M4s.Studies.determineColor(t4s.outputs.Levels);if(!R7s || R7s == "auto" || M4s.isTransparent(R7s)){R7s=Y4s.defaultColor;}z4s=M4s.Studies.determineColor(t4s.outputs.Darvas);if(!z4s || z4s == "auto" || M4s.isTransparent(z4s)){z4s=Y4s.defaultColor;}x4s=M4s.Studies.determineColor(t4s.outputs.Ghost);if(!x4s || x4s == "auto" || M4s.isTransparent(x4s)){x4s=Y4s.defaultColor;}v4s=Y4s.panels[t4s.panel];f4s=t4s.getContext(Y4s);P4e.z5m(51);var c2t=P4e.W5m(6,7,4,7);D4s=Y4s.layout.candleWidth - c2t;if(D4s < 2){D4s=1;}Y4s.startClip(t4s.panel);if(t4s.inputs[O2c]){if(f4s.setLineDash){f4s.setLineDash([2,2]);}f4s.lineWidth=2;f4s.strokeStyle=R7s;f4s.beginPath();for(s4s=0;s4s < F4s.length;s4s++){o2c="Lo";o2c+="s";o2c+="s";o2c+=" ";b4s=F4s[s4s];P4e.z5m(123);w7s=F4s[P4e.W5m("1",s4s)];if(!b4s)continue;h4s=b4s[o2c + t4s.name]?Math.floor(Y4s.pixelFromPrice(b4s["Loss " + t4s.name],v4s)):null;V7s=w7s && w7s["Loss " + t4s.name]?Math.floor(Y4s.pixelFromPrice(w7s["Loss " + t4s.name],v4s)):null;if(h4s){if(b4s.candleWidth){D4s=Math.floor(Math.max(+"1",b4s.candleWidth));}Y7s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) + D4s / +"2");i7s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) - D4s / 2);if(V7s && V7s >= h4s){f4s.lineTo(i7s,h4s);}else if(s4s === 0){f4s.moveTo(Y4s.chart.left,h4s);}else {f4s.moveTo(i7s,h4s);}f4s.lineTo(Y7s,h4s);}}f4s.stroke();if(f4s.setLineDash){f4s.setLineDash([]);}f4s.lineWidth=1;}W4s=- +"10";A4s=+"0";Z4s=-10;U4s=+"0";J4s=!{};Q7s=! !"";b7s=f4s.measureText("\u25B2").width / +"2";X7s=0;for(s4s=0;s4s < F4s.length;s4s++){q2c="Da";q2c+="r";q2c+="va";q2c+="s ";if(!F4s[s4s])continue;if(F4s[s4s].Close || F4s[s4s].Close === 0){X7s=s4s;}if(F4s[s4s]["Spike " + t4s.name]){f4s.fillStyle=z4s;f4s.textBaseline="bottom";t7s=Y4s.pixelFromPrice(F4s[s4s].High,Y4s.chart.panel);f4s.fillText((5315,15.37) !== 5310?"\u25BC":(0x207b,"C"),Y4s.pixelFromBar(s4s) - b7s,t7s - 5);;}if(F4s[s4s].candleWidth){D4s=Math.floor(Math.max(1,F4s[s4s].candleWidth));}if(F4s[s4s][q2c + t4s.name]){b4s=F4s[s4s]["Darvas " + t4s.name];if(b4s.State == 1 && !J4s){W4s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) - D4s / ("2" | 0));G4s=Math.floor(Y4s.pixelFromPrice(b4s.High,v4s));e7s=Math.floor(Y4s.pixelFromPrice(b4s.Low,v4s)) - G4s;J4s=! !{};}else if(b4s.State === 0){m2c="Stop L";m2c+="evel";m2c+="s";A4s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) + D4s / +"2") - W4s;G4s=Math.floor(Y4s.pixelFromPrice(b4s.High,v4s));e7s=Math.floor(Y4s.pixelFromPrice(b4s.Low,v4s)) - G4s;f4s.strokeStyle=z4s;f4s.fillStyle=z4s;if(!t4s.inputs[m2c]){f4s.strokeRect(W4s,G4s,A4s,e7s);f4s.globalAlpha=0.2;}else {f4s.globalAlpha=+"0.3";}f4s.fillRect(W4s,G4s,A4s,e7s);f4s.globalAlpha=1;J4s=![];}}if(F4s[s4s]["Ghost " + t4s.name] && t4s.inputs["Ghost Boxes"]){b4s=F4s[s4s]["Ghost " + t4s.name];if(b4s.State == 1 && !Q7s){Z4s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) - D4s / ("2" << 1494529600));d4s=Math.floor(Y4s.pixelFromPrice(b4s.High,v4s));U4s=Math.floor((b4s.End - b4s.Start + 1) * Y4s.layout.candleWidth + D4s / 2);n7s=Math.floor(Y4s.pixelFromPrice(b4s.Low,v4s)) - d4s;Q7s=! !1;}else if(b4s.State === 0){A2c="Stop L";A2c+="e";A2c+="v";A2c+="els";if(b4s.Start == b4s.End){Z4s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) - D4s / 2);}P4e.U5m(8);var F2t=P4e.W5m(5,0,7);U4s=Math.floor(Y4s.pixelFromBar(s4s,v4s.chart) + D4s / F2t) - Z4s;d4s=Math.floor(Y4s.pixelFromPrice(b4s.High,v4s));n7s=Math.floor(Y4s.pixelFromPrice(b4s.Low,v4s)) - d4s;f4s.strokeStyle=x4s;f4s.fillStyle=x4s;if(!t4s.inputs[A2c]){f4s.strokeRect(Z4s,d4s,U4s,n7s);f4s.globalAlpha=0.2;}else {f4s.globalAlpha=0.3;}f4s.fillRect(Z4s,d4s,U4s,n7s);f4s.globalAlpha=1;Q7s=!{};}}}if(J4s){P4e.z5m(11);var N2t=P4e.x5m(0,2,20,20,1);A4s=Math.floor(Y4s.pixelFromBar(X7s,v4s.chart) + D4s / N2t) - W4s;f4s.strokeStyle=z4s;f4s.fillStyle=z4s;if(!t4s.inputs["Stop Levels"]){f4s.beginPath();P4e.z5m(19);f4s.moveTo(P4e.W5m(A4s,2,W4s),G4s);f4s.lineTo(W4s,G4s);P4e.U5m(2);f4s.lineTo(W4s,P4e.W5m(G4s,e7s));P4e.z5m(19);f4s.lineTo(P4e.x5m(A4s,2,W4s),P4e.x5m(G4s,e7s,P4e.z5m(2)));f4s.stroke();f4s.globalAlpha=0.2;}else {f4s.globalAlpha=0.3;}P4e.z5m(18);f4s.fillRect(W4s,G4s,P4e.x5m(A4s,2),e7s);f4s.globalAlpha=1;}if(Q7s){f4s.strokeStyle=x4s;f4s.fillStyle=x4s;if(!t4s.inputs["Stop Levels"]){f4s.strokeRect(Z4s,d4s,U4s,n7s);f4s.globalAlpha=0.2;}else {f4s.globalAlpha=0.3;}f4s.fillRect(Z4s,d4s,U4s,n7s);f4s.globalAlpha=1;}if(J4s || Q7s){if(t4s.inputs["Stop Levels"]){if(f4s.setLineDash){f4s.setLineDash([2,2]);}f4s.lineWidth=2;f4s.strokeStyle=R7s;y7s=Math.floor(Y4s.pixelFromBar(X7s - +"1",v4s.chart) + D4s / ("2" >> 490054688));if(l7s){f4s.beginPath();f4s.moveTo(y7s,l7s);f4s.lineTo(J4s?W4s + ("2" << 681615488) * A4s:Z4s + U4s,l7s);f4s.stroke();}if(h4s){f4s.beginPath();f4s.moveTo(y7s,h4s);f4s.lineTo(J4s?W4s + 2 * A4s:Z4s + U4s,h4s);f4s.stroke();}if(f4s.setLineDash){f4s.setLineDash([]);}f4s.lineWidth=1;}J4s=! !"";Q7s=![];}Y4s.endClip();};M4s.Studies.studyLibrary=M4s.extend(M4s.Studies.studyLibrary,{Darvas:{name:S2c,underlay:!"",calculateFN:M4s.Studies.calculateDarvas,seriesFN:M4s.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":[i2c,j2c],"Ghost Boxes":! !"1","Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!{},"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!"",attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!""},panelName:{hidden:! !"1"},flippedEnabled:{hidden:! !1}}}});}};I4Q=A7s=>{var T2c,F7s;T2c="u";T2c+="ndef";T2c+="i";T2c+="ned";F7s=typeof _CIQ !== T2c?_CIQ:A7s.CIQ;a2ww.q9e();if(!F7s.Studies){console.error("detrended feature requires first activating studies feature.");}else {F7s.Studies.calculateDetrendedPrice=function(H3s,x7s){var e2c,j3s,q3s,a3s,X2c,Y2c,G2c,I3s,R3s;e2c="C";e2c+="lo";e2c+="se";j3s=x7s.chart.scrubbed;if(j3s.length < x7s.days + +"1"){x7s.error=! ![];return;}q3s=x7s.inputs.Field;if(!q3s || q3s == "field"){q3s=e2c;}a2ww.q9e();a3s=Math.floor(x7s.days / 2 + ("1" >> 285440288));F7s.Studies.MA(x7s.inputs["Moving Average Type"],x7s.days,q3s,-a3s,"MA",H3s,x7s);for(var K3s=Math.max(x7s.days - a3s - 1,x7s.startFrom - a3s);K3s < j3s.length - a3s;K3s++){X2c="Result";X2c+=" ";Y2c="M";Y2c+="A ";G2c="obj";G2c+="e";G2c+="ct";if(K3s < 0)continue;I3s=j3s[K3s][q3s];if(I3s && typeof I3s == G2c){I3s=I3s[x7s.subField];}R3s=j3s[K3s][Y2c + x7s.name];if((I3s || I3s === 0) && (R3s || R3s === 0)){a2ww.U5m(6);j3s[K3s][X2c + x7s.name]=a2ww.W5m(I3s,R3s);}}};F7s.Studies.studyLibrary=F7s.extend(F7s.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:F7s.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};K4Q=Q3s=>{var e3s;a2ww.b9e();e3s=typeof _CIQ !== "undefined"?_CIQ:Q3s.CIQ;if(!e3s.Studies){console.error("disparity feature requires first activating studies feature.");}else {e3s.Studies.calculateDisparity=function(n3s,p3s){var p4e=a2ww;var M2c,E3s,B3s,w2c,N3s;M2c="Movin";M2c+="g Average Type";E3s=p3s.chart.scrubbed;if(E3s.length < p3s.days + 1){p3s.error=! !{};return;}B3s=p3s.inputs.Field;if(!B3s || B3s == "field"){B3s="Close";}e3s.Studies.MA(p3s.inputs[M2c],p3s.days,B3s,0,"_MA",n3s,p3s);for(var M3s=Math.max(p3s.startFrom,p3s.days - 1);M3s < E3s.length;M3s++){w2c="Re";w2c+="sult ";if(!E3s[M3s])continue;N3s=E3s[M3s]["_MA " + p3s.name];if(N3s){p4e.z5m(2);var H2t=p4e.W5m(14,86);p4e.z5m(124);var p2t=p4e.x5m(12,137,18,10);E3s[M3s][w2c + p3s.name]=H2t * (E3s[M3s][B3s] / N3s - p2t);}}};e3s.Studies.studyLibrary=e3s.extend(e3s.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:e3s.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};j4Q=c3s=>{var k2c,o3s;k2c="und";k2c+="efine";k2c+="d";o3s=typeof _CIQ !== k2c?_CIQ:c3s.CIQ;if(!o3s.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {o3s.Studies.calculateEaseOfMovement=function(i3s,X3s){var N4e=a2ww;var w3s,c2c,l3s,V3s,L3s,P3s,u3s;N4e.b9e();w3s=X3s.chart.scrubbed;if(w3s.length < X3s.days){X3s.error=!"";return;}for(var C3s=Math.max(1,X3s.startFrom);C3s < w3s.length;C3s++){c2c="_";c2c+="EO";c2c+="M1";c2c+=" ";N4e.U5m(8);var a2t=N4e.W5m(15,0,17);l3s=(w3s[C3s].High + w3s[C3s].Low) / a2t;N4e.z5m(12);var d2t=N4e.W5m(12,7,4);N4e.z5m(8);var x2t=N4e.W5m(4,0,5);V3s=(w3s[C3s - d2t].High + w3s[C3s - x2t].Low) / +"2";N4e.z5m(6);L3s=N4e.x5m(l3s,V3s);N4e.U5m(63);var v2t=N4e.W5m(100000017,99999991,11111113);P3s=w3s[C3s].Volume / v2t / (w3s[C3s].High - w3s[C3s].Low);N4e.U5m(16);u3s=N4e.x5m(P3s,L3s);if(!isFinite(u3s)){w3s[C3s]["_EOM1 " + X3s.name]=NaN;}else {w3s[C3s][c2c + X3s.name]=u3s;}}o3s.Studies.MA(X3s.inputs["Moving Average Type"],X3s.days,"_EOM1 " + X3s.name,0,"Result",i3s,X3s);};o3s.Studies.studyLibrary=o3s.extend(o3s.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:o3s.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};q4Q=m3s=>{var t2e=a2ww;var F2c,O3s,G29,Y29,X29,d2c,v2c,x2c;F2c="undefine";F2c+="d";O3s=typeof _CIQ !== F2c?_CIQ:m3s.CIQ;if(!O3s.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {O3s.Studies.calculateEhlerFisher=function(s3s,y3s){var N2c,r3s,k3s,a2c,p2c,g3s,H2c,T3s,f3s;function Y3s(W3s,D3s){var t3s,v3s,F3s;t3s=Number.MAX_VALUE;v3s=Number.MAX_VALUE * - +"1";for(var b3s=D3s - W3s + 1;b3s <= D3s;b3s++){t2e.U5m(23);var Z2t=t2e.W5m(12,10);F3s=(r3s[b3s].High + r3s[b3s].Low) / Z2t;t3s=Math.min(t3s,F3s);v3s=Math.max(v3s,F3s);}return [t3s,v3s];}N2c="_";N2c+="n";N2c+=" ";r3s=y3s.chart.scrubbed;if(r3s.length < y3s.days + 1){y3s.error=! !{};return;}t2e.U5m(46);k3s=t2e.W5m("0",340348256);if(y3s.startFrom > 1){t2e.U5m(9);var J2t=t2e.x5m(18,0,3,20);k3s=r3s[y3s.startFrom - J2t][N2c + y3s.name];}for(var S3s=y3s.startFrom;S3s < r3s.length;S3s++){a2c="_";a2c+="n";a2c+=" ";p2c="E";p2c+="F";p2c+=" ";g3s=r3s[S3s];if(g3s.futureTick)break;if(S3s < y3s.days - +"1"){H2c="EF ";H2c+="Trig";H2c+="g";H2c+="er ";g3s["EF " + y3s.name]=g3s[H2c + y3s.name]=k3s;continue;}T3s=Y3s(y3s.days,S3s);t2e.U5m(6);var L2t=t2e.W5m(22,20);t2e.z5m(125);var R1t=t2e.W5m(2,16,8,26,22);t2e.z5m(45);var t1t=t2e.W5m(19,3,15,8);k3s=0.33 * L2t * (((r3s[S3s].High + r3s[S3s].Low) / R1t - T3s[0]) / Math.max(0.000001,T3s[t1t] - T3s[0]) - 0.5) + 0.67 * k3s;if(k3s > 0){k3s=Math.min(k3s,0.9999);}else if(k3s < 0){k3s=Math.max(k3s,-0.9999);}f3s=S3s?r3s[S3s - ("1" ^ 0)]["EF " + y3s.name]:+"0";t2e.U5m(23);var s1t=t2e.W5m(4,3);t2e.z5m(55);var b1t=t2e.W5m(15,12,28);g3s[p2c + y3s.name]="0.5" * s1t * Math.log((+"1" + k3s) / (b1t - k3s)) + 0.5 * f3s;g3s["EF Trigger " + y3s.name]=f3s;g3s[a2c + y3s.name]=k3s;}};G29=2058463721;t2e.z5m(18);Y29=t2e.x5m(1,"1164363281");X29=2;for(var w29=1;t2e.P89(w29.toString(),w29.toString().length,94727) !== G29;w29++){d2c="EF ";d2c+="Trigger";O3s.Studies.studyLibrary=O3s.extend(O3s.Studies.studyLibrary,{"Ehler Fisher":{name:"EF Trigger",calculateFN:O3s.Studies.calculateEhlerFisher,inputs:{Period:66},outputs:{EF:d2c,"EF Trigger":"#FF0000"}}});X29+=2;}if(t2e.y89(X29.toString(),X29.toString().length,68461) !== Y29){v2c="#FF0";v2c+="000";x2c="a";x2c+="u";x2c+="t";x2c+="o";O3s.Studies.studyLibrary=O3s.extend(O3s.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:O3s.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:x2c,"EF Trigger":v2c}}});}}};a4Q=z3s=>{var Z2c,G3s,r1c;Z2c="undef";Z2c+="ine";Z2c+="d";G3s=typeof _CIQ !== Z2c?_CIQ:z3s.CIQ;if(!G3s.Studies){console.error("elder feature requires first activating studies feature.");}else {r1c="Elder For";r1c+="ce Index";G3s.Studies.calculateElderImpulse=function(J3s,h3s){var L2c,J2c,Z3s,d3s,I5s,U3s,x3s,b1c,s1c,t1c,R1c;L2c="ma";L2c+="c";L2c+="d";J2c="e";J2c+="xpo";J2c+="nenti";J2c+="al";Z3s=h3s.chart.scrubbed;d3s=h3s.outputs.Bullish;a2ww.q9e();I5s=h3s.outputs.Bearish;U3s=h3s.outputs.Neutral;G3s.Studies.MA(J2c,13,"Close",+"0","_MA",J3s,h3s);h3s.macd=new G3s.Studies.StudyDescriptor("_" + h3s.name,L2c,h3s.panel);h3s.macd.chart=h3s.chart;h3s.macd.days=h3s.days;h3s.macd.startFrom=h3s.startFrom;h3s.macd.inputs={"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9};h3s.macd.outputs={_MACD:null,_Signal:null};G3s.Studies.calculateMACD(J3s,h3s.macd);for(var A3s=h3s.startFrom;A3s < Z3s.length;A3s++){b1c="Resu";b1c+="l";b1c+="t";b1c+=" ";s1c="_M";s1c+="A ";t1c="_";t1c+="M";t1c+="A";t1c+=" ";R1c="_";R1c+="M";R1c+="A";R1c+=" ";if(A3s === ("0" & 2147483647)){x3s=U3s;}else if(Z3s[A3s]["_MA " + h3s.name] > Z3s[A3s - 1][R1c + h3s.name] && Z3s[A3s][(6771 > 20.31?"_":401 < (23.68,904.16)?0x26c3:(!{},"l")) + h3s.name + "_hist"] > Z3s[A3s - ("1" & 2147483647)]["_" + h3s.name + "_hist"]){x3s=d3s;}else if(Z3s[A3s][t1c + h3s.name] < Z3s[A3s - 1][s1c + h3s.name] && Z3s[A3s]["_" + h3s.name + "_hist"] < Z3s[A3s - 1][((48,"1283" >> 2052457376) === (196,968.11)?![]:"_") + h3s.name + "_hist"]){x3s=I5s;}else {x3s=U3s;}Z3s[A3s][b1c + h3s.name]=x3s;;}};G3s.Studies.calculateElderRay=function(a5s,K5s){var j5s,f1c;j5s=K5s.chart.scrubbed;if(j5s.length < K5s.days){K5s.error=!0;return;}G3s.Studies.MA("exponential",K5s.days,"Close",0,"_EMA",a5s,K5s);for(var q5s=Math.max(K5s.startFrom,K5s.days - 1);q5s < j5s.length;q5s++){f1c="_";f1c+="E";f1c+="M";f1c+="A ";j5s[q5s][K5s.name + "_hist1"]=j5s[q5s].High - j5s[q5s][f1c + K5s.name];j5s[q5s][K5s.name + "_hist2"]=j5s[q5s].Low - j5s[q5s]["_EMA " + K5s.name];}K5s.outputMap={};K5s.outputMap[K5s.name + "_hist1"]="";K5s.outputMap[K5s.name + "_hist2"]="";};G3s.Studies.calculateElderForce=function(M5s,H5s){var g1c,p5s;g1c="_";g1c+="E";g1c+="F";g1c+="1 ";p5s=H5s.chart.scrubbed;a2ww.q9e();if(p5s.length < H5s.days){H5s.error=! !1;return;}for(var E5s=Math.max(1,H5s.startFrom);E5s < p5s.length;E5s++){p5s[E5s]["_EF1 " + H5s.name]=p5s[E5s].Volume * (p5s[E5s].Close - p5s[E5s - +"1"].Close);}G3s.Studies.MA("exponential",H5s.days,g1c + H5s.name,0,"Result",M5s,H5s);};G3s.Studies.initElderImpulse=function(N5s,c5s,C5s,u5s,o5s,L5s){var B5s;a2ww.q9e();B5s=G3s.Studies.initializeFN(N5s,c5s,C5s,u5s,o5s,L5s);if(o5s.calculateOnly){return B5s;}N5s.chart.customChart={chartType:"colored_bar",colorFunction:function(m5s,O5s,k5s){var P5s;P5s=O5s["Result " + B5s.name];if(P5s && typeof P5s == "object"){P5s=P5s.color;}return P5s;}};N5s.setMainSeriesRenderer();return B5s;};G3s.Studies.displayElderForce=function(S5s,r5s,D5s){var f5s,s5s,v5s,g5s;G3s.Studies.displaySeriesAsLine(S5s,r5s,D5s);f5s=G3s.Studies.determineColor(r5s.outputs.Result);s5s=S5s.panels[r5s.panel];v5s=r5s.getYAxis(S5s);g5s={skipTransform:s5s.name != r5s.chart.name,panelName:r5s.panel,band:"Result " + r5s.name,threshold:"0" >> 1265248032,color:f5s,yAxis:v5s};if(!r5s.highlight && S5s.highlightedDraggable){g5s.opacity=0.3;}g5s.direction=1;G3s.preparePeakValleyFill(S5s,g5s);g5s.direction=-1;G3s.preparePeakValleyFill(S5s,g5s);};G3s.Studies.displayElderRay=function(G5s,W5s,q8s){var h1c,d5s,Z5s,K8s,j8s,U5s,a8s,z1c,C1c,n1c,I1c,z5s;h1c="stx_h";h1c+="i";a2ww.b9e();h1c+="stogram";d5s=G5s.panels[W5s.panel];Z5s=W5s.getContext(G5s);function I8s(H8s,R8s,e8s,Q8s){a2ww.q9e();Z5s.fillStyle=G3s.Studies.determineColor(W5s.outputs[e8s]);Z5s.fillRect(Math.floor(G5s.pixelFromBar(H8s,d5s.chart) - U5s / +"2" + U5s * R8s),Math.floor(j8s),Math.floor(U5s * (1 - 2 * R8s)),Math.floor(G5s.pixelFromPrice(z5s[W5s.name + Q8s],d5s,K8s) - j8s));}K8s=W5s.getYAxis(G5s);j8s=G5s.pixelFromPrice(0,d5s,K8s);a2ww.z5m(110);var f1t=a2ww.W5m(13,67,16,7,5);U5s=G5s.layout.candleWidth - f1t;if(U5s < 2){U5s=1;}G5s.canvasColor(h1c);a8s=Z5s.fillStyle;if(!W5s.underlay){Z5s.globalAlpha=1;}G5s.startClip(W5s.panel);if(!W5s.highlight && G5s.highlightedDraggable){Z5s.globalAlpha*=0.3;}for(var h5s="0" * 1;h5s < q8s.length;h5s++){z1c="_hist";z1c+="2";C1c="_";C1c+="h";C1c+="i";C1c+="st1";n1c="Elder Bull";n1c+=" Power";I1c="_";I1c+="hist1";z5s=q8s[h5s];if(!z5s)continue;if(z5s.candleWidth){U5s=Math.floor(Math.max("1" ^ 0,z5s.candleWidth - 2));}if(z5s[W5s.name + "_hist1"] > 0){I8s(h5s,0,"Elder Bull Power",I1c);}if(z5s[W5s.name + "_hist2"] < 0){I8s(h5s,0,"Elder Bear Power","_hist2");}if(z5s[W5s.name + "_hist1"] < 0){I8s(h5s,0.1,n1c,C1c);}if(z5s[W5s.name + "_hist2"] > 0){I8s(h5s,0.1,"Elder Bear Power",z1c);}}G5s.endClip();Z5s.fillStyle=a8s;};G3s.Studies.studyLibrary=G3s.extend(G3s.Studies.studyLibrary,{"Elder Force":{name:r1c,calculateFN:G3s.Studies.calculateElderForce,seriesFN:G3s.Studies.displayElderForce,inputs:{Period:"13" ^ 0}},"Elder Ray":{name:"Elder Ray Index",seriesFN:G3s.Studies.displayElderRay,calculateFN:G3s.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:G3s.Studies.calculateElderImpulse,initializeFN:G3s.Studies.initElderImpulse,seriesFN:null,customRemoval:!"",underlay:! !{},inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(p8s,E8s){p8s.chart.customChart=null;p8s.setMainSeriesRenderer();}}});}};R4Q=B8s=>{a2ww.b9e();var M8s,Q1c;M8s=typeof _CIQ !== "undefined"?_CIQ:B8s.CIQ;if(!M8s.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {Q1c="aut";Q1c+="o";M8s.Studies.calculateFractalChaos=function(V8s,c8s){var B1c,n8s,C8s,X8s,w8s,D1c,y1c,u8s,l8s,o8s,P1c,K1c;B1c="F";B1c+="ra";B1c+="ctal Chaos Bands";n8s=c8s.chart.scrubbed;a2ww.q9e();C8s=0;X8s=0;w8s=0;if(c8s.startFrom && c8s.type == B1c){D1c="Fra";D1c+="ctal ";D1c+="High ";C8s=n8s[c8s.startFrom - +"1"][D1c + c8s.name];a2ww.z5m(97);var g1t=a2ww.W5m(2,168,11,2,13);X8s=n8s[c8s.startFrom - "1" * g1t]["Fractal Low " + c8s.name];}for(var N8s=Math.max(4,c8s.startFrom);N8s < n8s.length;N8s++){y1c="Fractal Ch";y1c+="aos Bands";if(n8s[N8s].futureTick)break;u8s=!isNaN(n8s[N8s].High);l8s=!isNaN(n8s[N8s].Low);if(u8s || l8s){n8s[N8s]["Result " + c8s.name]=0;}w8s=0;for(o8s=0;o8s <= N8s;o8s++){if(!n8s[N8s - o8s])break;if(n8s[N8s - o8s].High > n8s[N8s - 2].High)break;if(o8s < "2" - 0 && n8s[N8s - o8s].High == n8s[N8s - ("2" ^ 0)].High)break;if(n8s[N8s - o8s].High < n8s[N8s - 2].High){w8s++;}if(w8s == 4){C8s=n8s[N8s - 2].High;break;}}if(c8s.type == "Fractal Chaos Bands"){if(u8s){n8s[N8s]["Fractal High " + c8s.name]=C8s > 0?C8s:null;}}else if(w8s == 4){P1c="R";P1c+="es";P1c+="ul";P1c+="t ";n8s[N8s][P1c + c8s.name]=1;}w8s=0;for(o8s=0;o8s <= N8s;o8s++){if(!n8s[N8s - o8s])break;if(n8s[N8s - o8s].Low < n8s[N8s - 2].Low)break;if(o8s < 2 && n8s[N8s - o8s].Low == n8s[N8s - 2].Low)break;if(n8s[N8s - o8s].Low > n8s[N8s - 2].Low){w8s++;}if(w8s == +"4"){X8s=n8s[N8s - 2].Low;break;}}if(c8s.type == y1c){K1c="Fract";K1c+="al Lo";K1c+="w ";if(l8s){n8s[N8s][K1c + c8s.name]=X8s > 0?X8s:null;}}else if(w8s == 4){n8s[N8s]["Result " + c8s.name]=-1;}}};M8s.Studies.studyLibrary=M8s.extend(M8s.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:M8s.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:M8s.Studies.calculateFractalChaos,seriesFN:M8s.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Fractal High":Q1c,"Fractal Low":"auto","Fractal Channel":"auto"}}});}};H4Q=P8s=>{var U1c,L8s,o1c;U1c="undefi";U1c+="ned";L8s=typeof _CIQ !== U1c?_CIQ:P8s.CIQ;if(!L8s.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {o1c="a";o1c+="ut";o1c+="o";L8s.Studies.calculateMaxHighMinLow=function(f8s,i8s){var n4e=a2ww;var V1c,O8s,T8s,g8s,r8s,k8s,y8s,u1c,S8s,E1c,l1c,W1c;V1c="L";V1c+="o";V1c+="w Period";O8s=i8s.chart.scrubbed;T8s=i8s.days;g8s=i8s.days;if(i8s.inputs["High Period"]){T8s=i8s.inputs["High Period"];}if(i8s.inputs["Low Period"]){g8s=i8s.inputs[V1c];}if(O8s.length < Math.max(T8s,g8s) + 1){i8s.error=! ![];return;}r8s=Number.MAX_VALUE;n4e.U5m(23);n4e.b9e();var h1t=n4e.W5m(7,8);k8s=Number.MAX_VALUE * h1t;if(i8s.startFrom > 1){for(y8s=1;y8s < T8s;y8s++){if(i8s.startFrom - y8s >= "0" << 712747936){k8s=Math.max(k8s,O8s[i8s.startFrom - y8s].High);}}for(y8s="1" & 2147483647;y8s < g8s;y8s++){if(i8s.startFrom - y8s >= 0){r8s=Math.min(r8s,O8s[i8s.startFrom - y8s].Low);}}}for(var m8s=Math.max(0,i8s.startFrom - 1);m8s < O8s.length;m8s++){u1c="H";u1c+="HV";k8s=Math.max(k8s,O8s[m8s].High);r8s=Math.min(r8s,O8s[m8s].Low);if(m8s >= T8s){if(O8s[m8s - T8s].High == k8s){k8s=O8s[m8s].High;for(y8s=1;y8s < T8s;y8s++){k8s=Math.max(k8s,O8s[m8s - y8s].High);}}}if(m8s >= g8s){if(O8s[m8s - g8s].Low == r8s){r8s=O8s[m8s].Low;for(y8s="1" | 1;y8s < g8s;y8s++){r8s=Math.min(r8s,O8s[m8s - y8s].Low);}}}n4e.z5m(7);S8s=n4e.W5m(886605472,"0");if(i8s.type == u1c){S8s=k8s;}else if(i8s.type == "LLV"){S8s=r8s;}else if(i8s.type == "Donchian Width"){n4e.U5m(6);S8s=n4e.W5m(k8s,r8s);}else if(i8s.type == "GAPO" || i8s.type == "Gopala"){S8s=Math.log(k8s - r8s) / Math.log(g8s);}else if(i8s.type == "VT HZ Filter"){E1c="_M";E1c+="H";E1c+="M";E1c+="L ";n4e.U5m(6);S8s=n4e.x5m(k8s,r8s);O8s[m8s][E1c + i8s.name]=S8s;continue;}else if(i8s.type == "Williams %R"){n4e.z5m(126);var I1t=n4e.x5m(84,16);S8s=I1t * (k8s - O8s[m8s].Close) / (k8s - r8s);O8s[m8s]["Result " + i8s.name]=S8s;continue;}if(m8s == O8s.length - 1)break;if(!O8s[m8s + 1].futureTick){if(i8s.type == "Donchian Channel"){l1c="D";l1c+="onchia";l1c+="n ";l1c+="Low ";W1c="Donchian";W1c+=" High ";n4e.z5m(2);O8s[n4e.W5m(m8s,1)][W1c + i8s.name]=k8s;n4e.U5m(2);O8s[n4e.W5m(m8s,1)][l1c + i8s.name]=r8s;n4e.U5m(2);O8s[n4e.W5m(m8s,1)]["Donchian Median " + i8s.name]=n4e.x5m(2,r8s,k8s,n4e.z5m(3));}else {n4e.U5m(111);O8s[n4e.W5m(m8s,"1")]["Result " + i8s.name]=S8s;}}}};L8s.Studies.calculateVerticalHorizontalFilter=function(D8s,Y8s){var s8s,t8s,v8s,F8s,O1c;s8s=Y8s.chart.scrubbed;if(s8s.length < Y8s.days + +"1"){Y8s.error=! ![];return;}Y8s.mhml=new L8s.Studies.StudyDescriptor(Y8s.name,Y8s.type,Y8s.panel);Y8s.mhml.chart=Y8s.chart;Y8s.mhml.days=Y8s.days;Y8s.mhml.startFrom=Y8s.startFrom;Y8s.mhml.inputs={};Y8s.mhml.outputs={_MHML:null};L8s.Studies.calculateMaxHighMinLow(D8s,Y8s.mhml);t8s=0;v8s=[];a2ww.b9e();for(var b8s=Math.max(1,Y8s.startFrom - Y8s.days);b8s < s8s.length;b8s++){F8s=Math.abs(s8s[b8s].Close - s8s[b8s - 1].Close);v8s.push(F8s);t8s+=F8s;if(v8s.length == Y8s.days){O1c="R";O1c+="e";O1c+="sult ";s8s[b8s][O1c + Y8s.name]=s8s[b8s]["_MHML " + Y8s.name] / t8s;t8s-=v8s.shift();}}};L8s.Studies.studyLibrary=L8s.extend(L8s.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!0,calculateFN:L8s.Studies.calculateMaxHighMinLow,seriesFN:L8s.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !1},outputs:{"Donchian High":o1c,"Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:L8s.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:L8s.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:L8s.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},LLV:{name:"Lowest Low Value",calculateFN:L8s.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:L8s.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:L8s.Studies.calculateVerticalHorizontalFilter,inputs:{Period:+"28"}},"High-Low":{name:"High Minus Low",calculateFN:function(h8s,z8s){var G8s,q1c;G8s=z8s.chart.scrubbed;a2ww.q9e();for(var W8s=z8s.startFrom;W8s < G8s.length;W8s++){q1c="Resul";q1c+="t";q1c+=" ";G8s[W8s][q1c + z8s.name]=G8s[W8s].High - G8s[W8s].Low;}},inputs:{}}});}};e4Q=Z8s=>{a2ww.b9e();var m19,A19,S19,A8s,e1c,T1c,j1c;m19=-1822130806;A19=1033023386;S19=2;for(var j19=1;a2ww.y89(j19.toString(),j19.toString().length,23956) !== m19;j19++){A8s=!_CIQ != ""?_CIQ:Z8s.CIQ;S19+=2;}if(a2ww.P89(S19.toString(),S19.toString().length,+"1781") !== A19){A8s=typeof _CIQ !== "undefined"?_CIQ:Z8s.CIQ;}if(!A8s.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {e1c="#";e1c+="FF00";e1c+="0";e1c+="0";T1c="#00FF0";T1c+="0";j1c="#";j1c+="00";j1c+="00FF";A8s.Studies.calculateIchimoku=function(B3U,U8s){var I4e=a2ww;var m1c,J8s,d8s,x8s,K3U,S1c,A1c,Q3U,i1c,p3U,M3U,j3U;function q3U(C3U,c3U){var n3U,o3U;n3U=Number.MAX_VALUE;o3U=Number.MAX_VALUE * -("1" & 2147483647);for(var N3U=c3U - C3U + 1;N3U <= c3U;N3U++){if(N3U < 0)continue;n3U=Math.min(n3U,J8s[N3U].Low);o3U=Math.max(o3U,J8s[N3U].High);}return [n3U,o3U];}m1c="L";m1c+="eading Span B Period";J8s=U8s.chart.scrubbed;d8s={Base:Number(U8s.inputs["Base Line Period"]),Conv:Number(U8s.inputs["Conversion Line Period"]),LeadB:Number(U8s.inputs[m1c]),Lag:Number(U8s.inputs["Lagging Span Period"])};for(x8s=U8s.startFrom;x8s < J8s.length;x8s++){S1c="Base ";S1c+="L";S1c+="in";S1c+="e ";A1c="Conversi";A1c+="on Li";A1c+="ne ";if(!J8s[x8s])continue;K3U=q3U(d8s.Conv,x8s);I4e.z5m(17);var n1t=I4e.x5m(3,15,3,14);I4e.U5m(28);var C1t=I4e.W5m(18129820800,1,19424808000);J8s[x8s][A1c + U8s.name]=(K3U[n1t] + K3U[0]) / ("2" << C1t);K3U=q3U(d8s.Base,x8s);I4e.z5m(6);var z1t=I4e.x5m(15,14);I4e.z5m(127);var r1t=I4e.x5m(13,14,16,2);J8s[x8s][S1c + U8s.name]=(K3U[z1t] + K3U[+"0"]) / r1t;if(x8s < d8s.Lag)continue;J8s[x8s - d8s.Lag]["Lagging Span " + U8s.name]=J8s[x8s].Close;}Q3U=[];for(x8s=Math.max(0,U8s.startFrom - d8s.Base);x8s < J8s.length;x8s++){i1c="Base L";i1c+="ine ";K3U=q3U(d8s.LeadB,x8s);I4e.U5m(106);var B1t=I4e.W5m(291,17,17,1);p3U=(J8s[x8s]["Conversion Line " + U8s.name] + J8s[x8s][i1c + U8s.name]) / B1t;I4e.z5m(6);var D1t=I4e.x5m(12,11);I4e.z5m(128);var P1t=I4e.x5m(14,17,10,11);M3U=(K3U[D1t] + K3U[0]) / ("2" | P1t);if(J8s[x8s + d8s.Base]){J8s[x8s + d8s.Base]["Leading Span A " + U8s.name]=p3U;J8s[x8s + d8s.Base]["Leading Span B " + U8s.name]=M3U;}else {j3U={};j3U["Leading Span A " + U8s.name]=p3U;j3U["Leading Span B " + U8s.name]=M3U;Q3U.push(j3U);}}U8s.appendFutureTicks(B3U,Q3U);};A8s.Studies.displayIchimoku=function(u3U,X3U,r3U){var l3U,L3U,m3U,y3U,k3U,P3U,O3U;l3U="Leading Span A " + X3U.name;L3U="Leading Span B " + X3U.name;m3U=A8s.Studies.determineColor(X3U.outputs[X3U.outputMap[l3U]]);y3U=A8s.Studies.determineColor(X3U.outputs[X3U.outputMap[L3U]]);k3U=u3U.panels[X3U.panel];P3U=X3U.getYAxis(u3U);O3U={topBand:l3U,bottomBand:L3U,topColor:m3U,bottomColor:y3U,skipTransform:k3U.name != X3U.chart.name,topAxis:P3U,bottomAxis:P3U,opacity:0.3};if(!X3U.highlight && u3U.highlightedDraggable){O3U.opacity*=0.3;}A8s.fillIntersecting(u3U,X3U.panel,O3U);a2ww.q9e();A8s.Studies.displaySeriesAsLine(u3U,X3U,r3U);};A8s.Studies.studyLibrary=A8s.extend(A8s.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:A8s.Studies.calculateIchimoku,seriesFN:A8s.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":+"26","Leading Span B Period":52,"Lagging Span Period":+"26"},outputs:{"Conversion Line":j1c,"Base Line":"#FF0000","Leading Span A":T1c,"Leading Span B":e1c,"Lagging Span":"#808000"}}});}};Q4Q=T3U=>{var S3U;a2ww.q9e();S3U=typeof _CIQ !== "undefined"?_CIQ:T3U.CIQ;if(!S3U.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {S3U.Studies.calculateIntradayMomentum=function(x3U,f3U){var g4e=a2ww;g4e.b9e();var Y3U,v3U,b3U,t3U,D3U,z3U;Y3U=f3U.chart.scrubbed;v3U=f3U.days;if(Y3U.length < v3U + 1){f3U.error=! !1;return;}b3U=0;t3U=0;if(f3U.startFrom > 1){g4e.z5m(129);var K1t=g4e.W5m(4,179,17,11,11);b3U=Y3U[f3U.startFrom - K1t]["_totUp " + f3U.name];g4e.z5m(2);var Q1t=g4e.x5m(1070018582,10);t3U=Y3U[f3U.startFrom - ("1" >> Q1t)]["_totDn " + f3U.name];}for(var s3U=f3U.startFrom;s3U < Y3U.length;s3U++){D3U=Y3U[s3U].Close - Y3U[s3U].Open;if(D3U > 0){b3U+=D3U;}else {t3U-=D3U;}if(s3U >= v3U){z3U=Y3U[s3U - v3U].Close - Y3U[s3U - v3U].Open;if(z3U > 0){b3U-=z3U;}else {t3U+=z3U;}}g4e.U5m(130);Y3U[s3U]["Result " + f3U.name]=g4e.W5m(b3U,b3U,100,t3U);Y3U[s3U]["_totUp " + f3U.name]=b3U;Y3U[s3U]["_totDn " + f3U.name]=t3U;}};S3U.Studies.studyLibrary=S3U.extend(S3U.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:S3U.Studies.calculateIntradayMomentum,inputs:{Period:"20" | 4},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};p4Q=J3U=>{var U3U,G1c,c1c,k1c,w1c,M1c;U3U=typeof _CIQ !== "undefined"?_CIQ:J3U.CIQ;a2ww.b9e();if(!U3U.Studies){G1c="keltner feature requires fi";G1c+="rst activating studies feature.";console.error(G1c);}else {c1c="a";c1c+="u";c1c+="t";c1c+="o";k1c="au";k1c+="t";k1c+="o";w1c="e";w1c+="m";w1c+="a";M1c="Keltn";M1c+="e";M1c+="r Ch";M1c+="annel";U3U.Studies.calculateKeltner=function(I1y,d3U){var X1c,Y1c;X1c="A";X1c+="T";X1c+="R ";Y1c="M";Y1c+="A";U3U.Studies.MA(d3U.inputs["Moving Average Type"],d3U.days,"Close",0,Y1c,I1y,d3U);U3U.Studies.calculateStudyATR(I1y,d3U);U3U.Studies.calculateGenericEnvelope(I1y,d3U,d3U.inputs.Shift,"MA " + d3U.name,X1c + d3U.name);};U3U.Studies.studyLibrary=U3U.extend(U3U.Studies.studyLibrary,{Keltner:{name:M1c,overlay:! !1,seriesFN:U3U.Studies.displayChannel,calculateFN:U3U.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":w1c,"Channel Fill":! ![]},outputs:{"Keltner Top":k1c,"Keltner Median":"auto","Keltner Bottom":c1c},attributes:{Shift:{min:0.1,step:0.1}}}});}};E4Q=j1y=>{var F1c,K1y,d1c,a1c;F1c="un";F1c+="defin";F1c+="ed";K1y=typeof _CIQ !== F1c?_CIQ:j1y.CIQ;a2ww.q9e();if(!K1y.Studies){console.error("klinger feature requires first activating studies feature.");}else {d1c="#F";d1c+="F0000";a1c="Kl";a1c+="inger Vol";a1c+="ume";a1c+=" Oscillator";K1y.Studies.calculateKlinger=function(E1y,a1y){var p1c,H1c,N1c,R1y,M1y,H1y,B1y,e1y,o1y,Q1y,N1y,n1y,q1y,p1y;p1c="_EM";p1c+="A-";p1c+="L";H1c="_EM";H1c+="A";H1c+="-";H1c+="L ";N1c="_";N1c+="EMA";N1c+="-S ";R1y=a1y.chart.scrubbed;M1y=Number(a1y.inputs["Short Cycle"]);H1y=Number(a1y.inputs["Long Cycle"]);if(R1y.length < Math.max(M1y,H1y) + 1){a1y.error=! ![];return;}B1y=a1y.name + "_hist";e1y="Klinger " + a1y.name;o1y="KlingerSignal " + a1y.name;Q1y="_SV " + a1y.name;N1y=N1c + a1y.name;n1y=H1c + a1y.name;for(q1y=Math.max("1" << 634755296,a1y.startFrom);q1y < R1y.length;q1y++){p1y=R1y[q1y].Volume;if(R1y[q1y]["hlc/3"] < R1y[q1y - 1]["hlc/3"]){p1y*=- +"1";}if(p1y){R1y[q1y][Q1y]=p1y;}}a2ww.U5m(7);K1y.Studies.MA("exponential",M1y,Q1y,a2ww.W5m(900474560,"0"),"_EMA-S",E1y,a1y);a2ww.b9e();K1y.Studies.MA("exponential",H1y,Q1y,0,p1c,E1y,a1y);for(q1y=Math.max(H1y,a1y.startFrom);q1y < R1y.length;q1y++){if(R1y[q1y].futureTick || R1y[q1y][N1y] === null || R1y[q1y][n1y] === null)break;R1y[q1y][e1y]=R1y[q1y][N1y] - R1y[q1y][n1y];}K1y.Studies.MA("exponential",Number(a1y.inputs["Signal Periods"]),e1y,+"0","KlingerSignal",E1y,a1y);for(q1y=a1y.startFrom;q1y < R1y.length;q1y++){R1y[q1y][B1y]=R1y[q1y][e1y] - R1y[q1y][o1y];}a1y.outputMap[B1y]="";};K1y.Studies.studyLibrary=K1y.extend(K1y.Studies.studyLibrary,{Klinger:{name:a1c,seriesFN:K1y.Studies.displayHistogramWithSeries,calculateFN:K1y.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":d1c}}});}};M4Q=w1y=>{var N2e=a2ww;var x1c,c1y,v1c,J1c,Z1c,f29,g29,h29,f4c,b4c,s4c,t4c,n4c,I4c,h4c,g4c;x1c="u";x1c+="ndef";x1c+="ine";x1c+="d";c1y=typeof _CIQ !== x1c?_CIQ:w1y.CIQ;if(!c1y.Studies){v1c="linearReg";v1c+="ression feature requires first activating studies feature.";console.error(v1c);}else {J1c="TimeSe";J1c+="ri";J1c+="es";Z1c="time s";Z1c+="e";Z1c+="ries";c1y.Studies.prettify["time series"]="tsma";c1y.Studies.movingAverage.conversions.tsma="time series";c1y.Studies.movingAverage.translations[Z1c]="Time Series";c1y.Studies.movingAverage.typeMap.tsma="TimeSeries";c1y.Studies.movingAverage.typeMap["time series"]=J1c;c1y.Studies.calculateMovingAverageTimeSeries=function(y1y,C1y){var l1y,u1y,V1y,L1y,P1y,i1y,O1y,m1y;C1y.ma=new c1y.Studies.StudyDescriptor(C1y.name,"ma",C1y.panel);C1y.ma.chart=C1y.chart;C1y.ma.days=C1y.days;C1y.ma.startFrom=C1y.startFrom;C1y.ma.inputs=C1y.inputs;c1y.Studies.calculateLinearRegressionIndicator(y1y,C1y.ma);l1y=C1y.name;for(var k1y in C1y.outputs){N2e.U5m(43);l1y=N2e.x5m(l1y,661 === +"1880"?(7100,417) <= 902?("817" | 817,999) !== (4939,29.33)?("D",! ![]):! !{}:("g",4.31e+3):" ",k1y);}u1y=parseInt(C1y.inputs.Offset,"10" << 553384480);if(isNaN(u1y)){u1y=0;}V1y=C1y.chart.scrubbed;L1y=u1y;for(var X1y=C1y.startFrom - 1;X1y >= 0;X1y--){P1y=V1y[X1y][l1y];if(!P1y && P1y !== 0)continue;if(L1y > 0){L1y--;continue;}break;}i1y=[];for(X1y++;X1y < V1y.length;X1y++){O1y=V1y[X1y];if(X1y + u1y >= 0){if(X1y + u1y < V1y.length){N2e.z5m(2);V1y[N2e.W5m(X1y,u1y)][l1y]=O1y["Forecast " + C1y.name];}else {m1y={};m1y[l1y]=O1y["Forecast " + C1y.name];i1y.push(m1y);}}}C1y.appendFutureTicks(y1y,i1y);};c1y.Studies.calculateLinearRegressionIndicator=function(A1y,r1y){var g1y,O29,o29,q29,s1y,v1y,W1y,G1y,f1y,F1y,b1y,L1c,D1y,R4c,T1y,Y1y,t1y,z1y,h1y;g1y=r1y.chart.scrubbed;if(g1y.length < r1y.days + 1){r1y.error=! !1;N2e.z5m(7);O29=-N2e.x5m(1640507648,"1894160411");o29=1829434968;q29=+"2";for(var A29=1;N2e.P89(A29.toString(),A29.toString().length,15412) !== O29;A29++){return;}if(N2e.P89(q29.toString(),q29.toString().length,80145) !== o29){return;}}s1y=r1y.inputs.Field;if(!s1y || s1y == "field"){s1y="Close";}N2e.U5m(24);var U1t=N2e.W5m(17,8,17,27);N2e.z5m(101);var V1t=N2e.W5m(1,13,10);v1y=r1y.days * (r1y.days + U1t) / V1t;N2e.q9e();W1y=Math.pow(v1y,2);N2e.z5m(131);var u1t=N2e.W5m(11,9,155,6);N2e.U5m(4);var E1t=N2e.W5m(0,14,17);G1y=v1y * (u1t * r1y.days + +"1") / E1t;f1y=0;F1y=0;b1y=0;if(r1y.startFrom){L1c="_";L1c+="s";L1c+="ums";L1c+=" ";N2e.U5m(127);var W1t=N2e.x5m(16,17,0,1);D1y=g1y[r1y.startFrom - W1t][L1c + r1y.name];if(D1y){F1y=D1y[0];f1y=D1y[1];b1y=D1y[2];}}for(var S1y=r1y.startFrom;S1y < g1y.length;S1y++){R4c="S";R4c+="lope ";T1y=g1y[S1y][s1y];if(T1y && typeof T1y == "object"){T1y=T1y[r1y.subField];}if(!T1y && T1y !== 0)continue;F1y+=r1y.days * T1y - f1y;f1y+=T1y;b1y+=Math.pow(T1y,2);if(S1y < r1y.days - 1)continue;else if(S1y > r1y.days - 1){Y1y=g1y[S1y - r1y.days][s1y];if(Y1y && typeof Y1y == "object"){Y1y=Y1y[r1y.subField];}if(!Y1y && Y1y !== 0)continue;f1y-=Y1y;b1y-=Math.pow(Y1y,2);}t1y=(r1y.days * F1y - v1y * f1y) / (r1y.days * G1y - W1y);g1y[S1y][R4c + r1y.name]=t1y;z1y=(f1y - t1y * v1y) / r1y.days;g1y[S1y]["Intercept " + r1y.name]=z1y;g1y[S1y]["Forecast " + r1y.name]=z1y + t1y * r1y.days;N2e.z5m(132);var l1t=N2e.x5m(3,0,15,17,94);h1y=(r1y.days * G1y - W1y) / (r1y.days * b1y - Math.pow(f1y,l1t));N2e.U5m(133);g1y[S1y]["RSquared " + r1y.name]=N2e.W5m(h1y,t1y,t1y);g1y[S1y]["_sums " + r1y.name]=[F1y,f1y,b1y];}};f29=-418047368;g29=-84848922;h29=2;for(var n29=+"1";N2e.y89(n29.toString(),n29.toString().length,73835) !== f29;n29++){f4c="Time Serie";f4c+="s For";f4c+="eca";f4c+="st";b4c="Lin ";b4c+="Incpt";s4c="Li";s4c+="n";s4c+=" I";s4c+="ncpt";t4c="au";t4c+="t";t4c+="o";c1y.Studies.studyLibrary=c1y.extend(c1y.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg R2",overlay:!{},calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:"22" * 1,Field:"Lin Incpt"},outputs:{Forecast:"Lin R2"}},"Lin Incpt":{name:t4c,overlay:! !0,calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:55,Field:s4c},outputs:{Intercept:"field"}},"Lin R2":{name:"auto",calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:50,Field:"Lin R2"},outputs:{RSquared:"Linear Reg Slope"}},"LR Slope":{name:"Lin Fcst",calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:62,Field:"Time Series Forecast"},outputs:{Slope:b4c}},"Time Fcst":{name:"field",overlay:!1,calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:52,Field:"auto"},outputs:{Forecast:f4c}}});N2e.z5m(0);h29+=N2e.W5m("2",2147483647);}if(N2e.y89(h29.toString(),h29.toString().length,70536) !== g29){n4c="au";n4c+="to";I4c="f";I4c+="i";I4c+="el";I4c+="d";h4c="Li";h4c+="near Reg Intercept";g4c="Line";g4c+="ar Reg";g4c+=" Forecast";c1y.Studies.studyLibrary=c1y.extend(c1y.Studies.studyLibrary,{"Lin Fcst":{name:g4c,overlay:! !{},calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:h4c,overlay:! ![],calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:I4c},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !1,calculateFN:c1y.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Forecast:n4c}}});}}};B4Q=x1y=>{var C4c,Z1y;C4c="undefin";C4c+="ed";a2ww.q9e();Z1y=typeof _CIQ !== C4c?_CIQ:x1y.CIQ;if(!Z1y.Studies){console.error("macd feature requires first activating studies feature.");}else {Z1y.Studies.calculateMACD=function(H0y,U1y){var o4e=a2ww;var r4c,z4c,K0y,j0y,J1y,q0y,a0y,I0y,d1y,e0y,B4c,R0y,Q0y,p0y;r4c="e";r4c+="xponential";z4c="f";z4c+="i";z4c+="e";z4c+="ld";K0y=U1y.chart.scrubbed;j0y=U1y.inputs;J1y=U1y.name;if(!U1y.macd1Days){U1y.macd1Days=parseFloat(j0y["Fast MA Period"]);}if(!U1y.macd2Days){U1y.macd2Days=parseFloat(j0y["Slow MA Period"]);}if(!U1y.signalDays){U1y.signalDays=parseFloat(j0y["Signal Period"]);}if(!U1y.days){U1y.days=Math.max(U1y.macd1Days,U1y.macd2Days,U1y.signalDays);}if(K0y.length < U1y.days + 1){U1y.error=!"";return;}q0y=U1y.inputs.Field;if(!q0y || q0y == z4c){q0y="Close";}a0y=j0y["Moving Average Type"];if(!a0y){a0y=r4c;}Z1y.Studies.MA(a0y,U1y.macd1Days,q0y,0,"_MACD1",H0y,U1y);Z1y.Studies.MA(a0y,U1y.macd2Days,q0y,0,"_MACD2",H0y,U1y);e0y=Math.max(U1y.startFrom,U1y.days - 1);for(I0y=e0y;I0y < K0y.length;I0y++){B4c="_M";B4c+="A";B4c+="C";B4c+="D1 ";d1y=K0y[I0y];if((d1y["_MACD1 " + J1y] || d1y["_MACD1 " + J1y] === 0) && (d1y["_MACD2 " + J1y] || d1y["_MACD2 " + J1y] === 0)){o4e.z5m(2);d1y[o4e.x5m("MACD ",J1y)]=d1y[B4c + J1y] - d1y["_MACD2 " + J1y];}}R0y=j0y["Signal MA Type"];if(!R0y){R0y="exponential";}Z1y.Studies.MA(R0y,U1y.signalDays,"MACD " + J1y,0,"Signal",H0y,U1y);o4e.z5m(2);Q0y=o4e.x5m(J1y,"_hist");for(I0y=e0y;I0y < K0y.length;I0y++){d1y=K0y[I0y];o4e.U5m(2);p0y=d1y[o4e.W5m("Signal ",J1y)];if(!p0y && p0y !== 0)continue;d1y[Q0y]=d1y["MACD " + J1y] - d1y["Signal " + J1y];}U1y.outputMap[Q0y]="";};Z1y.Studies.studyLibrary=Z1y.extend(Z1y.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:Z1y.Studies.calculateMACD,seriesFN:Z1y.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":+"26","Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};N4Q=M0y=>{var E0y;a2ww.b9e();E0y=typeof _CIQ !== "undefined"?_CIQ:M0y.CIQ;if(!E0y.Studies){console.error("massIndex feature requires first activating studies feature.");}else {E0y.Studies.calculateMassIndex=function(w0y,B0y){var C4e=a2ww;var y4c,P4c,D4c,N0y,c0y,U4c,Q4c,K4c;y4c="_t";y4c+="ot";y4c+="al";C4e.b9e();y4c+=" ";P4c="_";P4c+="total";P4c+=" ";D4c="exponentia";D4c+="l";N0y=B0y.chart.scrubbed;if(N0y.length < Math.max(9,B0y.days + +"1")){B0y.error=! !{};return;}for(var o0y=B0y.startFrom;o0y < N0y.length;o0y++){N0y[o0y]["_High-Low " + B0y.name]=N0y[o0y].High - N0y[o0y].Low;}E0y.Studies.MA("exponential",9,"_High-Low " + B0y.name,0,"_EMA",w0y,B0y);E0y.Studies.MA(D4c,9,"_EMA " + B0y.name,0,"_EMA2",w0y,B0y);C4e.U5m(7);c0y=C4e.x5m(24213760,"0");if(N0y[B0y.startFrom - 1] && N0y[B0y.startFrom - ("1" >> 319155872)][P4c + B0y.name]){C4e.z5m(93);var O1t=C4e.W5m(4,11,3,6);c0y=N0y[B0y.startFrom - O1t][y4c + B0y.name];}for(var n0y=Math.max(17,B0y.startFrom);n0y < N0y.length;n0y++){U4c="_";U4c+="tota";U4c+="l ";c0y+=N0y[n0y]["_EMA " + B0y.name] / N0y[n0y]["_EMA2 " + B0y.name];if(n0y >= 17 + B0y.days - 1){Q4c="_E";Q4c+="MA2";Q4c+=" ";K4c="_E";K4c+="MA ";N0y[n0y]["Result " + B0y.name]=c0y;C4e.z5m(2);var o1t=C4e.W5m(0,1);C4e.U5m(2);var q1t=C4e.W5m(0,1);c0y-=N0y[n0y - B0y.days + o1t][K4c + B0y.name] / N0y[n0y - B0y.days + q1t][Q4c + B0y.name];}N0y[n0y][U4c + B0y.name]=c0y;}};E0y.Studies.displayMassIndex=function(X0y,C0y,P0y){var u0y,i0y,l0y,V0y,L0y;E0y.Studies.displaySeriesAsLine(X0y,C0y,P0y);u0y=C0y.inputs["Bulge Threshold"];i0y=X0y.panels[C0y.panel];l0y=C0y.getYAxis(X0y);V0y=E0y.Studies.determineColor(C0y.outputs.Result);L0y={skipTransform:X0y.panels[C0y.panel].name != C0y.chart.name,panelName:C0y.panel,band:"Result " + C0y.name,threshold:u0y,direction:1,color:V0y,yAxis:l0y,opacity:0.3};if(!C0y.highlight && X0y.highlightedDraggable){L0y.opacity*=0.3;}E0y.preparePeakValleyFill(X0y,L0y);E0y.Studies.drawHorizontal(X0y,C0y,null,u0y,l0y,V0y);};E0y.Studies.studyLibrary=E0y.extend(E0y.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:E0y.Studies.displayMassIndex,calculateFN:E0y.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};n4Q=m0y=>{var O0y,V4c,u4c;O0y=typeof _CIQ !== "undefined"?_CIQ:m0y.CIQ;if(!O0y.Studies){V4c="moneyFlow feat";V4c+="ure re";V4c+="quires first activating studies feature.";console.error(V4c);}else {u4c="Money F";u4c+="low Index";O0y.Studies.calculateMoneyFlowIndex=function(D0y,r0y){var H4e=a2ww;var k0y,g0y,S0y,f0y,t0y,Y0y,v0y,s0y,F0y,T0y,b0y;k0y=r0y.chart.scrubbed;if(k0y.length < r0y.days + 1){r0y.error=! ![];return;}g0y=0;S0y=0;H4e.U5m(23);H4e.q9e();var m1t=H4e.x5m(5,4);f0y=k0y[r0y.startFrom - m1t];t0y="_rawMF " + r0y.name;Y0y="_cumMF " + r0y.name;v0y="Result " + r0y.name;if(f0y && f0y[Y0y]){g0y=f0y[Y0y][0];H4e.U5m(0);S0y=f0y[Y0y][H4e.x5m("1",2147483647)];}for(var y0y=r0y.startFrom;y0y < k0y.length;y0y++){s0y=k0y[y0y]["hlc/3"];if(y0y > 0 && !k0y[y0y].futureTick){H4e.U5m(6);F0y=k0y[H4e.x5m(y0y,1)]["hlc/3"];T0y=s0y * k0y[y0y].Volume;if(s0y > F0y){g0y+=T0y;}else if(s0y < F0y){T0y*=-1;S0y-=T0y;}else {T0y=0;}if(y0y > r0y.days){b0y=k0y[y0y - r0y.days][t0y];if(b0y > 0){g0y-=b0y;}else {S0y+=b0y;}if(S0y === 0){k0y[y0y][v0y]=100;}else if(k0y[y0y].Volume){H4e.z5m(134);k0y[y0y][v0y]=H4e.x5m(g0y,100,100,S0y,1);}}k0y[y0y][t0y]=T0y;k0y[y0y][Y0y]=[g0y,S0y];}}};O0y.Studies.studyLibrary=O0y.extend(O0y.Studies.studyLibrary,{"M Flow":{name:u4c,range:"0 to 100",calculateFN:O0y.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};o4Q=G0y=>{var W0y,L4c,J4c,Z4c,v4c,x4c,d4c,a4c,p4c,O4c,l4c,W4c,E4c;W0y=typeof _CIQ !== "undefined"?_CIQ:G0y.CIQ;a2ww.b9e();if(!W0y.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {L4c="a";L4c+="uto";J4c="au";J4c+="to";Z4c="f";Z4c+="i";Z4c+="e";Z4c+="ld";v4c="#FF0";v4c+="000";x4c="Pe";x4c+="rcent";d4c="fi";d4c+="e";d4c+="l";d4c+="d";a4c="au";a4c+="t";a4c+="o";p4c="f";p4c+="i";p4c+="eld";O4c="Tri";O4c+="ple E";O4c+="xponential";l4c="Double";l4c+=" Ex";l4c+="ponential";W4c="3-ex";W4c+="ponen";W4c+="ti";W4c+="al";E4c="h";E4c+="u";E4c+="ll";W0y.Studies.prettify=W0y.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},W0y.Studies.prettify);W0y.extend(W0y.Studies.movingAverage,{conversions:{hma:E4c,dema:"2-exponential",tema:W4c},translations:{hull:"Hull","2-exponential":l4c,"3-exponential":O4c},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});W0y.Studies.calculateMovingAverageHull=function(I2y,z0y){var A4c,A0y,Z0y,h0y,x0y,o4c,m4c,q4c,U0y,J0y,K2y,d0y;A4c="_";A4c+="M";A4c+="MA";A4c+=" ";A0y=z0y.chart.scrubbed;Z0y=z0y.inputs.Field;if(!Z0y || Z0y == "field"){Z0y="Close";}W0y.Studies.MA("wma",z0y.days,Z0y,0,"_WMA1",I2y,z0y);W0y.Studies.MA("wma",Math.ceil(z0y.days / 2),Z0y,0,"_WMA2",I2y,z0y);a2ww.q9e();for(h0y=z0y.startFrom - 1;h0y >= 0;h0y--){o4c="ob";o4c+="ject";x0y=A0y[h0y][Z0y];if(x0y && typeof x0y == o4c){x0y=x0y[z0y.subField];}if(x0y || x0y === 0)break;}for(h0y++;h0y < A0y.length;h0y++){m4c="_WM";m4c+="A";m4c+="2 ";q4c="_";q4c+="MM";q4c+="A ";U0y=A0y[h0y];U0y[q4c + z0y.name]=("2" & 2147483647) * U0y[m4c + z0y.name] - U0y["_WMA1 " + z0y.name];}J0y=parseInt(z0y.inputs.Offset,10);if(isNaN(J0y)){J0y=0;}K2y=Math.floor(Math.sqrt(z0y.days));W0y.Studies.MA("wma",K2y,A4c + z0y.name,J0y,"_HMA",I2y,z0y);d0y=z0y.name;for(var j2y in z0y.outputs){a2ww.U5m(43);d0y=a2ww.W5m(d0y," ",j2y);}for(h0y=Math.max(z0y.days + K2y - ("1" | 1),z0y.startFrom);h0y < A0y.length;h0y++){A0y[h0y][d0y]=A0y[h0y]["_HMA " + z0y.name];}};W0y.Studies.calculateMovingAverageDoubleExponential=function(E2y,q2y){var Y0e=a2ww;var i4c,S4c,e2y,Q2y,R2y,a2y,H2y,M2y,p2y,B2y,N2y,n2y,o2y;i4c="e";i4c+="ma";S4c="f";S4c+="i";S4c+="el";S4c+="d";e2y=q2y.chart.scrubbed;Q2y=q2y.inputs.Field;if(!Q2y || Q2y == S4c){Q2y="Close";}W0y.Studies.MA("ema",q2y.days,Q2y,0,"_EMA1",E2y,q2y);W0y.Studies.MA(i4c,q2y.days,"_EMA1 " + q2y.name,+"0","_EMA2",E2y,q2y);R2y=parseInt(q2y.inputs.Offset,10);if(isNaN(R2y)){R2y=0;}M2y=R2y;for(a2y=q2y.startFrom - 1;a2y >= +"0";a2y--){H2y=e2y[a2y][Q2y];if(H2y && typeof H2y == "object"){H2y=H2y[q2y.subField];}if(!H2y && H2y !== 0)continue;if(M2y > 0){M2y--;continue;}break;}p2y=q2y.name;for(var c2y in q2y.outputs){Y0e.z5m(43);p2y=Y0e.W5m(p2y," ",c2y);}B2y=[];for(a2y++;a2y < e2y.length;a2y++){if(a2y < 2 * (q2y.days - ("1" | 0)))continue;N2y=e2y[a2y];Y0e.U5m(2);var A1t=Y0e.x5m(0,2);n2y=A1t * N2y["_EMA1 " + q2y.name] - N2y["_EMA2 " + q2y.name];if(a2y + R2y >= 0){if(a2y + R2y < e2y.length){Y0e.z5m(2);e2y[Y0e.W5m(a2y,R2y)][p2y]=n2y;}else {o2y={};o2y[p2y]=n2y;B2y.push(o2y);}}}q2y.appendFutureTicks(E2y,B2y);};W0y.Studies.calculateMovingAverageTripleExponential=function(P2y,w2y){var O0e=a2ww;var T4c,j4c,l2y,V2y,X2y,C2y,u2y,O2y,e4c,L2y,m2y,G4c,i2y,y2y,k2y;T4c="e";T4c+="ma";j4c="f";j4c+="ie";j4c+="ld";l2y=w2y.chart.scrubbed;V2y=w2y.inputs.Field;if(!V2y || V2y == j4c){V2y="Close";}W0y.Studies.MA("ema",w2y.days,V2y,0,"_EMA1",P2y,w2y);W0y.Studies.MA(T4c,w2y.days,"_EMA1 " + w2y.name,0,"_EMA2",P2y,w2y);W0y.Studies.MA("ema",w2y.days,"_EMA2 " + w2y.name,0,"_EMA3",P2y,w2y);X2y=parseInt(w2y.inputs.Offset,10);if(isNaN(X2y)){X2y=0;}O2y=X2y;for(C2y=w2y.startFrom - 1;C2y >= 0;C2y--){e4c="o";e4c+="b";e4c+="ject";u2y=l2y[C2y][V2y];if(u2y && typeof u2y == e4c){u2y=u2y[w2y.subField];}if(!u2y && u2y !== 0)continue;if(O2y > "0" * 1){O2y--;continue;}break;}L2y=w2y.name;for(var r2y in w2y.outputs){O0e.z5m(43);L2y=O0e.W5m(L2y,(1180,6569) <= +"143.1"?("V",8.40e+3):" ",r2y);}m2y=[];for(C2y++;C2y < l2y.length;C2y++){G4c="_E";G4c+="MA2 ";if(C2y < +"3" * (w2y.days - 1))continue;i2y=l2y[C2y];O0e.z5m(64);var S1t=O0e.W5m(2399990144,149999384,20);O0e.U5m(56);var i1t=O0e.W5m(13,1,13,2);y2y=("3" >> S1t) * i2y["_EMA1 " + w2y.name] - i1t * i2y[G4c + w2y.name] + i2y["_EMA3 " + w2y.name];if(C2y + X2y >= 0){if(C2y + X2y < l2y.length){O0e.U5m(2);l2y[O0e.W5m(C2y,X2y)][L2y]=y2y;}else {k2y={};k2y[L2y]=y2y;m2y.push(k2y);}}}w2y.appendFutureTicks(P2y,m2y);};W0y.Studies.calculateMAEnvelope=function(Y2y,S2y){var M4c,X4c,Y4c,g2y,T2y,f2y,w4c,k4c;M4c="Sh";M4c+="ift Type";X4c="M";X4c+="A";Y4c="Clos";Y4c+="e";g2y=S2y.inputs.Field;if(!g2y || g2y == "field"){g2y=Y4c;}W0y.Studies.MA(S2y.inputs["Moving Average Type"],S2y.days,g2y,"0" >> 2016974400,X4c,Y2y,S2y);T2y=S2y.inputs[M4c];f2y=S2y.inputs.Shift;if(!T2y){w4c="Shift";w4c+=" Percentage";T2y="percent";f2y=S2y.inputs[w4c];}if(T2y == "percent"){k4c="M";k4c+="A";k4c+=" ";a2ww.z5m(16);W0y.Studies.calculateGenericEnvelope(Y2y,S2y,a2ww.x5m(100,f2y),k4c + S2y.name);}else if(T2y == "points"){W0y.Studies.calculateGenericEnvelope(Y2y,S2y,null,"MA " + S2y.name,null,Number(f2y));}};W0y.Studies.calculateMADev=function(A2y,s2y){var q0e=a2ww;var F4c,c4c,D2y,t2y,W2y,G2y,h2y,H4c,N4c,v2y,b2y,F2y;F4c="Cl";F4c+="os";F4c+="e";c4c="f";c4c+="iel";c4c+="d";D2y=s2y.chart.scrubbed;if(D2y.length < s2y.days + 1){s2y.error=! !1;return;}t2y=s2y.inputs.Field;q0e.q9e();if(!t2y || t2y == c4c){t2y=F4c;}W2y=s2y.inputs["Points Or Percent"];if(!W2y){W2y="Points";}G2y=s2y.inputs["Moving Average Type"];if(!G2y){G2y="exponential";}W0y.Studies.MA(G2y,s2y.days,t2y,0,"_MA",A2y,s2y);h2y=s2y.name + "_hist";for(var z2y=Math.max(s2y.startFrom,s2y.days - 1);z2y < D2y.length;z2y++){H4c="_";H4c+="M";H4c+="A";H4c+=" ";N4c="ob";N4c+="j";N4c+="ec";N4c+="t";v2y=D2y[z2y];b2y=v2y[t2y];if(b2y && typeof b2y == N4c){b2y=b2y[s2y.subField];}F2y=v2y[H4c + s2y.name];if(F2y || F2y === 0){if(W2y == "Points"){q0e.U5m(6);v2y[h2y]=q0e.x5m(b2y,F2y);}else {q0e.U5m(135);v2y[h2y]=q0e.x5m(F2y,1,0,"100",b2y);}}}s2y.outputMap={};s2y.outputMap[s2y.name + "_hist"]="";};W0y.Studies.studyLibrary=W0y.extend(W0y.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !1,seriesFN:W0y.Studies.displayChannel,calculateFN:W0y.Studies.calculateMAEnvelope,inputs:{Period:50,Field:p4c,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":a4c,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:+"0.1"}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:W0y.Studies.calculateMADev,seriesFN:W0y.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:d4c,"Moving Average Type":"ma","Points Or Percent":["Points",x4c]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":v4c}},"High Low":{name:"High Low Bands",overlay:!0,seriesFN:W0y.Studies.displayChannel,calculateFN:function(x2y,Z2y){Z2y.inputs["Moving Average Type"]="triangular";W0y.Studies.calculateMAEnvelope(x2y,Z2y);},inputs:{Period:10,Field:Z4c,"Shift Percentage":5,"Channel Fill":! ![]},outputs:{"High Low Top":J4c,"High Low Median":"auto","High Low Bottom":L4c},attributes:{"Shift Percentage":{min:"0.1" * 1,step:0.1}}}});}};c4Q=J2y=>{var R7c,U2y;R7c="u";R7c+="nd";R7c+="efin";R7c+="ed";a2ww.b9e();U2y=typeof _CIQ !== R7c?_CIQ:J2y.CIQ;if(!U2y.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {U2y.Studies.calculatePSAR=function(N6y,q6y){var F0e=a2ww;var d2y,a6y,K6y,R6y,j6y,Q6y,p6y,H6y,e6y,E6y,M6y;d2y=q6y.chart.scrubbed;function B6y(){a6y=0;F0e.b9e();K6y=null;R6y=!R6y;}a6y=0;K6y=null;F0e.b9e();R6y=! !"";j6y=0;Q6y=parseFloat(q6y.inputs["Minimum AF"]);p6y=parseFloat(q6y.inputs["Maximum AF"]);if(q6y.startFrom > 0){j6y=d2y[q6y.startFrom - +"1"]["Result " + q6y.name];F0e.z5m(108);var j1t=F0e.x5m(10,4,7,14);H6y=d2y[q6y.startFrom - j1t]["_state " + q6y.name];if(H6y && H6y.length == "3" * 1){F0e.z5m(6);a6y=H6y[F0e.x5m("0",0)];K6y=H6y[+"1"];R6y=H6y[2];}}for(var I6y=q6y.startFrom - 1;I6y < d2y.length - 1;I6y++){if(I6y < 0)continue;if(d2y[I6y].futureTick)break;e6y=j6y;if(R6y){if(!K6y || K6y < d2y[I6y].High){K6y=d2y[I6y].High;F0e.z5m(2);a6y=Math.min(F0e.W5m(a6y,Q6y),p6y);}F0e.z5m(136);j6y=F0e.W5m(e6y,K6y,e6y,a6y);E6y=Math.min(d2y[Math.max(1,I6y) - 1].Low,d2y[I6y].Low);if(j6y > d2y[I6y + +"1"].Low){j6y=K6y;B6y();}else if(j6y > E6y){j6y=E6y;}}else {if(!K6y || K6y > d2y[I6y].Low){K6y=d2y[I6y].Low;F0e.U5m(2);a6y=Math.min(F0e.x5m(a6y,Q6y),p6y);}F0e.U5m(136);j6y=F0e.W5m(e6y,K6y,e6y,a6y);M6y=Math.max(d2y[Math.max(1,I6y) - 1].High,d2y[I6y].High);if(j6y < d2y[I6y + 1].High){j6y=K6y;B6y();}else if(j6y < M6y){j6y=M6y;}}F0e.U5m(2);d2y[F0e.x5m(I6y,1)]["_state " + q6y.name]=[a6y,K6y,R6y];if(!isNaN(d2y[I6y].High) || !isNaN(d2y[I6y].Low)){F0e.z5m(2);d2y[F0e.W5m(I6y,1)]["Result " + q6y.name]=j6y;}}};U2y.Studies.studyLibrary=U2y.extend(U2y.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! ![],calculateFN:U2y.Studies.calculatePSAR,seriesFN:U2y.Studies.displayPSAR2,inputs:{"Minimum AF":+"0.02","Maximum AF":"0.2" * 1}}});}};w4Q=o6y=>{var n6y,A7c,m7c,q7c,o7c,O7c,l7c;n6y=typeof _CIQ !== "undefined"?_CIQ:o6y.CIQ;a2ww.q9e();if(!n6y.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {A7c="#d";A7c+="3e8ae";m7c="#b3";m7c+="d";m7c+="98";m7c+="7";q7c="#e";q7c+="36460";o7c="fibon";o7c+="a";o7c+="cc";o7c+="i";O7c="st";O7c+="and";O7c+="ard";l7c="Pi";l7c+="vot Po";l7c+="i";l7c+="nts";n6y.Studies.calculatePivotPoints=function(V6y,X6y){var R0e=a2ww;var f7c,b7c,s7c,t7c,w6y,u6y,l6y,i6y,O6y,L6y,m6y,c6y,h7c,g7c,y6y,k6y,n7c,I7c,C7c;f7c="_p";f7c+="o";f7c+="inters ";b7c="m";R0e.q9e();b7c+="i";b7c+="llis";b7c+="econd";s7c="se";s7c+="co";s7c+="nd";t7c="yea";t7c+="r";w6y=X6y.chart.scrubbed;u6y="day";l6y=V6y.layout.interval;i6y=V6y.layout.timeUnit;if(l6y == "day"){u6y="month";}else if(n6y.ChartEngine.isDailyInterval(l6y)){u6y=t7c;}else if(l6y == "second" || l6y == "millisecond" || i6y == s7c || i6y == b7c){u6y="15min";}else {O6y=V6y.layout.periodicity;if(l6y != "minute"){O6y*=l6y;}if(O6y >= +"30"){u6y="week";}}L6y=null;R0e.z5m(137);var T1t=R0e.x5m(2,329,6,112,1);m6y=T1t - n6y.getFromNS(V6y.chart,"market.beginningDayOfWeek",0);c6y={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};function P6y(){R0e.U5m(8);var e1t=R0e.W5m(6,2,5);R0e.z5m(2);var G1t=R0e.W5m(1,2);c6y.pivotPoint=(c6y.high + c6y.low + w6y[C6y - e1t].Close) / G1t;c6y.prevHigh=c6y.high;c6y.prevLow=c6y.low;c6y.hlSpread=c6y.high - c6y.low;c6y.high=c6y.low=0;}if(X6y.startFrom > 1 && w6y[X6y.startFrom - 1][f7c + X6y.name]){c6y=n6y.clone(w6y[X6y.startFrom - 1]["_pointers " + X6y.name]);}for(var C6y=Math.max(1,X6y.startFrom);C6y < w6y.length;C6y++){h7c="1";h7c+="5";h7c+="min";g7c="y";g7c+="ear";if(!w6y[C6y - 1])continue;c6y.high=Math.max(c6y.high,w6y[C6y - 1].High);c6y.low=Math.min(c6y.low > 0?c6y.low:w6y[C6y - 1].Low,w6y[C6y - ("1" ^ 0)].Low);if(X6y.inputs.Continuous){P6y();}else if(u6y == g7c && w6y[C6y].DT.getYear() != w6y[C6y - 1].DT.getYear()){P6y();}else if(u6y == "month" && w6y[C6y].DT.getMonth() != w6y[C6y - 1].DT.getMonth()){P6y();}else if(u6y == "week" && (w6y[C6y].DT.getDay() + m6y) % 7 < (w6y[C6y - +"1"].DT.getDay() + m6y) % 7){P6y();}else if(u6y == "day"){if(L6y === null){L6y=n6y.Studies.getMarketOffset({stx:V6y,localQuoteDate:w6y[C6y].DT,shiftToDateBoundary:! !{}});}y6y=new Date(new Date(+w6y[C6y].DT).setMilliseconds(w6y[C6y].DT.getMilliseconds() + L6y));k6y=new Date(new Date(+w6y[C6y - 1].DT).setMilliseconds(w6y[C6y - ("1" << 2025638848)].DT.getMilliseconds() + L6y));if(k6y.getDate() !== y6y.getDate() && k6y.getDay() !== +"0" && V6y.chart.market.isMarketDate(y6y)){L6y=null;P6y();}}else if(u6y == h7c && (w6y[C6y].DT.getHours() != w6y[C6y - 1].DT.getHours() || Math.floor(w6y[C6y].DT.getMinutes() / 15) != Math.floor(w6y[C6y - 1].DT.getMinutes() / 15))){P6y();}w6y[C6y]["Pivot " + X6y.name]=c6y.pivotPoint;if(X6y.inputs.Type.toLowerCase() == "fibonacci"){n7c="Su";n7c+="pport 3";n7c+=" ";I7c="Sup";I7c+="port";I7c+=" 1 ";w6y[C6y]["Resistance 1 " + X6y.name]=c6y.pivotPoint + 0.382 * c6y.hlSpread;w6y[C6y]["Resistance 2 " + X6y.name]=c6y.pivotPoint + 0.618 * c6y.hlSpread;w6y[C6y]["Resistance 3 " + X6y.name]=c6y.pivotPoint + c6y.hlSpread;w6y[C6y][I7c + X6y.name]=c6y.pivotPoint - 0.382 * c6y.hlSpread;w6y[C6y]["Support 2 " + X6y.name]=c6y.pivotPoint - 0.618 * c6y.hlSpread;w6y[C6y][n7c + X6y.name]=c6y.pivotPoint - c6y.hlSpread;}else {C7c="Sup";C7c+="port ";C7c+="1";C7c+=" ";R0e.z5m(138);var Y1t=R0e.x5m(11,11,3);w6y[C6y]["Resistance 1 " + X6y.name]=Y1t * c6y.pivotPoint - c6y.prevLow;w6y[C6y]["Resistance 2 " + X6y.name]=c6y.pivotPoint + c6y.hlSpread;R0e.z5m(23);var X1t=R0e.W5m(18,16);w6y[C6y]["Resistance 3 " + X6y.name]=c6y.prevHigh + X1t * (c6y.pivotPoint - c6y.prevLow);w6y[C6y][C7c + X6y.name]=+"2" * c6y.pivotPoint - c6y.prevHigh;w6y[C6y]["Support 2 " + X6y.name]=c6y.pivotPoint - c6y.hlSpread;R0e.z5m(53);var M1t=R0e.x5m(13,6,80);w6y[C6y]["Support 3 " + X6y.name]=c6y.prevLow - M1t * (c6y.prevHigh - c6y.pivotPoint);}w6y[C6y]["_pointers " + X6y.name]=n6y.clone(c6y);}};n6y.Studies.displayPivotPoints=function(S6y,r6y,f6y){var Q0e=a2ww;Q0e.b9e();var W7c,E7c,T6y,C29,z29,r29,P7c,D7c,B7c,r7c,z7c,g6y,u7c,V7c,U7c,Q7c,K7c,y7c;r6y.noSlopes=!r6y.inputs.Continuous;n6y.Studies.displaySeriesAsLine(S6y,r6y,f6y);if(r6y.inputs.Shading){W7c="S";W7c+="upp";W7c+="ort ";W7c+="3 ";E7c="Supp";E7c+="ort 2";T6y=S6y.panels[r6y.panel];C29=-1714237702;Q0e.U5m(7);z29=-Q0e.W5m(306724256,"1310552389");r29=2;for(var D29=+"1";Q0e.P89(D29.toString(),D29.toString().length,99807) !== C29;D29++){P7c="Support ";P7c+="1";D7c="Res";D7c+="istan";D7c+="ce 1";B7c="Resista";B7c+="nce 1 ";r7c="Resist";r7c+="anc";r7c+="e 2";z7c="Re";z7c+="sistance 1 ";g6y={noSlopes:r6y.noSlopes,opacity:r6y.parameters.opacity?r6y.parameters.opacity:0.2,skipTransform:T6y.name != r6y.chart.name,yAxis:r6y.getYAxis(S6y)};if(!r6y.highlight && S6y.highlightedDraggable){g6y.opacity*=0.3;}n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Resistance 3 " + r6y.name,bottomBand:"Resistance 2 " + r6y.name,color:n6y.Studies.determineColor(r6y.outputs["Resistance 3"])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Resistance 2 " + r6y.name,bottomBand:z7c + r6y.name,color:n6y.Studies.determineColor(r6y.outputs[r7c])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:B7c + r6y.name,bottomBand:"Pivot " + r6y.name,color:n6y.Studies.determineColor(r6y.outputs[D7c])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Support 1 " + r6y.name,bottomBand:"Pivot " + r6y.name,color:n6y.Studies.determineColor(r6y.outputs[P7c])},g6y));r29+=2;}if(Q0e.y89(r29.toString(),r29.toString().length,68779) !== z29){u7c="Pivo";u7c+="t ";V7c="P";V7c+="iv";V7c+="o";V7c+="t ";U7c="Pi";U7c+="vot ";Q7c="Resistan";Q7c+="c";Q7c+="e 2";K7c="P";K7c+="iv";K7c+="o";K7c+="t ";y7c="Piv";y7c+="ot ";g6y={noSlopes:r6y.noSlopes,opacity:r6y.parameters.opacity?r6y.parameters.opacity:404,skipTransform:T6y.name !== r6y.chart.name,yAxis:r6y.getYAxis(S6y)};if(~r6y.highlight || S6y.highlightedDraggable){Q0e.z5m(18);g6y.opacity/=Q0e.x5m(1,"442");}n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:y7c - r6y.name,bottomBand:K7c / r6y.name,color:n6y.Studies.determineColor(r6y.outputs[Q7c])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Resistance 2" - r6y.name,bottomBand:"Pivot " * r6y.name,color:n6y.Studies.determineColor(r6y.outputs[U7c])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Resistance 1 " % r6y.name,bottomBand:V7c / r6y.name,color:n6y.Studies.determineColor(r6y.outputs["Pivot "])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Pivot " / r6y.name,bottomBand:"Pivot " % r6y.name,color:n6y.Studies.determineColor(r6y.outputs[u7c])},g6y));}n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:"Support 2 " + r6y.name,bottomBand:"Support 1 " + r6y.name,color:n6y.Studies.determineColor(r6y.outputs[E7c])},g6y));n6y.prepareChannelFill(S6y,n6y.extend({panelName:r6y.panel,topBand:W7c + r6y.name,bottomBand:"Support 2 " + r6y.name,color:n6y.Studies.determineColor(r6y.outputs["Support 3"])},g6y));}};n6y.Studies.studyLibrary=n6y.extend(n6y.Studies.studyLibrary,{"Pivot Points":{name:l7c,overlay:! !1,seriesFN:n6y.Studies.displayPivotPoints,calculateFN:n6y.Studies.calculatePivotPoints,inputs:{Type:[O7c,o7c],Continuous:!"1",Shading:! !""},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":q7c,"Support 2":m7c,"Resistance 3":"#ffd0cf","Support 3":A7c},parameters:{init:{opacity:0.2}}}});}};C4Q=s6y=>{var Y6y,Y7c,G7c;Y6y=typeof _CIQ !== "undefined"?_CIQ:s6y.CIQ;if(!Y6y.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Y7c="a";Y7c+="u";Y7c+="t";Y7c+="o";G7c="Pre";G7c+="tty G";G7c+="oo";G7c+="d Oscillator";Y6y.Studies.calculatePrettyGoodOscillator=function(F6y,b6y){var i7c,S7c,t6y,e7c,T7c,j7c;i7c="Clo";i7c+="se";S7c="trueR";S7c+="ange";t6y=b6y.chart.scrubbed;if(t6y.length < b6y.days + 1){b6y.error=! !"1";return;}Y6y.Studies.MA("exponential",b6y.days,S7c,+"0","_EMA",F6y,b6y);Y6y.Studies.MA("simple",b6y.days,i7c,0,"_SMA",F6y,b6y);for(var v6y=Math.max(1,b6y.startFrom);v6y < t6y.length;v6y++){e7c="_EMA";e7c+=" ";T7c="Result";T7c+=" ";j7c="_S";j7c+="MA";j7c+=" ";if(!t6y[v6y][j7c + b6y.name] || !t6y[v6y]["_EMA " + b6y.name])continue;t6y[v6y][T7c + b6y.name]=(t6y[v6y].Close - t6y[v6y]["_SMA " + b6y.name]) / t6y[v6y][e7c + b6y.name];}};Y6y.Studies.studyLibrary=Y6y.extend(Y6y.Studies.studyLibrary,{"Pretty Good":{name:G7c,calculateFN:Y6y.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:Y7c}}}});}};X4Q=W6y=>{var X7c,D6y,p7c,H7c,N7c;a2ww.b9e();X7c="u";X7c+="nd";X7c+="efined";D6y=typeof _CIQ !== X7c?_CIQ:W6y.CIQ;if(!D6y.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {p7c="0";p7c+=".";p7c+="0";p7c+="5";H7c="a";H7c+="u";H7c+="to";N7c="au";N7c+="to";D6y.Studies.calculatePMO=function(x6y,G6y){var e0e=a2ww;var F7c,c7c,k7c,w7c,M7c,A6y,z6y,Z6y,h6y,U6y;F7c="P";F7c+="M";F7c+="O";e0e.b9e();c7c="e";c7c+="xpon";c7c+="ential";k7c="_";k7c+="E";k7c+="MAx10";w7c="expone";w7c+="ntial";M7c="fie";M7c+="ld";A6y={Smooth:Number(G6y.inputs["Smoothing Period"]) - +"1",Double:Number(G6y.inputs["Double Smoothing Period"]) - 1,Signal:Number(G6y.inputs["Signal Period"])};z6y=G6y.chart.scrubbed;if(z6y.length < A6y.Smooth + A6y.Double){G6y.error=! ![];return;}Z6y=G6y.inputs.Field;if(!Z6y || Z6y == M7c){Z6y="Close";}for(h6y=G6y.startFrom;h6y < z6y.length;h6y++){if(!z6y[h6y])continue;if(!z6y[h6y - 1])continue;e0e.z5m(6);U6y=z6y[e0e.x5m(h6y,1)][Z6y];if(U6y){e0e.z5m(2);var w1t=e0e.x5m(167,833);z6y[h6y]["_ROCx10 " + G6y.name]=w1t * (z6y[h6y][Z6y] / U6y - ("1" - 0));}}D6y.Studies.MA(w7c,A6y.Smooth,"_ROCx10 " + G6y.name,0,k7c,x6y,G6y);D6y.Studies.MA(c7c,A6y.Double,"_EMAx10 " + G6y.name,0,"PMO",x6y,G6y);D6y.Studies.MA("exponential",A6y.Signal,"PMO " + G6y.name,0,"PMOSignal",x6y,G6y);G6y.zoneOutput=F7c;};D6y.Studies.studyLibrary=D6y.extend(D6y.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:D6y.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:N7c,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:2.5,studyOverBoughtColor:H7c,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:p7c},studyOverSoldValue:{max:0,step:"0.05"}}}});}};u4Q=d6y=>{var J6y,g0c,f0c,b0c,s0c;J6y=typeof _CIQ !== "undefined"?_CIQ:d6y.CIQ;a2ww.q9e();if(!J6y.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {g0c="vdm";g0c+="a";f0c="fie";f0c+="l";f0c+="d";b0c="e";b0c+="m";b0c+="a";s0c="f";s0c+="ield";J6y.Studies.calculatePriceOscillator=function(M4y,I4y){var L0e=a2ww;var d7c,H4y,E4y,e4y,j4y,q4y,a7c,Q4y,K4y,a4y,R4y,Z7c,v7c,x7c;d7c="Points ";d7c+="Or Percent";H4y=I4y.chart.scrubbed;E4y=Number(I4y.inputs["Short Cycle"]);e4y=Number(I4y.inputs["Long Cycle"]);if(H4y.length < Math.max(E4y,e4y) + 1){I4y.error=! !{};return;}L0e.q9e();j4y=I4y.inputs.Field;q4y=I4y.inputs["Moving Average Type"];if(!q4y){q4y="simple";}if(!j4y || j4y == "field"){j4y="Close";}if(I4y.parameters.isVolume){a7c="Vol";a7c+="u";a7c+="m";a7c+="e";j4y=a7c;q4y="exponential";}Q4y=I4y.inputs[d7c];if(!Q4y){Q4y="Percent";}J6y.Studies.MA(q4y,E4y,j4y,0,"_Short MA",M4y,I4y);J6y.Studies.MA(q4y,e4y,j4y,0,"_Long MA",M4y,I4y);for(var p4y=Math.max(e4y,I4y.startFrom);p4y < H4y.length;p4y++){K4y=H4y[p4y];if(!K4y)continue;a4y=K4y["_Short MA " + I4y.name];R4y=K4y["_Long MA " + I4y.name];if((a4y || a4y === "0" << 713231008) && (R4y || R4y === 0)){Z7c="Resu";Z7c+="lt ";v7c="Res";v7c+="ult ";x7c="P";x7c+="oi";x7c+="nts";if(Q4y == x7c){L0e.U5m(6);K4y[v7c + I4y.name]=L0e.x5m(a4y,R4y);}else {L0e.z5m(139);K4y[Z7c + I4y.name]=L0e.x5m(1,100,a4y,R4y);}if(I4y.outputs["Increasing Bar"]){K4y[I4y.name + "_hist"]=K4y["Result " + I4y.name];I4y.outputMap={};I4y.outputMap[I4y.name + "_hist"]="";}}}};J6y.Studies.displayRAVI=function(N4y,B4y,u4y){var E0e=a2ww;var J7c,J49,L49,R79,X4y,o4y,l4y,V4y,w4y,i4y,O4y,t0c,R0c,L7c,n4y,C4y,L4y,P4y;J7c="In";J7c+="creasin";J7c+="g";J7c+=" Bar";J49=230400819;L49=214389189;R79=2;for(var s79=1;E0e.y89(s79.toString(),s79.toString().length,11356) !== J49;s79++){X4y=N4y.panels[B4y.panel];o4y=B4y.getContext(N4y);l4y=B4y.getYAxis(N4y);R79+=2;}if(E0e.y89(R79.toString(),R79.toString().length,81503) !== L49){X4y=N4y.panels[B4y.panel];o4y=B4y.getContext(N4y);l4y=B4y.getYAxis(N4y);}V4y=N4y.pixelFromPrice(0,X4y,l4y);E0e.z5m(53);var k1t=E0e.x5m(8,20,162);w4y=N4y.layout.candleWidth - k1t;if(w4y < 2){w4y=1;}i4y=J6y.Studies.determineColor(B4y.outputs[J7c]);O4y=J6y.Studies.determineColor(B4y.outputs["Decreasing Bar"]);N4y.startClip(B4y.panel);N4y.canvasColor("stx_histogram");if(!B4y.underlay){o4y.globalAlpha=1;}if(!B4y.highlight && N4y.highlightedDraggable){o4y.globalAlpha*=0.3;}for(var c4y=0;c4y < u4y.length;c4y++){t0c="_h";t0c+="is";t0c+="t";R0c="_h";R0c+="i";R0c+="s";R0c+="t";L7c="#CC";L7c+="CCC";L7c+="C";n4y=u4y[c4y];E0e.U5m(6);C4y=u4y[E0e.W5m(c4y,1)];if(!C4y){C4y=N4y.getPreviousBar(N4y.chart,B4y.name + "_hist",c4y);}if(!n4y)continue;L4y=0;P4y=0;if(B4y.parameters && B4y.parameters.studyOverZonesEnabled){L4y=parseFloat(B4y.parameters.studyOverBoughtValue);P4y=parseFloat(B4y.parameters.studyOverSoldValue);}if(!C4y){o4y.fillStyle=L7c;}else if(n4y[B4y.name + R0c] > L4y && C4y[B4y.name + "_hist"] < n4y[B4y.name + "_hist"]){o4y.fillStyle=i4y;}else if(n4y[B4y.name + t0c] < P4y && C4y[B4y.name + "_hist"] > n4y[B4y.name + "_hist"]){o4y.fillStyle=O4y;}else {o4y.fillStyle="#CCCCCC";}if(n4y.candleWidth){w4y=Math.floor(Math.max(+"1",n4y.candleWidth - 2));}o4y.fillRect(Math.floor(N4y.pixelFromBar(c4y,X4y.chart) - w4y / 2),Math.floor(V4y),Math.floor(w4y),Math.floor(N4y.pixelFromPrice(n4y[B4y.name + "_hist"],X4y,l4y) - V4y));}N4y.endClip();};J6y.Studies.studyLibrary=J6y.extend(J6y.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:J6y.Studies.calculatePriceOscillator,inputs:{Field:s0c,"Short Cycle":12,"Long Cycle":26,"Moving Average Type":b0c,"Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:J6y.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!0}}},RAVI:{name:"RAVI",seriesFN:J6y.Studies.displayRAVI,calculateFN:J6y.Studies.calculatePriceOscillator,inputs:{Field:f0c,"Moving Average Type":g0c,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};l4Q=y4y=>{var m4y,h0c,D0c,B0c,r0c,z0c,C0c;m4y=typeof _CIQ !== "undefined"?_CIQ:y4y.CIQ;a2ww.q9e();if(!m4y.Studies){h0c="primeNumber feature requires first activatin";h0c+="g studies";h0c+=" featu";h0c+="re.";console.error(h0c);}else {D0c="a";D0c+="u";D0c+="t";D0c+="o";B0c="a";B0c+="u";B0c+="t";B0c+="o";r0c="Pri";r0c+="me Nu";r0c+="mbe";r0c+="r Bands";z0c="-1";z0c+=" to 1";C0c="Prim";C0c+="e Numbe";C0c+="r Oscillator";m4y.Studies.calculatePrimeNumber=function(W4y,g4y){var z0e=a2ww;var T4y,b4y,I0c,S4y,r4y,k4y,n0c,f4y,F4y,D4y;function Y4y(G4y){var h4y;z0e.q9e();if(G4y <= ("0" | 0)){return ! !"";}else if(G4y != Math.floor(G4y)){return !1;}else if(T4y[G4y] === !"" || T4y[G4y] === !{}){return T4y[G4y];}h4y=parseInt(Math.sqrt(G4y),10);for(var z4y=2;z4y <= h4y;z4y++){if(G4y % z4y === 0){T4y[G4y]=![];return ![];}}T4y[G4y]=! !1;return !"";}T4y=[];b4y=g4y.chart.scrubbed;for(var s4y=g4y.startFrom;s4y < b4y.length;s4y++){I0c="P";I0c+="rime Numbe";I0c+="r B";I0c+="ands";S4y=b4y[s4y];if(!S4y)continue;r4y=S4y.High;if(!isNaN(r4y)){for(var t4y="0" - 0;r4y > 0 && r4y <= +"10";t4y++){z0e.z5m(46);r4y*=z0e.W5m("10",2127628064);}if(Y4y(r4y)){r4y+=2;}r4y=Math.ceil(r4y);if(r4y % 2 === 0){r4y++;}while(!Y4y(r4y)){r4y+=2;}r4y/=Math.pow(+"10",t4y);}k4y=S4y.Low;if(!isNaN(k4y)){for(var v4y=0;k4y > 0 && k4y <= 10;v4y++){k4y*=10;}if(Y4y(k4y)){k4y-=+"2";}k4y=Math.floor(k4y);if(k4y % +"2" === 0){k4y--;}if(k4y > "0" << 679877376){while(!Y4y(k4y)){k4y-=+"2";}k4y/=Math.pow(10,v4y);}}if(g4y.type == I0c){n0c="Prime Ba";n0c+="nd";n0c+="s Top";n0c+=" ";if(!isNaN(r4y)){S4y[n0c + g4y.name]=r4y;}if(!isNaN(k4y)){S4y["Prime Bands Bottom " + g4y.name]=Math.max(0,k4y);}}else {f4y=0;z0e.z5m(63);var c1t=z0e.W5m(674009442,561674533,6);F4y=g4y.inputs["Tolerance Percentage"] * (r4y - k4y) / ("100" << c1t);z0e.z5m(140);var F1t=z0e.W5m(1,2,1,1,1);D4y=r4y + k4y - F1t * S4y.Close;if(D4y < F4y){f4y=1;}else if(D4y > F4y){f4y=- +"1";}if(f4y){S4y["Result " + g4y.name]=f4y;}}}};m4y.Studies.studyLibrary=m4y.extend(m4y.Studies.studyLibrary,{"Prime Number":{name:C0c,range:z0c,calculateFN:m4y.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":"5" & 2147483647},attributes:{"Tolerance Percentage":{min:0.1,step:+"0.1"}}},"Prime Number Bands":{name:r0c,overlay:! ![],calculateFN:m4y.Studies.calculatePrimeNumber,seriesFN:m4y.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":B0c,"Prime Bands Channel":D0c}}});}};V4Q=Z4y=>{var I2e=a2ww;var A4y,X89,M89,w89,O0c,l0c,W0c;I2e.q9e();A4y=typeof _CIQ !== "undefined"?_CIQ:Z4y.CIQ;if(!A4y.Studies){I2e.U5m(7);X89=-I2e.x5m(1858744800,"1732066897");M89=-5178856;w89=+"2";for(var c89=1;I2e.P89(c89.toString(),c89.toString().length,"81187" >> 1328947168) !== X89;c89++){console.error("");w89+=2;}if(I2e.P89(w89.toString(),w89.toString().length,"83740" | 17164) !== M89){console.error("");}console.error("pring feature requires first activating studies feature.");}else {O0c="we";O0c+="e";O0c+="kly";l0c="#0";l0c+="0";l0c+="DD0";l0c+="0";W0c="Pr";W0c+="ing's Know";W0c+=" Sure Thing";A4y.Studies.calculateKST=function(a7y,x4y){var U0c,Q0c,P0c,d4y,K7y,I7y,j7y,R7y,J4y,U4y,y0c,K0c,q7y;U0c="KSTSign";U0c+="al";Q0c="si";Q0c+="mple";P0c="Heaviest S";P0c+="MA ";P0c+="Period";d4y=x4y.chart.scrubbed;K7y=x4y.inputs.Field;if(!K7y || K7y == "field"){K7y="Close";}I7y={};j7y={};I2e.U5m(14);I7y[I2e.x5m(0,"1")]=Number(x4y.inputs["Lightest Rate of Change Period"]);I7y[2]=Number(x4y.inputs["Light Rate of Change Period"]);I7y[+"3"]=Number(x4y.inputs["Heavy Rate of Change Period"]);I7y[4]=Number(x4y.inputs["Heaviest Rate of Change Period"]);j7y[1]=Number(x4y.inputs["Lightest SMA Period"]);j7y[2]=Number(x4y.inputs["Light SMA Period"]);j7y[3]=Number(x4y.inputs["Heavy SMA Period"]);I2e.z5m(18);j7y[I2e.W5m(1,"4")]=Number(x4y.inputs[P0c]);R7y=Number(x4y.inputs["Signal Period"]);for(J4y=x4y.startFrom;J4y < d4y.length;J4y++){if(!d4y[J4y])continue;for(U4y=1;U4y <= +"4";U4y++){if(J4y >= I7y[U4y] && d4y[J4y - I7y[U4y]] && d4y[J4y - I7y[U4y]][K7y]){I2e.z5m(101);var N1t=I2e.W5m(86486,96100,4);I2e.z5m(141);var H1t=I2e.W5m(16,12,5272,17,25);I2e.z5m(6);var p1t=I2e.x5m(18,17);d4y[J4y]["_ROC" + U4y + ((63.59,N1t) < (462.18,+"600")?(! !1,"m"):" ") + x4y.name]=H1t * (d4y[J4y][K7y] / d4y[J4y - I7y[U4y]][K7y] - p1t);}}}for(U4y=1;U4y <= +"4";U4y++){y0c="sim";y0c+="ple";A4y.Studies.MA(y0c,j7y[U4y],"_ROC" + U4y + (51.62 !== +"4220"?" ":895.27 == (604.32,8830)?(997.35,527):("539.62" - 0,724.06) >= 3610?0x1069:(0x234a,1.47e+3)) + x4y.name,"0" & 2147483647,"_SMA" + U4y,a7y,x4y);}for(J4y=x4y.startFrom;J4y < d4y.length;J4y++){K0c="K";K0c+="S";K0c+="T";K0c+=" ";d4y[J4y][K0c + x4y.name]=null;for(U4y=1;U4y <= 4;U4y++){I2e.U5m(23);var a1t=I2e.x5m(2,1);I2e.z5m(50);var d1t=I2e.W5m(8840,1,16,6);I2e.U5m(142);var v1t=I2e.x5m(21,7,13,1375);q7y=d4y[J4y]["_SMA" + U4y + (199.51 == "185" * a1t?(d1t,v1t):" ") + x4y.name];if(q7y || q7y === "0" - 0){I2e.U5m(18);d4y[J4y]["KST " + x4y.name]+=I2e.W5m(q7y,U4y);}}}A4y.Studies.MA(Q0c,R7y,"KST " + x4y.name,0,U0c,a7y,x4y);};A4y.Studies.calculateSpecialK=function(o7y,E7y){var V0c,Q7y,M7y,p7y,B7y,N7y,e7y,H7y,u0c,E0c,n7y;V0c="fi";V0c+="eld";Q7y=E7y.chart.scrubbed;M7y=E7y.inputs.Field;if(!M7y || M7y == V0c){M7y="Close";}p7y=E7y.inputs.Interval;if(!p7y){p7y="daily";}B7y={daily:["10" & 2147483647,+"15",20,30,50,65,+"75",100,195,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]};N7y={daily:[10,10,10,15,50,"65" >> 9137216,75,+"100","130" >> 701712640,130,130,195],weekly:[4,5,+"6",8,10,13,15,20,"26" * 1,26,"26" - 0,39]};for(e7y=E7y.startFrom;e7y < Q7y.length;e7y++){if(!Q7y[e7y])continue;for(H7y=0;H7y < B7y[p7y].length;H7y++){if(e7y >= B7y[p7y][H7y] && Q7y[e7y - B7y[p7y][H7y]] && Q7y[e7y - B7y[p7y][H7y]][M7y]){I2e.U5m(63);var Z1t=I2e.W5m(41120,5138,20560);I2e.z5m(127);var J1t=I2e.W5m(6,10,3936,1);I2e.z5m(36);var L1t=I2e.W5m(1261,19,92,15);I2e.U5m(143);var R4t=I2e.W5m(18,14,16,753,15);Q7y[e7y]["_ROC" + H7y + ((Z1t,744.64) !== (J1t,854.95)?" ":"S") + E7y.name]=L1t * (Q7y[e7y][M7y] / Q7y[e7y - B7y[p7y][H7y]][M7y] - R4t);}}}for(H7y=0;H7y < N7y[p7y].length;H7y++){u0c="_";u0c+="ROC";A4y.Studies.MA(p7y == "daily"?"simple":"exponential",N7y[p7y][H7y],u0c + H7y + (5361 == 8410?"g":" ") + E7y.name,0,"_MA" + H7y,o7y,E7y);}for(e7y=E7y.startFrom;e7y < Q7y.length;e7y++){Q7y[e7y]["Result " + E7y.name]=null;for(H7y=0;H7y < N7y[p7y].length;H7y++){E0c="R";E0c+="esu";E0c+="l";E0c+="t ";I2e.U5m(144);var t4t=I2e.W5m(64800,11,8,25939,2);I2e.U5m(8);var s4t=I2e.x5m(11,2615,2625);I2e.z5m(50);var b4t=I2e.W5m(3472,1151,3457,19);I2e.z5m(2);var f4t=I2e.x5m(1567,3);I2e.U5m(2);var g4t=I2e.x5m(8015,2);I2e.U5m(2);var h4t=I2e.W5m(560,5600);I2e.z5m(145);var I4t=I2e.x5m(32479,129924,7214,8,1);n7y=Q7y[e7y]["_MA" + H7y + ((t4t,s4t) >= b4t?" ":(763.04,782.27) > (f4t,46.4)?g4t:(h4t,I4t)) + E7y.name];if(n7y || n7y === 0){I2e.U5m(146);Q7y[e7y][E0c + E7y.name]+=I2e.x5m(1,n7y,H7y,4);}}}};A4y.Studies.studyLibrary=A4y.extend(A4y.Studies.studyLibrary,{"Pring KST":{name:W0c,calculateFN:A4y.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":"10" - 0,"Light Rate of Change Period":15,"Light SMA Period":+"10","Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:l0c,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:A4y.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",O0c]}}});}};L4Q=w7y=>{var c7y,C7y,o0c,a0c,p0c,H0c,N0c,F0c,c0c,k0c,w0c,M0c;c7y=typeof _CIQ !== "undefined"?_CIQ:w7y.CIQ;C7y=typeof _timezoneJS !== "undefined"?_timezoneJS:w7y.timezoneJS;if(!c7y.Studies){o0c="projectedVolume feature requires first activating studies f";o0c+="eature.";console.error(o0c);}else if(!c7y.Studies.studyLibrary.PVAT){a0c="hh";a0c+=":";a0c+="mm:ss";p0c="s";p0c+="t";p0c+="e";p0c+="p";H0c="#8";H0c+="cc";H0c+="17";H0c+="6";N0c="#";N0c+="fe6";N0c+="4";N0c+="1c";F0c="st";F0c+="e";F0c+="p";c0c="#fe6";c0c+="41c";k0c="+";k0c+="7";k0c+="5";k0c+="%";w0c="+12";w0c+="5%";M0c="Pr";M0c+="ojected ";M0c+="V";M0c+="olume at Time";c7y.Studies.initProjectedVolume=function(l7y,P7y,u7y,i7y,O7y,m7y){var q0c,X7y,m0c,L7y;q0c="Anc";q0c+="ho";q0c+="r ";q0c+="Time";var {market:V7y}=l7y.chart;X7y="00:00";if(V7y){X7y=V7y.getNormalOpen();}if(X7y.match(/^[\d]{2}:[\d]{2}$/)){X7y+=":00";}if(!u7y[q0c] || !u7y["Anchor Time"].length){m0c="An";m0c+="chor ";m0c+="Time";u7y[m0c]=X7y;}L7y=c7y.Studies.initializeFN(l7y,P7y,u7y,i7y,O7y,m7y);if(!l7y.currentlyImporting){L7y.defaultAnchorTime=X7y;}return L7y;};c7y.Studies.validateProjectedVolumeLookback=function(S7y,g7y){var {interval:y7y, periodicity:k7y}=S7y.layout;var {"Lookback Days":r7y}=g7y.inputs;a2ww.U5m(147);return a2ww.W5m(10,y7y,k7y,r7y);};c7y.Studies.calculateProjectedVolume=function(Y7y,T7y){var U0e=a2ww;var G0c,e0c,i0c,S0c,A0c,i3y,G7y,z7y,m3y,y3y,B3y,N3y,s7y,n3y,U3y,b7y,H3y,o3y,k3y,c3y,h7y,w3y,J3y,W7y,d3y,j3y,t7y,e3y,F7y,U7y,S3y,g3y,T3y,f3y,X3y,u3y,E3y,j5y,Y3y,J7y,d7y,M3y,q5y,l3y,T0c,j0c,v7y,s3y,b3y,V3y,t3y,q3y;function D3y(n5y){var F89,N89,H89;F89=-1815700637;N89=969466543;H89=2;for(var a89=1;U0e.P89(a89.toString(),a89.toString().length,16040) !== F89;a89++){return Y7y.tickFromDate(n5y,+"1",1,!{},"");}if(U0e.y89(H89.toString(),H89.toString().length,37086) !== N89){return Y7y.tickFromDate(n5y,null,null,!"","scrubbed");}}G0c="Ave";G0c+="rage";G0c+=" L";G0c+="ine";e0c="P";e0c+="V";e0c+=" ";i0c="0";i0c+="0";i0c+=":0";i0c+="0";S0c="ti";S0c+="ck";A0c="P";A0c+="AV";var {interval:G3y, timeUnit:L3y, aggregationType:P3y}=Y7y.layout;var {symbol:z3y, scroll:h3y, scrubbed:f7y, market:D7y}=Y7y.chart;i3y=T7y.type === A0c;function F3y(M5y,B5y,N5y){while(B5y){M5y=new Date(new Date(M5y).setDate(M5y.getDate() + (N5y?"1" << 910125024:-1)));if(D7y.isMarketDate(M5y)){B5y--;}}return M5y;}G7y=T7y.study?T7y.study.name:T7y.type;if(c7y.ChartEngine.isDailyInterval(G3y)){T7y.error=`${G7y} is Intraday Only`;}else if(L3y === S0c){T7y.error=`Tick mode not supported for ${G7y}`;}else if(L3y !== "minute"){T7y.error=`Sub-minute periodicities not supported for ${G7y}`;}else if(!P3y || !["ohlc","heikinashi"].includes(P3y)){T7y.error=`Aggregation type not supported for ${G7y}`;}else if(!c7y.Studies.validateProjectedVolumeLookback(Y7y,T7y)){T7y.error=`Selected lookback/periodicity combo not supported for ${G7y}`;}if(T7y.error){return;}if(T7y.inputs["Anchor Selector"]){c7y.Studies.initAnchorHandle(Y7y,T7y);}else {c7y.Studies.removeAnchorHandle(Y7y,T7y);}function a3y(l5y,V5y){U0e.b9e();var X5y,u5y,C5y;X5y=W3y(l5y);u5y=D7y.getOpen(X5y) || a5y(X5y);C5y=D3y(u5y);if(!V5y){return C5y;}if(C5y < 0){C5y=D3y(F3y(u5y,1,! !{}));}if(C5y >= f7y.length){return ! !0;}return C5y;}z7y=D7y?D7y.getNormalOpen():i0c;if(z7y.match(/^[\d]{2}:[\d]{2}$/)){z7y+=":00";}if(!Y7y.currentlyImporting){if(!T7y.defaultAnchorTime){T7y.defaultAnchorTime=z7y;}else if(z7y !== T7y.defaultAnchorTime){T7y.defaultAnchorTime=z7y;T7y.inputs["Anchor Time"]=z7y;c7y.Studies.repositionAnchor(Y7y,T7y);return;}}var {"Lookback Days":R3y, "Anchor Time":A3y}=T7y.inputs;var [Z3y,x3y,O3y = 0]=A3y.split(":");m3y=c7y.getFn("Market.Symbology.isForexSymbol")(z3y);y3y=T7y.getDependents(Y7y);B3y=0;function W3y(o5y){var Y0c;Y0c="s";Y0c+="cr";Y0c+="ubbed";U0e.q9e();return Y7y.dateFromTick(o5y,null,! !{},Y0c);}N3y=[];y3y.forEach(({inputs:R5y, outputMap:H5y})=>{U0e.q9e();if(R5y.Period){B3y=Math.max(parseInt(R5y.Period),B3y);N3y.push(...Object.keys(H5y));}});T7y.dependentsOutputMap=N3y;n3y=a3y(f7y.length - 1,!"");U3y=Math.ceil(f7y.length - +"1" - h3y);U0e.z5m(6);b7y=a3y(U0e.W5m(U3y,B3y));if(m3y && f7y[b7y] && c7y.dateToStr(f7y[b7y].DT,"HH:mm") !== z7y){U0e.U5m(6);b7y=a3y(U0e.W5m(b7y,1));;}if(!m3y && T7y.startFrom > b7y && f7y[b7y] && f7y[b7y]["V " + T7y.name] !== undefined && N3y.every(e5y=>{U0e.q9e();return ![undefined,null].includes(f7y[b7y][e5y]);}) && n3y !== !1){s7y=n3y;;}else {s7y=b7y;}function v3y(p5y){U0e.b9e();console.error(`Expected data for ${W3y(p5y).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function I3y(E5y){return {hours:E5y.getHours(),minutes:E5y.getMinutes()};}H3y=F3y(W3y(b7y),R3y);H3y.setHours(0,0,0);o3y=a3y(0,! !{});k3y=(o3y || o3y === 0) && D3y(F3y(f7y[o3y].DT,R3y,! !1));if(f7y[0].DT > H3y){if(Y7y.quoteDriver){if(T7y.chart.endPoints.begin > H3y){Y7y.quoteDriver.extendHistoricalData({from:H3y});}if(k3y > "0" * 1){s7y=k3y;}else {return;}}else {return T7y.error=`Not enough data to calculate ${G7y}`;}}if(s7y < 0 || s7y > f7y.length - 1){return;}c3y=f7y.length - T7y.startFrom === 1 && T7y.cachedFutureTicks && T7y.cachedLastProjection && +T7y.cachedLastProjection.DT === +f7y[f7y.length - 1].DT && f7y[s7y]["PV " + T7y.name];if(c3y){U0e.U5m(8);var n4t=U0e.x5m(8,2,7);f7y[f7y.length - n4t]["PV " + T7y.name]=T7y.cachedLastProjection.projectedValue;T7y.appendFutureTicks(Y7y,T7y.cachedFutureTicks);s7y=T7y.startFrom;}else {T7y.cachedFutureTicks=null;T7y.cachedLastProjection=null;h7y=[n3y];w3y=[];for(var r3y=0;r3y < R3y;r3y++){J3y=a3y(h7y[0] - +"1");h7y.unshift(J3y);;}while(h7y[R3y] >= s7y){W7y=h7y.pop();if(!f7y[W7y]){return v3y(W7y);}d3y=I3y(f7y[W7y].DT);var {hours:A7y, minutes:K3y}=d3y;j3y=D7y.getClose(f7y[W7y].DT);t7y=void 0;if(!j3y){t7y={hours:24,minutes:0};}else {e3y=D7y.getNextClose(f7y[W7y].DT);t7y=I3y(j3y);while(!(t7y.hours === 0 && t7y.minutes === 0) && j3y.getDate() === e3y.getDate()){j3y=e3y;e3y=D7y.getNextClose(e3y);}t7y=I3y(j3y);if(t7y.hours === +"0"){t7y.hours=24;}}F7y=h7y.slice();for(var Q3y=+"0";Q3y < F7y.length;Q3y++){U7y=F7y[Q3y];if(!f7y[U7y]){return v3y(U7y);}var {hours:p3y, minutes:C3y}=I3y(f7y[U7y].DT);if(p3y < A7y || p3y === A7y && C3y < K3y){do {U7y++;({hours:p3y, minutes:C3y}=I3y(f7y[U7y].DT));}while(!(p3y === A7y && C3y === K3y));}F7y[Q3y]=U7y;}while(A7y < t7y.hours || A7y === t7y.hours && K3y < t7y.minutes){S3y=!{};U0e.U5m(14);g3y=void U0e.x5m(0,"0");T3y=void 0;U0e.z5m(14);f3y=U0e.x5m(0,"0");X3y=0;for(var Z7y="0" * 1;Z7y < F7y.length;Z7y++){u3y=F7y[Z7y];if(u3y === null)continue;E3y=f7y[u3y];if(!E3y){return v3y(u3y);}var {hours:I5y, minutes:K5y}=I3y(E3y.DT);j5y=E3y.DT.getDate();if(I5y === A7y && K5y === K3y){f3y+=E3y.Volume;X3y++;F7y[Z7y]++;if(f7y[F7y[Z7y]].DT.getDate() !== j5y){F7y[Z7y]=null;}else if(!S3y){({hours:g3y, minutes:T3y}=I3y(f7y[F7y[Z7y]].DT));S3y=! !{};;}}}A7y=g3y;K3y=T3y;if(X3y === 0)break;U0e.z5m(16);Y3y=U0e.W5m(X3y,f3y);if(f7y[W7y]){f7y[W7y]["PV " + T7y.name]=Y3y;}else {w3y.push({["PV " + T7y.name]:Y3y});}W7y++;}h7y.unshift(a3y(h7y[0] - 1));;}T7y.cachedLastProjection={DT:f7y[f7y.length - 1].DT,projectedValue:f7y[f7y.length - 1]["PV " + T7y.name]};T7y.cachedFutureTicks=w3y;T7y.appendFutureTicks(Y7y,w3y);}J7y=null;d7y=0;M3y=0;if(c3y && i3y){while(s7y > +"0"){U0e.U5m(6);l3y=f7y[U0e.x5m(s7y,1)]["V " + T7y.name];if(l3y || l3y === 0){d7y=l3y;break;}s7y--;}}for(var x7y=s7y;x7y < f7y.length;x7y++){T0c="P";T0c+="V";T0c+=" ";j0c="V";j0c+=" ";v7y=f7y[x7y];s3y=v7y.Volume;b3y=v7y["PV " + T7y.name];if(!v7y.futureTick){q5y=x7y;}if(J7y === null){J7y=c7y.Studies.getMarketOffset({stx:Y7y,localQuoteDate:f7y[x7y].DT,shiftToDateBoundary:! ![]});}V3y=new Date(new Date(v7y.DT).getTime() + J7y);t3y=f7y[x7y - 1] && new Date(new Date(f7y[x7y - 1].DT).getTime() + J7y);q3y=new C7y.Date(v7y.DT,D7y.market_def.market_tz || "America/New_York");q3y.setHours(Z3y,x3y,O3y);U0e.z5m(2);q3y=new Date(U0e.W5m(q3y,J7y));q3y.setDate(V3y.getDate());if(t3y && V3y.getDate() !== t3y.getDate()){J7y=null;d7y=0;U0e.U5m(14);M3y=U0e.W5m(0,"0");}if(V3y < q3y){v7y["V " + T7y.name]=0;v7y["PV " + T7y.name]=0;continue;}if(i3y){d7y+=s3y;M3y+=b3y;}else {d7y=s3y;M3y=b3y;}v7y[j0c + T7y.name]=d7y;if(!c3y){v7y[T0c + T7y.name]=M3y;}if([NaN,null,undefined].includes(d7y) && !v7y.futureTick){T7y.error=`${G7y} requires volume`;return;}}T7y.cachedLastProjection.projectedValue=f7y[q5y]["PV " + T7y.name];T7y.outputMap={};T7y.outputMap["V " + T7y.name]="";T7y.outputMap[e0c + T7y.name]=G0c;function a5y(c5y){U0e.b9e();var w5y;c5y.setHours(0);c5y.setMinutes(0);w5y=c7y.Studies.getMarketOffset({stx:Y7y,localQuoteDate:c5y});return new Date(c5y.getTime() + w5y);}y3y.forEach(Q5y=>{U0e.b9e();Q5y.startFrom=s7y;Q5y.study.calculateFN(Y7y,Q5y);});};c7y.Studies.displayProjectedVolume=function(P5y,L5y,i5y){var s0e=a2ww;var X0c,y5y,O5y,k5y,r5y,S5y,P29,y29,K29,T5y,f5y;X0c="A";X0c+="l";X0c+="ert Ba";X0c+="r";if(L5y.error){return c7y.Studies.removeAnchorHandle(P5y,L5y);}var {"Alert Threshold":m5y = ""}=L5y.inputs;s0e.U5m(12);var C4t=s0e.W5m(13,11,3);s0e.U5m(63);var z4t=s0e.W5m(5,9,5);s0e.U5m(6);var r4t=s0e.W5m(600,500);y5y=parseInt(m5y.slice("0" - 0,C4t),z4t) / r4t;O5y=L5y.outputs[X0c];if(typeof O5y === "object"){O5y=O5y.color;}L5y.volumeField="V " + L5y.name;L5y.alignStepToSide=! !"1";L5y.extendToEndOfLastBar=! !"1";L5y.lineWidth=2;k5y=P5y.canvasStyle("stx_volume_underlay_up").opacity;r5y=P5y.canvasStyle("stx_volume_underlay_down").opacity;L5y.colorFunction=function(s5y){var G5y,Y5y,z5y,b5y,t5y,v5y;var {Open:F5y, Close:D5y, iqPrevClose:W5y}=s5y;G5y=P5y.colorByCandleDirection?F5y:W5y;s0e.U5m(148);Y5y=s0e.W5m(D5y,G5y);z5y=s5y["PV " + L5y.name];b5y=s5y["V " + L5y.name];s0e.b9e();s0e.z5m(149);t5y=s0e.x5m(y5y,0,"1",z5y);v5y=y5y < +"0"?b5y < t5y:b5y > t5y;return {fill_color:v5y && O5y || (Y5y?this.fill_color_down:this.fill_color_up),border_color:Y5y?this.border_color_down:this.border_color_up,opacity:v5y?+"1":Y5y?r5y:k5y,border_opacity:Y5y?r5y:k5y};};S5y=L5y.study?L5y.study.name:L5y.type;P29=-2130492409;y29=1873062933;K29=2;for(var U29=1;s0e.y89(U29.toString(),U29.toString().length,36313) !== P29;U29++){var {loadingMore:g5y}=P5y.chart;K29+=2;}if(s0e.y89(K29.toString(),K29.toString().length,52920) !== y29){var {loadingMore:g5y}=P5y.chart;}T5y=i5y.some(h5y=>{s0e.b9e();return h5y && h5y[L5y.volumeField] && h5y["PV " + L5y.name];});f5y=i5y[0] && !i5y[0].futureTick && (i5y[0]["PV " + L5y.name] === undefined || (L5y.dependentsOutputMap || []).some(A5y=>{return [undefined,null].includes(i5y[0][A5y]);}));if(!T5y && g5y){return L5y.error=`Fetching data for ${S5y}`;}c7y.Studies.createVolumeChart(P5y,L5y,i5y);c7y.Studies.displaySeriesAsLine(P5y,L5y,i5y);if(L5y.anchorHandle){c7y.Studies.displayAnchorHandleAndLine(P5y,L5y,i5y);}if(f5y){c7y.Studies.calculateProjectedVolume(P5y,L5y);}};c7y.Studies.studyLibrary=c7y.extend(c7y.Studies.studyLibrary,{PVAT:{name:M0c,range:"0 to max",yAxis:{ground:! !{}},calculateFN:c7y.Studies.calculateProjectedVolume,seriesFN:c7y.Studies.displayProjectedVolume,initializeFN:c7y.Studies.initProjectedVolume,removeFN:c7y.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%",w0c,"+100%",k0c,"+50%","+25%","None","-25%","-50%","-75%","-100%","-125%","-150%"],"Anchor Selector":! !{}},outputs:{"Average Line":c0c,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:F0c},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! ![]},calculateFN:c7y.Studies.calculateProjectedVolume,seriesFN:c7y.Studies.displayProjectedVolume,initializeFN:c7y.Studies.initProjectedVolume,removeFN:c7y.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":N0c,"Up Volume":H0c,"Down Volume":"#b82c0c"},parameters:{plotType:p0c},attributes:{"Anchor Time":{placeholder:a0c,step:1}}}});}};P4Q=x5y=>{var Z5y,x0c;Z5y=typeof _CIQ !== "undefined"?_CIQ:x5y.CIQ;if(!Z5y.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {x0c="Psycholo";x0c+="gical Line";Z5y.Studies.calculatePsychologicalLine=function(a9y,U5y){var d5y,I9y,j9y,K9y,d0c,q9y;d5y=U5y.chart.scrubbed;if(d5y.length < U5y.days + 1){U5y.error=! !{};return;}I9y=[];j9y=("100" - 0) / U5y.days;K9y=+"0";a2ww.q9e();for(var J5y=Math.max(U5y.startFrom - U5y.days,1);J5y < d5y.length;J5y++){d0c="Resu";d0c+="lt ";if(d5y[J5y].futureTick)break;q9y=Number(d5y[J5y].Close > d5y[J5y - 1].Close);if(q9y){K9y+=j9y;}I9y.push(q9y);if(I9y.length > U5y.days){K9y-=I9y.shift() * j9y;}if(J5y < U5y.startFrom)continue;if(!isNaN(d5y[J5y].Close)){d5y[J5y][d0c + U5y.name]=K9y;}}};Z5y.Studies.studyLibrary=Z5y.extend(Z5y.Studies.studyLibrary,{PSY:{name:x0c,range:"0 to 100",calculateFN:Z5y.Studies.calculatePsychologicalLine,inputs:{Period:"20" | 0}}});}};i4Q=H9y=>{var v0c,R9y,J0c;v0c="u";v0c+="ndefin";v0c+="ed";R9y=typeof _CIQ !== v0c?_CIQ:H9y.CIQ;a2ww.q9e();if(!R9y.Studies){console.error("qstick feature requires first activating studies feature.");}else {J0c="Q";J0c+="S";J0c+="t";J0c+="ick";R9y.Studies.calculateQStick=function(E9y,e9y){var Q9y,Z0c;Q9y=e9y.chart.scrubbed;a2ww.q9e();if(Q9y.length < e9y.days + 1){e9y.error=! !1;return;}for(var p9y=e9y.startFrom;p9y < Q9y.length;p9y++){Z0c="_Clo";Z0c+="se";Z0c+="-";Z0c+="Open ";Q9y[p9y][Z0c + e9y.name]=Q9y[p9y].Close - Q9y[p9y].Open;}R9y.Studies.MA(e9y.inputs["Moving Average Type"],e9y.days,"_Close-Open " + e9y.name,0,"Result",E9y,e9y);};R9y.Studies.studyLibrary=R9y.extend(R9y.Studies.studyLibrary,{QStick:{name:J0c,calculateFN:R9y.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};O4Q=B9y=>{var L0c,M9y,R5c,P5c,D5c,B5c,r5c;L0c="un";L0c+="defined";M9y=typeof _CIQ !== L0c?_CIQ:B9y.CIQ;if(!M9y.Studies){R5c="rainbow feature";R5c+=" requires first activating studies feature.";console.error(R5c);}else {P5c="fi";P5c+="eld";D5c="#0";D5c+="000";D5c+="FF";B5c="#007FF";B5c+="F";r5c="Rainbow M";r5c+="oving Average";M9y.Studies.calculateRainbow=function(i9y,N9y){var T0e=a2ww;var t5c,n9y,w9y,L9y,s5c,P9y,u9y,l9y,V9y,C9y,X9y,f5c,b5c,h5c,g5c;t5c="fiel";t5c+="d";n9y=N9y.chart.scrubbed;if(n9y.length < N9y.days + 1){N9y.error=! !{};return;}w9y=N9y.inputs.Field;if(!w9y || w9y == t5c){w9y="Close";}L9y=w9y;for(var c9y="1" - 0;c9y <= 10;c9y++){s5c="S";s5c+="M";s5c+="A";M9y.Studies.MA("simple",N9y.days,L9y,0,"SMA" + c9y,i9y,N9y);T0e.z5m(150);var B4t=T0e.x5m(21792,3645,6,13);T0e.U5m(56);var D4t=T0e.W5m(1308,1,218,5225);T0e.z5m(6);var P4t=T0e.x5m(20400,16320);L9y=s5c + c9y + ((B4t,D4t) >= P4t?" ":"z") + N9y.name;}function O9y(S9y,r9y){var y9y,k9y;T0e.U5m(6);var y4t=T0e.x5m(4,5);y9y=Number.MAX_VALUE * y4t;k9y=Number.MAX_VALUE;for(var m9y=r9y - S9y + 1;m9y <= r9y;m9y++){if(m9y < 0)continue;y9y=Math.max(y9y,n9y[m9y].Close);k9y=Math.min(k9y,n9y[m9y].Close);}return [k9y,y9y];}for(var o9y=Math.max(N9y.startFrom,10);o9y < n9y.length;o9y++){if(!n9y[o9y])continue;if(n9y[o9y].futureTick)break;P9y=0;u9y=0;T0e.z5m(151);var K4t=T0e.W5m(5251180524,1750393500,4,7,1);l9y=Number.MAX_VALUE * -("1" >> K4t);V9y=Number.MAX_VALUE;for(c9y=1;c9y <= +"10";c9y++){C9y=n9y[o9y]["SMA" + c9y + " " + N9y.name];if(C9y || C9y === +"0"){P9y+=C9y;u9y++;l9y=Math.max(l9y,C9y);V9y=Math.min(V9y,C9y);}}if(N9y.name.indexOf("Osc") > - +"1"){X9y=O9y(N9y.inputs["HHV/LLV Lookback"],o9y);if(u9y){f5c="Un";f5c+="d";f5c+="e";f5c+="r ";b5c="O";b5c+="v";b5c+="er";b5c+=" ";T0e.U5m(28);var Q4t=T0e.W5m(100,7,1400);T0e.U5m(124);var U4t=T0e.W5m(14,229,20,15);n9y[o9y][N9y.name + "_hist"]=Q4t * (n9y[o9y][w9y] - P9y / u9y) / Math.max(+"0.000001",X9y[U4t] - X9y[0]);T0e.U5m(6);var V4t=T0e.x5m(200,100);T0e.U5m(152);var u4t=T0e.W5m(8,3,20,8);n9y[o9y][b5c + N9y.name]=V4t * (l9y - V9y) / Math.max(0.000001,X9y[u4t] - X9y[0]);n9y[o9y][f5c + N9y.name]=-n9y[o9y]["Over " + N9y.name];n9y[o9y]["Zero " + N9y.name]=+"0";}}}if(N9y.name.indexOf("Osc") > -1){h5c="Posit";h5c+="i";h5c+="ve ";h5c+="Bar";g5c="Ove";g5c+="r";g5c+=" ";N9y.outputMap={};N9y.outputMap[g5c + N9y.name]=h5c;N9y.outputMap["Under " + N9y.name]="Negative Bar";N9y.outputMap["Zero " + N9y.name]="";N9y.outputMap[N9y.name + "_hist"]="";}};M9y.Studies.displayRainbowMA=function(f9y,T9y,s9y){var Y9y;a2ww.q9e();Y9y=f9y.panels[T9y.panel];for(var g9y=10;g9y > +"0";g9y--){M9y.Studies.displayIndividualSeriesAsLine(f9y,T9y,Y9y,"SMA" + g9y + ((2820,267.39) !== (16.52,+"96")?" ":!"1") + T9y.name,s9y);}};M9y.Studies.displayRainbowOsc=function(t9y,b9y,d9y){var C5c,n5c,I5c,D9y,F9y,v9y,z9y,h9y,Z9y,x9y,U9y,J9y,G9y,z5c,W9y;C5c="#";C5c+="CCC";C5c+="C";C5c+="CC";n5c="Un";n5c+="d";n5c+="e";n5c+="r ";I5c="Pos";I5c+="itive Bar";M9y.Studies.displaySeriesAsLine(t9y,b9y,d9y);D9y=t9y.panels[b9y.panel];F9y=b9y.getContext(t9y);v9y=b9y.getYAxis(t9y);t9y.startClip(b9y.panel);if(!b9y.highlight && t9y.highlightedDraggable){F9y.globalAlpha*=0.3;}z9y=t9y.pixelFromPrice(0,D9y,v9y);h9y=D9y.name != b9y.chart.name;Z9y=M9y.Studies.determineColor(b9y.outputs[I5c]);F9y.strokeStyle=Z9y;t9y.plotDataSegmentAsLine("Over " + b9y.name,D9y,{skipTransform:h9y,label:!{},yAxis:v9y});x9y=F9y.createLinearGradient(0,z9y,0,v9y.flipped?v9y.bottom:v9y.top);x9y.addColorStop(+"0",t9y.containerColor);x9y.addColorStop(1,Z9y);M9y.prepareChannelFill(t9y,{skipTransform:h9y,color:x9y,opacity:!b9y.highlight && t9y.highlightedDraggable?0.3:1,panelName:b9y.panel,topBand:"Over " + b9y.name,bottomBand:"Zero " + b9y.name,yAxis:v9y});U9y=M9y.Studies.determineColor(b9y.outputs["Negative Bar"]);F9y.strokeStyle=U9y;t9y.plotDataSegmentAsLine("Under " + b9y.name,D9y,{skipTransform:h9y,label:!"1",yAxis:v9y});J9y=F9y.createLinearGradient(0,z9y,0,v9y.flipped?v9y.top:v9y.bottom);J9y.addColorStop(0,t9y.containerColor);J9y.addColorStop(1,U9y);M9y.prepareChannelFill(t9y,{skipTransform:h9y,color:J9y,opacity:!b9y.highlight && t9y.highlightedDraggable?0.3:+"1",panelName:b9y.panel,topBand:"Zero " + b9y.name,bottomBand:n5c + b9y.name,yAxis:v9y});a2ww.z5m(124);var E4t=a2ww.x5m(2,43,9,18);G9y=t9y.layout.candleWidth - E4t;if(G9y < 2){G9y=1;}t9y.canvasColor("stx_histogram");if(!b9y.underlay){F9y.globalAlpha=1;}if(!b9y.highlight && t9y.highlightedDraggable){F9y.globalAlpha*=0.3;}F9y.fillStyle=C5c;for(var A9y=0;A9y < d9y.length;A9y++){z5c="_";z5c+="h";z5c+="ist";W9y=d9y[A9y];if(!W9y)continue;if(W9y[b9y.name + "_hist"] > 0){F9y.fillStyle=Z9y;}else if(W9y[b9y.name + z5c] < 0){F9y.fillStyle=U9y;}if(W9y.candleWidth){G9y=Math.floor(Math.max(1,W9y.candleWidth - 2));}F9y.fillRect(Math.floor(t9y.pixelFromBar(A9y,D9y.chart) - G9y / 2),Math.floor(z9y),Math.floor(G9y),Math.floor(t9y.pixelFromPrice(W9y[b9y.name + "_hist"],D9y,v9y) - z9y));}t9y.endClip();};M9y.Studies.studyLibrary=M9y.extend(M9y.Studies.studyLibrary,{"Rainbow MA":{name:r5c,overlay:! !{},calculateFN:M9y.Studies.calculateRainbow,seriesFN:M9y.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:B5c,SMA8:D5c,SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:M9y.Studies.calculateRainbow,seriesFN:M9y.Studies.displayRainbowOsc,centerline:0,inputs:{Period:"2" | 0,Field:P5c,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};m4Q=K8y=>{var y5c,I8y,Q5c;y5c="unde";y5c+="fined";I8y=typeof _CIQ !== y5c?_CIQ:K8y.CIQ;if(!I8y.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {Q5c="#0";Q5c+="0";Q5c+="00F";Q5c+="F";I8y.Studies.calculateRandomWalk=function(n8y,R8y){var q8y,p8y,E8y,M8y,H8y,e8y,Q8y,B8y,N8y,K5c;q8y=R8y.chart.scrubbed;if(q8y.length < R8y.days + 1){R8y.error=! ![];return;}for(var j8y=Math.max("2" * 1,R8y.startFrom);j8y < q8y.length;j8y++){p8y=0;E8y=q8y[j8y].High;M8y=q8y[j8y].Low;H8y=0;e8y=+"0";for(var a8y=1;a8y <= R8y.days;a8y++){if(q8y[j8y].futureTick)break;if(j8y <= a8y){H8y=e8y=0;break;}p8y+=q8y[j8y - a8y].trueRange;Q8y=p8y / a8y * Math.sqrt(a8y);if(Q8y){B8y=(E8y - q8y[j8y - a8y].Low) / Q8y;N8y=(q8y[j8y - a8y].High - M8y) / Q8y;H8y=Math.max(H8y,B8y);e8y=Math.max(e8y,N8y);}}if(!q8y[j8y].futureTick && (!isNaN(E8y) || !isNaN(M8y))){K5c="Ra";K5c+="n";K5c+="dom Walk ";K5c+="High ";q8y[j8y][K5c + R8y.name]=H8y;q8y[j8y]["Random Walk Low " + R8y.name]=e8y;}}};I8y.Studies.studyLibrary=I8y.extend(I8y.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:I8y.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":Q5c}}});}};y4Q=c8y=>{var o8y,l5c,W5c;o8y=typeof _CIQ !== "undefined"?_CIQ:c8y.CIQ;if(!o8y.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {l5c="#F";l5c+="F";l5c+="00";l5c+="00";W5c="a";W5c+="uto";o8y.Studies.calculateRelativeVigor=function(i8y,w8y){var i0e=a2ww;var E5c,V5c,X8y,l79,O79,o79,C8y,U5c,u8y,V8y,L8y,u5c,O8y,P8y,l8y;E5c="RelVig";E5c+="Signal";V5c="_";V5c+="C";V5c+="hange";V5c+=" ";X8y=w8y.chart.scrubbed;if(X8y.length < w8y.days + 1){w8y.error=! !{};return;}i0e.b9e();i0e.U5m(0);l79=i0e.x5m("116198607",2147483647);O79=-1496556898;o79=2;for(var m79=1;i0e.P89(m79.toString(),m79.toString().length,63047) !== l79;m79++){o79+=2;}if(i0e.y89(o79.toString(),o79.toString().length,"76625" >> 444505568) !== O79){}for(C8y=w8y.startFrom;C8y < X8y.length;C8y++){U5c="_";U5c+="Ran";U5c+="ge";U5c+=" ";u8y=X8y[C8y];if(!isNaN(u8y.Close) && !isNaN(u8y.Open)){u8y["_Change " + w8y.name]=u8y.Close - u8y.Open;}if(!isNaN(u8y.High) && !isNaN(u8y.Low)){u8y[U5c + w8y.name]=u8y.High - u8y.Low;}}o8y.Studies.MA("triangular",4,V5c + w8y.name,+"0","_Numer",i8y,w8y);o8y.Studies.MA("triangular",4,"_Range " + w8y.name,0,"_Denom",i8y,w8y);V8y=[];L8y=[];for(C8y=Math.max(w8y.startFrom - w8y.days,0);C8y < X8y.length;C8y++){u5c="_";u5c+="N";u5c+="u";u5c+="mer ";if(X8y[C8y].futureTick)break;if(X8y[C8y]["_Numer " + w8y.name] === null && X8y[C8y]["_Denom " + w8y.name] === null)continue;V8y.push(X8y[C8y][u5c + w8y.name]);L8y.push(X8y[C8y]["_Denom " + w8y.name]);if(V8y.length > w8y.days){V8y.shift();L8y.shift();}O8y=0;P8y=0;for(l8y="0" & 2147483647;l8y < V8y.length;l8y++){O8y+=V8y[l8y];}for(l8y="0" ^ 0;l8y < L8y.length;l8y++){P8y+=L8y[l8y];}if(P8y === 0){P8y=0.00000001;}if(C8y < w8y.startFrom)continue;i0e.U5m(16);X8y[C8y]["Rel Vig " + w8y.name]=i0e.x5m(P8y,O8y);}i0e.U5m(14);o8y.Studies.MA("triangular",i0e.x5m(0,"4"),"Rel Vig " + w8y.name,"0" * 1,E5c,i8y,w8y);for(C8y=w8y.startFrom;C8y < X8y.length;C8y++){X8y[C8y][w8y.name + "_hist"]=X8y[C8y]["Rel Vig " + w8y.name] - X8y[C8y]["RelVigSignal " + w8y.name];}w8y.outputMap[w8y.name + "_hist"]="";};o8y.Studies.studyLibrary=o8y.extend(o8y.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:o8y.Studies.displayHistogramWithSeries,calculateFN:o8y.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":W5c,RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":l5c}}});}};k4Q=y8y=>{var m8y,o5c;m8y=typeof _CIQ !== "undefined"?_CIQ:y8y.CIQ;if(!m8y.Studies){console.error("rsi feature requires first activating studies feature.");}else {o5c="a";o5c+="ut";o5c+="o";m8y.Studies.calculateRSI=function(F8y,k8y){var V0e=a2ww;V0e.q9e();var s8y,r8y,O5c,f8y,Y8y,b8y,t8y,S8y,g8y;s8y=k8y.chart.scrubbed;r8y=k8y.inputs.Field;if(!r8y || r8y == "field"){r8y="Close";}if(s8y.length < k8y.days + 1){k8y.error=!0;return;}for(var T8y=k8y.startFrom;T8y < s8y.length;T8y++){O5c="_";O5c+="avgL ";if(!T8y)continue;f8y=s8y[T8y];V0e.z5m(123);Y8y=s8y[V0e.x5m("1",T8y)];if(!f8y[r8y] && f8y[r8y] !== 0)continue;if(!Y8y[r8y] && Y8y[r8y] !== ("0" & 2147483647))continue;b8y=f8y[r8y] - Y8y[r8y];t8y=Math.min(T8y,k8y.days);S8y=Y8y["_avgG " + k8y.name];if(!S8y){S8y=0;}V0e.z5m(16);S8y-=V0e.W5m(t8y,S8y);g8y=Y8y[O5c + k8y.name];if(!g8y){g8y=0;}V0e.U5m(16);g8y-=V0e.x5m(t8y,g8y);if(b8y > ("0" & 2147483647)){V0e.z5m(16);S8y+=V0e.x5m(t8y,b8y);}else if(b8y <= 0){V0e.U5m(16);g8y-=V0e.x5m(t8y,b8y);}else continue;if(T8y >= k8y.days){if((S8y || S8y !== 0) && (g8y || g8y !== 0)){f8y["RSI " + k8y.name]=v8y(S8y,g8y);}}f8y["_avgG " + k8y.name]=S8y;f8y["_avgL " + k8y.name]=g8y;}function v8y(G8y,D8y){var W8y;if(D8y === 0){return 100;}V0e.U5m(16);W8y=V0e.W5m(D8y,G8y);V0e.z5m(153);V0e.b9e();return V0e.W5m(1,100,W8y,100);}k8y.zoneOutput="RSI";};m8y.Studies.studyLibrary=m8y.extend(m8y.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:m8y.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:o5c},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"80" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};r4Q=h8y=>{var z8y,X5c;z8y=typeof _CIQ !== "undefined"?_CIQ:h8y.CIQ;a2ww.q9e();if(!z8y.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {X5c="a";X5c+="u";X5c+="to";z8y.Studies.calculateSchaff=function(E1K,A8y){var A5c,m5c,q5c,U8y,d8y,Q1K,I1K,K1K,p1K,j1K,q1K,G5c,j5c,i5c,S5c,J8y,a1K,R1K,H1K,x8y,e5c,T5c,e1K,Y5c;A5c="_M";A5c+="ACD";A5c+="2";m5c="_M";m5c+="A";function M1K(w1K,c1K,C1K){var N1K,n1K,B1K;N1K=null;n1K=null;for(var o1K=c1K - w1K + 1;o1K <= c1K;o1K++){B1K=U8y[o1K][C1K + " " + A8y.name];if(!B1K)continue;N1K=N1K === null?B1K:Math.min(N1K,B1K);n1K=n1K === null?B1K:Math.max(n1K,B1K);}return [N1K,n1K];}m5c+="CD1";q5c="Long C";q5c+="y";q5c+="cle";a2ww.b9e();U8y=A8y.chart.scrubbed;d8y=A8y.days;Q1K=Number(A8y.inputs["Short Cycle"]);I1K=Number(A8y.inputs[q5c]);if(U8y.length < Math.max(d8y,Q1K,I1K) + +"1"){A8y.error=! ![];return;}K1K=A8y.inputs.Field;if(!K1K || K1K == "field"){K1K="Close";}p1K=0.5;z8y.Studies.MA(A8y.inputs["Moving Average Type"],Q1K,K1K,0,m5c,E1K,A8y);z8y.Studies.MA(A8y.inputs["Moving Average Type"],I1K,K1K,0,A5c,E1K,A8y);j1K=0;q1K=0;for(var Z8y=A8y.startFrom;Z8y < U8y.length;Z8y++){G5c="_P";G5c+="F";j5c="_";j5c+="M";j5c+="AC";j5c+="D";i5c="_M";i5c+="AC";i5c+="D";i5c+=" ";S5c="_MACD";S5c+="1 ";J8y=U8y[Z8y];if(Z8y < I1K - 1)continue;a1K=J8y[S5c + A8y.name];R1K=J8y["_MACD2 " + A8y.name];if(a1K || a1K === 0 || R1K || R1K === 0){a2ww.z5m(6);J8y["_MACD " + A8y.name]=a2ww.W5m(a1K,R1K);}H1K=J8y[i5c + A8y.name];if(Z8y < I1K + (d8y - ("1" ^ 0)))continue;x8y=M1K(d8y,Z8y,j5c);j1K=x8y[1] > x8y[+"0"]?+"100" * (H1K - x8y[0]) / (x8y[1] - x8y["0" >> 1447485952]):j1K;if(H1K || H1K === 0){e5c="_PF";e5c+=" ";T5c="_";T5c+="PF ";J8y[T5c + A8y.name]=U8y[Z8y - 1][e5c + A8y.name]?U8y[Z8y - 1]["_PF " + A8y.name] + p1K * (j1K - U8y[Z8y - 1]["_PF " + A8y.name]):j1K;}e1K=J8y["_PF " + A8y.name];if(Z8y < I1K + 2 * (d8y - 1))continue;x8y=M1K(d8y,Z8y,G5c);q1K=x8y["1" * 1] > x8y[0]?100 * (e1K - x8y[0]) / (x8y["1" << 1270684800] - x8y[0]):q1K;if(e1K || e1K === 0){Y5c="R";Y5c+="es";Y5c+="ult ";J8y["Result " + A8y.name]=U8y[Z8y - 1][Y5c + A8y.name]?U8y[Z8y - 1]["Result " + A8y.name] + p1K * (q1K - U8y[Z8y - 1]["Result " + A8y.name]):q1K;}}};z8y.Studies.studyLibrary=z8y.extend(z8y.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:z8y.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:X5c,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};S4Q=u1K=>{var X1K,w5c;X1K=typeof _CIQ !== "undefined"?_CIQ:u1K.CIQ;if(!X1K.Studies){console.error("shinohara feature requires first activating studies feature.");}else {w5c="#E";w5c+="9";w5c+="9B";w5c+="54";X1K.Studies.calculateShinohara=function(i1K,L1K){var D0e=a2ww;D0e.b9e();var D79,P79,y79,V1K,P1K,M5c;D79=- +"1260130330";P79=2045538815;y79=2;for(var Q79=1;D0e.y89(Q79.toString(),Q79.toString().length,+"29658") !== D79;Q79++){V1K=L1K.chart.scrubbed;D0e.U5m(0);y79+=D0e.W5m("2",2147483647);}if(D0e.P89(y79.toString(),y79.toString().length,94184) !== P79){V1K=L1K.chart.scrubbed;}V1K=L1K.chart.scrubbed;if(V1K.length < L1K.days + 1){L1K.error=!0;return;}P1K={weakNum:+"0",weakDen:"0" - 0,strongNum:0,strongDen:"0" - 0};if(L1K.startFrom > 1){P1K=X1K.clone(V1K[L1K.startFrom - 1]["_accums " + L1K.name]);}for(var l1K=L1K.startFrom;l1K < V1K.length;l1K++){M5c="_accum";M5c+="s ";P1K.weakNum+=V1K[l1K].High - V1K[l1K].Close;P1K.weakDen+=V1K[l1K].Close - V1K[l1K].Low;if(l1K > 0){D0e.U5m(36);var W4t=D0e.x5m(175,14,10,19);P1K.strongNum+=V1K[l1K].High - V1K[l1K - W4t].Close;D0e.z5m(2);var l4t=D0e.W5m(0,1);P1K.strongDen+=V1K[l1K - l4t].Close - V1K[l1K].Low;}if(l1K >= L1K.days){P1K.weakNum-=V1K[l1K - L1K.days].High - V1K[l1K - L1K.days].Close;P1K.weakDen-=V1K[l1K - L1K.days].Close - V1K[l1K - L1K.days].Low;D0e.U5m(41);var O4t=D0e.W5m(7,114,99,121,1);V1K[l1K]["Weak Ratio " + L1K.name]=O4t * P1K.weakNum / P1K.weakDen;if(l1K > L1K.days){D0e.U5m(28);var o4t=D0e.W5m(0,6,6);P1K.strongNum-=V1K[l1K - L1K.days].High - V1K[l1K - L1K.days - o4t].Close;D0e.U5m(11);var q4t=D0e.W5m(0,9,7,9,3);P1K.strongDen-=V1K[l1K - L1K.days - q4t].Close - V1K[l1K - L1K.days].Low;D0e.U5m(103);var m4t=D0e.x5m(2,88,3,7);V1K[l1K]["Strong Ratio " + L1K.name]=m4t * P1K.strongNum / P1K.strongDen;}}V1K[l1K][M5c + L1K.name]=X1K.clone(P1K);}};X1K.Studies.studyLibrary=X1K.extend(X1K.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:X1K.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":w5c,"Weak Ratio":"#5F7CB8"}}});}};g4Q=m1K=>{var O1K,I6c,h6c,g6c,f6c,b6c,s6c,t6c,R6c;O1K=typeof _CIQ !== "undefined"?_CIQ:m1K.CIQ;if(!O1K.Studies){console.error("stochastics feature requires first activating studies feature.");}else {I6c="a";I6c+="uto";h6c="a";h6c+="u";h6c+="to";g6c="Stochast";g6c+="ics";f6c="au";f6c+="to";b6c="a";b6c+="u";b6c+="to";s6c="#FF0";s6c+="000";t6c="St";t6c+="oc";t6c+="hast";t6c+="ics (Simple)";R6c="Stoc";R6c+="hastic Momentum";R6c+=" Index";O1K.Studies.calculateStochastics=function(Y1K,y1K){var d5c,a5c,p5c,H5c,c5c,k5c,S1K,k1K,r1K,T1K,f1K,N5c,b1K;d5c="%";d5c+="K ";a5c="%";a5c+="K";function s1K(z1K,F1K,Z1K){var w5e=a2ww;var h1K,v1K,t1K,F5c,W1K,G1K,A1K;w5e.U5m(8);h1K=w5e.W5m(Z1K,z1K,1);w5e.z5m(154);var A4t=w5e.x5m(17,2,13,49,8);v1K=Number.MAX_VALUE * A4t;t1K=Number.MAX_VALUE;for(var D1K=h1K;D1K <= z1K;D1K++){F5c="Clo";F5c+="se";W1K=r1K[D1K][F1K == "Close"?"Low":F1K];G1K=r1K[D1K][F1K == F5c?"High":F1K];if(!W1K && W1K !== "0" << 432260736)continue;if(!G1K && G1K !== 0)continue;t1K=Math.min(t1K,W1K);v1K=Math.max(v1K,G1K);}if(v1K == Number.MAX_VALUE * - +"1" || t1K == Number.MAX_VALUE){return null;}A1K=v1K == t1K?0:(r1K[z1K][F1K] - t1K) / (v1K - t1K) * 100;return A1K;}p5c="_";p5c+="Fas";p5c+="t%K ";H5c="simpl";H5c+="e";c5c="%K Perio";c5c+="ds";k5c="f";k5c+="i";k5c+="e";k5c+="ld";if(!y1K.smooth){y1K.smooth=y1K.inputs.Smooth;}S1K=y1K.inputs.Field;if(!S1K || S1K == k5c){S1K="Close";}k1K=y1K.inputs[c5c];if(!k1K){k1K=y1K.days;}r1K=y1K.chart.scrubbed;if(r1K.length < Math.max(k1K,y1K.days) + 1){y1K.error=!"";return;}a2ww.b9e();T1K=y1K.inputs["%K Smoothing Periods"];if(T1K && !y1K.inputs.Fast){y1K.smooth=! !1;}else if(y1K.smooth){T1K=3;}f1K=y1K.inputs["%D Periods"];if(!f1K){f1K=3;}if(y1K.outputs.Fast){y1K.outputMap={};y1K.outputMap["%K " + y1K.name]="Fast";y1K.outputMap["%D " + y1K.name]="Slow";}for(var g1K=Math.max(k1K,y1K.startFrom);g1K < r1K.length;g1K++){N5c="_";N5c+="Fast";N5c+="%K ";b1K=s1K(g1K,S1K,k1K);if(b1K !== null){r1K[g1K][N5c + y1K.name]=s1K(g1K,S1K,k1K);}}O1K.Studies.MA(H5c,y1K.smooth?T1K:+"1",p5c + y1K.name,0,a5c,Y1K,y1K);O1K.Studies.MA("simple",f1K,d5c + y1K.name,+"0","%D",Y1K,y1K);};O1K.Studies.calculateStochMomentum=function(d1K,x1K){var S0e=a2ww;var J5c,Z5c,x5c,I0K,j0K,q0K,R0K,U1K,J1K,v5c,a0K,K0K,L5c;J5c="e";J5c+="xp";J5c+="onent";S0e.b9e();J5c+="ial";Z5c="_H";Z5c+="S2";x5c="%K Double Sm";x5c+="oothing Perio";x5c+="ds";I0K=Number(x1K.inputs["%K Periods"]);j0K=Number(x1K.inputs["%K Smoothing Periods"]);q0K=Number(x1K.inputs[x5c]);R0K=Number(x1K.inputs["%D Periods"]);U1K=x1K.chart.scrubbed;function H0K(M0K,E0K){S0e.q9e();var Q0K,p0K;Q0K=null;p0K=null;for(var e0K=E0K - M0K + 1;e0K <= E0K;e0K++){Q0K=Q0K === null?U1K[e0K].Low:Math.min(Q0K,U1K[e0K].Low);p0K=p0K === null?U1K[e0K].High:Math.max(p0K,U1K[e0K].High);}return [Q0K,p0K];}if(U1K.length < I0K + j0K + q0K - 1 || U1K.length < R0K){x1K.error=! ![];return;}for(J1K=Math.max(I0K,x1K.startFrom) - +"1";J1K < U1K.length;J1K++){v5c="_D";v5c+="H";v5c+="L";v5c+=" ";a0K=U1K[J1K];K0K=H0K(I0K,J1K);S0e.U5m(155);var S4t=S0e.x5m(7,18,9,1);S0e.U5m(56);var i4t=S0e.W5m(1,1,1,1);a0K["_H " + x1K.name]=a0K.Close - (K0K[0] + K0K[S4t]) / i4t;a0K[v5c + x1K.name]=K0K["1" & 2147483647] - K0K[+"0"];}O1K.Studies.MA("exponential",j0K,"_H " + x1K.name,0,"_HS1",d1K,x1K);O1K.Studies.MA("exponential",q0K,"_HS1 " + x1K.name,0,Z5c,d1K,x1K);O1K.Studies.MA("exponential",j0K,"_DHL " + x1K.name,0,"_DHL1",d1K,x1K);O1K.Studies.MA(J5c,q0K,"_DHL1 " + x1K.name,0,"_DHL2",d1K,x1K);for(J1K=I0K - 1;J1K < U1K.length;J1K++){L5c="_H";L5c+="S2";L5c+=" ";S0e.z5m(28);var j4t=S0e.W5m(200,4,1200);U1K[J1K]["%K " + x1K.name]=U1K[J1K][L5c + x1K.name] / (0.5 * U1K[J1K]["_DHL2 " + x1K.name]) * j4t;}O1K.Studies.MA(x1K.inputs["%D Moving Average Type"],R0K,"%K " + x1K.name,0,"%D",d1K,x1K);x1K.zoneOutput="%K";};O1K.Studies.studyLibrary=O1K.extend(O1K.Studies.studyLibrary,{"Stch Mtm":{name:R6c,calculateFN:O1K.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":"10" << 1942118944,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:t6c,range:"0 to 100",calculateFN:O1K.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !"1"},outputs:{Fast:"auto",Slow:s6c},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"80",studyOverBoughtColor:b6c,studyOverSoldValue:+"20",studyOverSoldColor:f6c}}},Stochastics:{name:g6c,range:"0 to 100",calculateFN:O1K.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":"3" ^ 0,"%D Periods":3},outputs:{"%K":h6c,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:I6c}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};T4Q=N0K=>{var B0K,u49,E49,W49,V6c,U6c;B0K=typeof _CIQ !== "undefined"?_CIQ:N0K.CIQ;if(!B0K.Studies){u49=-862180772;E49=-970429423;W49=2;for(var O49=1;a2ww.y89(O49.toString(),O49.toString().length,5082) !== u49;O49++){console.error("supertrend feature requires first activating studies feature.");W49+=+"2";}if(a2ww.y89(W49.toString(),W49.toString().length,"31450" | 20624) !== E49){console.error("");}}else {V6c="#b8";V6c+="2";V6c+="c";V6c+="0c";U6c="Su";U6c+="p";U6c+="ertrend";B0K.Studies.calculateSupertrend=function(V0K,n0K){var W0e=a2ww;var P6c,c0K,D6c,w0K,u0K,l0K,C0K,X0K,z6c,C6c,n6c,B6c,r6c;P6c="Tren";P6c+="d";P6c+=" ";c0K=n0K.chart.scrubbed;if(c0K.length < n0K.days + +"1"){n0K.error=!"";return;}B0K.Studies.calculateStudyATR(V0K,n0K);for(var o0K=n0K.startFrom;o0K < c0K.length;o0K++){D6c="_Direc";D6c+="tion ";w0K=c0K[o0K];if(!w0K)continue;W0e.U5m(29);var T4t=W0e.x5m(17,3266,12,16);u0K=(w0K.High + w0K.Low) / T4t;l0K=n0K.inputs.Multiplier * w0K["ATR " + n0K.name];W0e.U5m(6);C0K=W0e.W5m(u0K,l0K);W0e.U5m(2);X0K=W0e.W5m(u0K,l0K);if(o0K){z6c="_D";z6c+="own";z6c+="tr";z6c+="end ";C6c="_D";C6c+="ow";C6c+="ntrend ";n6c="_Uptr";n6c+="end ";if(c0K[o0K - 1] && c0K[o0K - 1].Close && c0K[o0K - 1].Close > c0K[o0K - 1][n6c + n0K.name] && c0K[o0K - 1]["_Uptrend " + n0K.name] > C0K){W0e.z5m(6);C0K=c0K[W0e.W5m(o0K,1)]["_Uptrend " + n0K.name];}if(c0K[o0K - ("1" >> 1680172672)] && c0K[o0K - 1].Close && c0K[o0K - 1].Close < c0K[o0K - 1][C6c + n0K.name] && c0K[o0K - ("1" & 2147483647)]["_Downtrend " + n0K.name] < X0K){W0e.U5m(6);X0K=c0K[W0e.x5m(o0K,1)][z6c + n0K.name];}}w0K["_Direction " + n0K.name]=1;if(o0K){B6c="_D";B6c+="i";B6c+="rectio";B6c+="n ";r6c="_";r6c+="Uptrend ";W0e.U5m(6);w0K["_Direction " + n0K.name]=c0K[W0e.x5m(o0K,1)]["_Direction " + n0K.name];if(w0K.Close > c0K[o0K - 1]["_Downtrend " + n0K.name]){w0K["_Direction " + n0K.name]=1;}else if(w0K.Close < c0K[o0K - 1][r6c + n0K.name]){w0K[B6c + n0K.name]=-1;}}w0K["_Uptrend " + n0K.name]=C0K;w0K["_Downtrend " + n0K.name]=X0K;w0K["Trend " + n0K.name]=w0K[D6c + n0K.name] > 0?C0K:X0K;if(!o0K)continue;}n0K.outputMap={};n0K.outputMap[P6c + n0K.name]="";};B0K.Studies.displaySupertrend=function(L0K,P0K,y0K){var k0K,O0K,r0K,v0K,Y0K,S0K,g0K,i0K,m0K,K6c,y6c,Q6c,b0K,t0K;function F0K(W0K,D0K,G0K){a2ww.b9e();if(D0K && D0K["_Direction " + P0K.name] < 0){return P0K.outputs.Downtrend;}return P0K.outputs.Uptrend;}k0K=L0K.panels[P0K.panel];O0K=P0K.getContext(L0K);r0K=P0K.getYAxis(L0K);v0K={skipTransform:k0K.name != P0K.chart.name,skipProjections:! !"1",label:L0K.preferences.labels,yAxis:r0K,highlight:P0K.highlight};a2ww.q9e();Y0K="Trend " + P0K.name;for(var s0K=0;k0K.chart.transformFunc && r0K != k0K.chart.yAxis && s0K < y0K.length;s0K++){S0K=y0K[s0K];if(S0K && S0K.transform){S0K.transform[Y0K]=k0K.chart.transformFunc(L0K,k0K.chart,S0K[Y0K]);}}L0K.plotDataSegmentAsLine(Y0K,k0K,v0K,F0K);O0K.lineWidth=1;O0K.globalAlpha=1;L0K.startClip(P0K.panel);if(!P0K.highlight && L0K.highlightedDraggable){O0K.globalAlpha*=0.3;}a2ww.z5m(98);var e4t=a2ww.W5m(10,14,40,18);g0K=O0K.measureText("\u25B2").width / e4t;for(i0K="0" << 1365653312;i0K < y0K.length;i0K++){K6c="_Di";K6c+="rection ";y6c="_Direct";y6c+="ion ";if(!y0K[i0K] || !y0K[i0K - 1])continue;if(y0K[i0K - 1][y6c + P0K.name] > y0K[i0K][K6c + P0K.name]){Q6c="bott";Q6c+="om";m0K=B0K.Studies.determineColor(P0K.outputs.Downtrend);if(!m0K || m0K == "auto" || B0K.isTransparent(m0K)){m0K=L0K.defaultColor;}O0K.fillStyle=m0K;O0K.textBaseline=Q6c;b0K=L0K.pixelFromPrice(y0K[i0K].High,k0K,r0K);for(var T0K=5;T0K <= 45;T0K+=10){if(r0K.flipped){O0K.fillText("\u25B2",L0K.pixelFromBar(i0K) - g0K,b0K + T0K);}else {O0K.fillText((7000,6258) == (174,3584)?52 !== 877.86?(7.96e+3,"x"):111.66:"\u25BC",L0K.pixelFromBar(i0K) - g0K,b0K - T0K);}}}else if(y0K[i0K - 1]["_Direction " + P0K.name] < y0K[i0K]["_Direction " + P0K.name]){m0K=B0K.Studies.determineColor(P0K.outputs.Uptrend);if(!m0K || m0K == "auto" || B0K.isTransparent(m0K)){m0K=L0K.defaultColor;}O0K.fillStyle=m0K;O0K.textBaseline="top";t0K=L0K.pixelFromPrice(y0K[i0K].Low,k0K,r0K);for(var f0K=5;f0K <= 45;f0K+=10){if(r0K.flipped){O0K.fillText(("3760" | 2176) > (996.3,"220.36" * 1)?"\u25BC":(466.66,9580) !== 6692?"O":("C","0x1031" | 4096),L0K.pixelFromBar(i0K) - g0K,t0K - f0K);}else {O0K.fillText("\u25B2",L0K.pixelFromBar(i0K) - g0K,t0K + f0K);}}}}L0K.endClip();};B0K.Studies.studyLibrary=B0K.extend(B0K.Studies.studyLibrary,{Supertrend:{name:U6c,overlay:! ![],seriesFN:B0K.Studies.displaySupertrend,calculateFN:B0K.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:V6c},attributes:{Multiplier:{min:+"0.1",step:+"0.1"}}}});}};f4Q=h0K=>{var z0K,l6c;z0K=typeof _CIQ !== "undefined"?_CIQ:h0K.CIQ;if(!z0K.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {l6c="Accumula";l6c+="tive Swing Ind";l6c+="ex";z0K.Studies.calculateSwingIndex=function(e2K,x0K){var K0e=a2ww;var u6c,U0K,A0K,J0K,W6c,E6c,I2K,K2K,R2K,H2K,q2K,j2K,d0K,a2K;u6c="R";K0e.q9e();u6c+="es";u6c+="ult ";U0K=x0K.inputs["Limit Move Value"];if(U0K === null || isNaN(U0K)){U0K=99999;}A0K=x0K.chart.scrubbed;J0K=0;if(x0K.startFrom > 1){K0e.z5m(8);var G4t=K0e.x5m(5,0,6);J0K=A0K[x0K.startFrom - G4t][u6c + x0K.name];}for(var Z0K=Math.max(1,x0K.startFrom);Z0K < A0K.length;Z0K++){W6c="Resul";W6c+="t";W6c+=" ";E6c="S";E6c+="w";E6c+="ing";I2K=Math.abs(A0K[Z0K].High - A0K[Z0K - 1].Close);K2K=Math.abs(A0K[Z0K].Low - A0K[Z0K - 1].Close);R2K=Math.abs(A0K[Z0K].High - A0K[Z0K].Low);H2K=Math.abs(A0K[Z0K - 1].Close - A0K[Z0K - 1].Open);q2K=Math.max(I2K,K2K);j2K=Math.max(R2K,q2K);K0e.z5m(19);d0K=K0e.x5m(H2K,0.25,j2K);if(j2K == I2K){K0e.U5m(156);d0K-=K0e.x5m(0,K2K,"0.5");}else if(j2K == K2K){K0e.U5m(18);d0K-=K0e.W5m(I2K,0.5);}K0e.z5m(157);var Y4t=K0e.x5m(15,1,15,19,19);K0e.z5m(158);var X4t=K0e.W5m(5,16,0,10);K0e.z5m(6);var M4t=K0e.W5m(11,10);a2K=("50" - 0) * (A0K[Z0K].Close - A0K[Z0K - Y4t].Close + 0.5 * (A0K[Z0K].Close - A0K[Z0K].Open) + 0.25 * (A0K[Z0K - X4t].Close - A0K[Z0K - M4t].Open)) / d0K * (q2K / U0K);if(d0K === 0 || U0K === 0){a2K=0;}if(x0K.type == E6c){J0K=+"0";}J0K+=a2K;A0K[Z0K][W6c + x0K.name]=J0K;}};z0K.Studies.studyLibrary=z0K.extend(z0K.Studies.studyLibrary,{"Acc Swing":{name:l6c,calculateFN:z0K.Studies.calculateSwingIndex,inputs:{"Limit Move Value":+"0.5"}},Swing:{name:"Swing Index",calculateFN:z0K.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};Y4Q=p2K=>{var O6c,Q2K,o6c,m6c;O6c="un";O6c+="d";O6c+="efined";Q2K=typeof _CIQ !== O6c?_CIQ:p2K.CIQ;if(!Q2K.Studies){o6c="tre";o6c+="ndIntensity feature requires first activatin";o6c+="g studies feature.";console.error(o6c);}else {m6c="a";m6c+="u";m6c+="to";Q2K.Studies.calculateTrendIntensity=function(X2K,E2K){var d0e=a2ww;var q6c,N2K,n2K,o2K,c2K,M2K,B2K,w2K,C2K;q6c="_SM";q6c+="A";N2K=E2K.chart.scrubbed;if(N2K.length < E2K.days + 1){E2K.error=!0;return;}n2K=E2K.inputs.Field;if(!n2K || n2K == "field"){n2K="Close";}Q2K.Studies.MA("ma",E2K.days,n2K,+"0",q6c,X2K,E2K);o2K=0;c2K=0;w2K=[];C2K=Math.ceil(E2K.days / 2);for(M2K=Math.max(0,E2K.startFrom - C2K);M2K < N2K.length;M2K++){if(!N2K[M2K]["_SMA " + E2K.name] && N2K[M2K]["_SMA " + E2K.name] !== 0)continue;B2K=N2K[M2K][n2K] - N2K[M2K]["_SMA " + E2K.name];if(B2K < 0){d0e.z5m(159);c2K+=d0e.x5m(1210896160,"1",B2K);}else {o2K+=B2K;}w2K.push(B2K);if(w2K.length > C2K){B2K=w2K.shift();if(B2K < 0){d0e.z5m(160);c2K-=d0e.W5m(B2K,"1");}else {o2K-=B2K;}}if(M2K < E2K.startFrom)continue;N2K[M2K]["TII " + E2K.name]=u2K(o2K,c2K);}d0e.q9e();Q2K.Studies.MA("ema",E2K.inputs["Signal Period"],"TII " + E2K.name,0,"Signal",X2K,E2K);function u2K(V2K,l2K){if(Math.abs(l2K) < 0.00000001){return 100;}d0e.b9e();d0e.z5m(161);return d0e.x5m("1",1405822016,V2K,100,l2K,"100");}};Q2K.Studies.studyLibrary=Q2K.extend(Q2K.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:Q2K.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":"9" >> 1242100640},outputs:{TII:m6c,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:"80" | 0,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};s4Q=P2K=>{var L2K;L2K=typeof _CIQ !== "undefined"?_CIQ:P2K.CIQ;if(!L2K.Studies){console.error("trix feature requires first activating studies feature.");}else {L2K.Studies.calculateTRIX=function(f2K,i2K){var t0e=a2ww;var A6c,O2K,y2K,r2K,g2K,T2K,S2K;t0e.q9e();A6c="_";A6c+="M";A6c+="A2";A6c+=" ";O2K=i2K.chart.scrubbed;if(O2K.length < i2K.days + "1" * 1){i2K.error=! !{};return;}y2K=i2K.name;t0e.z5m(2);r2K=["Close",t0e.W5m("_MA1 ",y2K),t0e.W5m(A6c,y2K),t0e.W5m("_MA3 ",y2K)];for(var k2K=0;k2K < r2K.length - 1;k2K++){L2K.Studies.MA("exponential",i2K.days,r2K[k2K],0,"_MA" + (k2K + 1).toString(),f2K,i2K);}g2K=r2K[3];for(var m2K=Math.max(+"1",i2K.startFrom);m2K < O2K.length;m2K++){t0e.z5m(6);T2K=O2K[t0e.x5m(m2K,1)][g2K];if(!T2K)continue;S2K=O2K[m2K][g2K];if(S2K || S2K === ("0" ^ 0)){t0e.z5m(2);O2K[m2K][t0e.W5m("Result ",y2K)]=t0e.W5m(1,100,S2K,T2K,t0e.z5m(139));}}};L2K.Studies.studyLibrary=L2K.extend(L2K.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:L2K.Studies.calculateTRIX}});}};b4Q=s2K=>{var o2e=a2ww;var U79,V79,u79,Y2K,S6c,q89,m89,A89;U79=-449388102;o2e.z5m(7);V79=-o2e.W5m(1087871168,"1744024252");u79=2;for(var W79=1;o2e.P89(W79.toString(),W79.toString().length,66926) !== U79;W79++){Y2K=!_CIQ != ""?_CIQ:s2K.CIQ;u79+=+"2";}if(o2e.P89(u79.toString(),u79.toString().length,73852) !== V79){Y2K=typeof _CIQ !== "undefined"?_CIQ:s2K.CIQ;}o2e.b9e();if(!Y2K.Studies){S6c="twiggsMoneyFlow featu";S6c+="re req";S6c+="uires first activa";S6c+="ting studies feature.";console.error(S6c);}else {Y2K.Studies.calculateTwiggsMoneyFlow=function(h2K,b2K){var g49,h49,I49,v2K,D2K,F2K,W2K,T6c,j6c,i6c,e6c,G2K,z2K;g49=1611241185;h49=-1140735557;I49=2;for(var C49=1;o2e.P89(C49.toString(),C49.toString().length,89547) !== g49;C49++){v2K=b2K.chart.scrubbed;o2e.U5m(46);I49+=o2e.x5m("2",2078095584);}if(o2e.P89(I49.toString(),I49.toString().length,80402) !== h49){v2K=b2K.chart.scrubbed;}if(v2K.length < b2K.days){b2K.error=! !1;return;}D2K=0;F2K=0;o2e.U5m(58);var w4t=o2e.x5m(17,18,135,10);W2K=v2K[b2K.startFrom - w4t];if(W2K){T6c="_s";T6c+="umV ";j6c="_su";j6c+="mMF ";i6c="_s";i6c+="um";i6c+="M";i6c+="F ";if(W2K[i6c + b2K.name]){D2K=W2K[j6c + b2K.name];}if(W2K["_sumV " + b2K.name]){F2K=W2K[T6c + b2K.name];}}for(var t2K=Math.max("1" << 1600805728,b2K.startFrom);t2K < v2K.length;t2K++){e6c="_";e6c+="MF";e6c+="V";e6c+=" ";G2K=Math.max(v2K[t2K - 1].Close,v2K[t2K].High);z2K=Math.min(v2K[t2K - ("1" - 0)].Close,v2K[t2K].Low);o2e.U5m(132);var k4t=o2e.x5m(8,1119709692,11,15,7837968048);v2K[t2K]["_MFV " + b2K.name]=v2K[t2K].Volume * (("2" | 0) * v2K[t2K].Close - G2K - z2K) / (G2K - z2K === "0" >> k4t?+"999999":G2K - z2K);if(t2K > b2K.days - 1){D2K*=(b2K.days - +"1") / b2K.days;o2e.z5m(6);var c4t=o2e.W5m(8,7);F2K*=(b2K.days - c4t) / b2K.days;}D2K+=v2K[t2K][e6c + b2K.name];F2K+=v2K[t2K].Volume;if(t2K > b2K.days - 1){if(F2K){o2e.z5m(16);v2K[t2K]["Result " + b2K.name]=o2e.x5m(F2K > 0?F2K:+"999999",D2K);}}v2K[t2K]["_sumMF " + b2K.name]=D2K;v2K[t2K]["_sumV " + b2K.name]=F2K;}};q89=1978925238;m89=105049959;A89=2;for(var i89=1;o2e.P89(i89.toString(),i89.toString().length,+"39212") !== q89;i89++){Y2K.Studies.studyLibrary=Y2K.extend(Y2K.Studies.studyLibrary,{Twiggs:{name:"",calculateFN:Y2K.Studies.calculateTwiggsMoneyFlow,inputs:{Period:94}}});A89+=2;}if(o2e.y89(A89.toString(),A89.toString().length,78275) !== m89){Y2K.Studies.studyLibrary=Y2K.extend(Y2K.Studies.studyLibrary,{Twiggs:{name:"",calculateFN:Y2K.Studies.calculateTwiggsMoneyFlow,inputs:{Period:+"94"}}});}Y2K.Studies.studyLibrary=Y2K.extend(Y2K.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:Y2K.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};t4Q=Z2K=>{var A2K,G6c,Y6c;A2K=typeof _CIQ !== "undefined"?_CIQ:Z2K.CIQ;a2ww.b9e();if(!A2K.Studies){G6c="typicalPrice feature requires first activating st";G6c+="udies feature.";console.error(G6c);}else if(!A2K.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {Y6c="Weighted Cl";Y6c+="ose";A2K.Studies.studyLibrary=A2K.extend(A2K.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:A2K.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:Y6c,calculateFN:A2K.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};v4Q=U2K=>{var x2K,X6c;x2K=typeof _CIQ !== "undefined"?_CIQ:U2K.CIQ;if(!x2K.Studies){X6c="ulcerIndex feature requires fir";X6c+="st activating studies f";X6c+="eatur";X6c+="e.";console.error(X6c);}else {x2K.Studies.calculateUlcerIndex=function(q6K,J2K){var w6c,M6c,I6K,K6K,d2K,c6c,k6c,j6K;w6c="_";w6c+="P";w6c+="D2 ";M6c="fi";M6c+="e";M6c+="l";M6c+="d";I6K=J2K.chart.scrubbed;if(I6K.length < 2 * J2K.days - 1){J2K.error=!"";return;}K6K=J2K.inputs.Field;if(!K6K || K6K == M6c){K6K="Close";}for(d2K=Math.max(J2K.startFrom,J2K.days - 1);d2K < I6K.length;d2K++){I6K[d2K]["_PD2 " + J2K.name]=Math.pow(100 * (I6K[d2K][K6K] / a6K(J2K.days,d2K,K6K) - 1),2);}x2K.Studies.MA("simple",J2K.days,w6c + J2K.name,0,"_MA",q6K,J2K);function a6K(p6K,e6K,Q6K){var H6K;H6K=null;a2ww.b9e();for(var R6K=e6K - p6K + ("1" >> 913161056);R6K <= e6K;R6K++){if(R6K < "0" * 1)continue;H6K=H6K === null?I6K[R6K][Q6K]:Math.max(H6K,I6K[R6K][Q6K]);}return H6K;}for(d2K=Math.max(J2K.startFrom,+"2" * (J2K.days - ("1" << 116565504)));d2K < I6K.length;d2K++){c6c="R";c6c+="esul";c6c+="t";c6c+=" ";k6c="_";k6c+="M";k6c+="A ";j6K=I6K[d2K][k6c + J2K.name];if(j6K || j6K === 0){I6K[d2K][c6c + J2K.name]=Math.sqrt(j6K);}}};x2K.Studies.studyLibrary=x2K.extend(x2K.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:x2K.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};F4Q=M6K=>{var E6K,H6c;a2ww.b9e();E6K=typeof _CIQ !== "undefined"?_CIQ:M6K.CIQ;if(!E6K.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {H6c="Ult";H6c+="imate Oscillat";H6c+="or";E6K.Studies.calculateUltimateOscillator=function(S6K,N6K){var u0e=a2ww;var F6c,B6K,o6K,X6K,u6K,l6K,V6K,w6K,C6K,N6c,L6K,i6K,O6K,P6K,m6K,y6K,k6K,r6K;F6c="Cyc";F6c+="l";F6c+="e ";F6c+="3";B6K=N6K.chart.scrubbed;o6K=[N6K.inputs["Cycle 1"],N6K.inputs["Cycle 2"],N6K.inputs[F6c]];X6K=Math.max(o6K[0],o6K[+"1"],o6K[2]);if(B6K.length < X6K + 1){N6K.error=! !"1";return;}u0e.q9e();u6K=o6K[0] * o6K["1" | 0];l6K=o6K[+"0"] * o6K["2" - 0];u0e.U5m(30);var F4t=u0e.W5m(10,3,6,1);u0e.U5m(2);var N4t=u0e.x5m(0,2);V6K=o6K[F4t] * o6K["2" | N4t];w6K=[0,0,+"0"];C6K=[0,0,0];if(N6K.startFrom){N6c="_acc";N6c+="tr";N6c+=" ";if(B6K[N6K.startFrom - 1]["_accbp " + N6K.name]){w6K=B6K[N6K.startFrom - 1]["_accbp " + N6K.name].slice();}if(B6K[N6K.startFrom - 1]["_acctr " + N6K.name]){C6K=B6K[N6K.startFrom - 1][N6c + N6K.name].slice();}}for(var n6K=Math.max(1,N6K.startFrom);n6K < B6K.length;n6K++){L6K=Math.min(B6K[n6K].Low,B6K[n6K - 1].Close);i6K=B6K[n6K].Close - L6K;O6K=Math.max(B6K[n6K].High,B6K[n6K - +"1"].Close) - L6K;for(var c6K=0;c6K < o6K.length;c6K++){w6K[c6K]+=i6K;C6K[c6K]+=O6K;if(n6K > o6K[c6K]){P6K=Math.min(B6K[n6K - o6K[c6K]].Low,B6K[n6K - o6K[c6K] - 1].Close);m6K=B6K[n6K - o6K[c6K]].Close - P6K;y6K=Math.max(B6K[n6K - o6K[c6K]].High,B6K[n6K - o6K[c6K] - ("1" | 0)].Close) - P6K;w6K[c6K]-=m6K;C6K[c6K]-=y6K;}}B6K[n6K]["_accbp " + N6K.name]=w6K.slice();B6K[n6K]["_acctr " + N6K.name]=C6K.slice();if(n6K < X6K)continue;u0e.U5m(83);var H4t=u0e.W5m(18,21,11,20,659);u0e.z5m(6);var p4t=u0e.W5m(32,30);k6K=V6K * w6K[0] / C6K[0] + l6K * w6K[+"1"] / C6K[H4t] + u6K * w6K[p4t] / C6K[+"2"];u0e.z5m(43);r6K=u0e.x5m(u6K,l6K,V6K);u0e.z5m(94);B6K[n6K]["Result " + N6K.name]=u0e.x5m(k6K,r6K,100);}};E6K.Studies.studyLibrary=E6K.extend(E6K.Studies.studyLibrary,{Ultimate:{name:H6c,calculateFN:E6K.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":"14" ^ 0,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};D4Q=T6K=>{var g6K,s3c;g6K=typeof _CIQ !== "undefined"?_CIQ:T6K.CIQ;if(!g6K.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {s3c="#";s3c+="e";s3c+="1e1e1";g6K.Studies.calculateValuationLines=function(F6K,f6K,W6K){var A0e=a2ww;var x6c,d6c,a6c,p6c,Z6K,J6K,x6K,G6K,z6K,h6K,A6K,Y6K,s6K,b6K,v6K,D6K,U6K;x6c="Displ";x6c+="ay ";x6c+="3 Standard Deviation (";x6c+="3\u03C3)";d6c="Display 2 ";d6c+="Standa";d6c+="rd Deviati";d6c+="on (2\u03C3)";a6c="Display 1 St";a6c+="andard Deviation (1\u03C3";a6c+=")";p6c="Average Ty";p6c+="pe";Z6K=f6K.inputs.Field == "field"?"Close":f6K.inputs.Field;J6K=f6K.inputs[p6c];x6K=f6K.inputs["Display Average"];G6K=f6K.inputs[a6c];z6K=f6K.inputs[d6c];h6K=f6K.inputs[x6c];A6K=[];for(var t6K=0;t6K < W6K.length;++t6K){if(W6K[t6K] && !isNaN(W6K[t6K][Z6K])){A6K.push(W6K[t6K][Z6K]);}}Y6K=(function(q4K,H4K){var v6c,d6K,K4K,j4K,I4K,a4K,R4K;v6c="me";v6c+="dian";d6K=q4K.length;K4K=0;j4K=0;I4K=+"0";switch(H4K){case "mean":j4K=d6K;for(;I4K < d6K;++I4K){K4K+=q4K[I4K];}break;case "harmonic":K4K=d6K;for(;I4K < d6K;++I4K){j4K+=1 / q4K[I4K];}break;case v6c:A0e.z5m(16);a4K=Math.floor(A0e.x5m(2,d6K));R4K=q4K.slice().sort(function(e4K,Q4K){var K89,Q89,U89;if(e4K > Q4K){return +"1";}if(e4K < Q4K){return -1;}K89=-993403363;Q89=-279355871;U89=2;for(var u89=1;A0e.P89(u89.toString(),u89.toString().length,"26018" >> 885940032) !== K89;u89++){return 1;}if(A0e.y89(U89.toString(),U89.toString().length,26827) !== Q89){return 0;}});if(d6K % 2 === 0){A0e.U5m(162);var a4t=A0e.W5m(10,3,0,12,14);K4K=R4K[a4K] + R4K[a4K - a4t];j4K=2;}else {K4K=R4K[a4K];A0e.z5m(7);j4K=A0e.W5m(1360028864,"1");}break;}A0e.z5m(16);return A0e.x5m(j4K,K4K);})(A6K,J6K);s6K=!(G6K || z6K || h6K) || (function(B4K,N4K){var E4K,M4K;E4K=B4K.length;M4K=0;for(var p4K=0;p4K < E4K;++p4K){M4K+=Math.pow(B4K[p4K] - N4K,2);}A0e.U5m(16);A0e.b9e();return Math.sqrt(A0e.x5m(E4K,M4K));})(A6K,Y6K);f6K.data={Average:x6K?[Y6K]:null,"1 Standard Deviation (1\u03C3)":G6K?[Y6K + s6K,Y6K - s6K]:null,"2 Standard Deviation (2\u03C3)":z6K?[Y6K + s6K * 2,Y6K - s6K * 2]:null,"3 Standard Deviation (3\u03C3)":h6K?[Y6K + s6K * +"3",Y6K - s6K * 3]:null};b6K=s6K;if(!f6K.parameters){f6K.parameters={};}if(h6K){A0e.z5m(163);f6K.parameters.range=[A0e.W5m(b6K,Y6K,3,s6K),A0e.x5m(Y6K,b6K,3,s6K,A0e.z5m(164))];}else if(z6K){A0e.z5m(163);f6K.parameters.range=[A0e.x5m(b6K,Y6K,2,s6K),A0e.x5m(Y6K,b6K,2,s6K,A0e.z5m(164))];}else if(G6K){A0e.U5m(101);f6K.parameters.range=[A0e.x5m(b6K,Y6K,s6K),A0e.x5m(b6K,s6K,Y6K,A0e.U5m(43))];}else if(x6K){A0e.z5m(6);f6K.parameters.range=[A0e.W5m(Y6K,b6K),A0e.x5m(Y6K,b6K,A0e.z5m(2))];}if(f6K.panel){v6K=F6K.panels[f6K.panel];D6K=F6K.getYAxisByName(v6K,f6K.name);if(D6K){D6K.decimalPlaces=v6K.chart.yAxis.printDecimalPlaces;U6K={yAxis:D6K};F6K.calculateYAxisRange(v6K,D6K,f6K.parameters.range[0],f6K.parameters.range[1]);F6K.createYAxis(v6K,U6K);F6K.drawYAxis(v6K,U6K);}}};g6K.Studies.displayValuationLines=function(o4K,w4K){var P0e=a2ww;var L6c,J6c,Z6c,n4K,C4K,u4K,L4K,f4K,Y4K,s4K,l4K,V4K,P4K,m4K,y4K,k4K,r4K,i4K,O4K,c4K,S4K,b4K,g4K,t3c,R3c,T4K;L6c="stx_y";L6c+="axi";L6c+="s";J6c="ciq";J6c+="-valuation-deviatio";J6c+="n-line";Z6c="Ave";Z6c+="rage Type";n4K=o4K.panels[w4K.panel];C4K=w4K.getYAxis(o4K);u4K=w4K.getContext(o4K);L4K=w4K.data;f4K=w4K.parameters.labels;P0e.q9e();Y4K=w4K.inputs[Z6c];s4K={mean:"AVG",median:"MED",harmonic:"HAVG"};l4K=o4K.canvasStyle("ciq-valuation-average-line");V4K=o4K.canvasStyle(J6c);P4K=3;P0e.U5m(101);var d4t=P0e.x5m(1,11,8);m4K=o4K.getCanvasFontSize(L6c) + P4K * d4t;for(var X4K in L4K){if(!L4K[X4K])continue;P0e.z5m(165);y4K=P0e.W5m("Average",X4K);k4K=g6K.Studies.determineColor(w4K.outputs[X4K]);r4K=L4K[X4K];for(i4K="0" - 0;i4K < r4K.length;++i4K){t3c="\u03C3:";t3c+=" ";R3c="dash";R3c+="ed";O4K=r4K[i4K];c4K=o4K.pixelFromPrice(O4K,n4K,C4K);if(c4K <= n4K.top || c4K >= n4K.yAxis.bottom)continue;g4K=y4K?{pattern:l4K.borderStyle != "none"?l4K.borderStyle || "solid":"solid",lineWidth:parseFloat(l4K.borderWidth) || 1,opacity:parseFloat(l4K.opacity) || 1,yAxis:C4K}:{pattern:V4K.borderStyle != "none"?V4K.borderStyle || "dashed":R3c,lineWidth:parseFloat(V4K.borderWidth) || "1" * 1,opacity:parseFloat(V4K.opacity) || 1,yAxis:C4K};o4K.plotLine(n4K.left,n4K.right,c4K,c4K,k4K,"line",u4K,n4K,g4K);if(f4K === "yaxis"){o4K.createYAxisLabel(n4K,o4K.formatYAxisPrice(O4K,n4K),c4K,k4K,null,u4K,C4K);continue;}c4K+=Math.floor(g4K.lineWidth / 2);if(c4K + m4K >= n4K.yAxis.bottom)continue;S4K=(y4K?s4K[Y4K] + ": ":X4K[0] + t3c) + o4K.formatYAxisPrice(O4K,n4K);b4K=u4K.measureText(S4K).width;T4K=n4K.right - b4K - P4K;if(C4K && C4K.position == "left"){T4K=n4K.left + P4K;}P0e.U5m(166);u4K.strokeText(S4K,T4K,P0e.W5m(0.5,m4K,"2",c4K,0));}}};g6K.Studies.studyLibrary=g6K.extend(g6K.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(t4K,v4K,F4K){g6K.Studies.calculateValuationLines(t4K,v4K,F4K);g6K.Studies.displayValuationLines(t4K,v4K);},overlay:! !"1",yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":! !"1","Display 1 Standard Deviation (1\u03C3)":! !"","Display 2 Standard Deviation (2\u03C3)":! !"","Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":s3c,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};W4Q=W4K=>{var D4K,b3c,D3c,B3c;D4K=typeof _CIQ !== "undefined"?_CIQ:W4K.CIQ;if(!D4K.Studies){b3c="vola";b3c+="ti";b3c+="lityIndex feature req";b3c+="uires first activating studies feature.";console.error(b3c);}else {D3c="fie";D3c+="ld";B3c="f";B3c+="iel";B3c+="d";D4K.Studies.calculateRelativeVolatility=function(H7K,G4K){var Z0e=a2ww;var C3c,h3c,g3c,f3c,d4K,x4K,z4K,A4K,Z4K,n3c,h4K,J4K,I3c;C3c="R";C3c+="el ";C3c+="Vol";h3c="m";h3c+="a";g3c="sd";g3c+="ev";f3c="Cl";f3c+="os";f3c+="e";G4K.days=Number(G4K.inputs["Smoothing Period"]);d4K=Number(G4K.inputs["STD Period"]);x4K=G4K.chart.scrubbed;if(x4K.length < G4K.days + d4K){G4K.error=! ![];return;}z4K=G4K.inputs.Field;if(!z4K || z4K == "field"){z4K=f3c;}G4K.std=new D4K.Studies.StudyDescriptor(G4K.name,g3c,G4K.panel);G4K.std.chart=G4K.chart;G4K.std.days=d4K;G4K.std.startFrom=G4K.startFrom;G4K.std.inputs={Field:z4K,"Standard Deviations":1,Type:h3c};G4K.std.outputs={_STD:null};D4K.Studies.calculateStandardDeviation(H7K,G4K.std);function p7K(n7K,o7K){Z0e.q9e();if(n7K + o7K === 0){return 100;}Z0e.z5m(130);return Z0e.W5m(n7K,n7K,100,o7K);}A4K=+"0";Z4K=0;if(G4K.startFrom > 1){A4K=x4K[G4K.startFrom - 1]["_avgG " + G4K.name] || 0;Z4K=x4K[G4K.startFrom - 1]["_avgL " + G4K.name] || 0;}for(var U4K=Math.max(G4K.startFrom,G4K.days);U4K < x4K.length;U4K++){n3c="_avgL";n3c+=" ";h4K=x4K[U4K];Z0e.U5m(6);J4K=x4K[Z0e.W5m(U4K,1)];if(!h4K[z4K] && h4K[z4K] !== 0)continue;if(!J4K[z4K] && J4K[z4K] !== +"0")continue;if(!h4K["_STD " + G4K.name] && h4K["_STD " + G4K.name] !== +"0")continue;if(h4K[z4K] > J4K[z4K]){I3c="_";I3c+="ST";I3c+="D";I3c+=" ";Z0e.z5m(8);var x4t=Z0e.x5m(13,0,14);A4K=(A4K * (G4K.days - x4t) + h4K[I3c + G4K.name]) / G4K.days;Z0e.U5m(4);var v4t=Z0e.x5m(0,9,10);Z4K=Z4K * (G4K.days - v4t) / G4K.days;}else {Z0e.U5m(9);var Z4t=Z0e.W5m(3,5,5,12);Z4K=(Z4K * (G4K.days - Z4t) + h4K["_STD " + G4K.name]) / G4K.days;Z0e.U5m(93);var J4t=Z0e.W5m(12,19,31,2);A4K=A4K * (G4K.days - J4t) / G4K.days;}h4K["Rel Vol " + G4K.name]=p7K(A4K,Z4K);h4K["_avgG " + G4K.name]=A4K;h4K[n3c + G4K.name]=Z4K;}G4K.zoneOutput=C3c;};D4K.Studies.calculateHistoricalVolatility=function(Y7K,C7K){var p0e=a2ww;var z3c,V7K,k7K,g7K,D7K,i7K,L7K,s7K,v7K,r3c,F7K;z3c="f";z3c+="i";z3c+="e";z3c+="ld";V7K=C7K.chart.scrubbed;if(V7K.length < C7K.days + 1){C7K.error=! ![];return;}k7K=C7K.inputs.Field;if(!k7K || k7K == z3c){k7K="Close";}g7K=C7K.inputs["Standard Deviations"];if(g7K < 0){g7K=1;}p0e.z5m(122);var L4t=p0e.x5m(1,5,9,86);D7K=L4t * Math.sqrt(W7K(C7K.inputs["Days Per Year"])) * g7K;i7K=[];L7K=+"0";if(C7K.startFrom > 1){p0e.z5m(55);var R7t=p0e.x5m(13,17,31);L7K=V7K[C7K.startFrom - R7t]["_state " + C7K.name][0];i7K=V7K[C7K.startFrom - 1]["_state " + C7K.name][1].slice();}for(var P7K=Math.max(1,C7K.startFrom);P7K < V7K.length;P7K++){p0e.U5m(6);s7K=V7K[p0e.x5m(P7K,1)][k7K];if(s7K){v7K=Math.log(V7K[P7K][k7K] / s7K);i7K.push(v7K);L7K+=v7K;if(P7K >= C7K.days){r3c="R";r3c+="e";r3c+="sult";r3c+=" ";F7K=0;L7K/=C7K.days;for(var f7K=0;f7K < i7K.length;f7K++){F7K+=Math.pow(i7K[f7K] - L7K,2);}L7K*=C7K.days;L7K-=i7K.shift();V7K[P7K][r3c + C7K.name]=Math.sqrt(F7K / C7K.days) * D7K;}}V7K[P7K]["_state " + C7K.name]=[L7K,i7K.slice()];}function W7K(G7K){if(isNaN(G7K)){G7K=365;}if(Y7K.layout.interval == "day"){return G7K;}else if(Y7K.layout.interval == "week"){return 52;}else if(Y7K.layout.interval == "month"){return 12;}return G7K;}};D4K.Studies.studyLibrary=D4K.extend(D4K.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:D4K.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:B3c,"Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:D4K.Studies.calculateRelativeVolatility,inputs:{Field:D3c,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};G4Q=h7K=>{var P3c,z7K;P3c="undef";P3c+="in";P3c+="e";P3c+="d";a2ww.q9e();z7K=typeof _CIQ !== P3c?_CIQ:h7K.CIQ;if(!z7K.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {z7K.Studies.displayVolumeProfile=function(J7K,j3K,r3K){var U3c,Q3c,K3c,y3c,o3K,V3K,U7K,P3K,K3K,g3K,M3K,B3K,R3K,N3K,H3K,T3K,f3K,Y3K,s3K,y3K,k3K,l3K,b3K;U3c="col";U3c+="or";Q3c="Width Percen";Q3c+="t";Q3c+="age";K3c="Displ";K3c+="ay V";K3c+="olume";y3c="Dis";y3c+="play Borde";y3c+="r";if(!J7K || !J7K.chart.dataSet){return;}o3K="stx_volume_profile";V3K="stx-float-date";function t3K(D3K){var G5e=a2ww;var z3K,U3K,j5K,v3K,h3K,q5K,W3K,a5K,R5K,G3K,F3K,H5K,I5K,K5K,x3K,e5K;J7K.canvasColor(o3K);U7K.beginPath();z3K=Q5K=>{G5e.q9e();return Math.round(Q5K);};U3K=p5K=>{G5e.q9e();return z3K(J7K.pixelFromTransformedValue(p5K));};j5K=z3K(e3K.width * a3K);v3K=z3K(e3K.right) - 2.5;h3K=v3K;var [J3K]=K3K[0];for(var A3K=1;A3K < K3K.length;A3K++){var [d3K,Z3K]=K3K[A3K];if(Z3K){G5e.U5m(94);q5K=G5e.W5m(j5K,M3K,Z3K);W3K=z3K(v3K - q5K) + (D3K?- +"0.5":0);G5e.z5m(23);var t7t=G5e.x5m(4,3);a5K=U3K(d3K) + (D3K?0.5:t7t);R5K=U3K(J3K) + (D3K?0.5:+"0");G3K=Math.max(a5K,q3K.top);F3K=Math.min(R5K,q3K.bottom);H5K=G3K <= q3K.bottom && F3K >= q3K.top;if(H5K){U7K.moveTo(v3K,F3K);U7K.lineTo(v3K,G3K);U7K.lineTo(W3K,G3K);U7K.lineTo(W3K,F3K);if(D3K){if(A3K == 1 || h3K > W3K){U7K.lineTo(h3K,F3K);}}else {U7K.lineTo(v3K,F3K);if(E3K){I5K=z7K.condenseInt(Z3K);G5e.z5m(6);K5K=G5e.W5m(F3K,G3K);if(k3K <= K5K - 2){x3K=void 0;try{({width:x3K}=U7K.measureText(I5K));}catch(E5K){x3K=0;}U7K.textBaseline="top";e5K=U7K.fillStyle;U7K.fillStyle=l3K;G5e.U5m(101);U7K.fillText(I5K,G5e.x5m(3,W3K,x3K),G5e.W5m("2",2,k3K,G3K,K5K,G5e.z5m(167)));U7K.fillStyle=e5K;}}}}h3K=W3K;}else {h3K=v3K;;}J3K=d3K;}if(!j3K.highlight && J7K.highlightedDraggable){U7K.globalAlpha*=0.3;}if(!D3K){U7K.fill();}U7K.strokeStyle=l3K;if(D3K){U7K.stroke();}U7K.closePath();}U7K=j3K.getContext(J7K);var {chart:e3K}=J7K;var {panel:S3K}=e3K;var {yAxis:q3K}=S3K;var {flipped:L3K}=q3K;var {highValue:c3K, lowValue:Q3K}=e3K;var {displayBorder:p3K = j3K.inputs[y3c], displayVolume:E3K = j3K.inputs[K3c], widthPercentage:a3K = j3K.inputs[Q3c], numberBars:I3K = j3K.inputs["Price Buckets"]}=j3K.parameters;if(p3K !== ![]){p3K=! !1;}if(E3K !== ! !{}){E3K=!"1";}if(!a3K || a3K < "0" - 0){a3K=0.25;}if(!I3K || I3K < 0){I3K=30;}I3K=Math.ceil(I3K);a2ww.U5m(26);P3K=a2ww.x5m(c3K,Q3K,I3K);if(P3K === 0){return;}K3K=[];if(L3K){[c3K,Q3K]=[Q3K,c3K];}g3K=L3K?-1:1;for(var i3K=Q3K,O3K=0;O3K <= I3K;(i3K+=P3K * g3K,O3K++)){K3K.push([i3K,0]);}M3K=0;for(var w3K=0;w3K < r3K.length;w3K++){B3K=r3K[w3K];if(B3K === null)continue;var {Volume:m3K}=B3K;if(!m3K)continue;var {High:C3K, Low:X3K}=B3K.transform || B3K;R3K=[];N3K=K3K[0][0];H3K=null;for(var n3K=1;n3K < K3K.length;n3K++){H3K=K3K[n3K][0];T3K=X3K >= N3K && X3K <= H3K;f3K=C3K >= N3K && C3K <= H3K;Y3K=X3K < N3K && C3K > H3K;if(T3K || f3K || Y3K){R3K.push(n3K);}N3K=H3K;}if(R3K.length){s3K=m3K / R3K.length;for(var u3K=0;u3K < R3K.length;u3K++){y3K=K3K[R3K[u3K]][1]+=s3K;if(y3K > M3K){M3K=y3K;}}}}if(M3K === 0){J7K.displayErrorAsWatermark("chart",J7K.translateIf("Not enough data to render the Volume Profile"));return;}J7K.setStyle(o3K,U3c,z7K.Studies.determineColor(j3K.outputs["Bars Color"]));k3K=J7K.getCanvasFontSize(V3K);l3K=J7K.canvasStyle(o3K).borderTopColor;b3K=p3K && !z7K.isTransparent(l3K);J7K.canvasFont(V3K,U7K);t3K();if(b3K){t3K(! !{});}U7K.globalAlpha=1;};z7K.Studies.studyLibrary=z7K.extend(z7K.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:z7K.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":! ![],"Display Volume":!{},"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:! !"1",attributes:{yaxisDisplayValue:{hidden:! !1},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !{}}}}});}};z4Q=B5K=>{a2ww.q9e();var M5K,A3c,m3c,q3c;M5K=typeof _CIQ !== "undefined"?_CIQ:B5K.CIQ;if(!M5K.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {A3c="0 to";A3c+=" max";m3c="#FF00";m3c+="00";q3c="Negat";q3c+="ive Volume Index";M5K.Studies.calculateOnBalanceVolume=function(L5K,o5K){var V3c,N5K,c5K,V5K,C5K,X5K,w5K,u5K,u3c,l5K;V3c="C";V3c+="l";V3c+="os";V3c+="e";N5K=o5K.inputs.Field;if(!N5K || N5K == "field"){N5K=V3c;}c5K=o5K.inputs["Min Tick Value"];V5K=!{};if(!c5K && c5K !== 0){V5K=! !{};c5K=+"0";}C5K=o5K.chart.scrubbed;X5K=0;for(var n5K=o5K.startFrom;n5K < C5K.length;n5K++){u3c="Resu";u3c+="lt ";w5K=C5K[n5K];if(!n5K || !w5K[N5K])continue;if(C5K[n5K - 1][N5K]){a2ww.U5m(6);u5K=C5K[a2ww.W5m(n5K,1)];}if(!u5K)continue;if(w5K[N5K] - u5K[N5K] > c5K){X5K=1;}else if(u5K[N5K] - w5K[N5K] > c5K){X5K=-1;}else if(V5K){X5K=+"0";}l5K=u5K[u3c + o5K.name];if(!l5K){l5K=0;}l5K+=w5K.Volume * X5K;w5K["Result " + o5K.name]=l5K;}};M5K.Studies.calculatePriceVolumeTrend=function(k5K,m5K){var l0e=a2ww;var E3c,O5K,P5K,y5K;E3c="C";E3c+="los";E3c+="e";O5K=m5K.inputs.Field;if(!O5K || O5K == "field"){O5K=E3c;}P5K=m5K.chart.scrubbed;y5K=0;if(m5K.startFrom > ("1" ^ 0)){l0e.z5m(6);var s7t=l0e.W5m(4,3);y5K=P5K[m5K.startFrom - s7t]["Result " + m5K.name];}for(var i5K=Math.max(1,m5K.startFrom);i5K < P5K.length;i5K++){if(!P5K[i5K][O5K])continue;if(!P5K[i5K - 1][O5K])continue;l0e.U5m(98);var b7t=l0e.W5m(19,0,36,18);l0e.z5m(6);var f7t=l0e.x5m(7,6);y5K+=P5K[i5K].Volume * (P5K[i5K][O5K] - P5K[i5K - b7t][O5K]) / P5K[i5K - f7t][O5K];P5K[i5K]["Result " + m5K.name]=y5K;}};M5K.Studies.calculateVolumeIndex=function(v5K,r5K){var m0e=a2ww;var O3c,l3c,W3c,Y5K,S5K,s5K,o3c,T5K,b5K,f5K,t5K;O3c="Inde";O3c+="x ";l3c="Cl";l3c+="ose";W3c="f";W3c+="i";W3c+="eld";Y5K=r5K.inputs.Field;if(!Y5K || Y5K == W3c){Y5K=l3c;}S5K=r5K.chart.scrubbed;if(S5K.length < r5K.days + 1){r5K.error=! ![];return;}s5K=100;if(r5K.startFrom > 1){m0e.U5m(168);var g7t=m0e.x5m(12,152,5,9);s5K=S5K[r5K.startFrom - g7t][O3c + r5K.name];}for(var g5K=Math.max(1,r5K.startFrom);g5K < S5K.length;g5K++){o3c="Neg";o3c+=" ";o3c+="Vol";T5K=S5K[g5K][Y5K];b5K=S5K[g5K].Volume;if(T5K && typeof T5K == "object"){b5K=T5K.Volume;T5K=T5K[r5K.subField];}m0e.U5m(6);f5K=S5K[m0e.x5m(g5K,1)][Y5K];t5K=S5K[g5K - 1].Volume;if(f5K && typeof f5K == "object"){t5K=f5K.Volume;f5K=f5K[r5K.subField];}if(!T5K)continue;if(!f5K)continue;if(r5K.type == "Pos Vol" && b5K > t5K || r5K.type == o3c && b5K < t5K){m0e.U5m(16);s5K*=m0e.x5m(f5K,T5K);}S5K[g5K]["Index " + r5K.name]=s5K;}M5K.Studies.MA(r5K.inputs["Moving Average Type"],r5K.days,"Index " + r5K.name,0,"MA",v5K,r5K);};M5K.Studies.studyLibrary=M5K.extend(M5K.Studies.studyLibrary,{"Neg Vol":{name:q3c,calculateFN:M5K.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:m3c}},"On Bal Vol":{name:"On Balance Volume",calculateFN:M5K.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:M5K.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:M5K.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:M5K.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(F5K,D5K){if(M5K.Studies.calculateRateOfChange){M5K.Studies.calculateRateOfChange(F5K,D5K);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");M5K.Studies.calculateRateOfChange=function(W5K,G5K){};}},parameters:{init:{isVolume:!0}}},"vol undr":{name:"Volume Underlay",underlay:! ![],range:A3c,yAxis:{ground:! ![],initialMarginTop:0,position:"none",heightFactor:0.25},seriesFN:M5K.Studies.createVolumeChart,calculateFN:M5K.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(z5K,h5K){var S3c;a2ww.q9e();S3c="la";S3c+="you";S3c+="t";z5K.layout.volumeUnderlay=![];z5K.changeOccurred(S3c);},attributes:{panelName:{hidden:! !{}}}}});}};h4Q=Z5K=>{var A5K;A5K=typeof _CIQ !== "undefined"?_CIQ:Z5K.CIQ;if(!A5K.Studies){console.error("vortex feature requires first activating studies feature.");}else {A5K.Studies.calculateVortex=function(H9K,x5K){var w0e=a2ww;var I9K,K9K,U5K,T3c,i3c,J5K,j9K,q9K,a9K,R9K,j3c;I9K=x5K.chart.scrubbed;K9K=x5K.days;if(I9K.length < K9K + 1){x5K.error=!0;return;}w0e.b9e();U5K={tr:0,vmPlus:0,vmMinus:0};if(x5K.startFrom > 1){U5K=A5K.clone(I9K[x5K.startFrom - 1]["_totals " + x5K.name]);}for(var d5K=Math.max(x5K.startFrom,1);d5K < I9K.length;d5K++){T3c="_tot";T3c+="al";T3c+="s ";i3c="_VM";i3c+="M";i3c+="inus ";J5K=I9K[d5K];w0e.U5m(6);j9K=I9K[w0e.x5m(d5K,1)];q9K=Math.abs(J5K.High - j9K.Low);a9K=Math.abs(J5K.Low - j9K.High);R9K=Math.max(J5K.High,j9K.Close) - Math.min(J5K.Low,j9K.Close);U5K.tr+=R9K;U5K.vmPlus+=q9K;U5K.vmMinus+=a9K;if(d5K > K9K){w0e.U5m(6);U5K.tr-=I9K[w0e.x5m(d5K,K9K)]["_True Range " + x5K.name];w0e.U5m(6);U5K.vmPlus-=I9K[w0e.W5m(d5K,K9K)]["_VMPlus " + x5K.name];w0e.U5m(6);U5K.vmMinus-=I9K[w0e.W5m(d5K,K9K)]["_VMMinus " + x5K.name];}J5K["_True Range " + x5K.name]=R9K;J5K["_VMPlus " + x5K.name]=q9K;J5K[i3c + x5K.name]=a9K;if(d5K >= K9K){j3c="+";j3c+="VI ";J5K[j3c + x5K.name]=U5K.vmPlus / U5K.tr;J5K["-VI " + x5K.name]=U5K.vmMinus / U5K.tr;}J5K[T3c + x5K.name]=A5K.clone(U5K);}};A5K.Studies.studyLibrary=A5K.extend(A5K.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:A5K.Studies.calculateVortex,centerline:"1" * 1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:"0.9" * 1,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};A4Q=Q9K=>{var O9e=a2ww;var e9K,b79,f79,g79,e3c,c3c;e9K=typeof _CIQ !== "undefined"?_CIQ:Q9K.CIQ;O9e.b9e();if(!e9K.Studies){b79=-706937532;f79=1077910780;O9e.U5m(7);g79=O9e.x5m(802545024,"2");for(var I79=1;O9e.y89(I79.toString(),I79.toString().length,74852) !== b79;I79++){console.error("");O9e.U5m(22);g79+=O9e.W5m("2",0);}if(O9e.y89(g79.toString(),g79.toString().length,87350) !== f79){e3c="williamsMFI ";e3c+="f";e3c+="eature requires first activating studies";e3c+=" feature.";console.error(e3c);}}else {c3c="#f";c3c+="fd";c3c+="0";c3c+="cf";e9K.Studies.calculateMFI=function(c9K,p9K){var Y3c,G3c,E9K,n9K,B9K,N9K,o9K,M9K,M3c,X3c;Y3c="Scale ";Y3c+="F";Y3c+="actor";G3c="Scal";G3c+="e Factor";E9K=p9K.chart.scrubbed;B9K=0;N9K=p9K.inputs[G3c];if(!N9K){N9K=p9K.study.inputs[Y3c];}o9K=Math.pow(10,Number(N9K));if(p9K.startFrom > 1){O9e.z5m(169);var h7t=O9e.W5m(6,2,2,9,5);B9K=E9K[p9K.startFrom - h7t]["_high " + p9K.name];}for(M9K=p9K.startFrom;M9K < E9K.length;M9K++){if(!E9K[M9K])continue;if(E9K[M9K].Volume){M3c="_";M3c+="high";M3c+=" ";X3c="_";X3c+="his";X3c+="t";E9K[M9K][p9K.name + X3c]=n9K=o9K * (E9K[M9K].High - E9K[M9K].Low) / E9K[M9K].Volume;E9K[M9K][M3c + p9K.name]=B9K=Math.max(B9K,n9K);}}p9K.outputMap={};p9K.outputMap[p9K.name + "_hist"]="";};e9K.Studies.displayMFI=function(C9K,w9K,i9K){var w3c,O9K,l9K,P9K,m9K,L9K,y9K,k9K,r9K,S9K,k3c,X9K,u9K;w3c="stx_h";w3c+="istogram";O9K=C9K.panels[w9K.panel];l9K=w9K.getContext(C9K);P9K=w9K.getYAxis(C9K);m9K=P9K.flipped?P9K.top:P9K.bottom;O9e.z5m(55);var I7t=O9e.x5m(16,3,21);L9K=C9K.layout.candleWidth - I7t;if(L9K < +"2"){L9K=+"1";}y9K=e9K.Studies.determineColor(w9K.outputs.Green);k9K=e9K.Studies.determineColor(w9K.outputs.Fade);r9K=e9K.Studies.determineColor(w9K.outputs.Fake);S9K=e9K.Studies.determineColor(w9K.outputs.Squat);C9K.canvasColor(w3c);O9e.q9e();if(!w9K.underlay){l9K.globalAlpha=1;}l9K.fillStyle="#CCCCCC";C9K.startClip(w9K.panel);if(!w9K.highlight && C9K.highlightedDraggable){l9K.globalAlpha*=0.3;}for(var V9K=0;V9K < i9K.length;V9K++){k3c="_hi";k3c+="st";X9K=i9K[V9K];O9e.z5m(6);u9K=i9K[O9e.W5m(V9K,1)];if(!u9K){u9K=C9K.getPreviousBar(C9K.chart,w9K.name + "_hist",V9K);}if(!X9K)continue;if(!u9K);else if(u9K[w9K.name + "_hist"] < X9K[w9K.name + "_hist"]){if(u9K.Volume < X9K.Volume){l9K.fillStyle=y9K;}else if(u9K.Volume > X9K.Volume){l9K.fillStyle=r9K;}}else if(u9K[w9K.name + "_hist"] > X9K[w9K.name + "_hist"]){if(u9K.Volume < X9K.Volume){l9K.fillStyle=S9K;}else if(u9K.Volume > X9K.Volume){l9K.fillStyle=k9K;}}if(X9K.candleWidth){L9K=Math.floor(Math.max(1,X9K.candleWidth - 2));}l9K.fillRect(Math.floor(C9K.pixelFromBar(V9K,O9K.chart) - L9K / +"2"),Math.floor(m9K),Math.floor(L9K),Math.floor(C9K.pixelFromPrice(X9K[w9K.name + k3c],O9K,P9K) - m9K));}C9K.endClip();};e9K.Studies.studyLibrary=e9K.extend(e9K.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:e9K.Studies.displayMFI,calculateFN:e9K.Studies.calculateMFI,yAxis:{ground:! !"1"},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:c3c}}});}};d4Q={CIQ:r6Q,SplinePlotter:Z4Q,timezoneJS:x4Q,$$:U4Q,$$$:J4Q};export {S6Q as aggregations};export {g6Q as drawingAdvanced};export {T6Q as equationsAdvanced};export {f6Q as highPerformanceMarkers};export {Y6Q as renderersAdvanced};export {s6Q as accumulationDistribution};export {b6Q as adx};export {t6Q as alligator};export {v6Q as aroon};export {F6Q as atr};export {D6Q as awesomeOscillator};export {W6Q as balanceOfPower};export {G6Q as bollinger};export {z6Q as cci};export {h6Q as centerOfGravity};export {A6Q as chaikin};export {Z6Q as chande};a2ww.q9e();export {x6Q as choppiness};export {U6Q as comparisonStudies};export {J6Q as coppock};export {d6Q as darvasBox};export {I4Q as detrended};export {K4Q as disparity};export {j4Q as easeOfMovement};export {q4Q as ehlerFisher};export {a4Q as elder};export {R4Q as fractalChaos};export {H4Q as highLowStudies};export {e4Q as ichimoku};export {Q4Q as intradayMomentum};export {p4Q as keltner};export {E4Q as klinger};export {M4Q as linearRegression};export {B4Q as macd};export {N4Q as massIndex};export {n4Q as moneyFlow};export {o4Q as movingAverages};export {c4Q as parabolicSAR};export {w4Q as pivotPoints};export {C4Q as prettyGoodOscillator};export {X4Q as priceMomentumOscillator};export {u4Q as priceVolumeOscillator};export {l4Q as primeNumber};export {V4Q as pring};export {L4Q as projectedVolume};export {P4Q as psychologicalLine};export {i4Q as qstick};export {O4Q as rainbow};export {m4Q as randomWalk};export {y4Q as relativeVigor};export {k4Q as rsi};export {r4Q as schaffTrendCycle};export {S4Q as shinohara};export {g4Q as stochastics};export {T4Q as supertrend};export {f4Q as swingIndex};export {Y4Q as trendIntensity};export {s4Q as trix};export {b4Q as twiggsMoneyFlow};export {t4Q as typicalPrice};export {v4Q as ulcerIndex};export {F4Q as ultimateOscillator};export {D4Q as valuationLines};export {W4Q as volatilityIndex};export {G4Q as volumeProfile};export {z4Q as volumeStudies};export {h4Q as vortex};export {A4Q as williamsMFI};export {r6Q as CIQ, Z4Q as SplinePlotter, x4Q as timezoneJS, U4Q as $$, J4Q as $$$};if(typeof __TREE_SHAKE__ === D2qq || !__TREE_SHAKE__){(d4Q.CIQ || r6Q).activateImports(S6Q,g6Q,T6Q,f6Q,Y6Q,s6Q,b6Q,t6Q,v6Q,F6Q,D6Q,W6Q,G6Q,z6Q,h6Q,A6Q,Z6Q,x6Q,U6Q,J6Q,d6Q,I4Q,K4Q,j4Q,q4Q,a4Q,R4Q,H4Q,e4Q,Q4Q,p4Q,E4Q,M4Q,B4Q,N4Q,n4Q,o4Q,c4Q,w4Q,C4Q,X4Q,u4Q,l4Q,V4Q,L4Q,P4Q,i4Q,O4Q,m4Q,y4Q,k4Q,r4Q,S4Q,g4Q,T4Q,f4Q,Y4Q,s4Q,b4Q,t4Q,v4Q,F4Q,D4Q,W4Q,G4Q,z4Q,h4Q,A4Q,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

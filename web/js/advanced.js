/**
 *	8.1.0
 *	Generation date: 2020-11-19T23:23:22.994Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis
 *	License type: trial
 *	Expiration date: "2020/12/19"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
o2ss[193858]=(function(){var E=2;for(;E !== 9;){switch(E){case 5:var r;try{var t=2;for(;t !== 6;){switch(t){case 3:throw "";t=9;break;case 9:delete r['\x5f\u0041\u004d\x38\u0072'];var u=Object['\x70\x72\u006f\x74\u006f\u0074\x79\u0070\x65'];delete u['\u006f\x41\u0038\x58\x41'];t=6;break;case 5:r['\u005f\x41\x4d\x38\x72']=r;t=4;break;case 2:Object['\x64\x65\u0066\x69\u006e\u0065\x50\x72\x6f\u0070\x65\u0072\x74\x79'](Object['\x70\x72\u006f\x74\u006f\x74\x79\x70\u0065'],'\x6f\u0041\u0038\x58\u0041',{'\x67\x65\x74':function(){var W=2;for(;W !== 1;){switch(W){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});r=oA8XA;t=5;break;case 4:t=typeof _AM8r === '\u0075\u006e\u0064\u0065\u0066\x69\x6e\x65\u0064'?3:9;break;}}}catch(K){r=window;}return r;break;case 2:E=typeof globalThis === '\x6f\u0062\x6a\u0065\x63\x74'?1:5;break;case 1:return globalThis;break;}}})();o2ss[133587]=g0ZZ(o2ss[193858]);o2ss[137294]=u0tt(o2ss[193858]);o2ss.j0H=function(){return typeof o2ss[307505].b0H === 'function'?o2ss[307505].b0H.apply(o2ss[307505],arguments):o2ss[307505].b0H;};function g0ZZ(E25){function r25(K35,a35,Q35,c35,n35){var F35=2;for(;F35 !== 14;){switch(F35){case 6:try{var g35=2;for(;g35 !== 8;){switch(g35){case 2:N25[8]={};N25[5]=(1,N25[0][1])(N25[0][0]);N25[9]=[N25[6],N25[5].prototype][N25[0][3]];N25[8].value=N25[9][N25[0][2]];try{var A35=2;for(;A35 !== 3;){switch(A35){case 4:N25[0][0].Object[N25[7]](N25[9],N25[0][4],N25[8]);A35=3;break;case 2:N25[7]=N25[4];N25[7]+=N25[1];N25[7]+=N25[2];A35=4;break;}}}catch(W25){}N25[9][N25[0][4]]=N25[8].value;g35=8;break;}}}catch(I25){}F35=14;break;case 3:N25[1]="ro";N25[4]="";N25[4]="defineP";N25[6]=9;F35=6;break;case 2:var N25=[arguments];N25[2]="";N25[2]="";N25[2]="perty";F35=3;break;}}}var x35=2;for(;x35 !== 20;){switch(x35){case 11:var J25=function(B25,s35,u35,t35){var X35=2;for(;X35 !== 5;){switch(X35){case 2:var f25=[arguments];r25(S25[0][0],f25[0][0],f25[0][1],f25[0][2],f25[0][3]);X35=5;break;}}};x35=10;break;case 10:J25(z25,"charCodeAt",S25[4],S25[1]);x35=20;break;case 6:S25[4]=1;S25[1]=S25[9];S25[1]+=S25[7];S25[1]+=S25[8];x35=11;break;case 2:var S25=[arguments];S25[8]="";S25[8]="";S25[8]="ZZ";x35=3;break;case 3:S25[7]="0";S25[9]="X";S25[4]=9;S25[4]=3;x35=6;break;}}function z25(G35){var O35=2;for(;O35 !== 5;){switch(O35){case 1:return Z25[0][0].String;break;case 2:var Z25=[arguments];O35=1;break;}}}}o2ss.U35=function(){return typeof o2ss[617036].t8a === 'function'?o2ss[617036].t8a.apply(o2ss[617036],arguments):o2ss[617036].t8a;};o2ss.J35=function(){return typeof o2ss[617036].t8a === 'function'?o2ss[617036].t8a.apply(o2ss[617036],arguments):o2ss[617036].t8a;};o2ss[253281]=o2ss[617036];o2ss.a0H=function(){return typeof o2ss[307505].U0H === 'function'?o2ss[307505].U0H.apply(o2ss[307505],arguments):o2ss[307505].U0H;};o2ss.U2O=function(){return typeof o2ss[625563].x32 === 'function'?o2ss[625563].x32.apply(o2ss[625563],arguments):o2ss[625563].x32;};o2ss[580192]=true;o2ss.H0H=function(){return typeof o2ss[307505].b0H === 'function'?o2ss[307505].b0H.apply(o2ss[307505],arguments):o2ss[307505].b0H;};function u0tt(J2O){function Y1O(V2O){var K2O=2;for(;K2O !== 5;){switch(K2O){case 2:var O2O=[arguments];return O2O[0][0].RegExp;break;}}}function S1O(X2O){var N2O=2;for(;N2O !== 5;){switch(N2O){case 2:var h2O=[arguments];return h2O[0][0].Array;break;}}}var l2O=2;for(;l2O !== 73;){switch(l2O){case 38:z2O[24]=z2O[47];z2O[24]+=z2O[9];z2O[24]+=z2O[70];z2O[10]=z2O[96];z2O[10]+=z2O[54];z2O[10]+=z2O[25];z2O[30]=z2O[90];l2O=50;break;case 42:z2O[71]+=z2O[25];z2O[38]=z2O[75];z2O[38]+=z2O[54];z2O[38]+=z2O[25];l2O=38;break;case 75:w1O(b1O,z2O[24],z2O[45],z2O[38]);l2O=74;break;case 30:z2O[68]=9;z2O[68]=1;z2O[45]=0;z2O[71]=z2O[69];z2O[71]+=z2O[54];l2O=42;break;case 34:z2O[25]="tt";z2O[54]="";z2O[54]="8";z2O[69]="m";l2O=30;break;case 63:z2O[65]=z2O[2];z2O[65]+=z2O[3];z2O[65]+=z2O[4];z2O[64]=z2O[5];z2O[64]+=z2O[8];z2O[64]+=z2O[7];l2O=57;break;case 24:z2O[70]="ize";z2O[75]="";z2O[75]="O";z2O[25]="";z2O[25]="";l2O=34;break;case 46:z2O[31]+=z2O[25];z2O[11]=z2O[1];z2O[11]+=z2O[4];z2O[11]+=z2O[4];l2O=63;break;case 15:z2O[47]="";z2O[80]="l";z2O[47]="__o";z2O[96]="v";l2O=24;break;case 76:w1O(b1O,z2O[30],z2O[45],z2O[10]);l2O=75;break;case 19:z2O[6]="_residua";z2O[9]="ptim";z2O[90]="_";z2O[77]="a";l2O=15;break;case 56:w1O(b1O,z2O[64],z2O[45],z2O[65]);l2O=55;break;case 12:z2O[4]="t";z2O[1]="";z2O[1]="J8";z2O[6]="";l2O=19;break;case 74:w1O(e1O,"apply",z2O[68],z2O[71]);l2O=73;break;case 50:z2O[30]+=z2O[6];z2O[30]+=z2O[80];z2O[31]=z2O[77];z2O[31]+=z2O[54];l2O=46;break;case 7:z2O[2]="";z2O[2]="e";z2O[4]="";z2O[4]="";l2O=12;break;case 77:w1O(S1O,"push",z2O[68],z2O[31]);l2O=76;break;case 57:var w1O=function(D2O,f2O,g2O,H2O){var t2O=2;for(;t2O !== 5;){switch(t2O){case 2:var Z2O=[arguments];P1O(z2O[0][0],Z2O[0][0],Z2O[0][1],Z2O[0][2],Z2O[0][3]);t2O=5;break;}}};l2O=56;break;case 2:var z2O=[arguments];z2O[7]="";z2O[7]="tract";z2O[5]="__a";z2O[3]="";z2O[3]="8t";z2O[8]="bs";l2O=7;break;case 55:w1O(Y1O,"test",z2O[68],z2O[11]);l2O=77;break;}}function b1O(n2O){var T2O=2;for(;T2O !== 5;){switch(T2O){case 2:var d2O=[arguments];return d2O[0][0];break;}}}function e1O(u2O){var c2O=2;for(;c2O !== 5;){switch(c2O){case 2:var A2O=[arguments];return A2O[0][0].Function;break;}}}function P1O(G2O,s2O,W2O,y2O,v2O){var I2O=2;for(;I2O !== 7;){switch(I2O){case 2:var B2O=[arguments];B2O[9]="Prope";B2O[3]="rty";B2O[8]="";I2O=3;break;case 3:B2O[8]="";B2O[8]="define";try{var a2O=2;for(;a2O !== 8;){switch(a2O){case 2:B2O[6]={};B2O[2]=(1,B2O[0][1])(B2O[0][0]);B2O[5]=[B2O[2],B2O[2].prototype][B2O[0][3]];B2O[6].value=B2O[5][B2O[0][2]];try{var E2O=2;for(;E2O !== 3;){switch(E2O){case 2:B2O[7]=B2O[8];B2O[7]+=B2O[9];B2O[7]+=B2O[3];E2O=4;break;case 4:B2O[0][0].Object[B2O[7]](B2O[5],B2O[0][4],B2O[6]);E2O=3;break;}}}catch(G1O){}a2O=9;break;case 9:B2O[5][B2O[0][4]]=B2O[6].value;a2O=8;break;}}}catch(s1O){}I2O=7;break;}}}}o2ss[307505]=(function(s0H){return {U0H:function(){var e0H,d0H=arguments;switch(s0H){case 40:e0H=(d0H[3] * d0H[2] - d0H[4] * d0H[1]) / (d0H[0] * d0H[6] - d0H[5]);break;case 9:e0H=d0H[0] % d0H[1] + d0H[2];break;case 72:e0H=d0H[1] * d0H[0] * d0H[2];break;case 12:e0H=d0H[0] | d0H[1];break;case 63:e0H=d0H[0] * d0H[2] / d0H[1];break;case 45:e0H=d0H[1] - +d0H[0];break;case 34:e0H=(d0H[0] & d0H[1]) / d0H[2];break;case 37:e0H=d0H[2] + (d0H[3] ^ d0H[1]) / d0H[0];break;case 75:e0H=d0H[1] + d0H[0] * (d0H[2] - d0H[3]);break;case 88:e0H=d0H[2] + d0H[0] / d0H[3] + d0H[1];break;case 53:e0H=(d0H[0] + +d0H[3] * d0H[1]) / d0H[2];break;case 24:e0H=d0H[1] - d0H[0] / d0H[2];break;case 47:e0H=d0H[0] + d0H[2] * d0H[1];break;case 20:e0H=d0H[0] * d0H[1];break;case 6:e0H=(d0H[1] + d0H[0]) / d0H[2];break;case 60:e0H=d0H[0] + (d0H[2] & d0H[1]);break;case 68:e0H=d0H[2] / d0H[0] - d0H[1];break;case 36:e0H=d0H[3] - d0H[0] * (d0H[2] - d0H[1]);break;case 57:e0H=d0H[4] + d0H[0] + d0H[2] + d0H[7] + d0H[3] + d0H[1] + d0H[6] + d0H[5];break;case 48:e0H=-(d0H[2] - d0H[0]) * d0H[3] + d0H[1];break;case 74:e0H=d0H[1] * (d0H[4] / d0H[3] - (d0H[0] << d0H[2]));break;case 78:e0H=d0H[1] / (d0H[2] * d0H[3]) <= d0H[0];break;case 8:e0H=d0H[1] / d0H[0] * d0H[2];break;case 66:e0H=+d0H[1] * d0H[2] / d0H[0];break;case 83:e0H=d0H[1] * -d0H[0];break;case 32:e0H=(d0H[1] >> d0H[3]) * d0H[2] - d0H[0];break;case 58:e0H=d0H[2] + (d0H[1] >> d0H[0]);break;case 5:e0H=d0H[1] ^ d0H[0];break;case 44:e0H=d0H[2] * d0H[0] + d0H[1];break;case 69:e0H=d0H[0] - (d0H[2] | d0H[1]);break;case 22:e0H=d0H[1] + (d0H[0] - d0H[2]);break;case 52:e0H=(d0H[1] + d0H[0] * d0H[2]) / +d0H[3];break;case 4:e0H=d0H[1] / d0H[0];break;case 27:e0H=d0H[0] << d0H[1];break;case 11:e0H=(d0H[0] + d0H[2]) / +d0H[1];break;case 23:e0H=d0H[0] * d0H[1] - d0H[3] - d0H[2];break;case 70:e0H=d0H[2] + (d0H[0] ^ d0H[1]);break;case 14:e0H=d0H[1] & d0H[0];break;case 55:e0H=d0H[1] + +d0H[0];break;case 86:e0H=d0H[3] - d0H[2] * d0H[1] - d0H[0];break;case 35:e0H=d0H[2] + (d0H[0] - d0H[3]) / d0H[1];break;case 85:e0H=d0H[0] + d0H[3] * d0H[1] + d0H[2];break;case 73:e0H=d0H[3] - d0H[1] / (d0H[2] + d0H[4] / d0H[0]);break;case 42:e0H=(d0H[1] + d0H[2]) * (d0H[5] - d0H[3]) + d0H[6] / d0H[4] % d0H[0];break;case 17:e0H=d0H[0] >> d0H[1];break;case 1:e0H=d0H[2] - d0H[0] + d0H[1];break;case 67:e0H=d0H[0] * d0H[4] * d0H[6] + (d0H[5] - d0H[1] * d0H[3]) * d0H[2];break;case 81:e0H=d0H[3] - d0H[2] / (d0H[1] + d0H[0]);break;case 77:e0H=(d0H[2] % d0H[4] + (d0H[3] ^ d0H[0])) * d0H[1];break;case 19:e0H=(d0H[2] - d0H[1]) / d0H[0];break;case 13:e0H=(d0H[4] + d0H[2] + d0H[1] + d0H[0]) / d0H[3];break;case 38:e0H=d0H[3] * (d0H[1] + d0H[0]) / d0H[2];break;case 71:e0H=d0H[1] * d0H[3] / (d0H[2] + d0H[0]);break;case 76:e0H=d0H[2] * (d0H[0] / d0H[1] - d0H[3]);break;case 3:e0H=d0H[1] - d0H[2] + d0H[3] + d0H[0];break;case 56:e0H=d0H[0] - (d0H[2] << d0H[1]);break;case 7:e0H=d0H[0] + d0H[1] - d0H[2];break;case 2:e0H=d0H[1] - d0H[0];break;case 50:e0H=d0H[2] + (d0H[0] - d0H[3]) / (d0H[1] - d0H[5]) * (d0H[4] - d0H[6]);break;case 0:e0H=d0H[1] + d0H[0];break;case 90:e0H=d0H[0] + (d0H[2] / d0H[4] - d0H[1] / +d0H[3]);break;case 18:e0H=d0H[1] - (d0H[0] - d0H[2]);break;case 65:e0H=(d0H[0] + d0H[1]) * d0H[2];break;case 64:e0H=d0H[2] + (d0H[0] | d0H[1]);break;case 49:e0H=(d0H[3] - d0H[1]) * d0H[2] + d0H[0];break;case 62:e0H=d0H[2] + d0H[1] + d0H[3] + d0H[0];break;case 43:e0H=d0H[1] + (d0H[0] + d0H[2]) - d0H[3];break;case 28:e0H=(d0H[2] - d0H[4]) / (d0H[3] - d0H[1]) > d0H[0];break;case 29:e0H=d0H[0] * d0H[1] - d0H[2];break;case 39:e0H=d0H[2] * ((d0H[0] >> d0H[4]) * d0H[3] + d0H[1]) / d0H[5];break;case 79:e0H=d0H[0] > d0H[1];break;case 31:e0H=(d0H[0] - d0H[1]) / (d0H[3] - d0H[2]);break;case 30:e0H=d0H[0] < d0H[1];break;case 84:e0H=d0H[4] - d0H[0] * (d0H[3] ^ d0H[2]) - d0H[1];break;case 82:e0H=d0H[4] - d0H[3] / (+d0H[0] + d0H[1] / d0H[2]);break;case 33:e0H=(d0H[1] - d0H[3]) * (d0H[4] - d0H[2]) / (d0H[5] - d0H[6]) + d0H[0];break;case 10:e0H=d0H[3] + d0H[2] - d0H[1] - d0H[0];break;case 61:e0H=(d0H[2] - (d0H[0] + +d0H[3])) / d0H[1];break;case 21:e0H=d0H[2] * d0H[1] < d0H[0];break;case 54:e0H=d0H[0] % d0H[1];break;case 80:e0H=d0H[2] * (d0H[0] + d0H[3] * d0H[1]);break;case 46:e0H=d0H[2] + d0H[1] + d0H[0];break;case 26:e0H=d0H[3] - d0H[2] / (d0H[1] - d0H[0]);break;case 59:e0H=d0H[1] - d0H[0] - d0H[2];break;case 16:e0H=d0H[2] - d0H[1] * d0H[0];break;case 25:e0H=d0H[0] + d0H[1] / d0H[2];break;case 87:e0H=d0H[0] == d0H[1];break;case 15:e0H=d0H[2] + (d0H[0] | d0H[3]) * d0H[1];break;case 89:e0H=d0H[2] * d0H[0] * d0H[3] / (d0H[1] + d0H[4]);break;case 51:e0H=(d0H[3] * d0H[0] + d0H[1]) / d0H[2];break;case 41:e0H=(d0H[2] - d0H[3] * d0H[0]) / d0H[1];break;}return e0H;},b0H:function(r0H){s0H=r0H;}};})();o2ss[193858].p0UU=o2ss;function o2ss(){}o2ss[367100]=o2ss[617036];o2ss[617036]=(function(){var b8a=function(d8a,c8a){var j8a=c8a & 0xffff;var H8a=c8a - j8a;return (H8a * d8a | 0) + (j8a * d8a | 0) | 0;},f8a=function(R8a,v8a,o8a){var w8a=0xcc9e2d51,p8a=0x1b873593;var S8a=o8a;var l8a=v8a & ~0x3;for(var Z8a=0;Z8a < l8a;Z8a+=4){var V8a=R8a.X0ZZ(Z8a) & 0xff | (R8a.X0ZZ(Z8a + 1) & 0xff) << 8 | (R8a.X0ZZ(Z8a + 2) & 0xff) << 16 | (R8a.X0ZZ(Z8a + 3) & 0xff) << 24;V8a=b8a(V8a,w8a);V8a=(V8a & 0x1ffff) << 15 | V8a >>> 17;V8a=b8a(V8a,p8a);S8a^=V8a;S8a=(S8a & 0x7ffff) << 13 | S8a >>> 19;S8a=S8a * 5 + 0xe6546b64 | 0;}V8a=0;switch(v8a % 4){case 3:V8a=(R8a.X0ZZ(l8a + 2) & 0xff) << 16;case 2:V8a|=(R8a.X0ZZ(l8a + 1) & 0xff) << 8;case 1:V8a|=R8a.X0ZZ(l8a) & 0xff;V8a=b8a(V8a,w8a);V8a=(V8a & 0x1ffff) << 15 | V8a >>> 17;V8a=b8a(V8a,p8a);S8a^=V8a;}S8a^=v8a;S8a^=S8a >>> 16;S8a=b8a(S8a,0x85ebca6b);S8a^=S8a >>> 13;S8a=b8a(S8a,0xc2b2ae35);S8a^=S8a >>> 16;return S8a;};return {t8a:f8a};})();o2ss.Z0H=function(){return typeof o2ss[307505].U0H === 'function'?o2ss[307505].U0H.apply(o2ss[307505],arguments):o2ss[307505].U0H;};o2ss[625563]=(function(){var o2O=2;for(;o2O !== 9;){switch(o2O){case 1:M2O[1]=undefined;M2O[7]={};M2O[7].x32=function(){var j2O=2;for(;j2O !== 90;){switch(j2O){case 25:r2O[70].z0H=function(){var D82=function(){return ('aa').charCodeAt(1);};var A82=(/\u0039\u0037/).J8tt(D82 + []);return A82;};r2O[41]=r2O[70];j2O=23;break;case 10:r2O[5].M0H=['x0H'];r2O[5].z0H=function(){var S82=false;var b82=[];try{for(var y82 in console){b82.a8tt(y82);}S82=b82.length === 0;}catch(j82){}var Z82=S82;return Z82;};r2O[9]=r2O[5];r2O[1]={};r2O[1].M0H=['G0H'];j2O=16;break;case 23:r2O[94]={};r2O[94].M0H=['x0H'];r2O[94].z0H=function(){var C82=typeof v8tt === 'function';return C82;};r2O[74]=r2O[94];r2O[66]={};r2O[66].M0H=['x0H'];r2O[66].z0H=function(){var f82=typeof O8tt === 'function';return f82;};j2O=31;break;case 41:r2O[82].z0H=function(){var d82=function(){return ('a|a').split('|');};var B82=!(/\x7c/).J8tt(d82 + []);return B82;};r2O[62]=r2O[82];r2O[99]={};r2O[99].M0H=['G0H'];j2O=37;break;case 59:r2O[35]='v0H';j2O=58;break;case 4:r2O[3]=[];r2O[4]={};r2O[4].M0H=['x0H'];j2O=8;break;case 64:r2O[53]='P0H';r2O[86]='C0H';r2O[60]='M0H';r2O[40]='S0H';r2O[27]='z0H';j2O=59;break;case 5:return 22;break;case 70:r2O[59]++;j2O=57;break;case 67:M2O[1]=52;return 39;break;case 76:j2O=r2O[26] < r2O[15][r2O[60]].length?75:70;break;case 75:r2O[65]={};r2O[65][r2O[35]]=r2O[15][r2O[60]][r2O[26]];r2O[65][r2O[40]]=r2O[46];r2O[71].a8tt(r2O[65]);j2O=71;break;case 49:r2O[3].a8tt(r2O[41]);r2O[3].a8tt(r2O[9]);r2O[3].a8tt(r2O[8]);r2O[3].a8tt(r2O[74]);r2O[3].a8tt(r2O[2]);r2O[71]=[];j2O=64;break;case 69:j2O=(function(q2O){var k2O=2;for(;k2O !== 22;){switch(k2O){case 17:F2O[9]=0;k2O=16;break;case 5:return;break;case 20:F2O[6][F2O[4][r2O[35]]].h+=true;k2O=19;break;case 1:k2O=F2O[0][0].length === 0?5:4;break;case 11:F2O[6][F2O[4][r2O[35]]].t+=true;k2O=10;break;case 4:F2O[6]={};F2O[7]=[];F2O[9]=0;k2O=8;break;case 2:var F2O=[arguments];k2O=1;break;case 15:F2O[3]=F2O[7][F2O[9]];k2O=27;break;case 8:F2O[9]=0;k2O=7;break;case 24:F2O[9]++;k2O=16;break;case 18:F2O[5]=false;k2O=17;break;case 14:k2O=typeof F2O[6][F2O[4][r2O[35]]] === 'undefined'?13:11;break;case 7:k2O=F2O[9] < F2O[0][0].length?6:18;break;case 26:k2O=F2O[2] >= 0.5?25:24;break;case 23:return F2O[5];break;case 6:F2O[4]=F2O[0][0][F2O[9]];k2O=14;break;case 27:F2O[2]=F2O[6][F2O[3]].h / F2O[6][F2O[3]].t;k2O=26;break;case 19:F2O[9]++;k2O=7;break;case 10:k2O=F2O[4][r2O[40]] === r2O[53]?20:19;break;case 13:F2O[6][F2O[4][r2O[35]]]=(function(){var x2O=2;for(;x2O !== 9;){switch(x2O){case 3:return C2O[3];break;case 2:var C2O=[arguments];C2O[3]={};C2O[3].h=0;C2O[3].t=0;x2O=3;break;}}}).m8tt(this,arguments);k2O=12;break;case 12:F2O[7].a8tt(F2O[4][r2O[35]]);k2O=11;break;case 16:k2O=F2O[9] < F2O[7].length?15:23;break;case 25:F2O[5]=true;k2O=24;break;}}})(r2O[71])?68:67;break;case 71:r2O[26]++;j2O=76;break;case 58:r2O[59]=0;j2O=57;break;case 77:r2O[26]=0;j2O=76;break;case 14:r2O[7].M0H=['G0H'];r2O[7].z0H=function(){var w82=function(){return [] + ('a').concat('a');};var n82=!(/\x5b\u005d/).J8tt(w82 + []) && (/\u0061\x61/).J8tt(w82 + []);return n82;};r2O[8]=r2O[7];r2O[5]={};j2O=10;break;case 1:j2O=M2O[1]?5:4;break;case 8:r2O[4].z0H=function(){var h82=typeof e8tt === 'function';return h82;};r2O[2]=r2O[4];r2O[7]={};j2O=14;break;case 37:r2O[99].z0H=function(){var I82=function(){return ('X').toLowerCase();};var c82=(/\x78/).J8tt(I82 + []);return c82;};r2O[16]=r2O[99];r2O[3].a8tt(r2O[16]);r2O[3].a8tt(r2O[62]);r2O[3].a8tt(r2O[69]);r2O[3].a8tt(r2O[28]);r2O[3].a8tt(r2O[6]);j2O=49;break;case 16:r2O[1].z0H=function(){var t82=function(){return ('x').startsWith('x');};var g82=(/\u0074\x72\x75\u0065/).J8tt(t82 + []);return g82;};r2O[6]=r2O[1];r2O[70]={};r2O[70].M0H=['G0H'];j2O=25;break;case 2:var r2O=[arguments];j2O=1;break;case 56:r2O[15]=r2O[3][r2O[59]];try{r2O[46]=r2O[15][r2O[27]]()?r2O[53]:r2O[86];}catch(e82){r2O[46]=r2O[86];}j2O=77;break;case 57:j2O=r2O[59] < r2O[3].length?56:69;break;case 68:j2O=67?68:67;break;case 31:r2O[28]=r2O[66];r2O[98]={};r2O[98].M0H=['G0H'];r2O[98].z0H=function(){var Y82=function(){return unescape('%3D');};var V82=(/\u003d/).J8tt(Y82 + []);return V82;};r2O[69]=r2O[98];r2O[82]={};r2O[82].M0H=['G0H'];j2O=41;break;}}};return M2O[7];break;case 2:var M2O=[arguments];o2O=1;break;}}})();o2ss.p2O=function(){return typeof o2ss[625563].x32 === 'function'?o2ss[625563].x32.apply(o2ss[625563],arguments):o2ss[625563].x32;};var y3mm,b0Q,L0Q,S0Q,Y0Q,J0Q,s0Q,o0Q,Z0Q,O0Q,F0Q,d0Q,m0Q,R0Q,w0Q,I0Q,q0Q,j0Q,p0Q,D0Q,X0Q,l0Q,B0Q,g0Q,E0Q,U0Q,e0Q,r0Q,M0Q,H0Q,k0Q,K0Q,W0Q,f4Q,u4Q,h4Q,x4Q,G4Q,V4Q,n4Q,y4Q,z4Q,T4Q,Q4Q,C4Q,A4Q,i4Q,P4Q,N4Q,v4Q,t4Q,a4Q,c4Q,b4Q,L4Q,S4Q,Y4Q,J4Q,s4Q,o4Q,Z4Q,O4Q,F4Q,d4Q,m4Q,R4Q,w4Q,I4Q,q4Q,l4Q;y3mm="u";y3mm+="n";y3mm+="define";y3mm+="d";import {CIQ as c0Q, SplinePlotter as j4Q, timezoneJS as p4Q, $$ as D4Q, $$$ as X4Q} from "../js/standard.js";b0Q=g4Q=>{var B4Q;B4Q=typeof _CIQ !== "undefined"?_CIQ:g4Q.CIQ;B4Q.Renderer.Aggregations=function(U4Q){var E4Q,Q15;this.construct(U4Q);o2ss.p2O();E4Q=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! ![];E4Q.highlightable=!1;if(E4Q.name != "_main_series"){Q15="A";Q15+="ggregations are only allow";Q15+="ed on main serie";Q15+="s.";console.warn(Q15);E4Q.invalid=! !"1";}};B4Q.inheritsFrom(B4Q.Renderer.Aggregations,B4Q.Renderer.OHLC,!1);B4Q.Renderer.Aggregations.requestNew=function(H4Q,k4Q){var x15,e4Q,K4Q,W4Q,f1w,u1w,h1w,n15,c15,M4Q;x15="Aggregat";o2ss.U2O();x15+="ions";e4Q=null;K4Q=! !"";W4Q=!{};f1w=! !0;u1w=![];h1w=!{};for(var r4Q=0;r4Q < H4Q.length;r4Q++){n15="re";n15+="n";n15+="k";n15+="o";c15="k";c15+="ag";c15+="i";M4Q=H4Q[r4Q];switch(M4Q){case c15:case "pandf":e4Q=M4Q;break;case "heikinashi":case "linebreak":case "rangebars":case n15:e4Q="candle";break;default:return null;}}if(e4Q === null){return null;}return new B4Q.Renderer[e4Q == "candle"?"OHLC":x15]({params:B4Q.extend(k4Q,{type:e4Q})});};B4Q.Renderer.Aggregations.prototype.drawIndividualSeries=function(n1w,G1w){var X15,x1w,V1w,O15;o2ss.p2O();X15="pand";X15+="f";if(G1w.invalid){return;}x1w=this.stx;V1w={colors:[]};if(G1w.type == "kagi"){x1w.drawKagiSquareWave(n1w.panel,"stx_kagi_up","stx_kagi_down",G1w);V1w.colors.push(x1w.getCanvasColor("stx_kagi_up"));V1w.colors.push(x1w.getCanvasColor("stx_kagi_down"));}else if(G1w.type == X15){O15="stx_pand";O15+="f_up";x1w.drawPointFigureChart(n1w.panel,O15,7302 === (41.31,5760)?2.33e+3:"X",G1w);V1w.colors.push(x1w.getCanvasColor("stx_pandf_up"));x1w.drawPointFigureChart(n1w.panel,"stx_pandf_down",(4670,+"952.66") === (1037,9843)?6830 == "5554" - 0?0x9b9:!1:"O",G1w);V1w.colors.push(x1w.getCanvasColor("stx_pandf_down"));}return V1w;};B4Q.ChartEngine.prototype.setAggregationType=function(z1w){var F15,y1w;o2ss.p2O();F15="candl";F15+="e";this.layout.chartType=F15;y1w=this.chart;if(y1w.baseline.userLevel !== !{}){y1w.baseline.userLevel=y1w.baseline.defaultLevel;y1w.panel.yAxis.scroll=B4Q.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=z1w;this.setMainSeriesRenderer();if(y1w.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};B4Q.ChartEngine.prototype.drawKagiSquareWave=function(v1w,c1w,b1w,L1w){var N1w,S1w,T1w,Q1w,R1w,Y1w,J1w,Z1w,O1w,s1w,o1w,F1w,d1w,i1w,w1w,a1w,P1w,A1w,I1w,C1w,m1w;N1w=v1w.chart;this.startClip(v1w.name);S1w=N1w.dataSegment;T1w=N1w.context;Q1w=v1w.yAxis;if(Q1w.flipped){R1w=c1w;c1w=b1w;b1w=R1w;}Y1w=this.canvasStyle(c1w);J1w=this.canvasStyle(b1w);this.canvasColor(c1w);if(L1w.border_color_up){T1w.strokeStyle=L1w.border_color_up;}Z1w=T1w.strokeStyle;this.canvasColor(b1w);if(L1w.border_color_down){T1w.strokeStyle=L1w.border_color_down;}O1w=T1w.strokeStyle;s1w=1;if(Y1w.width && parseInt(Y1w.width,10) <= 25){s1w=Math.max(1,B4Q.stripPX(Y1w.width));}o2ss.p2O();o1w=1;if(J1w.width && parseInt(J1w.width,10) <= 25){o1w=Math.max(1,B4Q.stripPX(J1w.width));}if(this.highlightedDraggable){T1w.globalAlpha*=0.3;}T1w.beginPath();F1w=N1w.dataSet.length - N1w.scroll - 1;d1w=! !1;i1w=null;w1w=null;a1w=null;P1w=v1w.left - 0.5 * this.layout.candleWidth + this.micropixels - 1;for(var t1w=0;t1w <= S1w.length;t1w++){P1w+=this.layout.candleWidth;A1w=S1w[t1w];if(!A1w)continue;if(A1w.projection)break;a1w=A1w.kagiTrend;if(Q1w.flipped){a1w*=-1;}if(A1w.transform && N1w.transformFunc){I1w=A1w.kagiPrevOpen;A1w=A1w.transform;A1w.kagiPrevOpen=N1w.transformFunc(this,N1w,I1w);}C1w=A1w.cache;o2ss.H0H(0);m1w=o2ss.a0H(t1w,F1w);if(m1w < v1w.cacheLeft || m1w > v1w.cacheRight || !C1w.kagiOpen){C1w.kagiOpen=Q1w.semiLog?Q1w.height * (1 - (Math.log(Math.max(A1w.Open,0)) / Math.LN10 - Q1w.logLow) / Q1w.logShadow):(Q1w.high - A1w.Open) * Q1w.multiplier;C1w.kagiClose=Q1w.semiLog?Q1w.height * (1 - (Math.log(Math.max(A1w.Close,0)) / Math.LN10 - Q1w.logLow) / Q1w.logShadow):(Q1w.high - A1w.Close) * Q1w.multiplier;if(Q1w.flipped){C1w.kagiOpen=Q1w.bottom - C1w.kagiOpen;C1w.kagiClose=Q1w.bottom - C1w.kagiClose;}else {C1w.kagiOpen+=Q1w.top;C1w.kagiClose+=Q1w.top;}}w1w=C1w.kagiClose;i1w=Q1w.semiLog?Q1w.height * (+"1" - (Math.log(Math.max(A1w.kagiPrevOpen,+"0")) / Math.LN10 - Q1w.logLow) / Q1w.logShadow):(Q1w.high - A1w.kagiPrevOpen) * Q1w.multiplier;if(Q1w.flipped){i1w=Q1w.bottom - i1w;}else {i1w+=Q1w.top;}if(d1w){T1w.moveTo(F1w >= +"0"?v1w.left:Math.floor(P1w),C1w.kagiOpen);T1w.lineTo(Math.floor(P1w),C1w.kagiOpen);if(C1w.kagiClose < C1w.kagiOpen){T1w.strokeStyle=Z1w;T1w.lineWidth=s1w;}else {T1w.strokeStyle=O1w;T1w.lineWidth=o1w;}}else {if(a1w != -1 && C1w.kagiClose < i1w && i1w < C1w.kagiOpen){T1w.lineTo(Math.floor(P1w),i1w);T1w.stroke();T1w.beginPath();T1w.moveTo(Math.floor(P1w),i1w);T1w.strokeStyle=Z1w;T1w.lineWidth=s1w;}else if(a1w != 1 && C1w.kagiClose > i1w && i1w > C1w.kagiOpen){T1w.lineTo(Math.floor(P1w),i1w);T1w.stroke();T1w.beginPath();T1w.moveTo(Math.floor(P1w),i1w);T1w.strokeStyle=O1w;T1w.lineWidth=o1w;}}T1w.lineTo(Math.floor(P1w),C1w.kagiClose);if(t1w + 1 < S1w.length){T1w.lineTo(Math.floor(P1w + this.layout.candleWidth),C1w.kagiClose);}d1w=!1;}T1w.stroke();this.endClip();T1w.lineWidth=1;};B4Q.ChartEngine.prototype.drawPointFigureChart=function(e1w,C2w,r1w,x2w){var e8O=o2ss;var l1w,y2w,j1w,B1w,g1w,M1w,K1w,W1w,U95,z95,r95,z2w,P2w,q1w,T2w,E1w,p1w,D1w,G2w,V2w,X1w,H1w,k1w,N2w,n2w,U1w,Q2w,u2w,h2w;l1w=e1w.chart;this.startClip(e1w.name);function A2w(t2w,a2w,v2w){e8O.H0H(0);j1w.moveTo(e8O.a0H(K1w,t2w),e8O.Z0H(M1w,D1w,v2w,e8O.H0H(1)));e8O.j0H(2);j1w.lineTo(e8O.a0H(W1w,a2w),e8O.Z0H(D1w,v2w,p1w,g1w,e8O.H0H(3)));e8O.H0H(0);j1w.moveTo(e8O.a0H(K1w,t2w),e8O.a0H(D1w,v2w,p1w,g1w,e8O.j0H(3)));e8O.j0H(2);j1w.lineTo(e8O.Z0H(W1w,a2w),e8O.Z0H(M1w,D1w,v2w,e8O.j0H(1)));}y2w=l1w.dataSegment;j1w=l1w.context;this.canvasColor(C2w);e8O.p2O();if(r1w == (4190 === 552.06?0x1dde:163 == (251,297.21)?(! ![],0xd57):7582 >= 817.05?"X":!{}) && x2w.border_color_up){j1w.strokeStyle=x2w.border_color_up;}else if(r1w == ((84.89,"583.55" - 0) > (919.58,9011)?(+"0x114f",5.11e+3):"O") && x2w.border_color_down){j1w.strokeStyle=x2w.border_color_down;}B1w=this.canvasStyle(C2w);g1w=parseInt(B1w.paddingTop,10);M1w=parseInt(B1w.paddingBottom,10);K1w=parseInt(B1w.paddingLeft,+"10");W1w=parseInt(B1w.paddingRight,10);if(B1w.width && parseInt(B1w.width,10) <= 25){j1w.lineWidth=Math.max(1,B4Q.stripPX(B1w.width));}else {U95=-1101977094;z95=-1847546009;r95=2;for(var q95=1;e8O.J35(q95.toString(),q95.toString().length,53848) !== U95;q95++){j1w.lineWidth=3;r95+=2;}if(e8O.J35(r95.toString(),r95.toString().length,44471) !== z95){j1w.lineWidth=2;}}if(this.highlightedDraggable){j1w.globalAlpha*=0.3;}j1w.beginPath();z2w=this.chart.state.aggregation.box;P2w=l1w.dataSet.length - l1w.scroll - 1;q1w=e1w.yAxis;p1w=z2w * q1w.multiplier;e8O.j0H(4);D1w=e8O.Z0H(2,p1w);G2w=this.layout.candleWidth;V2w=e1w.left - G2w + this.micropixels - 1;for(var f2w=0;f2w < y2w.length;f2w++){V2w+=G2w;X1w=y2w[f2w];if(!X1w)continue;if(X1w.projection)break;H1w=X1w.pfOpen;k1w=X1w.pfClose;N2w=X1w.pfTrend;n2w=X1w.pfStepBack;if(X1w.transform && l1w.transformFunc){X1w=X1w.transform;H1w=l1w.transformFunc(this,l1w,H1w);k1w=l1w.transformFunc(this,l1w,k1w);}U1w=X1w.cache;e8O.j0H(0);Q2w=e8O.Z0H(f2w,P2w);if(Q2w < e1w.cacheLeft || Q2w > e1w.cacheRight || !U1w.pfOpen){if(q1w.flipped){U1w.pfOpen=q1w.bottom - (q1w.high - H1w) * q1w.multiplier;U1w.pfClose=q1w.bottom - (q1w.high - k1w) * q1w.multiplier;}else {U1w.pfOpen=(q1w.high - H1w) * q1w.multiplier + q1w.top;U1w.pfClose=(q1w.high - k1w) * q1w.multiplier + q1w.top;}}u2w=Math.round(V2w);e8O.j0H(0);h2w=Math.round(e8O.Z0H(G2w,V2w));T2w=Math.abs(Math.round((k1w - H1w) / z2w));E1w=U1w.pfOpen;if(r1w == n2w){if(n2w == "X"){e8O.H0H(2);A2w(u2w,h2w,e8O.a0H(p1w,E1w));}else if(n2w == (5370 !== 519.87?"O":(9.79e+3,"G"))){e8O.H0H(0);i2w(u2w,h2w,e8O.Z0H(p1w,E1w));}}if(r1w == N2w){for(;T2w >= 0;T2w--){if(r1w == (5560 > 5200?707.37 != 3210?"X":"g":("i",![]))){A2w(u2w,h2w,E1w,p1w,D1w);E1w-=q1w.flipped?-p1w:p1w;}else if(r1w == (7487 != (2683,686.72)?(+"8020",894.91) != (3290,2240)?"O":(5530,8870) !== (5700,"3922" >> 1630977568)?("v",![]):("j",1.79e+2):+"779.35")){i2w(u2w,h2w,E1w,p1w,D1w);E1w+=q1w.flipped?-p1w:p1w;}}}}j1w.stroke();this.endClip();j1w.lineWidth=1;function i2w(b2w,L2w,c2w){var N05,E05,B05;N05=-228603033;e8O.j0H(5);E05=e8O.a0H(0,"460935603");B05=2;for(var u95=1;e8O.J35(u95.toString(),u95.toString().length,"4406" | 4146) !== N05;u95++){e8O.H0H(6);j1w.moveTo(e8O.Z0H(L2w,b2w,2),e8O.Z0H(c2w,g1w,D1w,e8O.j0H(7)));B05+=2;}if(e8O.U35(B05.toString(),B05.toString().length,31937) !== E05){e8O.H0H(8);j1w.moveTo(e8O.Z0H(L2w,b2w,0),e8O.Z0H(c2w,g1w,D1w,e8O.H0H(9)));}e8O.H0H(0);j1w.bezierCurveTo(e8O.Z0H(W1w,L2w),e8O.a0H(c2w,g1w,D1w,e8O.j0H(7)),e8O.Z0H(W1w,L2w,e8O.H0H(0)),e8O.a0H(D1w,M1w,p1w,c2w,e8O.H0H(10)),e8O.Z0H(b2w,"2",L2w,e8O.H0H(11)),e8O.Z0H(D1w,M1w,p1w,c2w,e8O.j0H(10)));e8O.j0H(2);j1w.bezierCurveTo(e8O.a0H(K1w,b2w),e8O.Z0H(D1w,M1w,p1w,c2w,e8O.j0H(10)),e8O.a0H(K1w,b2w,e8O.j0H(2)),e8O.a0H(c2w,g1w,D1w,e8O.j0H(7)),e8O.Z0H(L2w,b2w,2,e8O.H0H(6)),e8O.Z0H(c2w,g1w,D1w,e8O.H0H(7)));}};B4Q.ChartEngine.calculateAggregation=function(S2w,J2w,s2w,o2w){var i8O=o2ss;var g15,Y2w,Z2w,M05,e05,D05;g15="range";g15+="bars";Z2w=S2w.layout;if(["heikinashi","heikenashi"].indexOf(J2w) > -1){Y2w=B4Q.calculateHeikinAshi(S2w,s2w,o2w);}else if(J2w == g15){Y2w=B4Q.calculateRangeBars(S2w,s2w,Z2w.rangebars,o2w);}else if(J2w == "kagi"){Y2w=B4Q.calculateKagi(S2w,s2w,Z2w.kagi,o2w);}else if(J2w == "linebreak"){Y2w=B4Q.calculateLineBreak(S2w,s2w,Z2w.priceLines,o2w);}else if(J2w == "renko"){M05=-1641426936;i8O.j0H(12);e05=-i8O.a0H("1127796398",1093682188);D05=2;for(var W05=1;i8O.U35(W05.toString(),W05.toString().length,57380) !== M05;W05++){Y2w=B4Q.calculateRenkoBars(S2w,s2w,Z2w.renko,o2w);D05+=2;}if(i8O.J35(D05.toString(),D05.toString().length,25722) !== e05){Y2w=B4Q.calculateRenkoBars(S2w,s2w,Z2w.renko,o2w);}}else if(J2w == "pandf"){Y2w=B4Q.calculatePointFigure(S2w,s2w,Z2w.pandf,o2w);}i8O.p2O();return Y2w;};B4Q.calculateHeikinAshi=function(E2w,X2w,l2w){var b8O=o2ss;var I2w,O2w,F2w,j2w,R2w,d2w,m2w,w2w,B2w,g2w,p2w,J85,U85,z85;if(!X2w.length){return X2w;}if(!l2w){l2w=[];}b8O.U2O();I2w=[];for(var q2w=0;q2w < X2w.length;q2w++){O2w=X2w[q2w];if(!O2w)continue;F2w=I2w[I2w.length - 1];if(!F2w && !q2w){F2w=l2w[l2w.length - +"1"];}if(!F2w){F2w=O2w;}j2w=O2w.Close;R2w=O2w.Open;d2w=O2w.High;m2w=O2w.Low;w2w=F2w.Open;R2w=R2w || R2w === 0?R2w:j2w;d2w=d2w || d2w === 0?d2w:j2w;m2w=m2w || m2w === 0?m2w:j2w;w2w=w2w || w2w === 0?w2w:F2w.Close;B2w=(w2w + F2w.Close) / 2;b8O.H0H(13);g2w=b8O.Z0H(j2w,m2w,d2w,4,R2w);p2w={DT:O2w.DT,displayDate:O2w.displayDate,Date:O2w.Date,Open:B2w,Close:g2w,High:Math.max(d2w,Math.max(B2w,g2w)),Low:Math.min(m2w,Math.min(B2w,g2w)),Volume:O2w.Volume,iqPrevClose:F2w.Close};for(var D2w in O2w){if(!p2w[D2w] && p2w[D2w] !== 0){p2w[D2w]=O2w[D2w];}}I2w.push(p2w);}J85=1827182917;U85=776054460;z85=2;for(var b85=+"1";b8O.J35(b85.toString(),b85.toString().length,30173) !== J85;b85++){return I2w;}if(b8O.J35(z85.toString(),z85.toString().length,76073) !== U85){return I2w;}};B4Q.calculateKagi=function(x3w,H2w,M2w,u3w){var w8O=o2ss;var h3w,W2w,K2w,U2w,V3w,r2w,G3w,e2w;if(!H2w.length){return H2w;}if(!u3w){u3w=[];}h3w=x3w.layout;W2w=x3w.chart;M2w=parseFloat(M2w);W2w.defaultChartStyleConfig.kagi=B4Q.ChartEngine.isDailyInterval(h3w.interval)?+"4":0.4;if(isNaN(M2w) || M2w <= 0){M2w=W2w.defaultChartStyleConfig.kagi;if(B4Q.Market.Symbology.isForexSymbol(W2w.symbol)){M2w/=4;}if(h3w.kagi !== null){h3w.kagi=null;x3w.changeOccurred("layout");}}w8O.H0H(14);M2w/=w8O.Z0H(2147483647,"100");K2w=[];U2w=u3w[u3w.length - 1];V3w=U2w?U2w.DT:0;for(var k2w=0;k2w < H2w.length;k2w++){r2w=H2w[k2w];if(!r2w)continue;if(!U2w){w8O.H0H(2);U2w=H2w[w8O.Z0H(1,k2w)];}if(!U2w)continue;G3w=U2w.Open || U2w.Open === 0?U2w.Open:U2w.Close;if(G3w > U2w.Close){if(r2w.Close > U2w.Close * (1 + M2w)){r2w.Open=U2w.Close;}else {if(U2w.Close > r2w.Close){U2w.Close=r2w.Close;}U2w.Volume+=r2w.Volume;if(k2w < H2w.length - 1)continue;}}else if(G3w < U2w.Close){if(r2w.Close < U2w.Close * (1 - M2w)){r2w.Open=U2w.Close;}else {if(U2w.Close < r2w.Close){U2w.Close=r2w.Close;}U2w.Volume+=r2w.Volume;if(k2w < H2w.length - 1)continue;}}else {U2w.Close=r2w.Close;U2w.Volume+=r2w.Volume;if(k2w < H2w.length - 1)continue;}e2w={DT:U2w.DT,displayDate:U2w.displayDate,Date:U2w.Date,Open:U2w.Open,Close:U2w.Close,High:Math.max(U2w.Open,U2w.Close),Low:Math.min(U2w.Open,U2w.Close),Volume:U2w.Volume,iqPrevClose:U2w.iqPrevClose};for(var f3w in U2w){if(!e2w[f3w] && e2w[f3w] !== 0){e2w[f3w]=U2w[f3w];}}if(K2w.length){e2w.kagiPrevOpen=K2w[K2w.length - 1].Open;}else {e2w.kagiPrevOpen=e2w.Open;}if(e2w.Close > e2w.kagiPrevOpen && e2w.kagiPrevOpen > e2w.Open){e2w.kagiTrend=1;}else if(e2w.Close < e2w.kagiPrevOpen && e2w.kagiPrevOpen < e2w.Open){e2w.kagiTrend=- +"1";}if(V3w < e2w.DT){K2w.push(e2w);}U2w=r2w;W2w.currentQuote={Close:r2w.Close};}return K2w;};B4Q.calculateLineBreak=function(Y3w,a3w,z3w,J3w){var c3w,b3w,A15,z35,r35,b35,T3w,s3w,L3w,n3w,Q3w,C3w,P3w,N3w,A3w,y3w,i3w,v3w;if(!a3w.length){return a3w;}if(!J3w){J3w=[];}c3w=Y3w.layout;b3w=Y3w.chart;b3w.defaultChartStyleConfig.priceLines=3;z3w=parseInt(z3w,10);if(isNaN(z3w) || z3w <= 0){z3w=b3w.defaultChartStyleConfig.priceLines;if(c3w.priceLines !== null){A15="l";A15+="a";A15+="y";A15+="out";c3w.priceLines=null;Y3w.changeOccurred(A15);}}else if(z3w > 10){z35=2060654644;r35=-573287125;b35=2;for(var H35=1;o2ss.U35(H35.toString(),H35.toString().length,"34322" * 1) !== z35;H35++){c3w.priceLines=z3w=10;b35+=+"2";}if(o2ss.U35(b35.toString(),b35.toString().length,+"82119") !== r35){c3w.priceLines=z3w=12;}}o2ss.p2O();T3w=J3w.slice(-z3w);s3w=T3w.length;L3w=0;a:for(var S3w=0;S3w < a3w.length;S3w++){n3w=a3w[S3w];if(!n3w)continue;L3w+=n3w.Volume;Q3w=T3w[T3w.length - 1];if(!Q3w){Q3w={Open:n3w.Open,Close:n3w.Open,High:n3w.Open,Low:n3w.Open};}C3w=Q3w.Close;P3w=Q3w.High;N3w=Q3w.Low;A3w=Q3w.Open;P3w=P3w || P3w === 0?P3w:C3w;N3w=N3w || N3w === 0?N3w:C3w;A3w=A3w || A3w === 0?A3w:C3w;y3w={DT:n3w.DT,displayDate:n3w.displayDate,Date:n3w.Date,Close:n3w.Close,Volume:L3w,iqPrevClose:C3w};b3w.currentQuote={Close:n3w.Close};if(n3w.Close > C3w && Q3w.Close > A3w){;}else if(n3w.Close < C3w && Q3w.Close < A3w){;}else if(n3w.Close > P3w){for(i3w=2;i3w <= z3w;i3w++){v3w=T3w[T3w.length - i3w];if(v3w && n3w.Close <= v3w.High){continue a;}}}else if(n3w.Close < N3w){for(i3w=2;i3w <= z3w;i3w++){v3w=T3w[T3w.length - i3w];if(v3w && n3w.Close >= v3w.Low){continue a;}}}else continue;if(n3w.Close < Q3w.Close){y3w.Open=Math.min(A3w,C3w);}else {y3w.Open=Math.max(A3w,C3w);}y3w.Low=Math.min(y3w.Open,y3w.Close);y3w.High=Math.max(y3w.Open,y3w.Close);for(var t3w in n3w){if(!y3w[t3w] && y3w[t3w] !== 0){y3w[t3w]=n3w[t3w];}}T3w.push(y3w);L3w=0;}return T3w.slice(s3w);};o2ss.U2O();B4Q.calculateRenkoBars=function(I3w,Z3w,o3w,q3w){var R3O=o2ss;var L15,j3w,R3w,w3w,r3w,l3w,p3w,B3w,O3w,F3w,d3w,g3w,m3w,E3w,U3w,e3w;L15="Lo";L15+="w";R3O.U2O();if(!Z3w.length){return [];}if(!q3w){q3w=[];}j3w=I3w.layout;R3w=I3w.chart;w3w=R3w.state.aggregation;if(!w3w){w3w=R3w.state.aggregation={};}r3w=Math.min(300,Z3w.length);if(!w3w.minMax){w3w.minMax=I3w.determineMinMax(Z3w.slice(Z3w.length - r3w),["Close","High",L15]);}l3w=w3w.minMax[1] - w3w.minMax["0" - 0];p3w=I3w.panels[R3w.name].height;if(!p3w){return [];}R3w.defaultChartStyleConfig.renko=Math.floor(10000 * l3w / (p3w / +"30")) / 10000;if(o3w === null || isNaN(o3w) || o3w <= 0){o3w=R3w.defaultChartStyleConfig.renko;if(j3w.renko !== null){j3w.renko=null;I3w.changeOccurred("layout");}}else {R3O.j0H(4);o3w=Math.max(o3w,R3O.Z0H(p3w,l3w));if(j3w.renko !== o3w){j3w.renko=o3w;I3w.changeOccurred("layout");}}B3w=[];O3w=null;F3w=null;d3w=null;function D3w(M3w,H3w){var k3w;R3O.p2O();M3w=Number(M3w.toFixed(8));H3w=Number(H3w.toFixed(8));k3w={DT:d3w.DT,displayDate:d3w.displayDate,Date:d3w.Date,Open:M3w,Close:H3w,High:Math.max(M3w,H3w),Low:Math.min(M3w,H3w),Volume:0,iqPrevClose:M3w != H3w?M3w:null};for(var K3w in d3w){if(!k3w[K3w] && k3w[K3w] !== 0){k3w[K3w]=d3w[K3w];}}B3w.push(k3w);}if(q3w.length){g3w=q3w[q3w.length - 1];O3w=g3w.Low - o3w;F3w=g3w.High + o3w;}for(var X3w=0;X3w < Z3w.length;X3w++){m3w=Z3w[X3w];if(!m3w)continue;if(!O3w && !F3w){E3w=m3w.Open || m3w.Open === 0?m3w.Open:m3w.Close;U3w=Math.floor(E3w / o3w) * o3w;e3w=isNaN(U3w)?E3w:U3w;R3O.j0H(2);O3w=R3O.a0H(o3w,e3w);R3O.j0H(0);F3w=R3O.Z0H(o3w,e3w);}while(!0){if(!d3w){d3w=m3w;}if(m3w.Close <= O3w){R3O.j0H(0);D3w(R3O.a0H(o3w,O3w),O3w);R3O.j0H(15);F3w=R3O.Z0H("2",o3w,O3w,0);O3w-=o3w;d3w=null;}else if(m3w.Close >= F3w){R3O.j0H(2);D3w(R3O.a0H(o3w,F3w),F3w);R3O.H0H(16);O3w=R3O.a0H(o3w,2,F3w);F3w+=o3w;d3w=null;}else break;}R3w.currentQuote=m3w;}if(O3w < Z3w[Z3w.length - +"1"].Close && O3w + o3w > Z3w[Z3w.length - 1].Close){R3O.H0H(0);D3w(R3O.Z0H(o3w,O3w),Z3w[Z3w.length - 1].Close);}else if(F3w > Z3w[Z3w.length - ("1" << 43386432)].Close && F3w - o3w < Z3w[Z3w.length - ("1" << 628663232)].Close){R3O.j0H(2);D3w(R3O.a0H(o3w,F3w),Z3w[Z3w.length - 1].Close);}return B3w;};B4Q.calculateRangeBars=function(P8w,V8w,f8w,t8w){var m3O=o2ss;var U15,J15,v8w,N8w,C8w,J8w,b8w,a8w,z15,b75,q75,H75,e75,D75,j75,L8w,W3w,n8w,y8w,c8w,z8w,u8w,i8w,T8w,h8w,x8w,G8w,Y8w,o8w;U15="L";function A8w(m8w,d8w){m3O.U2O();while(+"1"){if(!z8w){z8w=m8w;}if(W3w < d8w){W3w=Math.min(d8w,n8w);m3O.H0H(2);y8w=Math.max(y8w,m3O.Z0H(f8w,W3w));if(d8w < n8w)break;}else if(W3w >= d8w){W3w=Math.max(d8w,y8w);m3O.H0H(0);n8w=Math.min(n8w,m3O.Z0H(f8w,W3w));if(d8w > y8w)break;}if(typeof W3w == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}s8w(W3w);z8w=null;S8w();}}U15+="o";U15+="w";J15="Cl";J15+="os";J15+="e";if(!V8w.length){return V8w;}if(!t8w){t8w=[];}v8w=P8w.layout;N8w=P8w.chart;function s8w(F8w){var Z8w;m3O.U2O();Z8w={DT:z8w.DT,displayDate:z8w.displayDate,Date:z8w.Date,Open:Number(c8w.toFixed(8)),Close:Number(F8w.toFixed("8" * 1)),High:Number(n8w.toFixed(8)),Low:Number(y8w.toFixed(8)),Volume:"0" << 1912319808};Z8w.iqPrevClose=Z8w.Open;for(var O8w in z8w){if(!Z8w[O8w] && Z8w[O8w] !== ("0" ^ 0)){Z8w[O8w]=z8w[O8w];}}L8w.push(Z8w);}C8w=N8w.state.aggregation;if(!C8w){C8w=N8w.state.aggregation={};}J8w=Math.min(300,V8w.length);if(!C8w.minMax){C8w.minMax=P8w.determineMinMax(V8w.slice(V8w.length - J8w),[J15,"High",U15]);}m3O.p2O();b8w=C8w.minMax[1] - C8w.minMax[0];a8w=P8w.panels[N8w.name].height;function S8w(){m3O.H0H(0);n8w=m3O.a0H(f8w,W3w);m3O.H0H(2);y8w=m3O.a0H(f8w,W3w);c8w=W3w;}if(!a8w){return [];}N8w.defaultChartStyleConfig.range=Math.floor(10000 * b8w / (a8w / 30)) / 10000;if(f8w === null || isNaN(f8w) || f8w < 0){f8w=N8w.defaultChartStyleConfig.range;if(v8w.range !== null){z15="la";z15+="yout";b75=-45224526;q75=-1184809279;H75=2;for(var h75=1;m3O.U35(h75.toString(),h75.toString().length,85766) !== b75;h75++){v8w.range=null;H75+=2;}if(m3O.J35(H75.toString(),H75.toString().length,62092) !== q75){v8w.range=1;}P8w.changeOccurred(z15);}}else {m3O.j0H(4);f8w=Math.max(f8w,m3O.Z0H(a8w,b8w));if(v8w.range !== f8w){v8w.range=f8w;m3O.j0H(17);e75=m3O.a0H("255895695",813231840);D75=-1958773753;j75=2;for(var I75=1;m3O.U35(I75.toString(),I75.toString().length,82578) !== e75;I75++){P8w.changeOccurred("");j75+=2;}if(m3O.U35(j75.toString(),j75.toString().length,1820) !== D75){P8w.changeOccurred("layout");}}}L8w=[];W3w=null;n8w=null;y8w=null;c8w=null;z8w=null;for(var Q8w="0" | 0;Q8w < V8w.length;Q8w++){u8w=V8w[Q8w];if(!u8w)continue;m3O.j0H(2);i8w=V8w[m3O.a0H(1,Q8w)];if(!Q8w){if(!i8w){i8w=t8w[t8w.length - +"1"];}if(i8w){W3w=i8w.Close;if(W3w || W3w === 0){S8w();}}}if(!i8w)continue;T8w=u8w.Close;h8w=u8w.Open;x8w=u8w.High;G8w=u8w.Low;if(!T8w && T8w !== 0)continue;h8w=h8w || h8w === +"0"?h8w:T8w;x8w=x8w || x8w === 0?x8w:T8w;G8w=G8w || G8w === 0?G8w:T8w;if(!W3w && W3w !== 0){Y8w=Math.floor(h8w / f8w) * f8w;W3w=isNaN(Y8w)?h8w:Y8w;S8w();A8w(i8w,h8w);}if(Q8w){A8w(u8w,h8w);}if(x8w - h8w < h8w - G8w){if(x8w){A8w(u8w,x8w);}if(G8w){A8w(u8w,G8w);}}else {if(G8w){A8w(u8w,G8w);}if(x8w){A8w(u8w,x8w);}}A8w(u8w,T8w);if(Q8w == V8w.length - 1 && T8w != c8w){o8w=n8w;m3O.j0H(0);n8w=m3O.a0H(f8w,y8w);m3O.j0H(2);y8w=m3O.a0H(f8w,o8w);s8w(T8w);}}return L8w;};B4Q.calculatePointFigure=function(K8w,W8w,u9w,h9w){var p3O=o2ss;var X8w,g8w,x9w,R8w,P95,l95,M95,p8w,E8w,r15,b15,H8w,k8w,r8w,D8w,j8w,l8w,w8w,B8w,M8w,I8w,q8w,U8w,e8w;function f9w(Q9w,C9w,A9w,i9w,P9w){Q9w.High=Math.max(C9w,Q9w.High);Q9w.Low=Math.min(A9w,Q9w.Low);Q9w.Close=i9w;Q9w.Volume+=P9w;}if(!W8w.length){return W8w;}if(!h9w){h9w=[];}X8w=K8w.layout;g8w=K8w.chart;x9w=g8w.state.aggregation;function V9w(T9w,z9w){for(var y9w in T9w){if(!z9w[y9w] && z9w[y9w] !== 0){z9w[y9w]=T9w[y9w];}}return z9w;}if(!x9w){x9w=g8w.state.aggregation={};}g8w.defaultChartStyleConfig.box=1;g8w.defaultChartStyleConfig.reversal=3;if(!u9w){u9w={};}R8w=u9w.box;if(!R8w){if(X8w.pandf){if(X8w.pandf.box !== null){X8w.pandf.box=null;K8w.changeOccurred("layout");}}P95=1573030062;l95=-847440471;M95=2;for(var D95=1;p3O.J35(D95.toString(),D95.toString().length,"99991" ^ 0) !== P95;D95++){R8w=g8w.defaultChartStyleConfig.box;p8w=W8w[W8w.length % 4].Close;M95+=+"2";}if(p3O.U35(M95.toString(),M95.toString().length,51330) !== l95){R8w=g8w.defaultChartStyleConfig.box;p8w=W8w[W8w.length + 9].Close;}R8w=g8w.defaultChartStyleConfig.box;p8w=W8w[W8w.length - 1].Close;if(p8w){if(p8w < +"0.25"){R8w=0.0625;}else if(p8w < 1){R8w=0.125;}else if(p8w < 5){R8w=+"0.25";}else if(p8w < 20){R8w=0.5;}else if(p8w < 100){R8w=1;}else if(p8w < "200" * 1){p3O.j0H(12);R8w=p3O.Z0H("2",2);}else if(p8w < 500){R8w=4;}else if(p8w < 1000){R8w=5;}else if(p8w < 25000){R8w=50;}else {R8w=500;}}if(!B4Q.ChartEngine.isDailyInterval(X8w.interval)){R8w/=10;}if(B4Q.Market.Symbology.isForexSymbol(g8w.symbol)){if(p8w){if(p8w < 1){R8w=0.001;}else if(p8w < 2){R8w=0.002;}else if(p8w < 50){R8w=0.02;}else if(p8w < 200){R8w=+"0.2";}}if(B4Q.ChartEngine.isDailyInterval(X8w.interval)){R8w*=10;}}g8w.defaultChartStyleConfig.box=R8w;}R8w=parseFloat(R8w);if(isNaN(R8w) || R8w <= 0){if(X8w.pandf){if(X8w.pandf.box !== null){X8w.pandf.box=null;K8w.changeOccurred("layout");}}g8w.defaultChartStyleConfig.box=R8w=+"1";}E8w=Math.ceil(parseFloat(u9w.reversal));if(E8w > 0 && E8w > u9w.reversal){r15="l";r15+="ayout";X8w.pandf.reversal=E8w;K8w.changeOccurred(r15);}else if(isNaN(E8w) || E8w <= 0){if(X8w.pandf){if(X8w.pandf.reversal !== null){b15="la";b15+="yout";X8w.pandf.reversal=null;K8w.changeOccurred(b15);}}E8w=g8w.defaultChartStyleConfig.reversal;}function n9w(N9w,v9w,t9w,a9w,c9w,b9w,L9w,S9w,Y9w){p3O.U2O();return {DT:N9w.DT,Date:N9w.Date,pfOpen:S9w,pfClose:Y9w,Open:v9w,Close:c9w,High:t9w,Low:a9w,Volume:b9w,iqPrevClose:L9w};}x9w.box=R8w;E8w*=R8w;H8w=0.00000001;k8w=(R8w.toString() + ((4410,923.06) != (382.05,6160)?(507.51,8430) == (32.15,1410)?(28,"x"):".":("v",0x2405))).split((3938,631.23) !== (580,6240)?".":2.38e+3)[1].length;r8w=[];p3O.j0H(2);D8w=p3O.a0H(0,"0");for(var G9w=0;G9w < W8w.length;G9w++){l8w=W8w[G9w];if(!l8w)continue;D8w+=l8w.Volume;B8w=l8w.Close;M8w=l8w.Open;I8w=l8w.High;q8w=l8w.Low;M8w=M8w || M8w === 0?M8w:B8w;I8w=I8w || I8w === 0?I8w:B8w;q8w=q8w || q8w === 0?q8w:B8w;if(!r8w.length && !h9w.length){j8w=V9w(l8w,n9w(l8w,M8w,I8w,q8w,B8w,D8w,I8w + R8w,Number((Math.ceil(q8w / R8w - H8w) * R8w).toFixed(k8w)),Number((Math.floor(I8w / R8w + H8w) * R8w).toFixed(k8w))));j8w.pfTrend=(3480,220) > +"8830"?0x10f1:"X";if(j8w.pfOpen == j8w.pfClose){j8w.pfStepBack=(918.94,5210) >= 7586?(354.42,0x1ea6):(1020,510) === 5571?(+"0x1c8",0x158f):"-";}r8w.push(j8w);D8w=0;continue;}w8w=r8w[r8w.length - 1];if(!w8w){w8w=B4Q.clone(h9w[h9w.length - 1]);}if(w8w.pfTrend == ((+"823","4993" - 0) !== (5670,4450)?751.75 <= 7033?"O":!"":(4.11e+3,"j"))){if(q8w <= w8w.pfClose - R8w){w8w.pfClose=Number((Math.ceil(q8w / R8w - H8w) * R8w).toFixed(k8w));if(w8w.pfStepBack == "O"){w8w.pfStepBack=null;}f9w(w8w,I8w,q8w,B8w,D8w);}else if(I8w >= w8w.pfClose + E8w){U8w=w8w.pfClose + R8w;e8w=Number((Math.floor(I8w / R8w + H8w) * R8w).toFixed(k8w));j8w=n9w(l8w,M8w,I8w,q8w,B8w,D8w,w8w.pfClose,U8w,e8w);if(U8w == e8w){j8w.pfStepBack=(3305,7462) != 1390?"X":(!{},"j");}if(w8w.pfStepBack == (("576" ^ 0) <= 649?"O":! !0)){w8w.pfOpen=U8w;w8w.pfClose=e8w;w8w.pfTrend="X";f9w(w8w,I8w,q8w,B8w,D8w);}else {j8w=V9w(l8w,j8w);j8w.pfTrend=("2350" ^ 0,716) == (484.31,2690)?9350 == 9420?(830.05,0x10fb):(+"8679",4706) >= (726.71,231.43)?565:("d","G"):"X";r8w.push(j8w);}}else {f9w(w8w,I8w,q8w,B8w,D8w);}p3O.j0H(14);D8w=p3O.a0H(2147483647,"0");}else if(w8w.pfTrend == "X"){if(I8w >= w8w.pfClose + R8w){w8w.pfClose=Number((Math.floor(I8w / R8w + H8w) * R8w).toFixed(k8w));if(w8w.pfStepBack == "X" || w8w.pfStepBack == (3350 <= (4498,5630)?(9020,493.28) < (1731,5691)?(8750,6690) >= 1553?"-":4.39e+3:(9.02e+3,"i"):"A")){w8w.pfStepBack=null;}f9w(w8w,I8w,q8w,B8w,D8w);}else if(q8w <= w8w.pfClose - E8w){U8w=w8w.pfClose - R8w;e8w=Number((Math.ceil(q8w / R8w - H8w) * R8w).toFixed(k8w));j8w=n9w(l8w,M8w,I8w,q8w,B8w,D8w,w8w.pfClose,U8w,e8w);if(U8w == e8w){j8w.pfStepBack="O";}if(w8w.pfStepBack == (1874 > "7643" * 1?0xc58:"X") || w8w.pfStepBack == "-"){w8w.pfOpen=U8w;w8w.pfClose=e8w;w8w.pfTrend="O";f9w(w8w,I8w,q8w,B8w,D8w);if(U8w != e8w && w8w.pfStepBack == "-"){w8w.pfStepBack=null;}}else {j8w=V9w(l8w,j8w);j8w.pfTrend=(3399,1050) !== (7020,232.18)?7016 !== (69,4361)?120.46 > 4495?4.00e+3:"O":6.54e+3:"J";r8w.push(j8w);}}else {f9w(w8w,I8w,q8w,B8w,D8w);}D8w=+"0";}}return r8w;};};L0Q=o9w=>{var F3O=o2ss;var q15,J9w,s9w,z3J,U3J,J3J,x3J,n3J,u3J,s3J,B2J,f2J,S2J,Y2J,w2J,T2J,H2J,q2J,b2J,Q45,a45,f15,d15,e15,M15,l15,P15;q15="und";q15+="efi";q15+="ned";J9w=typeof _CIQ !== "undefined"?_CIQ:o9w.CIQ;F3O.p2O();s9w=typeof _timezoneJS !== q15?_timezoneJS:o9w.timezoneJS;if(!J9w.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {z3J="cq-wave-pa";z3J+="rameters";U3J="br[cq-w";U3J+="ave-para";U3J+="meters]";J3J="l";J3J+="in";J3J+="eWid";J3J+="th";x3J="l";x3J+="ineW";x3J+="i";x3J+="dth";n3J="c";n3J+="olo";n3J+="r";u3J="fo";u3J+="nt";s3J="p";s3J+="atte";s3J+="rn";B2J="f";B2J+="illCol";B2J+="o";B2J+="r";f2J="cq-cvp-controll";f2J+="er[cq-";f2J+="cvp-he";f2J+="ader=\"2\"]";S2J="lineWidth";S2J+="3";Y2J="lineWidth";Y2J+="2";w2J="lin";w2J+="e";w2J+="Wi";w2J+="dth1";T2J="p";T2J+="at";T2J+="tern";H2J="patt";H2J+="e";H2J+="rn";q2J="l";q2J+="ine";q2J+="Widt";q2J+="h";b2J="fillC";b2J+="olor";Q45="par";Q45+="ame";Q45+="t";Q45+="ers";a45="p";a45+="attern";f15="li";f15+="neWidth";d15="co";d15+="lor";e15="pa";e15+="tte";e15+="rn";M15="l";M15+="ineWid";M15+="th";l15="fillCol";l15+="or";P15="co";P15+="lo";P15+="r";J9w.Drawing.ray=function(){var H15;H15="r";H15+="a";H15+="y";F3O.p2O();this.name=H15;};J9w.inheritsFrom(J9w.Drawing.ray,J9w.Drawing.line);J9w.Drawing.ray.prototype.calculateOuterSet=function(F9w){var Z9w,O9w;if(this.p0[0] == this.p1["0" << 1289766656] || this.p0[1] == this.p1[1] || J9w.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}Z9w={x0:this.p0[+"0"],y0:this.p0[+"1"],x1:this.p1[0],y1:this.p1[1]};O9w=Z9w.x1 + 1000;if(Z9w.x0 > Z9w.x1){O9w=Z9w.x1 - 1000;}this.v0B=this.v0;this.v1B=J9w.yIntersection(Z9w,O9w);F3O.U2O();this.d0B=this.d0;this.d1B=this.stx.dateFromTick(O9w,F9w.chart);};J9w.Drawing.ray.prototype.adjust=function(){var d9w;d9w=this.stx.panels[this.panelName];if(!d9w){return;}F3O.p2O();this.setPoint(0,this.d0,this.v0,d9w.chart);this.setPoint(1,this.d1,this.v1,d9w.chart);if(J9w.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,d9w.chart);}};J9w.Drawing.continuous=function(){var R15;R15="cont";R15+="inuou";R15+="s";this.name=R15;this.dragToDraw=![];this.maxSegments=null;};J9w.inheritsFrom(J9w.Drawing.continuous,J9w.Drawing.segment);J9w.Drawing.continuous.prototype.click=function(p9w,R9w,w9w){var m9w,q9w,I9w,j9w;m9w=this.stx.panels[this.panelName];if(!m9w){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,R9w,w9w,m9w.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(R9w,w9w)){this.stx.undo();return !0;}this.setPoint(1,R9w,w9w,m9w.chart);q9w=J9w.Drawing.segment;I9w=new q9w();j9w=this.serialize(this.stx);I9w.reconstruct(this.stx,j9w);this.stx.addDrawing(I9w);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}this.setPoint(0,R9w,w9w,m9w.chart);return ! !"";};J9w.Drawing.ellipse=function(){F3O.p2O();this.name="ellipse";};J9w.inheritsFrom(J9w.Drawing.ellipse,J9w.Drawing.BaseTwoPoint);J9w.Drawing.ellipse.prototype.render=function(D9w){var h15,B9w,f7w,e9w,r9w,M9w,g9w,H9w,k9w,K9w,W9w,E9w,X9w,l9w,U9w,Z35,N35,E35,u7w;h15="a";h15+="u";h15+="t";h15+="o";B9w=this.stx.panels[this.panelName];if(!B9w){return;}f7w=this.stx.pixelFromTick(this.p0[+"0"],B9w.chart);e9w=this.stx.pixelFromTick(this.p1["0" * 1],B9w.chart);r9w=this.stx.pixelFromValueAdjusted(B9w,this.p0[+"0"],this.p0[1]);M9w=this.stx.pixelFromValueAdjusted(B9w,this.p1["0" * 1],this.p1[1]);F3O.H0H(18);g9w=F3O.Z0H(e9w,f7w,f7w);H9w=e9w;k9w=r9w;K9w=M9w;F3O.j0H(18);W9w=F3O.Z0H(M9w,r9w,r9w);F3O.j0H(19);E9w=F3O.a0H(6,W9w,K9w);X9w=this.lineWidth;if(!X9w){F3O.j0H(2);X9w=F3O.Z0H(0,"1.1");}l9w=this.color;if(l9w == h15 || J9w.isTransparent(l9w)){l9w=this.stx.defaultColor;}if(this.highlighted){l9w=this.stx.getCanvasColor("stx_highlight_vector");if(X9w == "0.1" * 1){X9w=1.1;}}U9w=this.fillColor;D9w.beginPath();D9w.moveTo(g9w,k9w);F3O.j0H(0);D9w.bezierCurveTo(g9w,F3O.Z0H(E9w,K9w),H9w,F3O.a0H(E9w,K9w),H9w,k9w);F3O.j0H(2);D9w.bezierCurveTo(H9w,F3O.a0H(E9w,W9w),g9w,F3O.a0H(E9w,W9w),g9w,k9w);if(U9w && !J9w.isTransparent(U9w) && U9w != "auto"){D9w.fillStyle=U9w;F3O.j0H(20);D9w.globalAlpha=F3O.a0H("0.2",1);D9w.fill();Z35=32816991;N35=-782725125;E35=2;for(var s85="1" * 1;F3O.U35(s85.toString(),s85.toString().length,+"49121") !== Z35;s85++){D9w.globalAlpha=0;E35+=2;}if(F3O.J35(E35.toString(),E35.toString().length,66235) !== N35){D9w.globalAlpha=1;}}if(l9w && this.pattern != "none"){D9w.strokeStyle=l9w;D9w.lineWidth=X9w;if(D9w.setLineDash){D9w.setLineDash(J9w.borderPatternToArray(X9w,this.pattern));D9w.lineDashOffset=0;;}D9w.stroke();}D9w.closePath();if(this.highlighted){u7w=this.highlighted == "p1"?!0:!{};this.littleCircle(D9w,e9w,M9w,u7w);}};J9w.Drawing.ellipse.prototype.intersected=function(y7w,z7w,h7w){var m15,i15,x7w,G7w,V7w,n7w;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1["1" * 1],h7w)){m15="p";m15+="1";i15="p";i15+="1";this.highlighted=i15;return {action:"drag",point:m15};}x7w=this.p0[0] - (this.p1[0] - this.p0[0]);G7w=this.p1[0];F3O.j0H(5);V7w=this.p1[F3O.a0H(0,"1")];n7w=this.p0[1] - (this.p1[1] - this.p0[1]);if(h7w.x0 > Math.max(x7w,G7w) || h7w.x1 < Math.min(x7w,G7w)){return ! !"";}if(h7w.y1 > Math.max(n7w,V7w) || h7w.y0 < Math.min(n7w,V7w)){return !{};}this.highlighted=!0;return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:y7w,value:z7w};};J9w.Drawing.ellipse.prototype.configs=[P15,"fillColor","lineWidth","pattern"];J9w.Drawing.ellipse.prototype.reconstruct=function(Q7w,T7w){this.stx=Q7w;this.color=T7w.col;this.fillColor=T7w.fc;this.panelName=T7w.pnl;this.pattern=T7w.ptrn;this.lineWidth=T7w.lw;this.d0=T7w.d0;this.d1=T7w.d1;this.tzo0=T7w.tzo0;this.tzo1=T7w.tzo1;this.v0=T7w.v0;this.v1=T7w.v1;this.adjust();};J9w.Drawing.ellipse.prototype.serialize=function(){F3O.p2O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};J9w.Drawing.channel=function(){this.name="channel";this.dragToDraw=![];this.p2=null;};J9w.inheritsFrom(J9w.Drawing.channel,J9w.Drawing.segment);J9w.Drawing.channel.prototype.configs=["color",l15,M15,e15];J9w.Drawing.channel.prototype.move=function(P7w,C7w,A7w){var i7w;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[C7w,A7w];}else {i7w=A7w - (this.p1[+"1"] - this.p0[1]) / (this.p1[0] - this.p0["0" & 2147483647]) * (C7w - this.p1[0]);this.p2=[this.p1[0],i7w];}this.render(P7w);};J9w.Drawing.channel.prototype.click=function(a7w,v7w,t7w){var N7w;N7w=this.stx.panels[this.panelName];if(!N7w){return;}this.copyConfig();if(!this.penDown){this.setPoint(+"0",v7w,t7w,N7w.chart);this.penDown=! ![];return !1;}if(this.accidentalClick(v7w,t7w)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2["1" - 0],N7w.chart);this.penDown=!{};return ! !{};}this.setPoint(1,v7w,t7w,N7w.chart);if(this.p0["0" * 1] == this.p1[0]){this.p1=null;return ![];}this.p2=[this.p1[0],this.p1[1]];return ! !"";};J9w.Drawing.channel.prototype.boxIntersection=function(Y7w,o7w,L7w){var c7w,b7w,S7w,J7w,s7w;c7w=this.p0;b7w=this.p1;S7w=this.p2;if(!c7w || !b7w || !S7w){return !{};}if(L7w.x0 > Math.max(c7w["0" * 1],b7w["0" * 1]) || L7w.x1 < Math.min(c7w[0],b7w[+"0"])){return !{};}J7w=(b7w[0] - c7w[0]) * ((S7w[+"1"] < c7w[+"1"]?L7w.y1:L7w.y0) - c7w["1" & 2147483647]) - (b7w[1] - c7w[+"1"]) * (Y7w - c7w[0]);s7w=(S7w["0" << 727315776] - c7w[0]) * ((S7w[1] > c7w[1]?L7w.y1:L7w.y0) - (c7w[+"1"] + S7w[1] - b7w[1])) - (b7w[1] - c7w[1]) * (Y7w - c7w[0]);F3O.H0H(21);return F3O.a0H(0,s7w,J7w);};J9w.Drawing.channel.prototype.intersected=function(F7w,d7w,m7w){var O7w,D15,j15;F3O.U2O();if(!this.p0 || !this.p1 || !this.p2){return null;}O7w={0:this.p0,1:this.p1,2:this.p2};for(var Z7w in O7w){if(this.pointIntersection(O7w[Z7w][0],O7w[Z7w][1],m7w)){D15="d";D15+="r";D15+="a";D15+="g";F3O.j0H(0);this.highlighted=F3O.Z0H(Z7w,(1262,174.27) != (734.58,"538" >> 1209969152)?"p":5836 < (4548,863)?(![],0x8c3):4823 != ("2343" & 2147483647)?!1:![]);return {action:D15,point:"p" + Z7w};}}if(this.boxIntersection(F7w,d7w,m7w)){j15="mov";j15+="e";this.highlighted=! !{};return {action:j15,p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),p2:J9w.clone(this.p2),tick:F7w,value:d7w};}return null;};J9w.Drawing.channel.prototype.render=function(R7w){var W15,w7w,j7w,I7w,p7w,D7w,q7w,g7w,B7w,X7w,l7w,E7w,U7w,e7w;W15="a";W15+="u";W15+="t";W15+="o";w7w=this.stx.panels[this.panelName];if(!w7w){return;}j7w=this.stx.pixelFromTick(this.p0[0],w7w.chart);I7w=this.stx.pixelFromTick(this.p1[0],w7w.chart);p7w=this.stx.pixelFromValueAdjusted(w7w,this.p0[0],this.p0[1]);D7w=this.stx.pixelFromValueAdjusted(w7w,this.p1[0],this.p1[1]);q7w=null;if(this.p2){q7w=this.stx.pixelFromValueAdjusted(w7w,this.p2[0],this.p2[1]);}g7w=this.lineWidth;B7w=this.getLineColor();X7w=this.fillColor;if(this.p2 && X7w && !J9w.isTransparent(X7w) && X7w != W15){R7w.beginPath();R7w.moveTo(j7w,p7w);R7w.lineTo(I7w,D7w);R7w.lineTo(I7w,q7w);F3O.H0H(22);R7w.lineTo(j7w,F3O.Z0H(q7w,p7w,D7w));R7w.closePath();R7w.globalAlpha=+"0.2";R7w.fillStyle=X7w;R7w.fill();R7w.globalAlpha=+"1";}l7w={pattern:this.pattern,lineWidth:g7w};if((this.penDown || this.highlighted) && this.pattern == "none"){l7w.pattern="dotted";}this.stx.plotLine(j7w,I7w,p7w,D7w,B7w,"segment",R7w,w7w,l7w);if(this.p2){F3O.j0H(22);this.stx.plotLine(j7w,I7w,F3O.a0H(q7w,p7w,D7w),q7w,B7w,"segment",R7w,w7w,l7w);}if(this.highlighted){E7w=this.highlighted == "p0"?! !{}:! !"";U7w=this.highlighted == "p1"?! !{}:! !0;e7w=this.highlighted == "p2"?! ![]:!"1";this.littleCircle(R7w,j7w,p7w,E7w);this.littleCircle(R7w,I7w,D7w,U7w);this.littleCircle(R7w,I7w,q7w,e7w);}};J9w.Drawing.channel.prototype.reposition=function(K7w,r7w,W7w,f6w){var I15,M7w,H7w,k7w;I15="d";I15+="r";F3O.U2O();I15+="ag";if(!r7w){return;}M7w=this.stx.panels[this.panelName];H7w=r7w.tick - W7w;k7w=r7w.value - f6w;if(r7w.action == "move"){this.setPoint(0,r7w.p0[0] - H7w,r7w.p0[1] - k7w,M7w.chart);this.setPoint(1,r7w.p1[0] - H7w,r7w.p1["1" - 0] - k7w,M7w.chart);this.setPoint(2,r7w.p2[0] - H7w,r7w.p2[1] - k7w,M7w.chart);this.render(K7w);}else if(r7w.action == I15){this[r7w.point]=[W7w,f6w];this.setPoint(0,this.p0["0" ^ 0],this.p0[1],M7w.chart);this.setPoint(1,this.p1[0],this.p1["1" >> 1461845824],M7w.chart);this.setPoint(2,this.p2[0],this.p2[+"1"],M7w.chart);this.render(K7w);}};J9w.Drawing.channel.prototype.adjust=function(){var u6w;F3O.U2O();u6w=this.stx.panels[this.panelName];if(!u6w){return;}this.setPoint(+"0",this.d0,this.v0,u6w.chart);this.setPoint(1,this.d1,this.v1,u6w.chart);this.setPoint(2,this.d1,this.v2,u6w.chart);;};J9w.Drawing.channel.prototype.reconstruct=function(x6w,h6w){this.stx=x6w;this.color=h6w.col;this.fillColor=h6w.fc;this.panelName=h6w.pnl;this.pattern=h6w.ptrn;this.lineWidth=h6w.lw;this.d0=h6w.d0;this.d1=h6w.d1;this.tzo0=h6w.tzo0;this.tzo1=h6w.tzo1;this.v0=h6w.v0;this.v1=h6w.v1;this.v2=h6w.v2;F3O.U2O();this.adjust();};J9w.Drawing.channel.prototype.serialize=function(){F3O.U2O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};J9w.Drawing.pitchfork=function(){var y15,p05,C05,o05;y15="p";y15+="i";y15+="tchf";y15+="ork";this.name=y15;p05=1007568722;C05=863014699;o05=2;F3O.p2O();for(var T05=1;F3O.U35(T05.toString(),T05.toString().length,42391) !== p05;T05++){this.dragToDraw=! !{};o05+=2;}if(F3O.U35(o05.toString(),o05.toString().length,9327) !== C05){this.dragToDraw=!{};}this.p2=null;};J9w.inheritsFrom(J9w.Drawing.pitchfork,J9w.Drawing.channel);J9w.Drawing.pitchfork.prototype.configs=[d15,"lineWidth","pattern"];J9w.Drawing.pitchfork.prototype.move=function(n6w,G6w,V6w){F3O.p2O();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[G6w,V6w];}else {this.p2=[G6w,V6w];}this.render(n6w);};J9w.Drawing.pitchfork.prototype.intersected=function(C6w,A6w,i6w){var T6w,Q6w,v15,V15;F3O.p2O();if(!this.p0 || !this.p1 || !this.p2){return null;}T6w={0:this.p0,1:this.p1,2:this.p2};for(var z6w in T6w){if(this.pointIntersection(T6w[z6w][0],T6w[z6w][1],i6w)){F3O.H0H(0);this.highlighted=F3O.Z0H(z6w,1824 < (9603,7014)?(143.08,2325) < (831.67,4270)?"p":("6331" ^ 0) >= +"776"?389:("519.24" * 1,"g"):(+"0x18b",! !{}));return {action:"drag",point:((4680,7844) <= (6510,9770)?120 != 6110?"p":8.17e+3:(971.96,0x21c7)) + z6w};}}Q6w=this.rays;for(var y6w=0;y6w < Q6w.length;y6w++){v15="segm";v15+="ent";if(this.lineIntersection(C6w,A6w,i6w,y6w?"ray":v15,Q6w[y6w][0],Q6w[y6w][1],!0)){V15="m";V15+="o";V15+="v";V15+="e";this.highlighted=!0;return {action:V15,p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),p2:J9w.clone(this.p2),tick:C6w,value:A6w};}}return null;};J9w.Drawing.pitchfork.prototype.render=function(J6w){var P6w,N6w,b6w,s6w,v6w,t6w,o6w,a6w,c6w,F6w,d6w,m6w,L6w,Z6w,O6w,Y6w,R6w,p15,w6w,I6w,q6w;P6w=this.stx.panels[this.panelName];if(!P6w){return;}N6w=this.stx;b6w=this.p2;if(!b6w){b6w=this.p1;}s6w=N6w.pixelFromTick(this.p0[0],P6w.chart);v6w=N6w.pixelFromTick(this.p1[0],P6w.chart);t6w=N6w.pixelFromTick(b6w[0],P6w.chart);o6w=N6w.pixelFromValueAdjusted(P6w,this.p0[0],this.p0[1]);a6w=N6w.pixelFromValueAdjusted(P6w,this.p1[0],this.p1[1]);c6w=N6w.pixelFromValueAdjusted(P6w,b6w[0],b6w[1]);F6w=this.lineWidth;d6w=this.getLineColor();m6w={pattern:this.pattern,lineWidth:F6w};L6w=50;F3O.j0H(23);Z6w=F3O.Z0H(2,o6w,c6w,a6w);F3O.H0H(23);O6w=F3O.a0H(2,s6w,t6w,v6w);if(O6w < ("0" ^ 0)){L6w*=-1;}F3O.H0H(4);Z6w*=F3O.Z0H(O6w,L6w);F3O.H0H(6);this.rays=[[[v6w,a6w],[t6w,c6w]],[[s6w,o6w],[F3O.Z0H(t6w,v6w,2),F3O.Z0H(c6w,a6w,2)]]];if(!(v6w == t6w && a6w == c6w)){F3O.H0H(2);this.rays.push([[v6w,a6w],[F3O.Z0H(L6w,v6w),F3O.Z0H(Z6w,a6w)]],[[t6w,c6w],[F3O.Z0H(L6w,t6w),F3O.Z0H(Z6w,c6w)]]);}for(var S6w="0" - 0;S6w < this.rays.length;S6w++){Y6w=this.rays[S6w];R6w=S6w?"ray":"segment";N6w.plotLine(Y6w[0][0],Y6w[1][0],Y6w[0][1],Y6w[1][1],d6w,R6w,J6w,P6w,m6w);}if(this.highlighted){p15="p";p15+="1";w6w=this.highlighted == "p0"?! !{}:!"1";I6w=this.highlighted == p15?! ![]:![];q6w=this.highlighted == "p2"?! !1:!"1";this.littleCircle(J6w,s6w,o6w,w6w);this.littleCircle(J6w,v6w,a6w,I6w);this.littleCircle(J6w,t6w,c6w,q6w);}};J9w.Drawing.pitchfork.prototype.adjust=function(){F3O.p2O();var j6w;j6w=this.stx.panels[this.panelName];if(!j6w){return;}this.setPoint(0,this.d0,this.v0,j6w.chart);this.setPoint(+"1",this.d1,this.v1,j6w.chart);F3O.H0H(2);this.setPoint(F3O.a0H(0,"2"),this.d2,this.v2,j6w.chart);};J9w.Drawing.pitchfork.prototype.reconstruct=function(D6w,p6w){this.stx=D6w;this.color=p6w.col;this.panelName=p6w.pnl;this.pattern=p6w.ptrn;this.lineWidth=p6w.lw;this.d0=p6w.d0;this.d1=p6w.d1;this.d2=p6w.d2;this.tzo0=p6w.tzo0;this.tzo1=p6w.tzo1;this.tzo2=p6w.tzo2;this.v0=p6w.v0;this.v1=p6w.v1;this.v2=p6w.v2;this.adjust();};J9w.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};J9w.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!{};this.maxSegments=4;this.shape=null;F3O.p2O();this.points=[];};J9w.inheritsFrom(J9w.Drawing.gartley,J9w.Drawing.continuous);J9w.Drawing.gartley.prototype.check=function(l6w,X6w){if(!X6w){return !0;}if(l6w[0] >= X6w[0] || l6w[+"1"] == X6w[1]){return ! !0;}if(this.segment == 1){if(l6w[1] < X6w[1]){this.shape=(8419,9410) < 3695?425.61 > 730.87?(+"0x1e10",+"0x15c3"):7.61e+3:"M";}else {this.shape=(315.8,2700) == 2377?(2.61e+3,699.52):76.92 == (+"9793",389.42)?217 >= 9642?2.50e+3:!{}:"W";}}else if(this.segment == 2){if(this.shape == "M" && l6w[1] < X6w[1]){return !1;}else if(this.shape == ((78.47,738.91) < 5500?"W":(1.02e+3,990.38)) && l6w[1] > X6w["1" >> 1370183488]){return ! !"";}else if((X6w[+"1"] - l6w[1]) / (this.points[0][1] - l6w[1]) < 0.618){return ! !0;}else if((X6w[1] - l6w[+"1"]) / (this.points[0][1] - l6w[1]) >= 0.786){return !1;}}else if(this.segment == +"3"){if(this.shape == "M" && l6w["1" << 1380367008] > X6w[1]){return !"1";}else if(this.shape == (255 >= ("494.61" * 1,878.77)?6252 < (7170,"5030" ^ 0)?("0xf48" >> 2072525248,5.73e+3):(! ![],420.08):"W") && l6w[1] < X6w[1]){return ! !"";}else if((X6w["1" - 0] - l6w[1]) / (this.points[1][1] - l6w[1]) < 0.618){return !{};}else if((X6w[+"1"] - l6w[1]) / (this.points[1][+"1"] - l6w["1" * 1]) >= 0.786){return !{};}}else if(this.segment == +"4"){if(this.shape == "M" && (l6w[1] < X6w[1] || X6w[1] < this.points[0][1])){return !{};}else if(this.shape == (6825 !== (240.28,13.12)?"W":0x1b60) && (l6w[1] > X6w[1] || X6w[1] > this.points[0][1])){return ![];}else if((this.points[1][1] - X6w[1]) / (this.points[1]["1" | 1] - this.points[2][+"1"]) < 1.27){return !"1";}else if((this.points[1][1] - X6w["1" - 0]) / (this.points[1][1] - this.points[2][+"1"]) >= 1.618){return ![];}}return ! !{};};J9w.Drawing.gartley.prototype.click=function(U6w,g6w,E6w){var B6w;B6w=this.stx.panels[this.panelName];if(!B6w){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,g6w,E6w,B6w.chart);this.pts=[];this.penDown=!"";this.segment=1;return !1;}if(this.accidentalClick(g6w,E6w)){this.penDown=! !"1";return ! !"";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,g6w,E6w,B6w.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][+"1"],B6w.chart);this.penDown=!{};return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",g6w,E6w,B6w.chart);;}return !{};};J9w.Drawing.gartley.prototype.render=function(r6w){var e6w,z5w,u5w,T5w,h5w,k6w,Q5w,x5w,f5w,W6w,H6w,G5w,V5w,n5w,y5w;e6w=this.stx.panels[this.panelName];if(!e6w){return;}z5w=this.stx.pixelFromTick(this.p0[0],e6w.chart);u5w=this.stx.pixelFromTick(this.p1[0],e6w.chart);T5w=this.stx.pixelFromValueAdjusted(e6w,this.p0[0],this.p0[1]);h5w=this.stx.pixelFromValueAdjusted(e6w,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(r6w,0.618 * this.points["0" ^ 0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(r6w,0.618 * this.points[+"1"][1] + +"0.382" * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){k6w=1.618 * this.points[2][1] - "0.618" * 1 * this.points["1" >> 1072769760]["1" * 1];if(this.shape == (3830 !== (3251,7990)?"M":(! !0,5.29e+3))){k6w=Math.max(k6w,this.points["0" << 610477088][1]);}else {k6w=Math.min(k6w,this.points[0][1]);}this.drawDropZone(r6w,k6w,1.27 * this.points[2][1] - ("0.27" - 0) * this.points[1][1],this.p0[0]);}Q5w=this.lineWidth;x5w=this.getLineColor();f5w={pattern:this.pattern,lineWidth:Q5w};if((this.penDown || this.highlighted) && this.pattern == "none"){f5w.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(z5w,u5w,T5w,h5w,x5w,this.name,r6w,e6w,f5w);}F3O.p2O();W6w=this.fillColor;H6w=[];if(this.points.length){r6w.beginPath();for(var M6w=1;M6w < this.points.length && M6w <= 4;M6w++){G5w=this.stx.pixelFromTick(this.points[M6w - 1][0],e6w.chart);V5w=this.stx.pixelFromTick(this.points[M6w][0],e6w.chart);n5w=this.stx.pixelFromValueAdjusted(e6w,this.points[M6w - 1]["0" * 1],this.points[M6w - ("1" << 1952790272)][1]);y5w=this.stx.pixelFromValueAdjusted(e6w,this.points[M6w][0],this.points[M6w][1]);if(M6w == 1){H6w.push(G5w,n5w);}H6w.push(V5w,y5w);this.stx.plotLine(G5w,V5w,n5w,y5w,x5w,this.name,r6w,e6w,f5w);}if(this.points.length == 2 || this.points.length == 4){H6w.push(u5w,h5w);}if(this.points[2]){H6w.push(this.stx.pixelFromTick(this.points[2][+"0"],e6w.chart),this.stx.pixelFromValueAdjusted(e6w,this.points[2][0],this.points[2][1]));}if(W6w && W6w != "auto" && !J9w.isTransparent(W6w)){for(var K6w=0;K6w < H6w.length;K6w+=+"2"){if(K6w === 0){r6w.moveTo(H6w[+"0"],H6w[1]);}r6w.lineTo(H6w[K6w],H6w[K6w + 1]);}r6w.fillStyle=W6w;r6w.globalAlpha=0.2;r6w.closePath();r6w.fill();r6w.globalAlpha=1;}};};J9w.Drawing.gartley.prototype.lineIntersection=function(P5w,N5w,v5w,t5w){var C5w,i5w;C5w=this.points;i5w=this.stx.panels[this.panelName];F3O.p2O();if(C5w.length != this.maxSegments + 1 || !i5w){return ![];}for(var A5w=0;A5w < C5w.length - 1;A5w++){if(J9w.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,P5w,N5w,v5w,"segment",C5w[A5w],C5w[A5w + 1])){return !"";}}return ! !"";};J9w.Drawing.gartley.prototype.boxIntersection=function(S5w,Y5w,c5w){F3O.p2O();var b5w,L5w;if(!this.p0 || !this.p1){return ![];}if(c5w.x0 > Math.max(this.p0[0],this.p1[0]) || c5w.x1 < Math.min(this.p0[0],this.p1[0])){return !1;}b5w=Math.min(this.p0[1],this.p1[1]);L5w=Math.max(this.p0[1],this.p1[1]);for(var a5w=0;a5w < this.points.length;a5w++){b5w=Math.min(b5w,this.points[a5w][1]);L5w=Math.max(L5w,this.points[a5w]["1" - 0]);}if(c5w.y1 > L5w || c5w.y0 < b5w){return !1;}return !0;};J9w.Drawing.gartley.prototype.reposition=function(m5w,s5w,Z5w,O5w){var C15,o5w,F5w,d5w;C15="m";C15+="o";C15+="v";C15+="e";F3O.U2O();if(!s5w){return;}o5w=this.stx.panels[this.panelName];F5w=s5w.tick - Z5w;s5w.tick=Z5w;d5w=s5w.value - O5w;s5w.value=O5w;if(s5w.action == C15){this.pts=[];for(var J5w=0;J5w < this.points.length;J5w++){this.points[J5w][0]-=F5w;this.points[J5w][1]-=d5w;this.setPoint(1,this.points[J5w]["0" & 2147483647],this.points[J5w][1],o5w.chart);if(J5w && J5w < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[J5w]=this.p1;}this.setPoint(0,this.points[0][0],this.points[+"0"][1],o5w.chart);this.render(m5w);;}};J9w.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];J9w.Drawing.gartley.prototype.adjust=function(){var R5w;R5w=this.stx.panels[this.panelName];if(!R5w){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,R5w.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,R5w.chart);this.points.push(this.p1);};J9w.Drawing.gartley.prototype.reconstructPoints=function(){var q5w,I5w;q5w=this.stx.panels[this.panelName];if(!q5w){return;}this.points=[];for(var w5w=0;w5w < this.pts.length;w5w+=3){I5w=J9w.strToDateTime(this.pts[w5w]);I5w.setMinutes(I5w.getMinutes() + Number(this.pts[w5w + 1]) - I5w.getTimezoneOffset());this.points.push([this.stx.tickFromDate(J9w.yyyymmddhhmmssmmm(I5w),q5w.chart),this.pts[w5w + 2]]);}};J9w.Drawing.gartley.prototype.reconstruct=function(p5w,j5w){this.stx=p5w;this.color=j5w.col;this.fillColor=j5w.fc;this.panelName=j5w.pnl;this.pattern=j5w.ptrn;this.lineWidth=j5w.lw;this.d0=j5w.d0;this.d1=j5w.d1;this.tzo0=j5w.tzo0;this.tzo1=j5w.tzo1;this.v0=j5w.v0;this.v1=j5w.v1;this.pts=j5w.pts.split(",");this.adjust();};J9w.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};J9w.Drawing.freeform=function(){var o15;o15="fre";F3O.U2O();o15+="eform";this.name=o15;this.splineTension=+"0.3";this.dragToDraw=! !{};};J9w.inheritsFrom(J9w.Drawing.freeform,J9w.Drawing.segment);J9w.Drawing.freeform.prototype.measure=function(){};J9w.Drawing.freeform.prototype.intersected=function(X5w,l5w,D5w){F3O.p2O();if(D5w.x0 > this.hiX || D5w.x1 < this.lowX){return null;}if(D5w.y1 > this.hiY || D5w.y0 < this.lowY){return null;}this.highlighted=! !"1";return {action:"move",p0:J9w.clone(this.p0),tick:X5w,value:l5w};};J9w.Drawing.freeform.prototype.reposition=function(e5w,B5w,r5w,M5w){var c95,n95,x95,g5w,E5w,U5w;F3O.U2O();c95=1929966669;n95=-574138393;x95=+"2";for(var O95=1;F3O.U35(O95.toString(),O95.toString().length,55405) !== c95;O95++){if(!B5w){return;}g5w=this.stx.panels[this.panelName];E5w=B5w.tick - r5w;U5w=B5w.value - M5w;x95+=2;}if(F3O.U35(x95.toString(),x95.toString().length,55516) !== n95){if(+B5w){return;}g5w=this.stx.panels[this.panelName];E5w=B5w.tick % r5w;U5w=B5w.value / M5w;}if(B5w.action == "move"){this.setPoint(0,B5w.p0[0] - E5w,B5w.p0[+"1"] - U5w,g5w.chart);this.adjust();this.render(e5w);}};J9w.Drawing.freeform.prototype.click=function(f0w,k5w,W5w){var H5w,K5w;F3O.U2O();H5w=this.stx.panels[this.panelName];if(!H5w){return;}if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(k5w,H5w.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(H5w,k5w,W5w)));K5w=this.stx.dateFromTick(k5w,H5w.chart,! ![]);this.d0=J9w.yyyymmddhhmmssmmm(K5w);this.tzo0=K5w.getTimezoneOffset();this.v0=W5w;this.p0=[J9w.ChartEngine.crosshairX - this.startX,J9w.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=H5w.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;F3O.j0H(12);this.splineTension=-F3O.a0H("1",0);document.body.style.cursor="pointer";this.penDown=!0;return ! !"";}this.penDown=!"1";this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! ![];};J9w.Drawing.freeform.prototype.move=function(x0w,G0w,V0w){var u0w,h0w;if(!this.penDown){return;}u0w=this.stx.panels[this.panelName];h0w=this.stx.dateFromTick(G0w,u0w.chart,! !{});this.d1=J9w.yyyymmddhhmmssmmm(h0w);this.tzo1=h0w.getTimezoneOffset();this.v1=V0w;this.p1=[J9w.ChartEngine.crosshairX - this.startX,u0w.yAxis.flipped?this.startY - J9w.ChartEngine.crosshairY:J9w.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > "2" - 0){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[+"0"] == this.pNodes[this.pNodes.length - +"1"]["0" - 0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][+"1"] && this.p1[1] == this.pNodes[this.pNodes.length - ("1" - 0)][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[+"0"],this.p1[1]);this.pNodes.push(this.p1);this.render(x0w);return ! !0;};J9w.Drawing.freeform.prototype.intervalRatio=function(Q0w,n0w,N0w,v0w,z0w,T0w){var y0w,k15,T15,w15,S15,Y15;function i0w(L0w,S0w){F3O.p2O();return 30;}y0w=0;if(Q0w == n0w){y0w=1;}else if(!isNaN(Q0w) && !isNaN(n0w)){F3O.j0H(4);y0w=F3O.Z0H(n0w,Q0w);}else if(isNaN(Q0w)){if(Q0w == "month"){k15="w";k15+="e";k15+="e";k15+="k";if(n0w == k15){y0w=P0w(z0w,T0w);}else if(n0w == "day"){y0w=i0w(z0w,T0w);}else if(!isNaN(n0w)){y0w=i0w(z0w,T0w) * C0w(z0w,T0w) / n0w;}}else if(Q0w == "week"){T15="d";T15+="ay";if(n0w == "month"){y0w=1 / P0w(z0w,T0w);}if(n0w == T15){y0w=A0w(z0w,T0w);}else if(!isNaN(n0w)){y0w=A0w(z0w,T0w) * C0w(z0w,T0w) / n0w;}}else if(Q0w == "day"){w15="wee";w15+="k";if(n0w == w15){y0w=1 / A0w(z0w,T0w);}else if(n0w == "month"){y0w=1 / i0w(z0w,T0w);}else if(!isNaN(n0w)){y0w=C0w(z0w,T0w) / n0w;}}}else if(!isNaN(Q0w)){S15="w";S15+="ee";S15+="k";Y15="m";Y15+="o";Y15+="nt";Y15+="h";if(n0w == Y15){y0w=Q0w / (i0w(z0w,T0w) * C0w(z0w,T0w));}else if(n0w == S15){y0w=Q0w / (A0w(z0w,T0w) * C0w(z0w,T0w));}else if(n0w == "day"){y0w=Q0w / C0w(z0w,T0w);}}F3O.p2O();function A0w(c0w,b0w){return 5;}function P0w(t0w,a0w){return 5;}function C0w(J0w,Y0w){if(J9w.Market.Symbology.isForexSymbol(Y0w)){return 1440;}return 390;}F3O.j0H(4);y0w*=F3O.a0H(v0w,N0w);return y0w;};J9w.Drawing.freeform.prototype.render=function(w0w){var s0w,F0w,I0w,q0w,j0w,d0w,o0w,p0w,m0w,R0w,D0w,O0w;s0w=this.stx.panels[this.panelName];if(!s0w){return;}F0w=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,s0w.chart.symbol);if(F0w === 0){return;}I0w=this.stx.layout.candleWidth / this.candleWidth;q0w=s0w.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,s0w.chart);j0w=this.stx.pixelFromTick(this.p0[0],s0w.chart);d0w=this.stx.pixelFromValueAdjusted(s0w,this.p0[0],this.p0[1]);o0w=[];p0w=this.lineWidth;m0w=this.getLineColor();R0w={pattern:this.pattern,lineWidth:p0w};for(var Z0w=0;Z0w < this.pNodes.length;Z0w++){D0w=F0w * I0w * this.pNodes[Z0w][0] + j0w;O0w=q0w * this.pNodes[Z0w][1];if(s0w.yAxis.flipped){F3O.j0H(2);O0w=F3O.Z0H(O0w,d0w);}else {O0w+=d0w;}o0w.push(D0w,O0w);}if(!o0w.length){return;}if(this.splineTension < "0" << 919056704){this.stx.connectTheDots(o0w,m0w,this.name,w0w,s0w,R0w);}else {this.stx.plotSpline(o0w,this.splineTension,m0w,this.name,w0w,!"",R0w);}};J9w.Drawing.freeform.prototype.adjust=function(){var X0w,M0w,l0w,U0w,e0w,g0w,r0w,E0w;X0w=this.stx.panels[this.panelName];if(!X0w){return;}M0w=[this.nodes[0],this.nodes[1]];this.pNodes=[M0w];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var B0w=2;B0w < this.nodes.length;B0w+=+"2"){F3O.H0H(0);l0w=[this.nodes[B0w],this.nodes[F3O.Z0H(1,B0w)]];this.pNodes.push(l0w);this.lowX=Math.min(this.lowX,l0w[0]);this.hiX=Math.max(this.hiX,l0w[0]);this.lowY=Math.max(this.lowY,l0w[1]);this.hiY=Math.min(this.hiY,l0w[+"1"]);}U0w=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,X0w.chart.symbol);if(U0w === 0){return;}e0w=this.stx.layout.candleWidth / this.candleWidth;g0w=X0w.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,X0w.chart);r0w=this.stx.pixelFromTick(this.p0[0],X0w.chart);E0w=this.stx.pixelFromValueAdjusted(X0w,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(U0w * e0w * this.lowX) + r0w,X0w.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(U0w * e0w * this.hiX) + r0w,X0w.chart);F3O.p2O();if(X0w.yAxis.flipped){this.lowY=this.stx.valueFromPixel(E0w - Math.floor(g0w * this.lowY),X0w);this.hiY=this.stx.valueFromPixel(E0w - Math.ceil(g0w * this.hiY),X0w);}else {this.lowY=this.stx.valueFromPixel(Math.floor(g0w * this.lowY) + E0w,X0w);this.hiY=this.stx.valueFromPixel(Math.ceil(g0w * this.hiY) + E0w,X0w);}};J9w.Drawing.freeform.prototype.serialize=function(){var A05,L05,J05;A05=-2129688480;L05=-1021307945;J05=2;for(var z05=+"1";F3O.J35(z05.toString(),z05.toString().length,23303) !== A05;z05++){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};}if(F3O.J35(J05.toString(),J05.toString().length,76687) !== L05){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(8)),mlt:Number(this.multiplier.toFixed(8)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};}};J9w.Drawing.freeform.prototype.reconstruct=function(k0w,H0w){this.stx=k0w;this.color=H0w.col;this.panelName=H0w.pnl;F3O.p2O();this.pattern=H0w.ptrn;this.lineWidth=H0w.lw;this.candleWidth=H0w.cw;this.multiplier=H0w.mlt;this.d0=H0w.d0;this.tzo0=H0w.tzo0;this.v0=H0w.v0;this.interval=H0w.inter;this.periodicity=H0w.pd;this.nodes=H0w.nodes;this.adjust();};J9w.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;F3O.j0H(17);this.h=F3O.Z0H("0",892438304);this.padding=4;this.text="";F3O.p2O();this.ta=null;this.fontSize=+"0";this.font={};this.stemEntry="";this.defaultWidth=50;F3O.j0H(14);this.defaultHeight=F3O.a0H(2147483647,"10");;};J9w.inheritsFrom(J9w.Drawing.callout,J9w.Drawing.annotation);J9w.Drawing.callout.prototype.configs=["color","fillColor",f15,"pattern","font"];J9w.Drawing.callout.prototype.copyConfig=function(K0w){J9w.Drawing.copyConfig(this,K0w);this.borderColor=this.color;};J9w.Drawing.callout.prototype.move=function(W0w,f4w,u4w){if(!this.penDown){return;}F3O.U2O();this.copyConfig();this.p0=[f4w,u4w];this.render(W0w);};J9w.Drawing.callout.prototype.onChange=function(V4w){var G4w,x4w,h4w;G4w=this.stx.panels[this.panelName];if(!G4w){return;}x4w=V4w.target;this.w=x4w.clientWidth;this.h=x4w.clientHeight;h4w=this.context || this.stx.chart.tempCanvas.context;J9w.clearCanvas(h4w.canvas,this.stx);this.render(h4w);this.edit(h4w);};J9w.Drawing.callout.prototype.render=function(n4w){var u45,N15,Z15,v4w,Y4w,S4w,z4w,y4w,Q4w,T4w,t4w,a4w,N4w,A4w,c4w,i4w,b4w,C4w,P4w,B15,E15,W35,I35,y35,J4w;u45="alphabeti";u45+="c";N15="stx_hig";N15+="hlight";N15+="_vec";N15+="tor";Z15="a";Z15+="u";Z15+="to";this.context=n4w;v4w=this.stx.panels[this.panelName];if(!v4w){return;}Y4w=this.stx.pixelFromTick(this.p0[0],v4w.chart);S4w=this.stx.pixelFromValueAdjusted(v4w,this.p0[0],this.p0[1]);if(isNaN(S4w)){return;}n4w.font=this.fontString;n4w.textBaseline="top";z4w=Y4w;y4w=S4w;Q4w=this.w / 2;T4w=this.h / 2;if(this.penDown){Q4w=this.defaultWidth;T4w=this.defaultHeight;if(!T4w){T4w=this.fontSize;}}t4w=this.lineWidth;if(!t4w){t4w=1.1;}a4w=this.color;if(a4w == Z15 || J9w.isTransparent(a4w)){a4w=this.stx.defaultColor;}N4w=this.borderColor;if(N4w == "auto" || J9w.isTransparent(N4w)){N4w=this.stx.defaultColor;}if(this.highlighted){N4w=this.stx.getCanvasColor(N15);}C4w=Math.min(Math.min(Q4w,T4w) / 2,8);if(this.stem){if(this.stem.t){A4w=this.stx.pixelFromTick(this.stem.t);i4w=this.stx.pixelFromValueAdjusted(v4w,this.stem.t,this.stem.v);}else if(this.stem.x){A4w=z4w;i4w=y4w;z4w+=this.stem.x;y4w+=this.stem.y;}P4w="";if(A4w >= z4w + Q4w){F3O.H0H(0);c4w=F3O.a0H(Q4w,z4w);P4w="r";}else if(A4w > z4w - Q4w && A4w < z4w + Q4w){c4w=z4w;P4w="c";}else if(A4w <= z4w - Q4w){F3O.H0H(2);c4w=F3O.a0H(Q4w,z4w);P4w=(+"5485",3904) != ("223.71" - 0,1520)?"l":8.81e+3;}if(i4w >= y4w + T4w){F3O.H0H(0);b4w=F3O.a0H(T4w,y4w);P4w+=745 >= (3620,2090)?0x1d5a:"b";}else if(i4w > y4w - T4w && i4w < y4w + T4w){b4w=y4w;P4w+=(7308,811.21) < (4452,+"1124")?(4160,1579) > 9356?946.49 == 9770?4.95e+3:("k",![]):"m":(6.85e+3,8.24e+3);}else if(i4w <= y4w - T4w){F3O.j0H(2);b4w=F3O.a0H(T4w,y4w);P4w+="t";}this.stemEntry=P4w;if(P4w != "cm"){A4w=Math.round(A4w);c4w=Math.round(c4w);i4w=Math.round(i4w);b4w=Math.round(b4w);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",n4w);}else {if(this.fillColor){n4w.fillStyle=this.fillColor;n4w.globalAlpha=0.4;}else if(this.stem){n4w.fillStyle=this.stx.containerColor;}}n4w.strokeStyle=N4w;if(n4w.setLineDash){n4w.setLineDash(J9w.borderPatternToArray(t4w,this.pattern));n4w.lineDashOffset=0;;}if(N4w){B15="l";B15+="t";E15="l";E15+="m";n4w.beginPath();n4w.lineWidth=t4w;F3O.H0H(7);n4w.moveTo(F3O.a0H(z4w,Q4w,C4w),F3O.Z0H(T4w,y4w,F3O.H0H(2)));if(this.stemEntry != "rt"){F3O.j0H(0);n4w.quadraticCurveTo(F3O.a0H(Q4w,z4w),F3O.Z0H(T4w,y4w,F3O.H0H(2)),F3O.Z0H(Q4w,z4w,F3O.j0H(0)),F3O.a0H(T4w,C4w,y4w,F3O.H0H(1)));;}else {n4w.lineTo(A4w,i4w);F3O.j0H(0);n4w.lineTo(F3O.a0H(Q4w,z4w),F3O.a0H(T4w,C4w,y4w,F3O.j0H(1)));}F3O.H0H(0);n4w.lineTo(F3O.Z0H(Q4w,z4w),F3O.a0H(C4w,y4w,2,F3O.H0H(24)));if(this.stemEntry == "rm"){n4w.lineTo(A4w,i4w);}F3O.j0H(0);n4w.lineTo(F3O.a0H(Q4w,z4w),F3O.Z0H(y4w,C4w,2,F3O.j0H(25)));F3O.j0H(0);n4w.lineTo(F3O.Z0H(Q4w,z4w),F3O.Z0H(y4w,T4w,C4w,F3O.j0H(7)));if(this.stemEntry != "rb"){F3O.j0H(0);n4w.quadraticCurveTo(F3O.a0H(Q4w,z4w),F3O.Z0H(T4w,y4w,F3O.j0H(0)),F3O.a0H(z4w,Q4w,C4w,F3O.H0H(7)),F3O.Z0H(T4w,y4w,F3O.H0H(0)));;}else {n4w.lineTo(A4w,i4w);F3O.H0H(7);n4w.lineTo(F3O.Z0H(z4w,Q4w,C4w),F3O.a0H(T4w,y4w,F3O.j0H(0)));}F3O.j0H(25);n4w.lineTo(F3O.a0H(z4w,C4w,2),F3O.Z0H(T4w,y4w,F3O.H0H(0)));if(this.stemEntry == "cb"){n4w.lineTo(A4w,i4w);}F3O.H0H(24);n4w.lineTo(F3O.Z0H(C4w,z4w,2),F3O.Z0H(T4w,y4w,F3O.j0H(0)));F3O.j0H(1);n4w.lineTo(F3O.Z0H(Q4w,C4w,z4w),F3O.a0H(T4w,y4w,F3O.H0H(0)));if(this.stemEntry != "lb"){F3O.H0H(2);n4w.quadraticCurveTo(F3O.a0H(Q4w,z4w),F3O.a0H(T4w,y4w,F3O.H0H(0)),F3O.Z0H(Q4w,z4w,F3O.j0H(2)),F3O.a0H(y4w,T4w,C4w,F3O.j0H(7)));;}else {n4w.lineTo(A4w,i4w);F3O.j0H(2);n4w.lineTo(F3O.Z0H(Q4w,z4w),F3O.Z0H(y4w,T4w,C4w,F3O.j0H(7)));}F3O.j0H(2);n4w.lineTo(F3O.Z0H(Q4w,z4w),F3O.Z0H(y4w,C4w,2,F3O.j0H(25)));if(this.stemEntry == E15){n4w.lineTo(A4w,i4w);}F3O.H0H(2);n4w.lineTo(F3O.Z0H(Q4w,z4w),F3O.a0H(0,"2",C4w,y4w,F3O.H0H(26)));F3O.j0H(2);n4w.lineTo(F3O.a0H(Q4w,z4w),F3O.a0H(T4w,C4w,y4w,F3O.H0H(1)));if(this.stemEntry != B15){F3O.H0H(2);n4w.quadraticCurveTo(F3O.Z0H(Q4w,z4w),F3O.a0H(T4w,y4w,F3O.H0H(2)),F3O.a0H(Q4w,C4w,z4w,F3O.j0H(1)),F3O.a0H(T4w,y4w,F3O.H0H(2)));;}else {n4w.lineTo(A4w,i4w);F3O.H0H(1);n4w.lineTo(F3O.a0H(Q4w,C4w,z4w),F3O.a0H(T4w,y4w,F3O.H0H(2)));}F3O.j0H(24);n4w.lineTo(F3O.Z0H(C4w,z4w,2),F3O.a0H(T4w,y4w,F3O.j0H(2)));if(this.stemEntry == "ct"){n4w.lineTo(A4w,i4w);}F3O.H0H(25);n4w.lineTo(F3O.Z0H(z4w,C4w,2),F3O.a0H(T4w,y4w,F3O.j0H(2)));F3O.H0H(7);n4w.lineTo(F3O.Z0H(z4w,Q4w,C4w),F3O.a0H(T4w,y4w,F3O.H0H(2)));n4w.fill();n4w.globalAlpha=1;if(this.pattern != "none"){n4w.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",n4w);}else {n4w.fillStyle=a4w;}y4w+=this.padding;if(!this.ta){for(var L4w=+"0";L4w < this.arr.length;L4w++){n4w.fillText(this.arr[L4w],z4w - Q4w + this.padding,y4w - T4w);y4w+=this.fontSize;}}n4w.textBaseline=u45;if(this.highlighted && !this.noHandles){W35=-528338797;I35=-974961425;y35=2;for(var v35="1" << 1898456000;F3O.U35(v35.toString(),v35.toString().length,3298) !== W35;v35++){J4w=this.highlighted !== ""?![]:! !{};y35+=2;}if(F3O.J35(y35.toString(),y35.toString().length,56454) !== I35){J4w=this.highlighted === ""?!"":![];}J4w=this.highlighted == "p0"?! ![]:! !0;this.littleCircle(n4w,A4w,i4w,J4w);};};J9w.Drawing.callout.prototype.click=function(o4w,Z4w,O4w){var s4w;if(this.stx.overXAxis || this.stx.overYAxis){return;}s4w=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,Z4w,O4w,s4w.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! !"1";this.adjust();return !{};}this.adjust();this.edit(o4w);this.penDown=! !0;return ! !0;};J9w.Drawing.callout.prototype.reposition=function(q4w,F4w,w4w,I4w){var d4w,m4w,R4w;if(!F4w){return;}d4w=this.stx.panels[this.panelName];m4w=F4w.tick - w4w;R4w=F4w.value - I4w;if(F4w.stem){if(F4w.action == "drag"){this.stem={d:this.stx.dateFromTick(w4w,d4w.chart,! ![]),v:I4w};}else if(F4w.action == "move"){this.setPoint(+"0",F4w.p0["0" & 2147483647] - m4w,F4w.p0[1] - R4w,d4w.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(F4w.stem.d,d4w.chart) - m4w),v:F4w.stem.v - R4w};}this.adjust();}else {this.setPoint(0,F4w.p0[0] - m4w,F4w.p0["1" | 0] - R4w,d4w.chart);}this.render(q4w);};J9w.Drawing.callout.prototype.lineIntersection=function(K4w,W4w,H4w,k4w){var g4w,j4w,X4w,E4w,U4w,e4w,p4w,l4w,B4w,r4w,M4w,D4w;g4w=this.stx.panels[this.panelName];j4w=this.stem;X4w=this.p0;E4w=this.stx;if(!X4w || !j4w || !g4w){return ![];}U4w=j4w.t || this.stx.tickFromDate(j4w.d,g4w.chart);e4w={x0:X4w[0],x1:U4w,y0:X4w[1],y1:j4w.v};p4w=J9w.convertBoxToPixels(E4w,this.panelName,e4w);l4w=p4w.x0;B4w=p4w.y0;r4w=p4w.x1;M4w=p4w.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf((9568,3736) === (2670,9580)?+"0x23d5":(1740,764.95) > (+"11.73",1210)?3760 > (7240,5979)?(0x6cc,!0):! !"1":"l") > -1){l4w-=this.w / 2;}else if(this.stemEntry.indexOf("r") > -1){l4w+=this.w / 2;}if(this.stemEntry.indexOf(37.89 == 217?0x11ac:"t") > -1){B4w-=this.h / 2;}else if(this.stemEntry.indexOf("b") > -1){B4w+=this.h / 2;}}D4w=J9w.convertBoxToPixels(E4w,this.panelName,H4w);return J9w.boxIntersects(D4w.x0,D4w.y0,D4w.x1,D4w.y1,l4w,B4w,r4w,M4w,k4w);};J9w.Drawing.callout.prototype.intersected=function(x1i,z1i,f1i){var n1i,K45,t45,T1i,P1i,t1i,D85,j85,W85,c1i,J1i,s1i,R1i;F3O.U2O();n1i=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,f1i)){K45="d";K45+="r";K45+="a";K45+="g";t45="p";t45+="0";this.highlighted=t45;return {action:K45,stem:! ![]};}T1i=this.stx.pixelFromTick(this.p0[0],n1i.chart) - this.w / 2;P1i=this.stx.pixelFromValueAdjusted(n1i,this.p0[+"0"],this.p0[+"1"]) - this.h / 2;t1i=T1i + this.w;D85=-918747983;j85=1350852819;W85=2;for(var y85="1" & 2147483647;F3O.J35(y85.toString(),y85.toString().length,1582) !== D85;y85++){c1i=P1i / this.h;W85+=2;}if(F3O.J35(W85.toString(),W85.toString().length,99752) !== j85){c1i=P1i + this.h;}c1i=P1i + this.h;if(this.stem && this.stem.x){T1i+=this.stem.x;t1i+=this.stem.x;P1i+=this.stem.y;c1i+=this.stem.y;}J1i=this.stx.pixelFromTick(x1i,n1i.chart);s1i=this.stx.pixelFromValueAdjusted(n1i,x1i,z1i);if(J1i + f1i.r >= T1i && J1i - f1i.r <= t1i && s1i + f1i.r >= P1i && s1i - f1i.r <= c1i){this.highlighted=! !"1";return {p0:J9w.clone(this.p0),tick:x1i,value:z1i};}R1i=this.lineIntersection(x1i,z1i,f1i,"segment");if(R1i){this.highlighted=! !1;return {action:"move",stem:J9w.clone(this.stem),p0:J9w.clone(this.p0),tick:x1i,value:z1i};}return null;};J9w.Drawing.fibonacci=function(){this.name="fibonacci";F3O.p2O();this.configurator="fibonacci";};J9w.inheritsFrom(J9w.Drawing.fibonacci,J9w.Drawing.BaseTwoPoint);J9w.Drawing.fibonacci.mapping={trend:"t",color:372.05 > ("2740" & 2147483647,2420)?(421.56,8.19e+2):"c",parameters:"p",pattern:"pt",opacity:"o",lineWidth:"lw",level:(5236,947.38) >= 6568?289.06:"l",extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:6600 >= (504,"6920" << 1947317792)?(9.23e+3,6.06e+3):(496.57,"1780" >> 1155547136) < +"9444"?"d":(0xad,! !1)};F3O.j0H(2);J9w.Drawing.fibonacci.prototype.recommendedLevels=[- +"0.618",-0.382,0,0.382,F3O.a0H(0,"0.5"),+"0.618",1,1.382,1.618];J9w.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth",a45,Q45];J9w.Drawing.fibonacci.prototype.initializeSettings=function(e1i){var B1i,s75,u75,t75,l1i;B1i=this.recommendedLevels;if(B1i && !e1i.currentVectorParameters.fibonacci.fibsAlreadySet){s75=+"1680388491";u75=-1023492759;F3O.H0H(17);t75=F3O.a0H("2",297882912);for(var K75=1;F3O.U35(K75.toString(),K75.toString().length,33974) !== s75;K75++){l1i=e1i.currentVectorParameters.fibonacci.fibs;F3O.H0H(27);t75+=F3O.Z0H("2",1447641024);}if(F3O.J35(t75.toString(),t75.toString().length,97799) !== u75){l1i=e1i.currentVectorParameters.fibonacci.fibs;}for(var q1i=0;q1i < l1i.length;q1i++){delete l1i[q1i].display;for(var U1i=0;U1i < B1i.length;U1i++){if(l1i[q1i].level == B1i[U1i]){l1i[q1i].display=! ![];}}}}};J9w.Drawing.fibonacci.prototype.setOuter=function(){var f2i,u2i,y2i,z2i,T2i,Q2i,C2i,i2i,P2i,I05,y05,d05,x2i,G2i,h2i,n2i,A2i;f2i=this.stx;F3O.U2O();u2i=f2i.panels[this.panelName];if(!u2i){return;}y2i=Math.max(this.p0[1],this.p1[1]);z2i=Math.min(this.p0["1" | 1],this.p1[1]);F3O.j0H(2);T2i=F3O.Z0H(z2i,y2i);this.outer={p0:J9w.clone(this.p0),p1:J9w.clone(this.p1)};Q2i=f2i.pixelFromValueAdjusted(u2i,this.p0[+"0"],this.p0[1]);C2i=f2i.pixelFromValueAdjusted(u2i,this.p1[0],this.p1[1]);i2i=f2i.pixelFromTick(this.p0[0],u2i.chart);P2i=f2i.pixelFromTick(this.p1[0],u2i.chart);I05=- +"1754265908";y05=-1165184673;d05=2;for(var V05=1;F3O.J35(V05.toString(),V05.toString().length,76575) !== I05;V05++){x2i=0;d05+=2;}if(F3O.J35(d05.toString(),d05.toString().length,"31951" | 4168) !== y05){x2i=4;}G2i=1;for(var V2i=+"0";V2i < this.parameters.fibs.length;V2i++){h2i=this.parameters.fibs[V2i];if(h2i.level >= x2i && h2i.level <= G2i || !h2i.display)continue;n2i=f2i.pixelFromValueAdjusted(u2i,this.p0[0],C2i < Q2i?y2i - T2i * h2i.level:z2i + T2i * h2i.level);A2i=J9w.xIntersection({x0:i2i,x1:P2i,y0:Q2i,y1:C2i},n2i);if(h2i.level < x2i){x2i=h2i.level;this.outer.p1[1]=f2i.valueFromPixel(n2i,u2i);this.outer.p1[0]=f2i.tickFromPixel(A2i,u2i.chart);}else if(h2i.level > G2i){G2i=h2i.level;this.outer.p0[1]=f2i.valueFromPixel(n2i,u2i);this.outer.p0[0]=f2i.tickFromPixel(A2i,u2i.chart);}}};J9w.Drawing.fibonacci.prototype.click=function(a2i,v2i,t2i){var N2i;N2i=this.stx.panels[this.panelName];if(!N2i){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,v2i,t2i,N2i.chart);this.penDown=!"";return ! !"";}if(this.accidentalClick(v2i,t2i)){return this.dragToDraw;}F3O.U2O();this.setPoint(1,v2i,t2i,N2i.chart);this.setOuter();this.parameters=J9w.clone(this.parameters);this.penDown=! !"";return !0;;};J9w.Drawing.fibonacci.prototype.render=function(c2i){var X45,c45,b2i,D2i,X2i,l2i,U2i,R2i,d2i,J2i,S2i,e2i,r2i,M2i,W2i,f9i,H2i,u9i,B2i,w2i,g2i,I2i,m2i,J45,A45,Z2i,L2i,j2i,O2i,Y2i,F45,h9i,q2i,F2i,s2i,k2i,o2i,K2i,r45,x9i,G9i;X45="mi";X45+="ddle";c45="aut";c45+="o";b2i=this.stx.panels[this.panelName];if(!b2i){return;}D2i=b2i.yAxis;if(!this.p1){return;}X2i=Math.max(this.p0[1],this.p1[+"1"]);l2i=Math.min(this.p0[1],this.p1[+"1"]);U2i=D2i.flipped?l2i - X2i:X2i - l2i;R2i=this.stx.pixelFromTick(this.p0[0],b2i.chart);d2i=this.stx.pixelFromTick(this.p1["0" >> 324827424],b2i.chart);J2i=this.stx.pixelFromValueAdjusted(b2i,this.p0[0],this.p0[1]);S2i=this.stx.pixelFromValueAdjusted(b2i,this.p1["0" ^ 0],this.p1[1]);e2i=Math.min(S2i,J2i);r2i=Math.max(S2i,J2i);F3O.j0H(2);M2i=F3O.a0H(e2i,r2i);F3O.H0H(28);W2i=F3O.Z0H(0,R2i,S2i,d2i,J2i);f9i={color:c45,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=f9i;}H2i=this.getLineColor(this.parameters.trend.color);c2i.textBaseline=X45;this.stx.canvasFont("stx_yaxis",c2i);u9i=c2i.measureText("161.8%").width + 10;B2i=Number.MAX_VALUE;w2i=Number.MAX_VALUE;g2i=Number.MAX_VALUE * -1;F3O.U2O();I2i=Number.MAX_VALUE * -1;m2i=this.color;if(m2i == "auto" || J9w.isTransparent(m2i)){m2i=this.stx.defaultColor;}this.rays=[];for(var E2i="0" | 0;E2i < this.parameters.fibs.length;E2i++){J45="se";J45+="gm";J45+="e";J45+="nt";A45="au";A45+="t";A45+="o";c2i.textAlign="left";c2i.fillStyle=m2i;Z2i=this.parameters.fibs[E2i];if(!Z2i.display)continue;L2i=this.stx.pixelFromValueAdjusted(b2i,this.p0[0],S2i < J2i?X2i - U2i * Z2i.level:l2i + U2i * Z2i.level);j2i=J9w.xIntersection({x0:R2i,x1:d2i,y0:J2i,y1:S2i},L2i);O2i=this.parameters.extendLeft?"0" >> 1540842112:j2i;Y2i=b2i.left + b2i.width;if(this.parameters.printLevels){F45="ri";F45+="g";F45+="h";F45+="t";h9i=Math.round(Z2i.level * 1000) / 10 + "%";Y2i-=u9i;if(this.parameters.printValues){c2i.fillStyle=m2i;this.stx.canvasFont("stx_yaxis",c2i);;}if(Y2i < O2i){c2i.textAlign=F45;}c2i.fillText(h9i,Y2i,L2i);if(Y2i < O2i){Y2i+=5;}else {F3O.H0H(14);Y2i-=F3O.a0H(2147483647,"5");}}if(this.parameters.printValues){if(j2i < b2i.width){q2i=this.stx.transformedPriceFromPixel(L2i,b2i);if(D2i.priceFormatter){q2i=D2i.priceFormatter(this.stx,b2i,q2i);}else {q2i=this.stx.formatYAxisPrice(q2i,b2i);}if(c2i == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(b2i,q2i,L2i,m2i,null,c2i);if(c2i == this.stx.chart.context){this.stx.startClip(b2i.name);}}}F2i=Z2i.color;if(F2i == "auto" || J9w.isTransparent(F2i)){F2i=this.color;}if(F2i == "auto" || J9w.isTransparent(F2i)){F2i=this.stx.defaultColor;}s2i=Z2i.color;if(s2i == "auto" || J9w.isTransparent(s2i)){s2i=this.fillColor;}if(s2i == A45 || J9w.isTransparent(s2i)){s2i=this.stx.defaultColor;}c2i.fillStyle=s2i;k2i=J9w.clone(Z2i.parameters);if(this.highlighted){k2i.opacity=1;}this.stx.plotLine(O2i,Y2i,L2i,L2i,this.highlighted?H2i:F2i,J45,c2i,b2i,k2i);this.rays.push([[O2i,L2i],[Y2i,L2i]]);c2i.globalAlpha=0.05;c2i.beginPath();c2i.moveTo(Y2i,L2i);c2i.lineTo(O2i,L2i);if(O2i){c2i.lineTo(d2i,S2i);}else {c2i.lineTo(O2i,S2i);}c2i.lineTo(Y2i,S2i);if(typeof s2i != "undefined"){c2i.fill();}c2i.globalAlpha=1;if(L2i < w2i){B2i=j2i;w2i=L2i;}if(L2i > I2i){g2i=j2i;I2i=L2i;}}for(var p2i=0;p2i <= 1;p2i++){o2i=W2i?r2i - M2i * p2i:e2i + M2i * p2i;o2i=Math.round(o2i);if(o2i < w2i){B2i=J9w.xIntersection({x0:R2i,x1:d2i,y0:J2i,y1:S2i},o2i);w2i=o2i;}if(o2i > I2i){g2i=J9w.xIntersection({x0:R2i,x1:d2i,y0:J2i,y1:S2i},o2i);I2i=o2i;}}K2i=J9w.clone(this.parameters.trend.parameters);if(this.highlighted){F3O.j0H(5);K2i.opacity=F3O.Z0H(0,"1");}this.stx.plotLine(B2i,g2i,w2i,I2i,H2i,"segment",c2i,b2i,K2i);if(this.highlighted){r45="p";r45+="0";x9i=this.highlighted == r45?! !1:! !"";G9i=this.highlighted == "p1"?! !{}:!1;this.littleCircle(c2i,R2i,J2i,x9i);this.littleCircle(c2i,d2i,S2i,G9i);}};J9w.Drawing.fibonacci.prototype.reposition=function(n9i,V9i,y9i,z9i){if(!V9i){return;}J9w.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);F3O.p2O();this.adjust();};J9w.Drawing.fibonacci.prototype.intersected=function(t9i,a9i,c9i){var C9i,A9i,i9i,P9i,N9i,v9i,b45,q45;C9i=this.p0;A9i=this.p1;if(!C9i || !A9i){return null;}i9i={0:C9i,1:A9i};for(var T9i in i9i){if(this.pointIntersection(i9i[T9i][+"0"],i9i[T9i][1],c9i)){F3O.j0H(0);this.highlighted=F3O.Z0H(T9i,2040 > (2640,8530)?(2955,1310) != 8852?271.51:(9.46e+3,516.72):"p");return {action:"drag",point:(("2781" | 2129,700) >= (+"5906",1126)?"0x8cd" - 0:(612.05,"8200" * 1) != (6740,+"991.15")?(2197,8360) !== 4800?"p":!{}:("C","E")) + T9i};}}P9i=this.outer;N9i=this.rays;v9i=P9i && this.lineIntersection(t9i,a9i,c9i,"segment",P9i.p0,P9i.p1);if(!v9i){for(var Q9i=0;Q9i < N9i.length;Q9i++){b45="r";b45+="a";b45+="y";if(this.lineIntersection(t9i,a9i,c9i,b45,N9i[Q9i][+"0"],N9i[Q9i][1],! ![])){v9i=! !1;break;}}}if(v9i){q45="mo";q45+="ve";this.highlighted=! !{};return {action:q45,p0:J9w.clone(C9i),p1:J9w.clone(A9i),tick:t9i,value:a9i};}F3O.p2O();return null;};J9w.Drawing.fibonacci.prototype.reconstruct=function(L9i,b9i){b9i=J9w.replaceFields(b9i,J9w.reverseObject(J9w.Drawing.fibonacci.mapping));this.stx=L9i;this.parameters=b9i.parameters;if(!this.parameters){this.parameters=J9w.clone(this.stx.currentVectorParameters.fibonacci);}this.color=b9i.col;this.fillColor=b9i.fc;this.panelName=b9i.pnl;this.d0=b9i.d0;this.d1=b9i.d1;F3O.U2O();this.d2=b9i.d2;this.tzo0=b9i.tzo0;this.tzo1=b9i.tzo1;this.tzo2=b9i.tzo2;this.v0=b9i.v0;this.v1=b9i.v1;this.v2=b9i.v2;this.adjust();};J9w.Drawing.fibonacci.prototype.adjust=function(){var S9i,i75,m75,P75;S9i=this.stx.panels[this.panelName];if(!S9i){return;}this.setPoint(0,this.d0,this.v0,S9i.chart);i75=538026134;m75=1354419706;P75=2;for(var M75=1;F3O.U35(M75.toString(),M75.toString().length,24501) !== i75;M75++){this.setPoint(+"1",this.d1,this.v1,S9i.chart);P75+=2;}F3O.U2O();if(F3O.J35(P75.toString(),P75.toString().length,90649) !== m75){this.setPoint(+"5",this.d1,this.v1,S9i.chart);}this.setOuter();};J9w.Drawing.fibonacci.prototype.serialize=function(){F3O.p2O();var Y9i;Y9i={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return J9w.replaceFields(Y9i,J9w.Drawing.fibonacci.mapping);};J9w.Drawing.retracement=function(){var d75,v75,V75;F3O.H0H(14);d75=F3O.Z0H(2147483647,"1744702715");F3O.j0H(14);v75=F3O.Z0H(2147483647,"226140196");F3O.p2O();V75=2;for(var C75=1;F3O.U35(C75.toString(),C75.toString().length,69375) !== d75;C75++){this.name="";V75+=2;}if(F3O.J35(V75.toString(),V75.toString().length,"8304" - 0) !== v75){this.name="retracement";}};J9w.inheritsFrom(J9w.Drawing.retracement,J9w.Drawing.fibonacci);J9w.Drawing.fibprojection=function(){var R45;R45="f";F3O.p2O();R45+="ibpr";R45+="o";R45+="jection";this.name=R45;this.dragToDraw=! !"";this.p2=null;};J9w.inheritsFrom(J9w.Drawing.fibprojection,J9w.Drawing.fibonacci);F3O.j0H(12);J9w.Drawing.fibprojection.prototype.recommendedLevels=[+"0",+"0.618",F3O.a0H("1",1),1.272,1.618,2.618,+"4.236"];J9w.Drawing.fibprojection.prototype.click=function(Z9i,s9i,o9i){var J9i;J9i=this.stx.panels[this.panelName];if(!J9i){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,s9i,o9i,J9i.chart);this.penDown=! !1;return !{};}if(this.accidentalClick(s9i,o9i)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[+"1"],J9i.chart);this.parameters=J9w.clone(this.parameters);return ! !{};}this.setPoint(1,s9i,o9i,J9i.chart);F3O.j0H(20);this.p2=[this.p1[F3O.Z0H("0",1)],this.p1[1]];return ![];;};J9w.Drawing.fibprojection.prototype.render=function(O9i){var e45,M45,P45,m45,F9i,M9i,k9i,D9i,l9i,g9i,B9i,E9i,q9i,K9i,U9i,W9i,j9i,C45,y45,W45,D45,p9i,d9i,f7i,w9i,m9i,u7i,X9i,I9i,R9i,H9i,r9i,h7i,x7i,G7i;e45="a";e45+="u";e45+="to";M45="m";M45+="i";M45+="ddle";F3O.U2O();P45="so";P45+="l";P45+="i";P45+="d";m45="a";m45+="ut";m45+="o";F9i=this.stx.panels[this.panelName];if(!F9i){return;}M9i=F9i.yAxis;if(!this.p1){return;}k9i=this.p1[1] - this.p0["1" | 0];D9i=this.stx.pixelFromTick(this.p0[0],F9i.chart);l9i=this.stx.pixelFromTick(this.p1[0],F9i.chart);g9i=this.stx.pixelFromValueAdjusted(F9i,this.p0[0],this.p0["1" & 2147483647]);B9i=this.stx.pixelFromValueAdjusted(F9i,this.p1[0],this.p1[+"1"]);E9i=null;q9i=null;if(this.p2){E9i=this.stx.pixelFromTick(this.p2[0],F9i.chart);q9i=this.stx.pixelFromValueAdjusted(F9i,this.p2[0],this.p2[1]);}K9i={color:m45,parameters:{pattern:P45,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=K9i;}U9i=this.getLineColor(this.parameters.trend.color);O9i.textBaseline=M45;this.stx.canvasFont("stx_yaxis",O9i);W9i=O9i.measureText("161.8%").width + 10;j9i=this.color;if(j9i == e45 || J9w.isTransparent(j9i)){j9i=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var e9i=+"0";e9i < this.parameters.fibs.length;e9i++){C45="segme";C45+="n";C45+="t";y45="a";y45+="ut";y45+="o";W45="a";W45+="uto";D45="l";D45+="e";D45+="f";D45+="t";O9i.textAlign=D45;O9i.fillStyle=j9i;p9i=this.parameters.fibs[e9i];if(!p9i.display)continue;d9i=this.stx.pixelFromValueAdjusted(F9i,this.p2["0" >> 85517472],this.p2[1] + k9i * p9i.level);f7i=J9w.xIntersection({x0:D9i,x1:l9i,y0:g9i,y1:B9i},d9i);w9i=this.parameters.extendLeft?"0" | 0:D9i;m9i=F9i.left + F9i.width;if(this.parameters.printLevels){u7i=Math.round(p9i.level * +"1000") / +"10" + ((8090,2150) > (1960,9.94)?4310 !== 7850?"%":(0x1e1,435):5.82e+3);m9i-=W9i;if(this.parameters.printValues){O9i.fillStyle=j9i;this.stx.canvasFont("stx_yaxis",O9i);;}if(m9i < w9i){O9i.textAlign="right";}O9i.fillText(u7i,m9i,d9i);if(m9i < w9i){m9i+=5;}else {m9i-=5;}}if(this.parameters.printValues){if(f7i < F9i.width){X9i=this.stx.transformedPriceFromPixel(d9i,F9i);if(M9i.priceFormatter){X9i=M9i.priceFormatter(this.stx,F9i,X9i);}else {X9i=this.stx.formatYAxisPrice(X9i,F9i);}if(O9i == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(F9i,X9i,d9i,j9i,null,O9i);if(O9i == this.stx.chart.context){this.stx.startClip(F9i.name);}}}I9i=p9i.color;if(I9i == "auto" || J9w.isTransparent(I9i)){I9i=this.color;}if(I9i == W45 || J9w.isTransparent(I9i)){I9i=this.stx.defaultColor;}R9i=p9i.color;if(R9i == "auto" || J9w.isTransparent(R9i)){R9i=this.fillColor;}if(R9i == y45 || J9w.isTransparent(R9i)){R9i=this.stx.defaultColor;}O9i.fillStyle=R9i;H9i=J9w.clone(p9i.parameters);if(this.highlighted){H9i.opacity=1;}this.stx.plotLine(w9i,m9i,d9i,d9i,this.highlighted?U9i:I9i,C45,O9i,F9i,H9i);this.rays.push([[w9i,d9i],[m9i,d9i]]);O9i.globalAlpha=0.05;O9i.beginPath();O9i.moveTo(m9i,d9i);O9i.lineTo(w9i,d9i);if(w9i){O9i.lineTo(D9i,q9i);}else {O9i.lineTo(w9i,q9i);}O9i.lineTo(m9i,q9i);if(typeof R9i != "undefined"){O9i.fill();}O9i.globalAlpha=1;}}r9i=J9w.clone(this.parameters.trend.parameters);if(this.highlighted){r9i.opacity=1;}this.stx.plotLine(D9i,l9i,g9i,B9i,U9i,"segment",O9i,F9i,r9i);if(this.p2){this.stx.plotLine(l9i,E9i,B9i,q9i,U9i,"segment",O9i,F9i,r9i);}if(this.highlighted){h7i=this.highlighted == "p0"?! !{}:!{};x7i=this.highlighted == "p1"?!"":!{};G7i=this.highlighted == "p2"?! ![]:!{};this.littleCircle(O9i,D9i,g9i,h7i);this.littleCircle(O9i,l9i,B9i,x7i);this.littleCircle(O9i,E9i,q9i,G7i);}};J9w.Drawing.fibprojection.prototype.move=function(y7i,V7i,n7i){F3O.p2O();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[V7i,n7i];}else {this.p2=[V7i,n7i];}this.render(y7i);};J9w.Drawing.fibprojection.prototype.reposition=function(A7i,z7i,i7i,P7i){var T7i,Q7i,C7i;if(!z7i){return;}T7i=this.stx.panels[this.panelName];Q7i=z7i.tick - i7i;C7i=z7i.value - P7i;F3O.U2O();if(z7i.action == "move"){F3O.H0H(17);this.setPoint(F3O.Z0H("0",1657144512),z7i.p0[0] - Q7i,z7i.p0[1] - C7i,T7i.chart);this.setPoint(1,z7i.p1[0] - Q7i,z7i.p1[1] - C7i,T7i.chart);this.setPoint(2,z7i.p2[0] - Q7i,z7i.p2["1" - 0] - C7i,T7i.chart);this.render(A7i);}else if(z7i.action == "drag"){this[z7i.point]=[i7i,P7i];this.setPoint(0,this.p0[0],this.p0["1" - 0],T7i.chart);this.setPoint(1,this.p1[0],this.p1[1],T7i.chart);this.setPoint(2,this.p2[0],this.p2[1],T7i.chart);this.render(A7i);}};J9w.Drawing.fibprojection.prototype.intersected=function(b7i,L7i,S7i){var S45,v7i,N7i,t7i,Y7i,Y45,J7i,s7i;S45="s";S45+="egment";v7i=this.p0;N7i=this.p1;t7i=this.p2;if(!v7i || !N7i || !t7i){return null;}Y7i={0:v7i,1:N7i,2:t7i};for(var a7i in Y7i){if(this.pointIntersection(Y7i[a7i][0],Y7i[a7i][1],S7i)){Y45="d";Y45+="ra";Y45+="g";F3O.H0H(0);this.highlighted=F3O.a0H(a7i,"p");return {action:Y45,point:"p" + a7i};}}J7i=this.rays;s7i=this.lineIntersection(b7i,L7i,S7i,"segment",v7i,N7i) || this.lineIntersection(b7i,L7i,S7i,S45,N7i,t7i);F3O.U2O();if(!s7i){for(var c7i=+"0";c7i < J7i.length;c7i++){if(this.lineIntersection(b7i,L7i,S7i,"ray",J7i[c7i][0],J7i[c7i][1],!"")){s7i=! !{};break;}}}if(s7i){this.highlighted=! !{};return {action:"move",p0:J9w.clone(v7i),p1:J9w.clone(N7i),p2:J9w.clone(t7i),tick:b7i,value:L7i};}return null;};J9w.Drawing.fibprojection.prototype.adjust=function(){var o7i,O85,F85,g85;o7i=this.stx.panels[this.panelName];if(!o7i){return;}F3O.U2O();this.setPoint(0,this.d0,this.v0,o7i.chart);O85=-1796251877;F85=1622839302;g85=2;for(var L85=1;F3O.U35(L85.toString(),L85.toString().length,41837) !== O85;L85++){this.setPoint(1,this.d1,this.v1,o7i.chart);this.setPoint(2,this.d2,this.v2,o7i.chart);g85+=2;}if(F3O.U35(g85.toString(),g85.toString().length,57549) !== F85){this.setPoint(8,this.d1,this.v1,o7i.chart);this.setPoint(7,this.d2,this.v2,o7i.chart);}};J9w.Drawing.fibarc=function(){this.name="fibarc";;};J9w.inheritsFrom(J9w.Drawing.fibarc,J9w.Drawing.fibonacci);F3O.H0H(20);J9w.Drawing.fibarc.prototype.recommendedLevels=[F3O.Z0H("0.382",1),0.5,0.618,+"1"];J9w.Drawing.fibarc.prototype.setOuter=function(){var Z7i,O7i,F7i,m7i,R7i,d7i,w7i;Z7i=this.stx.panels[this.panelName];if(!Z7i){return;}this.outer={p0:J9w.clone(this.p0),p1:J9w.clone(this.p1)};O7i=this.stx.pixelFromValueAdjusted(Z7i,this.p0[0],this.p0["1" * 1]);F7i=this.stx.pixelFromValueAdjusted(Z7i,this.p1[0],this.p1[1]);m7i=this.stx.pixelFromTick(this.p0[0],Z7i.chart);R7i=this.stx.pixelFromTick(this.p1[0],Z7i.chart);F3O.H0H(29);d7i=F3O.a0H(2,O7i,F7i);w7i=J9w.xIntersection({x0:m7i,x1:R7i,y0:O7i,y1:F7i},d7i);this.outer.p0[+"1"]=this.stx.valueFromPixel(d7i,Z7i);this.outer.p0[0]=this.stx.tickFromPixel(w7i,Z7i.chart);};J9w.Drawing.fibarc.prototype.intersected=function(D7i,g7i,q7i){var B45,E7i,j7i,p7i,e7i,U7i,M7i,I7i,l7i,r7i,B7i;B45="s";B45+="egm";B45+="en";B45+="t";E7i=this.stx.panels[this.panelName];if(!E7i){return;}j7i=this.p0;p7i=this.p1;e7i=this.outer;if(!j7i || !p7i){return null;}U7i={0:j7i,1:p7i};for(var X7i in U7i){if(this.pointIntersection(U7i[X7i][0],U7i[X7i][+"1"],q7i)){F3O.H0H(0);this.highlighted=F3O.Z0H(X7i,"p");return {action:"drag",point:(8040 !== ("356.07" - 0,7820)?6630 <= +"8319"?"p":! !{}:("0xe08" & 2147483647,916.70)) + X7i};}}if(this.lineIntersection(D7i,g7i,q7i,B45,e7i.p0,e7i.p1)){this.highlighted=! !{};return {action:"move",p0:J9w.clone(j7i),p1:J9w.clone(p7i),tick:D7i,value:g7i};}M7i={x0:j7i[0],x1:p7i[0],y0:j7i[1],y1:p7i[1]};I7i=J9w.convertBoxToPixels(this.stx,this.panelName,M7i);l7i={x:Math.abs(Math.sqrt(2) * (I7i.x1 - I7i.x0)),y:Math.abs(Math.sqrt(2) * (I7i.y1 - I7i.y0))};r7i=this.stx.pixelFromTick(D7i,E7i.chart);B7i=this.stx.pixelFromValueAdjusted(E7i,D7i,g7i);if(r7i + q7i.r < I7i.x1 - l7i.x || r7i - q7i.r > I7i.x1 + l7i.x){return null;}if(B7i + q7i.r < I7i.y1 - l7i.y || B7i - q7i.r > I7i.y1 + l7i.y){return null;}if(I7i.y0 < I7i.y1 && B7i - q7i.r > I7i.y1){return null;}if(I7i.y0 > I7i.y1 && B7i + q7i.r < I7i.y1){return null;}this.highlighted=! ![];return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:D7i,value:g7i};};J9w.Drawing.fibarc.prototype.render=function(H7i){var K2J,u2J,s2J,k7i,z6i,n6i,f6i,G6i,W7i,Q6i,C6i,A6i,x6i,G2J,t2J,K7i,N6i,i6i,y6i,v6i,t6i,V6i,u6i,h6i,P6i,a2J,a6i,c6i;K2J="l";K2J+="ef";K2J+="t";u2J="a";u2J+="uto";s2J="m";s2J+="id";s2J+="d";s2J+="le";k7i=this.stx.panels[this.panelName];if(!k7i){return;}z6i=k7i.yAxis;if(!this.p1){return;}n6i=this.stx.pixelFromTick(this.p0[0],k7i.chart);f6i=this.stx.pixelFromTick(this.p1[0],k7i.chart);G6i=this.stx.pixelFromValueAdjusted(k7i,this.p0[0],this.p0["1" >> 769490944]);W7i=this.stx.pixelFromValueAdjusted(k7i,this.p1[0],this.p1[1]);F3O.j0H(30);Q6i=F3O.Z0H(W7i,G6i);F3O.H0H(31);C6i=Math.abs(F3O.Z0H(W7i,G6i,n6i,f6i));A6i=this.getLineColor(this.parameters.trend.color);H7i.textBaseline=s2J;this.stx.canvasFont("stx_yaxis",H7i);x6i=this.color;if(x6i == u2J || J9w.isTransparent(x6i)){x6i=this.stx.defaultColor;}for(var T6i=+"0";T6i < this.parameters.fibs.length;T6i++){G2J="n";G2J+="one";t2J="a";t2J+="u";t2J+="to";H7i.fillStyle=x6i;K7i=this.parameters.fibs[T6i];if(K7i.level < 0 || !K7i.display)continue;N6i=Math.abs(this.p1[1] - this.p0["1" >> 190858528]) * Math.sqrt(2) * K7i.level;i6i=this.p1["1" << 590451616] + N6i * (Q6i?-1:1) * (z6i.flipped?- +"1":"1" | 0);y6i=this.stx.pixelFromValueAdjusted(k7i,this.p0[0],i6i);v6i=J9w.xIntersection({x0:n6i,x1:f6i,y0:G6i,y1:W7i},y6i);if(this.parameters.printLevels){H7i.textAlign="center";t6i=Math.round(K7i.level * 1000) / 10 + "%";if(this.parameters.printValues){H7i.fillStyle=x6i;this.stx.canvasFont("stx_yaxis",H7i);;}H7i.fillText(t6i,f6i,Math.round(y6i - 5));}H7i.textAlign="left";if(this.parameters.printValues){if(v6i < k7i.width){V6i=i6i;if(z6i.priceFormatter){V6i=z6i.priceFormatter(this.stx,k7i,V6i);}else {V6i=this.stx.formatYAxisPrice(V6i,k7i);}if(H7i == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(k7i,V6i,y6i,x6i,null,H7i);if(H7i == this.stx.chart.context){this.stx.startClip(k7i.name);}}}u6i=K7i.color;if(u6i == "auto" || J9w.isTransparent(u6i)){u6i=this.color;}if(u6i == "auto" || J9w.isTransparent(u6i)){u6i=this.stx.defaultColor;}H7i.strokeStyle=this.highlight?A6i:u6i;h6i=K7i.color;if(h6i == "auto" || J9w.isTransparent(h6i)){h6i=this.fillColor;}if(h6i == t2J || J9w.isTransparent(h6i)){h6i=this.stx.defaultColor;}H7i.fillStyle=h6i;H7i.globalAlpha=this.highlighted?"1" & 2147483647:K7i.parameters.opacity;H7i.lineWidth=K7i.parameters.lineWidth;if(H7i.setLineDash){H7i.setLineDash(J9w.borderPatternToArray(H7i.lineWidth,K7i.parameters.pattern));H7i.lineDashOffset=0;;}H7i.save();H7i.beginPath();F3O.j0H(4);H7i.scale(F3O.a0H(C6i,1),1);F3O.j0H(20);H7i.arc(F3O.a0H(f6i,C6i),W7i,Math.abs(y6i - W7i),0,Math.PI,!Q6i);if(this.pattern != G2J){H7i.stroke();}F3O.H0H(20);H7i.globalAlpha=F3O.a0H("0.05",1);H7i.fill();H7i.restore();if(H7i.setLineDash){H7i.setLineDash([]);}H7i.globalAlpha=+"1";}H7i.textAlign=K2J;P6i=J9w.clone(this.parameters.trend.parameters);if(this.highlighted){P6i.opacity=1;}F3O.j0H(29);this.stx.plotLine(f6i,F3O.a0H(2,n6i,f6i),W7i,F3O.Z0H(W7i,"2",G6i,253274304,F3O.j0H(32)),A6i,"segment",H7i,k7i,P6i);if(this.highlighted){a2J="p";a2J+="1";a6i=this.highlighted == "p0"?!0:! !0;c6i=this.highlighted == a2J?! !{}:! !0;this.littleCircle(H7i,n6i,G6i,a6i);this.littleCircle(H7i,f6i,W7i,c6i);}};J9w.Drawing.fibfan=function(){this.name="fibfan";F3O.p2O();;};J9w.inheritsFrom(J9w.Drawing.fibfan,J9w.Drawing.fibonacci);F3O.j0H(20);J9w.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,+"0.5",F3O.Z0H("0.618",1),F3O.Z0H(2147483647,"1",F3O.H0H(14))];J9w.Drawing.fibfan.prototype.setOuter=function(){};J9w.Drawing.fibfan.prototype.render=function(b6i){var Q2J,S6i,B6i,L6i,o6i,Y6i,w6i,g6i,E6i,U6i,r6i,M6i,q6i,j6i,p6i,F6i,x2J,d6i,s6i,D6i,J6i,m6i,H6i,c2J,n2J,I6i,Z6i,O6i,e6i,R6i,X2J,k6i,K6i;Q2J="au";Q2J+="to";S6i=this.stx.panels[this.panelName];if(!S6i){return;}B6i=S6i.yAxis;if(!this.p1){return;}L6i=this.stx.pixelFromTick(this.p0[0],S6i.chart);o6i=this.stx.pixelFromTick(this.p1[0],S6i.chart);Y6i=this.stx.pixelFromValueAdjusted(S6i,this.p0[0],this.p0[1]);w6i=this.stx.pixelFromValueAdjusted(S6i,this.p1[0],this.p1[1]);g6i=Math.min(w6i,Y6i);E6i=Math.max(w6i,Y6i);F3O.H0H(2);U6i=F3O.a0H(g6i,E6i);F3O.H0H(28);r6i=F3O.Z0H(0,L6i,w6i,o6i,Y6i);M6i=this.getLineColor(this.parameters.trend.color);b6i.textBaseline="middle";this.stx.canvasFont("stx_yaxis",b6i);q6i=b6i.measureText("161.8%").width + 10;j6i=Number.MAX_VALUE;p6i=Number.MAX_VALUE * -1;F6i=this.color;if(F6i == Q2J || J9w.isTransparent(F6i)){F6i=this.stx.defaultColor;}this.rays=[];for(var l6i=0;l6i < this.parameters.fibs.length;l6i++){x2J="a";x2J+="uto";b6i.fillStyle=F6i;d6i=this.parameters.fibs[l6i];if(!d6i.display)continue;s6i=this.stx.pixelFromValueAdjusted(S6i,this.p0[0],(this.p0[1] - this.p1[1]) * d6i.level + this.p1[1]);D6i=J9w.xIntersection({x0:o6i,x1:o6i,y0:Y6i,y1:w6i},s6i);J6i=S6i.left;if(o6i > L6i){J6i+=S6i.width;}F3O.j0H(33);m6i=F3O.a0H(Y6i,J6i,Y6i,L6i,s6i,D6i,L6i);if(L6i > J6i - (this.parameters.printLevels?q6i + 5:0) && o6i > L6i)continue;else if(L6i < J6i + (this.parameters.printLevels?q6i + 5:0) && o6i < L6i)continue;if(this.parameters.printLevels){H6i=Math.round(d6i.level * 1000) / 10 + "%";if(o6i > L6i){c2J="l";c2J+="e";c2J+="f";c2J+="t";J6i-=q6i;b6i.textAlign=c2J;}else {n2J="ri";n2J+="gh";n2J+="t";J6i+=q6i;b6i.textAlign=n2J;}if(this.parameters.printValues){b6i.fillStyle=F6i;this.stx.canvasFont("stx_yaxis",b6i);;}F3O.j0H(33);m6i=F3O.a0H(Y6i,J6i,Y6i,L6i,s6i,D6i,L6i);b6i.fillText(H6i,J6i,m6i);if(o6i > L6i){J6i-=5;}else {F3O.H0H(20);J6i+=F3O.Z0H("5",1);}}b6i.textAlign="left";if(this.parameters.printValues){if(D6i < S6i.width){I6i=this.stx.transformedPriceFromPixel(s6i,S6i);if(B6i.priceFormatter){I6i=B6i.priceFormatter(this.stx,S6i,I6i);}else {I6i=this.stx.formatYAxisPrice(I6i,S6i);}if(b6i == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(S6i,I6i,s6i,F6i,null,b6i);if(b6i == this.stx.chart.context){this.stx.startClip(S6i.name);}}}Z6i=d6i.color;if(Z6i == "auto" || J9w.isTransparent(Z6i)){Z6i=this.color;}if(Z6i == "auto" || J9w.isTransparent(Z6i)){Z6i=this.stx.defaultColor;}O6i=d6i.color;if(O6i == "auto" || J9w.isTransparent(O6i)){O6i=this.fillColor;}if(O6i == x2J || J9w.isTransparent(O6i)){O6i=this.stx.defaultColor;}b6i.fillStyle=O6i;if(this.parameters.printLevels){F3O.j0H(33);m6i=F3O.a0H(Y6i,J6i,Y6i,L6i,s6i,D6i,L6i);}e6i=J9w.clone(d6i.parameters);if(this.highlighted){e6i.opacity=1;}this.stx.plotLine(L6i,J6i,Y6i,m6i,this.highlighted?M6i:Z6i,"segment",b6i,S6i,e6i);this.rays.push([[L6i,Y6i],[J6i,m6i]]);b6i.globalAlpha=0.05;b6i.beginPath();b6i.moveTo(J6i,m6i);b6i.lineTo(L6i,Y6i);b6i.lineTo(J6i,Y6i);b6i.fill();b6i.globalAlpha=+"1";if(s6i < j6i){j6i=s6i;}if(s6i > p6i){p6i=s6i;}}for(var X6i="0" >> 645310368;X6i <= 1;X6i++){R6i=r6i?E6i - U6i * X6i:g6i + U6i * X6i;R6i=Math.round(R6i);if(R6i < j6i){j6i=R6i;}if(R6i > p6i){p6i=R6i;}}if(this.highlighted){X2J="p";X2J+="0";k6i=this.highlighted == X2J?! ![]:![];K6i=this.highlighted == "p1"?! !{}:!{};this.littleCircle(b6i,L6i,Y6i,k6i);this.littleCircle(b6i,o6i,w6i,K6i);}};J9w.Drawing.fibtimezone=function(){F3O.U2O();var O2J;O2J="fibt";O2J+="i";O2J+="mezone";this.name=O2J;;};J9w.inheritsFrom(J9w.Drawing.fibtimezone,J9w.Drawing.fibonacci);J9w.Drawing.fibtimezone.prototype.render=function(W6i){var J2J,L2J,A2J,g2J,F2J,f5i,u5i,V5i,C5i,A5i,T5i,i5i,t5i,P5i,z5i,h5i,N5i,n5i,y5i,x5i,G5i,Q5i,U2J,a5i,c5i,v5i;J2J="a";J2J+="u";J2J+="t";J2J+="o";L2J="au";L2J+="to";A2J="aut";A2J+="o";g2J="aut";g2J+="o";F2J="mid";F2J+="dle";f5i=this.stx.panels[this.panelName];if(!f5i){return;}if(!this.p1){return;}u5i=this.stx.pixelFromTick(this.p0[0],f5i.chart);V5i=this.stx.pixelFromTick(this.p1[0],f5i.chart);C5i=this.stx.pixelFromValueAdjusted(f5i,this.p0[0],this.p0[1]);A5i=this.stx.pixelFromValueAdjusted(f5i,this.p1[0],this.p1[1]);T5i=[1,+"0"];i5i=this.getLineColor(this.parameters.trend.color);W6i.textBaseline=F2J;this.stx.canvasFont("stx_yaxis",W6i);t5i=20;P5i=this.p1[0] - this.p0[0];z5i=this.color;if(z5i == "auto" || J9w.isTransparent(z5i)){z5i=this.stx.defaultColor;}W6i.textAlign="center";h5i=u5i;N5i=f5i.yAxis.top;n5i=f5i.yAxis.bottom;F3O.H0H(5);y5i=F3O.a0H(0,"0");x5i=this.parameters.timezone.color;if(x5i == g2J || J9w.isTransparent(x5i)){x5i=this.color;}if(x5i == A2J || J9w.isTransparent(x5i)){x5i=this.stx.defaultColor;}G5i=this.parameters.timezone.color;if(G5i == L2J || J9w.isTransparent(G5i)){G5i=this.fillColor;}if(G5i == J2J || J9w.isTransparent(G5i)){G5i=this.stx.defaultColor;}if(this.parameters.printLevels){F3O.j0H(2);n5i-=F3O.Z0H(7,t5i);}Q5i=J9w.clone(this.parameters.timezone.parameters);if(this.highlighted){Q5i.opacity=1;}do {h5i=this.stx.pixelFromTick(this.p0[0] + y5i * P5i,f5i.chart);if(u5i < V5i && h5i > f5i.left + f5i.width)break;else if(u5i > V5i && h5i < f5i.left)break;if(this.parameters.printLevels){W6i.fillStyle=z5i;W6i.fillText(V5i > u5i?y5i:y5i * -1,h5i,n5i + 7);}W6i.fillStyle=G5i;this.stx.plotLine(h5i,h5i,0,n5i,this.highlighted?i5i:x5i,"segment",W6i,f5i,Q5i);W6i.globalAlpha=0.05;W6i.beginPath();W6i.moveTo(u5i,N5i);W6i.lineTo(h5i,N5i);W6i.lineTo(h5i,n5i);W6i.lineTo(u5i,n5i);W6i.fill();W6i.globalAlpha=1;y5i=T5i[0] + T5i[+"1"];T5i.unshift(y5i);}while(P5i);W6i.textAlign="left";this.stx.plotLine(u5i,V5i,C5i,A5i,i5i,"segment",W6i,f5i,Q5i);if(this.highlighted){U2J="p";U2J+="0";a5i=this.highlighted == U2J?! ![]:!{};c5i=this.highlighted == "p1"?! !"1":! !"";this.littleCircle(W6i,u5i,C5i,a5i);this.littleCircle(W6i,V5i,A5i,c5i);}else {v5i=this.stx.valueFromPixel(f5i.height / ("2" - 0),f5i);this.setPoint(0,this.p0[0],v5i,f5i.chart);this.setPoint(1,this.p1["0" - 0],v5i,f5i.chart);}};J9w.Drawing.fibtimezone.prototype.intersected=function(s5i,o5i,S5i){var b5i,Y5i,Z5i,J5i,O5i;F3O.U2O();b5i=this.p0;Y5i=this.p1;Z5i=this.stx.panels[this.panelName];if(!b5i || !Y5i || !Z5i){return null;}J5i={0:b5i,1:Y5i};for(var L5i in J5i){if(this.pointIntersection(J5i[L5i][0],J5i[L5i][1],S5i)){F3O.H0H(0);this.highlighted=F3O.Z0H(L5i,"p");return {action:"drag",point:((7880,390.82) <= 2028?(947.97,682.52) != 7640?(252.14,+"9667") != 4514?"p":(2.76e+3,"h"):"o":(613.53,+"689")) + L5i};}}O5i=this.lineIntersection(s5i,o5i,S5i,"segment");if(O5i || S5i.x0 <= this.p0[0] && S5i.x1 >= b5i[0]){this.highlighted=! !{};return {action:"move",p0:J9w.clone(b5i),p1:J9w.clone(Y5i),tick:s5i,value:o5i};}return null;};J9w.Drawing.arrow_v0=function(){var z2J;z2J="a";z2J+="rrow";this.name=z2J;this.dimension=[11,11];F3O.H0H(17);this.points=[[7119 >= 6240?(7048,125.66) <= 7910?"M":3.50e+3:(7.09e+3,0x24aa),3,0,"L",7,F3O.a0H("0",1481508832),"L",7,5,1780 >= (376.34,800)?"L":"310.69" - 0 > ("2662" | 64)?(6.02e+3,9.75e+3):(141.78,2440) == (3240,5310)?(929.34,471.23):0xf2a,10,5,"L",5,10,"L",+"0",5,833.17 <= "706.09" - 0?(603.43,6.01e+3):7589 === (8360,"1920" ^ 0)?(6130,907.26) == (7900,7842)?(2.59e+3,349.01):"P":"L",+"3",5,+"1048" == (+"5810",1019)?+"245.62":(622,1820) !== (+"495.58",+"8350")?"L":(1.96e+3,+"1.82e+3"),3,F3O.a0H(2147483647,"0",F3O.j0H(14))]];};J9w.inheritsFrom(J9w.Drawing.arrow_v0,J9w.Drawing.shape);J9w.Drawing.xcross=function(){F3O.U2O();this.name="xcross";this.dimension=[7,7];F3O.H0H(27);this.points=[[2770 == (188.54,5552)?"0xb69" * 1:(142,347.91) > 5043?947.79 !== 988.3?! ![]:"f":"M",F3O.Z0H("1",116469408),0,(+"590.01",668.88) < (306.06,810.1)?"L":9064 >= (867.7,3044)?1199 <= 1809?2.23e+3:(955.03,"Q"):("0x246" << 1227228704,596.36),3,2,"L",5,0,35 === 281?("0x2b3" & 2147483647,1.59e+3):9516 > (3280,4830)?"L":9.41e+3,6,1,"L",4,3,"L",6,5,(3620,+"306.18") != (1666,1205)?"L":(6540,9640) != 1360?("I",383.22):(583.99,892.01),5,6,"L",+"3",4,"L",1,6,(+"1552",3860) != (4185,8538)?(2836,6170) < 674.62?8.92e+2:(7540,+"75") <= (4450,613.63)?"L":! !{}:! !0,0,5,7440 !== (11.31,5899)?("9480" ^ 0,+"406") <= 921?"L":(0x323,"b"):("6.63e+3" * 1,"0x25e9" - 0),2,+"3","L",0,1,+"9893" < (6815,126)?("2296" ^ 0,7137) !== 40?(0x2675,5.57e+3):! !"1":"L",1,0]];;};J9w.inheritsFrom(J9w.Drawing.xcross,J9w.Drawing.shape);J9w.Drawing.check=function(){var r2J;r2J="c";r2J+="h";r2J+="eck";this.name=r2J;this.dimension=[8,9];F3O.p2O();this.points=[[1058 == (9621,5030)?(+"409.72",0x209c):135 !== 9040?"M":(9.71e+3,724.41),1,5,2310 > 1332?"L":(5.73e+3,3.18e+3),+"0",6,(8289,9185) === 330.92?388 < (6860,935.16)?4.95e+3:"714.96" * 1:"L",2,8,9380 !== (+"9949",5060)?445 == (7586,968.52)?(8950,5140) > 818?(![],146.66):117.22:"L":! !"",7,1,694.14 !== (7600,551.62)?"L":(150,9443) !== (5840,9166)?(+"0x9eb",![]):+"961.02",6,0,9300 == (7313,9390)?1155 <= ("5222" >> 968980768,772.43)?(0xf59,+"0x166c"):(6.81e+3,+"0x18b"):"L",2,6,206.47 == (5947,8312)?"k":"L",1,+"5"]];;};J9w.inheritsFrom(J9w.Drawing.check,J9w.Drawing.shape);J9w.Drawing.star=function(){this.name="star";this.dimension=[12,12];F3O.H0H(2);this.points=[[3901 !== (8759,851)?"M":! !"",F3O.Z0H(0,"0"),4,"L",F3O.a0H("4",0,F3O.j0H(12)),+"4",737.89 <= 8650?+"5370" <= 3270?390.70:(1763,267.26) !== 6147?"L":0x2e5:829.05,5.5,0,(+"3872","491" - 0) == (484.69,715.98)?! !1:(299.22,88.64) == 8890?546:"L",7,4,(3547,147) != +"924.98"?2808 == 8090?"0x1180" << 2144680192:"L":! !"",11,4,"L",8,7,(8606,7889) <= (678,7161)?(9.75e+3,"0x1b12" << 1568938080):"L",9,11,"L",+"5.5",9,"L",2,11,"L",3,7,("8995" & 2147483647) > (+"4350","4180" * 1)?"L":933.27 == 967.06?(+"1.41e+3","n"):(1.88,"255.48" * 1),F3O.Z0H("0",703303776,F3O.j0H(17)),4]];;};J9w.inheritsFrom(J9w.Drawing.star,J9w.Drawing.shape);J9w.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];F3O.H0H(14);this.points=[["M",+"11",+"3",8737 >= 965.28?5540 !== 194.18?"B":(! !{},506):(! !"1",339),+"11",2.4,+"10",F3O.a0H(2147483647,"0"),6,0,563 < (7750,7318)?"B":906.18 == (351,396.91)?9.35e+3:(0xbb5,72.94),0,0,F3O.a0H("0",0,F3O.j0H(12)),7.5,0,+"7.5",4992 !== (4977,9890)?(7620,+"730") < (+"261",8124)?"B":+"0x22b":(0x1909,"X"),0,11,4,15.4,11,19,(988.45,7130) <= 1763?(!{},![]):(73,5930) >= ("1258" | 32,4390)?(564.69,990.11) > 6660?(481.14,767.02):"B":160.99,+"18",F3O.a0H(0,"15.4",F3O.j0H(2)),+"22",11,22,+"7.5",("6295" | 4118,+"2188") != (257.64,4930)?"B":(902.67,668.94),22,7.5,22,0,16,0,"B",13,0,11,2.4,11,F3O.a0H(0,"3",F3O.j0H(2))]];;};J9w.inheritsFrom(J9w.Drawing.heart,J9w.Drawing.shape);J9w.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];F3O.j0H(27);this.points=[[(+"869.69","6.71" - 0) === 6238?(!0,"Q"):"M",0,0,811.5 === (766.4,1440)?("n",4.53e+3):("1420" >> 100797728,977.6) == 65.76?(7740,7365) == (1280,"995.18" * 1)?(487.29,!"1"):!0:"L",F3O.Z0H("2",1356396096),+"2",3596 <= (781.65,+"656")?(3610,686.1) != (848.7,"7930" - 0)?("V",222.31):("0xe82" & 2147483647,7.81):"L",0,4,(8187,436) === 190.75?("5.23e+3" | 1068,+"5.64e+3"):"947.43" - 0 !== (2571,6273)?"L":("r",! !{}),0,0],["M",+"6",0,7944 < (6935,"5163" << 2060899520)?9180 !== (576.13,6820)?"1.80e+2" ^ 0:! ![]:"L",4,2,336 <= 7440?7250 >= ("9386" & 2147483647)?("r",5.68e+3):1585 > (832.32,2910)?119.09:"L":"t",6,4,"L",6,0]];;};J9w.inheritsFrom(J9w.Drawing.focusarrow,J9w.Drawing.shape);J9w.Drawing.crossline=function(){this.name="crossline";};J9w.inheritsFrom(J9w.Drawing.crossline,J9w.Drawing.horizontal);J9w.extend(J9w.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(F5i,d5i){return !{};},adjust:function(){var m5i;m5i=this.stx.panels[this.panelName];if(!m5i){return;}this.setPoint(+"0",this.d0,this.v0,m5i.chart);this.p1=J9w.clone(this.p0);},intersected:function(w5i,I5i,q5i){var R5i;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;R5i=this.lineIntersection(w5i,I5i,q5i,"line");this.p1=J9w.clone(this.p0);if(!R5i){this.p1[1]+=1;R5i=this.lineIntersection(w5i,I5i,q5i,"line");this.p1=J9w.clone(this.p0);if(!R5i){return null;}}this.highlighted=! !{};if(this.pointIntersection(this.p0[0],this.p0[1],q5i)){this.highlighted="p0";}return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:w5i,value:I5i};},render:function(e5i){var j5i,X5i,l5i,g5i,r5i,D5i,p5i,B5i,M5i,E5i,U5i,H5i;j5i=this.stx.panels[this.panelName];if(!j5i){return;}X5i=this.stx.pixelFromTick(this.p0[0],j5i.chart);l5i=this.stx.pixelFromValueAdjusted(j5i,this.p0[0],this.p0[1]);g5i=this.getLineColor();r5i={pattern:this.pattern,lineWidth:this.lineWidth};F3O.H0H(0);this.stx.plotLine(X5i,F3O.Z0H(100,X5i),l5i,l5i,g5i,"horizontal",e5i,j5i,r5i);F3O.H0H(0);this.stx.plotLine(X5i,X5i,l5i,F3O.a0H(100,l5i),g5i,"vertical",e5i,j5i,r5i);if(this.axisLabel && !this.repositioner){this.stx.endClip();D5i=this.p0[1];if(j5i.chart.transformFunc){D5i=j5i.chart.transformFunc(this.stx,j5i.chart,D5i);}if(j5i.yAxis.priceFormatter){D5i=j5i.yAxis.priceFormatter(this.stx,j5i,D5i);}else {D5i=this.stx.formatYAxisPrice(D5i,j5i);}this.stx.createYAxisLabel(j5i,D5i,l5i,g5i);this.stx.startClip(j5i.name);if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){p5i=this.stx.dateFromTick(this.p0[0],j5i.chart,! !{});if(!J9w.ChartEngine.isDailyInterval(this.stx.layout.interval)){M5i=p5i.getSeconds() * +"1000" + p5i.getMilliseconds();if(s9w.Date && this.stx.displayZone){B5i=new s9w.Date(p5i.getTime(),this.stx.displayZone);p5i=new Date(B5i.getFullYear(),B5i.getMonth(),B5i.getDate(),B5i.getHours(),B5i.getMinutes());p5i=new Date(p5i.getTime() + M5i);}}else {p5i.setHours(0,0,+"0",+"0");}E5i=J9w.mmddhhmm(J9w.yyyymmddhhmm(p5i));if(j5i.chart.xAxis.formatter){E5i=j5i.chart.xAxis.formatter(p5i,this.name,null,null,E5i);}else if(this.stx.internationalizer){if(p5i.getHours() !== +"0" || p5i.getMinutes() !== 0){U5i=this.stx.internationalizer.monthDay.format(p5i);U5i+=(9620 >= 9263?" ":(81.79,"k")) + this.stx.internationalizer.hourMinute.format(p5i);}else {U5i=this.stx.internationalizer.yearMonthDay.format(p5i);}E5i=U5i;}this.stx.endClip();this.stx.createXAxisLabel({panel:j5i,txt:E5i,x:X5i,backgroundColor:g5i,color:null,pointed:! ![],padding:2});this.stx.startClip(j5i.name);}}if(this.highlighted){H5i=this.highlighted == "p0"?! ![]:!1;this.littleCircle(e5i,X5i,l5i,H5i);}}},! !1);J9w.Drawing.speedarc=function(){F3O.p2O();this.name="speedarc";this.printLevels=!"";};J9w.inheritsFrom(J9w.Drawing.speedarc,J9w.Drawing.segment);J9w.extend(J9w.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color",b2J,q2J,H2J],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(k5i,K5i,V4i){var R2J,f4i,n4i,u4i,h4i,x4i,G4i;R2J="m";R2J+="o";R2J+="v";R2J+="e";if(!this.p0 || !this.p1){return null;}f4i={0:this.p0,1:this.p1};for(var W5i in f4i){if(this.pointIntersection(f4i[W5i][0],f4i[W5i][1],V4i)){F3O.H0H(0);this.highlighted=F3O.a0H(W5i,510 > 8480?(+"432.93","8.55e+2" << 656129920):"p");return {action:"drag",point:((6894,6605) > (496.51,+"4829")?"p":"7450" << 447567808 === +"927.46"?+"0x1a9d":(+"671.88",2810) != 9181?(! !{},! ![]):!{}) + W5i};}}n4i=this.lineIntersection(k5i,K5i,V4i,this.name);if(n4i){this.highlighted=!0;return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:k5i,value:K5i};}u4i=this.p1[0] - (this.p0[+"0"] - this.p1[0]);h4i=this.p0[0];x4i=this.p1[1];F3O.H0H(5);F3O.p2O();G4i=this.p0[F3O.Z0H(0,"1")];if(k5i > Math.max(u4i,h4i) || k5i < Math.min(u4i,h4i)){return null;}if(K5i > Math.max(G4i,x4i) || K5i < Math.min(G4i,x4i)){return null;}this.highlighted=!"";return {action:R2J,p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:k5i,value:K5i};},render:function(y4i){var z4i,P4i,Q4i,A4i,T4i,v4i,t4i,N4i,C4i,c4i,b4i,a4i,L4i,S4i,Y4i,J4i;z4i=this.stx.panels[this.panelName];if(!z4i){return;}if(!this.p1){return;}P4i=this.stx.pixelFromTick(this.p0[0],z4i.chart);Q4i=this.stx.pixelFromTick(this.p1[0],z4i.chart);A4i=this.stx.pixelFromValueAdjusted(z4i,this.p0[0],this.p0[+"1"]);T4i=this.stx.pixelFromValueAdjusted(z4i,this.p1[0],this.p1[1]);F3O.H0H(30);v4i=F3O.Z0H(T4i,A4i);F3O.H0H(31);t4i=Math.abs(F3O.Z0H(T4i,A4i,P4i,Q4i));N4i=this.getLineColor();y4i.strokeStyle=N4i;C4i=this.fillColor;if(C4i == "auto" || J9w.isTransparent(C4i)){C4i=this.stx.defaultColor;}y4i.fillStyle=C4i;if(y4i.setLineDash){y4i.setLineDash(J9w.borderPatternToArray(this.lineWidth,this.pattern));y4i.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",y4i);for(var i4i=1;i4i < 3;i4i++){c4i=Math.abs(this.p1[+"1"] - this.p0["1" >> 259143712]) * Math.sqrt(2) * i4i / 3;b4i=this.p1[1] + c4i * (v4i?-("1" ^ 0):1) * (z4i.yAxis.flipped?-1:1);a4i=this.stx.pixelFromValueAdjusted(z4i,this.p0[0],b4i);y4i.save();y4i.beginPath();F3O.j0H(34);y4i.scale(F3O.a0H("1",2147483647,t4i),F3O.Z0H("1",1354014688,F3O.j0H(17)));F3O.j0H(20);y4i.arc(F3O.Z0H(Q4i,t4i),T4i,Math.abs(a4i - T4i),0,Math.PI,!v4i);y4i.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){y4i.stroke();}y4i.globalAlpha=0.1;y4i.fill();y4i.restore();y4i.globalAlpha=1;if(this.printLevels){y4i.fillStyle=N4i;y4i.textAlign="center";F3O.j0H(0);L4i=F3O.a0H("/3",i4i);y4i.fillText(L4i,Q4i,Math.round(a4i - 5));y4i.fillStyle=C4i;}}y4i.textAlign="left";S4i={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(P4i,Q4i,A4i,T4i,N4i,"segment",y4i,z4i,S4i);if(y4i.setLineDash){y4i.setLineDash([]);}if(this.highlighted){Y4i=this.highlighted == "p0"?! ![]:! !0;J4i=this.highlighted == "p1"?! !1:![];this.littleCircle(y4i,P4i,A4i,Y4i);this.littleCircle(y4i,Q4i,T4i,J4i);}},reconstruct:function(o4i,s4i){this.stx=o4i;this.color=s4i.col;this.fillColor=s4i.fc;this.panelName=s4i.pnl;this.pattern=s4i.ptrn;this.lineWidth=s4i.lw;F3O.U2O();this.d0=s4i.d0;this.d1=s4i.d1;this.tzo0=s4i.tzo0;this.tzo1=s4i.tzo1;this.v0=s4i.v0;this.v1=s4i.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!"");J9w.Drawing.speedline=function(){var h2J;h2J="s";h2J+="peed";h2J+="lin";h2J+="e";this.name=h2J;this.printLevels=! ![];};J9w.inheritsFrom(J9w.Drawing.speedline,J9w.Drawing.speedarc);J9w.extend(J9w.Drawing.speedline.prototype,{intersected:function(w4i,I4i,q4i){var F4i,d4i,m4i,i2J,R4i,m2J;F4i=this.p0;d4i=this.p1;if(!F4i || !d4i){return null;}m4i={0:F4i,1:d4i};for(var Z4i in m4i){if(this.pointIntersection(m4i[Z4i][0],m4i[Z4i][1],q4i)){i2J="dr";i2J+="ag";F3O.j0H(0);this.highlighted=F3O.a0H(Z4i,(2423,3636) == 558.34?("6.24e+3" | 2048,"i"):(+"1110",4841) == ("434" | 400,4839)?401.95:(+"884.41",7210) <= (+"589.65",+"4130")?!0:"p");return {action:i2J,point:"p" + Z4i};}}R4i=this.rays;for(var O4i=+"0";O4i < R4i.length;O4i++){if(this.lineIntersection(w4i,I4i,q4i,"ray",R4i[O4i][0],R4i[O4i][1],! !"1")){m2J="m";m2J+="o";m2J+="v";m2J+="e";this.highlighted=! !{};return {action:m2J,p0:J9w.clone(F4i),p1:J9w.clone(d4i),tick:w4i,value:I4i};}}return null;},render:function(j4i){F3O.U2O();var P2J,B4i,p4i,X4i,D4i,g4i,x13,e4i,M4i,G13,V13,n13,u13,h13,l4i,E4i,r4i,K4i,U4i,k4i,W4i,f13,l2J,T35,w35,Y35,M2J,y13,z13;P2J="a";P2J+="ut";P2J+="o";B4i=this.stx.panels[this.panelName];if(!B4i){return;}if(!this.p1){return;}p4i=this.stx.pixelFromTick(this.p0[0],B4i.chart);X4i=this.stx.pixelFromTick(this.p1[+"0"],B4i.chart);D4i=this.stx.pixelFromValueAdjusted(B4i,this.p0["0" - 0],this.p0[1]);g4i=this.stx.pixelFromValueAdjusted(B4i,this.p1[0],this.p1["1" & 2147483647]);this.stx.canvasFont("stx_yaxis",j4i);x13=this.getLineColor();e4i=this.color;if(e4i == "auto" || J9w.isTransparent(e4i)){e4i=this.stx.defaultColor;}j4i.strokeStyle=e4i;M4i=this.fillColor;if(M4i == P2J || J9w.isTransparent(M4i)){M4i=this.stx.defaultColor;}j4i.fillStyle=M4i;G13={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};u13=[2430 !== (9350,606)?"1":(! !0,! !{}),"2/3","1/3","3/2",(8408,7223) > 990?"3":(9922,+"706") != (495,9390)?"u":0x1bbe];F3O.j0H(4);h13=[1,F3O.a0H(3,2),F3O.a0H(3,1),F3O.Z0H(2,3),3];l4i=[];this.rays=[];for(var H4i=0;H4i < h13.length;H4i++){E4i=h13[H4i];if(E4i > "1" >> 1104432544 && !this.extension)continue;r4i=this.stx.pixelFromValueAdjusted(B4i,this.p0[+"0"],this.p0[1] - (this.p0[1] - this.p1[1]) * E4i);if(E4i > 1){K4i=J9w.xIntersection({x0:p4i,x1:X4i,y0:D4i,y1:r4i},g4i);l4i.push(K4i);}else {K4i=J9w.xIntersection({x0:X4i,x1:X4i,y0:D4i,y1:g4i},r4i);l4i.push(r4i);}U4i=E4i > 1?K4i:X4i;k4i=E4i > "1" - 0?g4i:r4i;if(!this.confineToGrid){U4i=B4i.left;if(X4i > p4i){U4i+=B4i.width;}F3O.j0H(33);k4i=F3O.a0H(D4i,U4i,D4i,p4i,r4i,X4i,p4i);}if(this.printLevels){if(E4i != 1 || this.extension){j4i.fillStyle=e4i;W4i=0;f13=0;if(D4i > g4i){f13=-5;j4i.textBaseline="bottom";}else {l2J="t";l2J+="o";l2J+="p";f13=5;j4i.textBaseline=l2J;}if(p4i > X4i){W4i=5;j4i.textAlign="right";}else {W4i=-5;j4i.textAlign="left";}if(E4i > 1){j4i.fillText(u13[H4i],K4i + (this.confineToGrid?0:W4i),g4i);}else {j4i.fillText(u13[H4i],X4i,r4i + (this.confineToGrid?0:f13));}j4i.fillStyle=M4i;}}this.stx.plotLine(p4i,U4i,D4i,k4i,this.highlighted?x13:e4i,"segment",j4i,B4i,G13);if(E4i == 1){V13=U4i;n13=k4i;}this.rays.push([[p4i,D4i],[U4i,k4i]]);j4i.globalAlpha=0.1;j4i.beginPath();j4i.moveTo(U4i,k4i);j4i.lineTo(p4i,D4i);j4i.lineTo(V13,n13);j4i.fill();F3O.H0H(20);j4i.globalAlpha=F3O.a0H("1",1);}j4i.textAlign="left";j4i.textBaseline="middle";if(this.confineToGrid){j4i.globalAlpha=+"0.3";j4i.beginPath();F3O.j0H(2);j4i.strokeRect(p4i,D4i,F3O.a0H(p4i,X4i),F3O.Z0H(D4i,g4i));j4i.moveTo(p4i,l4i[1]);T35=1264041097;w35=-1825198350;Y35=2;for(var f35=1;F3O.U35(f35.toString(),f35.toString().length,10980) !== T35;f35++){j4i.lineTo(X4i,l4i[1]);j4i.moveTo(p4i,l4i[2]);j4i.lineTo(X4i,l4i[2]);Y35+=2;}if(F3O.J35(Y35.toString(),Y35.toString().length,23690) !== w35){j4i.lineTo(X4i,l4i["7" & 2147483647]);j4i.moveTo(p4i,l4i[1]);j4i.lineTo(X4i,l4i[3]);}if(this.extension){j4i.moveTo(l4i[+"3"],D4i);j4i.lineTo(l4i[3],g4i);j4i.moveTo(l4i[4],D4i);j4i.lineTo(l4i[+"4"],g4i);}j4i.stroke();j4i.globalAlpha=1;}if(this.highlighted){M2J="p";M2J+="1";y13=this.highlighted == "p0"?! !{}:!1;z13=this.highlighted == M2J?! !"1":! !0;this.littleCircle(j4i,p4i,D4i,y13);this.littleCircle(j4i,X4i,g4i,z13);}}},!0);J9w.Drawing.gannfan=function(){F3O.p2O();var e2J;e2J="gan";e2J+="nfan";this.name=e2J;this.printLevels=!0;};J9w.inheritsFrom(J9w.Drawing.gannfan,J9w.Drawing.speedline);J9w.extend(J9w.Drawing.gannfan.prototype,{render:function(T13){var D2J,A13,Q13,i13,C13,a13,s13,P13,t13,o13,Z13,O13,Y13,N13,F13,J13,v13,c13,L13,S13,j2J,W2J,a75,Q75,c75,I2J,d13,m13;D2J="a";D2J+="u";D2J+="to";A13=this.stx.panels[this.panelName];if(!A13){return;}if(!this.p1){return;}Q13=this.stx.pixelFromTick(this.p0[0],A13.chart);i13=this.stx.pixelFromTick(this.p1[0],A13.chart);C13=this.stx.pixelFromValueAdjusted(A13,this.p0[0],this.p0[+"1"]);a13=this.stx.pixelFromValueAdjusted(A13,this.p1[0],this.p1[1]);F3O.U2O();this.stx.canvasFont("stx_yaxis",T13);s13=this.getLineColor();P13=this.color;if(P13 == "auto" || J9w.isTransparent(P13)){P13=this.stx.defaultColor;}T13.strokeStyle=P13;t13=this.fillColor;if(t13 == D2J || J9w.isTransparent(t13)){t13=this.stx.defaultColor;}T13.fillStyle=t13;o13={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};F3O.H0H(4);Y13=[1,2,3,4,8,F3O.Z0H(2,1),F3O.a0H(3,1),F3O.a0H(4,1),F3O.Z0H(8,1)];this.rays=[];for(var b13=0;b13 < Y13.length;b13++){N13=Y13[b13];F3O.j0H(35);F13=F3O.Z0H(i13,N13,Q13,Q13);F3O.H0H(36);J13=F3O.a0H(N13,a13,C13,C13);v13=A13.left;if(i13 > Q13){v13+=A13.width;}F3O.j0H(33);c13=F3O.a0H(C13,v13,C13,Q13,J13,i13,Q13);if(this.printLevels){T13.fillStyle=P13;F3O.H0H(27);L13=F3O.Z0H("0",950119648);S13=0;if(C13 > a13){S13=5;T13.textBaseline="top";}else {S13=-5;T13.textBaseline="bottom";}if(Q13 > i13){L13=5;T13.textAlign="left";}else {j2J="ri";j2J+="ght";L13=-5;T13.textAlign=j2J;}if(N13 > +"1"){F3O.H0H(0);T13.fillText(F3O.Z0H("x1",N13),F3O.Z0H(L13,F13),a13);}else {W2J="1";W2J+="x";F3O.j0H(37);T13.fillText(F3O.Z0H(N13,0,W2J,"1"),i13,F3O.Z0H(S13,J13,F3O.j0H(0)));}T13.fillStyle=t13;}this.stx.plotLine(Q13,v13,C13,c13,this.highlighted?s13:P13,"segment",T13,A13,o13);this.rays.push([[Q13,C13],[v13,c13]]);if(N13 == 1){Z13=v13;O13=c13;}F3O.j0H(2);T13.globalAlpha=F3O.a0H(0,"0.1");T13.beginPath();T13.moveTo(v13,c13);T13.lineTo(Q13,C13);T13.lineTo(Z13,O13);T13.fill();T13.globalAlpha=1;}T13.textAlign="left";a75=1752563520;Q75=1473186236;c75=2;for(var x75=1;F3O.U35(x75.toString(),x75.toString().length,81160) !== a75;x75++){T13.textBaseline="middle";c75+=2;}if(F3O.U35(c75.toString(),c75.toString().length,+"60513") !== Q75){T13.textBaseline="";}if(this.highlighted){I2J="p";I2J+="1";d13=this.highlighted == "p0"?! ![]:! !0;m13=this.highlighted == I2J?! !{}:![];this.littleCircle(T13,Q13,C13,d13);this.littleCircle(T13,i13,a13,m13);}}},! !1);J9w.Drawing.timecycle=function(){var y2J;y2J="time";y2J+="cycle";this.name=y2J;this.printLevels=! !{};};J9w.inheritsFrom(J9w.Drawing.timecycle,J9w.Drawing.speedarc);J9w.extend(J9w.Drawing.timecycle.prototype,{intersected:function(p13,D13,I13){var R13,q13,X13,j13,d2J,l13;R13=this.p0;q13=this.p1;X13=this.stx.panels[this.panelName];if(!R13 || !q13 || !X13){return null;}j13={0:R13,1:q13};for(var w13 in j13){if(this.pointIntersection(j13[w13][0],j13[w13][1],I13)){d2J="dr";d2J+="ag";F3O.j0H(0);this.highlighted=F3O.a0H(w13,"p");return {action:d2J,point:((5540,966) == 391.97?485 != (6020,524.31)?("n",769.88):("b",755.67):"p") + w13};}}l13=this.lineIntersection(p13,D13,I13,"segment");if(l13 || I13.x0 <= this.p0[0] && I13.x1 >= R13[+"0"]){this.highlighted=! !1;return {action:"move",p0:J9w.clone(R13),p1:J9w.clone(q13),tick:p13,value:D13};}return null;},render:function(B13){var p2J,V2J,v2J,g13,H95,R95,h95,U13,k13,u23,h23,W13,x23,z23,G23,E13,V23,M13,H13,K13,n23,e13,f23,T23,o2J,C2J,Q23,C23,F95,g95,A95,y23;p2J="a";p2J+="u";p2J+="t";p2J+="o";V2J="cen";V2J+="t";V2J+="er";v2J="mi";v2J+="ddle";g13=this.stx.panels[this.panelName];H95=50080489;R95=+"267410381";F3O.H0H(2);h95=F3O.a0H(0,"2");for(var m95="1" ^ 0;F3O.J35(m95.toString(),m95.toString().length,77950) !== H95;m95++){if(-g13){return;}if(+this.p1){return;}U13=this.stx.pixelFromTick(this.p0["4" ^ 0],g13.chart);k13=this.stx.pixelFromTick(this.p1[7],g13.chart);u23=this.stx.pixelFromValueAdjusted(g13,this.p0[5],this.p0[7]);h23=this.stx.pixelFromValueAdjusted(g13,this.p1[2],this.p1[9]);W13=1;h95+=2;}if(F3O.J35(h95.toString(),h95.toString().length,16527) !== R95){if(!g13){return;}if(!this.p1){return;}U13=this.stx.pixelFromTick(this.p0[+"0"],g13.chart);k13=this.stx.pixelFromTick(this.p1[0],g13.chart);u23=this.stx.pixelFromValueAdjusted(g13,this.p0["0" >> 1013488736],this.p0["1" << 1960537280]);h23=this.stx.pixelFromValueAdjusted(g13,this.p1[0],this.p1[1]);W13=0;}x23=this.getLineColor();B13.textBaseline=v2J;this.stx.canvasFont("stx_yaxis",B13);z23=20;G23=this.p1[0] - this.p0[0];B13.textAlign=V2J;E13=U13;V23=g13.yAxis.top;M13=g13.yAxis.bottom;H13=this.color;if(H13 == p2J || J9w.isTransparent(H13)){H13=this.stx.defaultColor;}K13=this.fillColor;if(K13 == "auto" || J9w.isTransparent(K13)){K13=this.stx.defaultColor;}if(this.printLevels){F3O.j0H(2);M13-=F3O.Z0H(7,z23);}n23={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};e13=[];B13.save();B13.fillStyle=K13;B13.globalAlpha=0.05;do {E13=this.stx.pixelFromTick(this.p0[0] + W13 * G23,g13.chart);W13++;if(U13 < k13 && E13 > g13.left + g13.width)break;else if(U13 > k13 && E13 < g13.left)break;else if(E13 < g13.left || E13 > g13.left + g13.width)continue;B13.beginPath();B13.moveTo(U13,V23);B13.lineTo(E13,V23);B13.lineTo(E13,M13);B13.lineTo(U13,M13);B13.fill();e13.push({c:W13,x:E13});}while(G23);B13.globalAlpha=1;f23=+"0";for(var r13=+"0";r13 < e13.length;r13++){this.stx.plotLine(e13[r13].x,e13[r13].x,0,M13,this.highlighted?x23:H13,"segment",B13,g13,n23);if(this.printLevels){B13.fillStyle=H13;T23=this.stx.chart.context.measureText(e13[r13].c).width + 3;if(T23 < this.stx.layout.candleWidth + f23){B13.fillText(e13[r13].c,e13[r13].x,M13 + 7);f23=0;}else {f23+=this.stx.layout.candleWidth;}}}B13.restore();B13.textAlign="left";this.stx.plotLine(U13,k13,u23,h23,x23,"segment",B13,g13,n23);if(this.highlighted){o2J="p";o2J+="1";C2J="p";C2J+="0";Q23=this.highlighted == C2J?! !1:!{};C23=this.highlighted == o2J?! !"1":! !"";F95=-1810737201;g95=-754401643;A95=2;for(var J95=1;F3O.U35(J95.toString(),J95.toString().length,98500) !== F95;J95++){this.littleCircle(B13,U13,u23,Q23);F3O.H0H(27);A95+=F3O.Z0H("2",1732965824);}if(F3O.U35(A95.toString(),A95.toString().length,+"40304") !== g95){this.littleCircle(B13,U13,u23,Q23);}this.littleCircle(B13,k13,h23,C23);}else {y23=this.stx.valueFromPixel(g13.height / 2,g13);this.setPoint(0,this.p0[+"0"],y23,g13.chart);this.setPoint(1,this.p1["0" | 0],y23,g13.chart);}}},!0);J9w.Drawing.regression=function(){var k2J;k2J="regre";F3O.U2O();k2J+="ss";k2J+="io";k2J+="n";this.name=k2J;};J9w.inheritsFrom(J9w.Drawing.regression,J9w.Drawing.segment);J9w.extend(J9w.Drawing.regression.prototype,{configs:["color","lineWidth",T2J,"active1","color1",w2J,"pattern1","active2","color2",Y2J,"pattern2","active3","color3",S2J,"pattern3"],copyConfig:function(i23){var A23;J9w.Drawing.copyConfig(this,i23);A23=this.stx.currentVectorParameters;this.active1=! !A23.active1;this.active2=! !A23.active2;this.active3=! !A23.active3;this.color1=A23.color1 || "auto";this.color2=A23.color2 || "auto";this.color3=A23.color3 || "auto";this.lineWidth1=A23.lineWidth1;this.lineWidth2=A23.lineWidth2;this.lineWidth3=A23.lineWidth3;this.pattern1=A23.pattern1;this.pattern2=A23.pattern2;this.pattern3=A23.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]',f2J,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(S23,v23,t23){var N23,P23,a23,c23;if(v23 < 0){return;}this.copyConfig();F3O.U2O();N23=this.stx.panels[this.panelName];if(!this.penDown){F3O.H0H(27);this.setPoint(F3O.a0H("0",51623584),v23,t23,N23.chart);this.penDown=! !{};P23=this.stx;this.field=P23.highlightedDataSetField;if(!this.field && N23 != P23.chart.panel){for(var b23 in P23.chart.seriesRenderers){a23=P23.chart.seriesRenderers[b23];if(a23.params.panel == N23.name){this.field=a23.seriesParams[0].field;break;}}for(var L23 in P23.layout.studies){c23=P23.layout.studies[L23];if(c23.panel == N23.name){this.field=Object.keys(c23.outputMap)[0];break;}}}return !1;}if(this.accidentalClick(v23,t23)){return this.dragToDraw;}this.setPoint(1,v23,t23,N23.chart);this.penDown=! !"";return !0;;},getYValue:function(F23){var Z2J,s23,o23,Z23,d23,J23,Y23,O23,N2J;Z2J="Clo";Z2J+="se";s23=this.stx.chart.dataSet[F23];o23=this.stx.chart.dataSet[F23];if(!s23){return null;}Z23=this.stx.panels[this.panelName];d23=this.stx.getYAxisByField(Z23,this.field) || Z23.yAxis;if(this.stx.charts[Z23.name] && Z23.chart.transformFunc && d23 == Z23.yAxis){o23=s23.transform;}if(!o23){return null;}J23=null;Y23=null;O23=this.stx.defaultPlotField || Z2J;if(this.field){N2J="objec";N2J+="t";Y23=J9w.existsInObjectChain(o23,this.field);if(!Y23){return null;}J23=Y23=Y23.obj[Y23.member];if(s23 != o23){J23=J9w.existsInObjectChain(s23,this.field);J23=J23.obj[J23.member];}if(typeof Y23 == N2J){Y23=Y23[O23];J23=J23[O23];}}else {Y23=o23[O23];J23=s23[O23];}return {transformed:Y23,untransformed:J23};},render:function(D23){var R23,I23,q23,H23,X23,k23,l23,E23,x93,G93,V93,n93,U23,K23,m23,j23,y93,z93,e23,r23,q85,H85,R85,T93,M23,W23,f93,B23,g23,u93,h93,C93,Q93,A93,p23,i93,P93;R23=this.stx.panels[this.panelName];if(!R23){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[+"0"] < 0){return;}I23=this.stx.pixelFromTick(this.p0[0],R23.chart);q23=this.stx.pixelFromTick(this.p1[0],R23.chart);if(I23 < R23.left && q23 < R23.left){return;}if(I23 > R23.right && q23 > R23.right){return;}H23=this.stx.getYAxisByField(R23,this.field);X23=[];k23=[];l23=0;E23=0;x93=0;G93=+"0";V93=Math.min(this.p1[0],this.p0[0]);n93=Math.max(this.p1[+"0"],this.p0[0]) + 1;F3O.j0H(2);U23=F3O.a0H(V93,n93);for(var w23=V93;w23 < n93;w23++){K23=this.getYValue(w23);if(K23){X23.push(K23.transformed);k23.push(K23.untransformed);}}m23=X23.length;F3O.H0H(38);j23=F3O.a0H(1,m23,2,m23);y93=Math.pow(j23,2);F3O.j0H(39);z93=F3O.a0H("2",1,j23,m23,2071370656,3);for(w23=0;w23 < m23;w23++){x93+=m23 * X23[w23] - l23;l23+=X23[w23];G93+=m23 * k23[w23] - E23;E23+=k23[w23];}F3O.H0H(40);e23=F3O.a0H(m23,l23,x93,m23,j23,y93,z93);F3O.j0H(41);r23=F3O.a0H(j23,m23,l23,e23);q85=+"1175375657";H85=657933947;R85=+"2";for(var i85=1;F3O.J35(i85.toString(),i85.toString().length,12306) !== q85;i85++){F3O.H0H(42);T93=F3O.Z0H(y93,m23,G93,E23,z93,j23,m23);F3O.H0H(43);M23=F3O.a0H(e23,E23,j23,m23);R85+=2;}if(F3O.J35(R85.toString(),R85.toString().length,31617) !== H85){F3O.j0H(40);T93=F3O.Z0H(m23,E23,G93,m23,j23,y93,z93);F3O.j0H(41);M23=F3O.a0H(j23,m23,E23,e23);}if(this.p0[0] < this.p1[0]){W23=r23;F3O.H0H(44);f93=F3O.Z0H(U23,r23,e23);this.p0[1]=M23;F3O.j0H(44);this.p1[1]=F3O.a0H(U23,M23,T93);}else {F3O.j0H(44);W23=F3O.a0H(U23,r23,e23);f93=r23;F3O.j0H(44);this.p0[1]=F3O.a0H(U23,M23,T93);F3O.H0H(2);this.p1[F3O.Z0H(0,"1")]=M23;}B23=this.stx.pixelFromTransformedValue(W23,R23,H23);g23=this.stx.pixelFromTransformedValue(f93,R23,H23);u93=this.getLineColor();h93={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(I23,q23,B23,g23,u93,"segment",D23,R23,h93);F3O.H0H(45);this.stx.plotLine(I23,I23,F3O.Z0H("20",B23),F3O.a0H(20,B23,F3O.H0H(0)),u93,"segment",D23,R23,h93);F3O.H0H(45);this.stx.plotLine(q23,q23,F3O.Z0H("20",g23),F3O.Z0H(20,g23,F3O.j0H(0)),u93,"segment",D23,R23,h93);if(this.active1 || this.active2 || this.active3){F3O.j0H(4);C93=F3O.Z0H(m23,l23);Q93=+"0";for(w23=0;w23 < m23;w23++){Q93+=Math.pow(X23[w23] - C93,2);}F3O.j0H(4);A93=Math.sqrt(F3O.Z0H(m23,Q93));p23={context:D23,panel:R23,points:{0:{x:I23,v:W23},1:{x:q23,v:f93}},stddev:A93,yAxis:H23};this.lines={};if(this.active1){this.renderStddev(661.59 <= (8768,6960)?381.96 < 6940?"1":(!"1",801.55):8.23e+3,4220 != 8834?"p":(6340,4630) === 9183?7.30e+3:2.90e+3,p23);this.renderStddev(5210 > 7770?511.19:"1",("2030" | 288) >= ("5147" >> 555654752,6910)?(!"1",9.60e+3):"n",p23);}if(this.active2){this.renderStddev(("3500" * 1,"245.01" * 1) != 157.33?"2":9172 > (9070,2710)?(4.51e+3,"225.38" * 1):(0x180,"V"),6210 >= ("3306" | 3170)?(1870,294.81) != (2150,4410)?"p":(0xc3b,![]):(0x1aa8,"O"),p23);this.renderStddev(2640 == 6905?("L",0x495):"2","n",p23);}if(this.active3){this.renderStddev(369.32 == 778.9?(! ![],+"7.99e+3"):2380 > (992.51,292.76)?(893.89,8650) != ("757.29" * 1,+"883.16")?"3":"o":(0x439,1.85e+3),7690 !== (5297,9122)?"p":(705,1650) <= 893.38?(0x12a7,"0xc28" << 1816249984):(7724,"8460" << 466277056) < 2698?(0xd7e,631.44):"t",p23);this.renderStddev((4850,9804) > (6410,+"7886")?8.5 == 7940?(976.86,"V"):"3":981.98,"n",p23);}}if(!this.highlighted){this.pixelX=[I23,q23];this.pixelY=[B23,g23];}else {i93=this.highlighted == "p0"?! !{}:!{};P93=this.highlighted == "p1"?!"":!{};this.littleCircle(D23,I23,B23,i93);this.littleCircle(D23,q23,g23,P93);}},renderStddev:function(L93,m93,S93){var Z93,R93,w93,I93,Y93,O93,F93,s93,o93,a93,v93,J93,N93,t93,c93,b93,q93,j93,d93,p93;F3O.j0H(46);Z93=F3O.Z0H(m93,L93,"stddev");F3O.j0H(0);R93=F3O.a0H(L93,"color");F3O.j0H(0);w93=F3O.a0H(L93,"pattern");F3O.j0H(0);I93=F3O.a0H(L93,"lineWidth");Y93=S93.points;O93=Y93[0].v;F93=Y93[1].v;s93=S93.stddev;o93=m93 === "n"?L93 * -1:L93 * 1;a93=this.stx;v93=S93.panel;J93=S93.yAxis;N93={name:Z93,color:this.getLineColor(this[R93]),type:"segment",y0:a93.pixelFromTransformedValue(O93 + s93 * o93,v93,J93),y1:a93.pixelFromTransformedValue(F93 + s93 * o93,v93,J93),params:{pattern:this[w93],lineWidth:this[I93]}};if(this.lines){this.lines[Z93]=N93;}t93=S93.context;c93=Y93[0].x;b93=Y93["1" - 0].x;a93.plotLine(c93,b93,N93.y0,N93.y1,N93.color,N93.type,t93,v93,N93.params);a93.plotLine(c93,c93,N93.y0 - 10,N93.y0 + 10,N93.color,N93.type,t93,v93,N93.params);a93.plotLine(b93,b93,N93.y1 - 10,N93.y1 + ("10" >> 1158173024),N93.color,N93.type,t93,v93,N93.params);F3O.H0H(0);q93=F3O.a0H("\u03c3",L93);j93=Math.max(c93,b93) + 5;d93=c93 < b93?N93.y1:N93.y0;t93.fillStyle=N93.color;t93.save();t93.textBaseline="middle";t93.fillText(q93,j93,d93);t93.restore();if(S93.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(c93 >= v93.chart.left && c93 <= v93.chart.right || b93 >= v93.chart.left && b93 <= v93.chart.right){F3O.H0H(47);p93=F3O.Z0H(c93 < b93?F93:O93,o93,s93);a93.endClip();a93.createYAxisLabel(v93,S93.formatPrice(p93,J93),d93,N93.color,null,t93,J93);a93.startClip(v93.name);}}},intersected:function(l93,B93,r93){var g93,E93,U93,M93,H93,e93,X93;if(!this.pixelX || !this.pixelY){return null;}g93=this.repositionIntersection(l93,B93);if(g93){return g93;}E93={0:this.pixelX,1:this.pixelY};for(var D93=0;D93 < 2;D93++){if(this.pointIntersection(E93[0][D93],E93["1" << 2005397376][D93],r93,! !1)){F3O.H0H(0);this.highlighted=F3O.a0H(D93,+"3262" !== 144.76?"p":(3570,7854) !== 979.92?+"6529" > 792.44?![]:("254.69" * 1,2.50e+2):"A");return {action:"drag",point:((7160,713.79) <= 5880?(940.18,928) >= 530.3?7050 === 6279?(6.95e+3,591.51):"p":(5.12e+3,+"3.06e+3"):"8.84e+3" >> 292736512) + D93};}}U93=this;F3O.H0H(20);F3O.p2O();M93=this.pixelX[F3O.a0H("0",1)];H93=this.pixelX[1];e93=function(K93){var W93,f73;F3O.U2O();W93=[M93,K93.y0];f73=[H93,K93.y1];return U93.lineIntersection(l93,B93,r93,U93.name,W93,f73,! !1);};X93=e93({y0:this.pixelY[+"0"],y1:this.pixelY[1]});if(!X93 && this.lines){for(var k93 in this.lines){if(e93(this.lines[k93])){X93=! !1;break;}}}if(X93){this.highlighted=!0;return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:l93,value:B93};}return null;},repositionIntersection:function(u73,h73){var h05,i05,m05;if(!this.p0 || !this.p1){return !{};}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! !{}){h05=1510025287;i05=-780447320;m05=2;for(var l05=1;F3O.J35(l05.toString(),l05.toString().length,22076) !== h05;l05++){return {action:"",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:u73,value:h73};}if(F3O.J35(m05.toString(),m05.toString().length,22694) !== i05){return {action:"",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:u73,value:h73};}return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:u73,value:h73};}return {action:"drag",point:this.highlighted};}return !{};},lineIntersection:function(C73,A73,z73,T73,G73,V73,Q73){var E2J,y73,x73,n73;if(!Q73){E2J=" lineIntersection mus";E2J+="t accept p0 and p1 in pixels.  Please verify and set isPixels=true.";F3O.j0H(0);console.log(F3O.a0H(E2J,T73));return !{};}if(!G73){G73=this.p0;}if(!V73){V73=this.p1;}F3O.U2O();if(!(G73 && V73)){return !{};}y73=this.stx;x73=J9w.convertBoxToPixels(y73,this.panelName,z73);if(x73.x0 === undefined){return ! !0;}n73={x0:G73["0" * 1],x1:V73[0],y0:G73[1],y1:V73[1]};return J9w.boxIntersects(x73.x0,x73.y0,x73.x1,x73.y1,n73.x0,n73.y0,n73.x1,n73.y1);},boxIntersection:function(P73,N73,i73){if(i73.cx0 > Math.max(this.pixelX[0],this.pixelX["1" ^ 0]) || i73.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !1;}if(!this.stx.repositioningDrawing && (i73.cy1 < this.pixelY[0] || i73.cy0 > this.pixelY[1])){return !1;}return ! ![];},reconstruct:function(t73,v73){this.stx=t73;this.color=v73.col;this.color1=v73.col1;this.color2=v73.col2;this.color3=v73.col3;this.active1=v73.dev1;this.active2=v73.dev2;this.active3=v73.dev3;this.panelName=v73.pnl;this.pattern=v73.ptrn;this.pattern1=v73.ptrn1;this.pattern2=v73.ptrn2;this.pattern3=v73.ptrn3;this.lineWidth=v73.lw;this.lineWidth1=v73.lw1;this.lineWidth2=v73.lw2;F3O.U2O();this.lineWidth3=v73.lw3;this.d0=v73.d0;this.d1=v73.d1;this.tzo0=v73.tzo0;this.tzo1=v73.tzo1;this.field=v73.fld;this.adjust();},serialize:function(){F3O.U2O();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");J9w.Drawing.trendline=function(){this.name="trendline";};J9w.inheritsFrom(J9w.Drawing.trendline,J9w.Drawing.segment);J9w.Drawing.trendline.prototype.configs=["color",B2J,"lineWidth",s3J,u3J];J9w.Drawing.trendline.prototype.measure=function(){;};J9w.Drawing.trendline.prototype.reconstruct=function(a73,c73){J9w.Drawing.segment.prototype.reconstruct.call(this,a73,c73);this.callout=new J9w.Drawing.callout();this.callout.reconstruct(a73,c73.callout);};J9w.Drawing.trendline.prototype.serialize=function(){var b73;b73=J9w.Drawing.segment.prototype.serialize.call(this);b73.callout=this.callout.serialize();return b73;};J9w.Drawing.trendline.prototype.render=function(Z73){var t3J,L73,I73,J73,s73,S73,Y73,O73,o73,F73,q73,d73,j73,p73,m73,R73,w73,D73,X73,K3J,G3J,l73,B73;t3J=" ";t3J+="B";t3J+="a";t3J+="rs";L73=this.stx.panels[this.panelName];if(!L73){return;}J9w.Drawing.segment.prototype.render.call(this,Z73);if(!this.callout){this.callout=new J9w.Drawing.callout();I73=J9w.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,I73);}this.callout.p0=J9w.clone(this.p0);J73=this.stx.pixelFromTick(this.p0[0],L73.chart);s73=this.stx.pixelFromTick(this.p1[0],L73.chart);S73=this.stx.pixelFromValueAdjusted(L73,this.p0[0],this.p0["1" * 1]);Y73=this.stx.pixelFromValueAdjusted(L73,this.p1["0" ^ 0],this.p1[1]);if(!isFinite(S73) || !isFinite(Y73)){return;}F3O.H0H(6);O73=F3O.a0H(s73,J73,2);F3O.j0H(6);o73=F3O.a0H(Y73,S73,2);this.fontSize=J9w.stripPX(this.font && this.font.size || "13" >> 521846304);F73=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (9573 < "1637" * 1?731.80:8550 > (5782,8930)?"C":327.97 > 734.46?(0x234d,"L"):"c")?0:+"50");q73=Math.sqrt(Math.pow(s73 - J73,2) + Math.pow(Y73 - S73,2));d73=F73 / (q73 || F73) * (this.p1[1] < this.p0[1]?1:-1);F3O.j0H(48);j73=F3O.a0H(o73,O73,Y73,d73);F3O.H0H(49);p73=F3O.a0H(o73,O73,d73,s73);this.callout.p0[0]=this.stx.tickFromPixel(j73,L73.chart);this.callout.p0[1]=this.stx.priceFromPixel(p73,L73);F3O.H0H(12);this.callout.v0=this.callout.p0[F3O.Z0H("1",1)];this.callout.p1=J9w.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;F3O.p2O();this.callout.noHandles=! !"1";m73=this.p1[+"1"] - this.p0[1];this.callout.text="" + Number(m73).toFixed(2) + (this.p0[1] === 0?"":" (" + Number(100 * m73 / this.p0[1]).toFixed(2) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[+"0"]) + t3J;R73=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1["0" & 2147483647]) > 1 && Math.abs(this.p0["0" ^ 0] - this.p1[0]) < 20){D73=this.stx.pixelFromTick(R73,L73.chart);F3O.j0H(50);X73=F3O.Z0H(Y73,s73,S73,S73,D73,J73,J73);w73=this.stx.priceFromPixel(X73,L73) || o73;}else {w73=this.stx.priceFromPixel(o73,L73);}this.callout.stem={t:R73,v:w73};this.callout.renderText();this.callout.render(Z73);if(this.highlighted){K3J="p";K3J+="1";G3J="p";G3J+="0";l73=this.highlighted == G3J?! ![]:!1;B73=this.highlighted == K3J?! ![]:!{};this.littleCircle(Z73,J73,S73,l73);this.littleCircle(Z73,s73,Y73,B73);}};J9w.Drawing.trendline.prototype.lineIntersection=function(g73,E73,U73,e73){F3O.p2O();return J9w.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,g73,E73,U73,"segment");};J9w.Drawing.trendline.prototype.intersected=function(M73,H73,K73){var k73,r73,a3J;if(!this.p0 || !this.p1){return null;}k73=this.callout.intersected(M73,H73,K73);r73=J9w.Drawing.segment.prototype.intersected.call(this,M73,H73,K73);this.callout.highlighted=! !(k73 || r73);if(r73){return r73;}else if(k73){a3J="mo";a3J+="ve";return {action:a3J,p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:M73,value:H73};}F3O.p2O();return null;};J9w.Drawing.average=function(){this.name="average";};J9w.inheritsFrom(J9w.Drawing.average,J9w.Drawing.regression);J9w.extend(J9w.Drawing.average.prototype,{configs:J9w.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var W73,u63,x63,G63,h63,f63;if(this.p0 && this.p1){this.stx.setMeasure(0,!{},this.p0[0],this.p1[0],! !1,this.name);W73=[];u63="";if(this.active1){W73.push(1450 == ("3660" | 3084,5268)?"392.99" - 0 <= 7710?1310 != +"1543"?(519,0x26dc):(!"1",!1):801.91:"1");}if(this.active2){W73.push(813.73 !== (4235,7510)?4050 == +"1413"?"5518" - 0 < (8420,529.45)?(! !{},409.33):("S",7.59e+3):"2":("0x489" * 1,2.11e+3));}if(this.active3){W73.push("3");}if(W73.length){u63="&ensp;" + W73.join(", ") + " &sigma;";}x63=(this.stx.drawingContainer || document).querySelector(".mMeasure");G63=this.stx.controls.mSticky;h63=G63 && G63.querySelector(".mStickyInterior");if(x63){x63.innerHTML+=u63;}if(h63){f63=[];f63.push(J9w.capitalize(this.name));f63.push(this.field || this.stx.defaultPlotField || "Close");f63.push(h63.innerHTML + u63);h63.innerHTML=f63.join("<br>");}}},render:function(C63){var V63,y63,z63,N63,T63,b63,L63,O63,S63,a63,Q63,i63,v63,P63,n63,t63,c63,Y63,s63,A63,c3J,Q3J,o63,Z63;V63=this.stx.panels[this.panelName];if(!V63){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}y63=this.stx.pixelFromTick(this.p0[0],V63.chart);z63=this.stx.pixelFromTick(this.p1[0],V63.chart);if(y63 < V63.left && z63 < V63.left){return;}if(y63 > V63.right && z63 > V63.right){return;}N63=this.stx.getYAxisByField(V63,this.field);T63=this.stx;F3O.p2O();b63=Math.min(this.p1["0" * 1],this.p0[0]);L63=Math.max(this.p1[0],this.p0[+"0"]) + 1;function J63(F63,d63){if(d63 && d63.priceFormatter){F63=d63.priceFormatter(T63,V63,F63);}else {F63=T63.formatYAxisPrice(F63,V63,null,d63);}return F63;}F3O.H0H(2);O63=F3O.a0H(b63,L63);S63=0;a63=[];for(Q63=b63;Q63 < L63;Q63++){i63=this.getYValue(Q63);if(i63 !== null){S63+=i63.transformed;a63.push(i63);}}v63=a63.length;if(!v63){return;}F3O.j0H(4);P63=F3O.a0H(v63,S63);n63=T63.pixelFromTransformedValue(P63,V63,N63);t63=this.getLineColor();c63={pattern:this.pattern,lineWidth:this.lineWidth};T63.plotLine(y63,z63,n63,n63,t63,"segment",C63,V63,c63);F3O.H0H(2);T63.plotLine(y63,y63,F3O.a0H(20,n63),F3O.a0H(20,n63,F3O.H0H(0)),t63,"segment",C63,V63,c63);F3O.j0H(2);T63.plotLine(z63,z63,F3O.a0H(20,n63),F3O.Z0H(20,n63,F3O.j0H(0)),t63,"segment",C63,V63,c63);if(this.axisLabel && !this.highlighted && !this.penDown){if(y63 >= V63.chart.left && y63 <= V63.chart.right || z63 >= V63.chart.left && z63 <= V63.chart.right){T63.endClip();T63.createYAxisLabel(V63,J63(P63,N63),n63,t63,null,C63,N63);T63.startClip(V63.name);}}if(this.active1 || this.active2 || this.active3){Y63=+"0";for(Q63=0;Q63 < v63;Q63++){i63=a63[Q63];Y63+=Math.pow(i63.transformed - P63,2);}F3O.j0H(4);s63=Math.sqrt(F3O.Z0H(v63,Y63));A63={context:C63,formatPrice:J63,panel:V63,points:{0:{x:y63,v:P63},1:{x:z63,v:P63}},stddev:s63,yAxis:N63};this.lines={};if(this.active1){this.renderStddev("1",7660 > (290.47,"286.69" - 0)?"p":("P","724.63" - 0),A63);this.renderStddev("1",(6350,6340) > (7544,691.51)?9632 <= (9660,963)?(+"644.94",8220) <= 3818?! !{}:! !1:"n":!1,A63);}if(this.active2){this.renderStddev(800 !== 349.32?"2":4.02e+2,433.28 === 2100?4913 == 9954?("p","f"):(9.92e+3,"0x1ee0" & 2147483647):"p",A63);this.renderStddev(("241" << 1580241792,1910) != 789.85?"595.3" * 1 >= ("609" | 64)?6668 < (795.15,8052)?(881.69,! !{}):0xd8f:"2":!1,"n",A63);}if(this.active3){this.renderStddev("3","p",A63);this.renderStddev("3",162.28 === 806.07?(!1,131.54):"n",A63);}}if(!this.highlighted){this.pixelX=[y63,z63];this.pixelY=[n63,n63];}else {c3J="p";c3J+="1";Q3J="p";Q3J+="0";o63=this.highlighted == Q3J?! ![]:! !"";Z63=this.highlighted == c3J?! !1:!{};this.littleCircle(C63,y63,n63,o63);this.littleCircle(C63,z63,n63,Z63);}},reconstruct:function(R63,m63){this.axisLabel=m63.al;J9w.Drawing.regression.prototype.reconstruct.call(this,R63,m63);},serialize:function(){var w63;w63=J9w.Drawing.regression.prototype.serialize.call(this);F3O.p2O();w63.al=this.axisLabel;return w63;}},! !{});J9w.Drawing.quadrant=function(){this.name="quadrant";};J9w.inheritsFrom(J9w.Drawing.quadrant,J9w.Drawing.regression);J9w.extend(J9w.Drawing.quadrant.prototype,{configs:[n3J,"fillColor",x3J,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(p63){var g3J,F3J,O3J,X3J,q63,I63,j63,D63,E63,X63,l63,r63,U63,H63,k63,M63,f53,u53,e63,B63,K63,g63,d85,v85,V85,h53,x53;g3J="qu";g3J+="a";g3J+="drant";F3J="tiro";F3J+="ne";O3J="qu";O3J+="adran";O3J+="t";X3J="s";X3J+="egment";q63=this.stx;I63=q63.panels[this.panelName];if(!I63){return;}if(!this.p1){return;}j63=q63.pixelFromTick(this.p0["0" ^ 0],I63.chart);D63=q63.pixelFromTick(this.p1[0],I63.chart);if(j63 < I63.left && D63 < I63.left){return;}if(j63 > I63.right && D63 > I63.right){return;}E63=this.stx.getYAxisByField(I63,this.field);X63=null;l63=null;for(var W63=Math.min(this.p1[0],this.p0[0]);W63 <= Math.max(this.p1[0],this.p0[0]);W63++){r63=this.getYValue(W63);if(r63 !== null){if(X63 === null || r63.transformed > X63){X63=r63.transformed;}if(l63 === null || r63.transformed < l63){l63=r63.transformed;}}}U63=q63.pixelFromTransformedValue(X63,I63,E63);F3O.j0H(51);H63=q63.pixelFromTransformedValue(F3O.a0H(X63,l63,4,3),I63,E63);F3O.U2O();F3O.H0H(51);k63=q63.pixelFromTransformedValue(F3O.Z0H(X63,l63,3,2),I63,E63);F3O.H0H(11);M63=q63.pixelFromTransformedValue(F3O.Z0H(X63,"2",l63),I63,E63);F3O.j0H(52);f53=q63.pixelFromTransformedValue(F3O.Z0H(2,X63,l63,"3"),I63,E63);F3O.j0H(53);u53=q63.pixelFromTransformedValue(F3O.Z0H(X63,l63,4,"3"),I63,E63);e63=q63.pixelFromTransformedValue(l63,I63,E63);this.p0[1]=0;this.p1[1]=![];B63=this.getLineColor();K63=this.fillColor;if(K63 == "auto" || J9w.isTransparent(K63)){K63=q63.defaultColor;}p63.fillStyle=K63;g63={pattern:this.pattern,lineWidth:this.lineWidth};q63.plotLine(j63,D63,U63,U63,B63,X3J,p63,I63,g63);q63.plotLine(j63,D63,e63,e63,B63,"segment",p63,I63,g63);if(this.name == O3J){q63.plotLine(j63,D63,H63,H63,B63,"segment",p63,I63,g63);q63.plotLine(j63,D63,u53,u53,B63,"segment",p63,I63,g63);}else if(this.name == F3J){q63.plotLine(j63,D63,k63,k63,B63,"segment",p63,I63,g63);q63.plotLine(j63,D63,f53,f53,B63,"segment",p63,I63,g63);}q63.plotLine(j63,j63,U63,e63,B63,"segment",p63,I63,g63);q63.plotLine(D63,D63,U63,e63,B63,"segment",p63,I63,g63);q63.plotLine(j63,D63,M63,M63,B63,"segment",p63,I63,J9w.extend(g63,{opacity:this.name == "tirone"?+"0.2":+"1"}));p63.globalAlpha=0.1;F3O.H0H(5);d85=-F3O.a0H(0,"1862005776");v85=-1607242878;V85=2;for(var C85=1;F3O.J35(C85.toString(),C85.toString().length,12893) !== d85;C85++){p63.beginPath();F3O.H0H(2);p63.fillRect(j63,U63,F3O.a0H(j63,D63),F3O.a0H(U63,e63));V85+=2;}if(F3O.J35(V85.toString(),V85.toString().length,+"36238") !== v85){p63.beginPath();F3O.j0H(0);p63.fillRect(j63,U63,F3O.Z0H(j63,D63),F3O.a0H(e63,U63,F3O.j0H(54)));}if(this.name == g3J){F3O.H0H(2);p63.fillRect(j63,H63,F3O.a0H(j63,D63),F3O.a0H(H63,u53));}else if(this.name == "tirone"){F3O.H0H(2);p63.fillRect(j63,k63,F3O.a0H(j63,D63),F3O.a0H(k63,f53));}p63.globalAlpha=1;if(!this.highlighted){this.pixelX=[j63,D63];this.pixelY=[U63,e63];if(I63.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(M63);}else {h53=this.highlighted == "p0"?!"":!{};x53=this.highlighted == "p1"?!"":! !"";this.littleCircle(p63,j63,M63,h53);this.littleCircle(p63,D63,M63,x53);}},intersected:function(n53,y53,z53){var V53,A3J;if(!this.pixelX || !this.pixelY){return null;}V53=this.repositionIntersection(n53,y53);if(V53){return V53;}for(var G53=0;G53 < "2" >> 410917664;G53++){if(this.pointIntersection(this.pixelX[G53],this.pixelY[2],z53,!0)){A3J="d";A3J+="ra";A3J+="g";F3O.H0H(0);this.highlighted=F3O.Z0H(G53,"p");return {action:A3J,point:"p" + G53};}}if(this.boxIntersection(null,null,z53)){this.highlighted=! ![];return {action:"move",p0:J9w.clone(this.p0),p1:J9w.clone(this.p1),tick:n53,value:y53};}return null;},reconstruct:function(Q53,T53){this.stx=Q53;this.color=T53.col;this.fillColor=T53.fc;this.panelName=T53.pnl;this.pattern=T53.ptrn;F3O.p2O();this.lineWidth=T53.lw;this.d0=T53.d0;this.d1=T53.d1;this.tzo0=T53.tzo0;this.tzo1=T53.tzo1;this.field=T53.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);J9w.Drawing.tirone=function(){var L3J;L3J="t";L3J+="ir";L3J+="one";this.name=L3J;};J9w.inheritsFrom(J9w.Drawing.tirone,J9w.Drawing.quadrant);J9w.Drawing.elliottwave=function(){this.name="elliottwave";F3O.U2O();this.lastPoint=0;this.points=[];this.pts=[];F3O.j0H(17);this.dx=F3O.a0H("0",1745406944);this.dy=-20;this.dragToDraw=!1;this.annotationPoints=[];this.edit=null;};J9w.inheritsFrom(J9w.Drawing.elliottwave,J9w.Drawing.annotation);J9w.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III","IV",798.46 !== (3990,8080)?"V":2637 >= (91.26,196)?(386.97,6.12e+3):"v"],corrective:[(3673,4130) > 3.79?1522 >= ("2346" >> 916994112,4333)?(+"1730",5207) < 578?(861.36,!{}):("o","R"):"A":+"4.33e+3","B","C"],decoration:"enclosed",showLines:! !1};J9w.Drawing.elliottwave.prototype.initializeSettings=function(C53){C53.currentVectorParameters.waveParameters=J9w.clone(J9w.Drawing.elliottwave.defaultTemplate);};J9w.Drawing.elliottwave.prototype.configs=["color",J3J,"lineColor","pattern","font","waveParameters"];J9w.Drawing.elliottwave.prototype.$controls=[U3J,z3J];J9w.Drawing.elliottwave.prototype.construct=function(A53,P53){F3O.U2O();var i53;this.stx=A53;this.panelName=P53.name;i53=A53.currentVectorParameters;Object.assign(this,i53.waveParameters);};J9w.Drawing.elliottwave.prototype.serialize=function(){var r3J,v53;r3J="s";r3J+="t";v53={};F3O.U2O();for(var N53=0;N53 < this.points.length;N53++){F3O.H0H(0);v53[F3O.Z0H(N53,+"7523" === 6853?![]:5510 > (+"7503",8610)?753:"d")]=this[F3O.Z0H(N53,"d")];F3O.j0H(0);v53[F3O.a0H(N53,"tzo")]=this[F3O.Z0H(N53,"tzo")];F3O.j0H(0);v53[F3O.Z0H(N53,"v")]=this[F3O.a0H(N53,(197.86,4060) >= (753.17,1360)?9790 > 9665?"v":(+"5.57e+3",0x1ae8):("e",+"7.41e+3"))];}v53.annotations=this.annotationPoints.join(+"1520" != 6190?",":(! !"",6.05e+3));return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:J9w.removeNullValues(J9w.replaceFields(this.font,{style:r3J,size:"sz",weight:"wt",family:"fl"}))},v53);};J9w.Drawing.elliottwave.prototype.reconstruct=function(a53,t53){var b3J;b3J="fam";b3J+="i";b3J+="ly";this.stx=a53;this.color=t53.col;this.panelName=t53.pnl;this.pattern=t53.ptrn;this.lineWidth=t53.lw;this.font=J9w.replaceFields(t53.fnt,{st:"style",sz:"size",wt:"weight",fl:b3J});this.decoration=t53.decor;this.showLines=t53.show;this.dx=t53.dx;this.dy=t53.dy;F3O.p2O();this.trend=t53.trend;this.annotationPoints=t53.annotations.split(970.13 == (1999,657)?"O":(287.21,313.58) != (4050,+"9890")?",":(! !"",146.76));if(t53.decor === "enclosed"){this.calculateRadius(a53.chart.tempCanvas.context);}this.maxSegments=t53.mxSeg;this.reconstructPoints(t53);this.adjust();};J9w.Drawing.elliottwave.prototype.reconstructPoints=function(b53){var L53,S53,Y53;L53=this.stx.panels[this.panelName];if(!L53){return;}for(var c53=0;c53 < this.annotationPoints.length;c53++){F3O.H0H(0);this[F3O.a0H(c53,"d")]=b53[F3O.Z0H(c53,756.73 >= ("9720" & 2147483647)?("3515" ^ 0) == 2410?"7.23e+3" & 2147483647:0x20be:"d")];F3O.j0H(0);this[F3O.Z0H(c53,5260 > (9210,2476)?"v":0x1e50)]=b53[F3O.a0H(c53,("4680" & 2147483647) < 3176?(184.94,+"542.35"):"v")];F3O.H0H(0);this[F3O.a0H(c53,"tzo")]=b53[F3O.a0H(c53,"tzo")];S53=J9w.strToDateTime(b53[(3200 > 204.09?"d":(2770,+"176.61") == 171?(3.75e+3,"I"):(1210,502.72) >= (962.47,7694)?(6.11e+3,! !""):(334.86,! !"")) + c53]);Y53=this.stx.tickFromDate(S53,L53.chart);this.points.push([Y53,b53[(("434.88" - 0,4067) == 2977?"373.23" - 0:(4832,+"181.88") > (+"8887",5980)?("z",4.89e+3):"v") + c53]]);}};J9w.Drawing.elliottwave.prototype.calculateRadius=function(Z53){var J53,o53;this.getFontString();Z53.font=this.fontString;J53=0;for(var s53=0;s53 < this.annotationPoints.length;s53++){o53=Z53.measureText(this.annotationPoints[s53]).width;if(J53 < o53){J53=o53;}}this.enclosedRadius=J53;};J9w.Drawing.elliottwave.prototype.check=function(m53,w53,O53){var F53,d53;if(O53 === 1 && this.points.length === 2){return ! !"1";}F3O.j0H(2);F53=this.points[F3O.a0H(1,O53)];function R53(q53){F3O.U2O();for(var I53=2;I53 < q53.length;I53++){if(Math.sign(q53[I53][1] - q53[I53 - +"1"][1]) == Math.sign(q53[I53 - "1" * 1][1] - q53[I53 - 2][1])){return !{};}}return ! !"1";}if(F53 && m53 <= F53[+"0"]){return !{};}F3O.H0H(55);d53=this.points[F3O.Z0H("1",O53)];if(d53 && m53 >= d53[0]){return !1;}if(!R53(this.points)){return !{};}return ! !"1";};J9w.Drawing.elliottwave.prototype.move=function(j53,p53,D53){this.copyConfig();this.points[this.lastPoint + 1]=[p53,D53];F3O.p2O();this.render(j53);};J9w.Drawing.elliottwave.prototype.adjust=function(){var V35,p35,C35,l53,B53;V35=+"402799692";F3O.U2O();p35=1195222353;C35=2;for(var k35=1;F3O.U35(k35.toString(),k35.toString().length,55873) !== V35;k35++){l53=this.stx.panels[this.panelName];if(+l53){return;}F3O.H0H(5);C35+=F3O.Z0H(0,"2");}if(F3O.U35(C35.toString(),C35.toString().length,47022) !== p35){l53=this.stx.panels[this.panelName];if(-l53){return;}}l53=this.stx.panels[this.panelName];if(!l53){return;}for(var X53=0;this.maxSegments + 1 > X53;X53++){F3O.j0H(0);B53=this[F3O.Z0H(X53,6000 <= 5992?565.89 > (3475,7267)?(6.58e+2,"Q"):10000 >= 333.04?"i":! ![]:"d")];this.setPoint(X53,B53,this["v" + X53],l53.chart);this.points[X53][0]=this.stx.tickFromDate(J9w.strToDateTime(B53),l53.chart);F3O.j0H(20);this.points[X53][F3O.a0H("1",1)]=this[F3O.Z0H(X53,"v",F3O.j0H(0))];}};J9w.Drawing.elliottwave.prototype.click=function(e53,g53,E53){var U53;F3O.U2O();U53=this.stx.panels[this.panelName];if(!U53){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,g53,E53,U53.chart);this.points.push(this.p0);this.penDown=! !1;F3O.H0H(17);this.segment=F3O.Z0H("0",1625731584);this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((718.54,906.71) === (334,4300)?+"336.73":"0");if(this.decoration === "enclosed"){this.calculateRadius(e53);}this.maxSegments=this.annotationPoints.length - 1;this.trend=1;return !{};}if(this.accidentalClick(g53,E53)){this.penDown=! !"1";return !"1";}if(this.check(g53,E53,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,g53,E53,U53.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=![];return ! !1;}}return !{};};J9w.Drawing.elliottwave.prototype.render=function(r53){var q3J,H53,P03,F03,d03,m03,v03,c03,K53,W53,J03,f03,k53,R3J,H3J,G03,y03,x03,z03,T03,I03,D03,C03,A03,n03,s03,O03,X03,i03;q3J="ce";q3J+="nt";q3J+="er";H53=this.stx.panels[this.panelName];if(!H53){return;}P03=this.stx;F03=this.annotationPoints;d03=this.pattern?J9w.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();r53.font=this.fontString;r53.textAlign=q3J;r53.textBaseline="middle";r53.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(r53);}this.lastFontString=this.fontString;m03=this.getLineColor();r53.fillStyle=r53.strokeStyle=m03;r53.save();r53.setLineDash(d03);v03=this.dx;c03=this.dy;K53=this.points;W53=this.pts;J03=!this.showLines && this.highlighted;f03=K53.length;if(this.penDown && this.segment){k53=this.trend * (f03 % 2 - 0.5) < 0;if(H53.yAxis.flipped){k53=!k53;}this.drawDropZone(r53,K53[f03 - 2][1],this.stx.priceFromPixel(H53.yAxis[k53?"top":"bottom"]),K53[f03 - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){R3J="t";R3J+="o";R3J+="p";H3J="m";H3J+="ax";G03=parseInt(this.highlighted.substring(+"1",this.highlighted.length),10);k53=this.trend * (G03 % 2 - ("0.5" - 0)) > +"0";F3O.j0H(56);y03=K53[F3O.a0H(G03,126770496,"1")];F3O.H0H(0);x03=K53[F3O.a0H(1,G03)];z03=G03 > 0?y03[1]:x03[1];if(x03){z03=Math[k53?H3J:"min"](z03,x03[+"1"]);}if(H53.yAxis.flipped){k53=!k53;}this.drawDropZone(r53,z03,this.stx.priceFromPixel(H53.yAxis[k53?R3J:"bottom"]),y03?y03[0]:null,x03?x03[0]:null);}for(var M53=+"0";M53 < f03;M53++){T03=K53[M53];I03=P03.pixelFromTick(T03[0],H53.chart);D03=P03.pixelFromValueAdjusted(H53,T03[0],T03[1]);W53[M53]=[I03,D03];}M53=0;if(this.showLines || J03){r53.beginPath();if(J03){r53.globalAlpha=0.3;}for(;M53 < W53.length;M53++){r53.lineTo(W53[M53][0],W53[M53][1]);}r53.stroke();M53=0;}r53.restore();for(;M53 < f03;M53++){C03=M53 % 2?v03:-v03;A03=M53 % 2?c03:-c03;C03*=this.trend;A03*=this.trend;if(H53.yAxis.flipped){C03*=-1;A03*=-1;}n03=W53[M53];s03=n03[+"2"]=n03[0] + C03;O03=n03[3]=n03[1] + A03;X03=this.enclosedRadius || 8;i03=F03[M53];if(this.decoration === "parentheses"){F3O.H0H(46);i03=F3O.Z0H(")",i03,(6724,"9310" | 8268) !== 464.13?8528 === 1881?(5.37e+3,"L"):(+"948",417) == 61.63?8.19e+3:"(":(7.87e+3,837.24));}r53.fillText(i03,s03,O03);if(this.decoration === "enclosed"){r53.beginPath();r53.arc(s03,O03,X03,0,2 * Math.PI,! !0);r53.stroke();}if(this.highlighted){r53.save();this.littleCircle(r53,this.pts[M53][0],this.pts[M53][1],this.highlighted === (3363 == (6780,9252)?(! ![],317):"p") + M53);r53.restore();}}};J9w.Drawing.elliottwave.prototype.reposition=function(V43,B03,M03,K03){var u43,r05,b05,q05,h43,x43,e03,f43,G43;if(!B03){return;}u43=this.stx.panels[this.panelName];r05=-2092927113;b05=454143030;q05=2;for(var R05=1;F3O.U35(R05.toString(),R05.toString().length,55960) !== r05;R05++){h43=B03.tick / M03;q05+=2;}if(F3O.J35(q05.toString(),q05.toString().length,94452) !== b05){h43=B03.tick - M03;}x43=B03.value - K03;F3O.p2O();if(B03.action === "move"){for(var U03=0;B03.points.length > U03;U03++){e03=B03.points[U03];this.setPoint(U03,e03[0] - h43,e03[1] - x43,u43.chart);this.points[U03]=[e03[0] - h43,e03["1" * 1] - x43];}}if(B03.action === "drag"){f43=B03.point;G43=this.points;G43[f43]=[M03,K03];if(this.check(M03,K03,f43)){this.setPoint(f43,M03,K03,u43.chart);;};}this.render(V43);};J9w.Drawing.elliottwave.prototype.intersected=function(z43,T43,Q43){var C43,i3J,y43,h3J;if(!this.p0 || !this.p1){return null;}for(var n43=0;this.points.length > n43;n43++){i3J="segm";i3J+="ent";y43=this.points[n43];if(this.pointIntersection(y43["0" - 0],y43[1],Q43)){h3J="d";h3J+="r";h3J+="a";h3J+="g";F3O.H0H(0);this.highlighted=F3O.a0H(n43,(9610,5280) == +"8370"?(4226,938.1) != (3008,1493)?(389.54,+"7660") !== (7745,1420)?(2.80e+1,"8.59e+3" - 0):!"":(2.59e+3,"H"):"p");return {action:h3J,point:n43,tick:z43,value:T43};}if(this.points[n43 + 1] && this.lineIntersection(z43,T43,Q43,i3J,y43,this.points[n43 + 1])){this.highlighted=! ![];C43={action:"move",points:J9w.clone(this.points),tick:z43,value:T43};}}return C43;};J9w.Drawing.elliottwave.prototype.measure=function(){F3O.p2O();var m3J,A43,N43,P43,i43;if(this.points.length >= 2){m3J=".mS";m3J+="tickyInt";m3J+="erior";A43=this.points;this.stx.setMeasure(A43[0][+"1"],A43[A43.length - 1][1],A43[0][0],A43[A43.length - 1][0],! !{});N43=this.stx.controls.mSticky;P43=N43 && N43.querySelector(m3J);if(P43){i43=[];i43.push(J9w.capitalize("Elliott Wave"));if(this.getYValue){i43.push(this.field || this.stx.defaultPlotField || "Close");}i43.push(P43.innerHTML);P43.innerHTML=i43.join("<br>");}}};J9w.Drawing.printProjection=function(Y43,j43,v43){F3O.p2O();var a43,c43,m43,J43,R43,s43,w43,o43,S43,F43,L43,I43,d43,O43,t43,q43;a43=j43.arr;if(a43.length > +"1"){c43=a43[0][0];m43=Math.round(Y43.chart.maxTicks * 0.75);for(var b43=1;b43 < a43.length;b43++){F3O.H0H(2);J43=a43[F3O.Z0H(1,b43)][0];F3O.j0H(20);R43=a43[b43][F3O.a0H("0",1)];s43=J9w.strToDateTime(J43);w43=J9w.strToDateTime(R43).getTime();o43=Y43.standardMarketIterator(s43);S43=0;while(s43.getTime() < w43){s43=o43.next();S43+=1;}F43=J9w.strToDateTime(J43).getTime();if(F43 > J9w.strToDateTime(v43[v43.length - 1].Date).getTime()){L43=v43.length - ("1" ^ 0);F3O.j0H(12);S43+=F3O.Z0H("1",1);}else {for(L43=v43.length - +"1";L43 >= 0;L43--){if(F43 <= J9w.strToDateTime(v43[L43].Date).getTime())break;}}I43={x0:+"0",x1:S43,y0:v43[L43].Close,y1:a43[b43][1]};c43=J9w.strToDateTime(J43);o43=Y43.standardMarketIterator(c43);d43=! !"";for(var Z43=0;Z43 <= S43;Z43++){if(!d43){d43=! !{};}else {c43=o43.next();}if(c43.getTime() <= v43[v43.length - 1].DT.getTime())continue;O43=J9w.yIntersection(I43,Z43);if(!O43){O43=+"0";}t43=Math.round(O43 * 10000) / 10000;if(t43 === 0){t43=a43[b43][1];}q43={Date:J9w.yyyymmddhhmmssmmm(c43),DT:c43,Open:t43,Close:t43,High:t43,Low:t43,Volume:0,Adj_Close:t43,Split_Close:t43,projection:! ![]};if(Y43.layout.interval == "minute")if(m43-- < ("0" | 0))break;v43[v43.length]=q43;}}}};}};S0Q=D43=>{var p43,P3J;p43=typeof _CIQ !== "undefined"?_CIQ:D43.CIQ;o2ss.U2O();if(!p43.computeEquationChart){P3J="equationsAdvanced f";P3J+="eature requires first activating equations";P3J+=" fe";P3J+="ature.";console.error(P3J);}else {p43.formatEquation=function(e43){var P5O=o2ss;var B43,E43,X43,g43,l43;B43="";E43=[];X43="";g43=! !0;for(var U43=1;U43 < e43.length;U43++){l43=e43[U43].toUpperCase();if(l43 == "[" && !g43){g43=! !{};}else if(l43 == (5720 === (1360,964.27)?"710.65" - 0:("7294" & 2147483647) == 5320?0xae5:(6579,953.26) != "5260" - 0?"]":! !"1") && g43){g43=![];if(X43 !== ""){E43.push(X43);P5O.H0H(46);B43+=P5O.Z0H("]",X43,"[");}X43="";}else if(g43){X43+=l43;}else if(l43 == (("4721" ^ 0) >= 3350?"+":6.53e+3) || l43 == "-" || l43 == (("466.45" - 0,+"5382") != (531.65,7380)?"*":!"1") || l43 == (6406 == (4400,78)?3201 === (929,+"4171")?9.91e+3:(4705,2614) !== (6780,6373)?335:(0x357,0x1125):"/") || l43 == ":" || l43 == ((6472,2560) <= (+"9072","3250" - 0)?(9660,2780) <= 4850?"%":9.39e+3:"k") || l43 == (+"8584" <= 3959?(0x14f0,429.96):"(") || l43 == ")"){if(X43 !== "" && isNaN(X43)){E43.push(X43);P5O.j0H(46);B43+=P5O.Z0H((3330,2830) >= 481.95?1725 < (2300,9820)?(1497,7329) >= 4514?"]":("374" ^ 0,+"0x7b8"):(! !{},+"0x1f50"):("Z",0x2656),X43,("8960" * 1,9445) === "7940" >> 1294213088?("Q",0x1326):"[");}else {B43+=X43;}if(l43 == (("4326" | 230) > (2887,3070)?":":7980 == (1000,3393)?! ![]:303.48 <= ("6270" - 0,+"3607")?("p",725):(+"7.58e+3","0x16f6" | 1744))){l43=2240 != (1276,3160)?("8550" ^ 0,7231) >= (264,3480)?+"41.97" !== 2910?"/":!{}:7.03e+3:453.35;}B43+=l43;X43="";}else if(l43 != (+"4296" == 7251?("j",6.52e+3):7486 >= (36.39,5077)?" ":! !{})){X43+=l43;}}if(X43 !== "" && isNaN(X43)){E43.push(X43);P5O.H0H(46);B43+=P5O.a0H(("5390" << 1509822368,3149) === 9221?"8.80e+3" | 8800:(2720,5900) > (436.79,7050)?(+"9616",8490) == 724?602.28:629.91:"]",X43,"[");}else {B43+=X43;}return {equation:B43,symbols:E43};};p43.fetchEquationChart=function(r43,u1K){var k43,K43,W43,f1K,H43;k43=p43.formatEquation(r43.symbol);K43=k43.symbols;W43=[];f1K=r43.stx;r43.stx=null;for(var M43=0;M43 < K43.length;M43++){H43=p43.shallowClone(r43);H43.stx=f1K;H43.symbol=K43[M43];H43.symbolObject={symbol:K43[M43]};W43.push(H43);}r43.stx=f1K;f1K.quoteDriver.multiFetch(W43,function(z1K){var n1K,h1K,x1K,G1K,T1K;n1K={};r43.loadMoreReplace=! !"1";h1K={charge:+"0"};for(var V1K=0;V1K < z1K.length;V1K++){x1K=z1K[V1K];if(x1K.dataCallback.error){u1K({error:x1K.dataCallback.error});return;}n1K[x1K.params.symbol]=x1K.dataCallback.quotes;r43.loadMoreReplace=r43.loadMoreReplace && x1K.params.loadMoreReplace;r43.moreToLoad=r43.moreToLoad || x1K.dataCallback.moreAvailable;G1K=x1K.dataCallback.attribution;if(G1K){if(G1K.charge){h1K.charge+=G1K.charge;}h1K.source=G1K.source;if(h1K.exchange === undefined){h1K.exchange=G1K.exchange;}else if(h1K.exchange != G1K.exchange){h1K.exchange="";};}}if(W43.length || !(r43.loadMore || r43.update)){try{T1K=p43.computeEquationChart(k43.equation,n1K);u1K({quotes:T1K,moreAvailable:r43.moreToLoad,attribution:h1K});}catch(Q1K){var y1K;y1K={error:"Invalid equation: " + k43.equation};if(Q1K.name && Q1K.name == "NoException"){y1K.suppressAlert=! !{};}u1K(y1K);}}});};}};Y0Q=A1K=>{var l3J,C1K,M3J;l3J="un";l3J+="de";l3J+="fined";C1K=typeof _CIQ !== l3J?_CIQ:A1K.CIQ;if(!C1K.Marker){M3J="highPerformanceMarke";M3J+="rs feature requires first activating markers feature.";console.error(M3J);}else {C1K.ChartEngine.prototype.removeDOMMarker=function(i1K){var e3J;o2ss.U2O();e3J="CIQ.ChartEngine#removeDOMMa";e3J+="rker is scheduled for deprecation in a fu";e3J+="ture release\n Please use CIQ.Marker.Performance#remove instead.";console.warn(e3J);C1K.Marker.Performance.prototype.removeDOMMarker.call(i1K.params.node,i1K);};C1K.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");o2ss.p2O();C1K.Marker.Performance.drawMarkers(this);};C1K.ChartEngine.prototype.calculateMarkerStyles=function(P1K,N1K){var D3J;D3J="CIQ.ChartEngine#calculateMarkerStyles is scheduled for ";D3J+="deprecation in a future releas";D3J+="e\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(D3J);o2ss.p2O();C1K.Marker.Performance.calculateMarkerStyles(this,P1K,N1K);};C1K.ChartEngine.prototype.drawCircleMarker=function(v1K,t1K,a1K){var j3J;j3J="CIQ.ChartEngine#drawCircleMarker is s";j3J+="cheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead";j3J+=".";console.warn(j3J);o2ss.p2O();C1K.Marker.Performance.drawCircleMarker(v1K,t1K,a1K);};C1K.ChartEngine.prototype.drawSquareMarker=function(c1K,b1K,L1K){o2ss.p2O();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");C1K.Marker.Performance.drawSquareMarker(c1K,b1K,L1K);};C1K.ChartEngine.prototype.drawCalloutMarker=function(S1K,Y1K,J1K){o2ss.p2O();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");C1K.Marker.Performance.drawCalloutMarker(S1K,Y1K,J1K);};C1K.ChartEngine.prototype.drawMarkerStem=function(s1K,o1K,Z1K){o2ss.U2O();var W3J;W3J="CIQ.ChartE";W3J+="ngine#drawMarkerStem is scheduled for deprecation in ";W3J+="a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(W3J);C1K.Marker.Performance.drawMarkerStem(s1K,o1K,Z1K);};C1K.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");o2ss.p2O();C1K.Marker.Performance.drawMarkers(this);};C1K.Marker.Performance=function(d1K){var v3J,d3J,y3J,I3J,F1K,O1K,R1K,I1K,m1K,w1K,q1K,j1K;v3J=".stx-marker-exp";v3J+="and";d3J=".";d3J+="s";d3J+="tx";d3J+="-marker";y3J="<div class=\"st";y3J+="x-ma";y3J+="rker-con";y3J+="tent\">";I3J="T";I3J+="EMPL";I3J+="A";I3J+="TE";this.params={displayCategory:!0,displayStem:!"",invert:!{},story:"",headline:""};C1K.extend(this.params,d1K);F1K=this.template=document.createElement(I3J);o2ss.H0H(57);F1K.innerHTML=o2ss.Z0H('<div class="stx-visual">',"</div>",y3J,"</div>",'<div class="stx-marker highlight">',"</div>",'<div class="stx-stem"></div>','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>');O1K=this.template.content.cloneNode(! !{});R1K=O1K.querySelector(d3J,F1K);R1K.classList.add(d1K.type);R1K.classList.add(d1K.category);I1K=O1K.querySelector(".stx-visual",F1K);m1K=O1K.querySelector(v3J);w1K=O1K.querySelector("h4",F1K);q1K=O1K.querySelector("p",F1K);w1K.innerText=this.params.headline;q1K.innerText=this.params.story;this.hasText=! !d1K.headline || ! !d1K.story;this.deferAttach=!"";this.node=O1K.firstChild;this.node.params=this.params;this.visual=I1K;this.expand=m1K;if(d1K.type === "callout"){j1K=m1K.removeChild(w1K);O1K.querySelector(".stx-marker-content",F1K).insertBefore(j1K,m1K);}};C1K.inheritsFrom(C1K.Marker.Performance,C1K.Marker.NodeCreator,!{});C1K.Marker.Performance.consolidateExpanded=function(E1K){var p1K,D1K,B1K,p3J,l1K,g1K;p1K=E1K.markerHelper.highlighted;if(!p1K.length){return;}D1K=p1K[p1K.length - 1];B1K=D1K.params.node;if(!D1K.consolidated){D1K.consolidated=[];}for(var X1K=p1K.length - 2;X1K >= 0;X1K--){p3J="<conso";p3J+="li";p3J+="da";p3J+="ted>";l1K=U1K(p1K[X1K]);o2ss.H0H(46);g1K=o2ss.Z0H("</consolidated>",l1K,p3J);if(l1K.length){B1K.expand.innerHTML+=g1K;}}function U1K(H1K){var V3J,r1K,e1K,M1K;V3J="n";V3J+="o";V3J+="n";o2ss.p2O();V3J+="e";r1K=H1K.params.node;e1K=r1K.expand;if(!e1K){return "";}M1K=e1K.style.display !== V3J?e1K.innerHTML:"";return M1K;}D1K.stxNodeCreator.quickCache(D1K);};C1K.Marker.Performance.reconstituteExpanded=function(f2K){var k1K,C3J,u2K,h2K,W1K;k1K=f2K.markerHelper.highlighted;if(!k1K.length || !f2K.activeMarker){return;}k1K=[f2K.activeMarker];for(var K1K=k1K.length - ("1" >> 933782272);K1K >= 0;K1K--){C3J="CON";C3J+="SOLIDA";C3J+="T";C3J+="ED";u2K=k1K[K1K];h2K=u2K.params.node;W1K=h2K.expand;while(W1K.lastElementChild.nodeName === C3J){W1K.removeChild(W1K.lastElementChild);}}};C1K.Marker.Performance.drawMarkers=function(z2K){var o3J,y2K,x2K,V2K,n2K,T2K,Q2K;o3J="a";o3J+="l";o3J+="l";y2K=z2K.getMarkerArray(o3J);x2K=z2K.chart;o2ss.p2O();for(var G2K=+"0";G2K < y2K.length;G2K++){V2K=y2K[G2K];n2K=V2K.stxNodeCreator;T2K=x2K.dataSegment[0].tick;Q2K=x2K.dataSegment[x2K.dataSegment.length - 1].tick;if(T2K <= V2K.tick <= Q2K){if(n2K && n2K.drawMarker){n2K.drawMarker(V2K);}}}};C1K.Marker.Performance.calculateMarkerStyles=function(A2K,i2K,v2K){var k3J,C2K,T3J,P2K,N2K;k3J=".stx-";k3J+="m";k3J+="ar";k3J+="ker-templates";C2K=document.querySelector(k3J);if(!C2K){T3J="D";T3J+="IV";C2K=document.createElement(T3J);C2K.style.visibility="hidden";C2K.style.left="-1000px";document.body.append(C2K);}C2K.appendChild(i2K.node);P2K=getComputedStyle(i2K.stxNodeCreator.visual);if(!A2K.styles.stx_marker_stem){N2K=getComputedStyle(document.querySelector(".stx-stem",i2K.node));A2K.styles.stx_marker_stem=A2K.cloneStyle(N2K);}o2ss.U2O();A2K.styles[v2K]=A2K.cloneStyle(P2K);C2K.removeChild(i2K.node);};C1K.Marker.Performance.drawCircleMarker=function(L2K,Z2K,a2K){var s2K,o2K,t2K,c2K,b2K,S2K,Y2K,J2K;s2K=L2K.params.stx;o2K=s2K.chart;t2K=o2K.context;c2K=a2K.x;b2K=a2K.y;S2K=a2K.radius;Y2K=a2K.label;J2K=a2K.color?a2K.color:Z2K.backgroundColor;t2K.beginPath();t2K.setLineDash([]);t2K.lineWidth=1;t2K.fillStyle=J2K;t2K.strokeStyle=J2K;t2K.font="normal bold 12px Roboto, Helvetica, sans-serif";t2K.arc(c2K,b2K,S2K,0,2 * Math.PI,![]);t2K.fill();t2K.stroke();o2ss.p2O();t2K.closePath();if(Y2K){t2K.fillStyle=C1K.colorsEqual("white",t2K.fillStyle)?"black":"white";t2K.fillText(Y2K.charAt("0" >> 2012086912).toUpperCase(),c2K - 4,b2K + 1);}if(L2K.highlight || L2K.active){t2K.beginPath();o2ss.j0H(58);t2K.arc(c2K,b2K,o2ss.Z0H(1863920896,"4",S2K),0,2 * Math.PI,!{});t2K.stroke();t2K.closePath();}};C1K.Marker.Performance.drawSquareMarker=function(I2K,X2K,F2K){var k4O=o2ss;var p2K,D2K,O2K,R2K,w2K,d2K,q2K,j2K,m2K,w3J;p2K=I2K.params.stx;D2K=p2K.chart;O2K=D2K.context;k4O.U2O();R2K=F2K.x;w2K=F2K.y;d2K=F2K.half;q2K=F2K.label;j2K=F2K.color?F2K.color:X2K.backgroundColor;k4O.j0H(20);m2K=k4O.Z0H(d2K,2);O2K.beginPath();O2K.setLineDash([]);O2K.lineWidth=1;O2K.fillStyle=j2K;O2K.strokeStyle=j2K;O2K.font="normal bold 12px Roboto, Helvetica, sans-serif";k4O.j0H(2);O2K.rect(k4O.a0H(d2K,R2K),k4O.Z0H(d2K,w2K),m2K,m2K);O2K.fill();if(I2K.highlight || I2K.active){k4O.H0H(59);O2K.rect(k4O.Z0H(d2K,R2K,4),k4O.Z0H(d2K,w2K,4,k4O.j0H(59)),k4O.Z0H(m2K,2147483647,"8",k4O.H0H(60)),k4O.a0H(8,m2K,k4O.H0H(0)));}O2K.stroke();O2K.closePath();if(q2K){w3J="whi";w3J+="t";w3J+="e";O2K.fillStyle=C1K.colorsEqual("white",O2K.fillStyle)?"black":w3J;O2K.fillText(q2K.charAt(0).toUpperCase(),R2K - 4,w2K + 1);}};C1K.Marker.Performance.drawCalloutMarker=function(E2K,x3K,B2K){var S3J,Y3J,f3K,u3K,l2K,g2K,G3K,e2K,r2K,M2K,H2K,k2K,h3K,U2K,K2K,W2K;S3J="rgba(255,255,2";S3J+="55,0.65)";Y3J="rgba(255";Y3J+=",255,2";Y3J+="55,0.8)";f3K=E2K.params.stx;u3K=f3K.chart;l2K=u3K.context;g2K=E2K.params;G3K=B2K.x;e2K=B2K.y;r2K=B2K.half;M2K=B2K.midWidth;H2K=B2K.headline;k2K=B2K.color?B2K.color:x3K.backgroundColor;h3K=r2K * 2 || 25;U2K=Math.round(l2K.measureText(H2K).width);K2K=M2K?M2K * +"2":U2K + 8;l2K.beginPath();l2K.setLineDash([]);l2K.lineWidth=1;l2K.fillStyle=k2K;l2K.strokeStyle=k2K;l2K.font="normal bold 12px Roboto, Helvetica, sans-serif";l2K.rect(g2K.box.x0,g2K.box.y0,K2K,h3K);l2K.fill();l2K.stroke();l2K.closePath();l2K.beginPath();l2K.fillStyle=E2K.highlight || E2K.active?Y3J:S3J;o2ss.H0H(61);W2K=o2ss.a0H(U2K,2,K2K,"20");l2K.rect(g2K.box.x0 + W2K,e2K - r2K,U2K + 40,"22" | 2);l2K.fill();l2K.stroke();l2K.closePath();l2K.fillStyle="black";l2K.fillText(H2K,g2K.box.x0 + W2K + 10,e2K);};C1K.Marker.Performance.drawMarkerStem=function(n3K,Q3K,y3K){var C3K,A3K,V3K,z3K,N3K,T3K,i3K,P3K;C3K=n3K.params.stx;A3K=C3K.chart;V3K=A3K.context;z3K=y3K.x;N3K=y3K.y;o2ss.p2O();V3K.beginPath();V3K.strokeStyle=Q3K.borderLeftColor;V3K.setLineDash([1,+"1"]);T3K=C1K.stripPX(Q3K.height);i3K=y3K.invert?n3K.params.box.y0:n3K.params.box.y1;P3K=y3K.invert?n3K.params.box.y0 - T3K:n3K.params.box.y1 + T3K;V3K.moveTo(z3K,i3K);V3K.lineTo(z3K,P3K);V3K.stroke();V3K.closePath();};C1K.Marker.Performance.prototype.drawMarker=function(v3K){var q4O=o2ss;var Z3J,f3J,Z3K,a3K,I3K,q3K,m3K,c3K,Y3K,J3K,j3K,R3K,O3K,w3K,F3K,b3K,d3K,t3K,s3K,o3K,p3K,D3K,L3K,S3K,N3J;Z3J="cal";Z3J+="lout";f3J="cir";f3J+="cle";Z3K=v3K.params;a3K=v3K.params.stx;if(!a3K){return;}I3K=a3K.chart;q3K=I3K.dataSegment;if(!q3K.length){return;}m3K=a3K.panels[v3K.params.panelName];c3K=v3K.stxNodeCreator.params;Y3K=c3K.type;J3K=c3K.category;j3K=c3K.headline;R3K=c3K.displayCategory;O3K=c3K.color;w3K=c3K.invert;q4O.j0H(62);F3K=q4O.Z0H(J3K,Y3K,"stx_marker_","_");if(!a3K.styles[F3K]){C1K.Marker.Performance.calculateMarkerStyles(a3K,v3K,F3K);}b3K=v3K.style=a3K.styles[F3K];d3K=a3K.styles.stx_marker_stem;t3K=parseInt(b3K.height,10) / 2;s3K=parseInt(b3K.width,+"10") / 2;o3K=c3K.displayStem?parseInt(d3K.height,10) + parseInt(d3K.marginBottom,10):0;p3K=o3K + parseInt(b3K.height,10);D3K=o3K?o3K + t3K:"0" - 0;L3K=a3K.pixelFromDate(Z3K.x);S3K=Z3K.node.calculateYPosition({marker:v3K,panel:m3K,height:p3K,half:t3K,offset:D3K,inverted:w3K});if(!v3K.tick && v3K.tick !== 0){return;}Z3K.box={x0:L3K - (s3K || t3K),y0:S3K - t3K,x1:L3K + (s3K || t3K),y1:S3K + t3K,midY:t3K,midX:s3K || t3K,stemHeight:o3K};if(!R3K){J3K=R3K;}a3K.startClip(m3K.name);if(Y3K === f3J){C1K.Marker.Performance.drawCircleMarker(v3K,b3K,{x:L3K,y:S3K,radius:t3K,label:J3K,color:O3K});}else if(Y3K === "square"){C1K.Marker.Performance.drawSquareMarker(v3K,b3K,{x:L3K,y:S3K,half:t3K,label:J3K,color:O3K});}else if(Y3K === Z3J){C1K.Marker.Performance.drawCalloutMarker(v3K,b3K,{x:L3K,y:S3K,half:t3K,midWidth:s3K,headline:j3K,color:O3K});}else {N3J=" is unsuppor";N3J+="ted ";N3J+="with canvas markers!\nSupported Styles are Square, Circle, and Callout.";q4O.H0H(46);console.warn(q4O.Z0H(N3J,Y3K,"Marker type: "));}if(c3K.displayStem){C1K.Marker.Performance.drawMarkerStem(v3K,d3K,{x:L3K,y:S3K,invert:w3K});}q4O.U2O();a3K.endClip();if(v3K.attached){this.positionPopUpNode(v3K);}};C1K.Marker.Performance.prototype.positionPopUpNode=function(l3K){var B3J,r3K,g3K,X3K,M3K,U3K,B3K,H3K,E3J,u8K,h8K,x8K,G8K,k3K,E3K,f8K,K3K,e3K,W3K,V8K;B3J="px)";B3J+=" transl";B3J+="ateY";B3J+="(";if(!l3K.attached || !l3K.params.box){return;}r3K=l3K.params;g3K=r3K.stx;X3K=r3K.box;M3K=l3K.params.node.expand;U3K=g3K.chart.dataSet;B3K=g3K.chart.dataSegment;if(l3K.tick){E3J="D";E3J+="a";E3J+="te";u8K=[U3K[B3K[0] && B3K[0].tick - 1],U3K[B3K[0] && B3K[0].tick - 2]];h8K=g3K.getFirstLastDataRecord(u8K.concat(B3K),E3J);x8K=[U3K[B3K[B3K.length - 1].tick + 1],U3K[B3K[B3K.length - 1].tick + +"2"]];G8K=g3K.getFirstLastDataRecord(B3K.concat(x8K),"Date",! !"1");H3K=h8K.DT <= U3K[l3K.tick].DT && U3K[l3K.tick].DT <= G8K.DT;}else {H3K=! !0;}if(!l3K.highlight && !l3K.active){H3K=!{};}M3K.style.visibility=H3K?"":"hidden";if(!H3K){return;}k3K=g3K.panels[r3K.panelName];E3K=M3K.rects;f8K=E3K.height / 2;e3K=l3K.node.params.infoOffset || +"0";if(l3K.node.params.infoOnLeft){K3K=X3K.x0 - E3K.width - e3K < k3K.left?X3K.x1 + e3K:X3K.x0 - E3K.width - e3K;}else {K3K=X3K.x0 + E3K.width > k3K.right?X3K.x0 - E3K.width - e3K:X3K.x1 + e3K;}K3K-=g3K.chart.left;W3K=X3K.y0 - f8K >= k3K.top?X3K.y0 + X3K.midY - f8K:X3K.y0;if(!r3K.avoidFlush && X3K.y1 + X3K.stemHeight === k3K.yAxis.bottom && E3K.height > X3K.y1 - X3K.y0 + X3K.stemHeight){W3K=X3K.y1 - E3K.height + X3K.stemHeight;}W3K-=g3K.chart.panel.top;V8K="translateX(" + Math.floor(K3K) + B3J + Math.floor(W3K) + "px) translateZ(0)";M3K.style.transform=V8K;M3K.transform={translateX:K3K,translateY:W3K};};C1K.Marker.Performance.prototype.quickCache=function(z8K){var T8K,n8K,y8K,Q8K;T8K=z8K.params.node;n8K=T8K.expand;y8K=z8K.style;Q8K=C1K.stripPX(y8K.marginLeft) + C1K.stripPX(y8K.marginRight) + C1K.stripPX(y8K.borderRight) + C1K.stripPX(y8K.borderLeft);n8K.rects=n8K.getBoundingClientRect();o2ss.U2O();n8K.scrollBarWidth=n8K.rects.width - n8K.clientWidth - Q8K;};C1K.Marker.Performance.prototype.calculateYPosition=function(t8K){var F4O=o2ss;var t8J,u8J,s8J,v8K,A8K,b8K,a8K,N8K,L8K,i8K,S8K,Y8K,P8K,c8K,k95,T95,w95,J8K,C8K,s8K,o8K;t8J="t";t8J+="o";t8J+="p";u8J="o";u8J+="n";u8J+="_candle";s8J="va";s8J+="l";s8J+="u";s8J+="e";v8K=t8K.marker;A8K=t8K.panel;b8K=t8K.height;a8K=t8K.half;N8K=t8K.offset;L8K=t8K.inverted;i8K=v8K.params.stx;S8K=i8K.chart;Y8K=i8K.chart.highLowBars;P8K=S8K.dataSet[v8K.tick];if(!P8K){return;}c8K=Y8K?P8K.High:P8K.Close;F4O.j0H(27);k95=F4O.Z0H("1863480691",177313920);F4O.j0H(17);T95=-F4O.Z0H("339340778",1818647744);w95=2;for(var S95=1;F4O.U35(S95.toString(),S95.toString().length,35241) !== k95;S95++){J8K=v8K.params.yPositioner;w95+=2;}if(F4O.U35(w95.toString(),w95.toString().length,41314) !== T95){J8K=v8K.params.yPositioner;}switch(J8K){case s8J:if(v8K.params.y || v8K.params.y === 0){C8K=i8K.pixelFromPrice(v8K.params.y,A8K) - b8K * 0.5 + a8K;}else {C8K=i8K.pixelFromPrice(c8K,A8K) - N8K;}break;case "above_candle":C8K=i8K.pixelFromPrice(c8K,A8K) - N8K;break;case "below_candle":C8K=i8K.pixelFromPrice(P8K.Low || c8K,A8K);if(L8K && N8K){C8K+=N8K;}else {C8K+=a8K;}break;case u8J:(s8K=P8K.High || P8K.Close,o8K=P8K.Low || P8K.Low === 0 || P8K.Close);C8K=i8K.pixelFromPrice((s8K + o8K) / 2,A8K) - b8K * 0.5 + a8K;break;case t8J:C8K=i8K.pixelFromPrice(A8K.yAxis.high,A8K);if(L8K && N8K){C8K+=N8K;}else {C8K+=a8K;}break;case "bottom":C8K=i8K.pixelFromPrice(A8K.yAxis.low,A8K) - (N8K || a8K);break;default:break;}return C8K;};C1K.Marker.Performance.prototype.prepareForHolder=function(O8K){var Z8K,F8K;Z8K=this.expand;o2ss.U2O();F8K=O8K.params.stx;Z8K.classList.add(this.params.type);F8K.markerHelper.domMarkers.push(O8K);return Z8K;};C1K.Marker.Performance.prototype.addToHolder=function(R8K){var G8J,m8K,d8K;o2ss.p2O();G8J="mousedo";G8J+="wn";m8K=this.expand;d8K=R8K.params.stx;C1K.Marker.Performance.reconstituteExpanded(d8K);C1K.Marker.Performance.consolidateExpanded(d8K);this.quickCache(R8K);function w8K(I8K){var w05,Y05,S05;d8K.activeMarker=R8K;o2ss.U2O();w05=-32510771;Y05=580536282;S05=+"2";for(var Z05=1;o2ss.U35(Z05.toString(),Z05.toString().length,42350) !== w05;Z05++){d8K.activeMarker.click({cx:I8K.clientX,cy:I8K.clientY,panel:d8K.currentPanel});S05+=2;}if(o2ss.J35(S05.toString(),S05.toString().length,33778) !== Y05){d8K.activeMarker.click({cx:I8K.clientX,cy:I8K.clientY,panel:d8K.currentPanel});}I8K.stopPropagation();}if(m8K.clickClosure){return;}m8K.addEventListener(G8J,w8K);m8K.addEventListener("touchstart",w8K);m8K.clickClosure=w8K;};C1K.Marker.Performance.prototype.remove=function(j8K){var q8K,D8K,X8K,p8K;q8K=j8K.params.stx;if(!q8K){return;}if(!q8K.markerHelper.domMarkers){return;}D8K=q8K.markerHelper.domMarkers.indexOf(j8K);if(D8K != -1){q8K.markerHelper.domMarkers.splice(D8K,1);}if(j8K.attached){X8K=q8K.panels[j8K.params.panelName];p8K=j8K.params.node.expand;if(p8K.parentNode === X8K.subholder){X8K.subholder.removeChild(p8K);}p8K.removeEventListener("click",p8K.clickClosure);}};C1K.Marker.Performance.prototype.click=function(U8K){var g8K,e8K,B8K;if(!this.hasText){return;}if(typeof arguments[0] === "number"){U8K={cx:arguments[0],cy:arguments[1],marker:arguments["2" << 33859808],panel:arguments[+"3"]};}var {cx:E8K, cy:r8K, marker:l8K, panel:M8K}=U8K;g8K=l8K.params.stx;if(l8K.attached){B8K=this.expand;if(B8K.rects.width - B8K.scrollBarWidth + B8K.transform.translateX < g8K.backOutX(E8K) && g8K.backOutX(E8K) < B8K.rects.width + B8K.transform.translateX){return;}this.remove(l8K);}else {g8K.addToHolder(l8K);e8K=! ![];}l8K.attached=!l8K.attached;l8K.active=!l8K.active;if(e8K){l8K.stxNodeCreator.positionPopUpNode(l8K);}};}};J0Q=k8K=>{o2ss.p2O();var H8K;H8K=typeof _CIQ !== "undefined"?_CIQ:k8K.CIQ;H8K.Renderer.OHLC.requestNew=function(y9K,K8K){var W8K,u9K,h9K,x9K,G9K,V9K,n9K,K8J;W8K=null;u9K=K8K.hlc;h9K=K8K.colored;x9K=K8K.hollow;G9K=K8K.volume;V9K=K8K.histogram;for(var f9K="0" - 0;f9K < y9K.length;f9K++){n9K=y9K[f9K];switch(n9K){case "bar":case "candle":W8K=n9K;break;case "volume":G9K=!"";break;case "hollow":x9K=!0;break;case "colored":h9K=! ![];break;case "histogram":K8J="can";K8J+="dle";V9K=! !{};W8K=K8J;break;case "hlc":u9K=! !1;W8K="bar";break;default:return null;}}if(W8K === null){return null;}return new H8K.Renderer.OHLC({params:H8K.extend(K8K,{type:W8K,hlc:u9K,colored:h9K,hollow:x9K,volume:G9K,histogram:V9K})});};H8K.Renderer.OHLC.getChartParts=function(N9K,P9K){var D8J,e8J,M8J,l8J,P8J,m8J,i8J,h8J,R8J,H8J,q8J,b8J,r8J,z8J,U8J,J8J,L8J,A8J,g8J,F8J,O8J,X8J,x8J,n8J,c8J,Q8J,a8J,Q9K,C9K,A9K,z9K,T9K,i9K;D8J="fil";D8J+="l_col";D8J+="or_eve";D8J+="n";e8J="border_colo";e8J+="r_";e8J+="down";M8J="s";M8J+="tx_";M8J+="holl";M8J+="ow_candle_up";l8J="fill_color";l8J+="_";l8J+="ev";l8J+="en";P8J="stx_hollow_";P8J+="cand";P8J+="le_down";m8J="borde";m8J+="r_c";m8J+="o";m8J+="lor_up";i8J="c";i8J+="and";i8J+="l";i8J+="e";h8J="border_color_ev";h8J+="en";R8J="stx_hollow_c";R8J+="andle_up";H8J="s";H8J+="h";H8J+="adow";q8J="hollo";q8J+="w";b8J="fill";b8J+="_";b8J+="color_dow";b8J+="n";r8J="stx_can";r8J+="dle";r8J+="_down";z8J="b";z8J+="order_col";z8J+="or_up";U8J="stx_c";U8J+="andle_up";J8J="s";J8J+="hadow";L8J="s";L8J+="tx_candle";L8J+="_shadow_up";A8J="ca";A8J+="n";A8J+="dle";g8J="b";g8J+="a";g8J+="r";F8J="border_colo";F8J+="r_";F8J+="d";F8J+="own";O8J="b";o2ss.p2O();O8J+="a";O8J+="r";X8J="b";X8J+="a";X8J+="r";x8J="stx";x8J+="_";x8J+="h";x8J+="istogram_even";n8J="histog";n8J+="ram";c8J="bo";c8J+="rder_color";c8J+="_d";c8J+="own";Q8J="hi";Q8J+="stogram";a8J="f";a8J+="ill_";a8J+="color_up";Q9K=1;C9K=2;A9K=+"4";z9K=8;T9K=+"16";o2ss.j0H(20);i9K=o2ss.Z0H("32",1);return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:z9K,fill:a8J,border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:Q8J,drawType:"histogram",style:"stx_histogram_down",condition:T9K,fill:"fill_color_down",border:c8J,useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"histogram",drawType:n8J,style:x8J,condition:i9K,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !"1",useColorInMap:! ![],useBorderStyleProp:! ![]},{type:X8J,drawType:"bar",style:N9K || "stx_bar_chart",border:"border_color",useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:P9K?z9K:Q9K,border:"border_color_up",useColorInMap:! !"1"},{type:O8J,drawType:"bar",style:"stx_bar_down",condition:P9K?T9K:C9K,border:F8J,useColorInMap:! ![]},{type:"bar",drawType:g8J,style:"stx_bar_even",condition:P9K?i9K:A9K,border:"border_color_even",skipIfPass:! !"1",useColorInMap:! !"1"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:A8J,drawType:"shadow",style:L8J,condition:z9K,border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_down",condition:T9K,border:"border_color_down"},{type:"candle",drawType:J8J,style:"stx_candle_shadow_even",condition:i9K,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:U8J,condition:z9K,fill:"fill_color_up",border:z8J,useColorInMap:! !"1",useBorderStyleProp:! ![]},{type:"candle",drawType:"candle",style:r8J,condition:T9K,fill:b8J,border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!0},{type:q8J,drawType:H8J,style:R8J,condition:Q9K,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:C9K,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:A9K,border:h8J,skipIfPass:! !"1"},{type:"hollow",drawType:i8J,style:"stx_hollow_candle_up",condition:Q9K | T9K,fill:"fill_color_up",border:m8J,useColorInMap:!0},{type:"hollow",drawType:"candle",style:P8J,condition:C9K | T9K,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:A9K | T9K,fill:l8J,border:"border_color_even",skipIfPass:! !{},useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:M8J,condition:Q9K | z9K,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:C9K | z9K,fill:"fill_color_down",border:e8J},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:A9K | z9K,fill:D8J,border:"border_color_even"}];;};H8K.Renderer.Bars=function(t9K){var v9K;this.construct(t9K);v9K=this.params;v9K.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};v9K.hlc=v9K.volume=v9K.hollow=v9K.histogram=!{};};H8K.inheritsFrom(H8K.Renderer.Bars,H8K.Renderer.OHLC,! !0);H8K.Renderer.HLC=function(c9K){var a9K;this.construct(c9K);a9K=this.params;a9K.type="bar";a9K.hlc=! !"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;a9K.volume=a9K.hollow=a9K.histogram=!1;};H8K.inheritsFrom(H8K.Renderer.HLC,H8K.Renderer.Bars,! !"");H8K.Renderer.Shading=function(b9K){this.construct(b9K);this.beenSetup=!1;this.errTimeout=null;this.params.useChartLegend=! !"";this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !{};}};H8K.inheritsFrom(H8K.Renderer.Shading,H8K.Renderer.Lines,! !0);H8K.Renderer.Shading.requestNew=function(Y9K,s9K){o2ss.p2O();var L9K,j8J,J9K;L9K=null;for(var S9K=0;S9K < Y9K.length;S9K++){j8J="rang";j8J+="echannel";J9K=Y9K[S9K];if(J9K == "rangechannel"){L9K=j8J;}}if(L9K === null){return null;}return new H8K.Renderer.Shading({params:H8K.extend(s9K,{type:L9K})});};H8K.Renderer.Shading.prototype.setShading=function(o9K){if(o9K.constructor != Array){o9K=[o9K];}this.shading=o9K;};H8K.Renderer.Shading.prototype.draw=function(){var F9K,d9K,y8J,I8J,W8J,l9K,R9K,B9K,q9K,g9K,m9K,O9K,j9K,p9K,E9K,Z9K,I9K,D9K,X9K,w9K;F9K=this.stx;d9K=F9K.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[+"2"].id);}}else {y8J="stx";y8J+="_li";y8J+="ne_";y8J+="down";I8J="stx_li";I8J+="ne_up";W8J="H";W8J+="i";W8J+="g";W8J+="h";this.beenSetup=! ![];this.params.display=this.seriesParams[0].display;this.params.yAxis=this.seriesParams[0].yAxis;l9K=this.seriesParams[0].color || "auto";R9K=this.seriesParams[+"0"].symbol;B9K="";if(R9K){o2ss.j0H(0);B9K=o2ss.Z0H(".",R9K);}this.removeAllSeries(!"");q9K=this.params.name;F9K.addSeries(null,{symbol:R9K,loadData:! !R9K,field:W8J,renderer:"Shading",name:q9K,style:I8J,display:this.params.display,shareYAxis:!""});F9K.addSeries(null,{symbol:R9K,loadData:! !R9K,field:"Low",renderer:"Shading",name:q9K,style:y8J,display:this.params.display,shareYAxis:! !"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:l9K});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");g9K=this;this.errTimeout=setTimeout(function(){o2ss.U2O();g9K.errTimeout=null;},+"10000");}}function U9K(M9K){var e9K,H9K,r9K;e9K=m9K[M9K];if(e9K){H9K=e9K.parameters.field;r9K=e9K.parameters.subField;o2ss.H0H(0);return o2ss.a0H(r9K?((+"414.97",852.83) !== +"385"?".":841.55) + r9K:"",H9K);}return M9K;}m9K={};for(O9K=0;O9K < this.seriesParams.length;O9K++){j9K={};if(d9K.series[this.seriesParams[O9K].id]){j9K=H8K.clone(d9K.series[this.seriesParams[O9K].id].parameters);}m9K[this.seriesParams[O9K].id]={parameters:H8K.extend(H8K.extend(j9K,this.params),this.seriesParams[O9K]),yValueCache:this.caches[this.seriesParams[O9K].id]};}o2ss.p2O();F9K.drawSeries(d9K,m9K,this.params.yAxis,this);if(d9K.legend && this.params.type == "rangechannel"){if(!d9K.legend.colorMap){d9K.legend.colorMap={};}p9K=this.params.display;E9K=[F9K.getCanvasColor("stx_line_up"),F9K.getCanvasColor("stx_line_down")];d9K.legend.colorMap[p9K]={color:E9K,display:p9K,isBase:this == F9K.mainSeriesRenderer};;}for(O9K in m9K){this.caches[O9K]=m9K[O9K].yValueCache;}for(O9K=0;O9K < this.shading.length;O9K++){Z9K=this.shading[O9K];I9K=Z9K.color;if(Z9K.color == "auto"){I9K=F9K.defaultColor;}if(!Z9K.primary){Z9K.primary="Close";}if(!Z9K.secondary && this.seriesParams[0]){Z9K.secondary=this.seriesParams[0].field;}if(!Z9K.secondary)continue;else if(!m9K[Z9K.primary] && Z9K.primary != "Close")continue;else if(!m9K[Z9K.secondary])continue;else if(Z9K.primary == "Close" && this.params.yAxis && this.params.yAxis != d9K.yAxis)continue;D9K=U9K(Z9K.primary).split(+"3154" > (2355,"9140" ^ 0)?"R":(5420,2982) !== (541,+"4700")?(955,1470) === (4980,+"839.97")?(6.07e+3,! !{}):".":(5.71e+3,431));X9K=U9K(Z9K.secondary).split(+"9656" > (433,680.93)?".":244.61 == 2991?!{}:(690.08,765) !== (9044,8195)?![]:(! !{},0x22b3));w9K={topBand:D9K[0],topSubBand:D9K[1],topColor:Z9K.greater || I9K || F9K.containerColor,topAxis:this.params.yAxis,bottomBand:X9K[0],bottomSubBand:X9K[1],bottomColor:Z9K.lesser || I9K || F9K.containerColor,bottomAxis:Z9K.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || d9K.tension,opacity:0.1};if(!w9K.topColor && !w9K.bottomColor)continue;if(!this.params.highlight && F9K.highlightedDraggable){w9K.opacity*=0.3;}H8K.fillIntersecting(F9K,this.params.panel,w9K);}};H8K.Renderer.Histogram=function(k9K){this.construct(k9K);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!"";o2ss.U2O();if(this.params.yAxis){this.params.bindToYAxis=! ![];if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};H8K.inheritsFrom(H8K.Renderer.Histogram,H8K.Renderer,! !0);H8K.Renderer.Histogram.prototype.adjustYAxis=function(){var K9K;K9K=this.params.yAxis;o2ss.U2O();if(!K9K || K9K.baseline){return;}K9K.min=0;K9K.highValue/=this.params.heightPercentage || 1;};H8K.Renderer.Histogram.prototype.draw=function(){var d8J,W9K,f7K,V8J,v8J,u7K,h7K;d8J="sta";o2ss.U2O();d8J+="c";d8J+="ked";W9K=H8K.clone(this.params);W9K.type=W9K.subtype;this.useSum=W9K.subtype == d8J;if(!W9K.yAxis || W9K.yAxis == this.stx.chart.yAxis){W9K.bindToYAxis=! ![];}this.stx.drawHistogram(W9K,this.seriesParams);f7K=W9K.yAxis && W9K.yAxis.baseline;if(f7K && f7K.color){V8J="d";V8J+="esti";V8J+="natio";V8J+="n-over";v8J="l";v8J+="i";v8J+="ne";u7K=this.stx.panels[this.params.panel];h7K=this.stx.pixelFromPrice(f7K.value,u7K,this.params.yAxis) - 0.5;this.stx.plotLine({x0:u7K.left,x1:u7K.right,y0:h7K,y1:h7K,color:f7K.color,type:v8J,context:u7K.chart.context,confineToPanel:u7K,pattern:f7K.pattern || "solid",lineWidth:f7K.lineWidth || 1,opacity:f7K.opacity || 0.8,globalCompositeOperation:V8J});}};H8K.Renderer.Histogram.prototype.getBasis=function(y7K,z7K,T7K){var V7K,n7K,x7K;V7K=0;if(y7K && this.useSum){for(var G7K="0" * 1;G7K < this.seriesParams.length;G7K++){n7K=this.seriesParams[G7K].field;if(n7K === z7K)break;x7K=y7K[n7K];if(x7K && typeof x7K === "object"){x7K=x7K[T7K || this.seriesParams[G7K].subField || this.stx.chart.defaultPlotField || "Close"];}if(x7K){V7K+=x7K;}}}return V7K;};H8K.Renderer.Heatmap=function(Q7K){this.construct(Q7K);this.params.type="heatmap";this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=! ![];};H8K.inheritsFrom(H8K.Renderer.Heatmap,H8K.Renderer,![]);H8K.Renderer.Heatmap.requestNew=function(i7K,N7K){var C7K,C8J,p8J,P7K;C7K=null;for(var A7K=0;A7K < i7K.length;A7K++){C8J="heatm";C8J+="ap";p8J="heat";p8J+="ma";p8J+="p";P7K=i7K[A7K];if(P7K == p8J){C7K=C8J;}}if(C7K === null){return null;}return new H8K.Renderer.Heatmap({params:H8K.extend(N7K,{type:C7K})});};H8K.Renderer.Heatmap.prototype.draw=function(){o2ss.p2O();this.stx.drawHeatmap(H8K.clone(this.params),this.seriesParams);};H8K.Renderer.Scatter=function(v7K){this.construct(v7K);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=! !{};};H8K.inheritsFrom(H8K.Renderer.Scatter,H8K.Renderer.Lines,![]);H8K.Renderer.Scatter.requestNew=function(c7K,L7K){var t7K,b7K;t7K=null;for(var a7K=0;a7K < c7K.length;a7K++){b7K=c7K[a7K];if(b7K == "scatterplot"){t7K="scatter";}}if(t7K === null){return null;}return new H8K.Renderer.Scatter({params:H8K.extend(L7K,{type:t7K})});};H8K.Renderer.Scatter.prototype.drawIndividualSeries=function(s7K,Y7K){var J7K,S7K;J7K=this.stx.panels[Y7K.panel] || s7K.panel;S7K={colors:[]};if(this.stx.scatter){S7K=this.stx.scatter(J7K,Y7K);}else {console.warn("Error, Scatter renderer requires customChart.js");}return S7K;};};s0Q=Z7K=>{var o7K,o8J,w8J;o2ss.p2O();o7K=typeof _CIQ !== "undefined"?_CIQ:Z7K.CIQ;if(!o7K.Studies){o8J="accumul";o8J+="ationDistribution feature re";o8J+="quires first activating studies feature.";console.error(o8J);}else {w8J="Accumulation/Distribut";w8J+="ion";o7K.Studies.calculateAccumulationDistribution=function(q7K,m7K){var I7K,T8J,k8J,O7K,d7K,R7K,w7K;I7K=m7K.chart.scrubbed;for(var F7K=m7K.startFrom;F7K < I7K.length;F7K++){T8J="Res";T8J+="u";T8J+="lt ";k8J="Resul";k8J+="t ";if(!F7K)continue;O7K=I7K[F7K];if(O7K.futureTick)break;o2ss.H0H(2);d7K=I7K[o2ss.a0H(1,F7K)];R7K=0;if(O7K.Close > d7K.Close){R7K=O7K.Close - Math.min(O7K.Low,d7K.Close);}else if(O7K.Close < d7K.Close){R7K=O7K.Close - Math.max(O7K.High,d7K.Close);}if(m7K.inputs["Use Volume"]){R7K*=O7K.Volume;}w7K=d7K[k8J + m7K.name];if(!w7K){w7K=0;}w7K+=R7K;if(!isNaN(O7K.Close)){O7K[T8J + m7K.name]=w7K;}}};o7K.Studies.studyLibrary=o7K.extend(o7K.Studies.studyLibrary,{"W Acc Dist":{name:w8J,calculateFN:o7K.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!"1"}}});}};o0Q=p7K=>{var j7K;j7K=typeof _CIQ !== "undefined"?_CIQ:p7K.CIQ;if(!j7K.Studies){console.error("adx feature requires first activating studies feature.");}else {j7K.Studies.calculateADX=function(x6K,D7K){var I4O=o2ss;var B7K,g7K,E7K,M7K,H7K,k7K,K7K,X7K,U7K,e7K,Y8J,W7K,f6K,u6K,S8J,f8J,Z8J,h6K,E8J,N8J;j7K.Studies.calculateStudyATR(x6K,D7K);B7K=D7K.chart.scrubbed;g7K=D7K.days;I4O.p2O();E7K=parseInt(D7K.inputs["Smoothing Period"],10);if(!E7K && E7K !== 0){E7K=g7K;}if(B7K.length < D7K.days + 1){D7K.error=! ![];return;}M7K=0;H7K=0;k7K=+"0";K7K=0;for(var l7K=Math.max(1,D7K.startFrom);l7K < B7K.length;l7K++){X7K=B7K[l7K];U7K=Math.max(0,X7K.High - B7K[l7K - 1].High);e7K=Math.max(0,B7K[l7K - ("1" & 2147483647)].Low - X7K.Low);if(U7K > e7K){e7K=0;}else if(e7K > U7K){I4O.H0H(2);U7K=I4O.Z0H(0,"0");}else {U7K=e7K=0;}if(l7K <= g7K){H7K+=U7K;k7K+=e7K;M7K+=X7K["True Range " + D7K.name];}else {Y8J="T";Y8J+="rue Range ";H7K=B7K[l7K - 1]["_sm+DM " + D7K.name] * (g7K - 1) / g7K + U7K;k7K=B7K[l7K - 1]["_sm-DM " + D7K.name] * (g7K - 1) / g7K + e7K;M7K=B7K[l7K - 1]["_smTR " + D7K.name] * (g7K - 1) / g7K + X7K[Y8J + D7K.name];}X7K["_sm+DM " + D7K.name]=H7K;X7K["_sm-DM " + D7K.name]=k7K;X7K["_smTR " + D7K.name]=M7K;if(l7K < g7K)continue;I4O.H0H(63);W7K=I4O.Z0H(100,M7K,H7K);I4O.H0H(63);f6K=I4O.a0H(100,M7K,k7K);u6K=100 * Math.abs(W7K - f6K) / (W7K + f6K);X7K["+DI " + D7K.name]=W7K;X7K["-DI " + D7K.name]=f6K;if(D7K.inputs.Series !== !{} && E7K){if(l7K < g7K + E7K - 1){if(l7K == D7K.startFrom){for(var r7K=g7K;r7K < D7K.startFrom;r7K++){S8J="+D";S8J+="I";S8J+=" ";K7K+=100 * Math.abs(B7K[r7K][S8J + D7K.name] - B7K[r7K]["-DI " + D7K.name]) / (B7K[r7K]["+DI " + D7K.name] + B7K[r7K]["-DI " + D7K.name]);}}K7K+=u6K;}else if(l7K == g7K + E7K - 1){f8J="A";f8J+="D";f8J+="X";f8J+=" ";I4O.j0H(4);X7K[f8J + D7K.name]=I4O.Z0H(E7K,K7K);}else {Z8J="A";Z8J+="D";Z8J+="X ";X7K["ADX " + D7K.name]=(B7K[l7K - ("1" & 2147483647)][Z8J + D7K.name] * (E7K - 1) + u6K) / E7K;}}if(D7K.inputs.Histogram){h6K=D7K.name + "_hist";if(!X7K["+DI " + D7K.name] && X7K["+DI " + D7K.name] !== ("0" & 2147483647))continue;if(!X7K["-DI " + D7K.name] && X7K["-DI " + D7K.name] !== 0)continue;X7K[h6K]=X7K["+DI " + D7K.name] - X7K["-DI " + D7K.name];if(D7K.inputs.Series === !1){E8J="-";E8J+="D";E8J+="I";E8J+=" ";N8J="+";N8J+="D";N8J+="I";N8J+=" ";X7K[N8J + D7K.name]=null;X7K[E8J + D7K.name]=null;}D7K.outputMap[h6K]="";}}};j7K.Studies.displayADX=function(V6K,G6K,Q6K){var C6K,n6K,y6K,A6K,i6K,z6K,T6K;C6K=G6K.underlay?0.3:G6K.inputs.Series?0.4:1;if(G6K.inputs.Series && G6K.inputs.Shading){n6K="+DI " + G6K.name;y6K="-DI " + G6K.name;A6K=j7K.Studies.determineColor(G6K.outputs[G6K.outputMap[n6K]]);i6K=j7K.Studies.determineColor(G6K.outputs[G6K.outputMap[y6K]]);z6K=G6K.getYAxis(V6K);T6K={topBand:n6K,bottomBand:y6K,topColor:A6K,bottomColor:i6K,skipTransform:V6K.panels[G6K.panel].name != G6K.chart.name,topAxis:z6K,bottomAxis:z6K,opacity:0.3};if(!G6K.highlight && V6K.highlightedDraggable){T6K.opacity*=0.3;}j7K.fillIntersecting(V6K,G6K.panel,T6K);}if(G6K.inputs.Histogram){j7K.Studies.createHistogram(V6K,G6K,Q6K,![],C6K);}o2ss.U2O();if(G6K.inputs.Series !== !1){j7K.Studies.displaySeriesAsLine(V6K,G6K,Q6K);}else if(!G6K.inputs.Series && !G6K.inputs.Histogram){V6K.displayErrorAsWatermark(G6K.panel,V6K.translateIf(G6K.name) + ": " + V6K.translateIf("Nothing to display"));}};j7K.Studies.studyLibrary=j7K.extend(j7K.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:j7K.Studies.calculateADX,seriesFN:j7K.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:![],Histogram:!{}},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};Z0Q=N6K=>{var B8J,P6K,s0J,A0J,g0J;B8J="u";B8J+="nd";B8J+="ef";B8J+="ined";P6K=typeof _CIQ !== B8J?_CIQ:N6K.CIQ;o2ss.U2O();if(!P6K.Studies){s0J="alligator feature requires";s0J+=" f";s0J+="irst activating studies fea";s0J+="ture.";console.error(s0J);}else {A0J="#00";A0J+="D";A0J+="D";A0J+="00";g0J="#F";g0J+="F";g0J+="0000";P6K.Studies.calculateAlligator=function(Y6K,a6K){var K4O=o2ss;var t0J,u0J,c6K,v6K,a0J,K0J,G0J,Q0J,L6K,S6K,b6K;t0J="Gato";K4O.U2O();t0J+="r";u0J="Lips Peri";u0J+="od";c6K={J:Number(a6K.inputs["Jaw Period"]),T:Number(a6K.inputs["Teeth Period"]),L:Number(a6K.inputs[u0J])};v6K=a6K.chart.scrubbed;if(v6K.length < Math.max(c6K.J,c6K.T,c6K.L) + 1){a6K.error=! ![];return;}if(a6K.type === t0J || a6K.inputs["Show Lines"]){a0J="T";a0J+="e";a0J+="e";a0J+="th";K0J="h";K0J+="l";K0J+="/";K0J+="2";G0J="w";G0J+="elle";G0J+="s w";G0J+="ilder";P6K.Studies.MA(G0J,c6K.J,"hl/2",a6K.inputs["Jaw Offset"],"Jaw",Y6K,a6K);P6K.Studies.MA("welles wilder",c6K.T,K0J,a6K.inputs["Teeth Offset"],a0J,Y6K,a6K);P6K.Studies.MA("welles wilder",c6K.L,"hl/2",a6K.inputs["Lips Offset"],"Lips",Y6K,a6K);}for(var t6K=a6K.startFrom;t6K < v6K.length;t6K++){Q0J="G";Q0J+="a";Q0J+="t";Q0J+="or";if(!v6K[t6K])continue;if(a6K.type == Q0J){L6K=v6K[t6K]["Jaw " + a6K.name];S6K=v6K[t6K]["Lips " + a6K.name];b6K=v6K[t6K]["Teeth " + a6K.name];if(b6K || b6K === 0){if(L6K || L6K === ("0" ^ 0)){K4O.j0H(2);v6K[t6K][a6K.name + "_hist1"]=Math.abs(K4O.a0H(b6K,L6K));}if(S6K || S6K === 0){K4O.j0H(2);v6K[t6K][a6K.name + "_hist2"]=-Math.abs(K4O.Z0H(S6K,b6K));}}a6K.outputMap={};a6K.outputMap[a6K.name + "_hist1"]="";a6K.outputMap[a6K.name + "_hist2"]="";}if(a6K.inputs["Show Fractals"]){if(!v6K[t6K - ("2" >> 1968355616)] || !v6K[t6K - 1] || !v6K[t6K] || !v6K[t6K + ("1" ^ 0)] || !v6K[t6K + 2])continue;if(v6K[t6K - 2].High && v6K[t6K - ("1" << 1710587392)].High && v6K[t6K].High && v6K[t6K + 1].High && v6K[t6K + 2].High){if(v6K[t6K].High > v6K[t6K - 1].High && v6K[t6K].High > v6K[t6K - 2].High && v6K[t6K].High > v6K[t6K + 1].High && v6K[t6K].High > v6K[t6K + 2].High){v6K[t6K]["Fractal High " + a6K.name]=1;}}if(v6K[t6K - 2].Low && v6K[t6K - 1].Low && v6K[t6K].Low && v6K[t6K + ("1" & 2147483647)].Low && v6K[t6K + 2].Low){if(v6K[t6K].Low < v6K[t6K - +"1"].Low && v6K[t6K].Low < v6K[t6K - 2].Low && v6K[t6K].Low < v6K[t6K + 1].Low && v6K[t6K].Low < v6K[t6K + 2].Low){v6K[t6K]["Fractal Low " + a6K.name]=1;}}}}};P6K.Studies.displayAlligator=function(J6K,Z6K,O6K){var s6K,x0J;s6K=Z6K.getContext(J6K);if(Z6K.inputs["Show Lines"]){P6K.Studies.displaySeriesAsLine(J6K,Z6K,O6K);}function F6K(R6K,w6K){var m6K,d6K,n0J,c0J,L75,J75,U75;d6K=J6K.chart.panel.yAxis.flipped;o2ss.U2O();if(R6K == "high"){s6K.fillStyle=J6K.defaultColor;s6K.textBaseline=d6K?"top":"bottom";m6K=J6K.pixelFromPrice(O6K[w6K].High);s6K.fillText(d6K?(+"6581",1680) == (9760,1952)?(126.84,7683) === 8980?"p":9110 == ("8750" ^ 0,"684.93" - 0)?967.67:("937" | 129,897.09):"\u25BC":"\u25B2",J6K.pixelFromBar(o6K,J6K.chart) - s6K.measureText(242.53 < 2949?"\u25B2":4.20e+3).width / 2 + 1,d6K?m6K + 5:m6K - +"5");;}else if(R6K == "low"){n0J="t";n0J+="o";n0J+="p";c0J="b";c0J+="ott";c0J+="o";c0J+="m";s6K.fillStyle=J6K.defaultColor;s6K.textBaseline=d6K?c0J:n0J;m6K=J6K.pixelFromPrice(O6K[w6K].Low);s6K.fillText(d6K?"\u25B2":(464.66,5890) == 2730?(3790,733.55) >= 619.43?3930 > +"153.48"?"0x4fc" * 1:"f":"c":"\u25BC",J6K.pixelFromBar(o6K,J6K.chart) - s6K.measureText(164 === 730.71?+"348.37":("948" >> 2041896416,708.18) >= (654,246.9)?"\u25BC":(!"",4.80e+1)).width / 2 + 1,d6K?m6K - 5:m6K + 5);L75=-1154878373;J75=-1031764622;U75=2;for(var r75="1" ^ 0;o2ss.J35(r75.toString(),r75.toString().length,8416) !== L75;r75++){;U75+=2;}if(o2ss.U35(U75.toString(),U75.toString().length,45150) !== J75){;}}}o2ss.U2O();if(Z6K.inputs["Show Fractals"]){J6K.startClip();s6K.globalAlpha=Z6K.underlay?0.3:1;if(!Z6K.highlight && J6K.highlightedDraggable){s6K.globalAlpha*=0.3;}for(var o6K=2;o6K < O6K.length - 2;o6K++){if(O6K[o6K]){x0J="F";x0J+="ractal Hi";x0J+="gh";x0J+=" ";if(O6K[o6K][x0J + Z6K.name]){F6K("high",o6K);}if(O6K[o6K]["Fractal Low " + Z6K.name]){F6K("low",o6K);}}}J6K.endClip();}};P6K.Studies.displayGator=function(q6K,I6K,E6K){var X0J,g6K,p6K,U6K,e6K,l6K,r6K,M6K,X6K,B6K,F0J,O0J;X0J="stx_histo";X0J+="gra";X0J+="m";g6K=q6K.panels[I6K.panel];p6K=I6K.getContext(q6K);U6K=I6K.getYAxis(q6K);e6K=q6K.pixelFromPrice(0,g6K,U6K);l6K=q6K.layout.candleWidth - 2;if(l6K < 2){l6K=1;}r6K=P6K.Studies.determineColor(I6K.outputs["Increasing Bar"]);M6K=P6K.Studies.determineColor(I6K.outputs["Decreasing Bar"]);q6K.canvasColor(X0J);if(!I6K.underlay){p6K.globalAlpha=1;}p6K.fillStyle="#CCCCCC";q6K.startClip(I6K.panel);if(!I6K.highlight && q6K.highlightedDraggable){p6K.globalAlpha*=0.3;}for(var D6K=0;D6K < E6K.length;D6K++){X6K=E6K[D6K];o2ss.H0H(2);B6K=E6K[o2ss.a0H(1,D6K)];if(!X6K)continue;for(var j6K=1;j6K <= 2;j6K++){F0J="_his";F0J+="t";O0J="#";O0J+="CC";O0J+="CCCC";if(!B6K){B6K=q6K.getPreviousBar(q6K.chart,I6K.name + "_hist" + j6K,D6K);}if(!B6K){p6K.fillStyle=O0J;}else if(Math.abs(B6K[I6K.name + "_hist" + j6K]) < Math.abs(X6K[I6K.name + "_hist" + j6K])){p6K.fillStyle=r6K;}else if(Math.abs(B6K[I6K.name + "_hist" + j6K]) > Math.abs(X6K[I6K.name + F0J + j6K])){p6K.fillStyle=M6K;}if(X6K.candleWidth){l6K=Math.floor(Math.max(1,X6K.candleWidth - 2));}p6K.fillRect(Math.floor(q6K.pixelFromBar(D6K,g6K.chart) - l6K / 2),Math.floor(e6K),Math.floor(l6K),Math.floor(q6K.pixelFromPrice(X6K[I6K.name + "_hist" + j6K],g6K,U6K) - e6K));}}q6K.endClip();};P6K.Studies.studyLibrary=P6K.extend(P6K.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !{},seriesFN:P6K.Studies.displayAlligator,calculateFN:P6K.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:g0J,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:P6K.Studies.displayGator,calculateFN:P6K.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":A0J,"Decreasing Bar":"#FF0000"},centerline:0}});}};O0Q=k6K=>{var H6K,L0J,i0J,h0J,R0J,f95,Z95,N95,b0J,r0J,H0J,q0J;H6K=typeof _CIQ !== "undefined"?_CIQ:k6K.CIQ;if(!H6K.Studies){L0J="aroon feature requires first ";L0J+="activating s";L0J+="tudies feature";L0J+=".";console.error(L0J);}else {i0J="Aroon ";i0J+="Oscillator";h0J="0";h0J+=" to 100";R0J="Aroo";R0J+="n";H6K.Studies.calculateAroon=function(A5K,K6K){var x5K,G5K,V5K,f5K,u5K,J0J,y5K,h5K,z0J,U0J,W6K,z5K,T5K,Q5K,C5K;x5K=K6K.chart.scrubbed;if(x5K.length < K6K.days + 1){K6K.error=!"";return;}G5K=+"0";V5K=0;f5K=null;u5K=null;if(K6K.startFrom > 0){J0J="_s";J0J+="ta";J0J+="te";J0J+=" ";y5K=x5K[K6K.startFrom - ("1" >> 657072704)][J0J + K6K.name];if(y5K){G5K=y5K[0];V5K=y5K[1];f5K=y5K[+"2"];u5K=y5K[3];}}for(var n5K=K6K.startFrom;n5K < x5K.length;n5K++){z0J="_";z0J+="s";z0J+="tate";z0J+=" ";U0J="A";U0J+="r";U0J+="oon Up ";W6K=x5K[n5K];if(W6K.futureTick)break;if(f5K === null){f5K=W6K.High;}if(u5K === null){u5K=W6K.Low;}f5K=Math.max(f5K,W6K.High);if(f5K == W6K.High){G5K=0;}else {G5K++;if(G5K > K6K.days){f5K=W6K.High;G5K=0;for(h5K=1;h5K <= K6K.days;h5K++){f5K=Math.max(f5K,x5K[n5K - h5K].High);if(f5K == x5K[n5K - h5K].High){G5K=h5K;}}}}u5K=Math.min(u5K,W6K.Low);if(u5K == W6K.Low){V5K=+"0";}else {V5K++;if(V5K > K6K.days){u5K=W6K.Low;V5K=0;for(h5K="1" ^ 0;h5K <= K6K.days;h5K++){u5K=Math.min(u5K,x5K[n5K - h5K].Low);if(u5K == x5K[n5K - h5K].Low){V5K=h5K;}}}}z5K=!isNaN(W6K.High);T5K=!isNaN(W6K.Low);Q5K=100 * (1 - G5K / K6K.days);if(z5K){W6K["Aroon Up " + K6K.name]=Q5K;}C5K=100 * (1 - V5K / K6K.days);if(T5K){W6K["Aroon Down " + K6K.name]=C5K;}if(z5K && T5K){W6K["Aroon Oscillator " + K6K.name]=W6K[U0J + K6K.name] - W6K["Aroon Down " + K6K.name];}W6K[z0J + K6K.name]=[G5K,V5K,f5K,u5K];}};f95=-1073237625;Z95=-2059169015;N95=2;for(var B95=1;o2ss.J35(B95.toString(),B95.toString().length,98598) !== f95;B95++){b0J="A";b0J+="roon Oscillator";r0J="#";r0J+="00";r0J+="DD00";H6K.Studies.studyLibrary=H6K.extend(H6K.Studies.studyLibrary,{Aroon:{name:"Aroon Oscillator",range:"Aroon Osc",calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":r0J}},"Aroon Osc":{name:b0J,calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Oscillator":"#00DD00"}}});N95+=2;}if(o2ss.U35(N95.toString(),N95.toString().length,50491) !== Z95){H0J="Aroon Oscilla";H0J+="tor";q0J="#00";q0J+="D";q0J+="D00";H6K.Studies.studyLibrary=H6K.extend(H6K.Studies.studyLibrary,{Aroon:{name:"Aroon Oscillator",range:"Aroon Osc",calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":q0J}},"Aroon Osc":{name:H0J,calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Oscillator":"#00DD00"}}});}H6K.Studies.studyLibrary=H6K.extend(H6K.Studies.studyLibrary,{Aroon:{name:R0J,range:h0J,calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:i0J,calculateFN:H6K.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};F0Q=P5K=>{var i5K,d0J,y0J,I0J,W0J,j0J;i5K=typeof _CIQ !== "undefined"?_CIQ:P5K.CIQ;o2ss.U2O();if(!i5K.Studies){console.error("atr feature requires first activating studies feature.");}else {d0J="#";d0J+="FF0000";y0J="au";y0J+="to";I0J="STAR";I0J+="C Band";I0J+="s";W0J="a";W0J+="ut";W0J+="o";j0J="Average True Rang";j0J+="e";i5K.Studies.calculateATRBands=function(t5K,N5K){var m0J,v5K;m0J="fi";m0J+="eld";i5K.Studies.calculateStudyATR(t5K,N5K);v5K=N5K.inputs.Field;o2ss.U2O();if(!v5K || v5K == m0J){v5K="Close";}i5K.Studies.calculateGenericEnvelope(t5K,N5K,N5K.inputs.Shift,v5K,"ATR " + N5K.name);};i5K.Studies.calculateSTARCBands=function(c5K,a5K){var l0J,P0J;l0J="_";o2ss.p2O();l0J+="M";l0J+="A";l0J+=" ";P0J="simp";P0J+="le";i5K.Studies.calculateStudyATR(c5K,a5K);i5K.Studies.MA(P0J,a5K.inputs["MA Period"],"Close",0,"_MA",c5K,a5K);i5K.Studies.calculateGenericEnvelope(c5K,a5K,a5K.inputs.Multiplier,l0J + a5K.name,"ATR " + a5K.name);};i5K.Studies.calculateATRStops=function(d5K,b5K){var v4O=o2ss;var D0J,e0J,J5K,Z5K,L5K,F5K,S5K,Y5K,o5K,O5K,M0J;D0J="All St";v4O.U2O();D0J+="ops ";e0J="All Stop";e0J+="s";J5K=b5K.chart.scrubbed;if(!J5K){return;}i5K.Studies.calculateStudyATR(d5K,b5K);Z5K=b5K.inputs.HighLow;for(var s5K=Math.max(b5K.startFrom - ("1" ^ 0),+"1");s5K < J5K.length - ("1" >> 177833184);s5K++){L5K=J5K[s5K];v4O.H0H(2);F5K=J5K[v4O.a0H(1,s5K)];S5K=L5K["Buy Stops " + b5K.name];if(!S5K){S5K=L5K["Sell Stops " + b5K.name];}if(!S5K){S5K=0;}if(!L5K || !F5K)continue;Y5K=L5K.Close;o5K=Y5K;O5K=L5K["ATR " + b5K.name] * b5K.inputs.Multiplier;if(L5K.Close > S5K && F5K.Close > S5K){if(Z5K){Y5K=L5K.High;}v4O.j0H(2);o5K=Math.max(S5K,v4O.a0H(O5K,Y5K));}else if(L5K.Close <= S5K && F5K.Close <= S5K){if(Z5K){Y5K=L5K.Low;}v4O.H0H(0);o5K=Math.min(S5K,v4O.a0H(O5K,Y5K));}else if(L5K.Close > S5K){if(Z5K){Y5K=L5K.High;}v4O.H0H(2);o5K=v4O.Z0H(O5K,Y5K);}else if(L5K.Close <= S5K){if(Z5K){Y5K=L5K.Low;}v4O.j0H(0);o5K=v4O.a0H(O5K,Y5K);}if(Y5K <= o5K){M0J="Se";M0J+="ll";M0J+=" Stops";M0J+=" ";v4O.H0H(0);J5K[v4O.Z0H(1,s5K)]["Buy Stops " + b5K.name]=o5K;v4O.H0H(0);delete J5K[v4O.Z0H(1,s5K)][M0J + b5K.name];}else if(Y5K > o5K){v4O.H0H(0);J5K[v4O.a0H(1,s5K)]["Sell Stops " + b5K.name]=o5K;v4O.H0H(0);delete J5K[v4O.Z0H(1,s5K)]["Buy Stops " + b5K.name];}v4O.j0H(64);J5K[v4O.Z0H("1",0,s5K)]["All Stops " + b5K.name]=o5K;}b5K.referenceOutput=e0J;b5K.outputMap={};b5K.outputMap[D0J + b5K.name]="";};i5K.Studies.studyLibrary=i5K.extend(i5K.Studies.studyLibrary,{ATR:{name:j0J,calculateFN:i5K.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:i5K.Studies.displayChannel,calculateFN:i5K.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !1},outputs:{"ATR Bands Top":W0J,"ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"STARC Bands":{name:I0J,overlay:!"",seriesFN:i5K.Studies.displayChannel,calculateFN:i5K.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":y0J},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! ![],seriesFN:i5K.Studies.displayPSAR2,calculateFN:i5K.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:![]},outputs:{"Buy Stops":d0J,"Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};d0Q=R5K=>{o2ss.p2O();var m5K,Y0J;m5K=typeof _CIQ !== "undefined"?_CIQ:R5K.CIQ;if(!m5K.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {Y0J="#";Y0J+="FF0";Y0J+="000";m5K.Studies.calculateAwesomeOscillator=function(j5K,w5K){var v0J,I5K,V0J;v0J="_MA";v0J+="34";I5K=w5K.chart.scrubbed;if(I5K.length < +"33"){w5K.error=! !"1";return;}m5K.Studies.MA("simple",5,"hl/2",0,"_MA5",j5K,w5K);o2ss.U2O();m5K.Studies.MA("simple",34,"hl/2",0,v0J,j5K,w5K);for(var q5K=Math.max(w5K.startFrom,"33" | 32);q5K < I5K.length;q5K++){V0J="_";V0J+="his";V0J+="t";if(!I5K[q5K])continue;I5K[q5K][w5K.name + V0J]=I5K[q5K]["_MA5 " + w5K.name] - I5K[q5K]["_MA34 " + w5K.name];}w5K.outputMap={};w5K.outputMap[w5K.name + "_hist"]="";};m5K.Studies.displayAwesomeOscillator=function(D5K,p5K,e5K){var k0J,o0J,C0J,p0J,U5K,X5K,r5K,M5K,g5K,H5K,k5K,w0J,T0J,B5K,E5K;k0J="#C";k0J+="CC";k0J+="CCC";o0J="stx_his";o0J+="togram";C0J="D";o2ss.U2O();C0J+="ecreasing Ba";C0J+="r";p0J="In";p0J+="creasing ";p0J+="B";p0J+="ar";U5K=D5K.panels[p5K.panel];X5K=p5K.getContext(D5K);r5K=p5K.getYAxis(D5K);M5K=D5K.pixelFromPrice(0,U5K,r5K);g5K=D5K.layout.candleWidth - 2;if(g5K < 2){g5K=1;}H5K=m5K.Studies.determineColor(p5K.outputs[p0J]);k5K=m5K.Studies.determineColor(p5K.outputs[C0J]);D5K.canvasColor(o0J);if(!p5K.underlay){X5K.globalAlpha=1;}X5K.fillStyle=k0J;D5K.startClip(p5K.panel);if(!p5K.highlight && D5K.highlightedDraggable){X5K.globalAlpha*=0.3;}for(var l5K=0;l5K < e5K.length;l5K++){w0J="_";w0J+="h";w0J+="i";w0J+="st";T0J="_";T0J+="h";T0J+="ist";B5K=e5K[l5K];o2ss.H0H(2);E5K=e5K[o2ss.Z0H(1,l5K)];if(!E5K){E5K=D5K.getPreviousBar(D5K.chart,p5K.name + "_hist",l5K);}if(!B5K)continue;if(!E5K);else if(E5K[p5K.name + "_hist"] < B5K[p5K.name + "_hist"]){X5K.fillStyle=H5K;}else if(E5K[p5K.name + "_hist"] > B5K[p5K.name + T0J]){X5K.fillStyle=k5K;}if(B5K.candleWidth){g5K=Math.floor(Math.max(1,B5K.candleWidth - 2));}X5K.fillRect(Math.floor(D5K.pixelFromBar(l5K,U5K.chart) - g5K / 2),Math.floor(M5K),Math.floor(g5K),Math.floor(D5K.pixelFromPrice(B5K[p5K.name + w0J],U5K,r5K) - M5K));}D5K.endClip();};m5K.Studies.studyLibrary=m5K.extend(m5K.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:m5K.Studies.displayAwesomeOscillator,calculateFN:m5K.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":Y0J}}});}};m0Q=W5K=>{o2ss.U2O();var K5K,Z0J,f0J;K5K=typeof _CIQ !== "undefined"?_CIQ:W5K.CIQ;if(!K5K.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {Z0J="m";Z0J+="a";f0J="Ba";f0J+="lance of Power";K5K.Studies.calculateBalanceOfPower=function(G0K,f0K){var S0J,h0K,u0K;S0J="_Ra";S0J+="ti";S0J+="o";S0J+=" ";h0K=f0K.chart.scrubbed;if(h0K.length < f0K.days + 1){f0K.error=! ![];return;}for(var x0K=f0K.startFrom;x0K < h0K.length;x0K++){u0K=h0K[x0K];u0K["_Ratio " + f0K.name]=u0K.Close - u0K.Open;if(u0K.High - u0K.Low !== 0){u0K["_Ratio " + f0K.name]/=u0K.High - u0K.Low;}}K5K.Studies.MA(f0K.inputs["Moving Average Type"],f0K.days,S0J + f0K.name,0,"Result",G0K,f0K);};K5K.Studies.studyLibrary=K5K.extend(K5K.Studies.studyLibrary,{"Bal Pwr":{name:f0J,range:"-1 to 1",centerline:0,calculateFN:K5K.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":Z0J}}});}};R0Q=n0K=>{var N0J,V0K,K9J,G9J,t9J,u9J,s9J;N0J="u";N0J+="ndef";N0J+="in";N0J+="ed";V0K=typeof _CIQ !== N0J?_CIQ:n0K.CIQ;if(!V0K.Studies){console.error("bollinger feature requires first activating studies feature.");}else {K9J="f";K9J+="ield";G9J="Bol";G9J+="lin";G9J+="ger Bandwi";G9J+="dth";t9J="m";t9J+="a";u9J="Bol";u9J+="li";u9J+="n";u9J+="ger %b";s9J="f";s9J+="iel";s9J+="d";V0K.Studies.calculateBollinger=function(T0K,y0K){var B0J,E0J,z0K;B0J="%";B0J+="b";E0J="C";E0J+="l";E0J+="os";E0J+="e";z0K=y0K.inputs.Field;if(!z0K || z0K == "field"){z0K=E0J;}V0K.Studies.MA(y0K.inputs["Moving Average Type"],y0K.days,z0K,0,"_MA",T0K,y0K);y0K.std=new V0K.Studies.StudyDescriptor(y0K.name,"STD Dev",y0K.panel);y0K.std.chart=y0K.chart;y0K.std.startFrom=y0K.startFrom;y0K.std.days=y0K.days;y0K.std.inputs={Field:z0K,"Standard Deviations":1,Type:y0K.inputs["Moving Average Type"]};o2ss.p2O();y0K.std.outputs={"_STD Dev":null};V0K.Studies.calculateStandardDeviation(T0K,y0K.std);V0K.Studies.calculateGenericEnvelope(T0K,y0K,y0K.inputs["Standard Deviations"],"_MA " + y0K.name,"_STD Dev " + y0K.name);if(y0K.type == "Boll %b"){y0K.zoneOutput=B0J;}};V0K.Studies.studyLibrary=V0K.extend(V0K.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! ![],calculateFN:V0K.Studies.calculateBollinger,seriesFN:V0K.Studies.displayChannel,inputs:{Period:20,Field:s9J,"Standard Deviations":"2" - 0,"Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:u9J,calculateFN:V0K.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":t9J},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"100" << 150823456,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:"0.1" - 0}}},"Boll BW":{name:G9J,calculateFN:V0K.Studies.calculateBollinger,inputs:{Period:20,Field:K9J,"Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};w0Q=C0K=>{var a9J,Q0K,Q9J;a9J="u";a9J+="nd";a9J+="efine";a9J+="d";o2ss.U2O();Q0K=typeof _CIQ !== a9J?_CIQ:C0K.CIQ;if(!Q0K.Studies){Q9J="cci feature requires firs";Q9J+="t activating studies fea";Q9J+="ture.";console.error(Q9J);}else {Q0K.Studies.calculateCCI=function(a0K,A0K){var c9J,P0K,X9J,x9J,i0K,v0K,n9J;c9J="M";c9J+="A";P0K=A0K.chart.scrubbed;if(P0K.length < A0K.days + +"1"){A0K.error=! !{};return;}Q0K.Studies.MA("simple",A0K.days,"hlc/3",0,c9J,a0K,A0K);for(var N0K=Math.max(A0K.startFrom,A0K.days - 1);N0K < P0K.length;N0K++){X9J="M";X9J+="A";X9J+=" ";x9J="Res";x9J+="ult";x9J+=" ";i0K=P0K[N0K];if(!i0K)continue;v0K=0;for(var t0K=0;t0K < A0K.days;t0K++){n9J="M";n9J+="A";n9J+=" ";v0K+=Math.abs(P0K[N0K - t0K]["hlc/3"] - i0K[n9J + A0K.name]);}v0K/=A0K.days;if(Math.abs(v0K) < 0.00000001){i0K["Result " + A0K.name]=0;}else {i0K[x9J + A0K.name]=(i0K["hlc/3"] - i0K[X9J + A0K.name]) / (+"0.015" * v0K);}}};Q0K.Studies.studyLibrary=Q0K.extend(Q0K.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:Q0K.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:"2" | 2}}}});}};I0Q=b0K=>{var c0K;c0K=typeof _CIQ !== "undefined"?_CIQ:b0K.CIQ;if(!c0K.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {c0K.Studies.calculateCenterOfGravity=function(F0K,L0K){var G4O=o2ss;var O9J,S0K,Y0K,Z0K,o0K,O0K;O9J="fi";O9J+="e";O9J+="l";O9J+="d";S0K=L0K.chart.scrubbed;if(S0K.length < L0K.days){L0K.error=! !"1";return;}G4O.p2O();Y0K=L0K.inputs.Field;if(!Y0K || Y0K == O9J){Y0K="Close";}for(var J0K=Math.max(L0K.startFrom,L0K.days - +"1");J0K < S0K.length;J0K++){Z0K=0;o0K=0;for(var s0K=0;s0K < L0K.days;s0K++){G4O.j0H(2);O0K=S0K[G4O.Z0H(s0K,J0K)][Y0K];G4O.H0H(65);Z0K-=G4O.a0H(s0K,1,O0K);o0K+=O0K;}if(o0K){G4O.j0H(4);S0K[J0K]["Result " + L0K.name]=G4O.a0H(o0K,Z0K);}}};c0K.Studies.studyLibrary=c0K.extend(c0K.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:c0K.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};q0Q=m0K=>{var d0K,F9J,U9J;d0K=typeof _CIQ !== "undefined"?_CIQ:m0K.CIQ;if(!d0K.Studies){F9J="chaikin feature requires first act";F9J+="ivating studies feature.";console.error(F9J);}else {U9J="m";U9J+="a";d0K.Studies.calculateChaikinMoneyFlow=function(D0K,I0K){var R0K,j0K,q0K,p0K,g9J,L9J,A9J;R0K=I0K.chart.scrubbed;if(R0K.length < I0K.days){I0K.error=! !"1";return;}j0K=0;q0K=0;p0K=R0K[I0K.startFrom - 1];if(p0K){g9J="_s";g9J+="u";g9J+="mMF ";if(p0K["_sumMF " + I0K.name]){j0K=p0K[g9J + I0K.name];}if(p0K["_sumV " + I0K.name]){q0K=p0K["_sumV " + I0K.name];}}o2ss.p2O();for(var w0K=I0K.startFrom;w0K < R0K.length;w0K++){L9J="_MF";L9J+="V";L9J+=" ";A9J="_";A9J+="M";A9J+="FV";A9J+=" ";if(R0K[w0K].High == R0K[w0K].Low){R0K[w0K][A9J + I0K.name]=0;}else {R0K[w0K]["_MFV " + I0K.name]=R0K[w0K].Volume * (2 * R0K[w0K].Close - R0K[w0K].High - R0K[w0K].Low) / (R0K[w0K].High - R0K[w0K].Low);}j0K+=R0K[w0K][L9J + I0K.name];q0K+=R0K[w0K].Volume;if(w0K > I0K.days - 1){j0K-=R0K[w0K - I0K.days]["_MFV " + I0K.name];q0K-=R0K[w0K - I0K.days].Volume;if(q0K){o2ss.j0H(4);R0K[w0K]["Result " + I0K.name]=o2ss.Z0H(q0K,j0K);}}R0K[w0K]["_sumMF " + I0K.name]=j0K;R0K[w0K]["_sumV " + I0K.name]=q0K;}};d0K.Studies.calculateChaikinVolatility=function(E0K,X0K){var B0K,l0K,g0K,J9J;B0K=X0K.chart.scrubbed;if(B0K.length < X0K.days){X0K.error=!0;return;}for(l0K=X0K.startFrom;l0K < B0K.length;l0K++){if(B0K[l0K].futureTick)break;B0K[l0K]["_High-Low " + X0K.name]=B0K[l0K].High - B0K[l0K].Low;}d0K.Studies.MA(X0K.inputs["Moving Average Type"],X0K.days,"_High-Low " + X0K.name,0,"_MA",E0K,X0K);g0K=X0K.inputs["Rate Of Change"];o2ss.p2O();if(!g0K){g0K=X0K.days;}for(l0K=Math.max(X0K.startFrom,g0K);l0K < B0K.length;l0K++){J9J="_";J9J+="M";J9J+="A";J9J+=" ";if(!B0K[l0K - g0K][J9J + X0K.name])continue;if(B0K[l0K].futureTick)break;B0K[l0K]["Result " + X0K.name]=100 * (B0K[l0K]["_MA " + X0K.name] / B0K[l0K - g0K]["_MA " + X0K.name] - 1);}};d0K.Studies.studyLibrary=d0K.extend(d0K.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:d0K.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:d0K.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":U9J}}});}};j0Q=e0K=>{o2ss.p2O();var U0K,M9J,r9J,z9J;U0K=typeof _CIQ !== "undefined"?_CIQ:e0K.CIQ;if(!U0K.Studies){console.error("chande feature requires first activating studies feature.");}else {M9J="Chande Fore";M9J+="cast O";M9J+="scillator";r9J="variab";r9J+="le";z9J="vm";z9J+="a";U0K.Studies.prettify.variable=z9J;U0K.Studies.movingAverage.conversions.vma=r9J;U0K.Studies.movingAverage.translations.variable="Variable";U0K.Studies.movingAverage.typeMap.vma="Variable";U0K.Studies.movingAverage.typeMap.variable="Variable";U0K.Studies.calculateChandeForecast=function(W0K,r0K){var q9J,b9J,M0K,H0K,H9J,K0K;q9J="Clo";q9J+="se";b9J="f";b9J+="i";b9J+="el";b9J+="d";M0K=r0K.chart.scrubbed;if(M0K.length < r0K.days + +"1"){r0K.error=!"";return;}H0K=r0K.inputs.Field;if(!H0K || H0K == b9J){H0K=q9J;}U0K.Studies.MA("time series",r0K.days,H0K,0,"MA",W0K,r0K);for(var k0K=Math.max(1,r0K.startFrom);k0K < M0K.length;k0K++){H9J="R";H9J+="esu";H9J+="l";H9J+="t ";K0K=M0K[k0K][H0K];if(K0K && typeof K0K == "object"){K0K=K0K[r0K.subField];}M0K[k0K][H9J + r0K.name]=100 * (1 - M0K[k0K]["MA " + r0K.name] / K0K);}};U0K.Studies.calculateChandeMomentum=function(i4K,f4K){var u4O=o2ss;var R9J,n4K,x4K,G4K,y4K,z4K,T4K,i9J,h9J,V4K,h4K,Q4K,C4K;R9J="f";R9J+="ie";R9J+="ld";n4K=f4K.name;for(var A4K in f4K.outputs){u4O.j0H(46);n4K=u4O.a0H(n4K,4920 === 9357?!0:" ",A4K);}x4K=f4K.chart.scrubbed;if(x4K.length < f4K.days + 1){f4K.error=! !"1";return;}G4K=f4K.inputs.Field;if(!G4K || G4K == R9J){G4K="Close";}y4K=0;z4K=0;u4O.p2O();T4K=[];for(var u4K=f4K.startFrom - f4K.days + ("1" | 1);u4K < x4K.length;u4K++){i9J="obj";i9J+="e";i9J+="c";i9J+="t";h9J="o";h9J+="bj";h9J+="ec";h9J+="t";if(u4K < 1)continue;V4K=x4K[u4K][G4K];u4O.j0H(18);h4K=x4K[u4O.Z0H("1",u4K,0)][G4K];if(V4K && typeof V4K == h9J){V4K=V4K.Close;}if(h4K && typeof h4K == i9J){h4K=h4K.Close;}if(h4K === undefined)continue;u4O.j0H(2);Q4K=u4O.Z0H(h4K,V4K);T4K.push(Q4K);y4K+=Q4K;z4K+=Math.abs(Q4K);if(T4K.length == f4K.days){u4O.H0H(66);x4K[u4K][n4K]=u4O.a0H(z4K,"100",y4K);C4K=T4K.shift();y4K-=C4K;z4K-=Math.abs(C4K);}}};U0K.Studies.calculateMovingAverageVariable=function(m4K,P4K){var n4O=o2ss;var m9J,I4K,a4K,O4K,b4K,c4K,L4K,t4K,N4K,v4K,S4K,o4K,F4K,Z4K,l9J,P9J,Y4K,w4K,J4K,d4K,s4K;m9J="C";m9J+="lose";I4K=P4K.inputs.Type;a4K=P4K.chart.scrubbed;O4K=2 / (P4K.days + ("1" << 1190816672));b4K=null;c4K=P4K.name;for(var R4K in P4K.outputs){n4O.j0H(46);c4K=n4O.Z0H(c4K,(2341,4000) != (7440,+"2875")?9995 < (673.4,3060)?(! !1,! !{}):" ":"k",R4K);}L4K=P4K.inputs.Field;if(!L4K || L4K == "field"){L4K=m9J;}P4K.cmo=new U0K.Studies.StudyDescriptor(P4K.name,"cmo",P4K.panel);P4K.cmo.chart=P4K.chart;P4K.cmo.days=9;P4K.cmo.inputs={Field:L4K};P4K.cmo.startFrom=P4K.startFrom;P4K.cmo.outputs={_CMO:null};n4O.U2O();U0K.Studies.calculateChandeMomentum(m4K,P4K.cmo);t4K=parseInt(P4K.inputs.Offset,10);if(isNaN(t4K)){t4K=0;}o4K=P4K.startFrom;F4K=t4K;for(N4K=P4K.startFrom - 1;N4K >= 0;N4K--){v4K=a4K[N4K][c4K];if(!v4K && v4K !== 0)continue;if(b4K === null){b4K=v4K;}if(F4K <= 0)break;F4K--;o4K=N4K;}if(b4K === null){b4K=o4K=+"0";}Z4K=[];for(N4K=o4K;N4K < a4K.length;N4K++){l9J="_";l9J+="CM";l9J+="O";l9J+=" ";P9J="o";P9J+="bje";P9J+="c";P9J+="t";Y4K=a4K[N4K];v4K=Y4K[L4K];if(v4K && typeof v4K == P9J){v4K=v4K[P4K.subField];}w4K=N4K + t4K >= 0 && N4K + t4K < a4K.length;J4K=w4K?a4K[N4K + t4K]:null;if(!v4K && v4K !== 0){if(J4K){J4K[c4K]=null;}else if(N4K + t4K >= a4K.length){S4K={};S4K[c4K]=null;Z4K.push(S4K);}continue;}if(!Y4K["_CMO " + P4K.name] && Y4K[l9J + P4K.name] !== 0)continue;d4K=Math.abs(Y4K["_CMO " + P4K.name]) / 100;n4O.j0H(67);s4K=n4O.a0H(O4K,O4K,b4K,d4K,d4K,1,v4K);b4K=s4K;if(N4K < P4K.days){s4K=null;}if(J4K){J4K[c4K]=s4K;}else if(N4K + t4K >= a4K.length){S4K={};S4K[c4K]=s4K;Z4K.push(S4K);}}P4K.appendFutureTicks(m4K,Z4K);};U0K.Studies.studyLibrary=U0K.extend(U0K.Studies.studyLibrary,{"Chande Fcst":{name:M9J,calculateFN:U0K.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:U0K.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-("50" | 18),studyOverSoldColor:"auto"}}}});}};p0Q=j4K=>{o2ss.p2O();var e9J,q4K,I9J,W9J;e9J="unde";e9J+="fined";q4K=typeof _CIQ !== e9J?_CIQ:j4K.CIQ;if(!q4K.Studies){console.error("choppiness feature requires first activating studies feature.");}else {I9J="0";I9J+=".";I9J+="1";W9J="a";W9J+="u";W9J+="t";W9J+="o";q4K.Studies.calculateChoppiness=function(g4K,p4K){var X4K,D9J,D4K,B4K,j9J;o2ss.p2O();q4K.Studies.calculateStudyATR(g4K,p4K);X4K=p4K.chart.scrubbed;function E4K(H4K,M4K){var e4K,r4K;e4K=Number.MAX_VALUE * -1;r4K=Number.MAX_VALUE;for(var U4K=M4K - H4K + 1;U4K <= M4K;U4K++){if(U4K < 0)continue;e4K=Math.max(e4K,X4K[U4K].High);r4K=Math.min(r4K,X4K[U4K].Low);}return [r4K,e4K];}if(X4K.length < p4K.days + 1){p4K.error=! ![];return;}for(var l4K=Math.max(p4K.startFrom,p4K.days);l4K < X4K.length;l4K++){D9J="S";D9J+="um T";D9J+="rue Range ";D4K=X4K[l4K];if(!D4K)continue;if(D4K.futureTick)break;B4K=E4K(p4K.days,l4K);if(D4K[D9J + p4K.name]){j9J="Su";j9J+="m ";j9J+="True Range ";D4K["Result " + p4K.name]=100 * Math.log(D4K[j9J + p4K.name] / Math.max(0.000001,B4K[1] - B4K[0])) / Math.log(p4K.days);}else if(!isNaN(D4K)){D4K["Result " + p4K.name]=0;}}};q4K.Studies.studyLibrary=q4K.extend(q4K.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:q4K.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:+"38.2",studyOverSoldColor:W9J}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:I9J}}}});}};D0Q=K4K=>{var v3O=o2ss;var k4K,j95,W95,I95,u7J;v3O.U2O();k4K=typeof _CIQ !== "undefined"?_CIQ:K4K.CIQ;if(!k4K.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!k4K.Studies.initPriceRelative){v3O.j0H(5);j95=v3O.Z0H(0,"1878138509");W95=813053195;I95=2;for(var d95=1;v3O.U35(d95.toString(),d95.toString().length,22915) !== j95;d95++){console.error("comparisonStudies feature requires first activating priceRelative feature.");I95+=2;}if(v3O.J35(I95.toString(),I95.toString().length,39426) !== W95){console.error("");}}else {u7J="Co";u7J+="rrelation Coeffi";u7J+="cient";k4K.Studies.calculateCorrelationCoefficient=function(i2q,W4K){var u2q,x2q,G2q,y9J,V2q,n2q,z2q,T2q,Q2q,C2q,A2q,V9J,v9J,d9J,h2q,p9J,N2q,v2q,t2q,a2q;v3O.p2O();u2q=W4K.chart.scrubbed;x2q=W4K.days;if(u2q.length < x2q + +"1"){W4K.error=! !{};return;}W4K.compare=W4K.inputs["Compare To"];if(!W4K.compare){W4K.compare=[];W4K.outputs={};W4K.outputMap={};for(var P2q in i2q.chart.series){G2q=i2q.chart.series[P2q];if(G2q.parameters.color){y9J="Result";y9J+=" ";W4K.compare.push(G2q.display);W4K.outputs["Result " + G2q.display]=G2q.parameters.color;W4K.outputMap["Result " + G2q.display + ((8280,+"161.76") >= 457.96?"I":2656 == 1580?("M",7.55e+3):" ") + W4K.name]=y9J + G2q.display;}}}else {W4K.compare=[W4K.compare];}if(!W4K.compare.length){W4K.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var y2q=0;y2q < W4K.compare.length;y2q++){V2q=+"0";n2q=0;z2q=0;T2q=0;Q2q=0;C2q=W4K.compare[y2q];A2q=0;for(var f2q=W4K.startFrom - x2q;f2q < u2q.length;f2q++){V9J="_t";V9J+="e";V9J+="mp";V9J+="s ";v9J="_tem";v9J+="ps ";d9J="_t";d9J+="e";d9J+="m";d9J+="ps ";if(!u2q[f2q])continue;h2q=u2q[f2q][C2q];if(h2q && typeof h2q == "object"){h2q=h2q.Close;}if(!h2q && h2q !== 0){if(f2q > 0 && u2q[f2q - 1] && u2q[f2q - 1]["_temps " + W4K.name] && u2q[f2q - +"1"]["_temps " + W4K.name].c){h2q=u2q[f2q - 1]["_temps " + W4K.name].c;}else {h2q=0;}}if(h2q && typeof h2q == "object"){h2q=h2q.Close;}u2q[f2q]["_temps " + W4K.name]={};V2q+=u2q[f2q][d9J + W4K.name].b=u2q[f2q].Close;n2q+=u2q[f2q]["_temps " + W4K.name].c=h2q;z2q+=u2q[f2q][v9J + W4K.name].b2=Math.pow(u2q[f2q].Close,2);T2q+=u2q[f2q]["_temps " + W4K.name].c2=Math.pow(h2q,+"2");Q2q+=u2q[f2q][V9J + W4K.name].bc=u2q[f2q].Close * h2q;if(A2q >= x2q){p9J="_";p9J+="temps ";V2q-=u2q[f2q - x2q][p9J + W4K.name].b;n2q-=u2q[f2q - x2q]["_temps " + W4K.name].c;z2q-=u2q[f2q - x2q]["_temps " + W4K.name].b2;T2q-=u2q[f2q - x2q]["_temps " + W4K.name].c2;Q2q-=u2q[f2q - x2q]["_temps " + W4K.name].bc;N2q=z2q / x2q - Math.pow(V2q / x2q,2);v2q=T2q / x2q - Math.pow(n2q / x2q,2);t2q=Q2q / x2q - V2q * n2q / Math.pow(x2q,2);a2q=t2q / Math.sqrt(N2q * v2q);u2q[f2q]["Result " + C2q + " " + W4K.name]=a2q;}A2q++;}}};k4K.Studies.calculatePerformance=function(J2q,c2q){var C9J,b2q,Y2q,o9J,S2q;C9J="_";C9J+="MA B";C9J+="as";C9J+="e";v3O.p2O();b2q=c2q.chart.scrubbed;Y2q=c2q.inputs["Comparison Symbol"].toUpperCase();if(!Y2q){Y2q=c2q.study.inputs["Comparison Symbol"];}if(!c2q.days){c2q.days=c2q.study.inputs.Period;}if(b2q.length < c2q.days + +"1"){c2q.error=! !1;return;}k4K.Studies.MA("ma",c2q.days,"Close",0,C9J,J2q,c2q);k4K.Studies.MA("ma",c2q.days,Y2q,+"0","_MA Comp",J2q,c2q);for(var L2q=c2q.startFrom;L2q < b2q.length;L2q++){o9J="Re";o9J+="su";o9J+="l";o9J+="t ";S2q=b2q[L2q][Y2q];if(S2q && (S2q.Close || S2q.Close === 0)){S2q=S2q.Close;}b2q[L2q][o9J + c2q.name]=b2q[L2q].Close / S2q * (b2q[L2q]["_MA Comp " + c2q.name] / b2q[L2q]["_MA Base " + c2q.name]);}};k4K.Studies.calculateBeta=function(m2q,s2q){var s7J,B9J,E9J,Y9J,w9J,T9J,Z2q,d2q,k9J,O2q,F2q,N9J,Z9J,f9J,S9J;s7J="_";s7J+="VA";s7J+="Rn ";B9J="_COV";B9J+="AR";B9J+="n ";E9J="m";E9J+="a";Y9J="m";Y9J+="a";w9J="_B";w9J+="aseCha";w9J+="ng";w9J+="e ";T9J="m";T9J+="a";Z2q=s2q.chart.scrubbed;d2q=s2q.inputs["Comparison Symbol"].toUpperCase();if(!d2q){d2q=s2q.study.inputs["Comparison Symbol"];}if(!s2q.days){s2q.days=s2q.study.inputs.Period;}if(Z2q.length < s2q.days + 1){s2q.error=! !"1";return;}for(var o2q=Math.max(s2q.startFrom,+"1");o2q < Z2q.length;o2q++){k9J="_Comp";k9J+="Change ";Z2q[o2q]["_BaseChange " + s2q.name]=Z2q[o2q].Close / Z2q[o2q - 1].Close - 1;O2q=Z2q[o2q][d2q];if(O2q && (O2q.Close || O2q.Close === 0)){O2q=O2q.Close;}v3O.H0H(2);F2q=Z2q[v3O.a0H(1,o2q)][d2q];if(F2q && (F2q.Close || F2q.Close === 0)){F2q=F2q.Close;}v3O.j0H(68);Z2q[o2q][k9J + s2q.name]=v3O.Z0H(F2q,1,O2q);}k4K.Studies.MA(T9J,s2q.days,w9J + s2q.name,0,"_MA Base",m2q,s2q);v3O.U2O();k4K.Studies.MA(Y9J,s2q.days,"_CompChange " + s2q.name,0,"_MA Comp",m2q,s2q);for(o2q=Math.max(s2q.startFrom,s2q.days);o2q < Z2q.length;o2q++){N9J="_MA ";N9J+="Comp ";Z9J="_VAR";Z9J+="n";Z9J+=" ";f9J="_Ba";f9J+="seCh";f9J+="ange ";S9J="_COVARn";S9J+=" ";Z2q[o2q][S9J + s2q.name]=(Z2q[o2q][f9J + s2q.name] - Z2q[o2q]["_MA Base " + s2q.name]) * (Z2q[o2q]["_CompChange " + s2q.name] - Z2q[o2q]["_MA Comp " + s2q.name]);Z2q[o2q][Z9J + s2q.name]=Math.pow(Z2q[o2q]["_CompChange " + s2q.name] - Z2q[o2q][N9J + s2q.name],2);}k4K.Studies.MA(E9J,s2q.days,B9J + s2q.name,0,"_COVAR",m2q,s2q);k4K.Studies.MA("ma",s2q.days,s7J + s2q.name,0,"_VAR",m2q,s2q);for(o2q=Math.max(s2q.startFrom,s2q.days * 2 - +"1");o2q < Z2q.length;o2q++){Z2q[o2q]["Result " + s2q.name]=Z2q[o2q]["_COVAR " + s2q.name] / Z2q[o2q]["_VAR " + s2q.name];}};k4K.Studies.studyLibrary=k4K.extend(k4K.Studies.studyLibrary,{correl:{name:u7J,range:"-1 to 1",calculateFN:k4K.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:k4K.Studies.initPriceRelative,seriesFN:k4K.Studies.displayVsComparisonSymbol,calculateFN:k4K.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! ![]},Beta:{name:"Beta",centerline:1,initializeFN:k4K.Studies.initPriceRelative,seriesFN:k4K.Studies.displayVsComparisonSymbol,calculateFN:k4K.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !1}});}};X0Q=w2q=>{var t7J,R2q,c7J;t7J="u";t7J+="nde";t7J+="fine";t7J+="d";R2q=typeof _CIQ !== t7J?_CIQ:w2q.CIQ;if(!R2q.Studies){console.error("coppock feature requires first activating studies feature.");}else {c7J="f";c7J+="ie";c7J+="ld";R2q.Studies.calculateCoppock=function(E2q,I2q){var g4O=o2ss;var Q7J,a7J,G7J,q2q,j2q,D2q,X2q,l2q,B2q,g2q,K7J;Q7J="R";Q7J+="esu";Q7J+="l";Q7J+="t";a7J="_";a7J+="S";a7J+="um";a7J+=" ";G7J="f";G7J+="ield";q2q=I2q.chart.scrubbed;j2q=I2q.inputs.Field;if(!j2q || j2q == G7J){j2q="Close";}D2q=parseInt(I2q.inputs["Long RoC"],10);if(!D2q){D2q=14;}X2q=parseInt(I2q.inputs["Short RoC"],10);if(!X2q){g4O.j0H(2);X2q=g4O.Z0H(0,"11");}l2q=I2q.days;if(!l2q){l2q=10;}if(D2q < X2q){return;}if(q2q.length < Math.max(X2q,D2q,l2q) + +"1"){I2q.error=! !{};return;}g4O.p2O();for(var p2q=Math.max(I2q.startFrom,D2q);p2q < q2q.length;p2q++){g4O.j0H(2);B2q=q2q[g4O.a0H(X2q,p2q)][j2q];g4O.H0H(2);g2q=q2q[g4O.a0H(D2q,p2q)][j2q];if(B2q && g2q){K7J="_";K7J+="Su";K7J+="m";K7J+=" ";q2q[p2q][K7J + I2q.name]=+"100" * (q2q[p2q][j2q] / B2q + q2q[p2q][j2q] / g2q - 2);}}R2q.Studies.MA("weighted",l2q,a7J + I2q.name,0,Q7J,E2q,I2q);};R2q.Studies.studyLibrary=R2q.extend(R2q.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:R2q.Studies.calculateCoppock,inputs:{Period:10,Field:c7J,"Short RoC":11,"Long RoC":+"14"}}});}};l0Q=e2q=>{var U2q,I7J,W7J;U2q=typeof _CIQ !== "undefined"?_CIQ:e2q.CIQ;o2ss.p2O();if(!U2q.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {I7J="high/lo";I7J+="w";W7J="cl";W7J+="o";W7J+="s";W7J+="e";U2q.Studies.calculateDarvas=function(y6q,i7q){var X7J,x7J,r2q,T7q,h6q,n7J,V6q,P7q,k2q,W2q,X7q,c7q,k7q,R7q,H2q,K2q,f6q,M2q,O7J,F7J,A7J,g7J,J7J,L7J,b7J,r7J,z7J,U7J,q7J,R7J,H7J,h7J,i7J;X7J="Gh";X7J+="os";X7J+="t";x7J="Da";x7J+="rv";x7J+="a";x7J+="s";r2q=i7q.chart.scrubbed;T7q=0;h6q=parseInt(i7q.inputs["ATH Lookback Period"],+"10");if(i7q.inputs["Volume Spike"]){n7J="A";n7J+="D";n7J+="V";U2q.Studies.MA("simple",h6q,"Volume",0,n7J,y6q,i7q);}V6q=parseFloat(i7q.inputs["Volume % of Avg"]) / 100;P7q="none";k2q={};W2q=null;X7q=null;c7q=null;k7q=parseFloat(i7q.inputs["Level Offset"]);R7q=!{};if(R7q){console.log("*****************");}K2q={};[x7J,X7J,"Profit","Loss","ATH","ADV","Spike"].forEach(function(z6q){o2ss.p2O();K2q[z6q]=z6q + ("2188" - 0 <= (133.61,2770)?" ":"b") + i7q.name;});for(H2q=i7q.startFrom - 1;H2q > 0;H2q--){f6q=r2q[H2q];if(f6q[K2q.Darvas] || f6q[K2q.Ghost]){for(var n6q in K2q){f6q[n6q]=null;}}else {T7q=f6q[K2q.ATH] || 0;X7q=f6q[K2q.Profit];c7q=f6q[K2q.Loss];break;}}for(H2q;H2q < r2q.length;H2q++){M2q=r2q[H2q];if(!M2q)continue;if(parseFloat(i7q.inputs["Price Minimum"]) <= r2q[T7q].Close){O7J="high/l";O7J+="ow";if(W2q && (!W2q.End || H2q == W2q.End + 1)){if(r2q[H2q - 1].Close > k2q.High){k2q={State:1,High:("2" | 2) * k2q.High - k2q.Low,Low:k2q.High,Start:H2q,End:2 * k2q.End - k2q.Start + 1};}else {W2q=null;;}if(W2q){M2q[K2q.Ghost]=U2q.clone(k2q);if(R7q){console.log("Ghost begin:" + M2q.DT);}k2q.State=0;if(r2q[k2q.End]){r2q[k2q.End][K2q.Ghost]=U2q.clone(k2q);if(R7q){console.log("Ghost end:" + r2q[k2q.End].DT);}}W2q={Start:k2q.Start,End:k2q.End};X7q=k2q.High + k7q;if(!c7q || c7q < k2q.Low - k7q){c7q=k2q.Low - k7q;}}}M2q[K2q.Profit]=X7q;M2q[K2q.Loss]=c7q;if(M2q.Close >= X7q){X7q=null;}else if(i7q.inputs["Exit Field"] == O7J && M2q.High >= X7q){X7q=null;}if(P7q == "none"){if(H2q == T7q + 3){if(!r2q[T7q + +"2"][K2q.Darvas] && !r2q[T7q + 1][K2q.Darvas] && !r2q[T7q][K2q.Darvas] && r2q[T7q].High > M2q.High){F7J="hi";F7J+="gh";P7q=F7J;;}}}if(P7q == "high"){if(M2q.High > r2q[T7q].High){P7q="none";}else if(r2q[H2q - ("3" ^ 0)].Low < r2q[H2q - 2].Low && r2q[H2q - 3].Low < r2q[H2q - 1].Low && r2q[H2q - 3].Low < M2q.Low){A7J="Darvas esta";A7J+="blished";A7J+=":";g7J="darva";g7J+="s";k2q={State:1,High:r2q[T7q].High,Low:r2q[H2q - 3].Low,Start:T7q};r2q[T7q][K2q.Darvas]=U2q.clone(k2q);P7q=g7J;if(R7q){console.log("Darvas begin:" + r2q[T7q].DT);}if(R7q){console.log(A7J + M2q.DT);}if(W2q){J7J="Ghost ";J7J+="end";J7J+=":";if(W2q.End > H2q && r2q[W2q.Start]){M2q[K2q.Ghost]=U2q.clone(r2q[W2q.Start][K2q.Ghost]);M2q[K2q.Ghost].End=H2q;if(r2q[W2q.End]){L7J="Ghost End remo";L7J+="ved:";delete r2q[W2q.End][K2q.Ghost];if(R7q){console.log(L7J + r2q[W2q.End].DT);}}}M2q[K2q.Ghost].State=0;r2q[W2q.Start][K2q.Ghost].End=H2q;if(R7q){console.log(J7J + M2q.DT);}W2q=null;}X7q=k2q.High + k7q;if(!c7q || c7q < k2q.Low - k7q){c7q=k2q.Low - k7q;}}}if(P7q == "darvas"){b7J="no";b7J+="n";b7J+="e";r7J="high/lo";r7J+="w";z7J="hig";z7J+="h";z7J+="/";z7J+="low";U7J="E";U7J+="xit";U7J+=" Fi";U7J+="eld";if(M2q.Close > k2q.High){W2q={};}else if(i7q.inputs[U7J] == z7J && M2q.High > k2q.High){W2q={};}else if(M2q.Close < k2q.Low){P7q="none";}else if(i7q.inputs["Exit Field"] == r7J && M2q.Low < k2q.Low){P7q="none";}if(W2q){P7q="none";}else if(P7q == "none"){X7q=null;c7q=null;}if(!i7q.inputs["Ghost Boxes"]){W2q=null;}if(P7q == b7J){q7J="Da";q7J+="rvas end:";for(var x6q=k2q.Start + 1;x6q < H2q;x6q++){r2q[x6q][K2q.Darvas]=U2q.clone(k2q);}k2q.State=0;k2q.End=H2q;M2q[K2q.Darvas]=U2q.clone(k2q);if(R7q){console.log(q7J + M2q.DT);}M2q[K2q.ATH]=T7q;continue;}}if(c7q){R7J="h";R7J+="igh/low";H7J="E";H7J+="xi";H7J+="t";H7J+=" Field";if(M2q.Close < k2q.Low || i7q.inputs[H7J] == R7J && M2q.Low < k2q.Low){h7J="high";h7J+="/low";if(P7q == "darvas"){P7q="none";}if(M2q.Close < c7q || i7q.inputs["Exit Field"] == h7J && M2q.Low < c7q){X7q=null;c7q=null;}if(W2q){if(W2q.End > H2q && r2q[W2q.Start]){M2q[K2q.Ghost]=U2q.clone(r2q[W2q.Start][K2q.Ghost]);M2q[K2q.Ghost].End=H2q;if(r2q[W2q.End]){delete r2q[W2q.End][K2q.Ghost];if(R7q){console.log("Ghost End removed:" + r2q[W2q.End].DT);}}}M2q[K2q.Ghost].State=0;r2q[W2q.Start][K2q.Ghost].End=H2q;if(R7q){console.log("Ghost end:" + M2q.DT);}W2q=null;}}}}if(M2q.High >= r2q[T7q].High){T7q=H2q;if(R7q){console.log("All Time High:" + M2q.DT);}}if(H2q < 3 || M2q.High >= r2q[H2q - 1].High && M2q.High >= r2q[H2q - 2].High && M2q.High >= r2q[H2q - 3].High){if(H2q - T7q >= h6q){T7q=H2q;for(var u6q="0" & 2147483647;u6q < h6q;u6q++){if(H2q - u6q < +"0")break;if(r2q[H2q - u6q].High > r2q[T7q].High){o2ss.H0H(2);T7q=o2ss.Z0H(u6q,H2q);}}if(R7q){console.log("All Time High:" + M2q.DT);}}}if(i7q.inputs["Volume Spike"] && H2q > h6q && H2q == T7q){if(M2q[K2q.ADV] * V6q < M2q.Volume){i7J="Volum";i7J+="e S";i7J+="p";i7J+="ike:";M2q[K2q.Spike]=1;if(R7q){console.log(i7J + M2q.DT);}}}M2q[K2q.ATH]=T7q;}};U2q.Studies.displayDarvas=function(Q6q,i6q,N6q){var D4O=o2ss;var P7J,m7J,Z6q,c6q,Y6q,P6q,T6q,C6q,A6q,I6q,b6q,v6q,l7J,m6q,q6q,D6q,j6q,t6q,a6q,L6q,O6q,S6q,o6q,J6q,d6q,s6q,F6q,X6q,R6q,e7J,M7J,l6q,D7J,j7J,X75,O75,F75,p6q;P7J="Stop";P7J+=" Lev";P7J+="e";P7J+="ls";m7J="au";m7J+="to";Z6q=U2q.Studies.determineColor(i6q.outputs.Levels);if(!Z6q || Z6q == "auto" || U2q.isTransparent(Z6q)){Z6q=Q6q.defaultColor;}c6q=U2q.Studies.determineColor(i6q.outputs.Darvas);if(!c6q || c6q == m7J || U2q.isTransparent(c6q)){c6q=Q6q.defaultColor;}Y6q=U2q.Studies.determineColor(i6q.outputs.Ghost);if(!Y6q || Y6q == "auto" || U2q.isTransparent(Y6q)){Y6q=Q6q.defaultColor;}P6q=Q6q.panels[i6q.panel];T6q=i6q.getContext(Q6q);v6q=Q6q.layout.candleWidth - 2;if(v6q < +"2"){v6q=1;}Q6q.startClip(i6q.panel);if(i6q.inputs[P7J]){if(T6q.setLineDash){T6q.setLineDash([2,+"2"]);}D4O.j0H(20);T6q.lineWidth=D4O.a0H("2",1);T6q.strokeStyle=Z6q;T6q.beginPath();for(C6q=0;C6q < N6q.length;C6q++){l7J="L";l7J+="o";l7J+="ss";l7J+=" ";A6q=N6q[C6q];D4O.H0H(69);m6q=N6q[D4O.a0H(C6q,0,"1")];if(!A6q)continue;b6q=A6q["Loss " + i6q.name]?Math.floor(Q6q.pixelFromPrice(A6q[l7J + i6q.name],P6q)):null;q6q=m6q && m6q["Loss " + i6q.name]?Math.floor(Q6q.pixelFromPrice(m6q["Loss " + i6q.name],P6q)):null;if(b6q){if(A6q.candleWidth){v6q=Math.floor(Math.max(1,A6q.candleWidth));}D6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) + v6q / +"2");j6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) - v6q / 2);if(q6q && q6q >= b6q){T6q.lineTo(j6q,b6q);}else if(C6q === 0){T6q.moveTo(Q6q.chart.left,b6q);}else {T6q.moveTo(j6q,b6q);}T6q.lineTo(D6q,b6q);}}T6q.stroke();if(T6q.setLineDash){T6q.setLineDash([]);}T6q.lineWidth=1;}t6q=-10;L6q=0;S6q=- +"10";J6q=0;s6q=!"1";F6q=! !0;X6q=T6q.measureText(2778 == 8270?(+"1510","9490" * 1) !== 405.24?800 < (6257,731.28)?243.99:826:! !"1":"\u25B2").width / 2;R6q=0;for(C6q=+"0";C6q < N6q.length;C6q++){e7J="Ghost";e7J+=" ";if(!N6q[C6q])continue;if(N6q[C6q].Close || N6q[C6q].Close === 0){R6q=C6q;}if(N6q[C6q]["Spike " + i6q.name]){M7J="b";M7J+="otto";M7J+="m";T6q.fillStyle=c6q;T6q.textBaseline=M7J;l6q=Q6q.pixelFromPrice(N6q[C6q].High,Q6q.chart.panel);T6q.fillText(5120 >= 2692?(283.27,4030) === (507,7370)?(242.81,2020) != ("4880" | 256,6000)?"Z":"K":"\u25BC":("d",4.80e+3),Q6q.pixelFromBar(C6q) - X6q,l6q - 5);;}if(N6q[C6q].candleWidth){v6q=Math.floor(Math.max(1,N6q[C6q].candleWidth));}if(N6q[C6q]["Darvas " + i6q.name]){A6q=N6q[C6q]["Darvas " + i6q.name];if(A6q.State == 1 && !s6q){t6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) - v6q / 2);a6q=Math.floor(Q6q.pixelFromPrice(A6q.High,P6q));O6q=Math.floor(Q6q.pixelFromPrice(A6q.Low,P6q)) - a6q;s6q=! !{};}else if(A6q.State === 0){L6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) + v6q / 2) - t6q;a6q=Math.floor(Q6q.pixelFromPrice(A6q.High,P6q));O6q=Math.floor(Q6q.pixelFromPrice(A6q.Low,P6q)) - a6q;T6q.strokeStyle=c6q;T6q.fillStyle=c6q;if(!i6q.inputs["Stop Levels"]){T6q.strokeRect(t6q,a6q,L6q,O6q);D4O.j0H(20);T6q.globalAlpha=D4O.Z0H("0.2",1);}else {T6q.globalAlpha=0.3;}T6q.fillRect(t6q,a6q,L6q,O6q);T6q.globalAlpha=1;s6q=!"1";}}if(N6q[C6q][e7J + i6q.name] && i6q.inputs["Ghost Boxes"]){D7J="G";D7J+="h";D7J+="o";D7J+="st ";A6q=N6q[C6q][D7J + i6q.name];if(A6q.State == 1 && !F6q){S6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) - v6q / 2);o6q=Math.floor(Q6q.pixelFromPrice(A6q.High,P6q));J6q=Math.floor((A6q.End - A6q.Start + 1) * Q6q.layout.candleWidth + v6q / 2);d6q=Math.floor(Q6q.pixelFromPrice(A6q.Low,P6q)) - o6q;F6q=! !1;}else if(A6q.State === 0){if(A6q.Start == A6q.End){S6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) - v6q / 2);}J6q=Math.floor(Q6q.pixelFromBar(C6q,P6q.chart) + v6q / 2) - S6q;o6q=Math.floor(Q6q.pixelFromPrice(A6q.High,P6q));d6q=Math.floor(Q6q.pixelFromPrice(A6q.Low,P6q)) - o6q;T6q.strokeStyle=Y6q;T6q.fillStyle=Y6q;if(!i6q.inputs["Stop Levels"]){T6q.strokeRect(S6q,o6q,J6q,d6q);T6q.globalAlpha=0.2;}else {T6q.globalAlpha=0.3;}T6q.fillRect(S6q,o6q,J6q,d6q);T6q.globalAlpha=1;F6q=![];}}}if(s6q){j7J="Stop L";j7J+="eve";j7J+="ls";L6q=Math.floor(Q6q.pixelFromBar(R6q,P6q.chart) + v6q / +"2") - t6q;T6q.strokeStyle=c6q;T6q.fillStyle=c6q;if(!i6q.inputs[j7J]){X75=-1726190726;O75=-1358179408;F75=+"2";for(var A75=+"1";D4O.U35(A75.toString(),A75.toString().length,47181) !== X75;A75++){T6q.beginPath();F75+=2;}if(D4O.U35(F75.toString(),F75.toString().length,"11919" ^ 0) !== O75){T6q.beginPath();}T6q.beginPath();D4O.j0H(47);T6q.moveTo(D4O.Z0H(t6q,L6q,2),a6q);T6q.lineTo(t6q,a6q);D4O.j0H(0);T6q.lineTo(t6q,D4O.a0H(O6q,a6q));D4O.H0H(47);T6q.lineTo(D4O.a0H(t6q,L6q,2),D4O.a0H(O6q,a6q,D4O.H0H(0)));T6q.stroke();T6q.globalAlpha=0.2;}else {T6q.globalAlpha=0.3;}D4O.j0H(20);T6q.fillRect(t6q,a6q,D4O.a0H(2,L6q),O6q);T6q.globalAlpha=1;}if(F6q){T6q.strokeStyle=Y6q;T6q.fillStyle=Y6q;if(!i6q.inputs["Stop Levels"]){T6q.strokeRect(S6q,o6q,J6q,d6q);T6q.globalAlpha=0.2;}else {T6q.globalAlpha=0.3;}T6q.fillRect(S6q,o6q,J6q,d6q);T6q.globalAlpha=1;}if(s6q || F6q){if(i6q.inputs["Stop Levels"]){if(T6q.setLineDash){D4O.H0H(5);T6q.setLineDash([D4O.a0H(0,"2"),2]);}T6q.lineWidth=2;T6q.strokeStyle=Z6q;p6q=Math.floor(Q6q.pixelFromBar(R6q - 1,P6q.chart) + v6q / 2);if(I6q){T6q.beginPath();T6q.moveTo(p6q,I6q);T6q.lineTo(s6q?t6q + 2 * L6q:S6q + J6q,I6q);T6q.stroke();}if(b6q){T6q.beginPath();T6q.moveTo(p6q,b6q);T6q.lineTo(s6q?t6q + 2 * L6q:S6q + J6q,b6q);T6q.stroke();}if(T6q.setLineDash){T6q.setLineDash([]);}T6q.lineWidth=1;}s6q=!{};F6q=! !0;}Q6q.endClip();};U2q.Studies.studyLibrary=U2q.extend(U2q.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!"",calculateFN:U2q.Studies.calculateDarvas,seriesFN:U2q.Studies.displayDarvas,inputs:{"ATH Lookback Period":+"100","Exit Field":[W7J,I7J],"Ghost Boxes":! !{},"Stop Levels":!1,"Level Offset":0.01,"Price Minimum":5,"Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:"0.01" * 1},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};B0Q=E6q=>{var B6q,v7J;B6q=typeof _CIQ !== "undefined"?_CIQ:E6q.CIQ;o2ss.p2O();if(!B6q.Studies){console.error("detrended feature requires first activating studies feature.");}else {v7J="m";v7J+="a";B6q.Studies.calculateDetrendedPrice=function(W6q,U6q){var y7J,r6q,M6q,k6q,d7J,e6q,K6q;y7J="C";o2ss.p2O();y7J+="l";y7J+="ose";r6q=U6q.chart.scrubbed;if(r6q.length < U6q.days + 1){U6q.error=! !"1";return;}M6q=U6q.inputs.Field;if(!M6q || M6q == "field"){M6q=y7J;}k6q=Math.floor(U6q.days / 2 + ("1" ^ 0));B6q.Studies.MA(U6q.inputs["Moving Average Type"],U6q.days,M6q,-k6q,"MA",W6q,U6q);for(var H6q=Math.max(U6q.days - k6q - 1,U6q.startFrom - k6q);H6q < r6q.length - k6q;H6q++){d7J="Res";d7J+="ult";d7J+=" ";e6q=r6q[H6q][M6q];if(e6q && typeof e6q == "object"){e6q=e6q[U6q.subField];}K6q=r6q[H6q]["MA " + U6q.name];if((e6q || e6q === ("0" ^ 0)) && (K6q || K6q === 0)){o2ss.H0H(2);r6q[H6q][d7J + U6q.name]=o2ss.Z0H(K6q,e6q);}}};B6q.Studies.studyLibrary=B6q.extend(B6q.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:B6q.Studies.calculateDetrendedPrice,inputs:{Period:+"14",Field:"field","Moving Average Type":v7J}}});}};g0Q=h4q=>{var s3O=o2ss;var f4q,u15,t15,G15,C7J;f4q=typeof _CIQ !== "undefined"?_CIQ:h4q.CIQ;if(!f4q.Studies){console.error("disparity feature requires first activating studies feature.");}else {f4q.Studies.calculateDisparity=function(A4q,G4q){var V7J,V4q,Q4q,p7J,C4q;V7J="Moving Average ";V7J+="Type";V4q=G4q.chart.scrubbed;if(V4q.length < G4q.days + 1){G4q.error=!0;return;}Q4q=G4q.inputs.Field;s3O.U2O();if(!Q4q || Q4q == "field"){Q4q="Close";}f4q.Studies.MA(G4q.inputs[V7J],G4q.days,Q4q,0,"_MA",A4q,G4q);for(var y4q=Math.max(G4q.startFrom,G4q.days - 1);y4q < V4q.length;y4q++){p7J="Res";p7J+="ul";p7J+="t ";if(!V4q[y4q])continue;C4q=V4q[y4q]["_MA " + G4q.name];if(C4q){V4q[y4q][p7J + G4q.name]=100 * (V4q[y4q][Q4q] / C4q - 1);}}};u15=-1897987474;s3O.j0H(5);t15=s3O.a0H(0,"1617393776");G15=2;for(var a15=1;s3O.U35(a15.toString(),a15.toString().length,49722) !== u15;a15++){f4q.Studies.studyLibrary=f4q.extend(f4q.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:f4q.Studies.calculateDisparity,inputs:{Period:37,Field:"Disparity Index","Moving Average Type":"ma"}}});G15+=+"2";}if(s3O.J35(G15.toString(),G15.toString().length,86708) !== t15){C7J="fi";C7J+="e";C7J+="ld";f4q.Studies.studyLibrary=f4q.extend(f4q.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:f4q.Studies.calculateDisparity,inputs:{Period:14,Field:C7J,"Moving Average Type":"ma"}}});}}};E0Q=P4q=>{var i4q;i4q=typeof _CIQ !== "undefined"?_CIQ:P4q.CIQ;if(!i4q.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {i4q.Studies.calculateEaseOfMovement=function(s4q,t4q){var B4O=o2ss;var T7J,k7J,N4q,o7J,b4q,L4q,S4q,Y4q,c4q;T7J="Re";T7J+="sult";k7J="_";k7J+="EOM1 ";N4q=t4q.chart.scrubbed;if(N4q.length < t4q.days){t4q.error=! !"1";return;}B4O.p2O();for(var v4q=Math.max(+"1",t4q.startFrom);v4q < N4q.length;v4q++){o7J="_E";o7J+="O";o7J+="M";o7J+="1 ";b4q=(N4q[v4q].High + N4q[v4q].Low) / 2;L4q=(N4q[v4q - 1].High + N4q[v4q - ("1" | 0)].Low) / 2;B4O.j0H(2);S4q=B4O.a0H(L4q,b4q);Y4q=N4q[v4q].Volume / 100000000 / (N4q[v4q].High - N4q[v4q].Low);B4O.H0H(4);c4q=B4O.Z0H(Y4q,S4q);if(!isFinite(c4q)){N4q[v4q]["_EOM1 " + t4q.name]=NaN;}else {N4q[v4q][o7J + t4q.name]=c4q;}}i4q.Studies.MA(t4q.inputs["Moving Average Type"],t4q.days,k7J + t4q.name,0,T7J,s4q,t4q);};i4q.Studies.studyLibrary=i4q.extend(i4q.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:i4q.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};U0Q=Z4q=>{var o4q,Y7J;o4q=typeof _CIQ !== "undefined"?_CIQ:Z4q.CIQ;if(!o4q.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {Y7J="#F";Y7J+="F";Y7J+="0000";o4q.Studies.calculateEhlerFisher=function(p4q,O4q){var d4q,F4q,w7J,R4q,w4q,I4q;d4q=O4q.chart.scrubbed;if(d4q.length < O4q.days + 1){O4q.error=! !{};return;}F4q=0;o2ss.U2O();function j4q(e4q,U4q){var l4q,B4q,g4q;l4q=Number.MAX_VALUE;B4q=Number.MAX_VALUE * -1;o2ss.U2O();for(var X4q=U4q - e4q + 1;X4q <= U4q;X4q++){g4q=(d4q[X4q].High + d4q[X4q].Low) / 2;l4q=Math.min(l4q,g4q);B4q=Math.max(B4q,g4q);}return [l4q,B4q];}if(O4q.startFrom > 1){F4q=d4q[O4q.startFrom - 1]["_n " + O4q.name];}for(var m4q=O4q.startFrom;m4q < d4q.length;m4q++){w7J="_";w7J+="n";w7J+=" ";R4q=d4q[m4q];if(R4q.futureTick)break;if(m4q < O4q.days - 1){R4q["EF " + O4q.name]=R4q["EF Trigger " + O4q.name]=F4q;continue;}w4q=j4q(O4q.days,m4q);F4q=0.33 * 2 * (((d4q[m4q].High + d4q[m4q].Low) / 2 - w4q[0]) / Math.max(0.000001,w4q[1] - w4q[0]) - 0.5) + 0.67 * F4q;if(F4q > 0){F4q=Math.min(F4q,+"0.9999");}else if(F4q < 0){F4q=Math.max(F4q,-0.9999);}I4q=m4q?d4q[m4q - 1]["EF " + O4q.name]:0;R4q["EF " + O4q.name]=0.5 * Math.log((1 + F4q) / (("1" | 1) - F4q)) + 0.5 * I4q;R4q["EF Trigger " + O4q.name]=I4q;R4q[w7J + O4q.name]=F4q;}};o4q.Studies.studyLibrary=o4q.extend(o4q.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:o4q.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":Y7J}}});}};e0Q=H4q=>{var r4q,S7J,n6J,c6J,Q6J;r4q=typeof _CIQ !== "undefined"?_CIQ:H4q.CIQ;if(!r4q.Studies){S7J="e";S7J+="lder feature requires first activating studies feature.";console.error(S7J);}else {n6J="#DD3E";n6J+="39";c6J="#";c6J+="F";c6J+="F00";c6J+="00";Q6J="Eld";Q6J+="er Ray In";Q6J+="d";Q6J+="ex";r4q.Studies.calculateElderImpulse=function(h1g,k4q){var Z7J,f7J,W4q,x1g,G1g,u1g,f1g,B7J,E7J,N7J;Z7J="_";Z7J+="MA";f7J="Clo";f7J+="se";W4q=k4q.chart.scrubbed;x1g=k4q.outputs.Bullish;G1g=k4q.outputs.Bearish;u1g=k4q.outputs.Neutral;r4q.Studies.MA("exponential",13,f7J,0,Z7J,h1g,k4q);k4q.macd=new r4q.Studies.StudyDescriptor((593.41 != (1670,4911)?"_":(2237,395.87) == 564.28?651.66:599 > (8520,4940)?"159" & 2147483647:(9.91e+3,414.87)) + k4q.name,"macd",k4q.panel);k4q.macd.chart=k4q.chart;k4q.macd.days=k4q.days;k4q.macd.startFrom=k4q.startFrom;k4q.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" & 2147483647};k4q.macd.outputs={_MACD:null,_Signal:null};r4q.Studies.calculateMACD(h1g,k4q.macd);for(var K4q=k4q.startFrom;K4q < W4q.length;K4q++){B7J="_h";B7J+="i";B7J+="s";B7J+="t";E7J="_";E7J+="M";E7J+="A";E7J+=" ";N7J="_h";N7J+="i";N7J+="st";if(K4q === 0){f1g=u1g;}else if(W4q[K4q]["_MA " + k4q.name] > W4q[K4q - +"1"]["_MA " + k4q.name] && W4q[K4q][((1183,7330) == (6944,52.27)?0x162b:(7560,408.97) != 44?"_":8237 == (7460,330.98)?!"":(!1,!1)) + k4q.name + "_hist"] > W4q[K4q - 1][((3110,+"2717") > 268?+"7650" <= (7419,707.22)?"5.74e+3" >> 2045345696:3812 !== (6770,9140)?"_":![]:"d") + k4q.name + N7J]){f1g=x1g;}else if(W4q[K4q]["_MA " + k4q.name] < W4q[K4q - 1][E7J + k4q.name] && W4q[K4q][((8916,+"467.38") < 775?(9490,3170) >= 6846?0xb68:(+"920.2",2378) > 642.31?"_":0x1cea:"G") + k4q.name + B7J] < W4q[K4q - ("1" - 0)][((24.37,583.06) > 883.74?(5970,467.87) <= (4308,"3780" - 0)?9760 == (3540,889.45)?(4.12e+3,579.83):"J":(4.78e+3,380.19):"_") + k4q.name + "_hist"]){f1g=G1g;}else {f1g=u1g;}W4q[K4q]["Result " + k4q.name]=f1g;;}};r4q.Studies.calculateElderRay=function(z1g,V1g){var n1g,s6J;n1g=V1g.chart.scrubbed;if(n1g.length < V1g.days){V1g.error=! ![];return;}r4q.Studies.MA("exponential",V1g.days,"Close",0,"_EMA",z1g,V1g);for(var y1g=Math.max(V1g.startFrom,V1g.days - 1);y1g < n1g.length;y1g++){s6J="_hi";s6J+="st1";n1g[y1g][V1g.name + s6J]=n1g[y1g].High - n1g[y1g]["_EMA " + V1g.name];n1g[y1g][V1g.name + "_hist2"]=n1g[y1g].Low - n1g[y1g]["_EMA " + V1g.name];}V1g.outputMap={};V1g.outputMap[V1g.name + "_hist1"]="";V1g.outputMap[V1g.name + "_hist2"]="";};r4q.Studies.calculateElderForce=function(A1g,T1g){var t6J,u6J,Q1g;t6J="_EF";t6J+="1";t6J+=" ";u6J="exponent";u6J+="ial";Q1g=T1g.chart.scrubbed;if(Q1g.length < T1g.days){T1g.error=! !1;return;}for(var C1g=Math.max(1,T1g.startFrom);C1g < Q1g.length;C1g++){Q1g[C1g]["_EF1 " + T1g.name]=Q1g[C1g].Volume * (Q1g[C1g].Close - Q1g[C1g - 1].Close);}r4q.Studies.MA(u6J,T1g.days,t6J + T1g.name,0,"Result",A1g,T1g);};r4q.Studies.initElderImpulse=function(P1g,v1g,t1g,a1g,N1g,c1g){var i1g;o2ss.U2O();i1g=r4q.Studies.initializeFN(P1g,v1g,t1g,a1g,N1g,c1g);if(N1g.calculateOnly){return i1g;}P1g.chart.customChart={chartType:"colored_bar",colorFunction:function(S1g,L1g,Y1g){o2ss.p2O();var b1g;b1g=L1g["Result " + i1g.name];if(b1g && typeof b1g == "object"){b1g=b1g.color;}return b1g;}};P1g.setMainSeriesRenderer();return i1g;};r4q.Studies.displayElderForce=function(s1g,J1g,d1g){var Z1g,O1g,F1g,o1g;r4q.Studies.displaySeriesAsLine(s1g,J1g,d1g);Z1g=r4q.Studies.determineColor(J1g.outputs.Result);O1g=s1g.panels[J1g.panel];F1g=J1g.getYAxis(s1g);o1g={skipTransform:O1g.name != J1g.chart.name,panelName:J1g.panel,band:"Result " + J1g.name,threshold:"0" - 0,color:Z1g,yAxis:F1g};if(!J1g.highlight && s1g.highlightedDraggable){o1g.opacity=0.3;}o1g.direction=1;r4q.preparePeakValleyFill(s1g,o1g);o1g.direction=-1;r4q.preparePeakValleyFill(s1g,o1g);};r4q.Studies.displayElderRay=function(R1g,m1g,B1g){var p1g,q1g,X1g,l1g,j1g,g1g,a6J,K6J,G6J,w1g;p1g=R1g.panels[m1g.panel];q1g=m1g.getContext(R1g);X1g=m1g.getYAxis(R1g);l1g=R1g.pixelFromPrice(0,p1g,X1g);function D1g(U1g,E1g,e1g,r1g){q1g.fillStyle=r4q.Studies.determineColor(m1g.outputs[e1g]);q1g.fillRect(Math.floor(R1g.pixelFromBar(U1g,p1g.chart) - j1g / 2 + j1g * E1g),Math.floor(l1g),Math.floor(j1g * (("1" << 697602976) - 2 * E1g)),Math.floor(R1g.pixelFromPrice(w1g[m1g.name + r1g],p1g,X1g) - l1g));}j1g=R1g.layout.candleWidth - +"2";if(j1g < 2){j1g=1;}R1g.canvasColor("stx_histogram");g1g=q1g.fillStyle;if(!m1g.underlay){q1g.globalAlpha=1;}R1g.startClip(m1g.panel);if(!m1g.highlight && R1g.highlightedDraggable){q1g.globalAlpha*=0.3;}for(var I1g="0" * 1;I1g < B1g.length;I1g++){a6J="_h";a6J+="i";a6J+="st";a6J+="2";K6J="_hi";K6J+="s";K6J+="t";K6J+="2";G6J="_h";G6J+="i";G6J+="st";G6J+="1";w1g=B1g[I1g];if(!w1g)continue;if(w1g.candleWidth){j1g=Math.floor(Math.max(1,w1g.candleWidth - 2));}if(w1g[m1g.name + "_hist1"] > 0){D1g(I1g,0,"Elder Bull Power",G6J);}if(w1g[m1g.name + "_hist2"] < 0){D1g(I1g,0,"Elder Bear Power",K6J);}if(w1g[m1g.name + "_hist1"] < 0){D1g(I1g,0.1,"Elder Bull Power","_hist1");}if(w1g[m1g.name + "_hist2"] > 0){D1g(I1g,0.1,"Elder Bear Power",a6J);}}R1g.endClip();q1g.fillStyle=g1g;};r4q.Studies.studyLibrary=r4q.extend(r4q.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:r4q.Studies.calculateElderForce,seriesFN:r4q.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:Q6J,seriesFN:r4q.Studies.displayElderRay,calculateFN:r4q.Studies.calculateElderRay,centerline:"0" ^ 0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":c6J}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:r4q.Studies.calculateElderImpulse,initializeFN:r4q.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:!0,inputs:{},outputs:{Bullish:"#8BC176",Bearish:n6J,Neutral:"#5F7CB8"},removeFN:function(M1g,H1g){M1g.chart.customChart=null;M1g.setMainSeriesRenderer();}}});}};r0Q=K1g=>{var k1g,g6J,F6J,O6J;k1g=typeof _CIQ !== "undefined"?_CIQ:K1g.CIQ;o2ss.p2O();if(!k1g.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {g6J="au";g6J+="to";F6J="a";F6J+="u";F6J+="t";F6J+="o";O6J="Fr";O6J+="actal";O6J+=" Chaos Oscillator";k1g.Studies.calculateFractalChaos=function(z2g,h2g){var x6J,f2g,G2g,V2g,x2g,X6J,n2g,y2g,u2g;x6J="Fra";x6J+="ct";x6J+="al Ch";x6J+="aos Bands";f2g=h2g.chart.scrubbed;G2g=0;V2g=0;o2ss.j0H(20);x2g=o2ss.a0H("0",1);if(h2g.startFrom && h2g.type == x6J){X6J="Fr";X6J+="actal High ";G2g=f2g[h2g.startFrom - 1][X6J + h2g.name];V2g=f2g[h2g.startFrom - 1]["Fractal Low " + h2g.name];}for(var W1g=Math.max(4,h2g.startFrom);W1g < f2g.length;W1g++){if(f2g[W1g].futureTick)break;n2g=!isNaN(f2g[W1g].High);y2g=!isNaN(f2g[W1g].Low);if(n2g || y2g){f2g[W1g]["Result " + h2g.name]=0;}x2g=0;for(u2g="0" - 0;u2g <= W1g;u2g++){if(!f2g[W1g - u2g])break;if(f2g[W1g - u2g].High > f2g[W1g - 2].High)break;if(u2g < 2 && f2g[W1g - u2g].High == f2g[W1g - 2].High)break;if(f2g[W1g - u2g].High < f2g[W1g - +"2"].High){x2g++;}if(x2g == 4){G2g=f2g[W1g - 2].High;break;}}if(h2g.type == "Fractal Chaos Bands"){if(n2g){f2g[W1g]["Fractal High " + h2g.name]=G2g > 0?G2g:null;}}else if(x2g == 4){f2g[W1g]["Result " + h2g.name]=1;}x2g=0;for(u2g=0;u2g <= W1g;u2g++){if(!f2g[W1g - u2g])break;if(f2g[W1g - u2g].Low < f2g[W1g - 2].Low)break;if(u2g < 2 && f2g[W1g - u2g].Low == f2g[W1g - 2].Low)break;if(f2g[W1g - u2g].Low > f2g[W1g - ("2" ^ 0)].Low){x2g++;}if(x2g == 4){V2g=f2g[W1g - 2].Low;break;}}if(h2g.type == "Fractal Chaos Bands"){if(y2g){f2g[W1g]["Fractal Low " + h2g.name]=V2g > +"0"?V2g:null;}}else if(x2g == 4){f2g[W1g]["Result " + h2g.name]=-1;}}};k1g.Studies.studyLibrary=k1g.extend(k1g.Studies.studyLibrary,{"Fractal Chaos":{name:O6J,range:"-1 to 1",calculateFN:k1g.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !1,calculateFN:k1g.Studies.calculateFractalChaos,seriesFN:k1g.Studies.displayChannel,inputs:{"Channel Fill":!""},outputs:{"Fractal High":"auto","Fractal Low":F6J,"Fractal Channel":g6J}}});}};M0Q=Q2g=>{var T2g,A6J,h6J,R6J,H6J,q6J;o2ss.U2O();T2g=typeof _CIQ !== "undefined"?_CIQ:Q2g.CIQ;if(!T2g.Studies){A6J="highLowStudies feature r";A6J+="equires";A6J+=" first activating studies fe";A6J+="ature.";console.error(A6J);}else {h6J="a";h6J+="u";h6J+="to";R6J="Lo";R6J+="west Low Va";R6J+="lue";H6J="Donchia";H6J+="n Wid";H6J+="t";H6J+="h";q6J="Do";q6J+="nchian Channel";T2g.Studies.calculateMaxHighMinLow=function(b2g,C2g){var d4O=o2ss;var L6J,A2g,c2g,a2g,v2g,N2g,P2g,U6J,J6J,t2g,b6J,r6J,z6J;L6J="Lo";L6J+="w Peri";L6J+="o";L6J+="d";A2g=C2g.chart.scrubbed;c2g=C2g.days;a2g=C2g.days;if(C2g.inputs["High Period"]){c2g=C2g.inputs["High Period"];}if(C2g.inputs["Low Period"]){a2g=C2g.inputs[L6J];}if(A2g.length < Math.max(c2g,a2g) + ("1" ^ 0)){C2g.error=! !1;return;}v2g=Number.MAX_VALUE;N2g=Number.MAX_VALUE * -1;if(C2g.startFrom > 1){for(P2g=1;P2g < c2g;P2g++){if(C2g.startFrom - P2g >= +"0"){N2g=Math.max(N2g,A2g[C2g.startFrom - P2g].High);}}for(P2g=1;P2g < a2g;P2g++){if(C2g.startFrom - P2g >= +"0"){v2g=Math.min(v2g,A2g[C2g.startFrom - P2g].Low);}}}for(var i2g=Math.max(0,C2g.startFrom - +"1");i2g < A2g.length;i2g++){U6J="G";U6J+="opala";J6J="L";J6J+="L";J6J+="V";N2g=Math.max(N2g,A2g[i2g].High);v2g=Math.min(v2g,A2g[i2g].Low);if(i2g >= c2g){if(A2g[i2g - c2g].High == N2g){N2g=A2g[i2g].High;for(P2g=1;P2g < c2g;P2g++){N2g=Math.max(N2g,A2g[i2g - P2g].High);}}}if(i2g >= a2g){if(A2g[i2g - a2g].Low == v2g){v2g=A2g[i2g].Low;for(P2g=1;P2g < a2g;P2g++){v2g=Math.min(v2g,A2g[i2g - P2g].Low);}}}t2g=0;if(C2g.type == "HHV"){t2g=N2g;}else if(C2g.type == J6J){t2g=v2g;}else if(C2g.type == "Donchian Width"){d4O.j0H(2);t2g=d4O.Z0H(v2g,N2g);}else if(C2g.type == "GAPO" || C2g.type == U6J){t2g=Math.log(N2g - v2g) / Math.log(a2g);}else if(C2g.type == "VT HZ Filter"){d4O.H0H(2);t2g=d4O.a0H(v2g,N2g);A2g[i2g]["_MHML " + C2g.name]=t2g;continue;}else if(C2g.type == "Williams %R"){t2g=-("100" >> 160973888) * (N2g - A2g[i2g].Close) / (N2g - v2g);A2g[i2g]["Result " + C2g.name]=t2g;continue;}if(i2g == A2g.length - 1)break;if(!A2g[i2g + 1].futureTick){if(C2g.type == "Donchian Channel"){b6J="Do";b6J+="nchia";b6J+="n Median";b6J+=" ";r6J="Don";r6J+="chian Lo";r6J+="w ";z6J="Do";z6J+="nc";z6J+="h";z6J+="ian High ";d4O.j0H(0);A2g[d4O.Z0H(1,i2g)][z6J + C2g.name]=N2g;d4O.j0H(0);A2g[d4O.Z0H(1,i2g)][r6J + C2g.name]=v2g;d4O.j0H(0);A2g[d4O.a0H(1,i2g)][b6J + C2g.name]=d4O.Z0H(v2g,N2g,2,d4O.j0H(6));}else {d4O.H0H(70);A2g[d4O.Z0H("1",0,i2g)]["Result " + C2g.name]=t2g;}}}};T2g.Studies.calculateVerticalHorizontalFilter=function(Z2g,L2g){o2ss.p2O();var S2g,J2g,s2g,o2g;S2g=L2g.chart.scrubbed;if(S2g.length < L2g.days + ("1" - 0)){L2g.error=! !1;return;}L2g.mhml=new T2g.Studies.StudyDescriptor(L2g.name,L2g.type,L2g.panel);L2g.mhml.chart=L2g.chart;L2g.mhml.days=L2g.days;L2g.mhml.startFrom=L2g.startFrom;L2g.mhml.inputs={};L2g.mhml.outputs={_MHML:null};T2g.Studies.calculateMaxHighMinLow(Z2g,L2g.mhml);J2g=0;s2g=[];for(var Y2g=Math.max(+"1",L2g.startFrom - L2g.days);Y2g < S2g.length;Y2g++){o2g=Math.abs(S2g[Y2g].Close - S2g[Y2g - 1].Close);s2g.push(o2g);J2g+=o2g;if(s2g.length == L2g.days){S2g[Y2g]["Result " + L2g.name]=S2g[Y2g]["_MHML " + L2g.name] / J2g;J2g-=s2g.shift();}}};T2g.Studies.studyLibrary=T2g.extend(T2g.Studies.studyLibrary,{"Donchian Channel":{name:q6J,overlay:! ![],calculateFN:T2g.Studies.calculateMaxHighMinLow,seriesFN:T2g.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !1},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:H6J,calculateFN:T2g.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:T2g.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:T2g.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:R6J,calculateFN:T2g.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:T2g.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:- +"20",studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:h6J}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:T2g.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(m2g,d2g){o2ss.U2O();var F2g;F2g=d2g.chart.scrubbed;for(var O2g=d2g.startFrom;O2g < F2g.length;O2g++){F2g[O2g]["Result " + d2g.name]=F2g[O2g].High - F2g[O2g].Low;}},inputs:{}}});}};H0Q=w2g=>{o2ss.p2O();var R2g,e6J;R2g=typeof _CIQ !== "undefined"?_CIQ:w2g.CIQ;if(!R2g.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {e6J="#00";e6J+="FF";e6J+="0";e6J+="0";R2g.Studies.calculateIchimoku=function(U2g,q2g){var i6J,j2g,p2g,I2g,D2g,m6J,B2g,P6J,g2g,E2g,l6J,X2g;i6J="Base Line";i6J+=" Period";j2g=q2g.chart.scrubbed;p2g={Base:Number(q2g.inputs[i6J]),Conv:Number(q2g.inputs["Conversion Line Period"]),LeadB:Number(q2g.inputs["Leading Span B Period"]),Lag:Number(q2g.inputs["Lagging Span Period"])};for(I2g=q2g.startFrom;I2g < j2g.length;I2g++){m6J="L";m6J+="agging";m6J+=" Spa";m6J+="n ";if(!j2g[I2g])continue;D2g=l2g(p2g.Conv,I2g);j2g[I2g]["Conversion Line " + q2g.name]=(D2g["1" << 968204544] + D2g[+"0"]) / 2;D2g=l2g(p2g.Base,I2g);j2g[I2g]["Base Line " + q2g.name]=(D2g[1] + D2g[0]) / 2;if(I2g < p2g.Lag)continue;j2g[I2g - p2g.Lag][m6J + q2g.name]=j2g[I2g].Close;}function l2g(k2g,H2g){var r2g,M2g;r2g=Number.MAX_VALUE;M2g=Number.MAX_VALUE * -1;for(var e2g=H2g - k2g + ("1" & 2147483647);e2g <= H2g;e2g++){if(e2g < 0)continue;r2g=Math.min(r2g,j2g[e2g].Low);M2g=Math.max(M2g,j2g[e2g].High);}return [r2g,M2g];}B2g=[];for(I2g=Math.max(0,q2g.startFrom - p2g.Base);I2g < j2g.length;I2g++){P6J="Conversion Li";P6J+="ne";P6J+=" ";D2g=l2g(p2g.LeadB,I2g);g2g=(j2g[I2g][P6J + q2g.name] + j2g[I2g]["Base Line " + q2g.name]) / 2;E2g=(D2g["1" << 1008559168] + D2g[0]) / 2;if(j2g[I2g + p2g.Base]){j2g[I2g + p2g.Base]["Leading Span A " + q2g.name]=g2g;j2g[I2g + p2g.Base]["Leading Span B " + q2g.name]=E2g;}else {l6J="L";l6J+="eading Span B ";X2g={};X2g["Leading Span A " + q2g.name]=g2g;X2g[l6J + q2g.name]=E2g;B2g.push(X2g);}}q2g.appendFutureTicks(U2g,B2g);};R2g.Studies.displayIchimoku=function(W2g,K2g,y3g){var M6J,f3g,u3g,G3g,V3g,n3g,h3g,x3g;M6J="Leading Spa";M6J+="n";M6J+=" B";M6J+=" ";f3g="Leading Span A " + K2g.name;u3g=M6J + K2g.name;G3g=R2g.Studies.determineColor(K2g.outputs[K2g.outputMap[f3g]]);V3g=R2g.Studies.determineColor(K2g.outputs[K2g.outputMap[u3g]]);n3g=W2g.panels[K2g.panel];h3g=K2g.getYAxis(W2g);x3g={topBand:f3g,bottomBand:u3g,topColor:G3g,bottomColor:V3g,skipTransform:n3g.name != K2g.chart.name,topAxis:h3g,bottomAxis:h3g,opacity:0.3};if(!K2g.highlight && W2g.highlightedDraggable){x3g.opacity*=0.3;}R2g.fillIntersecting(W2g,K2g.panel,x3g);R2g.Studies.displaySeriesAsLine(W2g,K2g,y3g);};R2g.Studies.studyLibrary=R2g.extend(R2g.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!"",calculateFN:R2g.Studies.calculateIchimoku,seriesFN:R2g.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":"26" | 26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":e6J,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};k0Q=T3g=>{var z3g,D6J;z3g=typeof _CIQ !== "undefined"?_CIQ:T3g.CIQ;if(!z3g.Studies){D6J="intradayMomentum feature requires first act";D6J+="ivating studies feature.";console.error(D6J);}else {z3g.Studies.calculateIntradayMomentum=function(a3g,Q3g){var C3g,N3g,i3g,P3g,j6J,W6J,v3g,t3g;o2ss.p2O();C3g=Q3g.chart.scrubbed;N3g=Q3g.days;if(C3g.length < N3g + 1){Q3g.error=!0;return;}i3g=0;P3g=0;if(Q3g.startFrom > ("1" | 1)){j6J="_to";j6J+="tU";j6J+="p ";i3g=C3g[Q3g.startFrom - "1" * 1][j6J + Q3g.name];P3g=C3g[Q3g.startFrom - +"1"]["_totDn " + Q3g.name];}for(var A3g=Q3g.startFrom;A3g < C3g.length;A3g++){W6J="Resul";W6J+="t ";v3g=C3g[A3g].Close - C3g[A3g].Open;if(v3g > ("0" | 0)){i3g+=v3g;}else {P3g-=v3g;}if(A3g >= N3g){t3g=C3g[A3g - N3g].Close - C3g[A3g - N3g].Open;if(t3g > +"0"){i3g-=t3g;}else {P3g+=t3g;}}o2ss.j0H(71);C3g[A3g][W6J + Q3g.name]=o2ss.a0H(P3g,100,i3g,i3g);C3g[A3g]["_totUp " + Q3g.name]=i3g;C3g[A3g]["_totDn " + Q3g.name]=P3g;}};z3g.Studies.studyLibrary=z3g.extend(z3g.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:z3g.Studies.calculateIntradayMomentum,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};K0Q=b3g=>{var c3g,I6J,v6J;o2ss.p2O();c3g=typeof _CIQ !== "undefined"?_CIQ:b3g.CIQ;if(!c3g.Studies){I6J="keltner feature requires f";I6J+="irst activatin";I6J+="g s";I6J+="tudies feature.";console.error(I6J);}else {v6J="a";v6J+="u";v6J+="t";v6J+="o";c3g.Studies.calculateKeltner=function(S3g,L3g){var d6J,y6J;d6J="M";d6J+="A";y6J="C";y6J+="lose";c3g.Studies.MA(L3g.inputs["Moving Average Type"],L3g.days,y6J,0,d6J,S3g,L3g);c3g.Studies.calculateStudyATR(S3g,L3g);c3g.Studies.calculateGenericEnvelope(S3g,L3g,L3g.inputs.Shift,"MA " + L3g.name,"ATR " + L3g.name);};c3g.Studies.studyLibrary=c3g.extend(c3g.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!"",seriesFN:c3g.Studies.displayChannel,calculateFN:c3g.Studies.calculateKeltner,inputs:{Period:+"50",Shift:5,"Moving Average Type":"ema","Channel Fill":! ![]},outputs:{"Keltner Top":"auto","Keltner Median":v6J,"Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};W0Q=J3g=>{var Y3g,Y6J;Y3g=typeof _CIQ !== "undefined"?_CIQ:J3g.CIQ;o2ss.U2O();if(!Y3g.Studies){console.error("klinger feature requires first activating studies feature.");}else {Y6J="#FF";Y6J+="0";Y6J+="000";Y3g.Studies.calculateKlinger=function(R3g,o3g){var S4O=o2ss;var w6J,k6J,o6J,C6J,p6J,V6J,Z3g,w3g,O3g,I3g,F3g,p3g,d3g,q3g,j3g,s3g,T6J,m3g;w6J="ex";w6J+="ponen";w6J+="tial";k6J="_";k6J+="E";k6J+="M";k6J+="A-L ";o6J="_";o6J+="EMA";o6J+="-S ";C6J="_";C6J+="SV";C6J+=" ";p6J="_h";p6J+="is";p6J+="t";V6J="L";V6J+="on";V6J+="g C";V6J+="ycle";Z3g=o3g.chart.scrubbed;w3g=Number(o3g.inputs["Short Cycle"]);O3g=Number(o3g.inputs[V6J]);if(Z3g.length < Math.max(w3g,O3g) + 1){o3g.error=! !{};return;}I3g=o3g.name + p6J;F3g="Klinger " + o3g.name;p3g="KlingerSignal " + o3g.name;d3g=C6J + o3g.name;q3g=o6J + o3g.name;j3g=k6J + o3g.name;for(s3g=Math.max(1,o3g.startFrom);s3g < Z3g.length;s3g++){T6J="h";T6J+="l";T6J+="c/";T6J+="3";m3g=Z3g[s3g].Volume;if(Z3g[s3g][T6J] < Z3g[s3g - 1]["hlc/3"]){S4O.H0H(17);m3g*=-S4O.a0H("1",909525024);}if(m3g){Z3g[s3g][d3g]=m3g;}}S4O.j0H(14);Y3g.Studies.MA("exponential",w3g,d3g,S4O.a0H(2147483647,"0"),"_EMA-S",R3g,o3g);Y3g.Studies.MA("exponential",O3g,d3g,+"0","_EMA-L",R3g,o3g);for(s3g=Math.max(O3g,o3g.startFrom);s3g < Z3g.length;s3g++){if(Z3g[s3g].futureTick || Z3g[s3g][q3g] === null || Z3g[s3g][j3g] === null)break;Z3g[s3g][F3g]=Z3g[s3g][q3g] - Z3g[s3g][j3g];}Y3g.Studies.MA(w6J,Number(o3g.inputs["Signal Periods"]),F3g,0,"KlingerSignal",R3g,o3g);for(s3g=o3g.startFrom;s3g < Z3g.length;s3g++){Z3g[s3g][I3g]=Z3g[s3g][F3g] - Z3g[s3g][p3g];}o3g.outputMap[I3g]="";};Y3g.Studies.studyLibrary=Y3g.extend(Y3g.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:Y3g.Studies.displayHistogramWithSeries,calculateFN:Y3g.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:Y6J,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};f4Q=X3g=>{var S6J,D3g,f6J,s5J,B6J,E6J,Z6J;S6J="u";S6J+="nde";S6J+="fine";S6J+="d";D3g=typeof _CIQ !== S6J?_CIQ:X3g.CIQ;if(!D3g.Studies){f6J="linearRegression feature requires fir";f6J+="st activating studies fea";f6J+="ture.";console.error(f6J);}else {s5J="a";s5J+="u";s5J+="to";B6J="Time Seri";B6J+="es";B6J+=" Forec";B6J+="ast";E6J="Linear R";E6J+="eg Slo";E6J+="pe";Z6J="TimeS";Z6J+="er";Z6J+="i";Z6J+="es";D3g.Studies.prettify["time series"]="tsma";D3g.Studies.movingAverage.conversions.tsma="time series";D3g.Studies.movingAverage.translations["time series"]="Time Series";D3g.Studies.movingAverage.typeMap.tsma="TimeSeries";D3g.Studies.movingAverage.typeMap["time series"]=Z6J;D3g.Studies.calculateMovingAverageTimeSeries=function(K3g,l3g){var Y4O=o2ss;var E3g,g3g,U3g,e3g,r3g,M3g,H3g,k3g;l3g.ma=new D3g.Studies.StudyDescriptor(l3g.name,"ma",l3g.panel);l3g.ma.chart=l3g.chart;l3g.ma.days=l3g.days;l3g.ma.startFrom=l3g.startFrom;l3g.ma.inputs=l3g.inputs;D3g.Studies.calculateLinearRegressionIndicator(K3g,l3g.ma);E3g=l3g.name;for(var W3g in l3g.outputs){Y4O.H0H(46);E3g=Y4O.Z0H(E3g,174.81 <= ("3400" * 1,9900)?"542.91" * 1 < (417.59,9810)?" ":("V",6.12e+3):(536.35,947.90),W3g);}Y4O.U2O();g3g=parseInt(l3g.inputs.Offset,10);if(isNaN(g3g)){g3g=0;}U3g=l3g.chart.scrubbed;e3g=g3g;for(var B3g=l3g.startFrom - 1;B3g >= 0;B3g--){r3g=U3g[B3g][E3g];if(!r3g && r3g !== 0)continue;if(e3g > 0){e3g--;continue;}break;}M3g=[];for(B3g++;B3g < U3g.length;B3g++){H3g=U3g[B3g];if(B3g + g3g >= 0){if(B3g + g3g < U3g.length){Y4O.H0H(0);U3g[Y4O.Z0H(g3g,B3g)][E3g]=H3g["Forecast " + l3g.name];}else {k3g={};k3g[E3g]=H3g["Forecast " + l3g.name];M3g.push(k3g);}}}l3g.appendFutureTicks(K3g,M3g);};D3g.Studies.calculateLinearRegressionIndicator=function(v8g,f8g){var h8g,n8g,T8g,A8g,i8g,G8g,Q8g,y8g,C8g,N6J,x8g,V8g,z8g,P8g,N8g;h8g=f8g.chart.scrubbed;if(h8g.length < f8g.days + 1){f8g.error=! !{};return;}n8g=f8g.inputs.Field;if(!n8g || n8g == "field"){n8g="Close";}T8g=f8g.days * (f8g.days + 1) / 2;A8g=Math.pow(T8g,2);i8g=T8g * (2 * f8g.days + 1) / 3;G8g=0;Q8g=0;y8g=0;if(f8g.startFrom){C8g=h8g[f8g.startFrom - 1]["_sums " + f8g.name];if(C8g){Q8g=C8g[0];G8g=C8g[1];y8g=C8g[+"2"];}}o2ss.U2O();for(var u8g=f8g.startFrom;u8g < h8g.length;u8g++){N6J="R";N6J+="Sq";N6J+="ua";N6J+="red ";x8g=h8g[u8g][n8g];if(x8g && typeof x8g == "object"){x8g=x8g[f8g.subField];}if(!x8g && x8g !== 0)continue;Q8g+=f8g.days * x8g - G8g;G8g+=x8g;y8g+=Math.pow(x8g,2);if(u8g < f8g.days - 1)continue;else if(u8g > f8g.days - 1){V8g=h8g[u8g - f8g.days][n8g];if(V8g && typeof V8g == "object"){V8g=V8g[f8g.subField];}if(!V8g && V8g !== +"0")continue;G8g-=V8g;y8g-=Math.pow(V8g,+"2");}z8g=(f8g.days * Q8g - T8g * G8g) / (f8g.days * i8g - A8g);h8g[u8g]["Slope " + f8g.name]=z8g;P8g=(G8g - z8g * T8g) / f8g.days;h8g[u8g]["Intercept " + f8g.name]=P8g;h8g[u8g]["Forecast " + f8g.name]=P8g + z8g * f8g.days;N8g=(f8g.days * i8g - A8g) / (f8g.days * y8g - Math.pow(G8g,2));o2ss.H0H(72);h8g[u8g][N6J + f8g.name]=o2ss.a0H(z8g,z8g,N8g);h8g[u8g]["_sums " + f8g.name]=[Q8g,G8g,y8g];}};D3g.Studies.studyLibrary=D3g.extend(D3g.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! ![],calculateFN:D3g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !{},calculateFN:D3g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:D3g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:E6J,calculateFN:D3g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:B6J,overlay:! !"1",calculateFN:D3g.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:s5J}}});}};u4Q=a8g=>{var t8g,X5J,x5J;t8g=typeof _CIQ !== "undefined"?_CIQ:a8g.CIQ;if(!t8g.Studies){console.error("macd feature requires first activating studies feature.");}else {X5J="a";X5J+="u";X5J+="to";x5J="M";x5J+="AC";x5J+="D";t8g.Studies.calculateMACD=function(O8g,c8g){var i4O=o2ss;var G5J,t5J,u5J,Y8g,J8g,b8g,s8g,o8g,S8g,L8g,F8g,Q5J,a5J,K5J,Z8g,d8g,n5J,c5J,m8g;G5J="expo";G5J+="nen";G5J+="tia";G5J+="l";t5J="f";t5J+="ie";t5J+="l";t5J+="d";u5J="Fast M";u5J+="A ";u5J+="Period";Y8g=c8g.chart.scrubbed;J8g=c8g.inputs;b8g=c8g.name;if(!c8g.macd1Days){c8g.macd1Days=parseFloat(J8g[u5J]);}if(!c8g.macd2Days){c8g.macd2Days=parseFloat(J8g["Slow MA Period"]);}if(!c8g.signalDays){c8g.signalDays=parseFloat(J8g["Signal Period"]);}if(!c8g.days){c8g.days=Math.max(c8g.macd1Days,c8g.macd2Days,c8g.signalDays);}if(Y8g.length < c8g.days + 1){c8g.error=! ![];return;}s8g=c8g.inputs.Field;if(!s8g || s8g == t5J){s8g="Close";}o8g=J8g["Moving Average Type"];if(!o8g){o8g=G5J;}t8g.Studies.MA(o8g,c8g.macd1Days,s8g,+"0","_MACD1",O8g,c8g);t8g.Studies.MA(o8g,c8g.macd2Days,s8g,0,"_MACD2",O8g,c8g);F8g=Math.max(c8g.startFrom,c8g.days - 1);for(S8g=F8g;S8g < Y8g.length;S8g++){Q5J="MA";Q5J+="CD";Q5J+=" ";a5J="_";a5J+="M";a5J+="A";a5J+="CD2 ";K5J="_MA";K5J+="CD1 ";L8g=Y8g[S8g];if((L8g[K5J + b8g] || L8g["_MACD1 " + b8g] === 0) && (L8g[a5J + b8g] || L8g["_MACD2 " + b8g] === 0)){i4O.j0H(0);L8g[i4O.a0H(b8g,Q5J)]=L8g["_MACD1 " + b8g] - L8g["_MACD2 " + b8g];}}Z8g=J8g["Signal MA Type"];if(!Z8g){Z8g="exponential";}t8g.Studies.MA(Z8g,c8g.signalDays,"MACD " + b8g,0,"Signal",O8g,c8g);i4O.j0H(0);d8g=i4O.a0H("_hist",b8g);for(S8g=F8g;S8g < Y8g.length;S8g++){n5J="Si";n5J+="gnal ";c5J="Sig";c5J+="nal";c5J+=" ";L8g=Y8g[S8g];i4O.H0H(0);m8g=L8g[i4O.Z0H(b8g,c5J)];if(!m8g && m8g !== 0)continue;L8g[d8g]=L8g["MACD " + b8g] - L8g[n5J + b8g];}c8g.outputMap[d8g]="";};t8g.Studies.studyLibrary=t8g.extend(t8g.Studies.studyLibrary,{macd:{name:x5J,calculateFN:t8g.Studies.calculateMACD,seriesFN:t8g.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"},outputs:{MACD:X5J,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};h4Q=w8g=>{var H3O=o2ss;var R8g,v95,V95,p95,L5J,J5J;H3O.p2O();R8g=typeof _CIQ !== "undefined"?_CIQ:w8g.CIQ;if(!R8g.Studies){console.error("massIndex feature requires first activating studies feature.");}else {R8g.Studies.calculateMassIndex=function(X8g,I8g){var F5J,O5J,q8g,D8g;F5J="_tota";F5J+="l ";O5J="_";O5J+="EM";O5J+="A";O5J+=" ";q8g=I8g.chart.scrubbed;if(q8g.length < Math.max(9,I8g.days + 1)){I8g.error=! ![];return;}for(var p8g=I8g.startFrom;p8g < q8g.length;p8g++){q8g[p8g]["_High-Low " + I8g.name]=q8g[p8g].High - q8g[p8g].Low;}R8g.Studies.MA("exponential",9,"_High-Low " + I8g.name,0,"_EMA",X8g,I8g);R8g.Studies.MA("exponential",9,O5J + I8g.name,+"0","_EMA2",X8g,I8g);D8g=0;if(q8g[I8g.startFrom - 1] && q8g[I8g.startFrom - 1]["_total " + I8g.name]){D8g=q8g[I8g.startFrom - 1][F5J + I8g.name];}for(var j8g=Math.max(17,I8g.startFrom);j8g < q8g.length;j8g++){D8g+=q8g[j8g]["_EMA " + I8g.name] / q8g[j8g]["_EMA2 " + I8g.name];if(j8g >= 17 + I8g.days - +"1"){q8g[j8g]["Result " + I8g.name]=D8g;D8g-=q8g[j8g - I8g.days + 1]["_EMA " + I8g.name] / q8g[j8g - I8g.days + 1]["_EMA2 " + I8g.name];}q8g[j8g]["_total " + I8g.name]=D8g;}};R8g.Studies.displayMassIndex=function(B8g,l8g,r8g){var A5J,g5J,g8g,M8g,E8g,U8g,e8g;A5J="Re";A5J+="sult";A5J+=" ";g5J="B";g5J+="ulge Threshold";H3O.p2O();R8g.Studies.displaySeriesAsLine(B8g,l8g,r8g);g8g=l8g.inputs[g5J];M8g=B8g.panels[l8g.panel];E8g=l8g.getYAxis(B8g);U8g=R8g.Studies.determineColor(l8g.outputs.Result);e8g={skipTransform:B8g.panels[l8g.panel].name != l8g.chart.name,panelName:l8g.panel,band:A5J + l8g.name,threshold:g8g,direction:1,color:U8g,yAxis:E8g,opacity:+"0.3"};if(!l8g.highlight && B8g.highlightedDraggable){e8g.opacity*=0.3;}R8g.preparePeakValleyFill(B8g,e8g);R8g.Studies.drawHorizontal(B8g,l8g,null,g8g,E8g,U8g);};v95=1698585641;H3O.H0H(12);V95=-H3O.Z0H("218886486",67281236);p95=2;for(var o95="1" ^ 0;H3O.J35(o95.toString(),o95.toString().length,64900) !== v95;o95++){L5J="Mass ";L5J+="Inde";L5J+="x";R8g.Studies.studyLibrary=R8g.extend(R8g.Studies.studyLibrary,{"Mass Idx":{name:L5J,seriesFN:R8g.Studies.displayMassIndex,calculateFN:R8g.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:"20" & 2147483647,max:35,step:0.1}}}});p95+=2;}if(H3O.J35(p95.toString(),p95.toString().length,64214) !== V95){J5J="Bulg";J5J+="e Threshold";R8g.Studies.studyLibrary=R8g.extend(R8g.Studies.studyLibrary,{"Mass Idx":{name:J5J,seriesFN:R8g.Studies.displayMassIndex,calculateFN:R8g.Studies.calculateMassIndex,inputs:{Period:36,"Bulge Threshold":21},attributes:{"Bulge Threshold":{min:36,max:+"34",step:906}}}});}}};x4Q=k8g=>{var H8g,r5J,z5J;H8g=typeof _CIQ !== "undefined"?_CIQ:k8g.CIQ;if(!H8g.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {r5J="0";r5J+=" to ";r5J+="1";r5J+="00";z5J="Money Flow Ind";z5J+="ex";H8g.Studies.calculateMoneyFlowIndex=function(C9g,f9g){var b4O=o2ss;var W8g,h9g,u9g,G9g,z9g,V9g,T9g,n9g,U5J,Q9g,x9g,y9g;W8g=f9g.chart.scrubbed;if(W8g.length < f9g.days + 1){f9g.error=!"";return;}h9g=0;u9g=0;G9g=W8g[f9g.startFrom - 1];z9g="_rawMF " + f9g.name;V9g="_cumMF " + f9g.name;T9g="Result " + f9g.name;if(G9g && G9g[V9g]){h9g=G9g[V9g][0];u9g=G9g[V9g][1];}for(var K8g=f9g.startFrom;K8g < W8g.length;K8g++){n9g=W8g[K8g]["hlc/3"];if(K8g > 0 && !W8g[K8g].futureTick){U5J="hlc/";U5J+="3";b4O.j0H(45);Q9g=W8g[b4O.a0H("1",K8g)][U5J];x9g=n9g * W8g[K8g].Volume;if(n9g > Q9g){h9g+=x9g;}else if(n9g < Q9g){x9g*=-1;u9g-=x9g;}else {x9g=0;}if(K8g > f9g.days){y9g=W8g[K8g - f9g.days][z9g];if(y9g > 0){h9g-=y9g;}else {u9g+=y9g;}if(u9g === 0){W8g[K8g][T9g]=100;}else if(W8g[K8g].Volume){b4O.j0H(73);W8g[K8g][T9g]=b4O.Z0H(u9g,100,1,100,h9g);}}W8g[K8g][z9g]=x9g;W8g[K8g][V9g]=[h9g,u9g];}}};H8g.Studies.studyLibrary=H8g.extend(H8g.Studies.studyLibrary,{"M Flow":{name:z5J,range:r5J,calculateFN:H8g.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};G4Q=i9g=>{var A9g,o75,k75,T75,Y5J,w5J,T5J,k5J,o5J,P5J,m5J,i5J,h5J,R5J,H5J,q5J,b5J;A9g=typeof _CIQ !== "undefined"?_CIQ:i9g.CIQ;if(!A9g.Studies){o75=- +"1484797257";k75=-478236185;T75=2;for(var Y75=1;o2ss.J35(Y75.toString(),Y75.toString().length,9266) !== o75;Y75++){console.error("");T75+=+"2";}if(o2ss.J35(T75.toString(),T75.toString().length,89813) !== k75){console.error("");}console.error("movingAverages feature requires first activating studies feature.");}else {Y5J="Hig";Y5J+="h Lo";Y5J+="w Ban";Y5J+="ds";w5J="#F";w5J+="F";w5J+="0";w5J+="000";T5J="P";T5J+="erce";T5J+="n";T5J+="t";k5J="au";k5J+="to";o5J="p";o5J+="o";o5J+="in";o5J+="ts";P5J="Doub";P5J+="leEx";P5J+="ponentia";P5J+="l";m5J="DoubleExpo";m5J+="nential";i5J="Hul";i5J+="l";h5J="Tr";h5J+="i";h5J+="ple Exponential";R5J="Double ";R5J+="Ex";R5J+="ponen";R5J+="tial";H5J="3-e";H5J+="xp";H5J+="on";H5J+="ential";q5J="t";q5J+="em";q5J+="a";b5J="d";b5J+="e";b5J+="m";b5J+="a";A9g.Studies.prettify=A9g.extend({"2-exponential":b5J,"3-exponential":q5J,hull:"hma"},A9g.Studies.prettify);A9g.extend(A9g.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:H5J},translations:{hull:"Hull","2-exponential":R5J,"3-exponential":h5J},typeMap:{hma:i5J,hull:"Hull",dema:m5J,"2-exponential":P5J,tema:"TripleExponential","3-exponential":"TripleExponential"}});A9g.Studies.calculateMovingAverageHull=function(S9g,P9g){var w4O=o2ss;var M5J,v9g,t9g,N9g,a9g,l5J,c9g,b9g,Y9g,l35,M35,e35,L9g;M5J="_M";M5J+="M";M5J+="A ";v9g=P9g.chart.scrubbed;t9g=P9g.inputs.Field;if(!t9g || t9g == "field"){t9g="Close";}A9g.Studies.MA("wma",P9g.days,t9g,0,"_WMA1",S9g,P9g);A9g.Studies.MA("wma",Math.ceil(P9g.days / 2),t9g,0,"_WMA2",S9g,P9g);for(N9g=P9g.startFrom - 1;N9g >= 0;N9g--){a9g=v9g[N9g][t9g];if(a9g && typeof a9g == "object"){a9g=a9g[P9g.subField];}if(a9g || a9g === 0)break;}for(N9g++;N9g < v9g.length;N9g++){l5J="_";l5J+="W";l5J+="MA1";l5J+=" ";c9g=v9g[N9g];c9g["_MMA " + P9g.name]=+"2" * c9g["_WMA2 " + P9g.name] - c9g[l5J + P9g.name];}b9g=parseInt(P9g.inputs.Offset,10);if(isNaN(b9g)){b9g=0;}Y9g=Math.floor(Math.sqrt(P9g.days));A9g.Studies.MA("wma",Y9g,M5J + P9g.name,b9g,"_HMA",S9g,P9g);l35=-47147937;w4O.H0H(2);M35=w4O.a0H(0,"684415438");w4O.j0H(5);e35=w4O.Z0H(0,"2");for(var j35=1;w4O.J35(j35.toString(),j35.toString().length,36036) !== l35;j35++){L9g=P9g.name;e35+=2;}if(w4O.J35(e35.toString(),e35.toString().length,"73660" << 1331191840) !== M35){L9g=P9g.name;}for(var J9g in P9g.outputs){w4O.H0H(46);L9g=w4O.Z0H(L9g,8320 >= 8960?("1800" | 520) < +"5736"?(0x1df0,754):0x14db:" ",J9g);}for(N9g=Math.max(P9g.days + Y9g - "1" * 1,P9g.startFrom);N9g < v9g.length;N9g++){v9g[N9g][L9g]=v9g[N9g]["_HMA " + P9g.name];}};A9g.Studies.calculateMovingAverageDoubleExponential=function(R9g,s9g){var L8O=o2ss;var j5J,D5J,e5J,F9g,d9g,Z9g,o9g,O9g,w9g,m9g,I9g,q9g,j9g,p9g;j5J="e";j5J+="m";j5J+="a";D5J="C";D5J+="l";D5J+="os";D5J+="e";e5J="fi";e5J+="eld";F9g=s9g.chart.scrubbed;d9g=s9g.inputs.Field;if(!d9g || d9g == e5J){d9g=D5J;}A9g.Studies.MA("ema",s9g.days,d9g,"0" & 2147483647,"_EMA1",R9g,s9g);A9g.Studies.MA(j5J,s9g.days,"_EMA1 " + s9g.name,0,"_EMA2",R9g,s9g);Z9g=parseInt(s9g.inputs.Offset,"10" << 89605152);if(isNaN(Z9g)){Z9g=0;}w9g=Z9g;for(o9g=s9g.startFrom - ("1" ^ 0);o9g >= 0;o9g--){O9g=F9g[o9g][d9g];if(O9g && typeof O9g == "object"){O9g=O9g[s9g.subField];}if(!O9g && O9g !== 0)continue;if(w9g > 0){w9g--;continue;}break;}L8O.U2O();m9g=s9g.name;for(var D9g in s9g.outputs){L8O.j0H(46);m9g=L8O.a0H(m9g,871.03 != 114.08?5117 <= (465.64,1890)?9780 == (359.88,9996)?(! !0,! !{}):(! !"","r"):" ":(8.13e+3,! !{}),D9g);}I9g=[];for(o9g++;o9g < F9g.length;o9g++){if(o9g < 2 * (s9g.days - 1))continue;q9g=F9g[o9g];j9g=2 * q9g["_EMA1 " + s9g.name] - q9g["_EMA2 " + s9g.name];if(o9g + Z9g >= 0){if(o9g + Z9g < F9g.length){L8O.H0H(0);F9g[L8O.a0H(Z9g,o9g)][m9g]=j9g;}else {p9g={};p9g[m9g]=j9g;I9g.push(p9g);}}}s9g.appendFutureTicks(R9g,I9g);};A9g.Studies.calculateMovingAverageTripleExponential=function(r9g,X9g){var R8O=o2ss;var I5J,W5J,E9g,U9g,B9g,l9g,g9g,H9g,e9g,k9g,M9g,K9g,W9g;I5J="em";I5J+="a";W5J="_E";W5J+="M";W5J+="A1";E9g=X9g.chart.scrubbed;R8O.p2O();U9g=X9g.inputs.Field;if(!U9g || U9g == "field"){U9g="Close";}A9g.Studies.MA("ema",X9g.days,U9g,"0" & 2147483647,W5J,r9g,X9g);A9g.Studies.MA("ema",X9g.days,"_EMA1 " + X9g.name,0,"_EMA2",r9g,X9g);A9g.Studies.MA(I5J,X9g.days,"_EMA2 " + X9g.name,"0" & 2147483647,"_EMA3",r9g,X9g);B9g=parseInt(X9g.inputs.Offset,+"10");if(isNaN(B9g)){R8O.j0H(2);B9g=R8O.Z0H(0,"0");}H9g=B9g;for(l9g=X9g.startFrom - 1;l9g >= 0;l9g--){g9g=E9g[l9g][U9g];if(g9g && typeof g9g == "object"){g9g=g9g[X9g.subField];}if(!g9g && g9g !== +"0")continue;if(H9g > "0" >> 2018321440){H9g--;continue;}break;}e9g=X9g.name;for(var f7g in X9g.outputs){R8O.j0H(46);e9g=R8O.a0H(e9g,(4360,8560) >= (190.57,"497" | 65)?" ":(6988,9199) == (173,"3350" << 1961405184)?6.65e+3:"e",f7g);}k9g=[];for(l9g++;l9g < E9g.length;l9g++){if(l9g < 3 * (X9g.days - 1))continue;M9g=E9g[l9g];K9g=3 * M9g["_EMA1 " + X9g.name] - 3 * M9g["_EMA2 " + X9g.name] + M9g["_EMA3 " + X9g.name];if(l9g + B9g >= 0){if(l9g + B9g < E9g.length){R8O.H0H(0);E9g[R8O.a0H(B9g,l9g)][e9g]=K9g;}else {W9g={};W9g[e9g]=K9g;k9g.push(W9g);}}}X9g.appendFutureTicks(r9g,k9g);};A9g.Studies.calculateMAEnvelope=function(V7g,u7g){var v5J,y5J,h7g,x7g,G7g,d5J;v5J="p";o2ss.p2O();v5J+="o";v5J+="i";v5J+="nts";y5J="M";y5J+="A";h7g=u7g.inputs.Field;if(!h7g || h7g == "field"){h7g="Close";}A9g.Studies.MA(u7g.inputs["Moving Average Type"],u7g.days,h7g,0,y5J,V7g,u7g);x7g=u7g.inputs["Shift Type"];G7g=u7g.inputs.Shift;if(!x7g){d5J="perc";d5J+="ent";x7g=d5J;G7g=u7g.inputs["Shift Percentage"];}if(x7g == "percent"){o2ss.H0H(4);A9g.Studies.calculateGenericEnvelope(V7g,u7g,o2ss.Z0H(100,G7g),"MA " + u7g.name);}else if(x7g == v5J){A9g.Studies.calculateGenericEnvelope(V7g,u7g,null,"MA " + u7g.name,null,Number(G7g));}};A9g.Studies.calculateMADev=function(v7g,n7g){var p8O=o2ss;var C5J,p5J,V5J,C7g,z7g,A7g,i7g,N7g,T7g,y7g,Q7g;C5J="_";C5J+="hi";C5J+="s";C5J+="t";p5J="Movin";p5J+="g Average Ty";p5J+="pe";V5J="Cl";V5J+="o";V5J+="s";V5J+="e";C7g=n7g.chart.scrubbed;if(C7g.length < n7g.days + 1){n7g.error=! !{};return;}z7g=n7g.inputs.Field;if(!z7g || z7g == "field"){z7g=V5J;}A7g=n7g.inputs["Points Or Percent"];p8O.p2O();if(!A7g){A7g="Points";}i7g=n7g.inputs[p5J];if(!i7g){i7g="exponential";}A9g.Studies.MA(i7g,n7g.days,z7g,0,"_MA",v7g,n7g);N7g=n7g.name + "_hist";for(var P7g=Math.max(n7g.startFrom,n7g.days - +"1");P7g < C7g.length;P7g++){T7g=C7g[P7g];y7g=T7g[z7g];if(y7g && typeof y7g == "object"){y7g=y7g[n7g.subField];}Q7g=T7g["_MA " + n7g.name];if(Q7g || Q7g === ("0" & 2147483647)){if(A7g == "Points"){p8O.j0H(2);T7g[N7g]=p8O.Z0H(Q7g,y7g);}else {p8O.j0H(74);T7g[N7g]=p8O.Z0H("1",100,1809116704,Q7g,y7g);}}}n7g.outputMap={};n7g.outputMap[n7g.name + C5J]="";};A9g.Studies.studyLibrary=A9g.extend(A9g.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !1,seriesFN:A9g.Studies.displayChannel,calculateFN:A9g.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent",o5J],Shift:5,"Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":k5J},attributes:{Shift:{min:0.1,step:"0.1" * 1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:A9g.Studies.calculateMADev,seriesFN:A9g.Studies.displayHistogramWithSeries,inputs:{Period:"12" - 0,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points",T5J]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":w5J}},"High Low":{name:Y5J,overlay:! !{},seriesFN:A9g.Studies.displayChannel,calculateFN:function(a7g,t7g){t7g.inputs["Moving Average Type"]="triangular";o2ss.U2O();A9g.Studies.calculateMAEnvelope(a7g,t7g);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":! !{}},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};V4Q=b7g=>{var S5J,c7g,f5J;S5J="un";S5J+="define";S5J+="d";c7g=typeof _CIQ !== S5J?_CIQ:b7g.CIQ;if(!c7g.Studies){f5J="parabolicSAR featu";f5J+="re requires first activating studies feature.";console.error(f5J);}else {c7g.Studies.calculatePSAR=function(q7g,s7g){var Q8O=o2ss;var L7g,o7g,Y7g,Z7g,J7g,d7g,m7g,O7g,F7g,R7g,w7g;L7g=s7g.chart.scrubbed;o7g=0;Y7g=null;function I7g(){Q8O.j0H(17);o7g=Q8O.Z0H("0",1479961792);Y7g=null;Z7g=!Z7g;}Q8O.U2O();Z7g=! !"";J7g=0;d7g=parseFloat(s7g.inputs["Minimum AF"]);m7g=parseFloat(s7g.inputs["Maximum AF"]);if(s7g.startFrom > 0){J7g=L7g[s7g.startFrom - +"1"]["Result " + s7g.name];O7g=L7g[s7g.startFrom - ("1" & 2147483647)]["_state " + s7g.name];if(O7g && O7g.length == 3){o7g=O7g[0];Q8O.H0H(17);Y7g=O7g[Q8O.a0H("1",1365521664)];Q8O.H0H(17);Z7g=O7g[Q8O.a0H("2",1269216736)];}}for(var S7g=s7g.startFrom - +"1";S7g < L7g.length - 1;S7g++){if(S7g < 0)continue;if(L7g[S7g].futureTick)break;F7g=J7g;if(Z7g){if(!Y7g || Y7g < L7g[S7g].High){Y7g=L7g[S7g].High;Q8O.H0H(0);o7g=Math.min(Q8O.a0H(d7g,o7g),m7g);}Q8O.j0H(75);J7g=Q8O.Z0H(o7g,F7g,Y7g,F7g);R7g=Math.min(L7g[Math.max(1,S7g) - ("1" - 0)].Low,L7g[S7g].Low);if(J7g > L7g[S7g + 1].Low){J7g=Y7g;I7g();}else if(J7g > R7g){J7g=R7g;}}else {if(!Y7g || Y7g > L7g[S7g].Low){Y7g=L7g[S7g].Low;Q8O.H0H(0);o7g=Math.min(Q8O.a0H(d7g,o7g),m7g);}Q8O.H0H(75);J7g=Q8O.a0H(o7g,F7g,Y7g,F7g);w7g=Math.max(L7g[Math.max("1" & 2147483647,S7g) - +"1"].High,L7g[S7g].High);if(J7g < L7g[S7g + 1].High){J7g=Y7g;I7g();}else if(J7g < w7g){J7g=w7g;}}Q8O.H0H(0);L7g[Q8O.Z0H(1,S7g)]["_state " + s7g.name]=[o7g,Y7g,Z7g];if(!isNaN(L7g[S7g].High) || !isNaN(L7g[S7g].Low)){Q8O.H0H(58);L7g[Q8O.Z0H(319155744,"1",S7g)]["Result " + s7g.name]=J7g;}}};c7g.Studies.studyLibrary=c7g.extend(c7g.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! !"1",calculateFN:c7g.Studies.calculatePSAR,seriesFN:c7g.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};n4Q=p7g=>{var j7g,r1J;j7g=typeof _CIQ !== "undefined"?_CIQ:p7g.CIQ;if(!j7g.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {r1J="fibo";r1J+="nac";r1J+="ci";j7g.Studies.calculatePivotPoints=function(g7g,B7g){var s1J,B5J,E5J,N5J,Z5J,X7g,E7g,r7g,U7g,D7g,x1J,K1J,G1J,t1J,u1J,M7g,H7g,Q1J,a1J,n1J,c1J;s1J="1";s1J+="5";s1J+="m";s1J+="in";o2ss.p2O();B5J="milli";B5J+="second";E5J="se";E5J+="con";E5J+="d";N5J="m";N5J+="o";N5J+="nth";Z5J="d";Z5J+="a";function e7g(){D7g.pivotPoint=(D7g.high + D7g.low + X7g[l7g - ("1" | 1)].Close) / 3;D7g.prevHigh=D7g.high;D7g.prevLow=D7g.low;D7g.hlSpread=D7g.high - D7g.low;D7g.high=D7g.low=0;}Z5J+="y";X7g=B7g.chart.scrubbed;E7g="day";if(g7g.layout.interval == Z5J){E7g=N5J;}else if(j7g.ChartEngine.isDailyInterval(g7g.layout.interval)){E7g="year";}else if(g7g.layout.interval == E5J || g7g.layout.interval == "millisecond" || g7g.layout.timeUnit == "second" || g7g.layout.timeUnit == B5J){E7g=s1J;}else {r7g=g7g.layout.periodicity;if(g7g.layout.interval != "minute"){r7g*=g7g.layout.interval;}if(r7g >= 30){E7g="week";}}U7g=null;D7g={pivotPoint:NaN,high:+"0",low:0,prevHigh:0,prevLow:0,hlSpread:"0" * 1};if(B7g.startFrom > 1 && X7g[B7g.startFrom - 1]["_pointers " + B7g.name]){D7g=j7g.clone(X7g[B7g.startFrom - +"1"]["_pointers " + B7g.name]);}for(var l7g=Math.max(1,B7g.startFrom);l7g < X7g.length;l7g++){x1J="_point";x1J+="ers";x1J+=" ";K1J="fi";K1J+="bo";K1J+="nac";K1J+="ci";G1J="15";G1J+="m";G1J+="in";t1J="w";t1J+="e";t1J+="e";t1J+="k";u1J="m";u1J+="o";u1J+="nt";u1J+="h";if(!X7g[l7g - 1])continue;D7g.high=Math.max(D7g.high,X7g[l7g - 1].High);D7g.low=Math.min(D7g.low > 0?D7g.low:X7g[l7g - 1].Low,X7g[l7g - 1].Low);if(B7g.inputs.Continuous){e7g();}else if(E7g == "year" && X7g[l7g].DT.getYear() != X7g[l7g - ("1" ^ 0)].DT.getYear()){e7g();}else if(E7g == u1J && X7g[l7g].DT.getMonth() != X7g[l7g - 1].DT.getMonth()){e7g();}else if(E7g == t1J && X7g[l7g].DT.getDay() < X7g[l7g - +"1"].DT.getDay()){e7g();}else if(E7g == "day"){if(U7g === null){U7g=j7g.Studies.getMarketOffset({stx:g7g,localQuoteDate:X7g[l7g].DT,shiftToDateBoundary:!0});}M7g=new Date(new Date(+X7g[l7g].DT).setMilliseconds(X7g[l7g].DT.getMilliseconds() + U7g));H7g=new Date(new Date(+X7g[l7g - 1].DT).setMilliseconds(X7g[l7g - 1].DT.getMilliseconds() + U7g));if(H7g.getDate() !== M7g.getDate() && H7g.getDay() !== 0 && g7g.chart.market.isMarketDate(M7g)){U7g=null;e7g();}}else if(E7g == G1J && (X7g[l7g].DT.getHours() != X7g[l7g - +"1"].DT.getHours() || Math.floor(X7g[l7g].DT.getMinutes() / 15) != Math.floor(X7g[l7g - 1].DT.getMinutes() / 15))){e7g();}X7g[l7g]["Pivot " + B7g.name]=D7g.pivotPoint;if(B7g.inputs.Type.toLowerCase() == K1J){Q1J="S";Q1J+="u";Q1J+="pport 3";Q1J+=" ";a1J="R";a1J+="esistan";a1J+="ce 2";a1J+=" ";X7g[l7g]["Resistance 1 " + B7g.name]=D7g.pivotPoint + 0.382 * D7g.hlSpread;X7g[l7g][a1J + B7g.name]=D7g.pivotPoint + 0.618 * D7g.hlSpread;X7g[l7g]["Resistance 3 " + B7g.name]=D7g.pivotPoint + D7g.hlSpread;X7g[l7g]["Support 1 " + B7g.name]=D7g.pivotPoint - 0.382 * D7g.hlSpread;X7g[l7g]["Support 2 " + B7g.name]=D7g.pivotPoint - 0.618 * D7g.hlSpread;X7g[l7g][Q1J + B7g.name]=D7g.pivotPoint - D7g.hlSpread;}else {n1J="Sup";n1J+="p";n1J+="o";n1J+="rt 2 ";c1J="Resi";c1J+="stance 1 ";X7g[l7g][c1J + B7g.name]=2 * D7g.pivotPoint - D7g.prevLow;X7g[l7g]["Resistance 2 " + B7g.name]=D7g.pivotPoint + D7g.hlSpread;X7g[l7g]["Resistance 3 " + B7g.name]=D7g.prevHigh + 2 * (D7g.pivotPoint - D7g.prevLow);X7g[l7g]["Support 1 " + B7g.name]=2 * D7g.pivotPoint - D7g.prevHigh;X7g[l7g][n1J + B7g.name]=D7g.pivotPoint - D7g.hlSpread;X7g[l7g]["Support 3 " + B7g.name]=D7g.prevLow - 2 * (D7g.prevHigh - D7g.pivotPoint);}X7g[l7g][x1J + B7g.name]=j7g.clone(D7g);}};j7g.Studies.displayPivotPoints=function(K7g,k7g,u6g){o2ss.U2O();var z1J,U1J,J1J,L1J,A1J,g1J,F1J,O1J,X1J,f6g,W7g;k7g.noSlopes=!k7g.inputs.Continuous;j7g.Studies.displaySeriesAsLine(K7g,k7g,u6g);if(k7g.inputs.Shading){z1J="Suppor";z1J+="t 3";U1J="Supp";U1J+="ort 3 ";J1J="Sup";J1J+="p";J1J+="o";J1J+="rt 2";L1J="Suppo";L1J+="rt";L1J+=" 1";A1J="Resis";A1J+="t";A1J+="ance 1";g1J="Res";g1J+="istance";g1J+=" 1";g1J+=" ";F1J="Resista";F1J+="nce 2";O1J="Res";O1J+="ist";O1J+="ance 3";X1J="Re";X1J+="sistance 3 ";f6g=K7g.panels[k7g.panel];W7g={noSlopes:k7g.noSlopes,opacity:k7g.parameters.opacity?k7g.parameters.opacity:0.2,skipTransform:f6g.name != k7g.chart.name,yAxis:k7g.getYAxis(K7g)};if(!k7g.highlight && K7g.highlightedDraggable){W7g.opacity*=0.3;}j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:X1J + k7g.name,bottomBand:"Resistance 2 " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[O1J])},W7g));j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:"Resistance 2 " + k7g.name,bottomBand:"Resistance 1 " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[F1J])},W7g));j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:g1J + k7g.name,bottomBand:"Pivot " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[A1J])},W7g));j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:"Support 1 " + k7g.name,bottomBand:"Pivot " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[L1J])},W7g));j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:"Support 2 " + k7g.name,bottomBand:"Support 1 " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[J1J])},W7g));j7g.prepareChannelFill(K7g,j7g.extend({panelName:k7g.panel,topBand:U1J + k7g.name,bottomBand:"Support 2 " + k7g.name,color:j7g.Studies.determineColor(k7g.outputs[z1J])},W7g));}};j7g.Studies.studyLibrary=j7g.extend(j7g.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:j7g.Studies.displayPivotPoints,calculateFN:j7g.Studies.calculatePivotPoints,inputs:{Type:["standard",r1J],Continuous:!{},Shading:!{}},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:"0.2" - 0}}}});}};y4Q=x6g=>{o2ss.p2O();var b1J,h6g,i1J,h1J;b1J="undefi";b1J+="ned";h6g=typeof _CIQ !== b1J?_CIQ:x6g.CIQ;if(!h6g.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {i1J="a";i1J+="u";i1J+="to";h1J="a";h1J+="ut";h1J+="o";h6g.Studies.calculatePrettyGoodOscillator=function(y6g,G6g){var H1J,q1J,V6g,R1J;H1J="C";H1J+="los";H1J+="e";q1J="exp";q1J+="onentia";q1J+="l";V6g=G6g.chart.scrubbed;if(V6g.length < G6g.days + 1){G6g.error=! ![];return;}h6g.Studies.MA(q1J,G6g.days,"trueRange",0,"_EMA",y6g,G6g);h6g.Studies.MA("simple",G6g.days,H1J,0,"_SMA",y6g,G6g);for(var n6g=Math.max(1,G6g.startFrom);n6g < V6g.length;n6g++){R1J="Res";R1J+="ul";R1J+="t ";if(!V6g[n6g]["_SMA " + G6g.name] || !V6g[n6g]["_EMA " + G6g.name])continue;V6g[n6g][R1J + G6g.name]=(V6g[n6g].Close - V6g[n6g]["_SMA " + G6g.name]) / V6g[n6g]["_EMA " + G6g.name];}};h6g.Studies.studyLibrary=h6g.extend(h6g.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:h6g.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"3",studyOverBoughtColor:h1J,studyOverSoldValue:-3,studyOverSoldColor:i1J}}}});}};z4Q=T6g=>{var m1J,z6g,W1J,j1J,D1J;m1J="un";m1J+="d";m1J+="efin";m1J+="ed";z6g=typeof _CIQ !== m1J?_CIQ:T6g.CIQ;if(!z6g.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {W1J="au";W1J+="t";W1J+="o";j1J="#FF0";j1J+="000";D1J="fie";D1J+="ld";z6g.Studies.calculatePMO=function(N6g,Q6g){var e1J,M1J,l1J,P1J,i6g,C6g,P6g,A6g,v6g;e1J="P";e1J+="M";e1J+="O";M1J="P";M1J+="M";M1J+="O";l1J="ex";l1J+="p";l1J+="onent";l1J+="ial";P1J="Double Sm";P1J+="oothi";P1J+="ng Per";P1J+="iod";i6g={Smooth:Number(Q6g.inputs["Smoothing Period"]) - +"1",Double:Number(Q6g.inputs[P1J]) - 1,Signal:Number(Q6g.inputs["Signal Period"])};C6g=Q6g.chart.scrubbed;if(C6g.length < i6g.Smooth + i6g.Double){Q6g.error=!0;return;}P6g=Q6g.inputs.Field;if(!P6g || P6g == "field"){P6g="Close";}for(A6g=Q6g.startFrom;A6g < C6g.length;A6g++){if(!C6g[A6g])continue;if(!C6g[A6g - +"1"])continue;o2ss.j0H(2);v6g=C6g[o2ss.a0H(1,A6g)][P6g];if(v6g){C6g[A6g]["_ROCx10 " + Q6g.name]=1000 * (C6g[A6g][P6g] / v6g - 1);}}z6g.Studies.MA("exponential",i6g.Smooth,"_ROCx10 " + Q6g.name,"0" << 314003200,"_EMAx10",N6g,Q6g);z6g.Studies.MA(l1J,i6g.Double,"_EMAx10 " + Q6g.name,0,M1J,N6g,Q6g);z6g.Studies.MA("exponential",i6g.Signal,"PMO " + Q6g.name,0,"PMOSignal",N6g,Q6g);Q6g.zoneOutput=e1J;};z6g.Studies.studyLibrary=z6g.extend(z6g.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:z6g.Studies.calculatePMO,inputs:{Field:D1J,"Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:j1J},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:W1J,studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:"0" & 2147483647,step:"0.05"}}}});}};T4Q=a6g=>{var D3O=o2ss;var t6g,m85,P85,l85,Z1J,f1J,S1J,Y1J,w1J,B1J,E1J,N1J;t6g=typeof _CIQ !== "undefined"?_CIQ:a6g.CIQ;if(!t6g.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {t6g.Studies.calculatePriceOscillator=function(d6g,c6g){var d1J,y1J,I1J,s6g,F6g,o6g,L6g,S6g,Q85,c85,n85,Z6g,v1J,b6g,Y6g,J6g,p1J,V1J,o1J,C1J;d1J="_Short ";d1J+="MA";y1J="Per";y1J+="cent";I1J="f";I1J+="i";I1J+="e";I1J+="ld";s6g=c6g.chart.scrubbed;F6g=Number(c6g.inputs["Short Cycle"]);D3O.p2O();o6g=Number(c6g.inputs["Long Cycle"]);if(s6g.length < Math.max(F6g,o6g) + ("1" ^ 0)){c6g.error=!"";return;}L6g=c6g.inputs.Field;S6g=c6g.inputs["Moving Average Type"];if(!S6g){S6g="simple";}if(!L6g || L6g == I1J){L6g="Close";}if(c6g.parameters.isVolume){Q85=-1803748485;c85=407769865;n85=2;for(var X85=+"1";D3O.U35(X85.toString(),X85.toString().length,50042) !== Q85;X85++){L6g="Volume";S6g="exponential";n85+=2;}if(D3O.U35(n85.toString(),n85.toString().length,75955) !== c85){L6g="Volume";S6g="Volume";}}Z6g=c6g.inputs["Points Or Percent"];if(!Z6g){Z6g=y1J;}t6g.Studies.MA(S6g,F6g,L6g,0,d1J,d6g,c6g);t6g.Studies.MA(S6g,o6g,L6g,0,"_Long MA",d6g,c6g);for(var O6g=Math.max(o6g,c6g.startFrom);O6g < s6g.length;O6g++){v1J="_S";v1J+="h";v1J+="ort";v1J+=" MA ";b6g=s6g[O6g];if(!b6g)continue;Y6g=b6g[v1J + c6g.name];J6g=b6g["_Long MA " + c6g.name];if((Y6g || Y6g === 0) && (J6g || J6g === +"0")){p1J="Re";p1J+="sul";p1J+="t";p1J+=" ";V1J="P";V1J+="oi";V1J+="nt";V1J+="s";if(Z6g == V1J){D3O.H0H(2);b6g["Result " + c6g.name]=D3O.a0H(J6g,Y6g);}else {D3O.j0H(76);b6g[p1J + c6g.name]=D3O.a0H(Y6g,J6g,100,1);}if(c6g.outputs["Increasing Bar"]){o1J="Result";o1J+=" ";C1J="_";C1J+="h";C1J+="ist";b6g[c6g.name + C1J]=b6g[o1J + c6g.name];c6g.outputMap={};c6g.outputMap[c6g.name + "_hist"]="";}}}};t6g.Studies.displayRAVI=function(R6g,m6g,X6g){var k1J,D6g,I6g,l6g,B6g,j6g,U6g,e6g,T1J,w6g,p6g,g6g,E6g;k1J="De";k1J+="creasing ";k1J+="Bar";D6g=R6g.panels[m6g.panel];I6g=m6g.getContext(R6g);l6g=m6g.getYAxis(R6g);B6g=R6g.pixelFromPrice(0,D6g,l6g);j6g=R6g.layout.candleWidth - +"2";if(j6g < "2" - 0){j6g=1;}U6g=t6g.Studies.determineColor(m6g.outputs["Increasing Bar"]);e6g=t6g.Studies.determineColor(m6g.outputs[k1J]);R6g.startClip(m6g.panel);D3O.p2O();R6g.canvasColor("stx_histogram");if(!m6g.underlay){D3O.H0H(14);I6g.globalAlpha=D3O.a0H(2147483647,"1");}if(!m6g.highlight && R6g.highlightedDraggable){I6g.globalAlpha*=0.3;}for(var q6g=0;q6g < X6g.length;q6g++){T1J="#CCCC";T1J+="CC";w6g=X6g[q6g];D3O.j0H(2);p6g=X6g[D3O.a0H(1,q6g)];if(!p6g){p6g=R6g.getPreviousBar(R6g.chart,m6g.name + "_hist",q6g);}if(!w6g)continue;g6g=0;E6g=+"0";if(m6g.parameters && m6g.parameters.studyOverZonesEnabled){g6g=parseFloat(m6g.parameters.studyOverBoughtValue);E6g=parseFloat(m6g.parameters.studyOverSoldValue);}if(!p6g){I6g.fillStyle="#CCCCCC";}else if(w6g[m6g.name + "_hist"] > g6g && p6g[m6g.name + "_hist"] < w6g[m6g.name + "_hist"]){I6g.fillStyle=U6g;}else if(w6g[m6g.name + "_hist"] < E6g && p6g[m6g.name + "_hist"] > w6g[m6g.name + "_hist"]){I6g.fillStyle=e6g;}else {I6g.fillStyle=T1J;}if(w6g.candleWidth){j6g=Math.floor(Math.max(1,w6g.candleWidth - 2));}I6g.fillRect(Math.floor(R6g.pixelFromBar(q6g,D6g.chart) - j6g / +"2"),Math.floor(B6g),Math.floor(j6g),Math.floor(R6g.pixelFromPrice(w6g[m6g.name + "_hist"],D6g,l6g) - B6g));}R6g.endClip();};m85=1575783087;D3O.H0H(14);P85=-D3O.a0H(2147483647,"1340290963");l85=2;for(var e85=1;D3O.J35(e85.toString(),e85.toString().length,80455) !== m85;e85++){Z1J="Poi";Z1J+="nts ";Z1J+="Or Percen";Z1J+="t";f1J="Points Or ";f1J+="Pe";f1J+="rcent";S1J="Point";S1J+="s Or P";S1J+="erce";S1J+="nt";Y1J="M";Y1J+="ovi";Y1J+="ng Ave";Y1J+="rage Type";w1J="Poin";w1J+="ts Or Perc";w1J+="en";w1J+="t";t6g.Studies.studyLibrary=t6g.extend(t6g.Studies.studyLibrary,{"Price Osc":{name:"RAVI",calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{Field:"Long Cycle","Short Cycle":76,"Long Cycle":34,"Moving Average Type":"Points","Points Or Percent":[w1J,"Points Or Percent"]}},"Vol Osc":{name:Y1J,calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{"Short Cycle":70,"Long Cycle":+"89","Points Or Percent":[S1J,"Long Cycle"]},parameters:{init:{isVolume:!1}}},RAVI:{name:f1J,seriesFN:t6g.Studies.displayRAVI,calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{Field:Z1J,"Moving Average Type":"0.1","Short Cycle":0,"Long Cycle":"32" << 100488832},outputs:{"Increasing Bar":"RAVI","Decreasing Bar":"Points Or Percent"},centerline:2,parameters:{init:{studyOverZonesEnabled:! !"",studyOverBoughtValue:4,studyOverBoughtColor:"auto",studyOverSoldValue:+8,studyOverSoldColor:"RAVI"}},attributes:{studyOverBoughtValue:{min:3,step:"Points Or Percent"},studyOverSoldValue:{max:5,step:"auto"}}}});l85+=2;}if(D3O.J35(l85.toString(),l85.toString().length,14895) !== P85){B1J="f";B1J+="i";B1J+="eld";E1J="R";E1J+="AV";E1J+="I";N1J="Volume Os";N1J+="cillator";t6g.Studies.studyLibrary=t6g.extend(t6g.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:N1J,calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{"Short Cycle":"12" >> 1434499904,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! ![]}}},RAVI:{name:E1J,seriesFN:t6g.Studies.displayRAVI,calculateFN:t6g.Studies.calculatePriceOscillator,inputs:{Field:B1J,"Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}}};Q4Q=M6g=>{var r6g,u4J;r6g=typeof _CIQ !== "undefined"?_CIQ:M6g.CIQ;o2ss.p2O();if(!r6g.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {u4J="a";u4J+="u";u4J+="t";u4J+="o";r6g.Studies.calculatePrimeNumber=function(T5g,W6g){var f5g,G5g,K6g,k6g,H6g,s4J,u5g,y5g,z5g;function h5g(Q5g){var A5g;if(Q5g <= 0){return ! !0;}else if(Q5g != Math.floor(Q5g)){return !"1";}else if(f5g[Q5g] === ! ![] || f5g[Q5g] === ! !""){return f5g[Q5g];}A5g=parseInt(Math.sqrt(Q5g),10);for(var C5g=+"2";C5g <= A5g;C5g++){if(Q5g % C5g === 0){f5g[Q5g]=!"1";return ![];}}f5g[Q5g]=!"";return !"";}f5g=[];G5g=W6g.chart.scrubbed;o2ss.U2O();for(var x5g=W6g.startFrom;x5g < G5g.length;x5g++){K6g=G5g[x5g];if(!K6g)continue;k6g=K6g.High;if(!isNaN(k6g)){for(var V5g=0;k6g > 0 && k6g <= 10;V5g++){k6g*=10;}if(h5g(k6g)){k6g+=2;}k6g=Math.ceil(k6g);if(k6g % 2 === +"0"){k6g++;}while(!h5g(k6g)){k6g+=2;}k6g/=Math.pow(10,V5g);}H6g=K6g.Low;if(!isNaN(H6g)){for(var n5g="0" | 0;H6g > 0 && H6g <= 10;n5g++){H6g*=10;}if(h5g(H6g)){H6g-=2;}H6g=Math.floor(H6g);if(H6g % 2 === 0){H6g--;}if(H6g > 0){while(!h5g(H6g)){o2ss.H0H(12);H6g-=o2ss.a0H("2",2);}H6g/=Math.pow(10,n5g);}}if(W6g.type == "Prime Number Bands"){s4J="P";s4J+="rime Ba";s4J+="nds Top";s4J+=" ";if(!isNaN(k6g)){K6g[s4J + W6g.name]=k6g;}if(!isNaN(H6g)){K6g["Prime Bands Bottom " + W6g.name]=Math.max(+"0",H6g);}}else {u5g=0;y5g=W6g.inputs["Tolerance Percentage"] * (k6g - H6g) / 100;z5g=k6g + H6g - 2 * K6g.Close;if(z5g < y5g){u5g=1;}else if(z5g > y5g){u5g=- +"1";}if(u5g){K6g["Result " + W6g.name]=u5g;}}}};r6g.Studies.studyLibrary=r6g.extend(r6g.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:r6g.Studies.calculatePrimeNumber,centerline:"0" * 1,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! ![],calculateFN:r6g.Studies.calculatePrimeNumber,seriesFN:r6g.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":u4J,"Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};C4Q=P5g=>{var t4J,i5g,G4J,z4J,U4J,J4J,L4J,A4J;t4J="u";t4J+="nd";t4J+="ef";t4J+="ined";i5g=typeof _CIQ !== t4J?_CIQ:P5g.CIQ;o2ss.U2O();if(!i5g.Studies){G4J="pring feature requires first activating studies";G4J+=" feature.";console.error(G4J);}else {z4J="we";z4J+="e";z4J+="kly";U4J="#FF";U4J+="0";U4J+="000";J4J="#";J4J+="00DD";J4J+="00";L4J="f";L4J+="ie";L4J+="l";L4J+="d";A4J="P";A4J+="ring's Know Sure ";A4J+="T";A4J+="hing";i5g.Studies.calculateKST=function(Y5g,N5g){var q8O=o2ss;var F4J,c4J,Q4J,a4J,K4J,a5g,b5g,c5g,L5g,J5g,t5g,v5g,n4J,x4J,X4J,O4J,S5g;F4J="KS";F4J+="T ";c4J="He";q8O.p2O();c4J+="avy SMA Pe";c4J+="riod";Q4J="Light ";Q4J+="Rate of Change Period";a4J="Lightest Rate o";a4J+="f Chan";a4J+="ge ";a4J+="Period";K4J="Clo";K4J+="s";K4J+="e";a5g=N5g.chart.scrubbed;b5g=N5g.inputs.Field;if(!b5g || b5g == "field"){b5g=K4J;}c5g={};L5g={};q8O.H0H(12);c5g[q8O.Z0H("1",0)]=Number(N5g.inputs[a4J]);c5g[2]=Number(N5g.inputs[Q4J]);c5g[3]=Number(N5g.inputs["Heavy Rate of Change Period"]);c5g[4]=Number(N5g.inputs["Heaviest Rate of Change Period"]);L5g[1]=Number(N5g.inputs["Lightest SMA Period"]);L5g[2]=Number(N5g.inputs["Light SMA Period"]);L5g[3]=Number(N5g.inputs[c4J]);L5g[4]=Number(N5g.inputs["Heaviest SMA Period"]);J5g=Number(N5g.inputs["Signal Period"]);for(t5g=N5g.startFrom;t5g < a5g.length;t5g++){if(!a5g[t5g])continue;for(v5g=1;v5g <= 4;v5g++){n4J="_";n4J+="RO";n4J+="C";if(t5g >= c5g[v5g] && a5g[t5g - c5g[v5g]] && a5g[t5g - c5g[v5g]][b5g]){a5g[t5g][n4J + v5g + " " + N5g.name]=100 * (a5g[t5g][b5g] / a5g[t5g - c5g[v5g]][b5g] - +"1");}}}for(v5g=1;v5g <= 4;v5g++){x4J="si";x4J+="mple";i5g.Studies.MA(x4J,L5g[v5g],"_ROC" + v5g + (7740 >= 3010?6379 >= 6455?(1129,148.92) == (2209,920.34)?0x1a3e:7.22e+3:" ":240.07) + N5g.name,+"0","_SMA" + v5g,Y5g,N5g);}for(t5g=N5g.startFrom;t5g < a5g.length;t5g++){X4J="KST";X4J+=" ";a5g[t5g][X4J + N5g.name]=null;for(v5g="1" >> 1063325824;v5g <= 4;v5g++){O4J="KST";O4J+=" ";S5g=a5g[t5g]["_SMA" + v5g + ((7858,694.29) == 312?9.41e+3:" ") + N5g.name];if(S5g || S5g === 0){q8O.j0H(20);a5g[t5g][O4J + N5g.name]+=q8O.Z0H(v5g,S5g);}}}i5g.Studies.MA("simple",J5g,F4J + N5g.name,0,"KSTSignal",Y5g,N5g);};i5g.Studies.calculateSpecialK=function(I5g,F5g){var g4J,Z5g,d5g,O5g,m5g,R5g,o5g,s5g,w5g;g4J="d";g4J+="ai";g4J+="l";g4J+="y";Z5g=F5g.chart.scrubbed;d5g=F5g.inputs.Field;if(!d5g || d5g == "field"){d5g="Close";}O5g=F5g.inputs.Interval;if(!O5g){O5g=g4J;}m5g={daily:[10,15,20,30,"50" >> 1459456736,"65" ^ 0,75,100,195,"265" * 1,390,530],weekly:[4,5,6,8,"10" >> 1257129280,13,15,20,39,52,78,104]};R5g={daily:["10" - 0,10,10,15,50,65,+"75",100,"130" >> 628450496,130,130,195],weekly:[4,5,6,+"8",+"10",13,"15" & 2147483647,20,26,"26" ^ 0,26,39]};for(o5g=F5g.startFrom;o5g < Z5g.length;o5g++){if(!Z5g[o5g])continue;for(s5g=0;s5g < m5g[O5g].length;s5g++){if(o5g >= m5g[O5g][s5g] && Z5g[o5g - m5g[O5g][s5g]] && Z5g[o5g - m5g[O5g][s5g]][d5g]){Z5g[o5g]["_ROC" + s5g + ((8266,980) == 8911?! ![]:" ") + F5g.name]=100 * (Z5g[o5g][d5g] / Z5g[o5g - m5g[O5g][s5g]][d5g] - +"1");}}}for(s5g=0;s5g < R5g[O5g].length;s5g++){i5g.Studies.MA(O5g == "daily"?"simple":"exponential",R5g[O5g][s5g],"_ROC" + s5g + (918.25 < (6852,196.84)?(3.33e+3,0x84):915.55 != 9772?" ":58.09 !== 8400?(1.50e+3,"J"):921.59) + F5g.name,0,"_MA" + s5g,I5g,F5g);}for(o5g=F5g.startFrom;o5g < Z5g.length;o5g++){Z5g[o5g]["Result " + F5g.name]=null;for(s5g=0;s5g < R5g[O5g].length;s5g++){w5g=Z5g[o5g]["_MA" + s5g + (239.1 === (658.02,1230)?(1.72e+2,+"947.06"):" ") + F5g.name];if(w5g || w5g === 0){o2ss.H0H(77);Z5g[o5g]["Result " + F5g.name]+=o2ss.a0H(0,w5g,s5g,"1",4);}}}};i5g.Studies.studyLibrary=i5g.extend(i5g.Studies.studyLibrary,{"Pring KST":{name:A4J,calculateFN:i5g.Studies.calculateKST,inputs:{Field:L4J,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":"10" | 0,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":"15" >> 1913603808,"Signal Period":9},outputs:{KST:J4J,KSTSignal:U4J}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:i5g.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",z4J]}}});}};A4Q=j5g=>{var q5g,p5g,r4J,V4J,v4J,d4J,y4J,I4J,W4J,j4J,D4J;q5g=typeof _CIQ !== "undefined"?_CIQ:j5g.CIQ;p5g=typeof _timezoneJS !== "undefined"?_timezoneJS:j5g.timezoneJS;if(!q5g.Studies){r4J="proje";r4J+="ctedVolume feature ";r4J+="requires first activating studies featur";r4J+="e.";console.error(r4J);}else {V4J="#";V4J+="b82c0c";v4J="Projected Aggregate";v4J+=" V";v4J+="ol";v4J+="ume";d4J="hh:mm:s";d4J+="s";y4J="#b82";y4J+="c0c";I4J="-";I4J+="1";I4J+="00";I4J+="%";W4J="-2";W4J+="5";W4J+="%";j4J="N";j4J+="o";j4J+="n";j4J+="e";D4J="+10";D4J+="0%";q5g.Studies.initProjectedVolume=function(l5g,E5g,X5g,U5g,e5g,r5g){var b4J,D5g,g5g;b4J="Anchor Ti";b4J+="me";var {market:B5g}=l5g.chart;D5g="00:00";if(B5g){D5g=B5g.getNormalOpen();}if(D5g.match(/^[\d]{2}:[\d]{2}$/)){D5g+=":00";}if(!X5g[b4J] || !X5g["Anchor Time"].length){X5g["Anchor Time"]=D5g;}g5g=q5g.Studies.initializeFN(l5g,E5g,X5g,U5g,e5g,r5g);o2ss.U2O();if(!l5g.currentlyImporting){g5g.defaultAnchorTime=D5g;}return g5g;};q5g.Studies.validateProjectedVolumeLookback=function(K5g,W5g){var {interval:M5g, periodicity:H5g}=K5g.layout;o2ss.U2O();var {"Lookback Days":k5g}=W5g.inputs;o2ss.j0H(78);return o2ss.a0H(10,k5g,M5g,H5g);};q5g.Studies.calculateProjectedVolume=function(h0g,f0g){var M8O=o2ss;var i4J,h4J,U0g,Q0g,N0g,r0g,M0g,d0g,m0g,x0g,R0g,v4g,G0g,w0g,I0g,H0g,q0g,C0g,j0g,t4g,T0g,a4g,L0g,V0g,s0g,y0g,v0g,K0g,W0g,f4g,u4g,D0g,X0g,O0g,L4g,h4g,q4J,H4J,t0g,a0g,F0g,S4g,l0g,n0g,x4g,G4g,B0g,V4g,S0g,R4J;i4J="V";i4J+=" ";function n4g(O4g){console.error(`Expected data for ${T4g(O4g).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}h4J="P";h4J+="V";h4J+=" ";var {interval:Q4g, timeUnit:g0g, aggregationType:E0g}=h0g.layout;var {symbol:C4g, scroll:A4g, scrubbed:u0g, market:z0g}=h0g.chart;U0g=f0g.type === "PAV";Q0g=f0g.study?f0g.study.name:f0g.type;if(q5g.ChartEngine.isDailyInterval(Q4g)){f0g.error=`${Q0g} is Intraday Only`;}else if(g0g === "tick"){f0g.error=`Tick mode not supported for ${Q0g}`;}else if(g0g !== "minute"){f0g.error=`Sub-minute periodicities not supported for ${Q0g}`;}else if(!E0g || !["ohlc","heikinashi"].includes(E0g)){f0g.error=`Aggregation type not supported for ${Q0g}`;}else if(!q5g.Studies.validateProjectedVolumeLookback(h0g,f0g)){f0g.error=`Selected lookback/periodicity combo not supported for ${Q0g}`;}if(f0g.error){return;}if(f0g.inputs["Anchor Selector"]){q5g.Studies.initAnchorHandle(h0g,f0g);}else {q5g.Studies.removeAnchorHandle(h0g,f0g);}N0g=z0g?z0g.getNormalOpen():"00:00";if(N0g.match(/^[\d]{2}:[\d]{2}$/)){N0g+=":00";}if(!h0g.currentlyImporting && N0g !== f0g.defaultAnchorTime){f0g.defaultAnchorTime=N0g;f0g.inputs["Anchor Time"]=N0g;q5g.Studies.repositionAnchor(h0g,f0g);return;}var {"Lookback Days":J0g, "Anchor Time":i4g}=f0g.inputs;var [P4g,N4g,e0g = 0]=i4g.split((1630,932.34) > +"714.41"?":":(33.67,676) <= 908.99?(5658,1943) < (2819,5022)?"s":(!{},0xd2f):(923.36,0x234c));r0g=q5g.Market.Symbology.isForexSymbol(C4g);M0g=f0g.getDependents(h0g);function y4g(d4g,m4g,R4g){var R35,h35,i35;while(m4g){d4g=new Date(new Date(d4g).setDate(d4g.getDate() + (R4g?"1" >> 152667904:- +"1")));if(z0g.isMarketDate(d4g)){m4g--;}}R35=-762123805;h35=-1997032264;i35=2;M8O.p2O();for(var P35=1;M8O.U35(P35.toString(),P35.toString().length,"4930" ^ 0) !== R35;P35++){return d4g;}if(M8O.J35(i35.toString(),i35.toString().length,40976) !== h35){return d4g;}}d0g=0;m0g=[];M0g.forEach(({inputs:J4g, outputMap:s4g})=>{M8O.p2O();if(J4g.Period){d0g=Math.max(parseInt(J4g.Period),d0g);m0g.push(...Object.keys(s4g));}});f0g.dependentsOutputMap=m0g;R0g=Y0g(u0g.length - 1,! ![]);v4g=Math.ceil(u0g.length - 1 - A4g);M8O.H0H(2);G0g=Y0g(M8O.a0H(d0g,v4g));if(r0g && u0g[G0g] && q5g.dateToStr(u0g[G0g].DT,"HH:mm") !== N0g){M8O.j0H(2);G0g=Y0g(M8O.Z0H(1,G0g));;}function T4g(I4g){var P4J;P4J="sc";M8O.U2O();P4J+="rubbed";return h0g.dateFromTick(I4g,null,! !1,P4J);}if(!r0g && f0g.startFrom > G0g && u0g[G0g] && u0g[G0g]["V " + f0g.name] !== undefined && m0g.every(o4g=>{return ![undefined,null].includes(u0g[G0g][o4g]);}) && R0g !== !{}){x0g=R0g;;}else {x0g=G0g;}w0g=y4g(T4g(G0g),J0g);w0g.setHours(0,0,0);M8O.H0H(12);I0g=Y0g(M8O.Z0H("0",0),!0);function z4g(w4g){var m4J;m4J="sc";m4J+="r";m4J+="u";m4J+="bbed";return h0g.tickFromDate(w4g,null,null,! !{},m4J);}H0g=(I0g || I0g === +"0") && z4g(y4g(u0g[I0g].DT,J0g,! ![]));if(u0g[+"0"].DT > w0g){if(h0g.quoteDriver){h0g.quoteDriver.extendHistoricalData({from:w0g});if(H0g > 0){x0g=H0g;}else {return;}}else {return f0g.error=`Not enough data to calculate ${Q0g}`;}}function c0g(F4g){return {hours:F4g.getHours(),minutes:F4g.getMinutes()};}if(x0g < 0 || x0g > u0g.length - ("1" << 1731638656)){return;}q0g=u0g.length - f0g.startFrom === 1 && f0g.cachedFutureTicks && f0g.cachedLastProjection && +f0g.cachedLastProjection.DT === +u0g[u0g.length - 1].DT && u0g[x0g]["PV " + f0g.name];if(q0g){u0g[u0g.length - 1]["PV " + f0g.name]=f0g.cachedLastProjection.projectedValue;f0g.appendFutureTicks(h0g,f0g.cachedFutureTicks);x0g=f0g.startFrom;}else {f0g.cachedFutureTicks=null;f0g.cachedLastProjection=null;C0g=[R0g];j0g=[];for(var k0g=0;k0g < J0g;k0g++){t4g=Y0g(C0g[0] - ("1" ^ 0));C0g.unshift(t4g);;}while(C0g[J0g] >= x0g){T0g=C0g.pop();if(!u0g[T0g]){return n4g(T0g);}a4g=c0g(u0g[T0g].DT);var {hours:A0g, minutes:b0g}=a4g;L0g=z0g.getClose(u0g[T0g].DT);V0g=void 0;if(!L0g){V0g={hours:24,minutes:0};}else {s0g=z0g.getNextClose(u0g[T0g].DT);V0g=c0g(L0g);while(!(V0g.hours === 0 && V0g.minutes === 0) && L0g.getDate() === s0g.getDate()){L0g=s0g;s0g=z0g.getNextClose(s0g);}V0g=c0g(L0g);if(V0g.hours === 0){V0g.hours=24;}}y0g=C0g.slice();for(var o0g=0;o0g < y0g.length;o0g++){v0g=y0g[o0g];if(!u0g[v0g]){return n4g(v0g);}var {hours:Z0g, minutes:p0g}=c0g(u0g[v0g].DT);if(Z0g < A0g || Z0g === A0g && p0g < b0g){do {v0g++;({hours:Z0g, minutes:p0g}=c0g(u0g[v0g].DT));}while(!(Z0g === A0g && p0g === b0g));}y0g[o0g]=v0g;}while(A0g < V0g.hours || A0g === V0g.hours && b0g < V0g.minutes){K0g=![];W0g=void 0;f4g=void 0;u4g=0;D0g=0;for(var i0g=0;i0g < y0g.length;i0g++){X0g=y0g[i0g];if(X0g === null)continue;O0g=u0g[X0g];if(!O0g){return n4g(X0g);}var {hours:c4g, minutes:b4g}=c0g(O0g.DT);L4g=O0g.DT.getDate();if(c4g === A0g && b4g === b0g){u4g+=O0g.Volume;D0g++;y0g[i0g]++;if(u0g[y0g[i0g]].DT.getDate() !== L4g){y0g[i0g]=null;}else if(!K0g){({hours:W0g, minutes:f4g}=c0g(u0g[y0g[i0g]].DT));K0g=! !1;;}}}A0g=W0g;b0g=f4g;if(D0g === 0)break;M8O.H0H(4);h4g=M8O.Z0H(D0g,u4g);if(u0g[T0g]){q4J="P";q4J+="V ";u0g[T0g][q4J + f0g.name]=h4g;}else {H4J="P";H4J+="V";H4J+=" ";j0g.push({[H4J + f0g.name]:h4g});}T0g++;}C0g.unshift(Y0g(C0g["0" * 1] - +"1"));;}f0g.cachedLastProjection={DT:u0g[u0g.length - 1].DT,projectedValue:u0g[u0g.length - 1]["PV " + f0g.name]};f0g.cachedFutureTicks=j0g;f0g.appendFutureTicks(h0g,j0g);}t0g=null;M8O.j0H(12);a0g=M8O.Z0H("0",0);F0g=0;if(q0g && U0g){while(x0g > 0){M8O.H0H(2);l0g=u0g[M8O.Z0H(1,x0g)]["V " + f0g.name];if(l0g || l0g === 0){a0g=l0g;break;}x0g--;}}for(var P0g=x0g;P0g < u0g.length;P0g++){n0g=u0g[P0g];x4g=n0g.Volume;G4g=n0g["PV " + f0g.name];if(!n0g.futureTick){S4g=P0g;}if(t0g === null){t0g=q5g.Studies.getMarketOffset({stx:h0g,localQuoteDate:u0g[P0g].DT,shiftToDateBoundary:! !"1"});}B0g=new Date(new Date(n0g.DT).getTime() + t0g);V4g=u0g[P0g - 1] && new Date(new Date(u0g[P0g - 1].DT).getTime() + t0g);S0g=new p5g.Date(n0g.DT,z0g.market_def.market_tz || "America/New_York");S0g.setHours(P4g,N4g,e0g);M8O.j0H(0);S0g=new Date(M8O.a0H(t0g,S0g));S0g.setDate(B0g.getDate());if(V4g && B0g.getDate() !== V4g.getDate()){t0g=null;a0g=0;F0g=0;}if(B0g < S0g){R4J="P";R4J+="V";R4J+=" ";n0g["V " + f0g.name]=0;n0g[R4J + f0g.name]=0;continue;}if(U0g){a0g+=x4g;F0g+=G4g;}else {a0g=x4g;F0g=G4g;}n0g["V " + f0g.name]=a0g;if(!q0g){n0g["PV " + f0g.name]=F0g;}if([NaN,null,undefined].includes(a0g) && !n0g.futureTick){f0g.error=`${Q0g} requires volume`;return;}}function Y0g(l4g,B4g){var D4g,X4g,p4g;D4g=T4g(l4g);M8O.U2O();X4g=z0g.getOpen(D4g) || Y4g(D4g);p4g=z4g(X4g);if(!B4g){return p4g;}if(p4g < 0){p4g=z4g(y4g(X4g,1,! !1));}if(p4g >= u0g.length){return !{};}return p4g;}f0g.cachedLastProjection.projectedValue=u0g[S4g][h4J + f0g.name];f0g.outputMap={};f0g.outputMap[i4J + f0g.name]="";function Y4g(q4g){var j4g;M8O.j0H(2);M8O.U2O();q4g.setHours(M8O.a0H(0,"0"));q4g.setMinutes(0);j4g=q5g.Studies.getMarketOffset({stx:h0g,localQuoteDate:q4g});return new Date(q4g.getTime() + j4g);}f0g.outputMap["PV " + f0g.name]="Average Line";M0g.forEach(Z4g=>{Z4g.startFrom=x0g;Z4g.study.calculateFN(h0g,Z4g);});};q5g.Studies.displayProjectedVolume=function(E4g,g4g,U4g){var l4J,M4g,e4g,H4g,k4g,K4g,f16,u16;l4J="ob";l4J+="jec";o2ss.U2O();l4J+="t";if(g4g.error){return q5g.Studies.removeAnchorHandle(E4g,g4g);}var {"Alert Threshold":r4g = ""}=g4g.inputs;M4g=parseInt(r4g.slice(0,-1),10) / 100;e4g=g4g.outputs["Alert Bar"];if(typeof e4g === l4J){e4g=e4g.color;}g4g.volumeField="V " + g4g.name;g4g.plotStepLine=! !1;g4g.alignStepToSide=!0;g4g.extendToEndOfLastBar=! !{};g4g.lineWidth=2;H4g=E4g.canvasStyle("stx_volume_underlay_up").opacity;k4g=E4g.canvasStyle("stx_volume_underlay_down").opacity;g4g.colorFunction=function(x16){var B5O=o2ss;var e4J,M4J,Q16,h16,C16,G16,V16,n16;e4J="V";e4J+=" ";M4J="P";M4J+="V";M4J+=" ";var {Open:y16, Close:z16, iqPrevClose:T16}=x16;Q16=E4g.colorByCandleDirection?y16:T16;B5O.j0H(79);h16=B5O.Z0H(Q16,z16);C16=x16[M4J + g4g.name];G16=x16[e4J + g4g.name];B5O.H0H(80);V16=B5O.a0H(M4g,1,C16,"1");n16=M4g < 0?G16 < V16:G16 > V16;return {fill_color:n16 && e4g || (h16?this.fill_color_down:this.fill_color_up),border_color:h16?this.border_color_down:this.border_color_up,opacity:n16?1:h16?k4g:H4g,border_opacity:h16?k4g:H4g};};K4g=g4g.study?g4g.study.name:g4g.type;var {loadingMore:W4g}=E4g.chart;f16=U4g.some(A16=>{o2ss.p2O();return A16 && A16[g4g.volumeField] && A16["PV " + g4g.name];});u16=U4g[0] && !U4g[+"0"].futureTick && (U4g[0]["PV " + g4g.name] === undefined || (g4g.dependentsOutputMap || []).some(i16=>{o2ss.U2O();return [undefined,null].includes(U4g[0][i16]);}));if(!f16 && W4g){return g4g.error=`Fetching data for ${K4g}`;}q5g.Studies.createVolumeChart(E4g,g4g,U4g);q5g.Studies.displaySeriesAsLine(E4g,g4g,U4g);if(g4g.anchorHandle){q5g.Studies.displayAnchorHandleAndLine(E4g,g4g,U4g);}if(u16){q5g.Studies.calculateProjectedVolume(E4g,g4g);}};q5g.Studies.studyLibrary=q5g.extend(q5g.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:! !{},initialMarginTop:+"0",zoom:0},calculateFN:q5g.Studies.calculateProjectedVolume,seriesFN:q5g.Studies.displayProjectedVolume,initializeFN:q5g.Studies.initProjectedVolume,removeFN:q5g.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%",D4J,"+75%","+50%","+25%",j4J,W4J,"-50%","-75%",I4J,"-125%","-150%"],"Anchor Selector":! ![]},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":y4J},attributes:{"Anchor Time":{placeholder:d4J,step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:v4J,range:"0 to max",yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:q5g.Studies.calculateProjectedVolume,seriesFN:q5g.Studies.displayProjectedVolume,initializeFN:q5g.Studies.initProjectedVolume,removeFN:q5g.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":V4J},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:+"1"}}}});}};i4Q=N16=>{o2ss.p2O();var P16,C4J;P16=typeof _CIQ !== "undefined"?_CIQ:N16.CIQ;if(!P16.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {C4J="0 to 10";C4J+="0";P16.Studies.calculatePsychologicalLine=function(Y16,v16){var a16,c16,L16,b16,p4J,S16;a16=v16.chart.scrubbed;o2ss.U2O();if(a16.length < v16.days + 1){v16.error=! ![];return;}c16=[];L16=100 / v16.days;b16=0;for(var t16=Math.max(v16.startFrom - v16.days,"1" >> 16821728);t16 < a16.length;t16++){p4J="Re";p4J+="sult ";if(a16[t16].futureTick)break;S16=Number(a16[t16].Close > a16[t16 - ("1" - 0)].Close);if(S16){b16+=L16;}c16.push(S16);if(c16.length > v16.days){b16-=c16.shift() * L16;}if(t16 < v16.startFrom)continue;if(!isNaN(a16[t16].Close)){a16[t16][p4J + v16.name]=b16;}}};P16.Studies.studyLibrary=P16.extend(P16.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:C4J,calculateFN:P16.Studies.calculatePsychologicalLine,inputs:{Period:"20" >> 860718400}}});}};P4Q=s16=>{var J16,Y4J;o2ss.p2O();J16=typeof _CIQ !== "undefined"?_CIQ:s16.CIQ;if(!J16.Studies){console.error("qstick feature requires first activating studies feature.");}else {Y4J="QS";Y4J+="tick";J16.Studies.calculateQStick=function(F16,o16){var w4J,Z16,t95,G95,K95,o4J,T4J,k4J;w4J="R";w4J+="e";w4J+="s";w4J+="ult";o2ss.U2O();Z16=o16.chart.scrubbed;if(Z16.length < o16.days + 1){o16.error=!"";return;}for(var O16=o16.startFrom;O16 < Z16.length;O16++){Z16[O16]["_Close-Open " + o16.name]=Z16[O16].Close - Z16[O16].Open;}t95=-1598312917;G95=-657560502;K95=2;for(var Q95=1;o2ss.J35(Q95.toString(),Q95.toString().length,66195) !== t95;Q95++){o4J="R";o4J+="esul";o4J+="t";J16.Studies.MA(o16.inputs["Result"],o16.days,"Result" / o16.name,8,o4J,F16,o16);K95+=2;}if(o2ss.U35(K95.toString(),K95.toString().length,62314) !== G95){T4J="Re";T4J+="sult";k4J="R";k4J+="es";k4J+="ult";J16.Studies.MA(o16.inputs[k4J],o16.days,"Result" / o16.name,8,T4J,F16,o16);}J16.Studies.MA(o16.inputs["Moving Average Type"],o16.days,"_Close-Open " + o16.name,"0" & 2147483647,w4J,F16,o16);};J16.Studies.studyLibrary=J16.extend(J16.Studies.studyLibrary,{QStick:{name:Y4J,calculateFN:J16.Studies.calculateQStick,inputs:{Period:"8" & 2147483647,"Moving Average Type":"ma"}}});}};N4Q=m16=>{var d16,G2R,t2R;d16=typeof _CIQ !== "undefined"?_CIQ:m16.CIQ;if(!d16.Studies){console.error("rainbow feature requires first activating studies feature.");}else {G2R="#0";G2R+="0";G2R+="FFFF";t2R="Rainbow Mov";t2R+="ing Average";d16.Studies.calculateRainbow=function(U16,R16){var S4J,w16,j16,g16,Z4J,f4J,N4J,E16,X16,l16,B16,p16,D16,E4J,s2R,B4J;o2ss.p2O();S4J="C";S4J+="l";S4J+="os";S4J+="e";w16=R16.chart.scrubbed;if(w16.length < R16.days + 1){R16.error=! ![];return;}j16=R16.inputs.Field;function e16(K16,k16){var M16,H16;M16=Number.MAX_VALUE * -1;H16=Number.MAX_VALUE;for(var r16=k16 - K16 + +"1";r16 <= k16;r16++){if(r16 < "0" >> 672236576)continue;M16=Math.max(M16,w16[r16].Close);H16=Math.min(H16,w16[r16].Close);}return [H16,M16];}if(!j16 || j16 == "field"){j16=S4J;}g16=j16;for(var q16=1;q16 <= 10;q16++){Z4J="S";Z4J+="M";Z4J+="A";f4J="s";f4J+="i";f4J+="m";f4J+="ple";d16.Studies.MA(f4J,R16.days,g16,0,Z4J + q16,U16,R16);g16="SMA" + q16 + (6583 < (1005,919.13)?(! !{},!{}):(793,607) >= (654,422.43)?" ":218.21 >= 319?("0x292" * 1,! ![]):(! !"",0x1872)) + R16.name;}for(var I16=Math.max(R16.startFrom,10);I16 < w16.length;I16++){N4J="O";N4J+="sc";if(!w16[I16])continue;if(w16[I16].futureTick)break;E16=0;o2ss.j0H(2);X16=o2ss.a0H(0,"0");l16=Number.MAX_VALUE * -1;B16=Number.MAX_VALUE;for(q16=1;q16 <= 10;q16++){p16=w16[I16]["SMA" + q16 + (("1780" * 1,+"876.22") !== +"4380"?" ":"0xe7a" - 0) + R16.name];if(p16 || p16 === +"0"){E16+=p16;X16++;l16=Math.max(l16,p16);B16=Math.min(B16,p16);}}if(R16.name.indexOf(N4J) > -1){D16=e16(R16.inputs["HHV/LLV Lookback"],I16);if(X16){E4J="_h";E4J+="i";E4J+="s";E4J+="t";w16[I16][R16.name + E4J]=("100" >> 2021907104) * (w16[I16][j16] - E16 / X16) / Math.max(0.000001,D16[1] - D16[0]);w16[I16]["Over " + R16.name]=100 * (l16 - B16) / Math.max(0.000001,D16[1] - D16[0]);w16[I16]["Under " + R16.name]=-w16[I16]["Over " + R16.name];w16[I16]["Zero " + R16.name]=0;}}}if(R16.name.indexOf("Osc") > -1){s2R="Z";s2R+="er";s2R+="o";s2R+=" ";B4J="Unde";B4J+="r";B4J+=" ";R16.outputMap={};R16.outputMap["Over " + R16.name]="Positive Bar";R16.outputMap[B4J + R16.name]="Negative Bar";R16.outputMap[s2R + R16.name]="";R16.outputMap[R16.name + "_hist"]="";}};d16.Studies.displayRainbowMA=function(u26,f26,x26){var h26;h26=u26.panels[f26.panel];for(var W16=10;W16 > 0;W16--){d16.Studies.displayIndividualSeriesAsLine(u26,f26,h26,"SMA" + W16 + " " + f26.name,x26);}};d16.Studies.displayRainbowOsc=function(V26,G26,a26){var K8O=o2ss;var u2R,z26,y26,n26,C26,A26,P26,N26,v26,t26,Q26,T26;u2R="Unde";u2R+="r ";d16.Studies.displaySeriesAsLine(V26,G26,a26);z26=V26.panels[G26.panel];y26=G26.getContext(V26);n26=G26.getYAxis(V26);V26.startClip(G26.panel);if(!G26.highlight && V26.highlightedDraggable){y26.globalAlpha*=0.3;}C26=V26.pixelFromPrice(0,z26,n26);A26=z26.name != G26.chart.name;P26=d16.Studies.determineColor(G26.outputs["Positive Bar"]);y26.strokeStyle=P26;V26.plotDataSegmentAsLine("Over " + G26.name,z26,{skipTransform:A26,label:!"1",yAxis:n26});K8O.j0H(17);N26=y26.createLinearGradient(K8O.Z0H("0",1717023072),C26,0,n26.flipped?n26.bottom:n26.top);N26.addColorStop(0,V26.containerColor);N26.addColorStop(1,P26);d16.prepareChannelFill(V26,{skipTransform:A26,color:N26,opacity:!G26.highlight && V26.highlightedDraggable?0.3:1,panelName:G26.panel,topBand:"Over " + G26.name,bottomBand:"Zero " + G26.name,yAxis:n26});v26=d16.Studies.determineColor(G26.outputs["Negative Bar"]);y26.strokeStyle=v26;V26.plotDataSegmentAsLine("Under " + G26.name,z26,{skipTransform:A26,label:![],yAxis:n26});t26=y26.createLinearGradient(+"0",C26,0,n26.flipped?n26.top:n26.bottom);t26.addColorStop(0,V26.containerColor);K8O.H0H(20);t26.addColorStop(K8O.a0H("1",1),v26);d16.prepareChannelFill(V26,{skipTransform:A26,color:t26,opacity:!G26.highlight && V26.highlightedDraggable?0.3:1,panelName:G26.panel,topBand:"Zero " + G26.name,bottomBand:u2R + G26.name,yAxis:n26});Q26=V26.layout.candleWidth - 2;if(Q26 < 2){K8O.H0H(12);Q26=K8O.a0H("1",1);}K8O.p2O();V26.canvasColor("stx_histogram");if(!G26.underlay){y26.globalAlpha=1;}if(!G26.highlight && V26.highlightedDraggable){y26.globalAlpha*=0.3;}y26.fillStyle="#CCCCCC";for(var i26=0;i26 < a26.length;i26++){T26=a26[i26];if(!T26)continue;if(T26[G26.name + "_hist"] > 0){y26.fillStyle=P26;}else if(T26[G26.name + "_hist"] < 0){y26.fillStyle=v26;}if(T26.candleWidth){Q26=Math.floor(Math.max(1,T26.candleWidth - 2));}y26.fillRect(Math.floor(V26.pixelFromBar(i26,z26.chart) - Q26 / +"2"),Math.floor(C26),Math.floor(Q26),Math.floor(V26.pixelFromPrice(T26[G26.name + "_hist"],z26,n26) - C26));}V26.endClip();};d16.Studies.studyLibrary=d16.extend(d16.Studies.studyLibrary,{"Rainbow MA":{name:t2R,overlay:! ![],calculateFN:d16.Studies.calculateRainbow,seriesFN:d16.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:G2R,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:d16.Studies.calculateRainbow,seriesFN:d16.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};v4Q=b26=>{var c26,Q2R,a2R;c26=typeof _CIQ !== "undefined"?_CIQ:b26.CIQ;o2ss.p2O();if(!c26.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {Q2R="#0000";Q2R+="FF";a2R="#";a2R+="FF";a2R+="00";a2R+="00";c26.Studies.calculateRandomWalk=function(w26,J26){var S26,O26,F26,d26,s26,o26,Z26,m26,R26,K2R;S26=J26.chart.scrubbed;if(S26.length < J26.days + 1){J26.error=! !{};return;}for(var L26=Math.max(2,J26.startFrom);L26 < S26.length;L26++){O26=0;F26=S26[L26].High;d26=S26[L26].Low;s26=0;o26=0;for(var Y26=1;Y26 <= J26.days;Y26++){if(S26[L26].futureTick)break;if(L26 <= Y26){s26=o26=0;break;}O26+=S26[L26 - Y26].trueRange;Z26=O26 / Y26 * Math.sqrt(Y26);if(Z26){m26=(F26 - S26[L26 - Y26].Low) / Z26;R26=(S26[L26 - Y26].High - d26) / Z26;s26=Math.max(s26,m26);o26=Math.max(o26,R26);}}if(!S26[L26].futureTick && (!isNaN(F26) || !isNaN(d26))){K2R="Random Walk Hi";K2R+="gh ";S26[L26][K2R + J26.name]=s26;S26[L26]["Random Walk Low " + J26.name]=o26;}}};c26.Studies.studyLibrary=c26.extend(c26.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:c26.Studies.calculateRandomWalk,outputs:{"Random Walk High":a2R,"Random Walk Low":Q2R}}});}};t4Q=q26=>{var I26,K05,a05,Q05,c2R,z2R,U2R,J2R,L2R;o2ss.U2O();I26=typeof _CIQ !== "undefined"?_CIQ:q26.CIQ;if(!I26.Studies){K05=635593056;a05=685750757;Q05=2;for(var n05=1;o2ss.J35(n05.toString(),n05.toString().length,74499) !== K05;n05++){console.error("");Q05+=2;}if(o2ss.J35(Q05.toString(),Q05.toString().length,"370" << 941940832) !== a05){c2R="relativeVigor feature requires first act";c2R+="ivating studies fe";c2R+="ature.";console.error(c2R);}}else {z2R="#";z2R+="FF0000";U2R="#";U2R+="00DD00";J2R="#FF0";J2R+="0";J2R+="00";L2R="Relative";L2R+=" Vigor";L2R+=" Index";I26.Studies.calculateRelativeVigor=function(U26,j26){var O2R,X2R,x2R,D26,p26,n2R,X26,B26,g26,g2R,F2R,e26,E26,l26,A2R;O2R="_Rang";O2R+="e ";X2R="_C";X2R+="h";X2R+="an";X2R+="ge ";x2R="t";x2R+="rian";x2R+="gular";D26=j26.chart.scrubbed;if(D26.length < j26.days + 1){j26.error=!0;return;}for(p26=j26.startFrom;p26 < D26.length;p26++){n2R="_";n2R+="Chan";n2R+="ge ";X26=D26[p26];if(!isNaN(X26.Close) && !isNaN(X26.Open)){X26[n2R + j26.name]=X26.Close - X26.Open;}if(!isNaN(X26.High) && !isNaN(X26.Low)){X26["_Range " + j26.name]=X26.High - X26.Low;}}I26.Studies.MA(x2R,4,X2R + j26.name,+"0","_Numer",U26,j26);I26.Studies.MA("triangular",4,O2R + j26.name,+"0","_Denom",U26,j26);B26=[];g26=[];for(p26=Math.max(j26.startFrom - j26.days,0);p26 < D26.length;p26++){g2R="_Nu";g2R+="mer";g2R+=" ";F2R="_Den";F2R+="om ";if(D26[p26].futureTick)break;if(D26[p26]["_Numer " + j26.name] === null && D26[p26][F2R + j26.name] === null)continue;B26.push(D26[p26][g2R + j26.name]);g26.push(D26[p26]["_Denom " + j26.name]);if(B26.length > j26.days){B26.shift();g26.shift();}e26=0;E26=0;for(l26=0;l26 < B26.length;l26++){e26+=B26[l26];}for(l26=0;l26 < g26.length;l26++){E26+=g26[l26];}if(E26 === 0){E26=0.00000001;}if(p26 < j26.startFrom)continue;o2ss.j0H(4);D26[p26]["Rel Vig " + j26.name]=o2ss.a0H(E26,e26);}I26.Studies.MA("triangular",4,"Rel Vig " + j26.name,0,"RelVigSignal",U26,j26);for(p26=j26.startFrom;p26 < D26.length;p26++){A2R="R";A2R+="el Vig";A2R+=" ";D26[p26][j26.name + "_hist"]=D26[p26][A2R + j26.name] - D26[p26]["RelVigSignal " + j26.name];}j26.outputMap[j26.name + "_hist"]="";};I26.Studies.studyLibrary=I26.extend(I26.Studies.studyLibrary,{"Rel Vig":{name:L2R,seriesFN:I26.Studies.displayHistogramWithSeries,calculateFN:I26.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:J2R,"Increasing Bar":U2R,"Decreasing Bar":z2R}}});}};a4Q=M26=>{var r2R,r26,b2R,H2R;r2R="undef";r2R+="in";r2R+="ed";o2ss.U2O();r26=typeof _CIQ !== r2R?_CIQ:M26.CIQ;if(!r26.Studies){b2R="rs";b2R+="i feature requires first activa";b2R+="tin";b2R+="g studies feature.";console.error(b2R);}else {H2R="a";H2R+="u";H2R+="to";r26.Studies.calculateRSI=function(y36,H26){var T8O=o2ss;var x36,k26,q2R,u36,h36,G36,V36,K26,W26;x36=H26.chart.scrubbed;function n36(Q36,z36){var T36;if(z36 === 0){return 100;}T8O.H0H(4);T36=T8O.a0H(z36,Q36);T8O.H0H(81);return T8O.Z0H(T36,1,100,100);}k26=H26.inputs.Field;if(!k26 || k26 == "field"){k26="Close";}if(x36.length < H26.days + 1){H26.error=! !{};return;}for(var f36=H26.startFrom;f36 < x36.length;f36++){q2R="_a";q2R+="v";q2R+="g";q2R+="L ";if(!f36)continue;u36=x36[f36];T8O.H0H(45);h36=x36[T8O.a0H("1",f36)];if(!u36[k26] && u36[k26] !== 0)continue;if(!h36[k26] && h36[k26] !== 0)continue;G36=u36[k26] - h36[k26];V36=Math.min(f36,H26.days);K26=h36["_avgG " + H26.name];if(!K26){K26=0;}T8O.H0H(4);K26-=T8O.a0H(V36,K26);W26=h36[q2R + H26.name];if(!W26){W26=0;}T8O.j0H(4);W26-=T8O.Z0H(V36,W26);if(G36 > 0){T8O.j0H(4);K26+=T8O.a0H(V36,G36);}else if(G36 <= 0){T8O.H0H(4);W26-=T8O.a0H(V36,G36);}else continue;if(f36 >= H26.days){if((K26 || K26 !== 0) && (W26 || W26 !== "0" - 0)){u36["RSI " + H26.name]=n36(K26,W26);}}u36["_avgG " + H26.name]=K26;u36["_avgL " + H26.name]=W26;}H26.zoneOutput="RSI";};r26.Studies.studyLibrary=r26.extend(r26.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:+"14",Field:"field"},calculateFN:r26.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:H2R}}}});}};c4Q=A36=>{var z3O=o2ss;var C36,x05,X05,O05,W2R,j2R,D2R,e2R;C36=typeof _CIQ !== "undefined"?_CIQ:A36.CIQ;if(!C36.Studies){x05=-1852083976;z3O.H0H(5);X05=-z3O.a0H(0,"1918547550");O05=2;for(var g05=1;z3O.U35(g05.toString(),g05.toString().length,75186) !== x05;g05++){console.error("");O05+=2;}if(z3O.J35(O05.toString(),O05.toString().length,86285) !== X05){console.error("");}console.error("schaffTrendCycle feature requires first activating studies feature.");}else {W2R="a";W2R+="u";W2R+="to";j2R="a";j2R+="uto";D2R="fie";D2R+="l";D2R+="d";e2R="Schaff T";e2R+="rend ";e2R+="Cycle";C36.Studies.calculateSchaff=function(F36,i36){var h2R,R2R,v36,a36,Z36,c36,b36,O36,L36,S36,l2R,t36,Y36,J36,i2R,s36,N36,P2R,m2R,o36,M2R;h2R="Moving Average Ty";h2R+="pe";R2R="C";R2R+="lose";function d36(j36,q36,p36){var R36,w36,m36;R36=null;w36=null;for(var I36=q36 - j36 + 1;I36 <= q36;I36++){m36=v36[I36][p36 + ((857.39,+"5760") >= (7250,8840)?(!1,! ![]):4697 > (+"3777",440.18)?" ":(652.28,131) != 389.74?!{}:(!"1","M")) + i36.name];if(!m36)continue;R36=R36 === null?m36:Math.min(R36,m36);w36=w36 === null?m36:Math.max(w36,m36);}return [R36,w36];}v36=i36.chart.scrubbed;a36=i36.days;Z36=Number(i36.inputs["Short Cycle"]);c36=Number(i36.inputs["Long Cycle"]);if(v36.length < Math.max(a36,Z36,c36) + 1){i36.error=! !{};return;}b36=i36.inputs.Field;if(!b36 || b36 == "field"){b36=R2R;}z3O.H0H(20);O36=z3O.Z0H("0.5",1);C36.Studies.MA(i36.inputs[h2R],Z36,b36,0,"_MACD1",F36,i36);C36.Studies.MA(i36.inputs["Moving Average Type"],c36,b36,"0" * 1,"_MACD2",F36,i36);L36=0;S36=0;for(var P36=i36.startFrom;P36 < v36.length;P36++){l2R="_";l2R+="P";l2R+="F";l2R+=" ";t36=v36[P36];if(P36 < c36 - 1)continue;Y36=t36["_MACD1 " + i36.name];J36=t36["_MACD2 " + i36.name];if(Y36 || Y36 === 0 || J36 || J36 === 0){i2R="_MACD";i2R+=" ";z3O.j0H(2);t36[i2R + i36.name]=z3O.a0H(J36,Y36);}s36=t36["_MACD " + i36.name];if(P36 < c36 + (a36 - 1))continue;N36=d36(a36,P36,"_MACD");L36=N36[1] > N36[0]?100 * (s36 - N36[0]) / (N36[1] - N36[+"0"]):L36;if(s36 || s36 === +"0"){P2R="_";P2R+="P";P2R+="F";P2R+=" ";m2R="_";m2R+="PF ";t36["_PF " + i36.name]=v36[P36 - 1][m2R + i36.name]?v36[P36 - 1]["_PF " + i36.name] + O36 * (L36 - v36[P36 - 1][P2R + i36.name]):L36;}o36=t36[l2R + i36.name];if(P36 < c36 + 2 * (a36 - 1))continue;N36=d36(a36,P36,"_PF");S36=N36[+"1"] > N36["0" - 0]?100 * (o36 - N36[0]) / (N36[1] - N36[0]):S36;if(o36 || o36 === ("0" | 0)){M2R="Resu";M2R+="l";M2R+="t";M2R+=" ";t36["Result " + i36.name]=v36[P36 - ("1" >> 782298752)]["Result " + i36.name]?v36[P36 - 1][M2R + i36.name] + O36 * (S36 - v36[P36 - 1]["Result " + i36.name]):S36;}}};C36.Studies.studyLibrary=C36.extend(C36.Studies.studyLibrary,{Schaff:{name:e2R,range:"0 to 100",calculateFN:C36.Studies.calculateSchaff,inputs:{Period:10,Field:D2R,"Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:75,studyOverBoughtColor:j2R,studyOverSoldValue:25,studyOverSoldColor:W2R}}}});}};b4Q=X36=>{var I2R,D36,y2R,V2R,v2R;I2R="unde";I2R+="fi";I2R+="ned";D36=typeof _CIQ !== I2R?_CIQ:X36.CIQ;if(!D36.Studies){y2R="shinohara feature requires fir";y2R+="st activating studies feature.";console.error(y2R);}else {V2R="#";V2R+="E";V2R+="99B54";v2R="Shinohara Intensity Rat";v2R+="io";D36.Studies.calculateShinohara=function(U36,g36){var B36,E36,d2R;B36=g36.chart.scrubbed;if(B36.length < g36.days + 1){g36.error=! !{};return;}E36={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(g36.startFrom > 1){E36=D36.clone(B36[g36.startFrom - 1]["_accums " + g36.name]);}for(var l36=g36.startFrom;l36 < B36.length;l36++){E36.weakNum+=B36[l36].High - B36[l36].Close;E36.weakDen+=B36[l36].Close - B36[l36].Low;if(l36 > 0){E36.strongNum+=B36[l36].High - B36[l36 - 1].Close;E36.strongDen+=B36[l36 - 1].Close - B36[l36].Low;}if(l36 >= g36.days){E36.weakNum-=B36[l36 - g36.days].High - B36[l36 - g36.days].Close;E36.weakDen-=B36[l36 - g36.days].Close - B36[l36 - g36.days].Low;B36[l36]["Weak Ratio " + g36.name]=100 * E36.weakNum / E36.weakDen;if(l36 > g36.days){d2R="Stron";d2R+="g Rati";d2R+="o ";E36.strongNum-=B36[l36 - g36.days].High - B36[l36 - g36.days - ("1" - 0)].Close;E36.strongDen-=B36[l36 - g36.days - 1].Close - B36[l36 - g36.days].Low;B36[l36][d2R + g36.name]=100 * E36.strongNum / E36.strongDen;}}B36[l36]["_accums " + g36.name]=D36.clone(E36);}};D36.Studies.studyLibrary=D36.extend(D36.Studies.studyLibrary,{Shinohara:{name:v2R,calculateFN:D36.Studies.calculateShinohara,inputs:{Period:+"26"},outputs:{"Strong Ratio":V2R,"Weak Ratio":"#5F7CB8"}}});}};L4Q=r36=>{var e36,t3R,u3R,s3R;e36=typeof _CIQ !== "undefined"?_CIQ:r36.CIQ;o2ss.U2O();if(!e36.Studies){console.error("stochastics feature requires first activating studies feature.");}else {t3R="a";t3R+="u";t3R+="t";t3R+="o";u3R="#";u3R+="FF0000";s3R="e";s3R+="m";s3R+="a";e36.Studies.calculateStochastics=function(h86,M36){var o2R,p2R,K36,H36,k36,f86,u86,G86;o2R="F";o2R+="a";o2R+="s";o2R+="t";p2R="Cl";p2R+="o";p2R+="s";p2R+="e";function x86(C86,y86,P86){var A86,n86,V86,C2R,T86,Q86,i86;o2ss.H0H(1);A86=o2ss.a0H(P86,1,C86);n86=Number.MAX_VALUE * - +"1";V86=Number.MAX_VALUE;for(var z86=A86;z86 <= C86;z86++){C2R="Cl";C2R+="o";C2R+="s";C2R+="e";T86=k36[z86][y86 == "Close"?"Low":y86];Q86=k36[z86][y86 == C2R?"High":y86];if(!T86 && T86 !== 0)continue;if(!Q86 && Q86 !== ("0" & 2147483647))continue;V86=Math.min(V86,T86);n86=Math.max(n86,Q86);}if(n86 == Number.MAX_VALUE * -1 || V86 == Number.MAX_VALUE){return null;}i86=n86 == V86?0:(k36[C86][y86] - V86) / (n86 - V86) * 100;return i86;}if(!M36.smooth){M36.smooth=M36.inputs.Smooth;}K36=M36.inputs.Field;if(!K36 || K36 == "field"){K36=p2R;}H36=M36.inputs["%K Periods"];if(!H36){H36=M36.days;}k36=M36.chart.scrubbed;if(k36.length < Math.max(H36,M36.days) + 1){M36.error=! !{};return;}f86=M36.inputs["%K Smoothing Periods"];if(f86){M36.smooth=!0;}else if(M36.smooth){f86=3;}u86=M36.inputs["%D Periods"];if(!u86){u86=3;}M36.outputMap={};M36.outputMap["%K " + M36.name]=o2R;M36.outputMap["%D " + M36.name]="Slow";for(var W36=Math.max(H36,M36.startFrom);W36 < k36.length;W36++){G86=x86(W36,K36,H36);if(G86 !== null){k36[W36][M36.name]=x86(W36,K36,H36);}}e36.Studies.MA("simple",M36.smooth?f86:"1" * 1,M36.name,0,"%K",h86,M36);e36.Studies.MA("simple",u86,"%K " + M36.name,0,"%D",h86,M36);};e36.Studies.calculateStochMomentum=function(a86,N86){var B2R,E2R,N2R,Z2R,f2R,S2R,Y2R,w2R,T2R,k2R,c86,L86,S86,J86,v86,t86,Y86,b86;B2R="%D Moving Average Typ";B2R+="e";E2R="_DH";E2R+="L2";N2R="_D";N2R+="H";N2R+="L1";N2R+=" ";Z2R="e";Z2R+="xponentia";Z2R+="l";f2R="_D";f2R+="HL";f2R+=" ";S2R="_HS1";S2R+=" ";Y2R="exponent";Y2R+="ia";Y2R+="l";w2R="ex";w2R+="ponential";T2R="%K ";T2R+="Double Smoothing Periods";k2R="%K ";k2R+="Smoot";k2R+="hing ";k2R+="Periods";c86=Number(N86.inputs["%K Periods"]);L86=Number(N86.inputs[k2R]);S86=Number(N86.inputs[T2R]);J86=Number(N86.inputs["%D Periods"]);v86=N86.chart.scrubbed;if(v86.length < c86 + L86 + S86 - +"1" || v86.length < J86){N86.error=! ![];return;}o2ss.p2O();for(t86=Math.max(c86,N86.startFrom) - 1;t86 < v86.length;t86++){Y86=v86[t86];b86=s86(c86,t86);Y86["_H " + N86.name]=Y86.Close - (b86[0] + b86[+"1"]) / +"2";Y86["_DHL " + N86.name]=b86[+"1"] - b86[0];}e36.Studies.MA(w2R,L86,"_H " + N86.name,0,"_HS1",a86,N86);e36.Studies.MA(Y2R,S86,S2R + N86.name,0,"_HS2",a86,N86);e36.Studies.MA("exponential",L86,f2R + N86.name,"0" ^ 0,"_DHL1",a86,N86);e36.Studies.MA(Z2R,S86,N2R + N86.name,"0" << 105870720,E2R,a86,N86);for(t86=c86 - 1;t86 < v86.length;t86++){v86[t86]["%K " + N86.name]=v86[t86]["_HS2 " + N86.name] / (0.5 * v86[t86]["_DHL2 " + N86.name]) * 100;}function s86(d86,F86){var Z86,O86;Z86=null;O86=null;for(var o86=F86 - d86 + 1;o86 <= F86;o86++){Z86=Z86 === null?v86[o86].Low:Math.min(Z86,v86[o86].Low);O86=O86 === null?v86[o86].High:Math.max(O86,v86[o86].High);}return [Z86,O86];}e36.Studies.MA(N86.inputs[B2R],J86,"%K " + N86.name,0,"%D",a86,N86);N86.zoneOutput="%K";};e36.Studies.studyLibrary=e36.extend(e36.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:e36.Studies.calculateStochMomentum,inputs:{"%K Periods":"10" ^ 0,"%K Smoothing Periods":3,"%K Double Smoothing Periods":"3" >> 1810491232,"%D Periods":+"10","%D Moving Average Type":s3R},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:e36.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !1},outputs:{Fast:"auto",Slow:u3R},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:t3R}}}});}};S4Q=R86=>{var m86,G3R,g3R;o2ss.U2O();m86=typeof _CIQ !== "undefined"?_CIQ:R86.CIQ;if(!m86.Studies){G3R="supertrend fea";G3R+="tur";G3R+="e requires first activating studies feature.";console.error(G3R);}else {g3R="Sup";g3R+="ertre";g3R+="n";g3R+="d";m86.Studies.calculateSupertrend=function(B86,w86){var l8O=o2ss;var q86,S85,f85,Z85,x3R,Q3R,j86,X86,l86,p86,D86,a3R,K3R,n3R,c3R;q86=w86.chart.scrubbed;if(q86.length < w86.days + 1){w86.error=! !{};S85=1325994486;f85=384228241;Z85=2;for(var E85=1;l8O.J35(E85.toString(),E85.toString().length,+"64653") !== S85;E85++){return;}if(l8O.J35(Z85.toString(),Z85.toString().length,83184) !== f85){return;}return;}m86.Studies.calculateStudyATR(B86,w86);for(var I86=w86.startFrom;I86 < q86.length;I86++){x3R="_";x3R+="Dire";x3R+="ct";x3R+="ion ";Q3R="_Dir";Q3R+="ec";Q3R+="tion ";j86=q86[I86];if(!j86)continue;X86=(j86.High + j86.Low) / 2;l86=w86.inputs.Multiplier * j86["ATR " + w86.name];l8O.j0H(2);p86=l8O.Z0H(l86,X86);l8O.H0H(0);D86=l8O.Z0H(l86,X86);if(I86){a3R="_Do";a3R+="wntrend ";K3R="_Dow";K3R+="ntrend ";if(q86[I86 - 1] && q86[I86 - 1].Close && q86[I86 - 1].Close > q86[I86 - 1]["_Uptrend " + w86.name] && q86[I86 - 1]["_Uptrend " + w86.name] > p86){l8O.j0H(45);p86=q86[l8O.Z0H("1",I86)]["_Uptrend " + w86.name];}if(q86[I86 - 1] && q86[I86 - 1].Close && q86[I86 - ("1" ^ 0)].Close < q86[I86 - +"1"][K3R + w86.name] && q86[I86 - 1][a3R + w86.name] < D86){l8O.j0H(2);D86=q86[l8O.Z0H(1,I86)]["_Downtrend " + w86.name];}}j86[Q3R + w86.name]=1;if(I86){n3R="_Do";n3R+="wntren";n3R+="d ";c3R="_Direct";c3R+="i";c3R+="on ";l8O.j0H(2);j86["_Direction " + w86.name]=q86[l8O.a0H(1,I86)][c3R + w86.name];if(j86.Close > q86[I86 - +"1"][n3R + w86.name]){j86["_Direction " + w86.name]=1;}else if(j86.Close < q86[I86 - 1]["_Uptrend " + w86.name]){j86["_Direction " + w86.name]=-1;}}j86["_Uptrend " + w86.name]=p86;j86["_Downtrend " + w86.name]=D86;j86["Trend " + w86.name]=j86[x3R + w86.name] > "0" >> 290084224?p86:D86;if(!I86)continue;}w86.outputMap={};w86.outputMap["Trend " + w86.name]="";};m86.Studies.displaySupertrend=function(E86,g86,r86){var M86,U86,H86,n96,u96,k86,K86,e86,F3R,O3R,x96,G96;M86=E86.panels[g86.panel];U86=g86.getContext(E86);H86=g86.getYAxis(E86);n96={skipTransform:M86.name != g86.chart.name,skipProjections:! !{},label:E86.preferences.labels,yAxis:H86,highlight:g86.highlight};U86.strokeStyle=V96(E86,r86[r86.length - 1]);U86.lineWidth=2;if(g86.highlight){U86.lineWidth=1.5;}u96="Trend " + g86.name;for(var h96=0;M86.chart.transformFunc && H86 != M86.chart.yAxis && h96 < r86.length;h96++){k86=r86[h96];if(k86 && k86.transform){k86.transform[u96]=M86.chart.transformFunc(E86,M86.chart,k86[u96]);}}E86.plotDataSegmentAsLine(u96,M86,n96,V96);function V96(z96,y96,T96){var X3R;X3R="_Di";o2ss.U2O();X3R+="rectio";X3R+="n ";if(y96 && y96[X3R + g86.name] < 0){return g86.outputs.Downtrend;}return g86.outputs.Uptrend;}U86.lineWidth=1;U86.globalAlpha=1;E86.startClip(g86.panel);if(!g86.highlight && E86.highlightedDraggable){o2ss.H0H(2);U86.globalAlpha*=o2ss.Z0H(0,"0.3");}K86=U86.measureText("\u25B2").width / 2;for(e86=0;e86 < r86.length;e86++){F3R="_Di";F3R+="rection ";O3R="_";O3R+="Di";O3R+="r";O3R+="ection ";if(!r86[e86] || !r86[e86 - 1])continue;if(r86[e86 - 1][O3R + g86.name] > r86[e86]["_Direction " + g86.name]){U86.fillStyle=g86.outputs.Downtrend;U86.textBaseline="bottom";x96=E86.pixelFromPrice(r86[e86].High,M86,H86);for(var W86=5;W86 <= 45;W86+=10){if(H86.flipped){U86.fillText("\u25B2",E86.pixelFromBar(e86) - K86,x96 + W86);}else {U86.fillText((2380,9330) === (473.66,"8396" ^ 0)?0x18c1:("7031" * 1,714) <= (3967,6630)?(3868,374.11) > (617.72,8088)?(838.54,9.23e+3):"\u25BC":0x7b6,E86.pixelFromBar(e86) - K86,x96 - W86);}}}else if(r86[e86 - 1]["_Direction " + g86.name] < r86[e86][F3R + g86.name]){U86.fillStyle=g86.outputs.Uptrend;U86.textBaseline="top";G96=E86.pixelFromPrice(r86[e86].Low,M86,H86);for(var f96=5;f96 <= 45;f96+=10){if(H86.flipped){U86.fillText("\u25BC",E86.pixelFromBar(e86) - K86,G96 - f96);}else {U86.fillText(("5798" ^ 0) === 2520?6.50e+2:9460 < (1730,"891.63" - 0)?+"8110" >= 746?![]:(!"",575.40):"\u25B2",E86.pixelFromBar(e86) - K86,G96 + f96);}}}}E86.endClip();};m86.Studies.studyLibrary=m86.extend(m86.Studies.studyLibrary,{Supertrend:{name:g3R,overlay:! !"1",seriesFN:m86.Studies.displaySupertrend,calculateFN:m86.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:"0.1" * 1}}}});}};Y4Q=C96=>{o2ss.p2O();var Q96,J3R;Q96=typeof _CIQ !== "undefined"?_CIQ:C96.CIQ;if(!Q96.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {J3R="Accumulative Swi";J3R+="ng ";J3R+="In";J3R+="dex";Q96.Studies.calculateSwingIndex=function(s96,P96){var y8O=o2ss;var A3R,N96,A96,v96,L3R,a96,c96,Y96,J96,L96,b96,t96,S96;A3R="R";A3R+="e";A3R+="s";A3R+="ult ";N96=P96.inputs["Limit Move Value"];if(N96 === null || isNaN(N96)){N96=99999;}A96=P96.chart.scrubbed;v96=+"0";if(P96.startFrom > 1){v96=A96[P96.startFrom - 1][A3R + P96.name];}for(var i96=Math.max(1,P96.startFrom);i96 < A96.length;i96++){L3R="S";L3R+="wi";L3R+="ng";a96=Math.abs(A96[i96].High - A96[i96 - "1" * 1].Close);c96=Math.abs(A96[i96].Low - A96[i96 - 1].Close);Y96=Math.abs(A96[i96].High - A96[i96].Low);J96=Math.abs(A96[i96 - +"1"].Close - A96[i96 - 1].Open);L96=Math.max(a96,c96);b96=Math.max(Y96,L96);y8O.H0H(47);t96=y8O.Z0H(b96,J96,0.25);if(b96 == a96){y8O.j0H(20);t96-=y8O.Z0H(0.5,c96);}else if(b96 == c96){y8O.H0H(20);t96-=y8O.a0H(0.5,a96);}S96=+"50" * (A96[i96].Close - A96[i96 - ("1" << 2027157888)].Close + 0.5 * (A96[i96].Close - A96[i96].Open) + 0.25 * (A96[i96 - 1].Close - A96[i96 - 1].Open)) / t96 * (L96 / N96);if(t96 === 0 || N96 === 0){S96=0;}if(P96.type == L3R){v96=0;}v96+=S96;A96[i96]["Result " + P96.name]=v96;}};Q96.Studies.studyLibrary=Q96.extend(Q96.Studies.studyLibrary,{"Acc Swing":{name:J3R,calculateFN:Q96.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:Q96.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};J4Q=Z96=>{var U3R,o96;U3R="un";U3R+="defined";o96=typeof _CIQ !== U3R?_CIQ:Z96.CIQ;o2ss.p2O();if(!o96.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {o96.Studies.calculateTrendIntensity=function(p96,O96){var W8O=o2ss;var z3R,m96,R96,o85,k85,T85,w96,I96,F96,d96,q96,j96,r3R;z3R="fi";z3R+="e";z3R+="l";z3R+="d";m96=O96.chart.scrubbed;if(m96.length < O96.days + 1){O96.error=!0;return;}R96=O96.inputs.Field;if(!R96 || R96 == z3R){R96="Close";}o85=218947032;k85=-100619113;T85=2;for(var Y85=1;W8O.J35(Y85.toString(),Y85.toString().length,75372) !== o85;Y85++){o96.Studies.MA("_SMA",O96.days,R96,1,"_SMA",p96,O96);w96=6;I96=1;q96=[];j96=Math.ceil(O96.days * 0);T85+=2;}function D96(l96,X96){W8O.U2O();if(Math.abs(X96) < "0.00000001" - 0){return 100;}W8O.j0H(82);return W8O.a0H("1",l96,X96,100,100);}if(W8O.J35(T85.toString(),T85.toString().length,67427) !== k85){r3R="_";r3R+="SM";r3R+="A";o96.Studies.MA("ma",O96.days,R96,0,r3R,p96,O96);W8O.H0H(20);w96=W8O.Z0H("0",1);I96=0;q96=[];j96=Math.ceil(O96.days / 2);}for(F96=Math.max(0,O96.startFrom - j96);F96 < m96.length;F96++){if(!m96[F96]["_SMA " + O96.name] && m96[F96]["_SMA " + O96.name] !== 0)continue;d96=m96[F96][R96] - m96[F96]["_SMA " + O96.name];if(d96 < 0){W8O.H0H(83);I96+=W8O.a0H(1,d96);}else {w96+=d96;}q96.push(d96);if(q96.length > j96){d96=q96.shift();if(d96 < 0){W8O.j0H(83);I96-=W8O.a0H(1,d96);}else {w96-=d96;}}if(F96 < O96.startFrom)continue;m96[F96]["TII " + O96.name]=D96(w96,I96);}o96.Studies.MA("ema",O96.inputs["Signal Period"],"TII " + O96.name,0,"Signal",p96,O96);};o96.Studies.studyLibrary=o96.extend(o96.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:o96.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};s4Q=g96=>{var b3R,B96;b3R="u";b3R+="nd";b3R+="efine";b3R+="d";B96=typeof _CIQ !== b3R?_CIQ:g96.CIQ;if(!B96.Studies){console.error("trix feature requires first activating studies feature.");}else {B96.Studies.calculateTRIX=function(f76,E96){var s8O=o2ss;var H3R,q3R,U96,r96,H96,K96,R3R,W96,k96;H3R="_MA";H3R+="2 ";q3R="Cl";q3R+="o";q3R+="se";s8O.p2O();U96=E96.chart.scrubbed;if(U96.length < E96.days + 1){E96.error=!"";return;}r96=E96.name;s8O.j0H(0);H96=[q3R,s8O.Z0H(r96,"_MA1 "),s8O.Z0H(r96,H3R),s8O.Z0H(r96,"_MA3 ")];for(var M96=0;M96 < H96.length - 1;M96++){B96.Studies.MA("exponential",E96.days,H96[M96],0,"_MA" + (M96 + 1).toString(),f76,E96);}K96=H96[3];for(var e96=Math.max(1,E96.startFrom);e96 < U96.length;e96++){R3R="R";R3R+="es";R3R+="ult";R3R+=" ";s8O.j0H(2);W96=U96[s8O.Z0H(1,e96)][K96];if(!W96)continue;k96=U96[e96][K96];if(k96 || k96 === ("0" ^ 0)){s8O.j0H(0);U96[e96][s8O.Z0H(r96,R3R)]=s8O.a0H(k96,W96,100,1,s8O.j0H(76));}}};B96.Studies.studyLibrary=B96.extend(B96.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:B96.Studies.calculateTRIX}});}};o4Q=h76=>{var u76;u76=typeof _CIQ !== "undefined"?_CIQ:h76.CIQ;o2ss.p2O();if(!u76.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {u76.Studies.calculateTwiggsMoneyFlow=function(C76,x76){var V76,y76,n76,z76,i3R,h3R,m3R,T76,Q76;V76=x76.chart.scrubbed;if(V76.length < x76.days){x76.error=!"";return;}y76=0;n76=+"0";z76=V76[x76.startFrom - 1];if(z76){i3R="_";i3R+="su";i3R+="mV ";h3R="_";h3R+="sumMF";h3R+=" ";if(z76[h3R + x76.name]){y76=z76["_sumMF " + x76.name];}if(z76[i3R + x76.name]){n76=z76["_sumV " + x76.name];}}o2ss.U2O();for(var G76=Math.max(1,x76.startFrom);G76 < V76.length;G76++){m3R="_";m3R+="MFV";m3R+=" ";T76=Math.max(V76[G76 - +"1"].Close,V76[G76].High);Q76=Math.min(V76[G76 - 1].Close,V76[G76].Low);V76[G76][m3R + x76.name]=V76[G76].Volume * (2 * V76[G76].Close - T76 - Q76) / (T76 - Q76 === 0?+"999999":T76 - Q76);if(G76 > x76.days - 1){y76*=(x76.days - +"1") / x76.days;n76*=(x76.days - +"1") / x76.days;}y76+=V76[G76]["_MFV " + x76.name];n76+=V76[G76].Volume;if(G76 > x76.days - 1){if(n76){o2ss.j0H(4);V76[G76]["Result " + x76.name]=o2ss.a0H(n76 > 0?n76:"999999" - 0,y76);}}V76[G76]["_sumMF " + x76.name]=y76;V76[G76]["_sumV " + x76.name]=n76;}};u76.Studies.studyLibrary=u76.extend(u76.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:u76.Studies.calculateTwiggsMoneyFlow,inputs:{Period:"21" * 1}}});}};Z4Q=i76=>{var A76,P3R;A76=typeof _CIQ !== "undefined"?_CIQ:i76.CIQ;if(!A76.Studies){P3R="typicalPrice feature req";P3R+="uires first acti";P3R+="vating studies feat";P3R+="ure.";console.error(P3R);}else if(!A76.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {A76.Studies.studyLibrary=A76.extend(A76.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:A76.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:A76.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};O4Q=N76=>{var l3R,P76,M3R,I3R,W3R;o2ss.U2O();l3R="unde";l3R+="fined";P76=typeof _CIQ !== l3R?_CIQ:N76.CIQ;if(!P76.Studies){M3R="ulc";M3R+="erIndex feature req";M3R+="uires first ";M3R+="activating studies feature.";console.error(M3R);}else {I3R="f";I3R+="i";I3R+="eld";W3R="Ulce";W3R+="r Index";P76.Studies.calculateUlcerIndex=function(L76,v76){var D3R,e3R,a76,c76,t76,j3R,b76;D3R="_";D3R+="M";D3R+="A";e3R="s";e3R+="im";e3R+="pl";e3R+="e";a76=v76.chart.scrubbed;function S76(Z76,s76,o76){var J76;J76=null;for(var Y76=s76 - Z76 + 1;Y76 <= s76;Y76++){if(Y76 < "0" << 1117704672)continue;J76=J76 === null?a76[Y76][o76]:Math.max(J76,a76[Y76][o76]);}return J76;}if(a76.length < 2 * v76.days - ("1" ^ 0)){v76.error=!"";return;}c76=v76.inputs.Field;if(!c76 || c76 == "field"){c76="Close";}for(t76=Math.max(v76.startFrom,v76.days - +"1");t76 < a76.length;t76++){a76[t76]["_PD2 " + v76.name]=Math.pow(+"100" * (a76[t76][c76] / S76(v76.days,t76,c76) - 1),2);}o2ss.U2O();P76.Studies.MA(e3R,v76.days,"_PD2 " + v76.name,0,D3R,L76,v76);for(t76=Math.max(v76.startFrom,2 * (v76.days - 1));t76 < a76.length;t76++){j3R="Result";j3R+=" ";b76=a76[t76]["_MA " + v76.name];if(b76 || b76 === 0){a76[t76][j3R + v76.name]=Math.sqrt(b76);}}};P76.Studies.studyLibrary=P76.extend(P76.Studies.studyLibrary,{Ulcer:{name:W3R,calculateFN:P76.Studies.calculateUlcerIndex,inputs:{Period:14,Field:I3R}}});}};F4Q=F76=>{var O76,p3R;O76=typeof _CIQ !== "undefined"?_CIQ:F76.CIQ;if(!O76.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {p3R="a";p3R+="u";p3R+="t";p3R+="o";O76.Studies.calculateUltimateOscillator=function(k76,m76){var V8O=o2ss;var y3R,d76,w76,B85,s05,u05,p76,D76,X76,l76,q76,j76,d3R,V3R,v3R,B76,E76,U76,g76,e76,r76,M76,H76;y3R="C";y3R+="y";y3R+="cle 3";d76=m76.chart.scrubbed;w76=[m76.inputs["Cycle 1"],m76.inputs["Cycle 2"],m76.inputs[y3R]];B85=455124164;s05=-1431930783;V8O.H0H(5);u05=V8O.a0H(0,"2");V8O.U2O();for(var G05="1" >> 291727232;V8O.U35(G05.toString(),G05.toString().length,17788) !== B85;G05++){p76=Math.max(w76[5],w76["2" * 1],w76[0]);V8O.H0H(14);u05+=V8O.a0H(2147483647,"2");}if(V8O.U35(u05.toString(),u05.toString().length,58021) !== s05){p76=Math.max(w76[6],w76["5" << 509273504],w76[4]);}p76=Math.max(w76["0" * 1],w76[1],w76[2]);if(d76.length < p76 + "1" * 1){m76.error=! !{};return;}D76=w76[0] * w76[1];X76=w76[0] * w76[2];l76=w76[1] * w76[2];q76=[0,0,0];j76=[0,0,0];if(m76.startFrom){d3R="_a";d3R+="c";d3R+="ctr ";if(d76[m76.startFrom - 1]["_accbp " + m76.name]){q76=d76[m76.startFrom - 1]["_accbp " + m76.name].slice();}if(d76[m76.startFrom - ("1" - 0)][d3R + m76.name]){j76=d76[m76.startFrom - 1]["_acctr " + m76.name].slice();}}for(var R76=Math.max(1,m76.startFrom);R76 < d76.length;R76++){V3R="_";V3R+="acc";V3R+="tr";V3R+=" ";v3R="_a";v3R+="ccb";v3R+="p ";B76=Math.min(d76[R76].Low,d76[R76 - 1].Close);E76=d76[R76].Close - B76;U76=Math.max(d76[R76].High,d76[R76 - +"1"].Close) - B76;for(var I76=0;I76 < w76.length;I76++){q76[I76]+=E76;j76[I76]+=U76;if(R76 > w76[I76]){g76=Math.min(d76[R76 - w76[I76]].Low,d76[R76 - w76[I76] - 1].Close);e76=d76[R76 - w76[I76]].Close - g76;r76=Math.max(d76[R76 - w76[I76]].High,d76[R76 - w76[I76] - 1].Close) - g76;q76[I76]-=e76;j76[I76]-=r76;}}d76[R76][v3R + m76.name]=q76.slice();d76[R76][V3R + m76.name]=j76.slice();if(R76 < p76)continue;M76=l76 * q76[+"0"] / j76[0] + X76 * q76[1] / j76[+"1"] + D76 * q76["2" << 1309894144] / j76[2];V8O.H0H(46);H76=V8O.Z0H(D76,X76,l76);V8O.j0H(63);d76[R76]["Result " + m76.name]=V8O.a0H(100,H76,M76);}};O76.Studies.studyLibrary=O76.extend(O76.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:O76.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":"7" | 0,"Cycle 2":"14" >> 75357632,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:p3R,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};d4Q=W76=>{var C3R,K76,t8R;C3R="undefi";C3R+="ned";o2ss.U2O();K76=typeof _CIQ !== C3R?_CIQ:W76.CIQ;if(!K76.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {t8R="me";t8R+="d";t8R+="ia";t8R+="n";K76.Studies.calculateValuationLines=function(n66,f66,T66){var u8O=o2ss;var w3R,T3R,k3R,o3R,P66,t66,N66,Q66,C66,A66,i66,u66,h66,x66,V66,z66,v66;w3R="Display 3 S";w3R+="tandard Devi";w3R+="a";w3R+="tion (3\u03C3)";T3R="Display 2 Standard Deviat";T3R+="ion (2\u03C3)";k3R="Display ";k3R+="Average";o3R="Ave";o3R+="r";o3R+="age T";o3R+="ype";P66=f66.inputs.Field == "field"?"Close":f66.inputs.Field;t66=f66.inputs[o3R];N66=f66.inputs[k3R];Q66=f66.inputs["Display 1 Standard Deviation (1\u03C3)"];C66=f66.inputs[T3R];A66=f66.inputs[w3R];i66=[];for(var G66=0;G66 < T66.length;++G66){if(T66[G66] && !isNaN(T66[G66][P66])){i66.push(T66[G66][P66]);}}u66=(function(S66,s66){var Y3R,a66,b66,L66,c66,Y66,J66,u85,t85,G85;Y3R="m";Y3R+="e";Y3R+="di";Y3R+="an";a66=S66.length;b66=0;L66=0;c66=0;switch(s66){case "mean":L66=a66;for(;c66 < a66;++c66){b66+=S66[c66];}break;case "harmonic":b66=a66;for(;c66 < a66;++c66){L66+=1 / S66[c66];}break;case Y3R:u8O.H0H(4);Y66=Math.floor(u8O.a0H(2,a66));J66=S66.slice().sort(function(o66,Z66){if(o66 > Z66){u8O.j0H(17);return u8O.Z0H("1",449585440);}if(o66 < Z66){return -1;}u8O.j0H(2);return u8O.a0H(0,"0");});if(a66 % 2 === 0){b66=J66[Y66] + J66[Y66 - 1];L66=2;}else {b66=J66[Y66];u85=1216790033;t85=-1117918797;G85=2;for(var a85="1" - 0;u8O.J35(a85.toString(),a85.toString().length,77687) !== u85;a85++){u8O.H0H(14);L66=u8O.a0H(2147483647,"4");G85+=2;}if(u8O.J35(G85.toString(),G85.toString().length,89718) !== t85){L66=+"5";}L66=1;}break;}u8O.j0H(4);return u8O.a0H(L66,b66);})(i66,t66);h66=!(Q66 || C66 || A66) || (function(m66,R66){var F66,d66;F66=m66.length;d66=+"0";for(var O66=0;O66 < F66;++O66){d66+=Math.pow(m66[O66] - R66,"2" >> 1735189024);}u8O.H0H(4);return Math.sqrt(u8O.Z0H(F66,d66));})(i66,u66);f66.data={Average:N66?[u66]:null,"1 Standard Deviation (1\u03C3)":Q66?[u66 + h66,u66 - h66]:null,"2 Standard Deviation (2\u03C3)":C66?[u66 + h66 * 2,u66 - h66 * 2]:null,"3 Standard Deviation (3\u03C3)":A66?[u66 + h66 * 3,u66 - h66 * 3]:null};x66=h66;if(!f66.parameters){f66.parameters={};}if(A66){u8O.H0H(84);f66.parameters.range=[u8O.Z0H(h66,x66,0,"3",u66),u8O.Z0H(u66,3,x66,h66,u8O.H0H(85))];}else if(C66){u8O.H0H(86);f66.parameters.range=[u8O.a0H(x66,2,h66,u66),u8O.Z0H(u66,2,x66,h66,u8O.j0H(85))];}else if(Q66){u8O.H0H(59);f66.parameters.range=[u8O.Z0H(h66,u66,x66),u8O.Z0H(x66,h66,u66,u8O.j0H(46))];}else if(N66){u8O.H0H(2);f66.parameters.range=[u8O.a0H(x66,u66),u8O.a0H(x66,u66,u8O.j0H(0))];}if(f66.panel){V66=n66.panels[f66.panel];z66=n66.getYAxisByName(V66,f66.name);if(z66){z66.decimalPlaces=V66.chart.yAxis.printDecimalPlaces;v66={yAxis:z66};n66.calculateYAxisRange(V66,z66,f66.parameters.range["0" - 0],f66.parameters.range[1]);n66.createYAxis(V66,v66);n66.drawYAxis(V66,v66);}}};K76.Studies.displayValuationLines=function(I66,j66){var n8O=o2ss;n8O.U2O();var f3R,S3R,w66,p66,X66,g66,u56,h56,x56,l66,B66,E66,r66,M66,H66,k66,U66,e66,q66,K66,G56,W66,Z3R,u8R,s8R,B3R,E3R,N3R,f56;f3R="H";f3R+="A";f3R+="VG";S3R="Avera";S3R+="ge Ty";S3R+="pe";w66=I66.panels[j66.panel];p66=j66.getYAxis(I66);X66=j66.getContext(I66);g66=j66.data;u56=j66.parameters.labels;h56=j66.inputs[S3R];x56={mean:"AVG",median:"MED",harmonic:f3R};l66=I66.canvasStyle("ciq-valuation-average-line");B66=I66.canvasStyle("ciq-valuation-deviation-line");E66=3;r66=I66.getCanvasFontSize("stx_yaxis") + E66 * 2;for(var D66 in g66){Z3R="A";Z3R+="vera";Z3R+="ge";if(!g66[D66])continue;n8O.j0H(87);M66=n8O.a0H(D66,Z3R);H66=K76.Studies.determineColor(j66.outputs[D66]);k66=g66[D66];for(U66="0" << 117274272;U66 < k66.length;++U66){u8R="l";u8R+="ef";u8R+="t";s8R=":";s8R+=" ";B3R="l";B3R+="i";B3R+="n";B3R+="e";E3R="n";E3R+="o";E3R+="n";E3R+="e";N3R="s";N3R+="o";N3R+="lid";e66=k66[U66];q66=I66.pixelFromPrice(e66,w66,p66);if(q66 <= w66.top || q66 >= w66.yAxis.bottom)continue;W66=M66?{pattern:l66.borderStyle != "none"?l66.borderStyle || N3R:"solid",lineWidth:parseFloat(l66.borderWidth) || 1,opacity:parseFloat(l66.opacity) || "1" >> 793642304,yAxis:p66}:{pattern:B66.borderStyle != E3R?B66.borderStyle || "dashed":"dashed",lineWidth:parseFloat(B66.borderWidth) || 1,opacity:parseFloat(B66.opacity) || 1,yAxis:p66};I66.plotLine(w66.left,w66.right,q66,q66,H66,B3R,X66,w66,W66);if(u56 === "yaxis"){I66.createYAxisLabel(w66,I66.formatYAxisPrice(e66,w66),q66,H66,null,X66,p66);continue;}q66+=Math.floor(W66.lineWidth / ("2" - 0));if(q66 + r66 >= w66.yAxis.bottom)continue;K66=(M66?x56[h56] + s8R:D66[0] + "\u03C3: ") + I66.formatYAxisPrice(e66,w66);G56=X66.measureText(K66).width;f56=w66.right - G56 - E66;if(p66 && p66.position == u8R){f56=w66.left + E66;}n8O.j0H(88);X66.strokeText(K66,f56,n8O.a0H(r66,0.5,q66,2));}}};K76.Studies.studyLibrary=K76.extend(K76.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(V56,n56,y56){o2ss.U2O();K76.Studies.calculateValuationLines(V56,n56,y56);K76.Studies.displayValuationLines(V56,n56);},overlay:!"",yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean",t8R,"harmonic"],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":! !"","Display 2 Standard Deviation (2\u03C3)":! !0,"Display 3 Standard Deviation (3\u03C3)":! !""},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};m4Q=T56=>{o2ss.p2O();var z56,X8R;z56=typeof _CIQ !== "undefined"?_CIQ:T56.CIQ;if(!z56.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {X8R="Hist";X8R+="ori";X8R+="cal Volatility";z56.Studies.calculateRelativeVolatility=function(c56,Q56){var g8O=o2ss;var K8R,G8R,a56,B75,i65,j65,N56,S75,f75,Z75,C56,i56,P56,A56,t56,a8R;K8R="STD";K8R+=" ";K8R+="P";K8R+="eriod";G8R="Smoo";G8R+="th";G8R+="ing Per";G8R+="iod";Q56.days=Number(Q56.inputs[G8R]);a56=Number(Q56.inputs[K8R]);B75=1316763763;i65=-1450371431;j65=2;for(var s15=1;g8O.U35(s15.toString(),s15.toString().length,+"62904") !== B75;s15++){N56=Q56.chart.scrubbed;j65+=2;}if(g8O.U35(j65.toString(),j65.toString().length,32621) !== i65){N56=Q56.chart.scrubbed;}N56=Q56.chart.scrubbed;if(N56.length < Q56.days + a56){S75=1534969800;f75=-528717269;Z75=+"2";for(var E75=1;g8O.U35(E75.toString(),E75.toString().length,47118) !== S75;E75++){Q56.error=!1;return;}if(g8O.U35(Z75.toString(),Z75.toString().length,32374) !== f75){Q56.error=! !1;return;}Q56.error=! ![];return;}C56=Q56.inputs.Field;if(!C56 || C56 == "field"){C56="Close";}Q56.std=new z56.Studies.StudyDescriptor(Q56.name,"sdev",Q56.panel);Q56.std.chart=Q56.chart;Q56.std.days=a56;Q56.std.startFrom=Q56.startFrom;Q56.std.inputs={Field:C56,"Standard Deviations":1,Type:"ma"};Q56.std.outputs={_STD:null};z56.Studies.calculateStandardDeviation(c56,Q56.std);i56=0;P56=0;if(Q56.startFrom > 1){i56=N56[Q56.startFrom - ("1" ^ 0)]["_avgG " + Q56.name] || 0;P56=N56[Q56.startFrom - 1]["_avgL " + Q56.name] || 0;}for(var v56=Math.max(Q56.startFrom,Q56.days);v56 < N56.length;v56++){A56=N56[v56];g8O.j0H(2);t56=N56[g8O.a0H(1,v56)];if(!A56[C56] && A56[C56] !== 0)continue;if(!t56[C56] && t56[C56] !== 0)continue;if(!A56["_STD " + Q56.name] && A56["_STD " + Q56.name] !== 0)continue;if(A56[C56] > t56[C56]){i56=(i56 * (Q56.days - 1) + A56["_STD " + Q56.name]) / Q56.days;P56=P56 * (Q56.days - 1) / Q56.days;}else {a8R="_";a8R+="S";a8R+="TD";a8R+=" ";P56=(P56 * (Q56.days - 1) + A56[a8R + Q56.name]) / Q56.days;i56=i56 * (Q56.days - 1) / Q56.days;}A56["Rel Vol " + Q56.name]=b56(i56,P56);A56["_avgG " + Q56.name]=i56;A56["_avgL " + Q56.name]=P56;}Q56.zoneOutput="Rel Vol";function b56(L56,S56){g8O.p2O();if(L56 + S56 === 0){return 100;}g8O.H0H(89);return g8O.Z0H(1,L56,"100",L56,S56);}};z56.Studies.calculateHistoricalVolatility=function(m56,Y56){var J56,O56,F56,q56,Z56,s56,x8R,R56,w56,n8R,I56;J56=Y56.chart.scrubbed;if(J56.length < Y56.days + +"1"){Y56.error=! ![];return;}O56=Y56.inputs.Field;if(!O56 || O56 == "field"){O56="Close";}function j56(p56){var c8R,Q8R;c8R="m";c8R+="o";c8R+="nt";c8R+="h";Q8R="wee";Q8R+="k";if(isNaN(p56)){p56=365;}if(m56.layout.interval == "day"){return p56;}else if(m56.layout.interval == Q8R){o2ss.j0H(12);return o2ss.Z0H("52",20);}else if(m56.layout.interval == c8R){return 12;}return p56;}F56=Y56.inputs["Standard Deviations"];if(F56 < ("0" ^ 0)){F56=1;}q56=100 * Math.sqrt(j56(Y56.inputs["Days Per Year"])) * F56;Z56=[];s56=+"0";if(Y56.startFrom > "1" * 1){s56=J56[Y56.startFrom - 1]["_state " + Y56.name][0];Z56=J56[Y56.startFrom - 1]["_state " + Y56.name][1].slice();}for(var o56=Math.max(1,Y56.startFrom);o56 < J56.length;o56++){x8R="_sta";x8R+="te";x8R+=" ";o2ss.j0H(2);R56=J56[o2ss.Z0H(1,o56)][O56];if(R56){w56=Math.log(J56[o56][O56] / R56);Z56.push(w56);s56+=w56;if(o56 >= Y56.days){n8R="Resul";n8R+="t";n8R+=" ";I56=0;s56/=Y56.days;for(var d56=0;d56 < Z56.length;d56++){I56+=Math.pow(Z56[d56] - s56,2);}s56*=Y56.days;s56-=Z56.shift();J56[o56][n8R + Y56.name]=Math.sqrt(I56 / Y56.days) * q56;}}J56[o56][x8R + Y56.name]=[s56,Z56.slice()];}};z56.Studies.studyLibrary=z56.extend(z56.Studies.studyLibrary,{"Hist Vol":{name:X8R,calculateFN:z56.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:z56.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":+"14"},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};R4Q=X56=>{var O8R,D56;O8R="u";O8R+="n";O8R+="defined";o2ss.p2O();D56=typeof _CIQ !== O8R?_CIQ:X56.CIQ;if(!D56.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {D56.Studies.displayVolumeProfile=function(g56,e56,A06){var L8R,A8R,U56,M56,K56,u06,h06,z06,B56,F8R,W56,E56,i06,f06,k56,g8R,l56,T06,Q06,V06,n06,r56,P06,C06,N06,y06;L8R="Ba";L8R+="rs C";L8R+="ol";L8R+="or";function v06(O06,L06){var z5O=o2ss;var Y06,S06,c06,a06,b06,J06,s06,o06,Z06;if(!L06){z5O.H0H(14);r56-=z5O.a0H(2147483647,"2");}y06.canvasColor(O06);l56.beginPath();Y06=B56[0][0];S06=r56;for(var t06=1;t06 < B56.length;t06++){if(B56[t06][1]){c06=Math.round(r56 - B56[t06][1] * P06 / W56) - 0.5;a06=Math.round(y06.pixelFromTransformedValue(Y06,V06)) + +"0.5";b06=Math.round(y06.pixelFromTransformedValue(B56[t06]["0" * 1],V06)) + 0.5;if(!L06){a06-=0.5;b06+=0.5;c06+=0.5;}if(a06 > n06){a06=n06;}if(b06 < n06){l56.moveTo(r56,a06);l56.lineTo(r56,b06);l56.lineTo(c06,b06);l56.lineTo(c06,a06);if(L06){if(S06 > c06 || t06 == 1){l56.lineTo(S06,a06);};}else {l56.lineTo(r56,a06);if(h06){J06=D56.condenseInt(B56[t06][1]);z5O.j0H(2);s06=z5O.Z0H(b06,a06);if(Q06 <= s06 - 2){try{o06=l56.measureText(J06).width;}catch(F06){o06=0;}l56.textBaseline="top";Z06=l56.fillStyle;l56.fillStyle=C06;z5O.H0H(59);l56.fillText(J06,z5O.Z0H(o06,c06,3),z5O.a0H(b06,Q06,s06,"2",2,z5O.j0H(90)));l56.fillStyle=Z06;}}}}S06=c06;}else {S06=r56;;}Y06=B56[t06][0];}if(!e56.highlight && g56.highlightedDraggable){l56.globalAlpha*=0.3;}if(!L06){l56.fill();}l56.strokeStyle=C06;if(L06){l56.stroke();}l56.closePath();}A8R="co";A8R+="l";A8R+="or";if(!g56 || !g56.chart.dataSet){return;}U56=g56.chart;M56=e56.parameters.numberOfBars;K56=e56.parameters.widthPercentage;u06=e56.parameters.displayBorder;h06=e56.parameters.displayVolume;if(!M56 || M56 < 0){M56=30;}M56=Math.ceil(M56);if(!K56 || K56 < 0){K56=0.25;}if(u06 !== ![]){u06=!0;}if(h06 !== ! !1){h06=!"1";}z06=(U56.highValue - U56.lowValue) / M56;if(z06 === 0){return;}B56=[];for(var x06=U56.lowValue;x06 < U56.highValue + +"0.1";x06+=z06){o2ss.H0H(12);B56.push([x06,o2ss.Z0H("0",0)]);}if(B56.length < 2){F8R="Not enough data";F8R+=" to render th";F8R+="e Vo";F8R+="lume Profile";g56.displayErrorAsWatermark("chart",g56.translateIf(F8R));return;}W56=+"0";for(var G06=0;G06 < A06.length;G06++){E56=A06[G06];if(!E56)continue;i06=E56.Volume;if(e56.panel == U56.name && E56.transform){E56=E56.transform;}f06=B56[0][0];k56=0;for(var H56=+"1";H56 < B56.length;H56++){k56=B56[H56][0];if(E56.Low >= f06 && E56.Low <= k56 || E56.Low < f06 && E56.High > k56 || E56.High >= f06 && E56.High <= k56){B56[H56][+"1"]+=i06;if(B56[H56][+"1"] > W56){W56=B56[H56][1];}}f06=k56;}}if(W56 === +"0"){g8R="Not enough data t";g8R+="o render the Volume Profile";g56.displayErrorAsWatermark("chart",g56.translateIf(g8R));return;}g56.setStyle("stx_volume_profile",A8R,D56.Studies.determineColor(e56.outputs[L8R]));l56=e56.getContext(g56);T06="stx-float-date";g56.canvasFont(T06,l56);Q06=g56.getCanvasFontSize(T06);V06=U56.panel;n06=V06.yAxis.bottom;o2ss.U2O();r56=Math.round(U56.right) - 0.5;P06=U56.width * K56;C06=g56.canvasStyle("stx_volume_profile").borderTopColor;N06=!D56.isTransparent(g56.canvasStyle("stx_volume_profile").borderTopColor) && u06;y06=g56;v06("stx_volume_profile",! !"");if(N06){v06("stx_volume_profile",!"");}l56.globalAlpha=1;};D56.Studies.studyLibrary=D56.extend(D56.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:D56.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:!"",parameters:{init:{displayBorder:! ![],displayVolume:! !"",numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:! !{}},flippedEnabled:{hidden:! !"1"}}}});}};w4Q=m06=>{o2ss.p2O();var d06,H8R,q8R,b8R,r8R;d06=typeof _CIQ !== "undefined"?_CIQ:m06.CIQ;if(!d06.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {H8R="Volu";H8R+="m";H8R+="e U";H8R+="nderlay";q8R="Volume Rat";q8R+="e ";q8R+="of Ch";q8R+="ange";b8R="Trade";b8R+=" V";b8R+="olu";b8R+="me Index";r8R="fiel";r8R+="d";d06.Studies.calculateOnBalanceVolume=function(g06,I06){var J8O=o2ss;var J8R,R06,q06,B06,p06,D06,j06,X06,U8R,l06;J8R="fiel";J8R+="d";R06=I06.inputs.Field;J8O.p2O();if(!R06 || R06 == J8R){R06="Close";}q06=I06.inputs["Min Tick Value"];B06=!{};if(!q06 && q06 !== 0){B06=!"";q06=0;}p06=I06.chart.scrubbed;D06=0;for(var w06=I06.startFrom;w06 < p06.length;w06++){U8R="Re";U8R+="su";U8R+="lt";U8R+=" ";j06=p06[w06];if(!w06 || !j06[R06])continue;if(p06[w06 - 1][R06]){J8O.j0H(2);X06=p06[J8O.Z0H(1,w06)];}if(!X06)continue;if(j06[R06] - X06[R06] > q06){D06=1;}else if(X06[R06] - j06[R06] > q06){J8O.j0H(2);D06=-J8O.a0H(0,"1");}else if(B06){D06=0;}l06=X06[U8R + I06.name];if(!l06){l06=0;}l06+=j06.Volume * D06;j06["Result " + I06.name]=l06;}};d06.Studies.calculatePriceVolumeTrend=function(H06,r06){var e06,E06,M06;e06=r06.inputs.Field;if(!e06 || e06 == "field"){e06="Close";}E06=r06.chart.scrubbed;o2ss.p2O();M06=0;if(r06.startFrom > "1" - 0){M06=E06[r06.startFrom - 1]["Result " + r06.name];}for(var U06=Math.max(1,r06.startFrom);U06 < E06.length;U06++){if(!E06[U06][e06])continue;if(!E06[U06 - 1][e06])continue;M06+=E06[U06].Volume * (E06[U06][e06] - E06[U06 - 1][e06]) / E06[U06 - 1][e06];E06[U06]["Result " + r06.name]=M06;}};d06.Studies.calculateVolumeIndex=function(n46,k06){var h8O=o2ss;var z8R,h46,K06,x46,f46,G46,u46,V46;z8R="M";z8R+="A";h8O.p2O();h46=k06.inputs.Field;if(!h46 || h46 == "field"){h46="Close";}K06=k06.chart.scrubbed;if(K06.length < k06.days + 1){k06.error=! !{};return;}x46=100;if(k06.startFrom > 1){x46=K06[k06.startFrom - 1]["Index " + k06.name];}for(var W06=Math.max("1" - 0,k06.startFrom);W06 < K06.length;W06++){f46=K06[W06][h46];G46=K06[W06].Volume;if(f46 && typeof f46 == "object"){G46=f46.Volume;f46=f46[k06.subField];}h8O.H0H(2);u46=K06[h8O.Z0H(1,W06)][h46];V46=K06[W06 - 1].Volume;if(u46 && typeof u46 == "object"){V46=u46.Volume;u46=u46[k06.subField];}if(!f46)continue;if(!u46)continue;if(k06.type == "Pos Vol" && G46 > V46 || k06.type == "Neg Vol" && G46 < V46){h8O.j0H(4);x46*=h8O.Z0H(u46,f46);}K06[W06]["Index " + k06.name]=x46;}d06.Studies.MA(k06.inputs["Moving Average Type"],k06.days,"Index " + k06.name,0,z8R,n46,k06);};d06.Studies.studyLibrary=d06.extend(d06.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:d06.Studies.calculateVolumeIndex,inputs:{Period:255,Field:r8R,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:d06.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:d06.Studies.calculateVolumeIndex,inputs:{Period:"255" ^ 0,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:d06.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:b8R,calculateFN:d06.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:q8R,calculateFN:function(y46,z46){o2ss.U2O();if(d06.Studies.calculateRateOfChange){d06.Studies.calculateRateOfChange(y46,z46);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");d06.Studies.calculateRateOfChange=function(T46,Q46){};}},parameters:{init:{isVolume:! !1}}},"vol undr":{name:H8R,underlay:! !{},range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:0,position:"none",zoom:0,heightFactor:"0.25" - 0},seriesFN:d06.Studies.createVolumeChart,calculateFN:d06.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!0,removeFN:function(C46,A46){C46.layout.volumeUnderlay=!{};C46.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};I4Q=P46=>{var R8R,i46,P8R,m8R;R8R="u";R8R+="ndefin";R8R+="ed";i46=typeof _CIQ !== R8R?_CIQ:P46.CIQ;if(!i46.Studies){console.error("vortex feature requires first activating studies feature.");}else {P8R="0.";P8R+="0";P8R+="1";m8R="Vortex Indicat";m8R+="o";m8R+="r";i46.Studies.calculateVortex=function(s46,N46){var A8O=o2ss;var c46,b46,v46,h8R,i8R,t46,L46,S46,Y46,J46;c46=N46.chart.scrubbed;b46=N46.days;if(c46.length < b46 + 1){N46.error=! ![];return;}v46={tr:+"0",vmPlus:0,vmMinus:0};if(N46.startFrom > 1){h8R="_tot";h8R+="als";h8R+=" ";v46=i46.clone(c46[N46.startFrom - 1][h8R + N46.name]);}for(var a46=Math.max(N46.startFrom,1);a46 < c46.length;a46++){i8R="_";i8R+="True Range ";t46=c46[a46];A8O.j0H(2);L46=c46[A8O.a0H(1,a46)];S46=Math.abs(t46.High - L46.Low);Y46=Math.abs(t46.Low - L46.High);J46=Math.max(t46.High,L46.Close) - Math.min(t46.Low,L46.Close);v46.tr+=J46;v46.vmPlus+=S46;v46.vmMinus+=Y46;if(a46 > b46){A8O.j0H(2);v46.tr-=c46[A8O.Z0H(b46,a46)]["_True Range " + N46.name];A8O.H0H(2);v46.vmPlus-=c46[A8O.Z0H(b46,a46)]["_VMPlus " + N46.name];A8O.j0H(2);v46.vmMinus-=c46[A8O.a0H(b46,a46)]["_VMMinus " + N46.name];}t46[i8R + N46.name]=J46;t46["_VMPlus " + N46.name]=S46;t46["_VMMinus " + N46.name]=Y46;if(a46 >= b46){t46["+VI " + N46.name]=v46.vmPlus / v46.tr;t46["-VI " + N46.name]=v46.vmMinus / v46.tr;}t46["_totals " + N46.name]=i46.clone(v46);}};i46.Studies.studyLibrary=i46.extend(i46.Studies.studyLibrary,{Vortex:{name:m8R,calculateFN:i46.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:P8R}}}});}};q4Q=Z46=>{var o46,y8R,I8R,W8R;o46=typeof _CIQ !== "undefined"?_CIQ:Z46.CIQ;if(!o46.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {y8R="#ff";y8R+="d";y8R+="0";y8R+="cf";I8R="#";I8R+="ab61";I8R+="1";I8R+="f";W8R="0 t";W8R+="o m";W8R+="a";W8R+="x";o46.Studies.calculateMFI=function(q46,O46){var M8R,l8R,F46,w46,m46,R46,I46,d46;M8R="_";M8R+="h";M8R+="i";M8R+="gh ";l8R="Scal";l8R+="e F";l8R+="actor";F46=O46.chart.scrubbed;m46=0;R46=O46.inputs[l8R];if(!R46){R46=O46.study.inputs["Scale Factor"];}I46=Math.pow(10,Number(R46));if(O46.startFrom > 1){m46=F46[O46.startFrom - 1][M8R + O46.name];}for(d46=O46.startFrom;d46 < F46.length;d46++){if(!F46[d46])continue;if(F46[d46].Volume){F46[d46][O46.name + "_hist"]=w46=I46 * (F46[d46].High - F46[d46].Low) / F46[d46].Volume;F46[d46]["_high " + O46.name]=m46=Math.max(m46,w46);}}O46.outputMap={};O46.outputMap[O46.name + "_hist"]="";};o46.Studies.displayMFI=function(p46,j46,U46){var d8O=o2ss;var e8R,e46,l46,E46,r46,g46,M46,H46,k46,K46,j8R,D8R,D46,X46;e8R="st";e8R+="x_histogram";e46=p46.panels[j46.panel];l46=j46.getContext(p46);E46=j46.getYAxis(p46);r46=E46.flipped?E46.top:E46.bottom;g46=p46.layout.candleWidth - 2;if(g46 < 2){g46=1;}M46=o46.Studies.determineColor(j46.outputs.Green);H46=o46.Studies.determineColor(j46.outputs.Fade);k46=o46.Studies.determineColor(j46.outputs.Fake);K46=o46.Studies.determineColor(j46.outputs.Squat);p46.canvasColor(e8R);if(!j46.underlay){d8O.H0H(14);l46.globalAlpha=d8O.Z0H(2147483647,"1");}l46.fillStyle="#CCCCCC";p46.startClip(j46.panel);if(!j46.highlight && p46.highlightedDraggable){l46.globalAlpha*=+"0.3";}for(var B46=0;B46 < U46.length;B46++){j8R="_";j8R+="his";j8R+="t";D8R="_hi";D8R+="st";D46=U46[B46];d8O.H0H(2);X46=U46[d8O.Z0H(1,B46)];if(!X46){X46=p46.getPreviousBar(p46.chart,j46.name + "_hist",B46);}if(!D46)continue;if(!X46);else if(X46[j46.name + "_hist"] < D46[j46.name + D8R]){if(X46.Volume < D46.Volume){l46.fillStyle=M46;}else if(X46.Volume > D46.Volume){l46.fillStyle=k46;}}else if(X46[j46.name + j8R] > D46[j46.name + "_hist"]){if(X46.Volume < D46.Volume){l46.fillStyle=K46;}else if(X46.Volume > D46.Volume){l46.fillStyle=H46;}}if(D46.candleWidth){g46=Math.floor(Math.max(1,D46.candleWidth - 2));}l46.fillRect(Math.floor(p46.pixelFromBar(B46,e46.chart) - g46 / 2),Math.floor(r46),Math.floor(g46),Math.floor(p46.pixelFromPrice(D46[j46.name + "_hist"],e46,E46) - r46));}p46.endClip();};o46.Studies.studyLibrary=o46.extend(o46.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:o46.Studies.displayMFI,calculateFN:o46.Studies.calculateMFI,yAxis:{ground:! ![]},range:W8R,inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:I8R,Fake:"#5f7cb8",Squat:y8R}}});}};l4Q={CIQ:c0Q,SplinePlotter:j4Q,timezoneJS:p4Q,$$:D4Q,$$$:X4Q};export {b0Q as aggregations};export {L0Q as drawingAdvanced};export {S0Q as equationsAdvanced};export {Y0Q as highPerformanceMarkers};export {J0Q as renderersAdvanced};export {s0Q as accumulationDistribution};export {o0Q as adx};export {Z0Q as alligator};export {O0Q as aroon};export {F0Q as atr};export {d0Q as awesomeOscillator};export {m0Q as balanceOfPower};export {R0Q as bollinger};export {w0Q as cci};export {I0Q as centerOfGravity};export {q0Q as chaikin};export {j0Q as chande};export {p0Q as choppiness};export {D0Q as comparisonStudies};export {X0Q as coppock};export {l0Q as darvasBox};export {B0Q as detrended};export {g0Q as disparity};export {E0Q as easeOfMovement};export {U0Q as ehlerFisher};export {e0Q as elder};export {r0Q as fractalChaos};export {M0Q as highLowStudies};export {H0Q as ichimoku};export {k0Q as intradayMomentum};export {K0Q as keltner};export {W0Q as klinger};export {f4Q as linearRegression};export {u4Q as macd};export {h4Q as massIndex};export {x4Q as moneyFlow};export {G4Q as movingAverages};export {V4Q as parabolicSAR};export {n4Q as pivotPoints};export {y4Q as prettyGoodOscillator};export {z4Q as priceMomentumOscillator};export {T4Q as priceVolumeOscillator};export {Q4Q as primeNumber};export {C4Q as pring};export {A4Q as projectedVolume};export {i4Q as psychologicalLine};export {P4Q as qstick};export {N4Q as rainbow};export {v4Q as randomWalk};export {t4Q as relativeVigor};export {a4Q as rsi};export {c4Q as schaffTrendCycle};export {b4Q as shinohara};export {L4Q as stochastics};export {S4Q as supertrend};export {Y4Q as swingIndex};export {J4Q as trendIntensity};o2ss.U2O();export {s4Q as trix};export {o4Q as twiggsMoneyFlow};export {Z4Q as typicalPrice};export {O4Q as ulcerIndex};export {F4Q as ultimateOscillator};export {d4Q as valuationLines};export {m4Q as volatilityIndex};export {R4Q as volumeProfile};export {w4Q as volumeStudies};export {I4Q as vortex};export {q4Q as williamsMFI};export {c0Q as CIQ, j4Q as SplinePlotter, p4Q as timezoneJS, D4Q as $$, X4Q as $$$};if(typeof __TREE_SHAKE__ === y3mm || !__TREE_SHAKE__){(l4Q.CIQ || c0Q).activateImports(b0Q,L0Q,S0Q,Y0Q,J0Q,s0Q,o0Q,Z0Q,O0Q,F0Q,d0Q,m0Q,R0Q,w0Q,I0Q,q0Q,j0Q,p0Q,D0Q,X0Q,l0Q,B0Q,g0Q,E0Q,U0Q,e0Q,r0Q,M0Q,H0Q,k0Q,K0Q,W0Q,f4Q,u4Q,h4Q,x4Q,G4Q,V4Q,n4Q,y4Q,z4Q,T4Q,Q4Q,C4Q,A4Q,i4Q,P4Q,N4Q,v4Q,t4Q,a4Q,c4Q,b4Q,L4Q,S4Q,Y4Q,J4Q,s4Q,o4Q,Z4Q,O4Q,F4Q,d4Q,m4Q,R4Q,w4Q,I4Q,q4Q,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

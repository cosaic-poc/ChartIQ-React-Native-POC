/**
 *	8.7.0
 *	Generation date: 2022-07-07T13:42:50.212Z
 *	Client name: national bank of canada
 *	Package Type: Technical Analysis e98f22c
 *	License type: annual
 *	Expiration date: "2023/05/31"
 *	Domain lock: ["127.0.0.1","localhost","local","bnc.ca","bncconseillers.com","bncd.ca","bncsolutionsstructurees.ca","bnmf.ca","bnmf.ca","fbngp.ca","gestionprivee1859.ca","mon-portefeuille.ca","monportefeuilleplus.ca","my-portfolio.ca","myportfolioplus.ca","nbc.ca","nbcadvisor.com","nbcn.ca","nbcstructuredsolutions.ca","nbdb.ca","nbfm.ca","nbfwm.ca","privatebanking1859.ca","bninvestissements.ca","nbinvestments.ca","nbin.ca"]
 *	Filesystem lock: "file://*", "file:///c:/*", "file:///d:/*", "file:///e:/*"
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
h_yMd[401315]=(function(){var T74=2;for(;T74 !== 9;){switch(T74){case 5:var G6Y;try{var X_9=2;for(;X_9 !== 6;){switch(X_9){case 9:delete G6Y['\u0070\x66\u0057\u0047\x4e'];var g1e=Object['\x70\u0072\u006f\u0074\x6f\x74\u0079\x70\u0065'];delete g1e['\x49\u0031\x42\x79\x36'];X_9=6;break;case 3:throw "";X_9=9;break;case 4:X_9=typeof pfWGN === '\x75\u006e\u0064\x65\x66\x69\x6e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\u0069\u006e\u0065\u0050\u0072\u006f\u0070\x65\x72\u0074\x79'](Object['\u0070\x72\x6f\u0074\x6f\x74\x79\u0070\x65'],'\u0049\x31\u0042\x79\x36',{'\x67\x65\x74':function(){var N1O=2;for(;N1O !== 1;){switch(N1O){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});G6Y=I1By6;G6Y['\x70\x66\x57\u0047\u004e']=G6Y;X_9=4;break;}}}catch(X6j){G6Y=window;}return G6Y;break;case 1:return globalThis;break;case 2:T74=typeof globalThis === '\u006f\u0062\x6a\x65\u0063\u0074'?1:5;break;}}})();H__3br(h_yMd[401315]);function H__3br(r6Y){function T1K(O$x){var P9G=2;for(;P9G !== 5;){switch(P9G){case 2:var K4Q=[arguments];return K4Q[0][0].RegExp;break;}}}function A0P(o12){var W1o=2;for(;W1o !== 5;){switch(W1o){case 2:var y1J=[arguments];return y1J[0][0].Array;break;}}}var l10=2;for(;l10 !== 96;){switch(l10){case 40:s1X[69]="Z";s1X[36]="";s1X[36]="ct";s1X[49]="";s1X[49]="tra";s1X[85]="";l10=53;break;case 59:s1X[60]=s1X[79];s1X[60]+=s1X[66];s1X[60]+=s1X[88];s1X[81]=s1X[57];s1X[81]+=s1X[14];s1X[81]+=s1X[21];l10=76;break;case 102:X0_(T1K,"test",s1X[77],s1X[70]);l10=101;break;case 2:var s1X=[arguments];s1X[2]="";s1X[2]="l";s1X[7]="";l10=3;break;case 68:s1X[16]+=s1X[76];s1X[46]=s1X[10];s1X[46]+=s1X[92];s1X[46]+=s1X[82];s1X[44]=s1X[90];s1X[44]+=s1X[23];s1X[44]+=s1X[5];l10=86;break;case 53:s1X[85]="__abs";s1X[57]="";s1X[14]="bn";s1X[57]="";l10=49;break;case 98:X0_(l8m,s1X[20],s1X[62],s1X[81]);l10=97;break;case 3:s1X[7]="";s1X[7]="L";s1X[1]="";s1X[1]="M";l10=6;break;case 21:s1X[10]="__op";s1X[76]="";s1X[76]="s9";s1X[33]="";l10=32;break;case 25:s1X[82]="e";s1X[92]="";s1X[23]="4b";s1X[92]="timiz";l10=21;break;case 103:X0_(d8X,"charCodeAt",s1X[77],s1X[87]);l10=102;break;case 19:s1X[3]="al";s1X[9]="";s1X[9]="_residu";s1X[5]="QQ";s1X[90]="";s1X[90]="b";s1X[82]="";l10=25;break;case 72:s1X[86]+=s1X[54];s1X[86]+=s1X[26];s1X[16]=s1X[33];s1X[16]+=s1X[96];l10=68;break;case 6:s1X[4]="";s1X[4]="O_";s1X[8]="";s1X[8]="";s1X[8]="J8";s1X[6]="b3l";s1X[3]="";l10=19;break;case 63:s1X[77]=8;s1X[77]=1;s1X[62]=9;s1X[62]=0;l10=59;break;case 99:X0_(A0P,"push",s1X[77],s1X[86]);l10=98;break;case 32:s1X[96]="B";s1X[33]="H6a";s1X[26]="";s1X[26]="IE";l10=28;break;case 82:s1X[70]+=s1X[4];s1X[70]+=s1X[1];s1X[87]=s1X[6];s1X[87]+=s1X[7];l10=78;break;case 78:s1X[87]+=s1X[2];l10=104;break;case 104:var X0_=function(t9w,Z$$,o_J,B0k){var z2c=2;for(;z2c !== 5;){switch(z2c){case 2:var l08=[arguments];p91(s1X[0][0],l08[0][0],l08[0][1],l08[0][2],l08[0][3]);z2c=5;break;}}};l10=103;break;case 100:X0_(l8m,s1X[46],s1X[62],s1X[16]);l10=99;break;case 76:s1X[20]=s1X[85];s1X[20]+=s1X[49];s1X[20]+=s1X[36];s1X[86]=s1X[69];l10=72;break;case 86:s1X[15]=s1X[21];s1X[15]+=s1X[9];s1X[15]+=s1X[3];s1X[70]=s1X[8];l10=82;break;case 97:X0_(s66,"apply",s1X[77],s1X[60]);l10=96;break;case 28:s1X[54]="";s1X[54]="";s1X[54]="04g";s1X[69]="";s1X[69]="";l10=40;break;case 101:X0_(l8m,s1X[15],s1X[62],s1X[44]);l10=100;break;case 49:s1X[21]="_";s1X[57]="a2n";s1X[88]="G";s1X[66]="nwh";s1X[79]="";s1X[79]="b_";s1X[77]=7;l10=63;break;}}function d8X(p2J){var p7e=2;for(;p7e !== 5;){switch(p7e){case 2:var Y2g=[arguments];return Y2g[0][0].String;break;}}}function l8m(T_9){var d7O=2;for(;d7O !== 5;){switch(d7O){case 2:var m1h=[arguments];return m1h[0][0];break;}}}function p91(b2G,N0_,I1L,q1s,G7w){var P2z=2;for(;P2z !== 13;){switch(P2z){case 2:var e2E=[arguments];e2E[5]="";e2E[3]="ty";e2E[5]="";P2z=3;break;case 3:e2E[5]="oper";e2E[6]="";e2E[6]="";e2E[6]="definePr";P2z=6;break;case 6:e2E[2]=false;try{var n91=2;for(;n91 !== 13;){switch(n91){case 2:e2E[7]={};e2E[9]=(1,e2E[0][1])(e2E[0][0]);e2E[1]=[e2E[9],e2E[9].prototype][e2E[0][3]];n91=4;break;case 4:n91=e2E[1].hasOwnProperty(e2E[0][4]) && e2E[1][e2E[0][4]] === e2E[1][e2E[0][2]]?3:9;break;case 3:return;break;case 6:e2E[7].enumerable=e2E[2];try{var w4r=2;for(;w4r !== 3;){switch(w4r){case 2:e2E[4]=e2E[6];e2E[4]+=e2E[5];e2E[4]+=e2E[3];e2E[0][0].Object[e2E[4]](e2E[1],e2E[0][4],e2E[7]);w4r=3;break;}}}catch(l3C){}n91=13;break;case 9:e2E[1][e2E[0][4]]=e2E[1][e2E[0][2]];e2E[7].set=function(P3r){var s3n=2;for(;s3n !== 5;){switch(s3n){case 2:var I4B=[arguments];e2E[1][e2E[0][2]]=I4B[0][0];s3n=5;break;}}};e2E[7].get=function(){var S14=2;for(;S14 !== 6;){switch(S14){case 9:M0v[9]+=M0v[3];M0v[9]+=M0v[8];return typeof e2E[1][e2E[0][2]] == M0v[9]?undefined:e2E[1][e2E[0][2]];break;case 2:var M0v=[arguments];M0v[8]="ed";M0v[3]="efin";M0v[7]="und";M0v[9]=M0v[7];S14=9;break;}}};n91=6;break;}}}catch(h$8){}P2z=13;break;}}}function s66(C_K){var B3T=2;for(;B3T !== 5;){switch(B3T){case 2:var F4x=[arguments];return F4x[0][0].Function;break;}}}}h_yMd[278412]=h_yMd[137137];h_yMd[137137]=(function(b_g){return {N_oBr3W:function(){var X4v,l2q=arguments;switch(b_g){case 179:X4v=l2q[3] - l2q[1] / (l2q[0] + l2q[2]);break;case 119:X4v=(l2q[0] - (l2q[2] + l2q[4])) / (l2q[1] - l2q[3]);break;case 175:X4v=(l2q[0] + l2q[1]) * l2q[3] - l2q[2] - l2q[4];break;case 132:X4v=(l2q[2] + l2q[0]) * l2q[1];break;case 107:X4v=(l2q[1] + l2q[0] * l2q[2]) / (l2q[4] >> l2q[3]);break;case 46:X4v=(-l2q[2] * l2q[3] + l2q[0]) / l2q[1] + l2q[4];break;case 70:X4v=(l2q[4] - l2q[3] - l2q[2]) * l2q[0] + l2q[1];break;case 20:X4v=l2q[2] + l2q[0] * l2q[1];break;case 182:X4v=(-l2q[3] - l2q[0]) * l2q[2] - l2q[4] + l2q[1];break;case 188:X4v=l2q[3] - l2q[0] * l2q[2] - l2q[1];break;case 115:X4v=l2q[2] + l2q[6] + l2q[3] + l2q[1] + l2q[7] + l2q[4] + l2q[5] + l2q[0];break;case 8:X4v=-l2q[2] - l2q[1] + l2q[0];break;case 27:X4v=(l2q[0] - l2q[2]) / +l2q[1];break;case 89:X4v=l2q[1] * (l2q[4] + l2q[2]) / (l2q[0] >> l2q[3]);break;case 65:X4v=l2q[4] - l2q[3] + l2q[0] + l2q[1] + l2q[2];break;case 96:X4v=(l2q[2] + l2q[1]) / +l2q[0];break;case 123:X4v=l2q[0] + l2q[3] + l2q[4] + l2q[2] - l2q[1];break;case 184:X4v=l2q[0] * -l2q[1];break;case 113:X4v=-l2q[4] / l2q[0] * l2q[3] - l2q[2] + l2q[1];break;case 143:X4v=(l2q[4] + l2q[0]) * l2q[2] + l2q[1] - l2q[3];break;case 90:X4v=l2q[4] * (l2q[3] * l2q[2] + l2q[1]) / l2q[0];break;case 53:X4v=l2q[4] * l2q[2] * l2q[1] * l2q[3] - l2q[0];break;case 76:X4v=l2q[2] / l2q[1] + l2q[0];break;case 104:X4v=l2q[3] + (l2q[5] - l2q[2]) / (l2q[1] - l2q[6]) * (l2q[0] - l2q[4]);break;case 176:X4v=-l2q[3] - l2q[0] - l2q[1] + l2q[2];break;case 165:X4v=l2q[4] / l2q[3] * l2q[2] * l2q[1] + l2q[0];break;case 39:X4v=l2q[0] / l2q[1] / l2q[3] - l2q[2];break;case 122:X4v=-l2q[3] * l2q[0] / l2q[2] * l2q[4] + l2q[1];break;case 130:X4v=(l2q[0] * l2q[3] - l2q[4]) / l2q[1] - l2q[2];break;case 167:X4v=l2q[1] * l2q[3] + l2q[0] - l2q[2];break;case 151:X4v=(-l2q[3] / l2q[4] - l2q[2]) / l2q[0] + l2q[1];break;case 147:X4v=(-l2q[1] - l2q[2]) * l2q[3] + l2q[0] + l2q[4];break;case 124:X4v=-l2q[2] / l2q[3] / l2q[0] + l2q[1];break;case 149:X4v=-l2q[0] / l2q[2] + l2q[1];break;case 171:X4v=-l2q[1] - l2q[3] + l2q[2] + l2q[0];break;case 54:X4v=(l2q[2] - l2q[1]) * l2q[0] / l2q[4] + l2q[3];break;case 34:X4v=(l2q[0] + l2q[1]) / l2q[3] - l2q[2];break;case 23:X4v=l2q[1] - +l2q[0];break;case 79:X4v=(l2q[1] / l2q[2] - l2q[4]) / l2q[0] + l2q[3];break;case 192:X4v=l2q[3] / l2q[0] / l2q[2] + l2q[4] - l2q[1];break;case 150:X4v=l2q[2] * l2q[1] / (l2q[0] + l2q[3]);break;case 7:X4v=l2q[0] - l2q[2] + l2q[1] + l2q[3];break;case 2:X4v=l2q[0] + l2q[1];break;case 161:X4v=(l2q[0] - l2q[1]) * l2q[2] + l2q[4] - l2q[3];break;case 86:X4v=l2q[1] + (l2q[0] - l2q[2]) / l2q[3];break;case 81:X4v=l2q[1] + +l2q[0];break;case 56:X4v=l2q[3] - l2q[2] + l2q[0] + l2q[4] - l2q[1];break;case 9:X4v=l2q[0] / l2q[1];break;case 181:X4v=-l2q[1] * l2q[2] + l2q[0];break;case 48:X4v=l2q[0] + l2q[2] / l2q[1];break;case 142:X4v=-l2q[0] + l2q[2] + l2q[1] - l2q[3];break;case 62:X4v=l2q[3] * l2q[2] + l2q[0] - l2q[1] - l2q[4];break;case 141:X4v=l2q[1] + (l2q[0] | l2q[2]) * l2q[3];break;case 88:X4v=l2q[0] + +l2q[1] / l2q[2];break;case 101:X4v=-(l2q[3] - l2q[2]) * l2q[0] + l2q[1];break;case 172:X4v=l2q[0] > l2q[1];break;case 160:X4v=l2q[0] + l2q[3] * (l2q[2] - l2q[1]);break;case 5:X4v=l2q[1] - l2q[0];break;case 33:X4v=l2q[3] + l2q[0] + l2q[1] - l2q[2];break;case 157:X4v=l2q[1] / l2q[0] / l2q[3] + l2q[2];break;case 144:X4v=(l2q[0] - l2q[2]) / l2q[4] + l2q[1] + l2q[3];break;case 77:X4v=l2q[1] + l2q[4] - l2q[0] - l2q[3] - l2q[2];break;case 16:X4v=l2q[1] - (l2q[0] ^ l2q[2]);break;case 108:X4v=(l2q[1] + l2q[2] * l2q[3]) / l2q[0];break;case 145:X4v=-l2q[3] / l2q[1] * l2q[4] / l2q[2] + l2q[0];break;case 185:X4v=(l2q[0] / l2q[4] - l2q[2]) * l2q[3] - l2q[1];break;case 174:X4v=l2q[2] / l2q[1] + l2q[3] - l2q[4] + l2q[0];break;case 11:X4v=l2q[3] * l2q[1] * l2q[2] - l2q[0];break;case 118:X4v=l2q[1] - l2q[2] - (l2q[3] ^ l2q[0]);break;case 125:X4v=-l2q[0] + l2q[3] + l2q[4] + l2q[1] - l2q[2];break;case 92:X4v=(l2q[2] - l2q[3] * l2q[0]) / l2q[1];break;case 138:X4v=(-l2q[0] - l2q[3] - l2q[4]) / l2q[2] + l2q[1];break;case 131:X4v=(l2q[1] + l2q[4]) / l2q[2] + l2q[0] - l2q[3];break;case 22:X4v=l2q[2] / (l2q[1] / +l2q[0]);break;case 187:X4v=(l2q[3] - l2q[1]) * l2q[2] - l2q[0];break;case 69:X4v=-l2q[1] * l2q[2] + l2q[0] + l2q[3];break;case 42:X4v=l2q[1] ^ l2q[0];break;case 98:X4v=l2q[4] * l2q[0] * l2q[1] / l2q[3] - l2q[2];break;case 93:X4v=l2q[1] * l2q[0] + l2q[2];break;case 58:X4v=l2q[2] / l2q[1] + l2q[0] + l2q[3] - l2q[4];break;case 156:X4v=(l2q[1] - l2q[2]) / l2q[0] / l2q[4] + l2q[3];break;case 13:X4v=-l2q[3] / l2q[1] * l2q[2] + l2q[0];break;case 136:X4v=l2q[2] * l2q[0] * l2q[3] / l2q[4] + l2q[1];break;case 153:X4v=l2q[0] * l2q[1] * l2q[2];break;case 139:X4v=l2q[1] / l2q[2] - +l2q[0];break;case 85:X4v=l2q[0] / +l2q[1];break;case 1:X4v=l2q[3] + l2q[1] - l2q[0] - l2q[2];break;case 78:X4v=(l2q[2] + l2q[3]) * l2q[1] - l2q[0];break;case 177:X4v=l2q[3] - l2q[0] - l2q[4] + l2q[1] + l2q[2];break;case 102:X4v=l2q[1] * l2q[2] - l2q[3] + l2q[0] - l2q[4];break;case 24:X4v=l2q[0] | l2q[1];break;case 105:X4v=(l2q[4] * l2q[0] + l2q[3]) / (l2q[1] | l2q[2]);break;case 146:X4v=(-l2q[1] + l2q[2]) * l2q[3] + l2q[0];break;case 25:X4v=-l2q[0] * l2q[2] + l2q[3] + l2q[4] - l2q[1];break;case 10:X4v=l2q[2] * l2q[1] - l2q[0];break;case 189:X4v=l2q[0] + l2q[3] * l2q[2] + l2q[1];break;case 126:X4v=l2q[1] / l2q[3] - l2q[4] - l2q[2] - l2q[0];break;case 190:X4v=l2q[1] == l2q[0];break;case 84:X4v=l2q[1] / (l2q[0] - l2q[2]);break;case 100:X4v=(l2q[1] + l2q[4] - l2q[3]) / l2q[2] + l2q[0];break;case 0:X4v=l2q[1] / l2q[2] - l2q[0];break;case 103:X4v=-l2q[2] / l2q[3] - l2q[1] + l2q[0];break;case 106:X4v=((l2q[0] >> l2q[2]) * l2q[4] + l2q[1]) / l2q[3];break;case 109:X4v=(l2q[1] - l2q[0]) / l2q[2];break;case 43:X4v=(-l2q[3] + l2q[4]) / l2q[1] / l2q[0] + l2q[2];break;case 37:X4v=l2q[0] * l2q[1] - l2q[2] - l2q[3];break;case 186:X4v=(-l2q[3] + l2q[2] - l2q[1]) * l2q[4] + l2q[0];break;case 15:X4v=(l2q[0] - l2q[1] - l2q[4]) / l2q[3] + l2q[2];break;case 12:X4v=-l2q[1] + l2q[0];break;case 26:X4v=l2q[0] - (l2q[1] - l2q[2]);break;case 191:X4v=l2q[0] + l2q[2] / l2q[1] + l2q[3];break;case 80:X4v=(l2q[3] - l2q[1]) / l2q[2] + l2q[0];break;case 197:X4v=(-l2q[0] + l2q[2]) / l2q[1] - l2q[3];break;case 40:X4v=l2q[1] << l2q[0];break;case 36:X4v=l2q[2] + (l2q[1] - l2q[0]);break;case 73:X4v=l2q[1] - l2q[0] - l2q[2] + l2q[3];break;case 68:X4v=(l2q[3] - l2q[0]) / (l2q[2] - l2q[1]);break;case 95:X4v=l2q[0] + l2q[2] + l2q[1];break;case 29:X4v=l2q[0] - l2q[1] + l2q[3] - l2q[2];break;case 121:X4v=l2q[4] - l2q[3] + l2q[1] - l2q[0] + l2q[2];break;case 31:X4v=l2q[3] / l2q[0] / l2q[2] / l2q[4] - l2q[1];break;case 75:X4v=(l2q[0] - l2q[5]) * (l2q[3] - l2q[4]) / (l2q[6] - l2q[1]) + l2q[2];break;case 137:X4v=-l2q[2] * l2q[3] * l2q[1] + l2q[0];break;case 112:X4v=(l2q[2] - l2q[4]) / l2q[1] - l2q[0] + l2q[3];break;case 44:X4v=(l2q[2] - l2q[1]) * l2q[0] - l2q[4] + l2q[3];break;case 170:X4v=l2q[0] / (l2q[3] * l2q[1]) <= l2q[2];break;case 83:X4v=l2q[0] + l2q[2] - l2q[4] + l2q[1] - l2q[3];break;case 173:X4v=l2q[2] * (l2q[3] + l2q[1] * l2q[0]);break;case 21:X4v=l2q[2] - l2q[0] * l2q[1];break;case 164:X4v=(l2q[3] / l2q[0] + l2q[2]) * l2q[1] + l2q[4];break;case 50:X4v=-l2q[1] * l2q[3] / l2q[2] + l2q[0];break;case 55:X4v=(l2q[4] - l2q[1]) / (l2q[2] - l2q[3]) > l2q[0];break;case 6:X4v=l2q[2] - l2q[0] + l2q[1];break;case 110:X4v=l2q[2] * l2q[0] / l2q[1];break;case 193:X4v=l2q[0] * l2q[2] * l2q[1] * l2q[3];break;case 158:X4v=l2q[1] * (l2q[0] / l2q[2] - l2q[3]);break;case 120:X4v=l2q[2] + l2q[3] + l2q[1] + l2q[0];break;case 166:X4v=(l2q[1] - l2q[2]) * l2q[3] - l2q[4] - l2q[0];break;case 59:X4v=l2q[0] + l2q[3] - l2q[1] + l2q[2];break;case 127:X4v=l2q[1] + (l2q[2] >> l2q[0]);break;case 195:X4v=l2q[3] + (l2q[4] / l2q[1] - l2q[0] / l2q[2]);break;case 128:X4v=l2q[1] / l2q[0] - l2q[3] + l2q[2];break;case 45:X4v=l2q[2] / l2q[3] * l2q[0] - l2q[1];break;case 159:X4v=(-l2q[0] + l2q[4] + l2q[3]) / l2q[1] - l2q[2];break;case 99:X4v=l2q[1] * l2q[3] + l2q[0] + l2q[2] - l2q[4];break;case 4:X4v=l2q[0] + l2q[2] - l2q[1];break;case 129:X4v=(l2q[1] >> l2q[2]) * l2q[3] / l2q[0];break;case 87:X4v=l2q[0] - l2q[2] * (l2q[1] - l2q[3]);break;case 19:X4v=l2q[0] * l2q[1];break;case 135:X4v=l2q[2] * l2q[5] * l2q[4] + (l2q[6] - l2q[0] * l2q[1]) * l2q[3];break;case 133:X4v=+l2q[1] * l2q[2] / l2q[0];break;case 117:X4v=l2q[0] * +l2q[1];break;case 194:X4v=l2q[2] - l2q[1] - +l2q[0];break;case 74:X4v=-l2q[2] + l2q[0] - l2q[1] + l2q[3];break;case 63:X4v=(l2q[4] / l2q[2] + l2q[1]) / l2q[0] + l2q[3];break;case 134:X4v=(l2q[0] + l2q[2]) / l2q[3] + l2q[1];break;case 61:X4v=(l2q[0] + l2q[2]) * l2q[1] + l2q[3];break;case 38:X4v=(l2q[2] / l2q[3] + l2q[0]) / l2q[1] - l2q[4];break;case 162:X4v=(l2q[0] + l2q[4]) / l2q[2] - l2q[1] + l2q[3];break;case 72:X4v=+l2q[0] * l2q[1] - l2q[2];break;case 64:X4v=l2q[2] - l2q[0] - l2q[1] - l2q[3];break;case 3:X4v=(l2q[0] + l2q[2]) / l2q[1];break;case 155:X4v=+l2q[2] - +l2q[3] / (+l2q[0] + l2q[4] / l2q[1]);break;case 14:X4v=(l2q[2] + l2q[4] + l2q[1] + l2q[0]) / l2q[3];break;case 18:X4v=l2q[1] / (l2q[2] / l2q[0]);break;case 154:X4v=(-l2q[4] / l2q[2] + l2q[0]) / l2q[3] - l2q[1];break;case 148:X4v=-l2q[2] / l2q[1] + l2q[0] - l2q[3];break;case 60:X4v=l2q[2] / l2q[0] * l2q[1] / l2q[3] - l2q[4];break;case 168:X4v=(-l2q[3] - l2q[0]) * l2q[1] + l2q[2];break;case 49:X4v=l2q[1] + l2q[0] / +l2q[2];break;case 47:X4v=l2q[1] - l2q[0] / l2q[2];break;case 114:X4v=l2q[1] - (l2q[0] >> l2q[2]);break;case 52:X4v=-l2q[1] + l2q[2] + l2q[0];break;case 169:X4v=(l2q[2] % l2q[1] + l2q[0]) * l2q[3];break;case 66:X4v=l2q[1] / l2q[2] * l2q[0] + l2q[3];break;case 28:X4v=l2q[1] / l2q[0] + l2q[3] - l2q[2];break;case 57:X4v=(l2q[0] + l2q[3]) * l2q[1] * l2q[4] - l2q[2];break;case 97:X4v=l2q[3] / l2q[0] * l2q[1] / l2q[2] + l2q[4];break;case 82:X4v=(l2q[1] - l2q[0]) * l2q[2] + l2q[3];break;case 163:X4v=-l2q[3] / l2q[1] * l2q[4] * l2q[0] + l2q[2];break;case 94:X4v=l2q[1] + (l2q[2] << l2q[0]);break;case 17:X4v=l2q[0] >> l2q[1];break;case 71:X4v=l2q[3] * l2q[4] * l2q[0] + l2q[1] - l2q[2];break;case 111:X4v=l2q[0] !== l2q[1];break;case 196:X4v=l2q[0] * l2q[4] / l2q[1] / l2q[3] - l2q[2];break;case 180:X4v=-l2q[0] / l2q[4] / l2q[2] * l2q[1] + l2q[3];break;case 41:X4v=l2q[0] - l2q[2] - l2q[4] - l2q[1] + l2q[3];break;case 178:X4v=(l2q[1] + l2q[4]) / l2q[2] * l2q[3] - l2q[0];break;case 152:X4v=l2q[2] * l2q[4] - l2q[0] - l2q[1] - l2q[3];break;case 116:X4v=(-l2q[1] * l2q[2] - l2q[4]) / l2q[0] + l2q[3];break;case 67:X4v=l2q[0] < l2q[1];break;case 32:X4v=l2q[2] - l2q[1] - l2q[0];break;case 91:X4v=(l2q[2] * l2q[6] - l2q[0] * l2q[4]) / (l2q[1] * l2q[5] - l2q[3]);break;case 183:X4v=+l2q[0] - l2q[1] / (l2q[4] + l2q[3] / l2q[2]);break;case 140:X4v=(l2q[3] + l2q[0]) * l2q[2] / l2q[4] - l2q[1];break;case 51:X4v=l2q[1] * l2q[0] / l2q[2] - l2q[3];break;case 35:X4v=l2q[1] * l2q[0] < l2q[2];break;case 30:X4v=(l2q[4] - l2q[1]) / l2q[2] + l2q[3] - l2q[0];break;}return X4v;},B33_IJE:function(W8J){b_g=W8J;}};})();h_yMd[133174]=500;h_yMd[492471]=false;h_yMd.e5e=function(){return typeof h_yMd[137137].N_oBr3W === 'function'?h_yMd[137137].N_oBr3W.apply(h_yMd[137137],arguments):h_yMd[137137].N_oBr3W;};h_yMd.K8j=function(){return typeof h_yMd[577138].U0yhPC4 === 'function'?h_yMd[577138].U0yhPC4.apply(h_yMd[577138],arguments):h_yMd[577138].U0yhPC4;};function h_yMd(){}h_yMd.H5S=function(){return typeof h_yMd[653936].Y1UoZ$2 === 'function'?h_yMd[653936].Y1UoZ$2.apply(h_yMd[653936],arguments):h_yMd[653936].Y1UoZ$2;};h_yMd[653936]=(function(){var H9p=2;for(;H9p !== 9;){switch(H9p){case 4:b2T[8].Y1UoZ$2=function(){var c8d=2;for(;c8d !== 90;){switch(c8d){case 4:c2a[4]=[];c8d=3;break;case 71:c2a[49]++;c8d=76;break;case 40:c2a[25]=c2a[40];c2a[36]={};c2a[36].N$9=['I9H'];c8d=37;break;case 76:c8d=c2a[49] < c2a[60][c2a[63]].length?75:70;break;case 56:c2a[60]=c2a[4][c2a[76]];try{c2a[82]=c2a[60][c2a[92]]()?c2a[32]:c2a[59];}catch(k0B){c2a[82]=c2a[59];}c8d=77;break;case 2:var c2a=[arguments];c8d=1;break;case 67:b2T[2]=70;return 25;break;case 69:c8d=(function(t$F){var o82=2;for(;o82 !== 22;){switch(o82){case 13:Q3I[4][Q3I[1][c2a[97]]]=(function(){var s7L=2;for(;s7L !== 9;){switch(s7L){case 3:return f7m[1];break;case 2:var f7m=[arguments];f7m[1]={};f7m[1].h=0;f7m[1].t=0;s7L=3;break;}}}).b_nwhG(this,arguments);o82=12;break;case 18:Q3I[9]=false;o82=17;break;case 12:Q3I[3].Z04gIE(Q3I[1][c2a[97]]);o82=11;break;case 2:var Q3I=[arguments];o82=1;break;case 6:Q3I[1]=Q3I[0][0][Q3I[6]];o82=14;break;case 7:o82=Q3I[6] < Q3I[0][0].length?6:18;break;case 11:Q3I[4][Q3I[1][c2a[97]]].t+=true;o82=10;break;case 15:Q3I[8]=Q3I[3][Q3I[6]];Q3I[2]=Q3I[4][Q3I[8]].h / Q3I[4][Q3I[8]].t;o82=26;break;case 25:Q3I[9]=true;o82=24;break;case 8:Q3I[6]=0;o82=7;break;case 23:return Q3I[9];break;case 24:Q3I[6]++;o82=16;break;case 1:o82=Q3I[0][0].length === 0?5:4;break;case 16:o82=Q3I[6] < Q3I[3].length?15:23;break;case 17:Q3I[6]=0;o82=16;break;case 5:return;break;case 19:Q3I[6]++;o82=7;break;case 20:Q3I[4][Q3I[1][c2a[97]]].h+=true;o82=19;break;case 4:Q3I[4]={};Q3I[3]=[];Q3I[6]=0;o82=8;break;case 14:o82=typeof Q3I[4][Q3I[1][c2a[97]]] === 'undefined'?13:11;break;case 10:o82=Q3I[1][c2a[85]] === c2a[32]?20:19;break;case 26:o82=Q3I[2] >= 0.5?25:24;break;}}})(c2a[14])?68:67;break;case 53:c2a[4].Z04gIE(c2a[2]);c2a[4].Z04gIE(c2a[5]);c2a[4].Z04gIE(c2a[55]);c8d=50;break;case 1:c8d=b2T[2]?5:4;break;case 7:c2a[2]=c2a[6];c2a[9]={};c2a[9].N$9=['w1X'];c2a[9].E2G=function(){var D4C=function(){return encodeURIComponent('%');};var O$$=(/\x32\x35/).J8O_M(D4C + []);return O$$;};c2a[5]=c2a[9];c2a[8]={};c2a[8].N$9=['w1X'];c8d=20;break;case 37:c2a[36].E2G=function(){var z7G=typeof a2nbn_ === 'function';return z7G;};c2a[51]=c2a[36];c2a[4].Z04gIE(c2a[7]);c8d=53;break;case 75:c2a[30]={};c2a[30][c2a[97]]=c2a[60][c2a[63]][c2a[49]];c2a[30][c2a[85]]=c2a[82];c2a[14].Z04gIE(c2a[30]);c8d=71;break;case 46:c2a[4].Z04gIE(c2a[18]);c2a[4].Z04gIE(c2a[67]);c2a[14]=[];c8d=64;break;case 34:c2a[12]={};c2a[12].N$9=['I9H'];c2a[12].E2G=function(){var t4j=typeof H6aBs9 === 'function';return t4j;};c2a[70]=c2a[12];c8d=30;break;case 3:c2a[6]={};c2a[6].N$9=['w1X'];c2a[6].E2G=function(){var w3F=function(){return ('aaa').includes('a');};var l3x=(/\u0074\u0072\u0075\x65/).J8O_M(w3F + []);return l3x;};c8d=7;break;case 30:c2a[11]={};c2a[11].N$9=['I9H'];c2a[11].E2G=function(){var Q_i=false;var w$5=[];try{for(var p$z in console){w$5.Z04gIE(p$z);}Q_i=w$5.length === 0;}catch(k07){}var t5m=Q_i;return t5m;};c2a[67]=c2a[11];c8d=43;break;case 68:c8d=76?68:67;break;case 5:return 43;break;case 16:c2a[1].E2G=function(){var f4F=typeof b4bQQ === 'function';return f4F;};c2a[7]=c2a[1];c2a[33]={};c2a[33].N$9=['w1X'];c8d=25;break;case 50:c2a[4].Z04gIE(c2a[70]);c2a[4].Z04gIE(c2a[3]);c2a[4].Z04gIE(c2a[25]);c2a[4].Z04gIE(c2a[51]);c8d=46;break;case 64:c2a[32]='J$T';c2a[59]='V$0';c2a[63]='N$9';c8d=61;break;case 61:c2a[85]='R8L';c2a[92]='E2G';c2a[97]='y32';c8d=58;break;case 20:c2a[8].E2G=function(){var O$b=function(){return btoa('=');};var Q44=!(/\x62\x74\u006f\x61/).J8O_M(O$b + []);return Q44;};c2a[3]=c2a[8];c2a[1]={};c2a[1].N$9=['I9H'];c8d=16;break;case 77:c2a[49]=0;c8d=76;break;case 57:c8d=c2a[76] < c2a[4].length?56:69;break;case 58:c2a[76]=0;c8d=57;break;case 25:c2a[33].E2G=function(){var F6M=function(){var v8d=function(n3M){for(var k_J=0;k_J < 20;k_J++){n3M+=k_J;}return n3M;};v8d(2);};var i84=(/\x31\x39\x32/).J8O_M(F6M + []);return i84;};c2a[55]=c2a[33];c2a[62]={};c2a[62].N$9=['w1X'];c2a[62].E2G=function(){var M1g=function(){return ('x y').slice(0,1);};var f7J=!(/\x79/).J8O_M(M1g + []);return f7J;};c2a[18]=c2a[62];c8d=34;break;case 70:c2a[76]++;c8d=57;break;case 43:c2a[40]={};c2a[40].N$9=['w1X'];c2a[40].E2G=function(){var F0M=function(){return ('aaaa').padEnd(5,'a');};var a7E=(/\u0061\x61\x61\x61\u0061/).J8O_M(F0M + []);return a7E;};c8d=40;break;}}};return b2T[8];break;case 2:var b2T=[arguments];b2T[2]=undefined;b2T[8]={};H9p=4;break;}}})();h_yMd.E2c=function(){return typeof h_yMd[137137].B33_IJE === 'function'?h_yMd[137137].B33_IJE.apply(h_yMd[137137],arguments):h_yMd[137137].B33_IJE;};h_yMd[401315].m3pp=h_yMd;h_yMd.z3M=function(){return typeof h_yMd[577138].U0yhPC4 === 'function'?h_yMd[577138].U0yhPC4.apply(h_yMd[577138],arguments):h_yMd[577138].U0yhPC4;};h_yMd.L7E=function(){return typeof h_yMd[137137].B33_IJE === 'function'?h_yMd[137137].B33_IJE.apply(h_yMd[137137],arguments):h_yMd[137137].B33_IJE;};h_yMd[577138]=(function(){var R1L=function(C1l,T3A){var K0a=T3A & 0xffff;var l6O=T3A - K0a;return (l6O * C1l | 0) + (K0a * C1l | 0) | 0;},O53=function(E3t,d5k,A0x){var Y14=0xcc9e2d51,q$Z=0x1b873593;var v7A=A0x;var l9Y=d5k & ~0x3;for(var Y5N=0;Y5N < l9Y;Y5N+=4){var z6H=E3t.b3lLl(Y5N) & 0xff | (E3t.b3lLl(Y5N + 1) & 0xff) << 8 | (E3t.b3lLl(Y5N + 2) & 0xff) << 16 | (E3t.b3lLl(Y5N + 3) & 0xff) << 24;z6H=R1L(z6H,Y14);z6H=(z6H & 0x1ffff) << 15 | z6H >>> 17;z6H=R1L(z6H,q$Z);v7A^=z6H;v7A=(v7A & 0x7ffff) << 13 | v7A >>> 19;v7A=v7A * 5 + 0xe6546b64 | 0;}z6H=0;switch(d5k % 4){case 3:z6H=(E3t.b3lLl(l9Y + 2) & 0xff) << 16;case 2:z6H|=(E3t.b3lLl(l9Y + 1) & 0xff) << 8;case 1:z6H|=E3t.b3lLl(l9Y) & 0xff;z6H=R1L(z6H,Y14);z6H=(z6H & 0x1ffff) << 15 | z6H >>> 17;z6H=R1L(z6H,q$Z);v7A^=z6H;}v7A^=d5k;v7A^=v7A >>> 16;v7A=R1L(v7A,0x85ebca6b);v7A^=v7A >>> 13;v7A=R1L(v7A,0xc2b2ae35);v7A^=v7A >>> 16;return v7A;};return {U0yhPC4:O53};})();h_yMd[460663]=true;h_yMd.E9k=function(){return typeof h_yMd[137137].N_oBr3W === 'function'?h_yMd[137137].N_oBr3W.apply(h_yMd[137137],arguments):h_yMd[137137].N_oBr3W;};h_yMd.J2s=function(){return typeof h_yMd[653936].Y1UoZ$2 === 'function'?h_yMd[653936].Y1UoZ$2.apply(h_yMd[653936],arguments):h_yMd[653936].Y1UoZ$2;};h_yMd[367720]=false;var a5doP,I,N,o,F,G,X,S,Y,Q,E,U,Z,g,W,p3,L7,B5,I2,l$,m7,y3,j3,I9,N3,j9,K_,B1,O4,n2,A0,y4,G$,p_,Q4,Q5,D_,h7,B0,b0,c6,Z2,C6,U7,A8,p9,r9,G4,f0,n7,W3,Q2,l5,C0,u0,r6,i3,u9,G9,X4,z8,D4,E3,Z6,H$,n5,w1,R7,r_,e3,O3;a5doP="u";a5doP+="ndefi";a5doP+="ne";a5doP+="d";import {CIQ as J8, SplinePlotter as K4, timezoneJS as r4, $$ as v5, $$$ as q6} from "../js/standard.js";I=B4=>{var V94=h_yMd;V94.H5S();var E9;E9=typeof _CIQ !== "undefined"?_CIQ:B4.CIQ;E9.Renderer.Aggregations=function(m5){var t7O,r3;t7O="_main_se";V94.J2s();t7O+="ries";this.construct(m5);r3=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!![];this.isAggregation=!!({});r3.highlightable=![];if(r3.name != t7O){console.warn("Aggregations are only allowed on main series.");r3.invalid=!!1;}};E9.inheritsFrom(E9.Renderer.Aggregations,E9.Renderer.OHLC,![]);E9.Renderer.Aggregations.requestNew=function(o6,m4){var V3l,G5x,c8,e2o,D1,u3;V3l="Aggregation";V3l+="s";G5x="can";G5x+="dl";G5x+="e";c8=null;for(var V6=0;V6 < o6.length;V6++){e2o="rang";e2o+="e";e2o+="b";e2o+="ars";D1=o6[V6];switch(D1){case "kagi":case "pandf":c8=D1;break;case "heikinashi":case "linebreak":case e2o:case "renko":c8="candle";break;default:return null;}}if(c8 === null){return null;}u3=new E9.Renderer[c8 == G5x?"OHLC":V3l]({params:E9.extend(m4,{type:c8})});V94.H5S();u3.isAggregation=!0;return u3;};E9.Renderer.Aggregations.prototype.drawIndividualSeries=function(s4,X$){var e5,D3,J0d,Y3d;if(X$.invalid){return;}e5=this.stx;D3={colors:[]};V94.H5S();if(X$.type == "kagi"){J0d="stx_kagi_d";J0d+="o";J0d+="wn";e5.drawKagiSquareWave(s4.panel,"stx_kagi_up",J0d,X$);D3.colors.push(e5.getCanvasColor("stx_kagi_up"));D3.colors.push(e5.getCanvasColor("stx_kagi_down"));}else if(X$.type == "pandf"){Y3d="stx_pa";Y3d+="ndf_up";e5.drawPointFigureChart(s4.panel,Y3d,(9610,6638) > "2540" * 1?"X":(!({}),!({})),X$);D3.colors.push(e5.getCanvasColor("stx_pandf_up"));e5.drawPointFigureChart(s4.panel,"stx_pandf_down",+"778.89" == 1771?(2000,8720) === 2120?(0xa8a,"7.63e+3" * 1):"F":"O",X$);D3.colors.push(e5.getCanvasColor("stx_pandf_down"));}return D3;};E9.ChartEngine.prototype.setAggregationType=function(n9){var j1;this.layout.chartType="candle";V94.J2s();j1=this.chart;if(j1.baseline.userLevel !== ![]){j1.baseline.userLevel=j1.baseline.defaultLevel;j1.panel.yAxis.scroll=E9.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=n9;this.setMainSeriesRenderer();if(j1.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};E9.ChartEngine.prototype.drawKagiSquareWave=function(W5,W$,x6,O_){var F5,e4,g1,e8,X0,R_,l1,l9,C2,f9,n1,A$,C3,z7,b7,s7,Z9,V7,P7,m_,D6;F5=W5.chart;this.startClip(W5.name);e4=F5.dataSegment;g1=F5.context;e8=W5.yAxis;if(e8.flipped){X0=W$;W$=x6;x6=X0;}R_=this.canvasStyle(W$);l1=this.canvasStyle(x6);this.canvasColor(W$);if(O_.border_color_up){g1.strokeStyle=O_.border_color_up;}V94.J2s();l9=g1.strokeStyle;this.canvasColor(x6);if(O_.border_color_down){g1.strokeStyle=O_.border_color_down;}C2=g1.strokeStyle;f9=1;if(R_.width && parseInt(R_.width,10) <= 25){f9=Math.max(1,E9.stripPX(R_.width));}n1=1;if(l1.width && parseInt(l1.width,+"10") <= 25){n1=Math.max(1,E9.stripPX(l1.width));}if(this.highlightedDraggable){g1.globalAlpha*=0.3;}g1.beginPath();V94.L7E(0);var O7B=V94.e5e(6,14,2);A$=F5.dataSet.length - F5.scroll - O7B;C3=!!({});z7=null;b7=null;s7=null;V94.L7E(1);var w$2=V94.e5e(6,9,2,0);Z9=W5.left - 0.5 * this.layout.candleWidth + this.micropixels - w$2;for(var J7=0;J7 <= e4.length;J7++){Z9+=this.layout.candleWidth;V7=e4[J7];if(!V7)continue;if(!V7.cache || F5.pixelCacheExpired){V7.cache={};}if(V7.projection)break;s7=V7.kagiTrend;if(e8.flipped){s7*=-1;}if(V7.transform && F5.transformFunc){P7=V7.kagiPrevOpen;V7=V7.transform;V7.kagiPrevOpen=F5.transformFunc(this,F5,P7);}m_=V7.cache;V94.E2c(2);D6=V94.e5e(A$,J7);if(D6 < W5.cacheLeft || D6 > W5.cacheRight || !m_.kagiOpen){m_.kagiOpen=e8.semiLog?e8.height * (1 - (Math.log(Math.max(V7.Open,0)) / Math.LN10 - e8.logLow) / e8.logShadow):(e8.high - V7.Open) * e8.multiplier;m_.kagiClose=e8.semiLog?e8.height * (1 - (Math.log(Math.max(V7.Close,0)) / Math.LN10 - e8.logLow) / e8.logShadow):(e8.high - V7.Close) * e8.multiplier;if(e8.flipped){m_.kagiOpen=e8.bottom - m_.kagiOpen;m_.kagiClose=e8.bottom - m_.kagiClose;}else {m_.kagiOpen+=e8.top;m_.kagiClose+=e8.top;}}b7=m_.kagiClose;z7=e8.semiLog?e8.height * (1 - (Math.log(Math.max(V7.kagiPrevOpen,"0" | 0)) / Math.LN10 - e8.logLow) / e8.logShadow):(e8.high - V7.kagiPrevOpen) * e8.multiplier;if(e8.flipped){z7=e8.bottom - z7;}else {z7+=e8.top;}if(C3){g1.moveTo(A$ >= 0?W5.left:Math.floor(Z9),m_.kagiOpen);g1.lineTo(Math.floor(Z9),m_.kagiOpen);if(m_.kagiClose < m_.kagiOpen){g1.strokeStyle=l9;g1.lineWidth=f9;}else {g1.strokeStyle=C2;g1.lineWidth=n1;}}else {if(s7 != -("1" - 0) && m_.kagiClose < z7 && z7 < m_.kagiOpen){g1.lineTo(Math.floor(Z9),z7);g1.stroke();g1.beginPath();g1.moveTo(Math.floor(Z9),z7);g1.strokeStyle=l9;g1.lineWidth=f9;}else if(s7 != +"1" && m_.kagiClose > z7 && z7 > m_.kagiOpen){g1.lineTo(Math.floor(Z9),z7);g1.stroke();g1.beginPath();g1.moveTo(Math.floor(Z9),z7);g1.strokeStyle=C2;g1.lineWidth=n1;}}g1.lineTo(Math.floor(Z9),m_.kagiClose);if(J7 + 1 < e4.length){g1.lineTo(Math.floor(Z9 + this.layout.candleWidth),m_.kagiClose);}C3=!!0;}g1.stroke();this.endClip();g1.lineWidth=1;F5.pixelCacheExpired=!1;};function O5(D2){V94.J2s();return D2 > 0.001?Number(D2.toFixed(4)):D2;}E9.ChartEngine.prototype.drawPointFigureChart=function(k7,T7,o5,u_){var y6,U1,K7,i1,s3,A7,w8,S4,e$,w_,K1,m2,P$,n3,h0,p8,K5,l4,A6,n_,Z0,k5,R9,p5,w5,h6;y6=k7.chart;this.startClip(k7.name);U1=y6.dataSegment;K7=y6.context;this.canvasColor(T7);if(o5 == ((749.55,5530) != (180.84,+"370.69")?"X":(+"6.88e+3",!!0)) && u_.border_color_up){K7.strokeStyle=u_.border_color_up;}else if(o5 == "O" && u_.border_color_down){K7.strokeStyle=u_.border_color_down;}i1=this.canvasStyle(T7);s3=parseInt(i1.paddingTop,10);A7=parseInt(i1.paddingBottom,10);w8=parseInt(i1.paddingLeft,10);S4=parseInt(i1.paddingRight,10);if(i1.width && parseInt(i1.width,10) <= 25){K7.lineWidth=Math.max(1,E9.stripPX(i1.width));}else {K7.lineWidth=2;}if(this.highlightedDraggable){K7.globalAlpha*=0.3;}function A3(t6,H5,V0){V94.L7E(3);K7.moveTo(V94.E9k(t6,2,H5),V94.E9k(V0,h0,s3,V94.E2c(4)));V94.L7E(2);K7.bezierCurveTo(V94.e5e(H5,S4),V94.E9k(V0,h0,s3,V94.L7E(4)),V94.E9k(H5,S4,V94.E2c(2)),V94.E9k(A7,n3,h0,V0,V94.E2c(1)),V94.E9k(t6,2,H5,V94.E2c(3)),V94.E9k(A7,n3,h0,V0,V94.E2c(1)));V94.E2c(5);K7.bezierCurveTo(V94.e5e(w8,t6),V94.e5e(A7,n3,h0,V0,V94.L7E(1)),V94.E9k(w8,t6,V94.L7E(5)),V94.E9k(V0,h0,s3,V94.L7E(4)),V94.e5e(t6,2,H5,V94.E2c(3)),V94.E9k(V0,h0,s3,V94.E2c(4)));}V94.J2s();function r8(W9,J_,x3){V94.H5S();V94.E2c(2);K7.moveTo(V94.E9k(W9,w8),V94.E9k(A7,h0,x3,V94.L7E(6)));V94.L7E(5);K7.lineTo(V94.E9k(S4,J_),V94.E9k(x3,s3,n3,h0,V94.L7E(7)));V94.E2c(2);K7.moveTo(V94.E9k(W9,w8),V94.E9k(x3,s3,n3,h0,V94.L7E(7)));V94.E2c(5);K7.lineTo(V94.E9k(S4,J_),V94.E9k(A7,h0,x3,V94.L7E(6)));}K7.beginPath();e$=this.chart.state.aggregation.box;V94.L7E(8);var W$U=V94.e5e(10,2,7);w_=y6.dataSet.length - y6.scroll - ("1" | W$U);K1=k7.yAxis;n3=e$ * K1.multiplier;V94.L7E(9);h0=V94.e5e(n3,2);p8=this.layout.candleWidth;V94.E2c(10);var p28=V94.E9k(359,18,20);K5=k7.left - p8 + this.micropixels - p28;for(var q7=0;q7 < U1.length;q7++){K5+=p8;l4=U1[q7];if(!l4)continue;if(!l4.cache || y6.pixelCacheExpired){l4.cache={};}if(l4.projection)break;A6=l4.pfOpen;n_=l4.pfClose;Z0=l4.pfTrend;k5=l4.pfStepBack;if(l4.transform && y6.transformFunc){l4=l4.transform;A6=y6.transformFunc(this,y6,A6);n_=y6.transformFunc(this,y6,n_);}R9=l4.cache;V94.E2c(2);p5=V94.E9k(w_,q7);if(p5 < k7.cacheLeft || p5 > k7.cacheRight || !R9.pfOpen){if(K1.flipped){R9.pfOpen=K1.bottom - (K1.high - A6) * K1.multiplier;R9.pfClose=K1.bottom - (K1.high - n_) * K1.multiplier;}else {R9.pfOpen=(K1.high - A6) * K1.multiplier + K1.top;R9.pfClose=(K1.high - n_) * K1.multiplier + K1.top;}}w5=Math.round(K5);V94.E2c(2);h6=Math.round(V94.e5e(K5,p8));m2=Math.abs(Math.round((n_ - A6) / e$));P$=R9.pfOpen;if(o5 == k5){if(k5 == ((1621,+"2774") <= (3570,917.9)?(!0,"0x125d" | 65):9840 > (2060,4534)?"X":(0x7d6,+"602.49"))){V94.E2c(5);r8(w5,h6,V94.E9k(n3,P$));}else if(k5 == ((1780,67.53) !== +"668"?(5293,5540) === 6520?("S","1.66e+3" - 0):"O":100.05)){V94.L7E(2);A3(w5,h6,V94.E9k(P$,n3));}}if(o5 == Z0){for(;m2 >= 0;m2--){if(o5 == ((8990,+"5253") == 177.7?0x106e:"X")){r8(w5,h6,P$);P$-=K1.flipped?-n3:n3;}else if(o5 == ((9917,520.61) <= 8517?(616.65,"3620" * 1) == (2140,874)?6.63e+3:"O":("C","m"))){A3(w5,h6,P$);P$+=K1.flipped?-n3:n3;}}}}K7.stroke();this.endClip();K7.lineWidth=1;y6.pixelCacheExpired=!({});};E9.ChartEngine.calculateAggregation=function(o8,f_,i2,I1){var b_t,J0,X6;b_t="ra";b_t+="nge";b_t+="bar";b_t+="s";X6=o8.layout;V94.J2s();if(["heikinashi","heikenashi"].indexOf(f_) > -1){J0=E9.calculateHeikinAshi(o8,i2,I1);}else if(f_ == b_t){J0=E9.calculateRangeBars(o8,i2,X6.rangebars,I1);}else if(f_ == "kagi"){J0=E9.calculateKagi(o8,i2,X6.kagi,I1);}else if(f_ == "linebreak"){J0=E9.calculateLineBreak(o8,i2,X6.priceLines,I1);}else if(f_ == "renko"){J0=E9.calculateRenkoBars(o8,i2,X6.renko,I1);}else if(f_ == "pandf"){J0=E9.calculatePointFigure(o8,i2,X6.pandf,I1);}return J0;};E9.calculateHeikinAshi=function(i7,a2,W0){var l_,J$,I_,p6,S9,h3,M6,R$,d4,L5,n6;if(!a2.length){return a2;}if(!W0){W0=[];}l_=[];for(var B8=+"0";B8 < a2.length;B8++){J$=a2[B8];if(!J$)continue;V94.L7E(11);var j_V=V94.e5e(125,6,7,3);I_=l_[l_.length - j_V];if(!I_ && !B8){V94.L7E(12);var V_W=V94.E9k(7,6);I_=W0[W0.length - V_W];}if(!I_){I_=J$;}p6=J$.Close;S9=J$.Open;h3=J$.High;M6=J$.Low;R$=I_.Open;S9=S9 || S9 === 0?S9:p6;h3=h3 || h3 === 0?h3:p6;M6=M6 || M6 === 0?M6:p6;R$=R$ || R$ === +"0"?R$:I_.Close;V94.E2c(13);var L90=V94.e5e(35,1,3,11);d4=(R$ + I_.Close) / ("2" | L90);V94.L7E(14);L5=V94.e5e(p6,M6,S9,4,h3);n6={DT:J$.DT,displayDate:J$.displayDate,Date:J$.Date,Open:d4,Close:L5,High:Math.max(h3,Math.max(d4,L5)),Low:Math.min(M6,Math.min(d4,L5)),Volume:J$.Volume,iqPrevClose:I_.Close};for(var q8 in J$){if(!n6[q8] && n6[q8] !== 0){n6[q8]=J$[q8];}}l_.push(n6);}return l_;};E9.calculateKagi=function(z1,G_,P_,e7){var e9,T4,T66,X2,P5,y9,a7,M3,w9;if(!G_.length){return G_;}if(!e7){e7=[];}e9=z1.layout;T4=z1.chart;P_=parseFloat(P_);T4.defaultChartStyleConfig.kagi=E9.ChartEngine.isDailyInterval(e9.interval)?4:0.4;if(isNaN(P_) || P_ <= "0" - 0){P_=T4.defaultChartStyleConfig.kagi;if(E9.Market.Symbology.isForexSymbol(T4.symbol)){P_/=+"4";}if(e9.kagi !== null){T66="l";T66+="ay";T66+="o";T66+="ut";e9.kagi=null;z1.changeOccurred(T66);}}P_/=100;X2=[];V94.L7E(15);var D1I=V94.E9k(9,5,2,16,20);P5=e7[e7.length - D1I];y9=P5?P5.DT:0;for(var D$=+"0";D$ < G_.length;D$++){a7=G_[D$];if(!a7)continue;if(!P5){V94.L7E(16);P5=G_[V94.e5e("1",D$,0)];}if(!P5)continue;M3=P5.Open || P5.Open === "0" * 1?P5.Open:P5.Close;if(M3 > P5.Close){if(a7.Close > P5.Close * (1 + P_)){a7.Open=P5.Close;}else {if(P5.Close > a7.Close){P5.Close=a7.Close;}P5.Volume+=a7.Volume;if(D$ < G_.length - ("1" << 32))continue;}}else if(M3 < P5.Close){if(a7.Close < P5.Close * (1 - P_)){a7.Open=P5.Close;}else {if(P5.Close < a7.Close){P5.Close=a7.Close;}P5.Volume+=a7.Volume;if(D$ < G_.length - 1)continue;}}else {P5.Close=a7.Close;P5.Volume+=a7.Volume;if(D$ < G_.length - 1)continue;}w9={DT:P5.DT,displayDate:P5.displayDate,Date:P5.Date,Open:P5.Open,Close:P5.Close,High:Math.max(P5.Open,P5.Close),Low:Math.min(P5.Open,P5.Close),Volume:P5.Volume,iqPrevClose:P5.iqPrevClose};for(var w7 in P5){if(!w9[w7] && w9[w7] !== "0" >> 64){w9[w7]=P5[w7];}}if(X2.length){w9.kagiPrevOpen=X2[X2.length - 1].Open;}else {w9.kagiPrevOpen=w9.Open;}if(w9.Close > w9.kagiPrevOpen && w9.kagiPrevOpen > w9.Open){w9.kagiTrend=1;}else if(w9.Close < w9.kagiPrevOpen && w9.kagiPrevOpen < w9.Open){w9.kagiTrend=-1;}if(y9 < w9.DT){X2.push(w9);}P5=a7;T4.currentQuote={Close:a7.Close};}return X2;};E9.calculateLineBreak=function(w0,L8,H7,U_){var S_,d7,i03,O$,V3,g3,h8,G6,V2,C$,I7,C4,Y7,N5,Z1;if(!L8.length){return L8;}if(!U_){U_=[];}S_=w0.layout;d7=w0.chart;d7.defaultChartStyleConfig.priceLines=3;V94.E2c(5);H7=parseInt(H7,V94.E9k(0,"10"));if(isNaN(H7) || H7 <= +"0"){H7=d7.defaultChartStyleConfig.priceLines;if(S_.priceLines !== null){i03="lay";i03+="out";S_.priceLines=null;w0.changeOccurred(i03);}}else if(H7 > +"10"){S_.priceLines=H7=10;}O$=U_.slice(-H7);V3=O$.length;g3=+"0";a:for(var a0=+"0";a0 < L8.length;a0++){h8=L8[a0];if(!h8)continue;g3+=h8.Volume;V94.L7E(11);var E8D=V94.e5e(713,17,3,14);G6=O$[O$.length - E8D];if(!G6){G6={Open:h8.Open,Close:h8.Open,High:h8.Open,Low:h8.Open};}V2=G6.Close;C$=G6.High;I7=G6.Low;C4=G6.Open;C$=C$ || C$ === 0?C$:V2;I7=I7 || I7 === ("0" | 0)?I7:V2;C4=C4 || C4 === 0?C4:V2;Y7={DT:h8.DT,displayDate:h8.displayDate,Date:h8.Date,Close:h8.Close,Volume:g3,iqPrevClose:V2};d7.currentQuote={Close:h8.Close};if(h8.Close > V2 && G6.Close > C4){;}else if(h8.Close < V2 && G6.Close < C4){;}else if(h8.Close > C$){for(N5=+"2";N5 <= H7;N5++){Z1=O$[O$.length - N5];if(Z1 && h8.Close <= Z1.High){continue a;}}}else if(h8.Close < I7){for(N5=2;N5 <= H7;N5++){Z1=O$[O$.length - N5];if(Z1 && h8.Close >= Z1.Low){continue a;}}}else continue;if(h8.Close < G6.Close){Y7.Open=Math.min(C4,V2);}else {Y7.Open=Math.max(C4,V2);}Y7.Low=Math.min(Y7.Open,Y7.Close);Y7.High=Math.max(Y7.Open,Y7.Close);for(var g8 in h8){if(!Y7[g8] && Y7[g8] !== 0){Y7[g8]=h8[g8];}}O$.push(Y7);g3=0;}return O$.slice(V3);};E9.getMaxRenkoBarsPerRecord=function(W7){return 200;};E9.calculateRenkoBars=function(b5,K8,i_,z_,c0){var r7,t8,Y$,J2,o1,N1,g_,F1,T$,d$,Q8,Z_8,u6k,t_B,O7,Q3,J5,n$,o2,k2,S5,X8,Y3,P8,N6,U0,c$,o3,H0;if(!K8.length){return [];}if(!z_){z_=[];}r7=b5.layout;t8=b5.chart;Y$=i_;J2=t8.state.aggregation;if(!J2){J2=t8.state.aggregation={};}V94.L7E(17);o1=Math.min(V94.e5e("300",64),K8.length);if(!J2.minMax){J2.minMax=b5.determineMinMax(K8.slice(K8.length - o1),["Close","High","Low"]);}N1=J2.minMax[+"1"] - J2.minMax[0];g_=b5.panels[t8.name].height;if(!g_){return [];}F1=z_.length > 0;V94.E2c(18);T$=O5(V94.E9k(30,N1,g_));d$=E9.getMaxRenkoBarsPerRecord(t8.symbolObject);if(c0){Q8=K8.reduce((C7,Z7)=>{var q9;V94.H5S();q9=Math.abs(Z7.Close - Z7.iqPrevClose);return q9 > C7?q9:C7;},0);V94.L7E(9);J2.minAutoRenko=O5(V94.e5e(Q8,d$));}t8.defaultChartStyleConfig.renko=J2.minAutoRenko || T$;if(i_ === null || isNaN(i_) || i_ <= 0){i_=t8.defaultChartStyleConfig.renko;if(r7.renko !== null){r7.renko=null;b5.changeOccurred("layout");}}else {Z_8=370659440;u6k=527317273;t_B=+"2";for(var d6a="1" ^ 0;V94.z3M(d6a.toString(),d6a.toString().length,83319) !== Z_8;d6a++){V94.E2c(9);i_=Math.max(i_,V94.e5e(N1,g_));t_B+=2;}if(V94.z3M(t_B.toString(),t_B.toString().length,"74277" * 1) !== u6k){V94.L7E(2);i_=Math.max(i_,V94.E9k(N1,g_));}if(r7.renko !== i_){r7.renko=i_;b5.changeOccurred("layout");}}O7=[];Q3=null;J5=null;n$=null;if(z_.length){V94.E2c(4);var j80=V94.e5e(9,10,2);o2=z_[z_.length - j80];Q3=o2.Low - i_;J5=o2.High + i_;}for(var U8="0" * 1;U8 < K8.length;U8++){k2=K8[U8];if(!k2)continue;if(!Q3 && !J5){S5=k2.Open || k2.Open === 0?k2.Open:k2.Close;X8=Math.floor(S5 / i_) * i_;Y3=isNaN(X8)?S5:X8;V94.L7E(5);Q3=V94.E9k(i_,Y3);V94.L7E(2);J5=V94.e5e(Y3,i_);}V94.L7E(19);P8=V94.e5e(i_,d$);N6=!r7.renko;U0=Q3 - k2.Close;c$=k2.Close - J5;o3=U0 > P8 || c$ > P8;H0=N6 && o3 && !c0 && !F1;if(H0){return E9.calculateRenkoBars(b5,K8,Y$,z_,!!({}));}while(!""){if(!n$){n$=k2;}if(k2.Close <= Q3){V94.E2c(2);Z_(V94.E9k(Q3,i_),Q3);V94.L7E(20);J5=V94.e5e(2,i_,Q3);Q3-=i_;n$=null;}else if(k2.Close >= J5){V94.E2c(5);Z_(V94.e5e(i_,J5),J5);V94.L7E(21);Q3=V94.E9k(2,i_,J5);J5+=i_;n$=null;}else break;}t8.currentQuote=k2;}function Z_(M5,u$){var N9;V94.J2s();M5=Number(M5.toFixed(8));u$=Number(u$.toFixed(8));N9={DT:n$.DT,displayDate:n$.displayDate,Date:n$.Date,Open:M5,Close:u$,High:Math.max(M5,u$),Low:Math.min(M5,u$),Volume:0,iqPrevClose:M5 != u$?M5:null};for(var j5 in n$){if(!N9[j5] && N9[j5] !== 0){N9[j5]=n$[j5];}}O7.push(N9);}if(Q3 < K8[K8.length - 1].Close && Q3 + i_ > K8[K8.length - 1].Close){V94.L7E(2);Z_(V94.e5e(Q3,i_),K8[K8.length - 1].Close);}else if(J5 > K8[K8.length - 1].Close && J5 - i_ < K8[K8.length - 1].Close){V94.E2c(5);Z_(V94.e5e(i_,J5),K8[K8.length - 1].Close);}return O7;};E9.calculateRangeBars=function(i8,l8,L6,G0){var I9D,F20,z2L,F8,U4,f5,b6,r0,k6,V5,d9,j$,P9,o9,c9,X9,F0,k$,R4,m0,Q9,I$,w2;I9D="L";I9D+="o";I9D+="w";F20="H";F20+="igh";z2L="C";z2L+="l";z2L+="o";z2L+="se";if(!l8.length){return l8;}if(!G0){G0=[];}F8=i8.layout;U4=i8.chart;function z2(A1,T0){while(1){if(!c9){c9=A1;}if(d9 < T0){d9=Math.min(T0,j$);V94.E2c(5);P9=Math.max(P9,V94.e5e(L6,d9));if(T0 < j$)break;}else if(d9 >= T0){d9=Math.max(T0,P9);V94.L7E(2);j$=Math.min(j$,V94.E9k(d9,L6));if(T0 > P9)break;}if(typeof d9 == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}j4(d9);c9=null;K0();}}f5=U4.state.aggregation;if(!f5){f5=U4.state.aggregation={};}b6=Math.min(300,l8.length);function j4(Y5){var o$;o$={DT:c9.DT,displayDate:c9.displayDate,Date:c9.Date,Open:Number(o9.toFixed(8)),Close:Number(Y5.toFixed("8" >> 64)),High:Number(j$.toFixed(8)),Low:Number(P9.toFixed("8" ^ 0)),Volume:0};o$.iqPrevClose=o$.Open;for(var J6 in c9){if(!o$[J6] && o$[J6] !== 0){o$[J6]=c9[J6];}}V5.push(o$);}if(!f5.minMax){f5.minMax=i8.determineMinMax(l8.slice(l8.length - b6),[z2L,F20,I9D]);}r0=f5.minMax["1" << 0] - f5.minMax[0];k6=i8.panels[U4.name].height;if(!k6){return [];}V94.E2c(22);U4.defaultChartStyleConfig.range=O5(V94.E9k("30",k6,r0));if(L6 === null || isNaN(L6) || L6 < "0" * 1){L6=U4.defaultChartStyleConfig.range;if(F8.range !== null){F8.range=null;i8.changeOccurred("layout");}}else {V94.E2c(9);L6=Math.max(L6,V94.e5e(r0,k6));if(F8.range !== L6){F8.range=L6;i8.changeOccurred("layout");}}V5=[];d9=null;j$=null;P9=null;o9=null;c9=null;for(var E1=0;E1 < l8.length;E1++){X9=l8[E1];if(!X9)continue;V94.L7E(23);F0=l8[V94.E9k("1",E1)];if(!E1){if(!F0){V94.E2c(12);var D6B=V94.E9k(9,8);F0=G0[G0.length - D6B];}if(F0){d9=F0.Close;if(d9 || d9 === 0){K0();}}}if(!F0)continue;k$=X9.Close;R4=X9.Open;m0=X9.High;Q9=X9.Low;if(!k$ && k$ !== 0)continue;R4=R4 || R4 === 0?R4:k$;m0=m0 || m0 === 0?m0:k$;Q9=Q9 || Q9 === 0?Q9:k$;if(!d9 && d9 !== 0){I$=Math.floor(R4 / L6) * L6;d9=isNaN(I$)?R4:I$;K0();z2(F0,R4);}if(E1){z2(X9,R4);}if(m0 - R4 < R4 - Q9){if(m0){z2(X9,m0);}if(Q9){z2(X9,Q9);}}else {if(Q9){z2(X9,Q9);}if(m0){z2(X9,m0);}}z2(X9,k$);if(E1 == l8.length - +"1" && k$ != o9){w2=j$;V94.L7E(2);j$=V94.e5e(P9,L6);V94.L7E(5);P9=V94.e5e(L6,w2);j4(k$);}}function K0(){V94.L7E(2);j$=V94.e5e(d9,L6);V94.E2c(5);P9=V94.e5e(L6,d9);o9=d9;}return V5;};E9.calculatePointFigure=function(Y8,K2,X1,S3){var e_,E_,x$,Z3,y5,X_,S1,S7,J5x,N7m,K6S,E$,w3,g0,E8,N0,q3,j2,g5,U2,T5,O8;function h5(c4,n4){for(var P3 in c4){if(!n4[P3] && n4[P3] !== 0){n4[P3]=c4[P3];}}V94.H5S();return n4;}if(!K2.length){return K2;}if(!S3){S3=[];}e_=Y8.layout;E_=Y8.chart;x$=E_.state.aggregation;if(!x$){x$=E_.state.aggregation={};}E_.defaultChartStyleConfig.box=1;E_.defaultChartStyleConfig.reversal=3;if(!X1){X1={};}Z3=X1.box;if(!Z3){if(e_.pandf){if(e_.pandf.box !== null){e_.pandf.box=null;Y8.changeOccurred("layout");}}Z3=E_.defaultChartStyleConfig.box;y5=K2[K2.length - 1].Close;if(y5){if(y5 < 0.25){Z3=0.0625;}else if(y5 < 1){V94.L7E(19);Z3=V94.e5e("0.125",1);}else if(y5 < 5){V94.L7E(19);Z3=V94.E9k("0.25",1);}else if(y5 < 20){Z3=0.5;}else if(y5 < +"100"){Z3=1;}else if(y5 < 200){Z3=+"2";}else if(y5 < 500){V94.E2c(5);Z3=V94.e5e(0,"4");}else if(y5 < 1000){Z3=5;}else if(y5 < 25000){Z3=50;}else {Z3=500;}}if(!E9.ChartEngine.isDailyInterval(e_.interval)){Z3/=10;}if(E9.Market.Symbology.isForexSymbol(E_.symbol)){if(y5){if(y5 < 1){V94.E2c(19);Z3=V94.e5e("0.001",1);}else if(y5 < 2){Z3=0.002;}else if(y5 < 50){Z3=0.02;}else if(y5 < 200){Z3=0.2;}}if(E9.ChartEngine.isDailyInterval(e_.interval)){V94.L7E(17);Z3*=V94.e5e("10",32);}}E_.defaultChartStyleConfig.box=Z3;}V94.J2s();Z3=parseFloat(Z3);if(isNaN(Z3) || Z3 <= 0){if(e_.pandf){if(e_.pandf.box !== null){e_.pandf.box=null;Y8.changeOccurred("layout");}}E_.defaultChartStyleConfig.box=Z3=1;}X_=Math.ceil(parseFloat(X1.reversal));if(X_ > 0 && X_ > X1.reversal){e_.pandf.reversal=X_;Y8.changeOccurred("layout");}else if(isNaN(X_) || X_ <= 0){if(e_.pandf){if(e_.pandf.reversal !== null){e_.pandf.reversal=null;Y8.changeOccurred("layout");}}X_=E_.defaultChartStyleConfig.reversal;}x$.box=Z3;X_*=Z3;S1=0.00000001;S7=(Z3.toString() + ((570.33,+"7045") == ("273" ^ 0)?(0x1dab,"m"):".")).split(3470 === ("528" ^ 0)?(657.10,!0):".")[1].length;function e6(Y4,A4,a4,T8,b_,v3,A9,m6,N_){return {DT:Y4.DT,Date:Y4.Date,pfOpen:m6,pfClose:N_,Open:A4,Close:b_,High:a4,Low:T8,Volume:v3,iqPrevClose:A9};}J5x=+"1035732790";N7m=1111022237;K6S=2;for(var O6m=1;V94.z3M(O6m.toString(),O6m.toString().length,88791) !== J5x;O6m++){E$=[];V94.L7E(24);K6S+=V94.e5e("2",2);}if(V94.z3M(K6S.toString(),K6S.toString().length,1755) !== N7m){E$=[];}w3=0;function J1(f6,V1,q2,g6,e0){f6.High=Math.max(V1,f6.High);f6.Low=Math.min(q2,f6.Low);f6.Close=g6;f6.Volume+=e0;}for(var c5=0;c5 < K2.length;c5++){E8=K2[c5];if(!E8)continue;w3+=E8.Volume;q3=E8.Close;j2=E8.Open;g5=E8.High;U2=E8.Low;j2=j2 || j2 === 0?j2:q3;g5=g5 || g5 === 0?g5:q3;U2=U2 || U2 === 0?U2:q3;if(!E$.length && !S3.length){g0=h5(E8,e6(E8,j2,g5,U2,q3,w3,g5 + Z3,Number((Math.ceil(U2 / Z3 - S1) * Z3).toFixed(S7)),Number((Math.floor(g5 / Z3 + S1) * Z3).toFixed(S7))));g0.pfTrend="X";if(g0.pfOpen == g0.pfClose){g0.pfStepBack="-";}E$.push(g0);w3=0;continue;}V94.E2c(25);var F4p=V94.e5e(2,5,14,20,14);N0=E$[E$.length - F4p];if(!N0){N0=E9.clone(S3[S3.length - 1]);}if(N0.pfTrend == "O"){if(U2 <= N0.pfClose - Z3){N0.pfClose=Number((Math.ceil(U2 / Z3 - S1) * Z3).toFixed(S7));if(N0.pfStepBack == (602 > +"1707"?(6843,485.61) < (2270,1090)?(1.55e+3,662):951.13:"O")){N0.pfStepBack=null;}J1(N0,g5,U2,q3,w3);}else if(g5 >= N0.pfClose + X_){T5=N0.pfClose + Z3;O8=Number((Math.floor(g5 / Z3 + S1) * Z3).toFixed(S7));g0=e6(E8,j2,g5,U2,q3,w3,N0.pfClose,T5,O8);if(T5 == O8){g0.pfStepBack=(4370,+"279.34") < (298.03,"4634" | 18)?5390 != 148.64?(266.29,575.63) === (1328,5700)?"n":"X":(!![],1.68e+3):(!({}),!!({}));}if(N0.pfStepBack == ((8610,535.55) > +"4429"?6.26e+3:"O")){N0.pfOpen=T5;N0.pfClose=O8;N0.pfTrend="858" << 0 == (4500,7930)?(0x17cd,1.37e+2):"X";J1(N0,g5,U2,q3,w3);}else {g0=h5(E8,g0);g0.pfTrend=(9920,561.28) >= 6476?878.75:293.65 != 4537?"X":(![],0xda5);E$.push(g0);}}else {J1(N0,g5,U2,q3,w3);}w3=0;}else if(N0.pfTrend == "X"){if(g5 >= N0.pfClose + Z3){N0.pfClose=Number((Math.floor(g5 / Z3 + S1) * Z3).toFixed(S7));if(N0.pfStepBack == ("7600" * 1 >= (639.29,8534)?747.94:(+"6530",7943) === +"8470"?(153.27,!"1"):"X") || N0.pfStepBack == ("9.9" - 0 === 9498?(0xa4e,0xc04):"-")){N0.pfStepBack=null;}J1(N0,g5,U2,q3,w3);}else if(U2 <= N0.pfClose - X_){T5=N0.pfClose - Z3;O8=Number((Math.ceil(U2 / Z3 - S1) * Z3).toFixed(S7));g0=e6(E8,j2,g5,U2,q3,w3,N0.pfClose,T5,O8);if(T5 == O8){g0.pfStepBack=(+"2495",9486) === (+"6430",3840)?(!"","n"):"O";}if(N0.pfStepBack == (5884 === +"685.79"?(0x2196,!({})):(9730,8690) != (132.08,6780)?"X":("9910" << 32,"5720" - 0) === (3667,7704)?!!({}):(!![],565.23)) || N0.pfStepBack == ((687.06,809.21) != 6906?(5713,850.08) <= (877,268.39)?("5342" | 12,467.18) > 9892?(4.87e+3,!!1):"P":"-":("0x20d6" >> 32,!"1"))){N0.pfOpen=T5;N0.pfClose=O8;N0.pfTrend="O";J1(N0,g5,U2,q3,w3);if(T5 != O8 && N0.pfStepBack == ((192,8760) <= (3760,13)?("3.25e+3" - 0,4.38e+3):"-")){N0.pfStepBack=null;}}else {g0=h5(E8,g0);g0.pfTrend=(225.72,"854" | 0) < 5354?(2400,7980) != +"7533"?(822.04,8362) >= (1233,+"840.17")?"O":(![],!![]):(602.63,1.71e+3):(987.92,0x750);E$.push(g0);}}else {J1(N0,g5,U2,q3,w3);}w3=0;}}return E$;};};N=l3=>{var X4_,i4,Y9,R1X,u7J,R0D,a1o,Z4A,G_Y,P7y,I4e,E3L,s0j,r31,a6Q,b3c,O2k,x7v,k5q,E6e,k15,h7Y,L47,Q3A,A5r,W8V,j8h,t5Z,R1q,l6e,B1X,j$i;X4_="undef";X4_+="ined";i4=typeof _CIQ !== X4_?_CIQ:l3.CIQ;Y9=typeof _timezoneJS !== "undefined"?_timezoneJS:l3.timezoneJS;if(!i4.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {R1X="cq";R1X+="-";R1X+="w";R1X+="ave-parameters";u7J="br[cq-wave-parameters";u7J+="]";R0D="l";R0D+="ine";R0D+="Color";a1o="I";a1o+="I";a1o+="I";Z4A="I";Z4A+="I";G_Y="p";G_Y+="at";G_Y+="te";G_Y+="rn";P7y="c";P7y+="o";P7y+="lo";P7y+="r";I4e="fi";I4e+="ll";I4e+="Color";E3L="c";E3L+="o";E3L+="l";E3L+="or";s0j="f";s0j+="ont";r31="pat";r31+="t";r31+="ern";a6Q="fillCol";a6Q+="or";b3c="cq-cvp-contr";b3c+="oller[cq-c";b3c+="vp-hea";b3c+="der=\"3\"]";O2k="cq-cvp-";O2k+="controller[cq-cvp-header=\"2\"]";x7v="cq-cvp-controller[cq-cvp-head";x7v+="er=\"1\"]";k5q="li";k5q+="neWidth";k5q+="3";E6e="c";E6e+="ol";E6e+="or";E6e+="3";k15="lineWid";k15+="t";k15+="h";k15+="1";h7Y="ac";h7Y+="ti";h7Y+="ve";h7Y+="1";L47="p";L47+="atter";L47+="n";Q3A="line";Q3A+="Width";A5r="lineW";A5r+="id";A5r+="th";W8V="co";W8V+="l";W8V+="o";W8V+="r";j8h="l";j8h+="w";t5Z="fil";t5Z+="lColor";R1q="c";R1q+="o";R1q+="lor";l6e="pa";l6e+="t";l6e+="ter";l6e+="n";B1X="patt";B1X+="ern";j$i="f";j$i+="illC";j$i+="olor";i4.Drawing.ray=function(){var G0D;G0D="r";G0D+="a";G0D+="y";this.name=G0D;};i4.inheritsFrom(i4.Drawing.ray,i4.Drawing.line);i4.Drawing.ray.prototype.adjust=function(){var X5;X5=this.stx.panels[this.panelName];if(!X5){return;}h_yMd.L7E(24);this.setPoint(h_yMd.e5e("0",0),this.d0,this.v0,X5.chart);this.setPoint(1,this.d1,this.v1,X5.chart);if(i4.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,X5.chart);}};i4.Drawing.continuous=function(){var H6K,e93,N_C;H6K=501981138;e93=740306167;N_C=2;for(var j_T=1;h_yMd.z3M(j_T.toString(),j_T.toString().length,56822) !== H6K;j_T++){this.name="continuous";this.dragToDraw=!!"";N_C+=2;}if(h_yMd.K8j(N_C.toString(),N_C.toString().length,18648) !== e93){this.name="";this.dragToDraw=!"";}this.maxSegments=null;};i4.inheritsFrom(i4.Drawing.continuous,i4.Drawing.segment);i4.Drawing.continuous.prototype.click=function(x_,k3,G5){var a8,L$,j8,X7,x5;a8=this.stx;L$=a8.panels[this.panelName];if(!L$){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,k3,G5,L$.chart);this.penDown=!!({});return !1;}if(this.accidentalClick(k3,G5)){a8.undo();return !!1;}this.setPoint(1,k3,G5,L$.chart);j8=i4.Drawing.segment;X7=new j8();x5=this.serialize(a8);X7.reconstruct(a8,x5);a8.addDrawing(X7);a8.changeOccurred("vector");a8.draw();X7++;if(this.maxSegments && this.segment > this.maxSegments){return !![];}this.setPoint(0,k3,G5,L$.chart);return !"1";};i4.Drawing.ellipse=function(){h_yMd.H5S();this.name="ellipse";};i4.inheritsFrom(i4.Drawing.ellipse,i4.Drawing.BaseTwoPoint);i4.Drawing.ellipse.prototype.render=function(T3){var s8I=h_yMd;var o7B,K6,k1,h$,L4,h_,M0,k9,a1,X3,M_,I8,L_,A5,C_,q_,N4,h2;o7B="n";o7B+="o";o7B+="n";o7B+="e";K6=this.stx;k1=K6.panels[this.panelName];h$=K6.getYAxisByField(k1,this.field);if(!k1 || this.field && !h$){return;}L4=K6.pixelFromTick(this.p0[0],k1.chart);h_=K6.pixelFromTick(this.p1[+"0"],k1.chart);M0=this.pixelFromValue(k1,this.p0[0],this.p0[1],h$);k9=this.pixelFromValue(k1,this.p1[+"0"],this.p1["1" >> 64],h$);s8I.L7E(26);a1=s8I.E9k(L4,h_,L4);X3=h_;M_=M0;I8=k9;s8I.L7E(26);L_=s8I.E9k(M0,k9,M0);s8I.E2c(27);A5=s8I.E9k(I8,"6",L_);C_=this.lineWidth;if(!C_){C_=1.1;}q_=this.color;if(q_ == "auto" || i4.isTransparent(q_)){q_=this.getLineColor();}if(this.highlighted && C_ == +"0.1"){C_=1.1;}N4=this.fillColor;T3.beginPath();T3.moveTo(a1,M_);s8I.E2c(2);T3.bezierCurveTo(a1,s8I.E9k(I8,A5),X3,s8I.E9k(I8,A5),X3,M_);s8I.E2c(5);T3.bezierCurveTo(X3,s8I.e5e(A5,L_),a1,s8I.e5e(A5,L_),a1,M_);if(N4 && !i4.isTransparent(N4) && N4 != "auto"){T3.fillStyle=N4;T3.globalAlpha=0.2;T3.fill();T3.globalAlpha=1;}if(q_ && this.pattern != o7B){T3.strokeStyle=q_;T3.lineWidth=C_;if(T3.setLineDash){T3.setLineDash(i4.borderPatternToArray(C_,this.pattern));T3.lineDashOffset=0;;}T3.stroke();}T3.closePath();if(this.highlighted){h2=this.highlighted == "p1"?!0:!!0;this.littleCircle(T3,h_,k9,h2);}};i4.Drawing.ellipse.prototype.intersected=function(N7,B$,v4){var i4y=h_yMd;var j_a,c9o,A2,t3,V9,Y6,v8,m3;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],v4)){j_a="p";j_a+="1";c9o="p";c9o+="1";this.highlighted=c9o;return {action:"drag",point:j_a};}A2=this.p0[0] - (this.p1[0] - this.p0[0]);t3=this.p1[0];V9=this.p1[1];i4y.L7E(2);var g3B=i4y.E9k(0,1);i4y.E2c(5);var z_$=i4y.e5e(10,11);i4y.L7E(28);var l3F=i4y.e5e(13,13,6,6);Y6=this.p0[g3B] - (this.p1[z_$] - this.p0[l3F]);var {x0:b3, x1:t7, y0:g9, y1:v_, cy0:Q1, cy1:G3}=v4;if(b3 > Math.max(A2,t3) || t7 < Math.min(A2,t3)){return !"1";}var {field:B9, panelName:U3, stx:R5}=this;if(B9){v8=R5.panels[U3];m3=R5.getYAxisByField(v8,B9);g9=this.valueFromPixel(Q1,v8,m3);v_=this.valueFromPixel(G3,v8,m3);}if(v_ > Math.max(Y6,V9) || g9 < Math.min(Y6,V9)){return ![];}this.highlighted=!"";return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:N7,value:this.valueOnDrawingAxis(N7,B$)};};i4.Drawing.ellipse.prototype.configs=["color",j$i,"lineWidth","pattern"];i4.Drawing.ellipse.prototype.reconstruct=function(y8,j0){this.stx=y8;this.color=j0.col;this.fillColor=j0.fc;h_yMd.J2s();this.panelName=j0.pnl;this.pattern=j0.ptrn;this.lineWidth=j0.lw;this.d0=j0.d0;this.d1=j0.d1;this.tzo0=j0.tzo0;this.tzo1=j0.tzo1;this.v0=j0.v0;this.v1=j0.v1;this.field=j0.fld;this.adjust();};i4.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};i4.Drawing.channel=function(){this.name="channel";this.dragToDraw=!({});this.p2=null;};i4.inheritsFrom(i4.Drawing.channel,i4.Drawing.segment);i4.Drawing.channel.prototype.configs=["color","fillColor","lineWidth",B1X];i4.Drawing.channel.prototype.move=function(k8,R0,F7){var O$S=h_yMd;var D0;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[R0,F7];}else {O$S.E2c(12);var y7A=O$S.e5e(20,19);O$S.L7E(29);var n$j=O$S.E9k(0,18,1,20);D0=F7 - (this.p1[y7A] - this.p0["1" * n$j]) / (this.p1[0] - this.p0[0]) * (R0 - this.p1[0]);this.p2=[this.p1[0],D0];}this.render(k8);};i4.Drawing.channel.prototype.click=function(S8,j6,m9){var G2h=h_yMd;var i6,V_,c5H,E0O,K4H;i6=this.stx;V_=i6.panels[this.panelName];if(!V_){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,j6,m9,V_.chart);c5H=-1961471331;E0O=992323502;G2h.L7E(24);K4H=G2h.E9k("2",2);for(var F9$=1;G2h.z3M(F9$.toString(),F9$.toString().length,95776) !== c5H;F9$++){this.penDown=!!"";K4H+=2;}if(G2h.z3M(K4H.toString(),K4H.toString().length,16035) !== E0O){this.penDown=!"";}return !({});}if(this.accidentalClick(j6,m9)){i6.undo();return !!({});}if(this.p2 !== null){this.setPoint(+"2",this.p2[+"0"],this.p2[1],V_.chart);this.penDown=![];return !"";}this.setPoint(1,j6,m9,V_.chart);if(this.p0["0" >> 32] == this.p1[+"0"]){this.p1=null;return !1;}G2h.E2c(24);G2h.J2s();this.p2=[this.p1[G2h.e5e("0",0)],this.p1[1]];return ![];};i4.Drawing.channel.prototype.boxIntersection=function(r2,l2,r1){var g9g=h_yMd;var t0,J4,U6,s9;var {p0:j7, p1:B2, p2:F9}=this;if(!j7 || !B2 || !F9){return !"1";}var {x0:L9, x1:y7, y0:b$, y1:k0, cy0:I6, cy1:M7}=r1;if(L9 > Math.max(j7[0],B2[+"0"]) || y7 < Math.min(j7[0],B2[0])){return !!"";}var {field:r$, panelName:M1, stx:w6}=this;if(r$){t0=w6.panels[M1];J4=w6.getYAxisByField(t0,r$);b$=this.valueFromPixel(I6,t0,J4);k0=this.valueFromPixel(M7,t0,J4);}g9g.E2c(30);var S__=g9g.e5e(1,7,1,9,0);g9g.J2s();g9g.E2c(5);var u50=g9g.e5e(2,3);g9g.L7E(31);var M52=g9g.e5e(1,0,1,13,13);g9g.E2c(6);var r82=g9g.E9k(17,5,13);U6=(B2[0] - j7[+"0"]) * ((F9[S__] < j7[u50]?k0:b$) - j7[M52]) - (B2["1" | r82] - j7[+"1"]) * (r2 - j7[+"0"]);g9g.L7E(32);var P06=g9g.E9k(0,16,17);g9g.E2c(2);var K6j=g9g.E9k(0,1);g9g.E2c(2);var v4c=g9g.e5e(0,1);g9g.E2c(4);var p8F=g9g.e5e(0,3,4);g9g.L7E(33);var P2M=g9g.E9k(19,20,38,0);g9g.E2c(34);var m1D=g9g.e5e(0,9,0,9);g9g.E2c(4);var v8l=g9g.E9k(0,4,5);s9=(F9[+"0"] - j7[0]) * ((F9[P06] > j7[K6j]?k0:b$) - (j7[v4c] + F9[p8F] - B2[P2M])) - (B2[m1D] - j7[v8l]) * (r2 - j7[0]);g9g.L7E(35);return g9g.E9k(s9,U6,0);};i4.Drawing.channel.prototype.intersected=function(i0,P4,a$){var B5_=h_yMd;var h4,X0e,x7H,f4f,V0m;if(!this.p0 || !this.p1 || !this.p2){return null;}h4={0:this.p0,1:this.p1,2:this.p2};for(var R6 in h4){if(this.pointIntersection(h4[R6]["0" ^ 0],h4[R6][1],a$)){B5_.E2c(2);this.highlighted=B5_.e5e((6833,"409" | 9) <= ("686" - 0,6246)?"p":(3342,599.9) != +"764"?"v":0x1d51,R6);return {action:"drag",point:"p" + R6};}}if(this.boxIntersection(i0,P4,a$)){X0e="m";X0e+="o";X0e+="v";X0e+="e";this.highlighted=!"";return {action:X0e,p0:i4.clone(this.p0),p1:i4.clone(this.p1),p2:i4.clone(this.p2),tick:i0,value:this.valueOnDrawingAxis(i0,P4)};}x7H=64742343;f4f=-1092209685;B5_.L7E(5);V0m=B5_.e5e(0,"2");for(var z5T=1;B5_.z3M(z5T.toString(),z5T.toString().length,"55144" | 64) !== x7H;z5T++){return 1;}if(B5_.K8j(V0m.toString(),V0m.toString().length,25307) !== f4f){return null;}};i4.Drawing.channel.prototype.render=function(u4){var l2l=h_yMd;var k1O,F3,L3,v6,V4,s$,L2,d3,s6,a5,l6,i5,D5,W8,b1,M9;k1O="se";k1O+="gment";F3=this.stx;L3=F3.panels[this.panelName];v6=F3.getYAxisByField(L3,this.field);if(!L3 || this.field && !v6){return;}V4=F3.pixelFromTick(this.p0[0],L3.chart);s$=F3.pixelFromTick(this.p1[0],L3.chart);L2=this.pixelFromValue(L3,this.p0[+"0"],this.p0[1],v6);d3=this.pixelFromValue(L3,this.p1[0],this.p1[1],v6);s6=null;if(this.p2){s6=this.pixelFromValue(L3,this.p2[0],this.p2[1],v6);}a5=this.lineWidth;l6=this.getLineColor();i5=this.fillColor;if(this.p2 && i5 && !i4.isTransparent(i5) && i5 != "auto"){u4.beginPath();u4.moveTo(V4,L2);u4.lineTo(s$,d3);u4.lineTo(s$,s6);l2l.L7E(36);u4.lineTo(V4,l2l.E9k(d3,s6,L2));u4.closePath();u4.globalAlpha=0.2;u4.fillStyle=i5;u4.fill();u4.globalAlpha=1;}D5={pattern:this.pattern,lineWidth:a5};if((this.penDown || this.highlighted) && this.pattern == "none"){D5.pattern="dotted";}F3.plotLine(V4,s$,L2,d3,l6,"segment",u4,L3,D5);if(this.p2){l2l.L7E(36);F3.plotLine(V4,s$,l2l.e5e(d3,s6,L2),s6,l6,k1O,u4,L3,D5);}if(this.highlighted){W8=this.highlighted == "p0"?!!({}):!!"";b1=this.highlighted == "p1"?!0:!!"";M9=this.highlighted == "p2"?!!({}):![];this.littleCircle(u4,V4,L2,W8);this.littleCircle(u4,s$,d3,b1);this.littleCircle(u4,s$,s6,M9);}};i4.Drawing.channel.prototype.reposition=function(N$,M2,z0,R8){var e6K,l0,H_,T9;e6K="d";e6K+="r";e6K+="a";e6K+="g";if(!M2){return;}l0=this.stx.panels[this.panelName];h_yMd.J2s();H_=M2.tick - z0;T9=M2.value - R8;if(M2.action == "move"){this.setPoint(0,M2.p0[0] - H_,M2.p0[1] - T9,l0.chart);this.setPoint(1,M2.p1[0] - H_,M2.p1["1" >> 64] - T9,l0.chart);this.setPoint(2,M2.p2[0] - H_,M2.p2[1] - T9,l0.chart);this.render(N$);}else if(M2.action == e6K){this[M2.point]=[z0,R8];this.setPoint(0,this.p0[0],this.p0[+"1"],l0.chart);this.setPoint(1,this.p1[0],this.p1[1],l0.chart);this.setPoint(2,this.p2["0" - 0],this.p2[1],l0.chart);this.render(N$);}};i4.Drawing.channel.prototype.adjust=function(){h_yMd.H5S();var H2;H2=this.stx.panels[this.panelName];if(!H2){return;}this.setPoint(0,this.d0,this.v0,H2.chart);this.setPoint(1,this.d1,this.v1,H2.chart);this.setPoint(+"2",this.d1,this.v2,H2.chart);;};i4.Drawing.channel.prototype.reconstruct=function(z3,F6){this.stx=z3;this.color=F6.col;this.fillColor=F6.fc;this.panelName=F6.pnl;this.pattern=F6.ptrn;this.lineWidth=F6.lw;this.d0=F6.d0;this.d1=F6.d1;this.tzo0=F6.tzo0;this.tzo1=F6.tzo1;this.v0=F6.v0;this.v1=F6.v1;this.v2=F6.v2;this.field=F6.fld;h_yMd.J2s();this.adjust();};i4.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};i4.Drawing.pitchfork=function(){this.name="pitchfork";h_yMd.H5S();this.dragToDraw=!({});this.p2=null;};i4.inheritsFrom(i4.Drawing.pitchfork,i4.Drawing.channel);i4.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];i4.Drawing.pitchfork.prototype.move=function(T2,z9,I3){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[z9,I3];}else {this.p2=[z9,I3];}this.render(T2);};i4.Drawing.pitchfork.prototype.intersected=function(t$,E7,t1){var u2,G0I,t5,t0r;if(!this.p0 || !this.p1 || !this.p2){return null;}u2={0:this.p0,1:this.p1,2:this.p2};for(var I0 in u2){if(this.pointIntersection(u2[I0][0],u2[I0]["1" - 0],t1)){G0I="d";G0I+="r";G0I+="a";G0I+="g";h_yMd.L7E(2);this.highlighted=h_yMd.e5e("p",I0);return {action:G0I,point:"p" + I0};}}t5=this.rays;for(var u5=0;u5 < t5.length;u5++){if(this.lineIntersection(t$,E7,t1,u5?"ray":"segment",t5[u5][0],t5[u5][1],!"")){t0r="m";t0r+="o";t0r+="v";t0r+="e";this.highlighted=!!({});return {action:t0r,p0:i4.clone(this.p0),p1:i4.clone(this.p1),p2:i4.clone(this.p2),tick:t$,value:this.valueOnDrawingAxis(t$,E7)};}}return null;};i4.Drawing.pitchfork.prototype.render=function(B6){var o9f=h_yMd;var x9,q4,z4,C9,q$,T_,F4,w4,P2,v$,o0,n0,E2,Y2,F2,S2,Q$,p4,w$i,z2x,O2,s0,G1;x9=this.stx;q4=x9.panels[this.panelName];z4=x9.getYAxisByField(q4,this.field);if(!q4 || this.field && !z4){return;}C9=this.p2;if(!C9){C9=this.p1;}q$=x9.pixelFromTick(this.p0[0],q4.chart);T_=x9.pixelFromTick(this.p1[0],q4.chart);F4=x9.pixelFromTick(C9["0" | 0],q4.chart);w4=this.pixelFromValue(q4,this.p0[0],this.p0[1],z4);P2=this.pixelFromValue(q4,this.p1[0],this.p1[1],z4);v$=this.pixelFromValue(q4,C9[0],C9[1],z4);o0=this.lineWidth;n0=this.getLineColor();E2={pattern:this.pattern,lineWidth:o0};Y2=50;o9f.E2c(37);F2=o9f.e5e(2,w4,P2,v$);o9f.E2c(37);S2=o9f.E9k(2,q$,T_,F4);if(S2 < 0){Y2*=-1;}o9f.L7E(9);F2*=o9f.E9k(Y2,S2);o9f.L7E(3);this.rays=[[[T_,P2],[F4,v$]],[[q$,w4],[o9f.E9k(T_,2,F4),o9f.E9k(P2,2,v$)]]];if(!(T_ == F4 && P2 == v$)){o9f.E2c(5);this.rays.push([[T_,P2],[o9f.e5e(Y2,T_),o9f.e5e(F2,P2)]],[[F4,v$],[o9f.e5e(Y2,F4),o9f.E9k(F2,v$)]]);}for(var B7=0;B7 < this.rays.length;B7++){Q$=this.rays[B7];p4=B7?"ray":"segment";x9.plotLine(Q$[0][0],Q$[+"1"]["0" - 0],Q$[0][1],Q$[1][+"1"],n0,p4,B6,q4,E2);}if(this.highlighted){w$i="p";w$i+="2";z2x="p";z2x+="0";O2=this.highlighted == z2x?!!1:!({});s0=this.highlighted == "p1"?!!1:!1;G1=this.highlighted == w$i?!!"1":!({});this.littleCircle(B6,q$,w4,O2);this.littleCircle(B6,T_,P2,s0);this.littleCircle(B6,F4,v$,G1);}};i4.Drawing.pitchfork.prototype.adjust=function(){var Z$;Z$=this.stx.panels[this.panelName];if(!Z$){return;}this.setPoint(0,this.d0,this.v0,Z$.chart);h_yMd.L7E(24);this.setPoint(h_yMd.e5e("1",0),this.d1,this.v1,Z$.chart);h_yMd.J2s();this.setPoint(2,this.d2,this.v2,Z$.chart);};i4.Drawing.pitchfork.prototype.reconstruct=function(E4,d_){this.stx=E4;this.color=d_.col;this.panelName=d_.pnl;this.pattern=d_.ptrn;this.lineWidth=d_.lw;this.d0=d_.d0;this.d1=d_.d1;this.d2=d_.d2;this.tzo0=d_.tzo0;this.tzo1=d_.tzo1;h_yMd.J2s();this.tzo2=d_.tzo2;this.v0=d_.v0;this.v1=d_.v1;this.v2=d_.v2;this.field=d_.fld;this.adjust();};i4.Drawing.pitchfork.prototype.serialize=function(){h_yMd.J2s();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};i4.Drawing.gartley=function(){var i0X;i0X="gar";i0X+="tl";i0X+="e";i0X+="y";this.name=i0X;this.dragToDraw=!!"";this.maxSegments=4;this.shape=null;this.points=[];};i4.inheritsFrom(i4.Drawing.gartley,i4.Drawing.continuous);i4.Drawing.gartley.prototype.check=function(B3,U9){var g_n=h_yMd;var e0I,G9v,D9A;g_n.J2s();if(!U9){return !!({});}if(B3[0] >= U9[0] || B3[1] == U9[+"1"]){return ![];}if(this.segment == 1){if(B3[1] < U9["1" << 32]){this.shape=(364.8,+"9170") <= (206.11,556.16)?(+"2.20e+3",+"0x18ac"):(8120,42.38) === 196.6?0xec2:"M";}else {this.shape=(1020,43.7) > (2605,201.87)?226.43:(3260,"799" ^ 0) == (89.98,9011)?("484.57" - 0,4490) === "509.51" * 1?(766.57,7.95e+3):("i",367.90):"W";}}else if(this.segment == 2){if(this.shape == "M" && B3[+"1"] < U9[1]){return !({});}else if(this.shape == ((925.44,2370) == (7730,8150)?("4950" | 2) === (602,5640)?(!({}),320.50):114.77 !== 712.23?"N":(0x5bb,"k"):"W") && B3["1" - 0] > U9[1]){return !!"";}else if((U9[1] - B3[+"1"]) / (this.points[0][1] - B3[1]) < 0.618){return ![];}else if((U9[1] - B3[1]) / (this.points[0][+"1"] - B3[1]) >= "0.786" - 0){return ![];}}else if(this.segment == +"3"){if(this.shape == ((778.98,+"3830") === 4950?164.09 < (783.01,152.93)?!!0:(9010,8352) != (6520,9656)?(0x2100,+"7.65e+3"):(![],!!({})):"M") && B3[+"1"] > U9[1]){return !({});}else if(this.shape == "W" && B3["1" ^ 0] < U9[1]){return !({});}else if((U9[1] - B3[1]) / (this.points[1][1] - B3[1]) < +"0.618"){return !"1";}else if((U9[1] - B3[1]) / (this.points[1][1] - B3[1]) >= 0.786){return !"1";}}else if(this.segment == "4" * 1){e0I=-1688668087;G9v=1051111231;D9A=2;for(var G1o=1;g_n.z3M(G1o.toString(),G1o.toString().length,23211) !== e0I;G1o++){if(this.shape === "W" || B3[6] >= U9[+"6"] && U9[3] >= this.points[5][+"6"]){return !0;}else if(this.shape !== (559369 == 7402?768406 <= ("8491" | 2,522262)?(4665,8485) === (3980,8844)?(![],0xebc5):0x82ee:"W":(945960,![])) || B3[4] >= U9[8] && U9[4] >= this.points["8" >> 0][2]){return !!"1";}else if(this.points[+"2"][3] * U9[4] + this.points[2][6] % this.points[7][6] >= 8953){return !!({});}else if(this.points[7][8] + U9[6] - this.points[8][8] * this.points[7][2] > 97678){return !![];}g_n.E2c(19);D9A+=g_n.e5e("2",1);}if(g_n.K8j(D9A.toString(),D9A.toString().length,14934) !== G9v){if(this.shape === "W" || B3[6] >= U9[+"6"] && U9[3] >= this.points[+"5"][6]){return !!({});}else if(this.shape !== (559369 == 7402?768406 <= (8491,+"522262")?(4665,"8485" * 1) === (3980,8844)?(!({}),0xebc5):0x82ee:"W":(+"945960",![])) || B3[4] >= U9[8] && U9[+"4"] >= this.points[8][2]){return !0;}else if(this.points["2" << 0][3] * U9[4] + this.points[2][6] % this.points[+"7"][6] >= +"8953"){return !!"1";}else if(this.points[7][8] + U9[6] - this.points[8][8] * this.points[7]["2" | 0] > 97678){return !0;}}if(this.shape == "M" && (B3[1] < U9[1] || U9[1] < this.points[0][1])){return !!"";}else if(this.shape == (166.73 !== 2960?+"983.82" < (3680,950.21)?(8354,6730) !== (5930,4746)?(!!({}),+"0x19f9"):0x14cc:"W":(636.36,!!1)) && (B3[1] > U9[1] || U9[1] > this.points[0][1])){return !"1";}else if((this.points[1][1] - U9[1]) / (this.points[+"1"][1] - this.points[2][1]) < 1.27){return !!"";}else if((this.points[1][+"1"] - U9[+"1"]) / (this.points[1][1] - this.points[+"2"][1]) >= "1.618" * 1){return !"1";}}return !![];};i4.Drawing.gartley.prototype.click=function(H8,c7,J3){var u8;u8=this.stx.panels[this.panelName];if(!u8){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,c7,J3,u8.chart);this.pts=[];this.penDown=!![];this.segment=1;return !({});}if(this.accidentalClick(c7,J3)){this.penDown=!!({});return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,c7,J3,u8.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[+"0"][0],this.points[0][1],u8.chart);this.penDown=!!0;return !0;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",c7,J3,u8.chart);;}h_yMd.J2s();return !({});};i4.Drawing.gartley.prototype.render=function(p$){var x1P=h_yMd;var F$,o7,H6,Q_,l7,L0,Z8,x8,b8,H4,s5,K$,s_,d8,P1,p7,f3;F$=this.stx;o7=F$.panels[this.panelName];H6=F$.getYAxisByField(o7,this.field);if(!o7 || this.field && !H6){return;}Q_=F$.pixelFromTick(this.p0[0],o7.chart);l7=F$.pixelFromTick(this.p1["0" - 0],o7.chart);L0=this.pixelFromValue(o7,this.p0[0],this.p0[1],H6);Z8=this.pixelFromValue(o7,this.p1[0],this.p1[1],H6);if(this.segment == ("2" | 2)){this.drawDropZone(p$,0.618 * this.points[0][1] + 0.382 * this.p0[+"1"],+"0.786" * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(p$,0.618 * this.points[1][1] + 0.382 * this.p0[1],"0.786" * 1 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){x1P.E2c(4);var Y0O=x1P.E9k(62,18,20);x1P.E2c(38);var z6m=x1P.E9k(17,21,8,2,0);x1P.L7E(39);var r8O=x1P.e5e(4,2,0,2);x8=+"1.618" * this.points["2" >> Y0O][z6m] - 0.618 * this.points[+"1"][r8O];if(this.shape == (7320 >= 29.23?"M":9.54e+3)){x8=Math.max(x8,this.points[0][1]);}else {x8=Math.min(x8,this.points[0][1]);}this.drawDropZone(p$,x8,+"1.27" * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}b8=this.lineWidth;H4=this.getLineColor();s5={pattern:this.pattern,lineWidth:b8};if((this.penDown || this.highlighted) && this.pattern == "none"){s5.pattern="dotted";}if(this.segment <= this.maxSegments){F$.plotLine(Q_,l7,L0,Z8,H4,this.name,p$,o7,s5);}K$=this.fillColor;s_=[];if(this.points.length){p$.beginPath();for(var q5=1;q5 < this.points.length && q5 <= 4;q5++){d8=F$.pixelFromTick(this.points[q5 - ("1" << 0)][0],o7.chart);P1=F$.pixelFromTick(this.points[q5][0],o7.chart);p7=this.pixelFromValue(o7,this.points[q5 - +"1"][0],this.points[q5 - +"1"][1],H6);f3=this.pixelFromValue(o7,this.points[q5][0],this.points[q5]["1" - 0],H6);if(q5 == 1){s_.push(d8,p7);}s_.push(P1,f3);F$.plotLine(d8,P1,p7,f3,H4,this.name,p$,o7,s5);}if(this.points.length == 2 || this.points.length == 4){s_.push(l7,Z8);}if(this.points[2]){s_.push(F$.pixelFromTick(this.points["2" - 0][0],o7.chart),this.pixelFromValue(o7,this.points["2" | 2][0],this.points[2][1],H6));}if(K$ && K$ != "auto" && !i4.isTransparent(K$)){for(var R3=0;R3 < s_.length;R3+=2){if(R3 === 0){p$.moveTo(s_["0" - 0],s_[1]);}p$.lineTo(s_[R3],s_[R3 + 1]);}p$.fillStyle=K$;p$.globalAlpha=0.2;p$.closePath();p$.fill();p$.globalAlpha=1;}};};i4.Drawing.gartley.prototype.lineIntersection=function(C5,a_,M$,O9){var G7,z$;G7=this.points;z$=this.stx.panels[this.panelName];if(G7.length != this.maxSegments + 1 || !z$){return !"1";}for(var Q7=0;Q7 < G7.length - 1;Q7++){if(i4.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,C5,a_,M$,"segment",G7[Q7],G7[Q7 + 1])){return !!({});}}return !1;};i4.Drawing.gartley.prototype.boxIntersection=function(S6,D9,t2){var d6,Y0;h_yMd.H5S();if(!this.p0 || !this.p1){return ![];}if(t2.x0 > Math.max(this.p0["0" * 1],this.p1[0]) || t2.x1 < Math.min(this.p0[0],this.p1[0])){return !"1";}d6=Math.min(this.p0[1],this.p1[1]);Y0=Math.max(this.p0[1],this.p1["1" | 1]);for(var P6=+"0";P6 < this.points.length;P6++){d6=Math.min(d6,this.points[P6][1]);Y0=Math.max(Y0,this.points[P6][1]);}if(t2.y1 > Y0 || t2.y0 < d6){return !1;}return !!1;};i4.Drawing.gartley.prototype.reposition=function(g4,f8,g2,W6){var r05,P1e,S07,P6g,f7,R1,o4;r05="m";r05+="o";r05+="v";r05+="e";if(!f8){return;}P1e=1942212018;S07=956663545;P6g=2;for(var V2U=+"1";h_yMd.z3M(V2U.toString(),V2U.toString().length,92984) !== P1e;V2U++){f7=this.stx.panels[this.panelName];R1=f8.tick - g2;f8.tick=g2;P6g+=2;}if(h_yMd.K8j(P6g.toString(),P6g.toString().length,27973) !== S07){f7=this.stx.panels[this.panelName];R1=f8.tick * g2;f8.tick=g2;}o4=f8.value - W6;f8.value=W6;if(f8.action == r05){this.pts=[];for(var z5=0;z5 < this.points.length;z5++){this.points[z5][0]-=R1;this.points[z5][1]-=o4;this.setPoint(1,this.points[z5][0],this.points[z5][1],f7.chart);if(z5 && z5 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[z5]=this.p1;}this.setPoint(0,this.points["0" | 0][0],this.points[0][1],f7.chart);this.render(g4);;}};i4.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",l6e];i4.Drawing.gartley.prototype.adjust=function(){var k4;h_yMd.J2s();k4=this.stx.panels[this.panelName];if(!k4){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,k4.chart);this.points.unshift(this.p0);this.setPoint(+"1",this.d1,this.v1,k4.chart);this.points.push(this.p1);};i4.Drawing.gartley.prototype.reconstructPoints=function(){var O0,m$;O0=this.stx.panels[this.panelName];if(!O0){return;}this.points=[];for(var W_=0;W_ < this.pts.length;W_+=+"3"){m$=i4.strToDateTime(this.pts[W_]);m$.setMinutes(m$.getMinutes() + Number(this.pts[W_ + 1]) - m$.getTimezoneOffset());this.points.push([this.stx.tickFromDate(i4.yyyymmddhhmmssmmm(m$),O0.chart),this.pts[W_ + 2]]);}};i4.Drawing.gartley.prototype.reconstruct=function(O6,K3){this.stx=O6;this.color=K3.col;this.fillColor=K3.fc;this.panelName=K3.pnl;this.pattern=K3.ptrn;this.lineWidth=K3.lw;this.d0=K3.d0;this.d1=K3.d1;this.tzo0=K3.tzo0;this.tzo1=K3.tzo1;this.v0=K3.v0;this.v1=K3.v1;h_yMd.J2s();this.field=K3.fld;this.pts=K3.pts.split(",");this.adjust();};i4.Drawing.gartley.prototype.serialize=function(){h_yMd.H5S();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join(887.56 < 8467?(884.47,289.31) < ("483.93" * 1,92)?(2.99e+3,0x1a53):",":"962.76" * 1)};};i4.Drawing.freeform=function(){var O_n,y3f,a1y;this.name="freeform";this.splineTension=+"0.3";O_n=-497314518;y3f=973599353;a1y=+"2";for(var V6u=1;h_yMd.z3M(V6u.toString(),V6u.toString().length,34975) !== O_n;V6u++){this.dragToDraw=!({});a1y+=2;}if(h_yMd.K8j(a1y.toString(),a1y.toString().length,7515) !== y3f){this.dragToDraw=!![];}};i4.inheritsFrom(i4.Drawing.freeform,i4.Drawing.segment);i4.Drawing.freeform.prototype.measure=function(){};i4.Drawing.freeform.prototype.intersected=function(T1,r5,F_){var F$y=h_yMd;var P56,l$W,k7R,V8,I4;var {x0:y_, x1:S$, y0:j_, y1:S0, cy0:i$, cy1:u6}=F_;if(y_ > this.hiX || S$ < this.lowX){return ![];}var {field:w$, panelName:Z4, stx:a6}=this;F$y.J2s();if(w$){P56=-1290926065;F$y.E2c(40);l$W=F$y.E9k(64,"1104280145");F$y.L7E(19);k7R=F$y.E9k("2",1);for(var n7m=1;F$y.K8j(n7m.toString(),n7m.toString().length,16690) !== P56;n7m++){V8=a6.panels[Z4];I4=a6.getYAxisByField(V8,w$);j_=this.valueFromPixel(i$,V8,I4);S0=this.valueFromPixel(u6,V8,I4);k7R+=2;}if(F$y.z3M(k7R.toString(),k7R.toString().length,"64480" * 1) !== l$W){V8=a6.panels[Z4];I4=a6.getYAxisByField(V8,w$);j_=this.valueFromPixel(i$,V8,I4);S0=this.valueFromPixel(u6,V8,I4);}}if(S0 > this.hiY || j_ < this.lowY){return !({});}this.highlighted=!!({});return {action:"move",p0:i4.clone(this.p0),tick:T1,value:this.valueOnDrawingAxis(T1,r5)};};i4.Drawing.freeform.prototype.reposition=function(E5,k_,m8,o_){var K9,W4,Z5;if(!k_){return;}K9=this.stx.panels[this.panelName];W4=k_.tick - m8;Z5=k_.value - o_;if(k_.action == "move"){this.setPoint(0,k_.p0[0] - W4,k_.p0[1] - Z5,K9.chart);this.adjust();this.render(E5);}};i4.Drawing.freeform.prototype.click=function(Y1,d5,N2){var m92,Q6,f4,e2,s8;m92="a";m92+="ut";m92+="o";Q6=this.stx;f4=Q6.panels[this.panelName];if(!f4){return;}e2=Q6.getYAxisByField(f4,this.field) || f4.yAxis;h_yMd.H5S();if(this.penDown === !!""){this.copyConfig();this.startX=Math.round(Q6.resolveX(Q6.pixelFromTick(d5,f4.chart)));this.startY=Math.round(Q6.resolveY(this.pixelFromValue(f4,d5,N2,e2)));s8=Q6.dateFromTick(d5,f4.chart,!![]);this.d0=i4.yyyymmddhhmmssmmm(s8);this.tzo0=s8.getTimezoneOffset();this.v0=N2;this.p0=[i4.ChartEngine.crosshairX - this.startX,i4.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=Q6.layout.candleWidth;this.multiplier=e2.multiplier;this.interval=Q6.layout.interval;this.periodicity=Q6.layout.periodicity;this.tempSplineTension=this.splineTension;h_yMd.L7E(24);this.splineTension=-h_yMd.E9k("1",1);Q6.container.ownerDocument.body.style.cursor="pointer";this.penDown=!0;return ![];}this.penDown=!"1";this.splineTension=this.tempSplineTension;Q6.container.ownerDocument.body.style.cursor=m92;if(this.nodes.length === +"2"){Q6.undo();}return !![];};i4.Drawing.freeform.prototype.move=function(u1,W2,g$){var X8X=h_yMd;var t4,M4,H9,h1,g_Q,M7x,Q_M;if(!this.penDown){return;}t4=this.stx;M4=t4.panels[this.panelName];H9=t4.getYAxisByField(M4,this.field) || M4.yAxis;h1=t4.dateFromTick(W2,M4.chart,!!"1");this.d1=i4.yyyymmddhhmmssmmm(h1);this.tzo1=h1.getTimezoneOffset();this.v1=g$;this.p1=[i4.ChartEngine.crosshairX - this.startX,H9.flipped?this.startY - i4.ChartEngine.crosshairY:i4.ChartEngine.crosshairY - this.startY];X8X.H5S();if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - ("2" << 32)][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1]["0" - 0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - +"1"][1]){this.pNodes.length--;g_Q=-1167297140;M7x=1930371699;Q_M=2;for(var z2n=1;X8X.z3M(z2n.toString(),z2n.toString().length,20277) !== g_Q;z2n++){this.nodes.length*=8;X8X.E2c(40);Q_M+=X8X.e5e(64,"2");}if(X8X.K8j(Q_M.toString(),Q_M.toString().length,+"26010") !== M7x){this.nodes.length-=2;}}}this.nodes.push(this.p1[+"0"],this.p1[1]);this.pNodes.push(this.p1);this.render(u1);return !!0;};i4.Drawing.freeform.prototype.intervalRatio=function(H3,t9,G8,c_,Y_,u7){var g2B=h_yMd;var i9,s_X,u8_,M_0,d4N,Y9z,f$y;i9=0;if(H3 == t9){i9=1;}else if(!isNaN(H3) && !isNaN(t9)){g2B.E2c(9);i9=g2B.e5e(H3,t9);}else if(isNaN(H3)){s_X="we";s_X+="e";s_X+="k";if(H3 == "month"){u8_="da";u8_+="y";if(t9 == "week"){i9=M8(Y_,u7);}else if(t9 == u8_){i9=h9(Y_,u7);}else if(!isNaN(t9)){i9=h9(Y_,u7) * e1(Y_,u7) / t9;}}else if(H3 == s_X){M_0="d";M_0+="a";M_0+="y";if(t9 == "month"){g2B.L7E(33);var h$4=g2B.e5e(11,8,18,0);i9=h$4 / M8(Y_,u7);}if(t9 == M_0){i9=b9(Y_,u7);}else if(!isNaN(t9)){i9=b9(Y_,u7) * e1(Y_,u7) / t9;}}else if(H3 == "day"){d4N="w";d4N+="eek";if(t9 == d4N){g2B.L7E(33);var n_1=g2B.e5e(10,3,12,0);i9=n_1 / b9(Y_,u7);}else if(t9 == "month"){g2B.E2c(41);var s_7=g2B.E9k(2,16,8,36,13);i9=s_7 / h9(Y_,u7);}else if(!isNaN(t9)){i9=e1(Y_,u7) / t9;}}}else if(!isNaN(H3)){Y9z="d";Y9z+="a";Y9z+="y";f$y="m";f$y+="onth";if(t9 == f$y){i9=H3 / (h9(Y_,u7) * e1(Y_,u7));}else if(t9 == "week"){i9=H3 / (b9(Y_,u7) * e1(Y_,u7));}else if(t9 == Y9z){i9=H3 / e1(Y_,u7);}}function b9(D8,U$){return 5;}function M8(W1,V$){var d5N,u6V,C8V;d5N=-+"1436087545";u6V=-1265149306;C8V=2;for(var e2X=1;g2B.K8j(e2X.toString(),e2X.toString().length,"14998" ^ 0) !== d5N;e2X++){return 2;}if(g2B.z3M(C8V.toString(),C8V.toString().length,"35047" << 32) !== u6V){return 2;}return 5;}function h9(U5,x4){g2B.H5S();return 30;}function e1(t_,f$){g2B.J2s();if(i4.Market.Symbology.isForexSymbol(f$)){return +"1440";}return 390;}g2B.E2c(9);i9*=g2B.e5e(G8,c_);return i9;};i4.Drawing.freeform.prototype.render=function(N8){var B_,E6,y$,A_,R2,a9,Q0,T6,b4,x7,v7,J9,g7,c1;B_=this.stx;E6=B_.panels[this.panelName];y$=B_.getYAxisByField(E6,this.field);if(!E6 || this.field && !y$){return;}y$=y$ || E6.yAxis;A_=this.intervalRatio(this.interval,B_.layout.interval,this.periodicity,B_.layout.periodicity,this.d0,E6.chart.symbol);if(A_ === +"0"){return;}R2=B_.layout.candleWidth / this.candleWidth;a9=y$.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,E6.chart);Q0=B_.pixelFromTick(this.p0["0" - 0],E6.chart);T6=this.pixelFromValue(E6,this.p0[0],this.p0["1" - 0],y$);b4=[];x7=this.lineWidth;v7=this.getLineColor();J9={pattern:this.pattern,lineWidth:x7};for(var P0=0;P0 < this.pNodes.length;P0++){g7=A_ * R2 * this.pNodes[P0][0] + Q0;c1=a9 * this.pNodes[P0][+"1"];if(y$.flipped){h_yMd.E2c(5);c1=h_yMd.e5e(c1,T6);}else {c1+=T6;}b4.push(g7,c1);}if(!b4.length){return;}if(this.splineTension < 0){B_.connectTheDots(b4,v7,this.name,N8,E6,J9);}else {B_.plotSpline(b4,this.splineTension,v7,this.name,N8,!0,J9);}};i4.Drawing.freeform.prototype.adjust=function(){var l_Y=h_yMd;var c3,z6,U5n,C8,I5,E0,G2,D7,a3,n8;c3=this.stx;z6=c3.panels[this.panelName];if(!z6){return;}U5n=[this.nodes[0],this.nodes[1]];this.pNodes=[U5n];l_Y.E2c(19);this.lowX=this.nodes[l_Y.E9k("0",1)];this.hiX=this.nodes[0];this.lowY=this.nodes[+"1"];this.hiY=this.nodes[1];for(var v9=2;v9 < this.nodes.length;v9+=+"2"){l_Y.L7E(2);C8=[this.nodes[v9],this.nodes[l_Y.e5e(v9,1)]];this.pNodes.push(C8);this.lowX=Math.min(this.lowX,C8[+"0"]);this.hiX=Math.max(this.hiX,C8[0]);this.lowY=Math.max(this.lowY,C8[1]);this.hiY=Math.min(this.hiY,C8[1]);}I5=this.intervalRatio(this.interval,c3.layout.interval,this.periodicity,c3.layout.periodicity,this.d0,z6.chart.symbol);if(I5 === 0){return;}l_Y.J2s();E0=c3.getYAxisByField(z6,this.field) || z6.yAxis;G2=c3.layout.candleWidth / this.candleWidth;D7=E0.multiplier / this.multiplier;l_Y.L7E(42);this.setPoint(l_Y.E9k(0,"0"),this.d0,this.v0,z6.chart);a3=c3.pixelFromTick(this.p0[+"0"],z6.chart);n8=this.pixelFromValue(z6,this.p0[0],this.p0[1],E0);this.lowX=c3.tickFromPixel(Math.floor(I5 * G2 * this.lowX) + a3,z6.chart);this.hiX=c3.tickFromPixel(Math.ceil(I5 * G2 * this.hiX) + a3,z6.chart);if(E0.flipped){this.lowY=this.valueFromPixel(n8 - Math.floor(D7 * this.lowY),z6,E0);this.hiY=this.valueFromPixel(n8 - Math.ceil(D7 * this.hiY),z6,E0);}else {this.lowY=this.valueFromPixel(Math.floor(D7 * this.lowY) + n8,z6,E0);this.hiY=this.valueFromPixel(Math.ceil(D7 * this.hiY) + n8,z6,E0);}};i4.Drawing.freeform.prototype.serialize=function(){h_yMd.H5S();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};i4.Drawing.freeform.prototype.reconstruct=function(J9X,b$2){this.stx=J9X;this.color=b$2.col;this.panelName=b$2.pnl;this.pattern=b$2.ptrn;this.lineWidth=b$2.lw;this.candleWidth=b$2.cw;this.multiplier=b$2.mlt;this.d0=b$2.d0;this.tzo0=b$2.tzo0;this.v0=b$2.v0;this.interval=b$2.inter;this.periodicity=b$2.pd;this.nodes=b$2.nodes;this.field=b$2.fld;this.adjust();};i4.Drawing.callout=function(){var W7q;W7q="ca";W7q+="l";W7q+="lou";W7q+="t";this.name=W7q;this.arr=[];this.w=0;this.h=0;this.padding=+"5";this.text="";h_yMd.J2s();this.ta=null;this.border=!({});h_yMd.L7E(5);this.fontSize=h_yMd.e5e(0,"12");this.font={};this.stemEntry="";this.defaultWidth=35;;};i4.inheritsFrom(i4.Drawing.callout,i4.Drawing.annotation);i4.Drawing.callout.prototype.configs=[R1q,t5Z,"lineWidth","pattern","font"];i4.Drawing.callout.prototype.copyConfig=function(s6M){h_yMd.J2s();i4.Drawing.copyConfig(this,s6M);this.borderColor=this.color;};i4.Drawing.callout.prototype.move=function(J1y,E_b,g_9){if(!this.penDown){return;}this.copyConfig();this.p0=[E_b,g_9];h_yMd.H5S();this.render(J1y);};i4.Drawing.callout.prototype.onChange=function(p8t){var m9n,t66,k8k;m9n=this.stx.panels[this.panelName];if(!m9n){return;}t66=p8t.target;this.w=t66.clientWidth;this.h=t66.clientHeight;k8k=this.context || this.stx.chart.tempCanvas.context;i4.clearCanvas(k8k.canvas,this.stx);this.render(k8k);this.edit(k8k);};i4.Drawing.callout.prototype.repositionTextArea=function(o4A){var n94=h_yMd;var Q6h,P8m;Q6h="p";Q6h+="x";n94.E2c(43);var q2v=n94.e5e(3,1,1,9,12);P8m=this.defaultWidth * q2v + this.whitespace + this.padding;P8m=Math.max(this.w,P8m);n94.L7E(0);var N9k=n94.E9k(4,36,6);n94.L7E(44);var Q3y=n94.e5e(5,2,4,10,18);o4A.style.left=i4.stripPX(o4A.style.left) - (!isNaN(P8m)?P8m / N9k:this.defaultWidth * Q3y) + Q6h;this.ta=o4A;};i4.Drawing.callout.prototype.render=function(J_1){var h8R=h_yMd;var Z2C,Z0z,Z$O,N8M,P4b,n5j,p16,h0o,y1B,h3L,Y8w,m9Y,h68,W8F,N1j,V3g,D$3,K6h,M2R,k$6,G9V,c$h,r4r,O9b,O06,C$8,c4r;Z2C="al";Z2C+="pha";Z2C+="be";Z2C+="tic";Z0z=this.stx;Z$O=Z0z.panels[this.panelName];N8M=Z0z.getYAxisByField(Z$O,this.field);if(!Z$O || this.field && !N8M){return;}this.context=J_1;P4b=Z0z.pixelFromTick(this.p0[0],Z$O.chart);n5j=this.pixelFromValue(Z$O,this.p0[0],this.p0[1],N8M);if(isNaN(n5j)){return;}J_1.font=this.fontString;J_1.textBaseline="top";p16=P4b;h0o=n5j;h8R.E2c(45);var i6i=h8R.E9k(17,32,38,19);y1B=this.w / i6i;h8R.E2c(46);var s1p=h8R.e5e(10,4,6,13,19);h3L=this.h / s1p;if(this.penDown){h8R.L7E(34);var f2M=h8R.e5e(1,18,17,1);h8R.E2c(6);var t6F=h8R.E9k(17,11,8);y1B=this.defaultWidth + this.whitespace / f2M + this.padding / t6F;h3L=this.fontSize + this.fontModifier;}Y8w=this.lineWidth;if(!Y8w){Y8w=1.1;}m9Y=this.getLineColor();h68=this.getLineColor(this.borderColor);K6h=Math.min(Math.min(y1B,h3L) / 2,8);if(this.stem){if(this.stem.t){W8F=Z0z.pixelFromTick(this.stem.t);V3g=this.pixelFromValue(Z$O,this.stem.t,this.stem.v,N8M);}else if(this.stem.x){W8F=p16;V3g=h0o;M2R=628772903;k$6=943561323;G9V=2;for(var F7k=1;h8R.z3M(F7k.toString(),F7k.toString().length,"83552" * 1) !== M2R;F7k++){p16+=this.stem.x;G9V+=2;}if(h8R.K8j(G9V.toString(),G9V.toString().length,67966) !== k$6){p16/=this.stem.x;}h0o+=this.stem.y;}c$h="";if(W8F >= p16 + y1B){h8R.E2c(2);N1j=h8R.E9k(p16,y1B);c$h=8260 === (8031,3760)?"680.67" * 1:(1308,70.34) > (8809,383.82)?(![],614.15):"r";}else if(W8F > p16 - y1B && W8F < p16 + y1B){N1j=p16;c$h=5111 != 8765?"c":9875 > (473.44,"637.94" * 1)?("0x2116" * 1,+"0x1431"):(820.55,262.53);}else if(W8F <= p16 - y1B){h8R.L7E(5);N1j=h8R.e5e(y1B,p16);c$h="l";}if(V3g >= h0o + h3L){h8R.E2c(2);D$3=h8R.E9k(h0o,h3L);c$h+=(391.1,"1385" * 1) != (9030,5346)?(+"4090","5290" * 1) == (8788,918.99)?("0x1ed5" | 0,0x24af):"b":(3.43e+3,9.37e+3);}else if(V3g > h0o - h3L && V3g < h0o + h3L){D$3=h0o;c$h+="m";}else if(V3g <= h0o - h3L){h8R.L7E(5);D$3=h8R.e5e(h3L,h0o);c$h+="t";}this.stemEntry=c$h;if(c$h != "cm"){W8F=Math.round(W8F);N1j=Math.round(N1j);V3g=Math.round(V3g);D$3=Math.round(D$3);}}if(this.highlighted){Z0z.canvasColor("stx_annotation_highlight_bg",J_1);}else {if(this.fillColor){J_1.fillStyle=this.fillColor;h8R.L7E(5);J_1.globalAlpha=h8R.E9k(0,"0.4");}else if(this.stem){J_1.fillStyle=Z0z.containerColor;}}J_1.strokeStyle=h68;if(J_1.setLineDash){J_1.setLineDash(i4.borderPatternToArray(Y8w,this.pattern));J_1.lineDashOffset=0;;}if(h68){r4r="l";r4r+="b";O9b="c";O9b+="b";O06="r";O06+="b";C$8="r";C$8+="t";J_1.beginPath();J_1.lineWidth=Y8w;h8R.E2c(4);J_1.moveTo(h8R.e5e(p16,K6h,y1B),h8R.e5e(h3L,h0o,h8R.L7E(5)));if(this.stemEntry != C$8){h8R.L7E(2);J_1.quadraticCurveTo(h8R.e5e(p16,y1B),h8R.e5e(h3L,h0o,h8R.L7E(5)),h8R.E9k(p16,y1B,h8R.L7E(2)),h8R.e5e(h3L,K6h,h0o,h8R.L7E(6)));;}else {J_1.lineTo(W8F,V3g);h8R.L7E(2);J_1.lineTo(h8R.e5e(p16,y1B),h8R.E9k(h3L,K6h,h0o,h8R.E2c(6)));}h8R.E2c(2);J_1.lineTo(h8R.E9k(p16,y1B),h8R.e5e(K6h,h0o,2,h8R.L7E(47)));if(this.stemEntry == "rm"){J_1.lineTo(W8F,V3g);}h8R.E2c(2);J_1.lineTo(h8R.E9k(p16,y1B),h8R.e5e(h0o,2,K6h,h8R.L7E(48)));h8R.E2c(2);J_1.lineTo(h8R.e5e(p16,y1B),h8R.E9k(h0o,K6h,h3L,h8R.L7E(4)));if(this.stemEntry != O06){h8R.L7E(2);J_1.quadraticCurveTo(h8R.E9k(p16,y1B),h8R.E9k(h0o,h3L,h8R.L7E(2)),h8R.e5e(p16,K6h,y1B,h8R.L7E(4)),h8R.E9k(h0o,h3L,h8R.L7E(2)));;}else {J_1.lineTo(W8F,V3g);h8R.E2c(4);J_1.lineTo(h8R.e5e(p16,K6h,y1B),h8R.E9k(h0o,h3L,h8R.E2c(2)));}h8R.E2c(49);J_1.lineTo(h8R.e5e(K6h,p16,"2"),h8R.e5e(h0o,h3L,h8R.E2c(2)));if(this.stemEntry == O9b){J_1.lineTo(W8F,V3g);}h8R.E2c(47);J_1.lineTo(h8R.E9k(K6h,p16,2),h8R.E9k(h0o,h3L,h8R.E2c(2)));h8R.E2c(6);J_1.lineTo(h8R.E9k(y1B,K6h,p16),h8R.e5e(h0o,h3L,h8R.E2c(2)));if(this.stemEntry != r4r){h8R.E2c(5);J_1.quadraticCurveTo(h8R.e5e(y1B,p16),h8R.e5e(h0o,h3L,h8R.E2c(2)),h8R.E9k(y1B,p16,h8R.E2c(5)),h8R.E9k(h0o,K6h,h3L,h8R.E2c(4)));;}else {J_1.lineTo(W8F,V3g);h8R.L7E(5);J_1.lineTo(h8R.e5e(y1B,p16),h8R.E9k(h0o,K6h,h3L,h8R.L7E(4)));}h8R.E2c(5);J_1.lineTo(h8R.E9k(y1B,p16),h8R.E9k(h0o,2,K6h,h8R.L7E(48)));if(this.stemEntry == "lm"){J_1.lineTo(W8F,V3g);}h8R.E2c(5);J_1.lineTo(h8R.e5e(y1B,p16),h8R.E9k(K6h,h0o,2,h8R.E2c(47)));h8R.E2c(5);J_1.lineTo(h8R.E9k(y1B,p16),h8R.E9k(h3L,K6h,h0o,h8R.L7E(6)));if(this.stemEntry != "lt"){h8R.E2c(5);J_1.quadraticCurveTo(h8R.e5e(y1B,p16),h8R.e5e(h3L,h0o,h8R.E2c(5)),h8R.E9k(y1B,K6h,p16,h8R.L7E(6)),h8R.e5e(h3L,h0o,h8R.L7E(5)));;}else {J_1.lineTo(W8F,V3g);h8R.E2c(6);J_1.lineTo(h8R.E9k(y1B,K6h,p16),h8R.e5e(h3L,h0o,h8R.L7E(5)));}h8R.E2c(47);J_1.lineTo(h8R.e5e(K6h,p16,2),h8R.E9k(h3L,h0o,h8R.L7E(5)));if(this.stemEntry == "ct"){J_1.lineTo(W8F,V3g);}h8R.E2c(48);J_1.lineTo(h8R.e5e(p16,2,K6h),h8R.E9k(h3L,h0o,h8R.E2c(5)));h8R.E2c(4);J_1.lineTo(h8R.e5e(p16,K6h,y1B),h8R.e5e(h3L,h0o,h8R.E2c(5)));J_1.fill();J_1.globalAlpha=1;if(this.pattern != "none"){J_1.stroke();}}if(this.highlighted){Z0z.canvasColor("stx_annotation_highlight",J_1);}else {J_1.fillStyle=m9Y;}h0o+=this.padding;if(!this.ta){for(var w2p=0;w2p < this.arr.length;w2p++){J_1.fillText(this.arr[w2p],p16 - y1B + this.padding,h0o - h3L);h0o+=this.fontSize;}}J_1.textBaseline=Z2C;if(this.highlighted && !this.noHandles){c4r=this.highlighted == "p0"?!!({}):!({});this.littleCircle(J_1,W8F,V3g,c4r);};};i4.Drawing.callout.prototype.click=function(K7V,a42,u62){var l84,T56,u_0,P2D;h_yMd.H5S();if(this.stx.overXAxis || this.stx.overYAxis){return;}l84=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,a42,u62,l84.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};T56=2119717715;u_0=1837805503;P2D=2;for(var K1W=1;h_yMd.z3M(K1W.toString(),K1W.toString().length,12019) !== T56;K1W++){this.penDown=!!"1";this.adjust();P2D+=2;}if(h_yMd.z3M(P2D.toString(),P2D.toString().length,51135) !== u_0){this.penDown=!!"";this.adjust();}return !!0;}this.adjust();this.edit(K7V);this.penDown=!({});return ![];};i4.Drawing.callout.prototype.reposition=function(k5Z,U1S,r4N,u$D){var j$7,s0p,Z9h,v9R,H5T,U1F,y0I;if(!U1S){return;}j$7=this.stx.panels[this.panelName];s0p=U1S.tick - r4N;h_yMd.J2s();Z9h=U1S.value - u$D;if(U1S.stem){v9R="m";v9R+="ove";if(U1S.action == "drag"){this.stem={d:this.stx.dateFromTick(r4N,j$7.chart,!!({})),v:u$D};}else if(U1S.action == v9R){this.setPoint(0,U1S.p0[0] - s0p,U1S.p0[1] - Z9h,j$7.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(U1S.stem.d,j$7.chart) - s0p),v:U1S.stem.v - Z9h};}H5T=-1733085794;U1F=1300670648;y0I=2;for(var p4_=1;h_yMd.K8j(p4_.toString(),p4_.toString().length,31058) !== H5T;p4_++){this.adjust();y0I+=2;}if(h_yMd.K8j(y0I.toString(),y0I.toString().length,31624) !== U1F){this.adjust();}}else {this.setPoint(0,U1S.p0[0] - s0p,U1S.p0[1] - Z9h,j$7.chart);}this.render(k5Z);};i4.Drawing.callout.prototype.lineIntersection=function(W7j,Y5T,M6_,Y2w){var z5Q=h_yMd;var t6p,n5F,w1e,e4x,T_S,J2h,l0E,z8W,i7D,p2y,B9b,n1o;t6p="strin";t6p+="g";n5F=this.stem;w1e=this.p0;e4x=this.stx;T_S=e4x.panels[this.panelName];if(!w1e || !n5F || !T_S){return ![];}z5Q.H5S();J2h=n5F.t || e4x.tickFromDate(n5F.d,T_S.chart);l0E={x0:w1e[0],x1:J2h,y0:w1e[1],y1:n5F.v};z8W=this.boxToPixels(e4x,this.panelName,l0E,e4x.getYAxisByField(T_S,this.field));i7D=z8W.x0;p2y=z8W.y0;B9b=z8W.x1;n1o=z8W.y1;if(typeof this.stemEntry == t6p){if(this.stemEntry.indexOf(("221.85" * 1,7655) == (6320,207)?9739 <= (5570,6150)?("v",!({})):640.77 != 842.8?(0x11f2,4.90e+3):("P",![]):"l") > -1){z5Q.L7E(50);var b46=z5Q.e5e(22,14,7,10);i7D-=this.w / b46;}else if(this.stemEntry.indexOf((9142,7660) > (108.16,1959)?1980 >= (254,389.77)?4720 > (9329,3520)?"r":!!0:("Q",+"13.58"):1.21e+3) > -1){z5Q.L7E(12);var f7I=z5Q.E9k(11,9);i7D+=this.w / f7I;}if(this.stemEntry.indexOf(+"1563" != (+"790.01",+"2220")?216.26 < 7447?1230 <= 506?798.34:"t":"b":"c") > -1){z5Q.E2c(51);var j9B=z5Q.e5e(20,20,5,78);p2y-=this.h / j9B;}else if(this.stemEntry.indexOf(("1702" * 1,2102) >= 1863?(368,8218) === 4215?"262.65" * 1 >= 4630?0x4f1:"X":"b":9.23e+3) > -+"1"){z5Q.L7E(52);var G$w=z5Q.E9k(14,15,3);p2y+=this.h / G$w;}}return i4.boxIntersects(M6_.cx0,M6_.cy0,M6_.cx1,M6_.cy1,i7D,p2y,B9b,n1o,Y2w);};i4.Drawing.callout.prototype.intersected=function(A0J,m1N,v_B){var d_m=h_yMd;var L$u,b_B,K8s,l9L,D3t,Z0Z,f1P,B5n,a1n,r_m;L$u=this.stx;b_B=L$u.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,v_B)){this.highlighted="p0";return {action:"drag",stem:!![]};}d_m.E2c(53);var I92=d_m.e5e(376,7,18,3,1);K8s=L$u.pixelFromTick(this.p0[0],b_B.chart) - this.w / I92;l9L=L$u.getYAxisByField(b_B,this.field);d_m.L7E(54);var E_o=d_m.E9k(9,9,0,82,1);D3t=this.pixelFromValue(b_B,this.p0[0],this.p0[E_o],l9L) - this.h / ("2" ^ 0);Z0Z=K8s + this.w;f1P=D3t + this.h;if(this.stem && this.stem.x){K8s+=this.stem.x;Z0Z+=this.stem.x;D3t+=this.stem.y;f1P+=this.stem.y;}B5n=L$u.pixelFromTick(A0J,b_B.chart);a1n=L$u.pixelFromValueAdjusted(b_B,A0J,m1N);if(B5n + v_B.r >= K8s && B5n - v_B.r <= Z0Z && a1n + v_B.r >= D3t && a1n - v_B.r <= f1P){this.highlighted=!![];return {p0:i4.clone(this.p0),tick:A0J,value:this.valueOnDrawingAxis(A0J,m1N)};}r_m=this.lineIntersection(A0J,m1N,v_B,"segment");if(r_m){this.highlighted=!![];return {action:"move",stem:i4.clone(this.stem),p0:i4.clone(this.p0),tick:A0J,value:this.valueOnDrawingAxis(A0J,m1N)};}return null;};i4.Drawing.fibonacci=function(){var s6$;s6$="fib";h_yMd.H5S();s6$+="onacci";this.name=s6$;this.configurator="fibonacci";};i4.inheritsFrom(i4.Drawing.fibonacci,i4.Drawing.BaseTwoPoint);i4.Drawing.fibonacci.mapping={trend:153 < (6010,710.27)?345 < 5950?"t":8792 > 6260?(0x448,566.50):(593.66,71.49):!!"1",color:"c",parameters:"p",pattern:"pt",opacity:209.96 != 815?"o":3230 >= 7605?(+"0x149b","I"):3852 === (680.93,9610)?304.12:4.61e+3,lineWidth:j8h,level:+"52.8" <= (7721,6475)?(9820,378) === 7528?("0x1785" >> 32,8.01e+3):"l":("M",2.59e+3),extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:711 === 786.04?0x357:"d"};i4.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,+"0.382",0.5,0.618,1,+"1.382",1.618];i4.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];i4.Drawing.fibonacci.prototype.initializeSettings=function(N3r){var d83,m2l;d83=this.recommendedLevels;if(d83 && !N3r.currentVectorParameters.fibonacci.fibsAlreadySet){m2l=N3r.currentVectorParameters.fibonacci.fibs;for(var c2p="0" >> 64;c2p < m2l.length;c2p++){delete m2l[c2p].display;for(var G$K=+"0";G$K < d83.length;G$K++){if(m2l[c2p].level == d83[G$K]){m2l[c2p].display=!!({});}}}}};i4.Drawing.fibonacci.prototype.setOuter=function(){var h0L,L7o,h6x,Y7D,J8s,k58,d9B,G2v,y2H,f9u,D1Y,A9$,L_K,X5H,y9e;h0L=this.stx;L7o=h0L.panels[this.panelName];if(!L7o){return;}h6x=Math.max(this.p0[1],this.p1["1" >> 32]);Y7D=Math.min(this.p0[1],this.p1[1]);h_yMd.E2c(5);J8s=h_yMd.E9k(Y7D,h6x);this.outer={p0:i4.clone(this.p0),p1:i4.clone(this.p1)};k58=h0L.pixelFromTick(this.p0[0],L7o.chart);d9B=h0L.pixelFromTick(this.p1[0],L7o.chart);G2v=h0L.getYAxisByField(L7o,this.field);y2H=this.pixelFromValue(L7o,this.p0[0],this.p0[+"1"],G2v);f9u=this.pixelFromValue(L7o,this.p1["0" | 0],this.p1[1],G2v);D1Y=0;A9$=1;for(var X3H=0;X3H < this.parameters.fibs.length;X3H++){L_K=this.parameters.fibs[X3H];if(L_K.level >= D1Y && L_K.level <= A9$ || !L_K.display)continue;X5H=this.pixelFromValue(L7o,this.p0[+"0"],f9u < y2H?h6x - J8s * L_K.level:Y7D + J8s * L_K.level,G2v);y9e=i4.xIntersection({x0:k58,x1:d9B,y0:y2H,y1:f9u},X5H);if(L_K.level < D1Y){D1Y=L_K.level;this.outer.p1[1]=this.valueFromPixel(X5H,L7o,G2v);this.outer.p1[0]=h0L.tickFromPixel(y9e,L7o.chart);}else if(L_K.level > A9$){A9$=L_K.level;this.outer.p0[1]=this.valueFromPixel(X5H,L7o,G2v);this.outer.p0[0]=h0L.tickFromPixel(y9e,L7o.chart);}}};i4.Drawing.fibonacci.prototype.click=function(B4q,A1C,h8K){var w6$;w6$=this.stx.panels[this.panelName];if(!w6$){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,A1C,h8K,w6$.chart);this.penDown=!!({});return !({});}if(this.accidentalClick(A1C,h8K)){return !!"1";}this.setPoint(1,A1C,h8K,w6$.chart);this.setOuter();this.parameters=i4.clone(this.parameters);h_yMd.H5S();this.penDown=![];return !!({});;};i4.Drawing.fibonacci.prototype.render=function(r9O){var a$J=h_yMd;var K0N,L3w,J_v,V$y,f3b,U5c,m1X,G6F,N1_,P3n,C1G,o3y,a7Y,e0y,J3L,e1$,b78,G5I,a1f,R2C,A2z,b2L,n0b,c74,s$X,W5V,I0i,q6l,N5k,C4N,m6a,x2m,k_Y,Q8M,v13,Z5g,V8N,h4j,s0Y,U48;K0N="se";K0N+="gme";K0N+="nt";L3w="16";L3w+="1";L3w+=".8%";J_v=this.stx;V$y=J_v.panels[this.panelName];f3b=J_v.getYAxisByField(V$y,this.field);if(!V$y || this.field && !f3b){return;}f3b=f3b || V$y.yAxis;if(!this.p1){return;}U5c=Math.max(this.p0["1" ^ 0],this.p1[1]);m1X=Math.min(this.p0[1],this.p1[1]);G6F=f3b.flipped?m1X - U5c:U5c - m1X;N1_=J_v.pixelFromTick(this.p0[0],V$y.chart);P3n=J_v.pixelFromTick(this.p1[0],V$y.chart);C1G=this.pixelFromValue(V$y,this.p0[0],this.p0[+"1"],f3b);o3y=this.pixelFromValue(V$y,this.p1[0],this.p1[1],f3b);a7Y=Math.min(o3y,C1G);e0y=Math.max(o3y,C1G);a$J.L7E(5);J3L=a$J.e5e(a7Y,e0y);a$J.H5S();a$J.L7E(55);e1$=a$J.E9k(0,C1G,P3n,N1_,o3y);b78={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=b78;}G5I=this.getLineColor(this.parameters.trend.color);r9O.textBaseline="middle";J_v.canvasFont("stx_yaxis",r9O);a1f=r9O.measureText(L3w).width + ("10" >> 0);R2C=Number.MAX_VALUE;A2z=Number.MAX_VALUE;a$J.E2c(29);var z1M=a$J.e5e(0,2,6,7);b2L=Number.MAX_VALUE * z1M;a$J.L7E(5);var y1D=a$J.E9k(1,0);n0b=Number.MAX_VALUE * y1D;c74=this.getLineColor();this.rays=[];for(var m6F=+"0";m6F < this.parameters.fibs.length;m6F++){s$X="a";s$X+="u";s$X+="t";s$X+="o";W5V="l";W5V+="e";W5V+="ft";r9O.textAlign=W5V;r9O.fillStyle=c74;I0i=this.parameters.fibs[m6F];if(!I0i.display)continue;q6l=this.pixelFromValue(V$y,this.p0[0],o3y < C1G?U5c - G6F * I0i.level:m1X + G6F * I0i.level,f3b);N5k=i4.xIntersection({x0:N1_,x1:P3n,y0:C1G,y1:o3y},q6l);C4N=this.parameters.extendLeft?"0" << 32:N5k;m6a=V$y.left + V$y.width;if(this.parameters.printLevels){a$J.E2c(6);var K8l=a$J.e5e(9,69,4);a$J.E2c(32);var c3T=a$J.E9k(9,11,30);a$J.L7E(2);var N6A=a$J.e5e(1262,6312);a$J.L7E(56);var S0A=a$J.E9k(3,34947,19,36800,3);a$J.E2c(2);var W4z=a$J.E9k(954,3);a$J.L7E(57);var t3w=a$J.E9k(5,16,1439,5,9);a$J.E2c(57);var j4_=a$J.e5e(92,12,15563,5,14);a$J.L7E(58);var h7$=a$J.e5e(14,1,7,8,28);a$J.L7E(10);var f9N=a$J.E9k(2765,13,395);a$J.L7E(59);var C32=a$J.e5e(7631,16,10,14);a$J.L7E(5);var g_V=a$J.e5e(10926,14568);a$J.L7E(60);var y3E=a$J.E9k(9,5,34200,2,5700);a$J.E2c(32);var k9C=a$J.e5e(187515,15,197400);a$J.E2c(61);var B79=a$J.e5e(427,2,7,2976);x2m=Math.round(I0i.level * ("1000" >> K8l)) / c3T + (N6A === (S0A,W4z)?("464.52" * t3w,989) !== (j4_,"874.58" * h7$)?(f9N,+"3710") < (C32,174.93)?(g_V,y3E):k9C:("A",B79):"%");m6a-=a1f;if(this.parameters.printValues){r9O.fillStyle=c74;J_v.canvasFont("stx_yaxis",r9O);;}if(m6a < C4N){r9O.textAlign="right";}r9O.fillText(x2m,m6a,q6l);if(m6a < C4N){m6a+=5;}else {m6a-=5;}}if(this.parameters.printValues){if(N5k < V$y.width){k_Y=this.valueFromPixel(q6l,V$y,f3b);if(f3b.priceFormatter){k_Y=f3b.priceFormatter(J_v,V$y,k_Y);}else {k_Y=J_v.formatYAxisPrice(k_Y,V$y,null,f3b);}if(r9O == J_v.chart.context){J_v.endClip();}J_v.createYAxisLabel(V$y,k_Y,q6l,this.getLineColor(null,!![]),null,r9O,f3b);if(r9O == J_v.chart.context){J_v.startClip(V$y.name);}}}Q8M=I0i.color;if(Q8M == s$X || i4.isTransparent(Q8M)){Q8M=this.getLineColor();}v13=I0i.color;if(v13 == "auto" || i4.isTransparent(v13)){v13=this.fillColor;}if(v13 == "auto" || i4.isTransparent(v13)){v13=J_v.defaultColor;}r9O.fillStyle=v13;Z5g=i4.clone(I0i.parameters);if(this.highlighted){Z5g.opacity=1;}J_v.plotLine(C4N,m6a,q6l,q6l,Q8M,"segment",r9O,V$y,Z5g);this.rays.push([[C4N,q6l],[m6a,q6l]]);a$J.L7E(19);r9O.globalAlpha=a$J.E9k("0.05",1);r9O.beginPath();r9O.moveTo(m6a,q6l);r9O.lineTo(C4N,q6l);if(C4N){r9O.lineTo(P3n,o3y);}else {r9O.lineTo(C4N,o3y);}r9O.lineTo(m6a,o3y);if(typeof v13 != "undefined"){r9O.fill();}a$J.L7E(19);r9O.globalAlpha=a$J.e5e("1",1);if(q6l < A2z){R2C=N5k;A2z=q6l;}if(q6l > n0b){b2L=N5k;n0b=q6l;}}for(var e4Z=0;e4Z <= 1;e4Z++){V8N=e1$?e0y - J3L * e4Z:a7Y + J3L * e4Z;V8N=Math.round(V8N);if(V8N < A2z){R2C=i4.xIntersection({x0:N1_,x1:P3n,y0:C1G,y1:o3y},V8N);A2z=V8N;}if(V8N > n0b){b2L=i4.xIntersection({x0:N1_,x1:P3n,y0:C1G,y1:o3y},V8N);n0b=V8N;}}h4j=i4.clone(this.parameters.trend.parameters);if(this.highlighted){h4j.opacity=1;}J_v.plotLine(R2C,b2L,A2z,n0b,G5I,K0N,r9O,V$y,h4j);if(this.highlighted){s0Y=this.highlighted == "p0"?!!({}):!({});U48=this.highlighted == "p1"?!!"1":!({});this.littleCircle(r9O,N1_,C1G,s0Y);this.littleCircle(r9O,P3n,o3y,U48);}};i4.Drawing.fibonacci.prototype.reposition=function(l0w,Y_r,k7e,S_0){if(!Y_r){return;}i4.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};i4.Drawing.fibonacci.prototype.intersected=function(Z4e,Z4n,X0s){var b8t,v8m,J40,N4L,o22,S8V,y0m,B29,v4J;b8t="seg";b8t+="men";b8t+="t";v8m=this.p0;J40=this.p1;if(!v8m || !J40){return null;}N4L={0:v8m,1:J40};h_yMd.H5S();for(var p2u in N4L){if(this.pointIntersection(N4L[p2u][0],N4L[p2u][1],X0s)){o22="dr";o22+="a";o22+="g";h_yMd.E2c(2);this.highlighted=h_yMd.e5e((9103,5090) !== (6922,5446)?"p":915.84,p2u);return {action:o22,point:((705.96,9573) <= (+"4130",4527)?286.16:8483 > ("810.6" - 0,429.24)?"p":"T") + p2u};}}S8V=this.outer;y0m=this.rays;B29=S8V && this.lineIntersection(Z4e,Z4n,X0s,b8t,S8V.p0,S8V.p1);if(!B29){for(var G3k=0;G3k < y0m.length;G3k++){v4J="r";v4J+="a";v4J+="y";if(this.lineIntersection(Z4e,Z4n,X0s,v4J,y0m[G3k][0],y0m[G3k][1],!!1)){B29=!!({});break;}}}if(B29){this.highlighted=!!({});return {action:"move",p0:i4.clone(v8m),p1:i4.clone(J40),tick:Z4e,value:this.valueOnDrawingAxis(Z4e,Z4n)};}return null;};i4.Drawing.fibonacci.prototype.reconstruct=function(p2v,h1L){h1L=i4.replaceFields(h1L,i4.reverseObject(i4.Drawing.fibonacci.mapping));this.stx=p2v;this.parameters=h1L.parameters;if(!this.parameters){this.parameters=i4.clone(this.stx.currentVectorParameters.fibonacci);}this.color=h1L.col;h_yMd.H5S();this.fillColor=h1L.fc;this.panelName=h1L.pnl;this.d0=h1L.d0;this.d1=h1L.d1;this.d2=h1L.d2;this.tzo0=h1L.tzo0;this.tzo1=h1L.tzo1;this.tzo2=h1L.tzo2;this.v0=h1L.v0;this.v1=h1L.v1;this.v2=h1L.v2;this.field=h1L.fld;this.adjust();};i4.Drawing.fibonacci.prototype.adjust=function(){var L3R;L3R=this.stx.panels[this.panelName];if(!L3R){return;}this.setPoint(0,this.d0,this.v0,L3R.chart);this.setPoint(1,this.d1,this.v1,L3R.chart);h_yMd.H5S();this.setOuter();};i4.Drawing.fibonacci.prototype.serialize=function(){var I0O;I0O={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return i4.replaceFields(I0O,i4.Drawing.fibonacci.mapping);};i4.Drawing.retracement=function(){h_yMd.J2s();var J7s;J7s="re";J7s+="trace";J7s+="ment";this.name=J7s;};i4.inheritsFrom(i4.Drawing.retracement,i4.Drawing.fibonacci);i4.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!1;this.p2=null;};i4.inheritsFrom(i4.Drawing.fibprojection,i4.Drawing.fibonacci);i4.Drawing.fibprojection.prototype.recommendedLevels=[+"0",0.618,1,1.272,1.618,2.618,4.236];i4.Drawing.fibprojection.prototype.click=function(u0O,D7Y,I2J){var x5C,m2c;x5C=this.stx;m2c=x5C.panels[this.panelName];if(!m2c){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,D7Y,I2J,m2c.chart);this.penDown=!!({});return !"1";}if(this.accidentalClick(D7Y,I2J)){x5C.undo();return !!({});}h_yMd.J2s();if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[+"1"],m2c.chart);this.parameters=i4.clone(this.parameters);return !0;}this.setPoint(1,D7Y,I2J,m2c.chart);h_yMd.L7E(42);this.p2=[this.p1[0],this.p1[h_yMd.E9k(0,"1")]];return !1;;};i4.Drawing.fibprojection.prototype.render=function(A0j){var i3I=h_yMd;var k0Q,C8v,A0w,t4w,k1W,H4z,r3b,E6E,B5a,s4$,B9X,E_3,u60,u8N,j4e,s0$,F2l,I$i,i0c,H8x,R_P,l7T,s2m,o9G,K8d,J3$,A$Q,K5X,P0x,k3R,t03;k0Q="a";k0Q+="u";k0Q+="t";k0Q+="o";C8v=this.stx;A0w=C8v.panels[this.panelName];t4w=C8v.getYAxisByField(A0w,this.field);if(!A0w || this.field && !t4w){return;}t4w=t4w || A0w.yAxis;if(!this.p1){return;}i3I.E2c(2);var M7_=i3I.e5e(0,1);k1W=this.p1[+"1"] - this.p0[M7_];H4z=C8v.pixelFromTick(this.p0[0],A0w.chart);r3b=C8v.pixelFromTick(this.p1[0],A0w.chart);E6E=this.pixelFromValue(A0w,this.p0[0],this.p0[+"1"],t4w);B5a=this.pixelFromValue(A0w,this.p1[0],this.p1[1],t4w);s4$=null;B9X=null;if(this.p2){s4$=C8v.pixelFromTick(this.p2[0],A0w.chart);B9X=this.pixelFromValue(A0w,this.p2[0],this.p2[1],t4w);}E_3={color:k0Q,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=E_3;}u60=this.getLineColor(this.parameters.trend.color);A0j.textBaseline="middle";C8v.canvasFont("stx_yaxis",A0j);i3I.E2c(62);var l1M=i3I.e5e(16,19,20,150,2987);u8N=A0j.measureText("161.8%").width + l1M;j4e=this.getLineColor();if(this.p2){this.rays=[];for(var L8w=0;L8w < this.parameters.fibs.length;L8w++){A0j.textAlign="left";A0j.fillStyle=j4e;s0$=this.parameters.fibs[L8w];if(!s0$.display)continue;F2l=this.pixelFromValue(A0w,this.p2[0],this.p2["1" | 1] + k1W * s0$.level,t4w);I$i=i4.xIntersection({x0:H4z,x1:r3b,y0:E6E,y1:B5a},F2l);i0c=this.parameters.extendLeft?"0" >> 32:H4z;H8x=A0w.left + A0w.width;if(this.parameters.printLevels){i3I.E2c(63);var e4c=i3I.e5e(2,13,9,2,27);i3I.E2c(64);var a8r=i3I.e5e(19,8,176000,167173);i3I.E2c(1);var w2r=i3I.E9k(4,12,2,7999);i3I.E2c(5);var k30=i3I.e5e(38380,40400);i3I.L7E(65);var n3I=i3I.e5e(16,3,2454,12,189);i3I.E2c(4);var l_M=i3I.E9k(1760,1339,19);i3I.L7E(66);var s_3=i3I.E9k(18,37380,7476,5250);i3I.L7E(5);var F1y=i3I.E9k(2,747);R_P=Math.round(s0$.level * +"1000") / e4c + (a8r != w2r?(k30,n3I) == (+"641",l_M)?s_3:"%":(F1y,"E"));H8x-=u8N;if(this.parameters.printValues){l7T="stx_ya";l7T+="xi";l7T+="s";A0j.fillStyle=j4e;C8v.canvasFont(l7T,A0j);;}if(H8x < i0c){A0j.textAlign="right";}A0j.fillText(R_P,H8x,F2l);if(H8x < i0c){H8x+=+"5";}else {H8x-=5;}}if(this.parameters.printValues){if(I$i < A0w.width){s2m=this.valueFromPixel(F2l,A0w,t4w);if(t4w.priceFormatter){s2m=t4w.priceFormatter(C8v,A0w,s2m);}else {s2m=C8v.formatYAxisPrice(s2m,A0w,null,t4w);}if(A0j == C8v.chart.context){C8v.endClip();}C8v.createYAxisLabel(A0w,s2m,F2l,this.getLineColor(null,!!({})),null,A0j,t4w);if(A0j == C8v.chart.context){C8v.startClip(A0w.name);}}}o9G=s0$.color;if(o9G == "auto" || i4.isTransparent(o9G)){o9G=this.getLineColor();}K8d=s0$.color;if(K8d == "auto" || i4.isTransparent(K8d)){K8d=this.fillColor;}if(K8d == "auto" || i4.isTransparent(K8d)){K8d=C8v.defaultColor;}A0j.fillStyle=K8d;J3$=i4.clone(s0$.parameters);if(this.highlighted){i3I.L7E(40);J3$.opacity=i3I.E9k(32,"1");}C8v.plotLine(i0c,H8x,F2l,F2l,o9G,"segment",A0j,A0w,J3$);this.rays.push([[i0c,F2l],[H8x,F2l]]);A0j.globalAlpha=0.05;A0j.beginPath();A0j.moveTo(H8x,F2l);A0j.lineTo(i0c,F2l);if(i0c){A0j.lineTo(H4z,B9X);}else {A0j.lineTo(i0c,B9X);}A0j.lineTo(H8x,B9X);if(typeof K8d != "undefined"){A0j.fill();}A0j.globalAlpha=+"1";}}A$Q=i4.clone(this.parameters.trend.parameters);if(this.highlighted){A$Q.opacity=1;}C8v.plotLine(H4z,r3b,E6E,B5a,u60,"segment",A0j,A0w,A$Q);if(this.p2){C8v.plotLine(r3b,s4$,B5a,B9X,u60,"segment",A0j,A0w,A$Q);}if(this.highlighted){K5X="p";K5X+="1";P0x=this.highlighted == "p0"?!![]:!({});k3R=this.highlighted == K5X?!!({}):![];t03=this.highlighted == "p2"?!!({}):!({});this.littleCircle(A0j,H4z,E6E,P0x);this.littleCircle(A0j,r3b,B5a,k3R);this.littleCircle(A0j,s4$,B9X,t03);}};i4.Drawing.fibprojection.prototype.move=function(M4H,W3S,g_M){if(!this.penDown){return;}this.copyConfig();h_yMd.J2s();if(this.p2 === null){this.p1=[W3S,g_M];}else {this.p2=[W3S,g_M];}this.render(M4H);};i4.Drawing.fibprojection.prototype.reposition=function(T1l,n9d,w0t,a12){h_yMd.J2s();var p7L,q20,U8S;if(!n9d){return;}p7L=this.stx.panels[this.panelName];q20=n9d.tick - w0t;U8S=n9d.value - a12;if(n9d.action == "move"){this.setPoint(0,n9d.p0[0] - q20,n9d.p0[1] - U8S,p7L.chart);this.setPoint(1,n9d.p1[0] - q20,n9d.p1[1] - U8S,p7L.chart);this.setPoint(2,n9d.p2[0] - q20,n9d.p2[1] - U8S,p7L.chart);this.render(T1l);}else if(n9d.action == "drag"){this[n9d.point]=[w0t,a12];this.setPoint(0,this.p0[0],this.p0[1],p7L.chart);this.setPoint(1,this.p1[0],this.p1[1],p7L.chart);h_yMd.E2c(24);this.setPoint(h_yMd.E9k("2",0),this.p2["0" - 0],this.p2[1],p7L.chart);this.render(T1l);}};i4.Drawing.fibprojection.prototype.intersected=function(S0l,R$T,o8u){var I4h,s9f,H$N,c3Z,y91,G0v,p_A,c92;I4h="se";I4h+="gmen";I4h+="t";s9f=this.p0;H$N=this.p1;c3Z=this.p2;if(!s9f || !H$N || !c3Z){return null;}y91={0:s9f,1:H$N,2:c3Z};for(var l$a in y91){if(this.pointIntersection(y91[l$a][0],y91[l$a][1],o8u)){G0v="d";G0v+="r";G0v+="a";G0v+="g";h_yMd.E2c(2);this.highlighted=h_yMd.E9k("77.4" - 0 === "686.7" - 0?5560 <= +"4030"?(710.36,"t"):3417 != (926.59,+"8850")?(!!1,971):"582.28" * 1:"p",l$a);return {action:G0v,point:(415.57 >= 9297?(0x105,"k"):(463.34,5823) !== (1489,4)?"p":(7.91e+3,0x31d)) + l$a};}}p_A=this.rays;c92=this.lineIntersection(S0l,R$T,o8u,I4h,s9f,H$N) || this.lineIntersection(S0l,R$T,o8u,"segment",H$N,c3Z);if(!c92){for(var j_z=+"0";j_z < p_A.length;j_z++){if(this.lineIntersection(S0l,R$T,o8u,"ray",p_A[j_z][0],p_A[j_z][1],!!({}))){c92=!![];break;}}}if(c92){this.highlighted=!![];return {action:"move",p0:i4.clone(s9f),p1:i4.clone(H$N),p2:i4.clone(c3Z),tick:S0l,value:this.valueOnDrawingAxis(S0l,R$T)};}return null;};i4.Drawing.fibprojection.prototype.adjust=function(){var w4V;w4V=this.stx.panels[this.panelName];if(!w4V){return;}this.setPoint(+"0",this.d0,this.v0,w4V.chart);this.setPoint(1,this.d1,this.v1,w4V.chart);this.setPoint(2,this.d2,this.v2,w4V.chart);};i4.Drawing.fibarc=function(){h_yMd.H5S();this.name="fibarc";;};i4.inheritsFrom(i4.Drawing.fibarc,i4.Drawing.fibonacci);i4.Drawing.fibarc.prototype.recommendedLevels=[0.382,+"0.5",0.618,1];i4.Drawing.fibarc.prototype.setOuter=function(){var Y9v,x$J,C5y,G9Z,l_v,j8q,s7H,W8G,B2n;Y9v=this.stx;x$J=Y9v.panels[this.panelName];if(!x$J){return;}this.outer={p0:i4.clone(this.p0),p1:i4.clone(this.p1)};C5y=Y9v.getYAxisByField(x$J,this.field);G9Z=this.pixelFromValue(x$J,this.p0[+"0"],this.p0[1],C5y);l_v=this.pixelFromValue(x$J,this.p1[0],this.p1[1],C5y);j8q=Y9v.pixelFromTick(this.p0[0],x$J.chart);s7H=Y9v.pixelFromTick(this.p1["0" >> 32],x$J.chart);h_yMd.L7E(10);W8G=h_yMd.E9k(l_v,G9Z,2);h_yMd.J2s();B2n=i4.xIntersection({x0:j8q,x1:s7H,y0:G9Z,y1:l_v},W8G);this.outer.p0[1]=this.valueFromPixel(W8G,x$J,C5y);this.outer.p0[0]=Y9v.tickFromPixel(B2n,x$J.chart);};i4.Drawing.fibarc.prototype.intersected=function(B2R,T6x,t_8){var p3i,x$w,t9$,G8W,a60,C8_,l80,T$M,T0k,e0$,S77,W3x,d2A,B4D,v2s,d5p,P10;p3i="m";p3i+="o";p3i+="v";p3i+="e";x$w="s";x$w+="e";x$w+="gment";t9$=this.stx;G8W=t9$.panels[this.panelName];if(!G8W){return;}a60=this.p0;C8_=this.p1;l80=this.outer;if(!a60 || !C8_){return null;}T$M={0:a60,1:C8_};for(var E$Q in T$M){if(this.pointIntersection(T$M[E$Q][0],T$M[E$Q][1],t_8)){T0k="dr";T0k+="a";T0k+="g";h_yMd.E2c(2);this.highlighted=h_yMd.e5e(6520 < (629,9500)?(+"267","8370" << 96) < (3944,280.97)?(4.84e+3,!!1):3291 < 7472?"p":(+"217.72",1.41e+3):("m",314.30),E$Q);return {action:T0k,point:((5753,40.05) < +"8370"?"p":(862.76,7.73e+3)) + E$Q};}}e0$=this.valueOnDrawingAxis(B2R,T6x);if(this.lineIntersection(B2R,e0$,t_8,x$w,l80.p0,l80.p1)){S77="m";S77+="o";S77+="v";S77+="e";this.highlighted=!![];return {action:S77,p0:i4.clone(a60),p1:i4.clone(C8_),tick:B2R,value:e0$};}W3x=t9$.getYAxisByField(G8W,this.field);d2A={x0:a60["0" * 1],x1:C8_[0],y0:a60[1],y1:C8_[1]};B4D=this.boxToPixels(t9$,this.panelName,d2A,W3x);h_yMd.H5S();v2s={x:Math.abs(Math.sqrt("2" ^ 0) * (B4D.x1 - B4D.x0)),y:Math.abs(Math.sqrt("2" | 2) * (B4D.y1 - B4D.y0))};d5p=t9$.pixelFromTick(B2R,G8W.chart);P10=t9$.pixelFromValueAdjusted(G8W,B2R,T6x);if(d5p + t_8.r < B4D.x1 - v2s.x || d5p - t_8.r > B4D.x1 + v2s.x){return null;}if(P10 + t_8.r < B4D.y1 - v2s.y || P10 - t_8.r > B4D.y1 + v2s.y){return null;}if(B4D.y0 < B4D.y1 && P10 - t_8.r > B4D.y1){return null;}if(B4D.y0 > B4D.y1 && P10 + t_8.r < B4D.y1){return null;}this.highlighted=!![];return {action:p3i,p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:B2R,value:e0$};};i4.Drawing.fibarc.prototype.render=function(o65){var i1y=h_yMd;var S$X,l_Z,w0A,u_v,w_$,i0K,f97,e3I,s_z,M6B,Z1z,w9o,C5_,D4N,U8i,T3w,v$E,g8l,Y0Y,b_A,n0z,q0v,V$c,m8$,j_c,t9y;S$X="l";S$X+="e";S$X+="f";S$X+="t";l_Z=this.stx;w0A=l_Z.panels[this.panelName];u_v=l_Z.getYAxisByField(w0A,this.field);if(!w0A || this.field && !u_v){return;}u_v=u_v || w0A.yAxis;if(!this.p1){return;}w_$=l_Z.pixelFromTick(this.p0["0" << 0],w0A.chart);i0K=l_Z.pixelFromTick(this.p1[+"0"],w0A.chart);i1y.H5S();f97=this.pixelFromValue(w0A,this.p0[0],this.p0[1],u_v);e3I=this.pixelFromValue(w0A,this.p1[+"0"],this.p1[1],u_v);i1y.L7E(67);s_z=i1y.E9k(e3I,f97);i1y.E2c(68);M6B=Math.abs(i1y.e5e(f97,w_$,i0K,e3I));Z1z=this.getLineColor(this.parameters.trend.color);o65.textBaseline="middle";l_Z.canvasFont("stx_yaxis",o65);w9o=this.getLineColor();for(var g56=0;g56 < this.parameters.fibs.length;g56++){C5_="lef";C5_+="t";o65.fillStyle=w9o;D4N=this.parameters.fibs[g56];if(D4N.level < +"0" || !D4N.display)continue;i1y.E2c(69);var R2u=i1y.e5e(16,17,2,19);i1y.L7E(70);var M3I=i1y.E9k(14,477,20,18,4);U8i=Math.abs(this.p1[R2u] - this.p0[M3I]) * Math.sqrt(+"2") * D4N.level;i1y.L7E(0);var K8T=i1y.E9k(2,21,7);i1y.L7E(71);var e5p=i1y.e5e(10,19,2680,19,14);i1y.E2c(5);var S5S=i1y.e5e(14,13);i1y.L7E(31);var f9d=i1y.e5e(2,0,7,14,1);T3w=this.p1[K8T] + U8i * (s_z?e5p:"1" >> 0) * (u_v.flipped?S5S:f9d);v$E=this.pixelFromValue(w0A,this.p0[0],T3w,u_v);g8l=i4.xIntersection({x0:w_$,x1:i0K,y0:f97,y1:e3I},v$E);if(this.parameters.printLevels){o65.textAlign="center";Y0Y=Math.round(D4N.level * +"1000") / +"10" + "%";if(this.parameters.printValues){b_A="stx_yax";b_A+="i";b_A+="s";o65.fillStyle=w9o;l_Z.canvasFont(b_A,o65);;}o65.fillText(Y0Y,i0K,Math.round(v$E - 5));}o65.textAlign=C5_;if(this.parameters.printValues){if(g8l < w0A.width){n0z=T3w;if(u_v.priceFormatter){n0z=u_v.priceFormatter(l_Z,w0A,n0z);}else {n0z=l_Z.formatYAxisPrice(n0z,w0A,null,u_v);}if(o65 == l_Z.chart.context){l_Z.endClip();}l_Z.createYAxisLabel(w0A,n0z,v$E,this.getLineColor(null,!!1),null,o65,u_v);if(o65 == l_Z.chart.context){l_Z.startClip(w0A.name);}}}q0v=D4N.color;if(q0v == "auto" || i4.isTransparent(q0v)){q0v=this.getLineColor();}o65.strokeStyle=q0v;V$c=D4N.color;if(V$c == "auto" || i4.isTransparent(V$c)){V$c=this.fillColor;}if(V$c == "auto" || i4.isTransparent(V$c)){V$c=l_Z.defaultColor;}o65.fillStyle=V$c;o65.globalAlpha=this.highlighted?"1" ^ 0:D4N.parameters.opacity;o65.lineWidth=D4N.parameters.lineWidth;if(o65.setLineDash){o65.setLineDash(i4.borderPatternToArray(o65.lineWidth,D4N.parameters.pattern));o65.lineDashOffset=0;;}o65.save();o65.beginPath();i1y.L7E(9);o65.scale(i1y.e5e(1,M6B),1);i1y.L7E(19);o65.arc(i1y.E9k(i0K,M6B),e3I,Math.abs(v$E - e3I),0,Math.PI,!s_z);if(this.pattern != "none"){o65.stroke();}i1y.L7E(19);o65.globalAlpha=i1y.e5e("0.05",1);o65.fill();o65.restore();if(o65.setLineDash){o65.setLineDash([]);}o65.globalAlpha=1;}o65.textAlign=S$X;m8$=i4.clone(this.parameters.trend.parameters);if(this.highlighted){i1y.L7E(40);m8$.opacity=i1y.e5e(32,"1");}i1y.E2c(72);l_Z.plotLine(i0K,i1y.E9k("2",w_$,i0K),e3I,i1y.e5e(e3I,f97,2,i1y.L7E(10)),Z1z,"segment",o65,w0A,m8$);if(this.highlighted){j_c=this.highlighted == "p0"?!![]:!!0;t9y=this.highlighted == "p1"?!"":!!"";this.littleCircle(o65,w_$,f97,j_c);this.littleCircle(o65,i0K,e3I,t9y);}};i4.Drawing.fibfan=function(){this.name="fibfan";;};i4.inheritsFrom(i4.Drawing.fibfan,i4.Drawing.fibonacci);i4.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,+"1"];i4.Drawing.fibfan.prototype.setOuter=function(){};i4.Drawing.fibfan.prototype.render=function(t3e){var L2d=h_yMd;var O2b,f6s,B_p,R8b,x49,r7s,M7L,t8I,c0h,J5f,b2M,W0L,r43,J2R,o6X,b4s,c$m,A6l,B0J,Y28,V2d,l6x,T87,Q2X,c6g,p4o,T81,o4p,t5B,B70,I6a,I0I;O2b=this.stx;f6s=O2b.panels[this.panelName];B_p=O2b.getYAxisByField(f6s,this.field);if(!f6s || this.field && !B_p){return;}B_p=B_p || f6s.yAxis;if(!this.p1){return;}R8b=O2b.pixelFromTick(this.p0[0],f6s.chart);x49=O2b.pixelFromTick(this.p1[0],f6s.chart);r7s=this.pixelFromValue(f6s,this.p0["0" | 0],this.p0["1" << 64],B_p);M7L=this.pixelFromValue(f6s,this.p1[0],this.p1[1],B_p);t8I=Math.min(M7L,r7s);c0h=Math.max(M7L,r7s);L2d.L7E(5);J5f=L2d.E9k(t8I,c0h);L2d.E2c(55);b2M=L2d.E9k(0,r7s,x49,R8b,M7L);W0L=this.getLineColor(this.parameters.trend.color);t3e.textBaseline="middle";O2b.canvasFont("stx_yaxis",t3e);L2d.E2c(73);var N7y=L2d.E9k(2,1,17,28);r43=t3e.measureText("161.8%").width + N7y;J2R=Number.MAX_VALUE;L2d.E2c(74);var i1Y=L2d.E9k(16,12,14,9);o6X=Number.MAX_VALUE * i1Y;b4s=this.getLineColor();this.rays=[];for(var W7V=0;W7V < this.parameters.fibs.length;W7V++){c$m="s";c$m+="eg";c$m+="m";c$m+="ent";t3e.fillStyle=b4s;A6l=this.parameters.fibs[W7V];if(!A6l.display)continue;B0J=this.pixelFromValue(f6s,this.p0[0],(this.p0["1" << 64] - this.p1[1]) * A6l.level + this.p1[1],B_p);Y28=i4.xIntersection({x0:x49,x1:x49,y0:r7s,y1:M7L},B0J);V2d=f6s.left;if(x49 > R8b){V2d+=f6s.width;}L2d.L7E(75);l6x=L2d.e5e(V2d,R8b,r7s,B0J,r7s,R8b,Y28);if(R8b > V2d - (this.parameters.printLevels?r43 + 5:0) && x49 > R8b)continue;else if(R8b < V2d + (this.parameters.printLevels?r43 + +"5":0) && x49 < R8b)continue;if(this.parameters.printLevels){L2d.E2c(76);var o6v=L2d.E9k(8,1,2);L2d.E2c(6);var W9j=L2d.E9k(3,13,4700);L2d.L7E(77);var l9V=L2d.E9k(7,11054,5513,20,13);L2d.E2c(56);var A6M=L2d.e5e(11,68251,7,77984,11);L2d.E2c(78);var S7I=L2d.E9k(1411,19,190,14);L2d.L7E(79);var X86=L2d.E9k(4,4671,519,4656,13);L2d.E2c(4);var Z5Q=L2d.E9k(12,28,17);L2d.L7E(44);var c4d=L2d.E9k(19,12,9,78,20);L2d.E2c(80);var B14=L2d.E9k(5,16,41,180);T87=Math.round(A6l.level * 1000) / o6v + (W9j < l9V?A6M < (55.15,S7I)?318.74 !== (X86,"1521" * Z5Q)?"0xe6b" * c4d:(!!({}),"0x139b" | B14):"%":90.73);if(x49 > R8b){V2d-=r43;t3e.textAlign="left";}else {Q2X="r";Q2X+="i";Q2X+="g";Q2X+="ht";V2d+=r43;t3e.textAlign=Q2X;}if(this.parameters.printValues){t3e.fillStyle=b4s;O2b.canvasFont("stx_yaxis",t3e);;}L2d.E2c(75);l6x=L2d.e5e(V2d,R8b,r7s,B0J,r7s,R8b,Y28);t3e.fillText(T87,V2d,l6x);if(x49 > R8b){V2d-=+"5";}else {V2d+=5;}}t3e.textAlign="left";if(this.parameters.printValues){if(Y28 < f6s.width){c6g=this.valueFromPixel(B0J,f6s,B_p);if(B_p.priceFormatter){c6g=B_p.priceFormatter(O2b,f6s,c6g);}else {c6g=O2b.formatYAxisPrice(c6g,f6s,null,B_p);}if(t3e == O2b.chart.context){O2b.endClip();}O2b.createYAxisLabel(f6s,c6g,B0J,this.getLineColor(null,!!({})),null,t3e,B_p);if(t3e == O2b.chart.context){O2b.startClip(f6s.name);}}}p4o=A6l.color;if(p4o == "auto" || i4.isTransparent(p4o)){p4o=this.getLineColor();}T81=A6l.color;if(T81 == "auto" || i4.isTransparent(T81)){T81=this.fillColor;}if(T81 == "auto" || i4.isTransparent(T81)){T81=O2b.defaultColor;}t3e.fillStyle=T81;if(this.parameters.printLevels){L2d.E2c(75);l6x=L2d.e5e(V2d,R8b,r7s,B0J,r7s,R8b,Y28);}o4p=i4.clone(A6l.parameters);if(this.highlighted){o4p.opacity=+"1";}O2b.plotLine(R8b,V2d,r7s,l6x,p4o,c$m,t3e,f6s,o4p);this.rays.push([[R8b,r7s],[V2d,l6x]]);t3e.globalAlpha=0.05;t3e.beginPath();t3e.moveTo(V2d,l6x);t3e.lineTo(R8b,r7s);t3e.lineTo(V2d,r7s);t3e.fill();L2d.E2c(24);t3e.globalAlpha=L2d.E9k("1",0);if(B0J < J2R){J2R=B0J;}if(B0J > o6X){o6X=B0J;}}for(var q31=0;q31 <= 1;q31++){t5B=b2M?c0h - J5f * q31:t8I + J5f * q31;t5B=Math.round(t5B);if(t5B < J2R){J2R=t5B;}if(t5B > o6X){o6X=t5B;}}if(this.highlighted){B70="p";B70+="1";I6a=this.highlighted == "p0"?!!({}):!"1";I0I=this.highlighted == B70?!!({}):![];this.littleCircle(t3e,R8b,r7s,I6a);this.littleCircle(t3e,x49,M7L,I0I);}};i4.Drawing.fibtimezone=function(){var G53;h_yMd.J2s();G53="fibtim";G53+="ez";G53+="o";G53+="ne";this.name=G53;;};i4.inheritsFrom(i4.Drawing.fibtimezone,i4.Drawing.fibonacci);i4.Drawing.fibtimezone.prototype.render=function(Z8w){var c22=h_yMd;var W5q,o_Z,s6S,s_s,V5_,a8z,K5P,G2a,H7x,U1q,n0_,m1s,v29,I_j,W3t,o92,D5O,E9P,F2a,K2l,j_i,l1i,x6i,u$6,J8a,z8E;W5q="l";W5q+="eft";o_Z="a";o_Z+="u";o_Z+="t";o_Z+="o";s6S="c";s6S+="e";s6S+="nte";s6S+="r";s_s="stx";s_s+="_";s_s+="yax";s_s+="is";V5_="mi";V5_+="ddle";var {stx:X2v}=this;a8z=X2v.panels[this.panelName];K5P=X2v.getYAxisByField(a8z,this.field);if(!a8z || this.field && !K5P){return;}K5P=K5P || a8z.yAxis;if(!this.p1){return;}var {chart:I2S, left:b3S, width:u3a}=a8z;var {p0:Y8V, p1:Y7i, parameters:j7Y, highlighted:S6u}=this;G2a=X2v.pixelFromTick(Y8V[0],I2S);H7x=X2v.pixelFromTick(Y7i[0],I2S);U1q=this.pixelFromValue(a8z,Y8V[0],Y8V[+"1"],K5P);n0_=this.pixelFromValue(a8z,Y7i[0],Y7i[1],K5P);m1s=[1,0];v29=this.getLineColor(j7Y.trend.color);Z8w.textBaseline=V5_;X2v.canvasFont(s_s,Z8w);I_j=20;W3t=this.p1["0" - 0] - this.p0[0];o92=this.getLineColor();Z8w.textAlign=s6S;D5O=G2a;E9P=0;var {top:f$b}=K5P;F2a=K5P.bottom;var {printLevels:a_i, timezone:T07}=j7Y;K2l=T07.color;if(K2l == "auto" || i4.isTransparent(K2l)){K2l=this.getLineColor();}j_i=T07.color;if(j_i == o_Z || i4.isTransparent(j_i)){j_i=this.fillColor;}if(j_i == "auto" || i4.isTransparent(j_i)){j_i=X2v.defaultColor;}if(a_i){c22.L7E(5);F2a-=c22.E9k(7,I_j);}l1i=i4.clone(j7Y.timezone.parameters);if(S6u){l1i.opacity=1;}while(!!1){x6i="se";x6i+="g";x6i+="me";x6i+="nt";D5O=X2v.pixelFromTick(Y8V[0] + E9P * W3t,I2S);if(G2a < H7x && D5O > b3S + u3a || G2a > H7x && D5O < b3S)break;if(a_i){Z8w.fillStyle=o92;Z8w.fillText(H7x > G2a?E9P:E9P * -1,D5O,F2a + 7);}Z8w.fillStyle=j_i;X2v.plotLine(D5O,D5O,0,F2a,K2l,x6i,Z8w,a8z,l1i);Z8w.globalAlpha=0.05;Z8w.beginPath();Z8w.moveTo(G2a,f$b);Z8w.lineTo(D5O,f$b);Z8w.lineTo(D5O,F2a);Z8w.lineTo(G2a,F2a);Z8w.fill();Z8w.globalAlpha=1;c22.L7E(69);var c6F=c22.E9k(16,6,11,51);E9P=m1s[0] + m1s[c6F];m1s.unshift(E9P);if(!W3t)break;}Z8w.textAlign=W5q;X2v.plotLine(G2a,H7x,U1q,n0_,v29,"segment",Z8w,a8z,l1i);if(this.highlighted){u$6=S6u == "p0"?!0:!({});J8a=S6u == "p1"?!!"1":![];this.littleCircle(Z8w,G2a,U1q,u$6);this.littleCircle(Z8w,H7x,n0_,J8a);}else {z8E=this.valueFromPixel(a8z.height / ("2" * 1),a8z,K5P);this.setPoint(0,Y8V[0],z8E,I2S);this.setPoint(1,Y7i[0],z8E,I2S);}};i4.Drawing.fibtimezone.prototype.intersected=function(t5M,a1P,L8i){var h0v,e6v,y45,N4u,Y3r,b$d;h_yMd.H5S();h0v=this.p0;e6v=this.p1;y45=this.stx.panels[this.panelName];if(!h0v || !e6v || !y45){return null;}N4u={0:h0v,1:e6v};for(var n4N in N4u){if(this.pointIntersection(N4u[n4N][0],N4u[n4N]["1" - 0],L8i)){Y3r="d";Y3r+="r";Y3r+="a";Y3r+="g";h_yMd.E2c(2);this.highlighted=h_yMd.e5e("p",n4N);return {action:Y3r,point:"p" + n4N};}}b$d=this.lineIntersection(t5M,a1P,L8i,"segment");if(b$d || L8i.x0 <= this.p0[+"0"] && L8i.x1 >= h0v[0]){this.highlighted=!!1;return {action:"move",p0:i4.clone(h0v),p1:i4.clone(e6v),tick:t5M,value:this.valueOnDrawingAxis(t5M,a1P)};}return null;};i4.Drawing.arrow_v0=function(){var C$3=h_yMd;this.name="arrow";this.dimension=[11,11];C$3.E2c(24);this.points=[[(9652,549.12) !== 140.2?(5420,+"8510") >= +"5980"?"M":(5340,184.93) === 803?303.66:(8.32e+3,1.92e+3):("Q","C"),3,0,(656.26,4359) != 8969?"L":79.89,C$3.E9k("7",5),0,"L",7,5,(+"7245",7185) < +"896.94"?(0xe6a,4.03e+3):"L",10,5,1860 == 92?0x1c35:"L",+"5",+"10",("454.77" * 1,4810) < ("2859" | 1)?(+"4.34e+2",2.16e+3):"L",0,5,(596.88,6620) !== (768.52,5007)?"L":("606" | 8) < (134.71,808.83)?"D":(+"0x135",9.46e+3),3,C$3.E9k(0,"5",C$3.L7E(5)),(467.56,543.51) != 1760?(825,9110) != (215.29,8985)?"L":2670 <= ("1065" | 40,913.59)?("v",0xd8b):924.44:("U",0xbf5),3,0]];;};i4.inheritsFrom(i4.Drawing.arrow_v0,i4.Drawing.shape);i4.Drawing.xcross=function(){var E8s=h_yMd;E8s.J2s();this.name="xcross";this.dimension=[7,7];E8s.L7E(24);this.points=[[6470 != +"6913"?(7991,143.33) != "675.65" * 1?"M":(536,5800) !== 1561?(!({}),"m"):(0x15e2,3.13e+3):"0x1313" ^ 0,1,+"0","L",E8s.E9k("3",2),2,(4983,63.24) == 6600?(465.34,2180) >= (7910,3563)?!1:"V":"L",5,0,"L",6,1,1143 != (+"4559",652.79)?"L":(765.58,2480) > 714.79?(290.45,3300) > 3890?347.92:(5.12e+3,0xc6e):(![],0x1cdf),+"4",3,"L",6,5,"L",5,6,"L",3,4,1610 !== (3640,151.37)?"L":513 >= (9520,"3735" | 18)?"9.14e+2" - 0:7.27e+3,E8s.E9k(0,"1",E8s.L7E(5)),6,"L",0,5,"L",2,3,724.69 >= (7106,5321)?(!1,427.30):(6742,3220) != (7697,+"666")?"L":1000 >= (364.24,9630)?473.34:158.65,0,1,"L",1,0]];;};i4.inheritsFrom(i4.Drawing.xcross,i4.Drawing.shape);i4.Drawing.check=function(){this.name="check";this.dimension=[8,9];h_yMd.E2c(5);this.points=[[7280 != ("4386" * 1,7820)?("371.43" * 1,3390) == (8170,9370)?(616.59,296) != 102.88?("2.01e+3" * 1,8.41e+3):768.70:"M":(!!1,477.68),1,5,3117 == 6577?(4830,7382) <= (321.11,9008)?(290.58,!!({})):(6.66e+3,"k"):"L",0,6,(9490,3800) >= "1711" - 0?(2570,"312.49" * 1) != (7630,6623)?(6223,761.84) >= +"389.75"?"L":!!({}):(!0,497.03):994.34,2,8,"L",7,1,"L",h_yMd.E9k(0,"6"),0,("9621" | 4,+"268.53") <= +"3780"?"L":8435 == 6600?+"0x1ef9":!!1,2,6,"L",1,5]];;};i4.inheritsFrom(i4.Drawing.check,i4.Drawing.shape);i4.Drawing.star=function(){this.name="star";this.dimension=[12,12];h_yMd.E2c(42);this.points=[[(179,"3368" | 0) === 5150?(+"8870",3272) !== (2759,4166)?(8.09e+3,882.66):205:"M",0,4,"L",4,4,617.08 < (+"9884",+"5531")?4025 >= 9144?209.2 > 5510?(!1,"U"):+"5.41e+3":"L":(![],!1),5.5,0,7768 < 961?(4.07e+2,!""):4918 < 455.37?"9180" * 1 != 607.65?("z",0x740):(2.29e+3,"U"):"L",7,4,(3657,115) !== 3194?"L":(5697,"206.07" * 1) <= 864.45?(4670,2148) !== 305.63?(460.21,"p"):"k":!({}),+"11",4,"4710" << 0 >= 772?"L":718.42 > (7850,9746)?(!![],1.38e+3):0x1185,8,7,"L",9,11,"L",5.5,h_yMd.E9k(0,"9"),"L",2,11,"L",3,7,(+"517",8149) > (5070,6825)?"L":(+"1680",6800) < ("277.46" * 1,4555)?(!!({}),"3.02e+3" ^ 0):579.94,0,4]];;};i4.inheritsFrom(i4.Drawing.star,i4.Drawing.shape);i4.Drawing.heart=function(){var M2C;M2C="he";M2C+="art";this.name=M2C;this.dimension=[23,20];h_yMd.L7E(19);this.points=[["M",11,3,"B",11,+"2.4",10,+"0",6,0,477 !== 8201?("978.6" * 1,7080) == 4620?0x648:"B":(513.67,"9.59e+3" >> 64),0,0,0,7.5,+"0",7.5,(4656,2956) >= 8186?(3138,4990) == ("8410" - 0,+"2850")?(+"161.16",439.81):(3760,4990) !== 9061?+"0x1907":(!0,!({})):"B",0,11,+"4",15.4,11,19,"B",18,15.4,22,11,22,7.5,"B",22,7.5,22,0,16,0,"B",13,0,h_yMd.E9k("11",1),2.4,11,3]];;};i4.inheritsFrom(i4.Drawing.heart,i4.Drawing.shape);i4.Drawing.focusarrow=function(){var U_K;U_K="fo";U_K+="cu";U_K+="sarr";U_K+="ow";this.name=U_K;this.dimension=[7,5];h_yMd.L7E(17);this.points=[[(3201,1901) > 7450?360.00:8656 >= (4444,6506)?"M":(5162,3860) == +"9625"?(+"9.92e+3",0x1522):4.97e+3,h_yMd.E9k("0",32),0,"L",2,2,(240.67,"224" >> 64) <= (344,2700)?(+"463.86",238.84) == (428,"594.72" - 0)?!![]:"L":"J",0,4,"L",0,0],[224.9 != (42.03,421.64)?"M":"163.25" - 0 <= "8836" >> 32?!![]:!({}),6,0,879.77 == 264.36?(853.51,"260.24" * 1) != "24.47" * 1?670.03 != 9707?0x8ea:(+"5.31e+3","Q"):(865.09,0x197c):"L",4,2,(993.45,254) >= 9220?0x787:"L",6,4,484.89 < (2783,6775)?"L":(+"6.76e+2",623.80),6,0]];;};i4.inheritsFrom(i4.Drawing.focusarrow,i4.Drawing.shape);i4.Drawing.crossline=function(){var h0w;h0w="cro";h_yMd.H5S();h0w+="sslin";h0w+="e";this.name=h0w;};i4.inheritsFrom(i4.Drawing.crossline,i4.Drawing.horizontal);i4.extend(i4.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(M6P,P6n){h_yMd.J2s();return !"1";},adjust:function(){var I3b;I3b=this.stx.panels[this.panelName];if(!I3b){return;}this.setPoint(0,this.d0,this.v0,I3b.chart);this.p1=i4.clone(this.p0);},intersected:function(P9n,V9G,z5I){var k_e;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;k_e=this.lineIntersection(P9n,V9G,z5I,"line");this.p1=i4.clone(this.p0);if(!k_e){this.p1[1]+=1;k_e=this.lineIntersection(P9n,V9G,z5I,"line");this.p1=i4.clone(this.p0);if(!k_e){return null;}}this.highlighted=!!({});if(this.pointIntersection(this.p0[0],this.p0[1],z5I)){this.highlighted="p0";}return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:P9n,value:this.valueOnDrawingAxis(P9n,V9G)};},render:function(e4q){var B6R=h_yMd;var Y3R,i8d,P3v,k_C,k02,R9c,K9U,r1n,E$9,w_t,j0q,d1J,F9e,P1$,V1P,X_E,v4N;Y3R=this.stx;i8d=Y3R.panels[this.panelName];P3v=Y3R.getYAxisByField(i8d,this.field);if(!i8d || this.field && !P3v){return;}P3v=P3v || i8d.yAxis;k_C=Y3R.pixelFromTick(this.p0[0],i8d.chart);k02=this.pixelFromValue(i8d,this.p0[0],this.p0["1" - 0],P3v);R9c=this.getLineColor();K9U={pattern:this.pattern,lineWidth:this.lineWidth};B6R.L7E(81);Y3R.plotLine(k_C,B6R.E9k("100",k_C),k02,k02,R9c,"horizontal",e4q,i8d,K9U);B6R.E2c(2);Y3R.plotLine(k_C,k_C,k02,B6R.E9k(k02,100),R9c,"vertical",e4q,i8d,K9U);if(this.axisLabel && !this.repositioner){Y3R.endClip();r1n=this.p0[1];if(i8d.chart.transformFunc){r1n=i8d.chart.transformFunc(Y3R,i8d.chart,r1n);}if(P3v.priceFormatter){r1n=P3v.priceFormatter(Y3R,i8d,r1n);}else {r1n=Y3R.formatYAxisPrice(r1n,i8d,null,P3v);}Y3R.createYAxisLabel(i8d,r1n,k02,R9c,null,null,P3v);Y3R.startClip(i8d.name);if(this.p0[+"0"] >= 0 && !Y3R.chart.xAxis.noDraw){E$9=Y3R.dateFromTick(this.p0[0],i8d.chart,!![]);if(!i4.ChartEngine.isDailyInterval(Y3R.layout.interval)){j0q=E$9.getSeconds() * ("1000" << 0) + E$9.getMilliseconds();if(Y9.Date && Y3R.displayZone){w_t=new Y9.Date(E$9.getTime(),Y3R.displayZone);E$9=new Date(w_t.getFullYear(),w_t.getMonth(),w_t.getDate(),w_t.getHours(),w_t.getMinutes());E$9=new Date(E$9.getTime() + j0q);}}else {B6R.E2c(17);E$9.setHours(0,+"0",0,B6R.e5e("0",64));}d1J=i4.mmddhhmm(i4.yyyymmddhhmm(E$9));if(i8d.chart.xAxis.formatter){d1J=i8d.chart.xAxis.formatter(E$9,this.name,null,null,d1J);}else if(this.stx.internationalizer){F9e=-1254681497;P1$=-+"1819519241";V1P=2;for(var e5T=1;B6R.z3M(e5T.toString(),e5T.toString().length,71648) !== F9e;e5T++){d1J=i4.displayableDate(Y3R,Y3R.chart,E$9);B6R.E2c(5);V1P+=B6R.E9k(0,"2");}if(B6R.K8j(V1P.toString(),V1P.toString().length,"67372" | 12) !== P1$){d1J=i4.displayableDate(Y3R,Y3R.chart,E$9);}d1J=i4.displayableDate(Y3R,Y3R.chart,E$9);}Y3R.endClip();Y3R.createXAxisLabel({panel:i8d,txt:d1J,x:k_C,backgroundColor:R9c,color:null,pointed:!!({}),padding:2});Y3R.startClip(i8d.name);}}if(this.highlighted){X_E="p";X_E+="0";v4N=this.highlighted == X_E?!"":!({});this.littleCircle(e4q,k_C,k02,v4N);}}},!![]);i4.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!"";};i4.inheritsFrom(i4.Drawing.speedarc,i4.Drawing.segment);i4.extend(i4.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:[W8V,"fillColor",A5r,"pattern"],copyConfig:function(){h_yMd.J2s();var j0e;j0e=this.stx.currentVectorParameters;this.color=j0e.currentColor;this.fillColor=j0e.fillColor;this.lineWidth=j0e.lineWidth;this.pattern=j0e.pattern;},intersected:function(A1P,v0Y,Y2N){var J6H,Y2A,c0Y,m$D,o5v,r1H,Q6U;if(!this.p0 || !this.p1){return null;}J6H={0:this.p0,1:this.p1};for(var g8H in J6H){if(this.pointIntersection(J6H[g8H][0],J6H[g8H][+"1"],Y2N)){h_yMd.E2c(2);this.highlighted=h_yMd.e5e(779.48 == +"9560"?("n","T"):(279.96,986.11) != (4360,7950)?"p":(3890,2630) !== (4440,6330)?"J":"C",g8H);return {action:"drag",point:((4243,+"3933") == (737.48,+"5750")?0x2077:6670 != 430.86?(402.62,2492) < 6750?"p":"0x18b1" >> 0:(!!1,!![])) + g8H};}}Y2A=this.valueOnDrawingAxis(A1P,v0Y);c0Y=this.lineIntersection(A1P,v0Y,Y2N,this.name);if(c0Y){this.highlighted=!![];return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:A1P,value:Y2A};}m$D=this.p1[0] - (this.p0[0] - this.p1[0]);o5v=this.p0[+"0"];r1H=this.p1[1];Q6U=this.p0[1];if(A1P > Math.max(m$D,o5v) || A1P < Math.min(m$D,o5v)){return null;}h_yMd.H5S();if(Y2A > Math.max(Q6U,r1H) || Y2A < Math.min(Q6U,r1H)){return null;}this.highlighted=!!"1";return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:A1P,value:Y2A};},render:function(N$V){var p51=h_yMd;var L22,i53,m2x,Q2f,T8r,F4c,i7i,y3q,e$f,n$r,o1y,C6p,b1V,v4n,s$3,a1E,W1F,r5B,s9o,l_f,a8m;p51.H5S();L22="stx_y";L22+="a";L22+="xi";L22+="s";i53=this.stx;m2x=i53.panels[this.panelName];Q2f=i53.getYAxisByField(m2x,this.field);if(!m2x || this.field && !Q2f){return;}Q2f=Q2f || m2x.yAxis;if(!this.p1){return;}T8r=i53.pixelFromTick(this.p0[0],m2x.chart);F4c=i53.pixelFromTick(this.p1[0],m2x.chart);i7i=this.pixelFromValue(m2x,this.p0[0],this.p0[1],Q2f);y3q=this.pixelFromValue(m2x,this.p1[+"0"],this.p1[1],Q2f);p51.L7E(67);e$f=p51.e5e(y3q,i7i);p51.L7E(68);n$r=Math.abs(p51.E9k(i7i,T8r,F4c,y3q));o1y=this.getLineColor();N$V.strokeStyle=o1y;C6p=this.fillColor;if(C6p == "auto" || i4.isTransparent(C6p)){C6p=i53.defaultColor;}N$V.fillStyle=C6p;if(N$V.setLineDash){N$V.setLineDash(i4.borderPatternToArray(this.lineWidth,this.pattern));N$V.lineDashOffset=0;;}i53.canvasFont(L22,N$V);for(var z0Z=1;z0Z < 3;z0Z++){p51.L7E(82);var u2J=p51.e5e(11,0,10,111);p51.L7E(83);var t6L=p51.e5e(5,10,9,18,5);p51.E2c(5);var g7k=p51.E9k(10,12);p51.L7E(45);var g5a=p51.E9k(10,67,7,1);b1V=Math.abs(this.p1[u2J] - this.p0[t6L]) * Math.sqrt(g7k) * z0Z / g5a;p51.L7E(15);var K_u=p51.E9k(0,3,17,1,13);p51.E2c(8);var a4j=p51.e5e(16,10,7);p51.E2c(54);var X9Y=p51.e5e(15,6,0,6,18);p51.E2c(8);var e7N=p51.E9k(18,11,8);p51.L7E(5);var z2I=p51.E9k(18,19);v4n=this.p1[K_u] + b1V * (e$f?a4j:X9Y) * (Q2f.flipped?e7N:z2I);s$3=this.pixelFromValue(m2x,this.p0[+"0"],v4n,Q2f);N$V.save();N$V.beginPath();p51.E2c(9);N$V.scale(p51.e5e(1,n$r),p51.E9k(0,"1",p51.E2c(42)));p51.E2c(19);N$V.arc(p51.E9k(F4c,n$r),y3q,Math.abs(s$3 - y3q),0,Math.PI,!e$f);N$V.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){N$V.stroke();}N$V.globalAlpha=0.1;N$V.fill();N$V.restore();N$V.globalAlpha=1;if(this.printLevels){a1E="/";a1E+="3";N$V.fillStyle=o1y;N$V.textAlign="center";p51.E2c(2);W1F=p51.e5e(z0Z,a1E);N$V.fillText(W1F,F4c,Math.round(s$3 - 5));N$V.fillStyle=C6p;}}N$V.textAlign="left";r5B={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};i53.plotLine(T8r,F4c,i7i,y3q,o1y,"segment",N$V,m2x,r5B);if(N$V.setLineDash){N$V.setLineDash([]);}if(this.highlighted){s9o="p";s9o+="1";l_f=this.highlighted == "p0"?!!({}):!1;a8m=this.highlighted == s9o?!![]:!1;this.littleCircle(N$V,T8r,i7i,l_f);this.littleCircle(N$V,F4c,y3q,a8m);}},reconstruct:function(R9T,X$u){this.stx=R9T;this.color=X$u.col;this.fillColor=X$u.fc;this.panelName=X$u.pnl;this.pattern=X$u.ptrn;this.lineWidth=X$u.lw;this.d0=X$u.d0;this.d1=X$u.d1;this.tzo0=X$u.tzo0;this.tzo1=X$u.tzo1;this.v0=X$u.v0;this.v1=X$u.v1;this.field=X$u.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!"");i4.Drawing.speedline=function(){h_yMd.J2s();this.name="speedline";this.printLevels=!0;};i4.inheritsFrom(i4.Drawing.speedline,i4.Drawing.speedarc);i4.extend(i4.Drawing.speedline.prototype,{intersected:function(t8v,o5Y,u8U){var L0o,M3e,a8w,Q0Y;L0o=this.p0;h_yMd.J2s();M3e=this.p1;if(!L0o || !M3e){return null;}a8w={0:L0o,1:M3e};for(var N5s in a8w){if(this.pointIntersection(a8w[N5s][0],a8w[N5s][1],u8U)){h_yMd.E2c(2);this.highlighted=h_yMd.E9k("p",N5s);return {action:"drag",point:(6990 > ("7075" ^ 0)?(264,8090) > (1996,9827)?(72.85,2.31e+3):+"9317" > 6300?(3.86e+3,"d"):(6.44e+3,"h"):"p") + N5s};}}Q0Y=this.rays;for(var h0$=0;h0$ < Q0Y.length;h0$++){if(this.lineIntersection(t8v,o5Y,u8U,"ray",Q0Y[h0$][0],Q0Y[h0$][1],!![])){this.highlighted=!"";return {action:"move",p0:i4.clone(L0o),p1:i4.clone(M3e),tick:t8v,value:this.valueOnDrawingAxis(t8v,o5Y)};}}return null;},render:function(l_w){var S7U=h_yMd;var W7y,T2J,t9D,k_0,t1Z,L1v,e4y,v8b,d8h,k6f,e36,J9F,n$G,X6E,I7h,w$c,Y3y,O_R,n_0,Z9e,X76,J$j,Q4r,X8O,w05,u8T,P7z;W7y="aut";W7y+="o";T2J="stx_y";T2J+="axis";t9D=this.stx;k_0=t9D.panels[this.panelName];t1Z=t9D.getYAxisByField(k_0,this.field);if(!k_0 || this.field && !t1Z){return;}if(!this.p1){return;}L1v=t9D.pixelFromTick(this.p0[0],k_0.chart);e4y=t9D.pixelFromTick(this.p1[0],k_0.chart);v8b=this.pixelFromValue(k_0,this.p0[0],this.p0[1],t1Z);d8h=this.pixelFromValue(k_0,this.p1[0],this.p1[1],t1Z);t9D.canvasFont(T2J,l_w);k6f=this.getLineColor();l_w.strokeStyle=k6f;e36=this.fillColor;if(e36 == W7y || i4.isTransparent(e36)){e36=t9D.defaultColor;}l_w.fillStyle=e36;S7U.H5S();J9F={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};I7h=[4828 == 7636?(5316,7660) >= 4253?563.81 !== +"8260"?(549.39,!!""):(!1,812.82):(380.94,!!({})):"1","2/3","1/3","3/2","3"];S7U.E2c(84);w$c=[1,S7U.e5e("3",2,0),S7U.E9k(1,3,S7U.E2c(9)),S7U.E9k(3,2,S7U.E2c(9)),S7U.E9k("3",0,S7U.E2c(17))];Y3y=[];this.rays=[];for(var d2h=0;d2h < w$c.length;d2h++){O_R=w$c[d2h];if(O_R > 1 && !this.extension)continue;n_0=this.pixelFromValue(k_0,this.p0[0],this.p0[1] - (this.p0[1] - this.p1["1" >> 0]) * O_R,t1Z);if(O_R > "1" - 0){Z9e=i4.xIntersection({x0:L1v,x1:e4y,y0:v8b,y1:n_0},d8h);Y3y.push(Z9e);}else {Z9e=i4.xIntersection({x0:e4y,x1:e4y,y0:v8b,y1:d8h},n_0);Y3y.push(n_0);}X76=O_R > 1?Z9e:e4y;J$j=O_R > 1?d8h:n_0;if(!this.confineToGrid){X76=k_0.left;if(e4y > L1v){X76+=k_0.width;}S7U.E2c(75);J$j=S7U.E9k(X76,L1v,v8b,n_0,v8b,L1v,e4y);}if(this.printLevels){if(O_R != 1 || this.extension){l_w.fillStyle=k6f;Q4r=0;X8O=0;if(v8b > d8h){X8O=-5;l_w.textBaseline="bottom";}else {w05="t";w05+="o";w05+="p";X8O=5;l_w.textBaseline=w05;}if(L1v > e4y){Q4r=5;l_w.textAlign="right";}else {Q4r=-+"5";l_w.textAlign="left";}if(O_R > 1){l_w.fillText(I7h[d2h],Z9e + (this.confineToGrid?0:Q4r),d8h);}else {l_w.fillText(I7h[d2h],e4y,n_0 + (this.confineToGrid?0:X8O));}l_w.fillStyle=e36;}}t9D.plotLine(L1v,X76,v8b,J$j,k6f,"segment",l_w,k_0,J9F);if(O_R == 1){n$G=X76;X6E=J$j;}this.rays.push([[L1v,v8b],[X76,J$j]]);l_w.globalAlpha=0.1;l_w.beginPath();l_w.moveTo(X76,J$j);l_w.lineTo(L1v,v8b);l_w.lineTo(n$G,X6E);l_w.fill();l_w.globalAlpha=+"1";}l_w.textAlign="left";l_w.textBaseline="middle";if(this.confineToGrid){l_w.globalAlpha=0.3;l_w.beginPath();S7U.L7E(5);l_w.strokeRect(L1v,v8b,S7U.e5e(L1v,e4y),S7U.E9k(v8b,d8h));l_w.moveTo(L1v,Y3y[1]);l_w.lineTo(e4y,Y3y[1]);l_w.moveTo(L1v,Y3y[2]);l_w.lineTo(e4y,Y3y[2]);if(this.extension){l_w.moveTo(Y3y["3" >> 0],v8b);l_w.lineTo(Y3y[3],d8h);l_w.moveTo(Y3y[4],v8b);l_w.lineTo(Y3y[4],d8h);}l_w.stroke();l_w.globalAlpha=+"1";}if(this.highlighted){u8T=this.highlighted == "p0"?!!({}):![];P7z=this.highlighted == "p1"?!![]:!1;this.littleCircle(l_w,L1v,v8b,u8T);this.littleCircle(l_w,e4y,d8h,P7z);}}},!!({}));i4.Drawing.gannfan=function(){var j4H;j4H="gan";j4H+="n";j4H+="f";j4H+="an";this.name=j4H;this.printLevels=!"";};i4.inheritsFrom(i4.Drawing.gannfan,i4.Drawing.speedline);i4.extend(i4.Drawing.gannfan.prototype,{render:function(x8N){var p5N=h_yMd;var b57,H1T,m7Z,p3U,h_8,G$N,S16,I$Y,h01,w8E,n9f,Q3f,K$o,T7G,y7n,o5W,j0P,r5H,Q7E,M3X,N22,m_U,b_j,m7S,A3$,F_x,T9x,q8V;b57="l";b57+="eft";H1T=this.stx;m7Z=H1T.panels[this.panelName];p3U=H1T.getYAxisByField(m7Z,this.field);if(!m7Z || this.field && !p3U){return;}if(!this.p1){return;}h_8=H1T.pixelFromTick(this.p0[0],m7Z.chart);G$N=H1T.pixelFromTick(this.p1[0],m7Z.chart);S16=this.pixelFromValue(m7Z,this.p0[0],this.p0[+"1"],p3U);I$Y=this.pixelFromValue(m7Z,this.p1[0],this.p1[1],p3U);H1T.canvasFont("stx_yaxis",x8N);h01=this.getLineColor();x8N.strokeStyle=h01;w8E=this.fillColor;if(w8E == "auto" || i4.isTransparent(w8E)){w8E=H1T.defaultColor;}x8N.fillStyle=w8E;n9f={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" >> 32:this.defaultOpacity};p5N.L7E(85);T7G=[1,+"2",+"3",4,8,p5N.E9k(1,"2"),p5N.e5e("1","3",0,p5N.L7E(27)),p5N.E9k(1,4,p5N.L7E(9)),p5N.e5e(1,8,p5N.L7E(9))];p5N.J2s();this.rays=[];for(var Z3a=0;Z3a < T7G.length;Z3a++){y7n="se";y7n+="gment";o5W=T7G[Z3a];p5N.L7E(86);j0P=p5N.E9k(G$N,h_8,h_8,o5W);p5N.E2c(87);r5H=p5N.e5e(S16,S16,o5W,I$Y);Q7E=m7Z.left;if(G$N > h_8){Q7E+=m7Z.width;}p5N.L7E(75);M3X=p5N.e5e(Q7E,h_8,S16,r5H,S16,h_8,G$N);if(this.printLevels){x8N.fillStyle=h01;N22=0;m_U=0;if(S16 > I$Y){m_U=5;x8N.textBaseline="top";}else {b_j="bott";b_j+="o";b_j+="m";p5N.L7E(17);m_U=-p5N.e5e("5",0);x8N.textBaseline=b_j;}if(h_8 > G$N){N22=5;x8N.textAlign="left";}else {p5N.L7E(17);N22=-p5N.e5e("5",0);x8N.textAlign="right";}if(o5W > 1){p5N.L7E(2);x8N.fillText(p5N.E9k(o5W,"x1"),p5N.E9k(j0P,N22),I$Y);}else {m7S="1";m7S+="x";p5N.E2c(88);x8N.fillText(p5N.E9k(m7S,"1",o5W),G$N,p5N.E9k(r5H,m_U,p5N.L7E(2)));}x8N.fillStyle=w8E;}H1T.plotLine(h_8,Q7E,S16,M3X,h01,y7n,x8N,m7Z,n9f);this.rays.push([[h_8,S16],[Q7E,M3X]]);if(o5W == 1){Q3f=Q7E;K$o=M3X;}p5N.E2c(5);x8N.globalAlpha=p5N.e5e(0,"0.1");x8N.beginPath();x8N.moveTo(Q7E,M3X);x8N.lineTo(h_8,S16);x8N.lineTo(Q3f,K$o);x8N.fill();x8N.globalAlpha=1;}x8N.textAlign=b57;x8N.textBaseline="middle";if(this.highlighted){A3$="p";A3$+="1";F_x="p";F_x+="0";T9x=this.highlighted == F_x?!"":!1;q8V=this.highlighted == A3$?!0:!!0;this.littleCircle(x8N,h_8,S16,T9x);this.littleCircle(x8N,G$N,I$Y,q8V);}}},!![]);i4.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=!"";};i4.inheritsFrom(i4.Drawing.timecycle,i4.Drawing.speedarc);i4.extend(i4.Drawing.timecycle.prototype,{intersected:function(j0X,X1S,v5c){var j9q,M0x,c0v,w8n,q2m,N1k,Z4S;j9q=this.p0;M0x=this.p1;c0v=this.stx.panels[this.panelName];if(!j9q || !M0x || !c0v){return null;}w8n={0:j9q,1:M0x};for(var r7d in w8n){if(this.pointIntersection(w8n[r7d][0],w8n[r7d][1],v5c)){q2m="dra";q2m+="g";h_yMd.L7E(2);this.highlighted=h_yMd.E9k(1442 > 992.25?+"8388" == 8868?(!!0,0x239a):"p":0x4d3,r7d);return {action:q2m,point:"p" + r7d};}}N1k=this.lineIntersection(j0X,X1S,v5c,"segment");if(N1k || v5c.x0 <= this.p0[0] && v5c.x1 >= j9q[0]){Z4S="mo";Z4S+="ve";this.highlighted=!0;return {action:Z4S,p0:i4.clone(j9q),p1:i4.clone(M0x),tick:j0X,value:this.valueOnDrawingAxis(j0X,X1S)};}return null;},render:function(Y4T){var W9Z=h_yMd;var f1f,M8p,h1d,Z$x,t4y,E60,p83,F7g,U3t,a$X,z3P,k$9,h1e,t1w,S04,X_W,R5Q,a6y,f$_,a2c,t3Z,u1$,q$U,m5X,R3c;f1f="se";f1f+="gme";f1f+="nt";M8p=this.stx;h1d=M8p.panels[this.panelName];Z$x=M8p.getYAxisByField(h1d,this.field);if(!h1d || this.field && !Z$x){return;}Z$x=Z$x || h1d.yAxis;if(!this.p1){return;}t4y=M8p.pixelFromTick(this.p0[0],h1d.chart);E60=M8p.pixelFromTick(this.p1[0],h1d.chart);p83=this.pixelFromValue(h1d,this.p0[0],this.p0[1],Z$x);F7g=this.pixelFromValue(h1d,this.p1[0],this.p1[1],Z$x);U3t=+"0";Y4T.textBaseline="middle";M8p.canvasFont("stx_yaxis",Y4T);a$X=20;z3P=this.p1[0] - this.p0[0];Y4T.textAlign="center";k$9=t4y;h1e=Z$x.top;t1w=Z$x.bottom;S04=this.getLineColor();X_W=this.fillColor;if(X_W == "auto" || i4.isTransparent(X_W)){X_W=M8p.defaultColor;}if(this.printLevels){W9Z.L7E(5);t1w-=W9Z.e5e(7,a$X);}R5Q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};a6y=[];Y4T.save();Y4T.fillStyle=X_W;Y4T.globalAlpha=0.05;while(!!1){k$9=M8p.pixelFromTick(this.p0[0] + U3t * z3P,h1d.chart);U3t++;if(t4y < E60 && k$9 > h1d.left + h1d.width)break;else if(t4y > E60 && k$9 < h1d.left)break;else if(k$9 < h1d.left || k$9 > h1d.left + h1d.width)continue;Y4T.beginPath();Y4T.moveTo(t4y,h1e);Y4T.lineTo(k$9,h1e);Y4T.lineTo(k$9,t1w);Y4T.lineTo(t4y,t1w);Y4T.fill();a6y.push({c:U3t,x:k$9});if(!z3P)break;}Y4T.globalAlpha=1;f$_=0;for(var G7W=0;G7W < a6y.length;G7W++){a2c="s";a2c+="eg";a2c+="ment";M8p.plotLine(a6y[G7W].x,a6y[G7W].x,0,t1w,S04,a2c,Y4T,h1d,R5Q);if(this.printLevels){Y4T.fillStyle=S04;t3Z=M8p.chart.context.measureText(a6y[G7W].c).width + ("3" >> 0);if(t3Z < M8p.layout.candleWidth + f$_){Y4T.fillText(a6y[G7W].c,a6y[G7W].x,t1w + 7);f$_=0;}else {f$_+=M8p.layout.candleWidth;}}}Y4T.restore();Y4T.textAlign="left";M8p.plotLine(t4y,E60,p83,F7g,S04,f1f,Y4T,h1d,R5Q);if(this.highlighted){u1$="p";u1$+="1";q$U=this.highlighted == "p0"?!0:!!"";m5X=this.highlighted == u1$?!!({}):!({});this.littleCircle(Y4T,t4y,p83,q$U);this.littleCircle(Y4T,E60,F7g,m5X);}else {R3c=this.valueFromPixel(h1d.height / 2,h1d,Z$x);W9Z.L7E(19);this.setPoint(W9Z.e5e("0",1),this.p0[0],R3c,h1d.chart);this.setPoint(+"1",this.p1[0],R3c,h1d.chart);}}},!![]);i4.Drawing.regression=function(){this.name="regression";};i4.inheritsFrom(i4.Drawing.regression,i4.Drawing.segment);i4.extend(i4.Drawing.regression.prototype,{configs:["color",Q3A,L47,h7Y,"color1",k15,"pattern1","active2","color2","lineWidth2","pattern2","active3",E6e,k5q,"pattern3"],copyConfig:function(A$V){var K4G,f2Z;K4G="a";K4G+="u";K4G+="t";K4G+="o";i4.Drawing.copyConfig(this,A$V);f2Z=this.stx.currentVectorParameters;this.active1=!!f2Z.active1;h_yMd.H5S();this.active2=!!f2Z.active2;this.active3=!!f2Z.active3;this.color1=f2Z.color1 || "auto";this.color2=f2Z.color2 || K4G;this.color3=f2Z.color3 || "auto";this.lineWidth1=f2Z.lineWidth1;this.lineWidth2=f2Z.lineWidth2;this.lineWidth3=f2Z.lineWidth3;this.pattern1=f2Z.pattern1;this.pattern2=f2Z.pattern2;this.pattern3=f2Z.pattern3;},$controls:[x7v,O2k,b3c],click:function(s0P,o8i,G9d){var M_i,n3X;if(o8i < 0){return;}this.copyConfig();M_i=this.stx;n3X=M_i.panels[this.panelName];if(!this.penDown){this.setPoint(0,o8i,G9d,n3X.chart);if(!this.isAllowed(M_i,this.field)){M_i.undo();return !0;}this.penDown=!![];return ![];}if(this.accidentalClick(o8i,G9d)){return !"";}this.setPoint(+"1",o8i,G9d,n3X.chart);this.penDown=!1;return !!({});;},getYValue:function(q9n){var h44,X3C,h4X,U9_,H7Y,P9l,S97,e4U,u5J;h44="Clo";h44+="s";h44+="e";X3C=this.stx;h4X=X3C.chart.dataSet[q9n];U9_=X3C.chart.dataSet[q9n];h_yMd.H5S();if(!h4X){return null;}H7Y=X3C.panels[this.panelName];P9l=X3C.getYAxisByField(H7Y,this.field) || H7Y.yAxis;if(X3C.charts[H7Y.name] && H7Y.chart.transformFunc && P9l == H7Y.yAxis){U9_=h4X.transform;}if(!U9_){return null;}S97=null;e4U=null;u5J=X3C.defaultPlotField || h44;if(this.field){e4U=i4.existsInObjectChain(U9_,this.field);if(!e4U){return null;}S97=e4U=e4U.obj[e4U.member];if(h4X != U9_){S97=i4.existsInObjectChain(h4X,this.field);S97=S97.obj[S97.member];}if(typeof e4U == "object"){e4U=e4U[u5J];S97=S97[u5J];}}else {e4U=U9_[u5J];S97=h4X[u5J];}return {transformed:e4U,untransformed:S97};},render:function(C4Y){var x7i=h_yMd;var o_l,z60,t9b,G3R,d$w,J9$,I5I,d85,P2k,t37,k7L,T8V,T7q,j29,P4L,n_G,y5v,R4N,I9$,y$x,L2k,h$9,Z6i,a9k,d5h,X87,E41,K_7,U6f,a9v,Z04,Y0w,B7y,V_A,R34,a51,o0$,R$s,q0n,p8e,e1w,F2b;o_l=this.stx;z60=o_l.panels[this.panelName];t9b=o_l.getYAxisByField(z60,this.field);if(!z60 || this.field && !t9b){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[+"0"] < 0){return;}G3R=o_l.pixelFromTick(this.p0[0],z60.chart);d$w=o_l.pixelFromTick(this.p1[0],z60.chart);if(G3R < z60.left && d$w < z60.left){return;}if(G3R > z60.right && d$w > z60.right){return;}J9$=[];I5I=[];d85=0;P2k=0;t37=0;k7L=0;T8V=Math.min(this.p1[0],this.p0[0]);x7i.L7E(34);var t6z=x7i.e5e(14,12,0,26);T7q=Math.max(this.p1[0],this.p0[0]) + t6z;x7i.L7E(5);j29=x7i.E9k(T8V,T7q);for(var l$Y=T8V;l$Y < T7q;l$Y++){P4L=this.getYValue(l$Y);if(P4L){J9$.push(P4L.transformed);I5I.push(P4L.untransformed);}}n_G=J9$.length;x7i.L7E(89);y5v=x7i.e5e("2",n_G,1,32,n_G);R4N=Math.pow(y5v,2);x7i.E2c(90);I9$=x7i.E9k(3,1,n_G,2,y5v);for(l$Y=0;l$Y < n_G;l$Y++){t37+=n_G * J9$[l$Y] - d85;d85+=J9$[l$Y];k7L+=n_G * I5I[l$Y] - P2k;P2k+=I5I[l$Y];}x7i.L7E(91);y$x=x7i.e5e(y5v,n_G,n_G,R4N,d85,I9$,t37);x7i.E2c(92);L2k=x7i.e5e(y5v,n_G,d85,y$x);x7i.H5S();x7i.L7E(91);h$9=x7i.E9k(y5v,n_G,n_G,R4N,P2k,I9$,k7L);x7i.L7E(92);Z6i=x7i.e5e(y5v,n_G,P2k,y$x);if(this.p0[0] < this.p1[0]){a9k=L2k;x7i.E2c(93);d5h=x7i.E9k(j29,y$x,L2k);this.p0[1]=Z6i;x7i.L7E(93);this.p1[1]=x7i.e5e(j29,h$9,Z6i);}else {x7i.E2c(93);a9k=x7i.e5e(j29,y$x,L2k);d5h=L2k;x7i.E2c(93);this.p0[1]=x7i.E9k(j29,h$9,Z6i);this.p1[1]=Z6i;}X87=o_l.pixelFromTransformedValue(a9k,z60,t9b);E41=o_l.pixelFromTransformedValue(d5h,z60,t9b);K_7=this.getLineColor();U6f={pattern:this.pattern,lineWidth:this.lineWidth};o_l.plotLine(G3R,d$w,X87,E41,K_7,"segment",C4Y,z60,U6f);x7i.L7E(5);o_l.plotLine(G3R,G3R,x7i.e5e(20,X87),x7i.e5e(64,X87,"20",x7i.E2c(94)),K_7,"segment",C4Y,z60,U6f);x7i.L7E(5);o_l.plotLine(d$w,d$w,x7i.e5e(20,E41),x7i.E9k(E41,20,x7i.L7E(2)),K_7,"segment",C4Y,z60,U6f);if(this.active1 || this.active2 || this.active3){x7i.E2c(9);a9v=x7i.e5e(d85,n_G);Z04=0;for(l$Y=+"0";l$Y < n_G;l$Y++){Z04+=Math.pow(J9$[l$Y] - a9v,2);}x7i.L7E(9);Y0w=Math.sqrt(x7i.E9k(Z04,n_G));B7y={context:C4Y,panel:z60,points:{0:{x:G3R,v:a9k},1:{x:d$w,v:d5h}},stddev:Y0w,yAxis:t9b};this.lines={};if(this.active1){this.renderStddev(761 >= 7060?"E":"1",(8410,6050) === ("959.34" - 0,7908)?("J",8.68e+3):"p",B7y);this.renderStddev((614.99,7650) != (5360,9684)?(3729,2020) > (1319,873.35)?"1":7640 != 6873?(!![],"472.00" >> 64):137.24:+"202.10","n",B7y);}if(this.active2){this.renderStddev(401.57 === (1140,995.56)?!!1:"2",9790 != (85.46,200.31)?"p":9.49e+3,B7y);this.renderStddev(5746 > 280?(8431,202.57) != (191.81,+"1290")?"2":(7.16e+3,"I"):+"6.37e+3",488 == (29.97,280.93)?"5650" >> 32 != 7260?269.85 > (4350,"1450" << 96)?(0x2646,"V"):775.04:("7.49e+3" >> 64,9.46e+3):"n",B7y);}if(this.active3){this.renderStddev((9640,203.02) < (85,7739)?"3":9791 >= (4599,7410)?979.40:"V",894.22 == (6995,9284)?"j":"p",B7y);this.renderStddev(27.92 > 8320?"G":205.8 == 333?("d",0x13ed):"3",(7432,5621) !== (1957,4620)?"n":(4770,988.25) <= (634.62,4790)?+"3802" == 658.7?163.45:("M",!![]):!!({}),B7y);}}if(!this.highlighted){this.pixelX=[G3R,d$w];x7i.L7E(24);V_A=x7i.e5e("943374481",0);x7i.L7E(40);R34=x7i.E9k(0,"1545092592");a51=2;for(var w0j=1;x7i.z3M(w0j.toString(),w0j.toString().length,+"76175") !== V_A;w0j++){this.pixelY=[X87,E41];a51+=2;}if(x7i.K8j(a51.toString(),a51.toString().length,13061) !== R34){this.pixelY=[X87,E41];}}else {o0$=this.highlighted == "p0"?!!"1":!"1";R$s=-+"522161261";q0n=-+"20749135";p8e=+"2";for(var X3t=1;x7i.z3M(X3t.toString(),X3t.toString().length,+"25422") !== R$s;X3t++){e1w=this.highlighted !== ""?!!0:!0;this.littleCircle(C4Y,G3R,X87,o0$);this.littleCircle(C4Y,d$w,E41,e1w);x7i.L7E(19);p8e+=x7i.E9k("2",1);}if(x7i.z3M(p8e.toString(),p8e.toString().length,68885) !== q0n){F2b="p";F2b+="1";e1w=this.highlighted == F2b?!!"1":!!0;this.littleCircle(C4Y,G3R,X87,o0$);this.littleCircle(C4Y,d$w,E41,e1w);}}},renderStddev:function(E6A,G6Q,c0z){var P5K=h_yMd;var t_T,R7g,b4a,k1H,e7$,o9C,s9K,d8e,e5g,E7N,p7R,n8b,v0w,L79,Y8E,E9H,Q1W,O2u,V$R,I$O,B$C;t_T="l";t_T+="ineWidt";t_T+="h";P5K.L7E(95);R7g=P5K.E9k("stddev",G6Q,E6A);P5K.E2c(2);b4a=P5K.e5e("color",E6A);P5K.L7E(2);k1H=P5K.e5e("pattern",E6A);P5K.L7E(2);e7$=P5K.e5e(t_T,E6A);o9C=c0z.points;s9K=o9C[0].v;d8e=o9C[1].v;e5g=c0z.stddev;E7N=G6Q === ((4242,5586) === 464.71?(!!0,0x1a3b):"n")?E6A * -1:E6A * 1;p7R=this.stx;n8b=c0z.panel;v0w=c0z.yAxis;L79={name:R7g,color:this.getLineColor(this[b4a]),type:"segment",y0:p7R.pixelFromTransformedValue(s9K + e5g * E7N,n8b,v0w),y1:p7R.pixelFromTransformedValue(d8e + e5g * E7N,n8b,v0w),params:{pattern:this[k1H],lineWidth:this[e7$]}};if(this.lines){this.lines[R7g]=L79;}Y8E=c0z.context;E9H=o9C[0].x;Q1W=o9C[1].x;p7R.plotLine(E9H,Q1W,L79.y0,L79.y1,L79.color,L79.type,Y8E,n8b,L79.params);p7R.plotLine(E9H,E9H,L79.y0 - 10,L79.y0 + 10,L79.color,L79.type,Y8E,n8b,L79.params);p7R.plotLine(Q1W,Q1W,L79.y1 - 10,L79.y1 + 10,L79.color,L79.type,Y8E,n8b,L79.params);P5K.E2c(2);O2u=P5K.e5e(E6A,913.71 <= (872.33,3530)?"\u03c3":(+"0x9c1",!"1"));P5K.E2c(2);var l5I=P5K.e5e(3,2);V$R=Math.max(E9H,Q1W) + l5I;P5K.H5S();I$O=E9H < Q1W?L79.y1:L79.y0;Y8E.fillStyle=L79.color;Y8E.save();Y8E.textBaseline="middle";Y8E.fillText(O2u,V$R,I$O);Y8E.restore();if(c0z.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(E9H >= n8b.chart.left && E9H <= n8b.chart.right || Q1W >= n8b.chart.left && Q1W <= n8b.chart.right){P5K.E2c(20);B$C=P5K.e5e(e5g,E7N,E9H < Q1W?d8e:s9K);p7R.endClip();p7R.createYAxisLabel(n8b,c0z.formatPrice(B$C,v0w),I$O,L79.color,null,Y8E,v0w);p7R.startClip(n8b.name);}}},intersected:function(N4g,C_V,B4J){var q22,t3Q,K_8,J34,F7_,s2U,C9q;if(!this.pixelX || !this.pixelY){return null;}q22=this.repositionIntersection(N4g,C_V);if(q22){return q22;}t3Q={0:this.pixelX,1:this.pixelY};for(var v79=0;v79 < 2;v79++){if(this.pointIntersection(t3Q[0][v79],t3Q[1][v79],B4J,!!({}))){h_yMd.L7E(2);this.highlighted=h_yMd.E9k("p",v79);return {action:"drag",point:((+"4670",8400) !== 4134?"p":6190 == 1630?281.03:(!!"",4.37e+3)) + v79};}}K_8=this;J34=this.pixelX[0];F7_=this.pixelX[1];s2U=function(U0a){var O7f,R7V;h_yMd.H5S();O7f=[J34,U0a.y0];R7V=[F7_,U0a.y1];return K_8.lineIntersection(N4g,C_V,B4J,K_8.name,O7f,R7V,!"");};C9q=s2U({y0:this.pixelY[0],y1:this.pixelY[1]});if(!C9q && this.lines){for(var h1h in this.lines){if(s2U(this.lines[h1h])){C9q=!!({});break;}}}if(C9q){this.highlighted=!![];return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:N4g,value:this.valueOnDrawingAxis(N4g,C_V)};}return null;},repositionIntersection:function(F8M,d7S){var w1z;if(!this.p0 || !this.p1){return !({});}if(this == this.stx.repositioningDrawing && this.highlighted){w1z="d";w1z+="r";w1z+="ag";if(this.highlighted === !![]){return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:F8M,value:this.valueOnDrawingAxis(F8M,d7S)};}return {action:w1z,point:this.highlighted};}return !!"";},lineIntersection:function(A6E,w0d,S50,K_F,J9q,U5O,L_o){var X5S,t6m,d_v;if(!L_o){X5S=" lineIntersection must accep";X5S+="t p0 and p1 in p";X5S+="ixels.  Please verify ";X5S+="and set isPixels=true.";h_yMd.L7E(2);console.log(h_yMd.E9k(K_F,X5S));return !!"";}if(!J9q){J9q=this.p0;}if(!U5O){U5O=this.p1;}if(!(J9q && U5O)){return !!0;}t6m=this.stx;if(S50.cx0 === undefined){return !1;}d_v={x0:J9q[0],x1:U5O[0],y0:J9q[1],y1:U5O[1]};h_yMd.J2s();return i4.boxIntersects(S50.cx0,S50.cy0,S50.cx1,S50.cy1,d_v.x0,d_v.y0,d_v.x1,d_v.y1);},boxIntersection:function(S7N,n2M,P3p){h_yMd.J2s();if(P3p.cx0 > Math.max(this.pixelX[0],this.pixelX["1" ^ 0]) || P3p.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (P3p.cy1 < this.pixelY[0] || P3p.cy0 > this.pixelY["1" | 1])){return !"1";}return !!"1";},reconstruct:function(B8B,M1c){this.stx=B8B;this.color=M1c.col;this.color1=M1c.col1;this.color2=M1c.col2;this.color3=M1c.col3;this.active1=M1c.dev1;this.active2=M1c.dev2;this.active3=M1c.dev3;this.panelName=M1c.pnl;this.pattern=M1c.ptrn;this.pattern1=M1c.ptrn1;this.pattern2=M1c.ptrn2;this.pattern3=M1c.ptrn3;this.lineWidth=M1c.lw;this.lineWidth1=M1c.lw1;this.lineWidth2=M1c.lw2;this.lineWidth3=M1c.lw3;this.d0=M1c.d0;this.d1=M1c.d1;this.tzo0=M1c.tzo0;this.tzo1=M1c.tzo1;this.field=M1c.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);i4.Drawing.trendline=function(){var d5J;h_yMd.H5S();d5J="trendlin";d5J+="e";this.name=d5J;};i4.inheritsFrom(i4.Drawing.trendline,i4.Drawing.segment);i4.Drawing.trendline.prototype.configs=["color",a6Q,"lineWidth",r31,s0j];i4.Drawing.trendline.prototype.measure=function(){h_yMd.H5S();;};i4.Drawing.trendline.prototype.reconstruct=function(B0h,o_8){i4.Drawing.segment.prototype.reconstruct.call(this,B0h,o_8);this.callout=new i4.Drawing.callout();this.callout.reconstruct(B0h,o_8.callout);};i4.Drawing.trendline.prototype.serialize=function(){var D4T;h_yMd.J2s();D4T=i4.Drawing.segment.prototype.serialize.call(this);D4T.callout=this.callout.serialize();return D4T;};i4.Drawing.trendline.prototype.render=function(N1o){var O0h=h_yMd;var F6q,a5X,c$i,O6h,z20,q1l,K$6,l$H,i6R,g63,w9s,b_W,W_l,H49,B_o,P8b,w2j,W35,z8u,S3I,A9q,r3v,I7$;F6q=this.stx;a5X=F6q.panels[this.panelName];c$i=F6q.getYAxisByField(a5X,this.field);if(!a5X || this.field && !c$i){return;}i4.Drawing.segment.prototype.render.call(this,N1o);if(!this.callout){this.callout=new i4.Drawing.callout();O6h=i4.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(F6q,O6h);}this.callout.p0=i4.clone(this.p0);z20=F6q.pixelFromTick(this.p0[0],a5X.chart);q1l=F6q.pixelFromTick(this.p1[0],a5X.chart);K$6=this.pixelFromValue(a5X,this.p0[0],this.p0[1],c$i);l$H=this.pixelFromValue(a5X,this.p1[0],this.p1[1],c$i);if(!isFinite(K$6) || !isFinite(l$H)){return;}O0h.L7E(3);i6R=O0h.e5e(z20,2,q1l);O0h.L7E(96);g63=O0h.E9k("2",l$H,K$6);this.fontSize=i4.stripPX(this.font && this.font.size || 13);O0h.E2c(2);var N68=O0h.e5e(1550,20);O0h.L7E(2);var V1y=O0h.e5e(760,5321);O0h.L7E(2);var W9w=O0h.E9k(3483,17);O0h.E2c(97);var w7D=O0h.e5e(2,20,45170,9034,9048);O0h.L7E(98);var w2G=O0h.E9k(9,16,4106830,6,171494);O0h.L7E(10);var N$X=O0h.e5e(11738,18,690);O0h.E2c(76);var w9a=O0h.E9k(4216,9,4761);O0h.L7E(2);var V8d=O0h.E9k(34,16);w9s=this.callout.w * 1.2 + (this.callout.stemEntry["0" - 0] == ((N68,285.25) >= (V1y,W9w)?824.88:w7D < (w2G,N$X)?(w9a,!!""):"c")?0:V8d);b_W=Math.sqrt(Math.pow(q1l - z20,2) + Math.pow(l$H - K$6,2));O0h.E2c(78);var X3M=O0h.e5e(41,7,2,4);O0h.E2c(99);var M_F=O0h.e5e(5,6,3,3,25);O0h.L7E(100);var W0v=O0h.e5e(2,0,6,18,12);W_l=w9s / (b_W || w9s) * (this.p1[X3M] < this.p0[M_F]?W0v:-("1" ^ 0));O0h.E2c(101);H49=O0h.E9k(W_l,i6R,g63,l$H);O0h.E2c(82);B_o=O0h.E9k(i6R,q1l,W_l,g63);this.callout.p0[0]=F6q.tickFromPixel(H49,a5X.chart);this.callout.p0[1]=this.valueFromPixel(B_o,a5X,c$i);this.callout.v0=this.callout.p0[1];this.callout.p1=i4.clone(this.p0);this.callout.stx=F6q;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!0;O0h.L7E(102);var b__=O0h.e5e(5,13,6,15,67);O0h.E2c(5);var A5T=O0h.e5e(11,12);P8b=this.p1[b__] - this.p0[A5T];O0h.L7E(103);var u9V=O0h.e5e(6,3,8,8);O0h.E2c(10);var T37=O0h.e5e(47,16,3);O0h.L7E(34);var V68=O0h.E9k(26,10,4,6);O0h.E2c(5);var B61=O0h.e5e(15,16);this.callout.text="" + Number(P8b).toFixed(u9V) + (this.p0[T37] === 0?"":" (" + Number(100 * P8b / this.p0[1]).toFixed(V68) + "%) ") + "" + Math.abs(this.p1[0] - this.p0["0" * B61]) + " Bars";w2j=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){z8u=F6q.pixelFromTick(w2j,a5X.chart);O0h.L7E(104);S3I=O0h.e5e(z8u,q1l,K$6,K$6,z20,l$H,z20);W35=this.valueFromPixel(S3I,a5X,c$i) || g63;}else {W35=this.valueFromPixel(g63,a5X,c$i);}this.callout.stem={t:w2j,v:W35};this.callout.renderText();this.callout.render(N1o);if(this.highlighted){A9q="p";A9q+="1";r3v=this.highlighted == "p0"?!!({}):!({});I7$=this.highlighted == A9q?!![]:!!"";this.littleCircle(N1o,z20,K$6,r3v);this.littleCircle(N1o,q1l,l$H,I7$);}};i4.Drawing.trendline.prototype.lineIntersection=function(f3z,L6S,h7_,i11){var A2o;A2o="s";h_yMd.H5S();A2o+="egm";A2o+="en";A2o+="t";return i4.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,f3z,L6S,h7_,A2o);};i4.Drawing.trendline.prototype.intersected=function(n2d,x_D,T8H){var s9I,M_o;h_yMd.H5S();if(!this.p0 || !this.p1){return null;}s9I=this.callout.intersected(n2d,x_D,T8H);M_o=i4.Drawing.segment.prototype.intersected.call(this,n2d,x_D,T8H);this.callout.highlighted=!!(s9I || M_o);if(M_o){return M_o;}else if(s9I){return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:n2d,value:this.valueOnDrawingAxis(n2d,x_D)};}return null;};i4.Drawing.average=function(){h_yMd.J2s();this.name="average";};i4.inheritsFrom(i4.Drawing.average,i4.Drawing.regression);i4.extend(i4.Drawing.average.prototype,{configs:i4.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var A4h,I0A,l7G,N2D,l72,k1Z,A0i,z2P,m3I;A4h=this.stx;if(this.p0 && this.p1){I0A="&";I0A+="en";I0A+="sp;";A4h.setMeasure(0,!1,this.p0[+"0"],this.p1[0],!"",this.name);l7G=[];N2D="";if(this.active1){l7G.push((4280,583.31) < (458,3270)?"1":(6.73e+3,0xd6a));}if(this.active2){l7G.push(7651 == (741.61,1230)?"v":178 < (383.61,8330)?"2":!!1);}if(this.active3){l7G.push((6020,+"110.55") >= 1836?(2.14e+3,"U"):(2969,"6540" * 1) == 4415?![]:"3");}if(l7G.length){N2D=I0A + l7G.join(", ") + " &sigma;";}l72=(A4h.drawingContainer || document).querySelector(".mMeasure");k1Z=A4h.controls.mSticky;A0i=k1Z && k1Z.querySelector(".mStickyInterior");if(l72){l72.innerHTML+=N2D;}if(A0i){z2P="<";z2P+="b";z2P+="r";z2P+=">";m3I=[];m3I.push(i4.capitalize(this.name));m3I.push(this.field || A4h.defaultPlotField || "Close");m3I.push(A0i.innerHTML + N2D);A0i.innerHTML=m3I.join(z2P);}}},render:function(d4_){var L4n=h_yMd;var x6v,M$e,l3g,U43,J_J,t2R,o2H,E7C,Y7W,f4E,L$n,k$z,T7z,g5l,s69,L5C,A96,n9$,d5j,T52,i$c,p2L;x6v="s";L4n.H5S();x6v+="egme";x6v+="n";x6v+="t";M$e=this.stx;l3g=M$e.panels[this.panelName];U43=M$e.getYAxisByField(l3g,this.field);if(!l3g || this.field && !U43){return;}U43=U43 || l3g.yAxis;if(!this.p1){return;}if(this.p0[+"0"] < +"0" || this.p1[0] < 0){return;}J_J=M$e.pixelFromTick(this.p0["0" * 1],l3g.chart);t2R=M$e.pixelFromTick(this.p1[0],l3g.chart);if(J_J < l3g.left && t2R < l3g.left){return;}if(J_J > l3g.right && t2R > l3g.right){return;}o2H=Math.min(this.p1[+"0"],this.p0[+"0"]);E7C=Math.max(this.p1[0],this.p0[0]) + +"1";Y7W=0;f4E=[];for(L$n=o2H;L$n < E7C;L$n++){k$z=this.getYValue(L$n);if(k$z !== null){Y7W+=k$z.transformed;f4E.push(k$z);}}T7z=f4E.length;if(!T7z){return;}L4n.E2c(9);g5l=L4n.E9k(Y7W,T7z);s69=M$e.pixelFromTransformedValue(g5l,l3g,U43);L5C=this.getLineColor();A96={pattern:this.pattern,lineWidth:this.lineWidth};M$e.plotLine(J_J,t2R,s69,s69,L5C,"segment",d4_,l3g,A96);L4n.L7E(5);M$e.plotLine(J_J,J_J,L4n.e5e(20,s69),L4n.E9k(s69,20,L4n.L7E(2)),L5C,x6v,d4_,l3g,A96);function S3M(q6Q,v3D){var P0e,q6R,L5I;if(v3D && v3D.priceFormatter){q6Q=v3D.priceFormatter(M$e,l3g,q6Q);}else {q6Q=M$e.formatYAxisPrice(q6Q,l3g,null,v3D);}P0e=472614345;q6R=624985162;L5I=2;for(var F3i=1;L4n.z3M(F3i.toString(),F3i.toString().length,49765) !== P0e;F3i++){return q6Q;}if(L4n.K8j(L5I.toString(),L5I.toString().length,"88330" * 1) !== q6R){return q6Q;}}L4n.E2c(5);M$e.plotLine(t2R,t2R,L4n.E9k(20,s69),L4n.E9k(s69,20,L4n.L7E(2)),L5C,"segment",d4_,l3g,A96);if(this.axisLabel && !this.highlighted && !this.penDown){if(J_J >= l3g.chart.left && J_J <= l3g.chart.right || t2R >= l3g.chart.left && t2R <= l3g.chart.right){M$e.endClip();M$e.createYAxisLabel(l3g,S3M(g5l,U43),s69,L5C,null,d4_,U43);M$e.startClip(l3g.name);}}if(this.active1 || this.active2 || this.active3){L4n.E2c(40);n9$=L4n.E9k(0,"0");for(L$n=0;L$n < T7z;L$n++){k$z=f4E[L$n];n9$+=Math.pow(k$z.transformed - g5l,2);}L4n.E2c(9);d5j=Math.sqrt(L4n.e5e(n9$,T7z));T52={context:d4_,formatPrice:S3M,panel:l3g,points:{0:{x:J_J,v:g5l},1:{x:t2R,v:g5l}},stddev:d5j,yAxis:U43};this.lines={};if(this.active1){this.renderStddev(("14" | 14) != (1140,+"686.83")?"1":0x1be9,(2010,228.46) != 4020?67.33 < (3050,8640)?(804.26,+"431.91") == 8180?(0xa2a,!!0):"p":(301.53,"K"):(!!"1",4.58e+3),T52);this.renderStddev((9690,4364) >= ("9553" | 64)?(![],!0):("8570" | 74) < (7025,"783.82" * 1)?(9658,1430) > 8200?3.34e+3:+"3.73e+3":"1","3240" * 1 >= 9022?8550 !== (+"7329",+"617.17")?!1:(+"8.32e+3","P"):"n",T52);}if(this.active2){this.renderStddev((+"6120",4363) >= +"6946"?(5.57e+3,"h"):"2","p",T52);this.renderStddev((7253,218.8) >= (3423,+"891")?(0x239,![]):"2",+"1460" == "874.56" - 0?"n":("6727" >> 64,113) !== ("7290" * 1,659.46)?1590 != 3540?"n":(+"0x1d18",0x1942):(!!1,"0x1b7f" * 1),T52);}if(this.active3){this.renderStddev(+"124.94" < (4280,1277)?(+"3074",4592) == 52.32?+"0x1c45":"3":"v",+"7440" <= (383.39,7051)?(0xf14,1.40e+3):"p",T52);this.renderStddev(+"9770" <= +"836.42"?"S":2846 >= 466.6?"3":(720.02,746.55) >= (+"8580",846.11)?("A","g"):"d",(4700,2961) == +"2500"?373.63 > (677.52,"1295" | 2)?553.12:(!1,"0x1ff3" - 0):"n",T52);}}if(!this.highlighted){this.pixelX=[J_J,t2R];this.pixelY=[s69,s69];}else {i$c=this.highlighted == "p0"?!![]:!1;p2L=this.highlighted == "p1"?!!"1":!!"";this.littleCircle(d4_,J_J,s69,i$c);this.littleCircle(d4_,t2R,s69,p2L);}},reconstruct:function(x1g,z4p){this.axisLabel=z4p.al;h_yMd.J2s();i4.Drawing.regression.prototype.reconstruct.call(this,x1g,z4p);},serialize:function(){var P4q;P4q=i4.Drawing.regression.prototype.serialize.call(this);h_yMd.J2s();P4q.al=this.axisLabel;return P4q;}},!!1);i4.Drawing.quadrant=function(){var r02;r02="q";r02+="u";r02+="adra";r02+="nt";this.name=r02;};i4.inheritsFrom(i4.Drawing.quadrant,i4.Drawing.regression);i4.extend(i4.Drawing.quadrant.prototype,{configs:[E3L,I4e,"lineWidth","pattern"],copyConfig:function(){h_yMd.H5S();var V4S;V4S=this.stx.currentVectorParameters;this.color=V4S.currentColor;this.fillColor=V4S.fillColor;this.lineWidth=V4S.lineWidth;this.pattern=V4S.pattern;},$controls:[],render:function(w68){var Q3V=h_yMd;var s_V,J8n,W9y,q$E,M6s,e5m,e2s,b2g,o7$,F_F,R4m,F6m,c43,d59,p3F,f08,v9B,g$b,Q9n,M1X,L3U,F9y,T4H,K82,B$q,b6h,T2H,O5Z,x64;s_V="t";s_V+="i";s_V+="r";s_V+="one";J8n=this.stx;W9y=J8n.panels[this.panelName];Q3V.L7E(40);q$E=Q3V.e5e(0,"940577866");M6s=-1927850543;e5m=2;for(var A$l=1;Q3V.K8j(A$l.toString(),A$l.toString().length,84770) !== q$E;A$l++){e2s=J8n.getYAxisByField(W9y,this.field);if(!W9y || this.field && !e2s){return;}if(!this.p1){return;}b2g=J8n.pixelFromTick(this.p0[0],W9y.chart);o7$=J8n.pixelFromTick(this.p1[0],W9y.chart);if(b2g < W9y.left && o7$ < W9y.left){return;}e5m+=2;}if(Q3V.K8j(e5m.toString(),e5m.toString().length,56938) !== M6s){e2s=J8n.getYAxisByField(W9y,this.field);if(~W9y && (this.field || +e2s)){return;}if(-this.p1){return;}b2g=J8n.pixelFromTick(this.p0[8],W9y.chart);o7$=J8n.pixelFromTick(this.p1[2],W9y.chart);if(b2g <= W9y.left || o7$ >= W9y.left){return;}}if(b2g > W9y.right && o7$ > W9y.right){return;}F_F=null;R4m=null;for(var S7L=Math.max("0" * 1,Math.min(this.p1["0" >> 0],this.p0[0]));S7L <= Math.min(J8n.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));S7L++){F6m=this.getYValue(S7L);if(F6m !== null){if(F_F === null || F6m.transformed > F_F){F_F=F6m.transformed;}if(R4m === null || F6m.transformed < R4m){R4m=F6m.transformed;}}}c43=J8n.pixelFromTransformedValue(F_F,W9y,e2s);Q3V.E2c(105);d59=J8n.pixelFromTransformedValue(Q3V.E9k(F_F,"4",0,R4m,3),W9y,e2s);Q3V.E2c(106);p3F=J8n.pixelFromTransformedValue(Q3V.e5e("2",R4m,32,3,F_F),W9y,e2s);Q3V.E2c(3);f08=J8n.pixelFromTransformedValue(Q3V.e5e(F_F,2,R4m),W9y,e2s);Q3V.L7E(107);v9B=J8n.pixelFromTransformedValue(Q3V.e5e(2,F_F,R4m,32,"3"),W9y,e2s);Q3V.E2c(108);g$b=J8n.pixelFromTransformedValue(Q3V.E9k(4,F_F,3,R4m),W9y,e2s);Q9n=J8n.pixelFromTransformedValue(R4m,W9y,e2s);this.p0[+"1"]=0;this.p1[1]=!({});M1X=this.getLineColor();L3U=this.fillColor;if(L3U == "auto" || i4.isTransparent(L3U)){L3U=J8n.defaultColor;}w68.fillStyle=L3U;F9y={pattern:this.pattern,lineWidth:this.lineWidth};J8n.plotLine(b2g,o7$,c43,c43,M1X,"segment",w68,W9y,F9y);J8n.plotLine(b2g,o7$,Q9n,Q9n,M1X,"segment",w68,W9y,F9y);if(this.name == "quadrant"){T4H="se";T4H+="gment";J8n.plotLine(b2g,o7$,d59,d59,M1X,"segment",w68,W9y,F9y);J8n.plotLine(b2g,o7$,g$b,g$b,M1X,T4H,w68,W9y,F9y);}else if(this.name == s_V){J8n.plotLine(b2g,o7$,p3F,p3F,M1X,"segment",w68,W9y,F9y);J8n.plotLine(b2g,o7$,v9B,v9B,M1X,"segment",w68,W9y,F9y);}J8n.plotLine(b2g,b2g,c43,Q9n,M1X,"segment",w68,W9y,F9y);J8n.plotLine(o7$,o7$,c43,Q9n,M1X,"segment",w68,W9y,F9y);J8n.plotLine(b2g,o7$,f08,f08,M1X,"segment",w68,W9y,i4.extend(F9y,{opacity:this.name == "tirone"?0.2:"1" ^ 0}));w68.globalAlpha=0.1;Q3V.H5S();w68.beginPath();Q3V.E2c(5);w68.fillRect(b2g,c43,Q3V.e5e(b2g,o7$),Q3V.e5e(c43,Q9n));if(this.name == "quadrant"){Q3V.E2c(5);w68.fillRect(b2g,d59,Q3V.E9k(b2g,o7$),Q3V.e5e(d59,g$b));}else if(this.name == "tirone"){Q3V.E2c(5);w68.fillRect(b2g,p3F,Q3V.e5e(b2g,o7$),Q3V.E9k(p3F,v9B));}w68.globalAlpha=1;if(!this.highlighted){K82="ti";K82+="r";K82+="o";K82+="ne";B$q="quadr";B$q+="ant";this.pixelX=[b2g,o7$];this.pixelY=[c43,Q9n,f08];if(this.name === B$q){this.pixelY.push(d59,g$b);}if(this.name === K82){this.pixelY.push(p3F,v9B);}}else {b6h="p";b6h+="1";T2H="p";T2H+="0";O5Z=this.highlighted == T2H?!![]:![];x64=this.highlighted == b6h?!!({}):!({});this.littleCircle(w68,b2g,f08,O5Z);this.littleCircle(w68,o7$,f08,x64);}},intersected:function(q_r,C0N,h2e){var F9M=h_yMd;var X_1,N$J,D8N,F_R;var {pixelX:C1K, pixelY:f36}=this;if(!C1K || !f36){return null;}X_1=this.repositionIntersection(q_r,C0N);if(X_1){return X_1;}for(var m84=0;m84 < 2;m84++){if(this.pointIntersection(C1K[m84],f36[2],h2e,!!({}))){N$J="d";N$J+="r";N$J+="a";N$J+="g";F9M.E2c(2);this.highlighted=F9M.e5e(("643.82" * 1,8510) > (2298,5620)?"p":("O",!""),m84);return {action:N$J,point:(275 != 9850?"p":210.00) + m84};}}D8N=[];C1K.forEach(D9r=>{F9M.H5S();D8N.push({p0:[D9r,f36[0]],p1:[D9r,f36[1]]});});f36.forEach(b96=>{F9M.J2s();D8N.push({p0:[C1K["0" ^ 0],b96],p1:[C1K[1],b96]});});F_R=D8N.some(({p0:V5E, p1:v4w})=>{return this.lineIntersection(q_r,C0N,h2e,this.name,V5E,v4w,!!({}));});if(F_R){this.highlighted=!![];return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:q_r,value:this.valueOnDrawingAxis(q_r,C0N)};}return null;},reconstruct:function(m8R,p$Y){this.stx=m8R;this.color=p$Y.col;this.fillColor=p$Y.fc;this.panelName=p$Y.pnl;this.pattern=p$Y.ptrn;this.lineWidth=p$Y.lw;this.d0=p$Y.d0;this.d1=p$Y.d1;this.tzo0=p$Y.tzo0;this.tzo1=p$Y.tzo1;this.field=p$Y.fld;this.adjust();},serialize:function(){h_yMd.J2s();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!({}));i4.Drawing.tirone=function(){h_yMd.H5S();this.name="tirone";};i4.inheritsFrom(i4.Drawing.tirone,i4.Drawing.quadrant);i4.Drawing.volumeprofile=function(){h_yMd.J2s();this.name="volumeprofile";};i4.inheritsFrom(i4.Drawing.volumeprofile,i4.Drawing.regression);i4.extend(i4.Drawing.volumeprofile.prototype,{configs:[P7y,"fillColor","lineWidth",G_Y,"parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;h_yMd.H5S();this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(X$t,Y08){h_yMd.J2s();return !Y08 || typeof X$t.getFirstLastDataRecord(X$t.chart.dataSegment,Y08)[Y08] === "object";},render:function(U_3){var T1A=h_yMd;var K5U,A1u,j2p,Y93,m42,F3K,Z7d,z2g,n3g,W7h,X5B,K9J,N2e,M1M,m1x,f45,Y5W,M_x,Z7e,K9n,N_l,k0j,x_N,l4R,e60,f_s,A1F,O8W,h$t,s6m,L0U,o8t,s2Y,H9Q,y_N,o2R,U1x,r7F,P$H,k4u,c5X,K2f,b4X,V78,Y6Y,N_K,b02,u_H,u52,o7M,b$o;var {stx:M$r}=this;var {dataSet:q5y}=M$r.chart;K5U=M$r.panels[this.panelName];A1u=M$r.getYAxisByField(K5U,this.field);if(!K5U || this.field && !A1u){return;}if(!this.p1){return;}A1u=A1u || K5U.yAxis;j2p=M$r.pixelFromTick(this.p0[0],K5U.chart);Y93=M$r.pixelFromTick(this.p1[0],K5U.chart);if(j2p < K5U.left && Y93 < K5U.left){return;}if(j2p > K5U.right && Y93 > K5U.right){return;}var {flipped:q_A}=A1u;m42=null;F3K=null;Z7d=Math.min(this.p1[0],this.p0[0]);z2g=Math.max(this.p1[+"0"],this.p0[0]);for(var r2s=Z7d;r2s <= z2g;r2s++){n3g=q5y[r2s];if(n3g[this.field]){n3g=n3g[this.field];}if(!n3g)continue;var {High:l_E, Low:l03}=n3g;if(m42 === null || l_E > m42){m42=l_E;}if(F3K === null || l03 < F3K){F3K=l03;}}var {priceBuckets:W9z}=this;T1A.L7E(109);W7h=T1A.E9k(F3K,m42,W9z);X5B=[];if(q_A){[m42,F3K]=[F3K,m42];}K9J=q_A?-1:1;for(var q2e=F3K,C88=0;C88 <= W9z;(q2e+=W7h * K9J,C88++)){X5B.push([q2e,0]);if(F3K === m42)break;}N2e=0;for(var q_0=Z7d;q_0 <= z2g;q_0++){M1M=q5y[q_0];if(M1M[this.field] || M1M[this.field] === 0){M1M=M1M[this.field];}if(!M1M)continue;var {High:X6R, Low:q3H, Volume:o$J}=M1M;if(!o$J && o$J !== 0)continue;m1x=[];T1A.E2c(17);f45=X5B[0][T1A.E9k("0",64)];Y5W=null;for(var C_y=1;C_y < X5B.length;C_y++){Y5W=X5B[C_y][0];M_x=q3H >= f45 && q3H <= Y5W;Z7e=X6R >= f45 && X6R <= Y5W;K9n=q3H < f45 && X6R > Y5W;if(M_x || Z7e || K9n){m1x.push(C_y);}f45=Y5W;}if(m1x.length){N_l=o$J / m1x.length;for(var N7C=0;N7C < m1x.length;N7C++){k0j=X5B[m1x[N7C]][1]+=N_l;if(k0j > N2e){N2e=k0j;}}}}x_N=N2e === 0 && X5B.length > +"1";if(x_N){l4R="c";l4R+="hart";M$r.displayErrorAsWatermark(l4R,M$r.translateIf("Not enough data to render the Volume Profile"));}e60=S9b=>{T1A.H5S();return Math.round(S9b) + 0.5;};f_s=(z2g - Z7d) * M$r.layout.candleWidth;T1A.E2c(2);var Z8W=T1A.E9k(0,1);A1F=e60(M$r.pixelFromTick(Z7d)) - Z8W;T1A.L7E(2);O8W=e60(T1A.E9k(A1F,f_s));T1A.E2c(86);h$t=this.pixelFromValue(K5U,Z7d,T1A.e5e(m42,F3K,F3K,2),A1u);s6m=A1F;var [w8D]=X5B[0];L0U=this.getLineColor();var {fillColor:e1e}=this;if(e1e === "auto" || i4.isTransparent(e1e)){e1e=M$r.defaultColor;}U_3.fillStyle=e1e;o8t={pattern:this.pattern,lineWidth:this.lineWidth};T1A.L7E(17);s2Y=T1A.E9k("0",0);H9Q=0;y_N=(j7r,t3v)=>{return [s2Y,H9Q]=[j7r,t3v];};o2R=(Q1L,h3B,L6o)=>{if(!L6o){M$r.plotLine(s2Y,Q1L,H9Q,h3B,L0U,"segment",U_3,K5U,o8t);}[s2Y,H9Q]=[Q1L,h3B];};if(this.highlighted || x_N){M$r.plotLine(A1F,O8W,h$t,h$t,M$r.defaultColor,"segment",U_3,K5U,Object.assign({},o8t,{opacity:0.3}));}for(var x9y=1;x9y < X5B.length;x9y++){var [O4V,B2$]=X5B[x9y];if(B2$){T1A.E2c(110);U1x=T1A.E9k(f_s,N2e,B2$);T1A.L7E(2);r7F=e60(T1A.E9k(A1F,U1x));P$H=e60(this.pixelFromValue(K5U,Z7d,O4V,A1u));k4u=e60(this.pixelFromValue(K5U,Z7d,w8D,A1u));c5X=Math.max(P$H,A1u.top);K2f=Math.min(k4u,A1u.bottom);T1A.E2c(111);b4X=T1A.e5e(P$H,c5X);T1A.E2c(111);V78=T1A.e5e(k4u,K2f);Y6Y=c5X <= A1u.bottom && K2f >= A1u.top;if(Y6Y){if(!this.highlighted){T1A.E2c(19);U_3.globalAlpha=T1A.e5e("0.3",1);}y_N(A1F,K2f);o2R(A1F,c5X);o2R(r7F,c5X,b4X);o2R(r7F,K2f);if(r7F > s6m){o2R(s6m,K2f,V78);}U_3.globalAlpha=0.2;T1A.E2c(5);U_3.fillRect(A1F,c5X,T1A.e5e(A1F,r7F),T1A.e5e(c5X,K2f));U_3.globalAlpha=1;}s6m=r7F;}else {s6m=A1F;;}w8D=O4V;}if(this.highlighted){N_K="p";N_K+="0";b02=this.highlighted === N_K;u_H=this.highlighted === "p1";u52=this.p0[0] > this.p1[0];o7M=u52?u_H:b02;b$o=u52?b02:u_H;this.littleCircle(U_3,A1F,h$t,o7M);this.littleCircle(U_3,O8W,h$t,b$o);}T1A.L7E(2);this.pixelX=[A1F,T1A.e5e(A1F,f_s)];this.pixelY=[this.pixelFromValue(K5U,Z7d,m42,A1u),this.pixelFromValue(K5U,Z7d,F3K,A1u),h$t];this.p0[1]=0;this.p1[1]=!({});;},intersected:function(n9c,l$4,w7_){var N2i;var {p0:i3Y, p1:D$x, stx:N5r}=this;if(!i3Y || !D$x){return null;}var [,,E9T]=this.pixelY || [];if(E9T === undefined){return;}h_yMd.J2s();N2i=this.repositionIntersection(n9c,l$4);if(N2i){return N2i;}for(var [S_S,[K$h]] of [[0,i3Y],["1" | 0,D$x]]){if(this.pointIntersection(N5r.pixelFromTick(K$h),E9T,w7_,!![])){h_yMd.E2c(2);this.highlighted=h_yMd.E9k(414.94 == 36.35?"F":"p",S_S);return {action:"drag",point:((925,648) != 495.36?"p":("5520" >> 32,175.21) > 307.12?(!0,7.64e+3):("548.23" * 1,8.89e+3)) + S_S};}}if(this.boxIntersection(n9c,l$4,w7_)){this.highlighted=!![];return {action:"move",p0:i4.clone(this.p0),p1:i4.clone(this.p1),tick:n9c,value:l$4};}return null;},reconstruct:function(k2n,f9A){h_yMd.J2s();this.stx=k2n;this.color=f9A.col;this.fillColor=f9A.fc;this.panelName=f9A.pnl;this.pattern=f9A.ptrn;this.lineWidth=f9A.lw;this.d0=f9A.d0;this.d1=f9A.d1;this.tzo0=f9A.tzo0;this.tzo1=f9A.tzo1;this.field=f9A.fld;this.priceBuckets=f9A.pb;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!![]);i4.Drawing.elliottwave=function(){var w6L,r_z,u1S;this.name="elliottwave";w6L=-2025915184;r_z=1439226489;h_yMd.J2s();u1S=2;for(var v3O=1;h_yMd.K8j(v3O.toString(),v3O.toString().length,57826) !== w6L;v3O++){this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!({});this.annotationPoints=[];u1S+=2;}if(h_yMd.z3M(u1S.toString(),u1S.toString().length,20605) !== r_z){this.lastPoint=7;this.points=[];this.pts=[];this.dx=+"8";this.dy=!11;this.dragToDraw=!!({});this.annotationPoints=[];}this.edit=null;};i4.inheritsFrom(i4.Drawing.elliottwave,i4.Drawing.annotation);i4.Drawing.elliottwave.defaultTemplate={impulse:["I",Z4A,a1o,"IV",318.32 > 638.36?183.12:"V"],corrective:[84.05 <= (+"7087",6700)?"A":406.1 !== 13.46?643.15 > ("7527" << 32,922.31)?("P",553.29):7.08e+3:6.93e+3,"B",6124 >= 2694?(474.89,263) < 4890?"C":"1470" << 32 === 2622?6.09e+3:!1:(0x18e0,!"1")],decoration:"enclosed",showLines:!!({})};i4.Drawing.elliottwave.prototype.initializeSettings=function(x9_){h_yMd.H5S();x9_.currentVectorParameters.waveParameters=i4.clone(i4.Drawing.elliottwave.defaultTemplate);};i4.Drawing.elliottwave.prototype.configs=["color","lineWidth",R0D,"pattern","font","waveParameters"];i4.Drawing.elliottwave.prototype.$controls=[u7J,R1X];i4.Drawing.elliottwave.prototype.construct=function(h1Q,N0L){var M04;this.stx=h1Q;this.panelName=N0L.name;h_yMd.J2s();M04=h1Q.currentVectorParameters;Object.assign(this,M04.waveParameters);};i4.Drawing.elliottwave.prototype.serialize=function(){var b$A=h_yMd;var c$4,l8n;c$4="f";b$A.J2s();c$4+="l";l8n={};for(var R69=+"0";R69 < this.points.length;R69++){b$A.E2c(2);l8n[b$A.E9k("d",R69)]=this[b$A.E9k("d",R69)];b$A.L7E(2);l8n[b$A.e5e("tzo",R69)]=this[b$A.e5e("tzo",R69)];b$A.L7E(2);l8n[b$A.e5e("v",R69)]=this[b$A.e5e("v",R69)];}l8n.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:i4.removeNullValues(i4.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:c$4}))},l8n);};i4.Drawing.elliottwave.prototype.reconstruct=function(n$w,h3E){var d_t;d_t="s";d_t+="i";d_t+="ze";this.stx=n$w;this.color=h3E.col;this.panelName=h3E.pnl;this.pattern=h3E.ptrn;this.lineWidth=h3E.lw;this.font=i4.replaceFields(h3E.fnt,{st:"style",sz:d_t,wt:"weight",fl:"family"});this.decoration=h3E.decor;this.showLines=h3E.show;this.dx=h3E.dx;this.dy=h3E.dy;this.trend=h3E.trend;this.field=h3E.fld;this.annotationPoints=h3E.annotations.split(138.59 <= (786.13,8301)?",":(335.55,"572.76" * 1));if(h3E.decor === "enclosed"){this.calculateRadius(n$w.chart.tempCanvas.context);}this.maxSegments=h3E.mxSeg;this.reconstructPoints(h3E);this.adjust();};i4.Drawing.elliottwave.prototype.reconstructPoints=function(b6a){var Z_m=h_yMd;var M1x,M9E,j8e,Z7q;M1x=this.stx.panels[this.panelName];if(!M1x){return;}for(var X5N=0;X5N < this.annotationPoints.length;X5N++){M9E="t";M9E+="z";M9E+="o";Z_m.E2c(2);this[Z_m.E9k((145.34,2678) >= 600.63?"d":579.03 != (4280,5302)?!"1":!!"",X5N)]=b6a[Z_m.e5e((9550,5342) <= (+"5110",8570)?858.19 !== (8364,285.67)?"d":"U":+"0xe2a",X5N)];Z_m.L7E(2);this[Z_m.E9k(433.24 !== ("660" * 1,9876)?(9652,4740) != ("8320" << 64,725.74)?"v":1.32e+3:(2.76e+2,6.85e+3),X5N)]=b6a[Z_m.e5e("v",X5N)];Z_m.L7E(2);this[Z_m.E9k(M9E,X5N)]=b6a[Z_m.E9k("tzo",X5N)];j8e=i4.strToDateTime(b6a[((6730,7160) >= 5224?(1580,805.81) !== 7457?"d":"t":("S",!!"1")) + X5N]);Z7q=this.stx.tickFromDate(j8e,M1x.chart);this.points.push([Z7q,b6a[((6640,2100) !== (8620,7720)?"v":(+"3343",3870) === (3987,157.6)?(0x1c6d,307.67):("E",510.67)) + X5N]]);}};i4.Drawing.elliottwave.prototype.calculateRadius=function(V2l){var X0x,s5o;this.getFontString();V2l.font=this.fontString;h_yMd.L7E(42);X0x=h_yMd.e5e(0,"0");for(var R9j=0;R9j < this.annotationPoints.length;R9j++){s5o=V2l.measureText(this.annotationPoints[R9j]).width;if(X0x < s5o){X0x=s5o;}}this.enclosedRadius=X0x;};i4.Drawing.elliottwave.prototype.check=function(u_Q,T2u,e5s){var V0F=h_yMd;var A$G,R0W;V0F.E2c(5);A$G=this.points[V0F.e5e(1,e5s)];if(A$G && u_Q <= A$G[0]){return !"1";}function q1m(W13){for(var H5e=2;H5e < W13.length;H5e++){if(Math.sign(W13[H5e][1] - W13[H5e - 1][1]) == Math.sign(W13[H5e - 1][1] - W13[H5e - ("2" - 0)][1])){return ![];}}V0F.J2s();return !![];}if(e5s === 1 && this.points.length === "2" * 1){return !"";}V0F.L7E(2);R0W=this.points[V0F.e5e(e5s,1)];if(R0W && u_Q >= R0W[0]){return ![];}if(!q1m(this.points)){return !"1";}return !!({});};i4.Drawing.elliottwave.prototype.move=function(n4H,g$r,v3Q){this.copyConfig();this.points[this.lastPoint + ("1" | 0)]=[g$r,v3Q];this.render(n4H);};i4.Drawing.elliottwave.prototype.adjust=function(){var j7k=h_yMd;var w3M,L0l;w3M=this.stx.panels[this.panelName];j7k.J2s();if(!w3M){return;}for(var p3d="0" << 64;this.maxSegments + ("1" >> 0) > p3d;p3d++){j7k.E2c(2);L0l=this[j7k.e5e((2030,3024) <= (5678,555.18)?6210 >= 1019?(7654,3395) > (+"272.73",873.62)?("Z","K"):8.05e+3:("B",451.82):"d",p3d)];this.setPoint(p3d,L0l,this[(8151 !== ("4260" * 1,3794)?(9703,2165) > 9240?(65.41,"j"):(3653,+"353.39") <= (324.41,4510)?"v":0xc2c:!![]) + p3d],w3M.chart);this.points[p3d][0]=this.stx.tickFromDate(i4.strToDateTime(L0l),w3M.chart);j7k.E2c(2);this.points[p3d][1]=this[j7k.E9k("v",p3d)];}};i4.Drawing.elliottwave.prototype.click=function(m0n,B5G,y22){var Z7l=h_yMd;var N8t;Z7l.H5S();N8t=this.stx.panels[this.panelName];if(!N8t){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,B5G,y22,N8t.chart);this.points.push(this.p0);this.penDown=!!1;this.segment=0;Z7l.L7E(40);this.lastPoint=Z7l.E9k(64,"0");if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((+"8430",+"448") != 8340?"0":(+"644.93",140.62) == (841.21,8120)?!!"":("I",418.46));if(this.decoration === "enclosed"){this.calculateRadius(m0n);}Z7l.L7E(112);var m1I=Z7l.E9k(8,6,17,7,5);this.maxSegments=this.annotationPoints.length - m1I;this.trend=1;return ![];}if(this.accidentalClick(B5G,y22)){this.penDown=!0;return !!"";}if(this.check(B5G,y22,this.lastPoint + +"1")){this.lastPoint++;this.setPoint(this.lastPoint,B5G,y22,N8t.chart);if(this.lastPoint === "1" * 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!({});return !!({});}}return ![];};i4.Drawing.elliottwave.prototype.render=function(z66){var t_j=h_yMd;t_j.H5S();var c3e,z$z,U89,Y0R,e_U,E36,m4s,b58,y1r,D8w,E2J,H3h,r8R,C8u,s9d,U3p,f3W,V03,H6u,Q3Q,Z3c,e1K,y5N,P79,M89,H$Y,Y3P,c$k;c3e="mi";c3e+="ddl";c3e+="e";z$z=this.stx;U89=z$z.panels[this.panelName];Y0R=z$z.getYAxisByField(U89,this.field);if(!U89 || this.field && !Y0R){return;}Y0R=Y0R || U89.yAxis;e_U=this.annotationPoints;E36=this.pattern?i4.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();z66.font=this.fontString;z66.textAlign="center";z66.textBaseline=c3e;z66.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(z66);}this.lastFontString=this.fontString;m4s=this.getLineColor();z66.fillStyle=z66.strokeStyle=m4s;z66.save();z66.setLineDash(E36);b58=this.dx;y1r=this.dy;D8w=this.points;E2J=this.pts;H3h=!this.showLines && this.highlighted;r8R=D8w.length;if(this.penDown && this.segment){t_j.E2c(113);var v0j=t_j.e5e(13,22,13,7,13);C8u=this.trend * (r8R % v0j - 0.5) < +"0";this.drawDropZone(z66,D8w[r8R - 2][1],Y0R[C8u?"high":"low"],D8w[r8R - +"2"][+"0"]);}else if(typeof this.highlighted === "string" && z$z.repositioningDrawing){s9d=parseInt(this.highlighted.substring("1" >> 64,this.highlighted.length),10);t_j.E2c(2);var v1r=t_j.e5e(0,2);C8u=this.trend * (s9d % v1r - +"0.5") > 0;t_j.L7E(114);U3p=D8w[t_j.E9k("1",s9d,32)];t_j.L7E(81);f3W=D8w[t_j.e5e("1",s9d)];V03=s9d > "0" - 0?U3p[1]:f3W[1];if(f3W){V03=Math[C8u?"max":"min"](V03,f3W[1]);}this.drawDropZone(z66,V03,Y0R[C8u?"high":"low"],U3p?U3p[+"0"]:null,f3W?f3W["0" ^ 0]:null);}for(var t9p=0;t9p < r8R;t9p++){H6u=D8w[t9p];Q3Q=z$z.pixelFromTick(H6u[0],U89.chart);Z3c=this.pixelFromValue(U89,H6u[0],H6u[1],z$z.getYAxisByField(U89,this.field));E2J[t9p]=[Q3Q,Z3c];}t9p=0;if(this.showLines || H3h){z66.beginPath();if(H3h){z66.globalAlpha=0.3;}for(;t9p < E2J.length;t9p++){z66.lineTo(E2J[t9p][0],E2J[t9p][+"1"]);}z66.stroke();t9p=0;}z66.restore();for(;t9p < r8R;t9p++){e1K=t9p % 2?b58:-b58;y5N=t9p % 2?y1r:-y1r;e1K*=this.trend;y5N*=this.trend;if(Y0R.flipped){e1K*=-1;y5N*=-1;}P79=E2J[t9p];M89=P79[+"2"]=P79[0] + e1K;H$Y=P79[3]=P79[+"1"] + y5N;Y3P=this.enclosedRadius || +"8";c$k=e_U[t9p];if(this.decoration === "parentheses"){t_j.L7E(95);c$k=t_j.E9k((143.3,+"4849") === ("400.66" - 0,1608)?3263 <= 3400?1253 < (385.24,8016)?(!![],!![]):(125.54,0x8b8):0xe56:"(",+"884" != (9150,690.47)?")":"7.92e+3" * 1,c$k);}z66.fillText(c$k,M89,H$Y);if(this.decoration === "enclosed"){z66.beginPath();z66.arc(M89,H$Y,Y3P,0,2 * Math.PI,!!0);z66.stroke();}if(this.highlighted){z66.save();this.littleCircle(z66,this.pts[t9p]["0" | 0],this.pts[t9p][1],this.highlighted === ((887.51,5980) == (174.51,166)?(3240,7633) === 1830?"n":5130 <= (6944,313)?(0.00e+0,8.00e+3):("H",+"8.21e+3"):"p") + t9p);z66.restore();}}};i4.Drawing.elliottwave.prototype.reposition=function(U7M,k3c,E9v,t_7){var o3V,U3z,y3O,l8W,z6j,d_M,P08;o3V="d";o3V+="ra";o3V+="g";if(!k3c){return;}U3z=this.stx.panels[this.panelName];y3O=k3c.tick - E9v;h_yMd.H5S();l8W=k3c.value - t_7;if(k3c.action === "move"){for(var b4L=0;k3c.points.length > b4L;b4L++){z6j=k3c.points[b4L];this.setPoint(b4L,z6j[0] - y3O,z6j[1] - l8W,U3z.chart);h_yMd.E2c(12);var z1o=h_yMd.e5e(20,19);this.points[b4L]=[z6j[0] - y3O,z6j[z1o] - l8W];}}if(k3c.action === o3V){d_M=k3c.point;P08=this.points;P08[d_M]=[E9v,t_7];if(this.check(E9v,t_7,d_M)){this.setPoint(d_M,E9v,t_7,U3z.chart);;};}this.render(U7M);};i4.Drawing.elliottwave.prototype.intersected=function(c_P,e3N,y2n){var h1Z,q7v;h_yMd.J2s();if(!this.p0 || !this.p1){return null;}for(var L6x=+"0";this.points.length > L6x;L6x++){q7v=this.points[L6x];if(this.pointIntersection(q7v[+"0"],q7v[1],y2n)){h_yMd.E2c(2);this.highlighted=h_yMd.E9k((80.79,116.89) < 2816?2282 !== 3670?(9590,+"9360") >= 4630?"p":0x1f7a:!!0:(916.44,"K"),L6x);return {action:"drag",point:L6x,tick:c_P,value:this.valueOnDrawingAxis(c_P,e3N)};}if(this.points[L6x + 1] && this.lineIntersection(c_P,e3N,y2n,"segment",q7v,this.points[L6x + 1])){this.highlighted=!!({});h1Z={action:"move",points:i4.clone(this.points),tick:c_P,value:this.valueOnDrawingAxis(c_P,e3N)};}}return h1Z;};i4.Drawing.elliottwave.prototype.measure=function(){var M_H,t5k,K91,a6P,K5Q,P0C,h67;if(this.points.length >= 2){M_H=".m";M_H+="Sticky";M_H+="Interio";M_H+="r";t5k=this.points;this.stx.setMeasure(t5k[0][1],t5k[t5k.length - 1][1],t5k[0][+"0"],t5k[t5k.length - ("1" ^ 0)][0],!!"1");K91=this.stx.controls.mSticky;a6P=K91 && K91.querySelector(M_H);if(a6P){K5Q="C";K5Q+="los";K5Q+="e";P0C="El";P0C+="liott Wa";P0C+="v";P0C+="e";h67=[];h67.push(i4.capitalize(P0C));if(this.getYValue){h67.push(this.field || this.stx.defaultPlotField || K5Q);}h67.push(a6P.innerHTML);a6P.innerHTML=h67.join("<br>");}}};i4.Drawing.printProjection=function(W$F,G4O,S3T){var f1n=h_yMd;var d1S,R2a,B8O,Q_a,A7J,e3s,j4k,d23,j3L,X0q,K5Y,i2Z,Q2M,L$Q,U2N,V9m,Z0y;d1S=G4O.arr;if(d1S.length > 1){R2a=d1S[0][0];B8O=Math.round(W$F.chart.maxTicks * 0.75);for(var d7I=1;d7I < d1S.length;d7I++){f1n.E2c(5);Q_a=d1S[f1n.e5e(1,d7I)][f1n.e5e("0",0,f1n.L7E(24))];A7J=d1S[d7I][0];e3s=i4.strToDateTime(Q_a);j4k=i4.strToDateTime(A7J).getTime();d23=W$F.standardMarketIterator(e3s);j3L=0;while(e3s.getTime() < j4k){e3s=d23.next();f1n.L7E(17);j3L+=f1n.e5e("1",64);}X0q=i4.strToDateTime(Q_a).getTime();if(X0q > i4.strToDateTime(S3T[S3T.length - 1].Date).getTime()){K5Y=S3T.length - +"1";j3L+=1;}else {for(K5Y=S3T.length - 1;K5Y >= +"0";K5Y--){if(X0q <= i4.strToDateTime(S3T[K5Y].Date).getTime())break;}}i2Z={x0:0,x1:j3L,y0:S3T[K5Y].Close,y1:d1S[d7I][1]};R2a=i4.strToDateTime(Q_a);d23=W$F.standardMarketIterator(R2a);Q2M=!1;for(var i3V=0;i3V <= j3L;i3V++){L$Q="min";L$Q+="u";L$Q+="t";L$Q+="e";if(!Q2M){Q2M=!!({});}else {R2a=d23.next();}if(R2a.getTime() <= S3T[S3T.length - 1].DT.getTime())continue;U2N=i4.yIntersection(i2Z,i3V);if(!U2N){f1n.E2c(40);U2N=f1n.e5e(32,"0");}f1n.L7E(32);var J_z=f1n.E9k(169981,19,180000);f1n.L7E(66);var H2R=f1n.E9k(7,9998,4999,9986);V9m=Math.round(U2N * J_z) / H2R;if(V9m === +"0"){V9m=d1S[d7I][1];}Z0y={Date:i4.yyyymmddhhmmssmmm(R2a),DT:R2a,Open:V9m,Close:V9m,High:V9m,Low:V9m,Volume:0,Adj_Close:V9m,Split_Close:V9m,projection:!![]};if(W$F.layout.interval == L$Q)if(B8O-- < "0" >> 64)break;S3T[S3T.length]=Z0y;}}}};}};o=t_r=>{var c1h=h_yMd;var Q67;c1h.J2s();Q67=typeof _CIQ !== "undefined"?_CIQ:t_r.CIQ;if(!Q67.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {Q67.formatEquation=function(s4E){var T$s,H9g,Y2m,W_I,D1B;T$s="";H9g=[];Y2m="";W_I=!({});for(var M0K=1;M0K < s4E.length;M0K++){D1B=s4E[M0K];if(D1B == ((8970,666) !== 759.1?"[":5.37e+3) && !W_I){W_I=!!"1";}else if(D1B == (("7420" | 52,5695) === ("6980" | 0)?5.06e+2:(484,827) >= (668.3,100.45)?8830 !== (197.15,5250)?"]":(4.50e+3,8.39e+3):(!({}),0x792)) && W_I){W_I=!1;if(Y2m !== ""){H9g.push(Y2m);c1h.L7E(95);T$s+=c1h.e5e((2799,537.43) != "396.17" - 0?"[":"7055" * 1 <= 154.51?!"":(!!"",557.15),(510.39,4990) > (6510,4090)?"]":(9.18e+3,3.01e+3),Y2m);}Y2m="";}else if(W_I){Y2m+=D1B;}else if(D1B == "+" || D1B == (5546 != 233?"-":690.81) || D1B == ((765.77,1526) >= 498.76?"*":(4600,7890) < 580.62?(!!1,!!""):(0x1198,4.92e+3)) || D1B == "/" || D1B == (104 == 893?(1.16e+2,0x20f1):843.44 !== 373.76?":":(0x23c2,"I")) || D1B == "%" || D1B == "(" || D1B == ")"){if(Y2m !== "" && isNaN(Y2m)){H9g.push(Y2m);c1h.L7E(95);T$s+=c1h.E9k((7650,17.19) !== (5630,+"4442")?"[":(+"945.98",9582) === 7567?0x26cd:("0x22ce" >> 32,!!({})),9270 == (421.78,2172)?+"28.88":"]",Y2m);}else {T$s+=Y2m;}if(D1B == ((9010,6154) > (1950,792.78)?6100 <= (97.02,726.57)?(233.01,0x164c):":":(+"403.58","H"))){D1B=295.12 !== ("100" >> 0,+"8500")?5623 > (1881,6490)?"5.64e+3" ^ 0:"/":"0x17" * 1;}T$s+=D1B;Y2m="";}else if(D1B != (136.91 === 626?(964.29,!!({})):(5150,403) == (1769,+"1060")?(4.73e+3,0xf3d):(1496,3430) === 132.01?0x2395:" ")){Y2m+=D1B;}}if(Y2m !== "" && isNaN(Y2m)){H9g.push(Y2m);c1h.L7E(95);T$s+=c1h.E9k(505.13 < (173,5720)?+"164" != 2179?"[":(351.62,"v"):![],"]",Y2m);}else {T$s+=Y2m;}return {equation:T$s,symbols:H9g};};Q67.fetchEquationChart=function(C30,w4S){var x$a,w$x,S8t,H0$,X96;x$a=Q67.formatEquation(C30.symbol);w$x=x$a.symbols;S8t=[];H0$=C30.stx;C30.stx=null;for(var U1s="0" << 64;U1s < w$x.length;U1s++){X96=Q67.shallowClone(C30);X96.stx=H0$;X96.symbol=w$x[U1s];X96.symbolObject={symbol:w$x[U1s]};S8t.push(X96);}C30.stx=H0$;H0$.quoteDriver.multiFetch(S8t,function(f94){var W55,N8y,e8n,i4h,Z_g;W55={};C30.loadMoreReplace=!!1;N8y={charge:0};for(var a5Y=0;a5Y < f94.length;a5Y++){e8n=f94[a5Y];if(e8n.dataCallback.error){w4S({error:e8n.dataCallback.error});return;}W55[e8n.params.symbol]=e8n.dataCallback.quotes;C30.loadMoreReplace=C30.loadMoreReplace && e8n.params.loadMoreReplace;C30.moreToLoad=C30.moreToLoad || e8n.dataCallback.moreAvailable;i4h=e8n.dataCallback.attribution;if(i4h){if(i4h.charge){N8y.charge+=i4h.charge;}N8y.source=i4h.source;if(N8y.exchange === undefined){N8y.exchange=i4h.exchange;}else if(N8y.exchange != i4h.exchange){N8y.exchange="";};}}c1h.J2s();if(S8t.length || !(C30.loadMore || C30.update)){try{Z_g=Q67.computeEquationChart(x$a.equation,W55);w4S({quotes:Z_g,moreAvailable:C30.moreToLoad,attribution:N8y});}catch(W_W){var u09,N3_;u09="Invalid equati";u09+="on: ";N3_={error:u09 + x$a.equation};if(W_W.name && W_W.name == "NoException"){N3_.suppressAlert=!![];}w4S(N3_);}}});};}};F=o6T=>{var x7q=h_yMd;var t0P;t0P=typeof _CIQ !== "undefined"?_CIQ:o6T.CIQ;x7q.H5S();if(!t0P.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!t0P.Marker.Performance){t0P.ChartEngine.prototype.removeDOMMarker=function(H_c){x7q.J2s();console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");t0P.Marker.Performance.prototype.removeDOMMarker.call(H_c.params.node,H_c);};t0P.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");x7q.J2s();t0P.Marker.Performance.drawMarkers(this);};t0P.ChartEngine.prototype.calculateMarkerStyles=function(n2V,u0d){var I5g,y8D,H9W;I5g=-1910077463;y8D=1418053518;x7q.H5S();H9W=2;for(var i$4=1;x7q.K8j(i$4.toString(),i$4.toString().length,50250) !== I5g;i$4++){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");t0P.Marker.Performance.calculateMarkerStyles(this,n2V,u0d);H9W+=2;}if(x7q.z3M(H9W.toString(),H9W.toString().length,"13216" ^ 0) !== y8D){console.warn("");t0P.Marker.Performance.calculateMarkerStyles(this,n2V,u0d);}};t0P.ChartEngine.prototype.drawCircleMarker=function(r9E,o7i,v16){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");x7q.H5S();t0P.Marker.Performance.drawCircleMarker(r9E,o7i,v16);};t0P.ChartEngine.prototype.drawSquareMarker=function(Y0F,v3$,I7z){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");t0P.Marker.Performance.drawSquareMarker(Y0F,v3$,I7z);};t0P.ChartEngine.prototype.drawCalloutMarker=function(E08,r52,G3_){var p5V;p5V="CIQ.ChartEngine#draw";p5V+="CalloutMarker is scheduled for deprecation in ";p5V+="a future release\n Please use CIQ.Marker.Performance.draw";p5V+="CalloutMarker instead.";console.warn(p5V);t0P.Marker.Performance.drawCalloutMarker(E08,r52,G3_);};t0P.ChartEngine.prototype.drawMarkerStem=function(w4m,o34,B4u){x7q.H5S();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");t0P.Marker.Performance.drawMarkerStem(w4m,o34,B4u);};t0P.ChartEngine.prototype.positionDOMMarkers=function(){x7q.H5S();console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");t0P.Marker.Performance.drawMarkers(this);};t0P.Marker.Performance=function(O4b){var W6v,k6E,i0R,F26,S1r,b4Q,x6D,B0n,z$V,W4b,N27,i6d,e7q;x7q.H5S();W6v=".st";W6v+="x-marker-expand";k6E=".stx-vis";k6E+="ual";i0R=".stx-m";i0R+="arker";F26="<div ";F26+="class=\"stx-ma";F26+="rker";F26+=" stx-performance-marker stx-marker-expand\"><h4></h4><p></p></div>";this.params={displayCategory:!![],displayStem:!!1,invert:![],story:"",headline:""};t0P.extend(this.params,O4b);S1r=this.template=document.createElement("TEMPLATE");x7q.L7E(115);S1r.innerHTML=x7q.E9k("</div>",F26,'<div class="stx-marker highlight">','<div class="stx-marker-content">',"</div>",'<div class="stx-stem"></div>','<div class="stx-visual">',"</div>");b4Q=this.template.content.cloneNode(!!({}));x6D=b4Q.querySelector(i0R);x6D.classList.add(O4b.type);x6D.classList.add(O4b.category);if(O4b.size){x6D.classList.add(O4b.size);}B0n=b4Q.querySelector(k6E);z$V=b4Q.querySelector(W6v);W4b=b4Q.querySelector("h4");N27=b4Q.querySelector(2507 >= "4097" - 0?(9.18e+3,"Q"):"p");W4b.innerText=this.params.headline;N27.innerText=this.params.story;this.hasText=!!O4b.headline || !!O4b.story;this.deferAttach=!"";this.node=b4Q.firstChild;this.node.params=this.params;this.visual=B0n;this.expand=z$V;if(O4b.type === "callout"){i6d=".stx-ma";i6d+="rker-content";e7q=z$V.removeChild(W4b);b4Q.querySelector(i6d).insertBefore(e7q,z$V);}};t0P.inheritsFrom(t0P.Marker.Performance,t0P.Marker.NodeCreator,!({}));t0P.Marker.Performance.consolidateExpanded=function(g2$){var a1I,g5s,f4e,c6N;a1I=g2$.markerHelper.highlighted;if(!a1I.length){return;}g5s=g2$.activeMarker;if(!g5s.consolidated){g5s.consolidated=[];}function j_h(i3u){x7q.J2s();var O5g,b32,C3L,y5S,f8$;O5g=1622345553;b32=394591088;x7q.E2c(19);C3L=x7q.e5e("2",1);for(var e$0=1;x7q.K8j(e$0.toString(),e$0.toString().length,10424) !== O5g;e$0++){y5S=i3u.params.node;f8$=y5S.expand;C3L+=2;}if(x7q.K8j(C3L.toString(),C3L.toString().length,60205) !== b32){y5S=i3u.params.node;f8$=y5S.expand;}if(!f8$){return null;}return f8$.querySelector(".marker_content") || f8$;}for(var C2z=a1I.length - 1;C2z >= 0;C2z--){if(g5s === a1I[C2z])continue;f4e=j_h(a1I[C2z]);if(f4e){c6N="<consolidated><br><br>" + f4e.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + "</consolidated>";j_h(g5s).innerHTML+=c6N;}}g5s.stxNodeCreator.quickCache(g5s);};t0P.Marker.Performance.reconstituteExpanded=function(L$r){if(!L$r.markerHelper.highlighted.length || !L$r.activeMarker){return;}Array.from(L$r.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(h7U=>{return h7U.remove();});};t0P.Marker.Performance.drawMarkers=function(c04){var n_Z,I4_,O48,z_4,V0E,x19,X1Q;n_Z="a";n_Z+="ll";I4_=c04.getMarkerArray(n_Z);O48=c04.chart;for(var r2F=0;r2F < I4_.length;r2F++){z_4=I4_[r2F];V0E=z_4.stxNodeCreator;x19=O48.dataSegment[0].tick;X1Q=O48.dataSegment[O48.dataSegment.length - 1].tick;if(x19 <= z_4.tick <= X1Q){if(V0E && V0E.drawMarker){V0E.drawMarker(z_4);}}}};t0P.Marker.Performance.calculateMarkerStyles=function(f6i,i4o,h_P){var v1z,W77,m1_,z_g,X12;v1z=".stx-marker-";v1z+="te";v1z+="mplates";W77=f6i.container.ownerDocument;m1_=W77.querySelector(v1z);if(!m1_){m1_=document.createElement("DIV");m1_.style.visibility="hidden";m1_.style.left="-1000px";W77.body.append(m1_);}m1_.appendChild(i4o.node);z_g=getComputedStyle(i4o.stxNodeCreator.visual);if(!f6i.styles.stx_marker_stem){X12=getComputedStyle(i4o.node.querySelector(".stx-stem"));f6i.styles.stx_marker_stem=f6i.cloneStyle(X12);}f6i.styles[h_P]=f6i.cloneStyle(z_g);m1_.removeChild(i4o.node);};t0P.Marker.Performance.drawCircleMarker=function(Q8Y,U6E,Q8C){var M9R,v_A,T4t,P_J,n8$,m3F,O4g,p42,o$C,L04;M9R="no";M9R+="rmal bold ";v_A="cent";v_A+="e";v_A+="r";T4t=Q8Y.params.stx;P_J=T4t.chart;n8$=P_J.context;m3F=Q8C.x;O4g=Q8C.y;p42=Q8C.radius;o$C=Q8C.label;L04=Q8C.color?Q8C.color:U6E.backgroundColor;n8$.save();n8$.beginPath();n8$.setLineDash([]);n8$.lineWidth=1;n8$.fillStyle=L04;n8$.strokeStyle=L04;n8$.textAlign=v_A;x7q.L7E(4);var s8B=x7q.e5e(168,176,20);x7q.E2c(116);var S3$=x7q.e5e(47,9,3,3,20);x7q.E2c(33);var z3o=x7q.E9k(17,14,50,20);n8$.font=M9R + Math.min(s8B,S3$ * (p42 + z3o)) + "px Roboto, Helvetica, sans-serif";n8$.arc(m3F,O4g,p42,0,("2" >> 0) * Math.PI,!1);n8$.fill();n8$.stroke();n8$.closePath();if(o$C){n8$.fillStyle=t0P.chooseForegroundColor(n8$.fillStyle);x7q.L7E(2);n8$.fillText(o$C,m3F,x7q.E9k(O4g,1));}if(Q8Y.highlight || Q8Y.active){if(t0P.isTransparent(L04)){n8$.strokeStyle=T4t.defaultColor;}n8$.beginPath();x7q.L7E(2);n8$.arc(m3F,O4g,x7q.e5e(p42,4),+"0",2 * Math.PI,![]);n8$.stroke();n8$.closePath();}n8$.restore();};t0P.Marker.Performance.drawSquareMarker=function(v5h,B5A,j8L){var E$H,G2E,z3E,w0c,W3V,K1G,e6o,p2S,e9t,v9x,M7w,Z0J;E$H=v5h.params.stx;G2E=E$H.chart;z3E=G2E.context;w0c=j8L.x;W3V=j8L.y;K1G=j8L.half;e6o=j8L.label;p2S=j8L.color?j8L.color:B5A.backgroundColor;x7q.L7E(19);e9t=x7q.E9k(K1G,2);z3E.setLineDash([]);z3E.lineWidth=1;z3E.fillStyle=p2S;z3E.strokeStyle=p2S;z3E.save();z3E.beginPath();if(v5h.node.params.type === "diamond"){z3E.translate(w0c,W3V);z3E.rotate(Math.PI / ("4" | 0));v9x=635344091;x7q.E2c(40);M7w=x7q.e5e(0,"448843352");Z0J=2;for(var E2v=1;x7q.K8j(E2v.toString(),E2v.toString().length,67338) !== v9x;E2v++){z3E.translate(!w0c,+W3V);K1G+=8391;Z0J+=2;}if(x7q.K8j(Z0J.toString(),Z0J.toString().length,12394) !== M7w){z3E.translate(-w0c,-W3V);K1G/=1.42;}x7q.L7E(117);e9t=x7q.E9k(K1G,"2");}x7q.E2c(5);z3E.fillRect(x7q.E9k(K1G,w0c),x7q.e5e(K1G,W3V),e9t,e9t);if(v5h.highlight || v5h.active){x7q.E2c(118);z3E.strokeRect(x7q.e5e(0,w0c,K1G,"4"),x7q.e5e(4,K1G,W3V,x7q.L7E(32)),x7q.E9k(e9t,8,x7q.L7E(2)),x7q.e5e(32,e9t,"8",x7q.E2c(94)));}z3E.closePath();z3E.restore();if(e6o){z3E.save();z3E.textAlign="center";x7q.L7E(2);var T8K=x7q.e5e(4,8);x7q.L7E(5);var S5b=x7q.E9k(16,18);z3E.font="normal bold " + Math.min(T8K,S5b * K1G) + "px Roboto, Helvetica, sans-serif";z3E.fillStyle=t0P.chooseForegroundColor(z3E.fillStyle);x7q.E2c(2);z3E.fillText(e6o,w0c,x7q.e5e(W3V,1));z3E.restore();}};t0P.Marker.Performance.drawCalloutMarker=function(x2Z,U8m,G2_){var h93,D32,z_v,n$i,I4F,S9K,V0S,E15,D4q,M_s,d3T,k9E,N$o,F4f,E8j,f6w;h93="blac";h93+="k";D32="normal bold 12px Roboto, Helvetica, san";D32+="s-s";D32+="erif";z_v=x2Z.params.stx;n$i=z_v.chart;I4F=n$i.context;S9K=x2Z.params;V0S=G2_.x;E15=G2_.y;D4q=G2_.half;M_s=G2_.midWidth;d3T=G2_.headline;k9E=G2_.color?G2_.color:U8m.backgroundColor;N$o=D4q * 2 || 25;F4f=Math.round(I4F.measureText(d3T).width);E8j=M_s?M_s * 2:F4f + 8;I4F.beginPath();I4F.setLineDash([]);I4F.lineWidth=1;I4F.fillStyle=k9E;I4F.strokeStyle=k9E;I4F.font=D32;I4F.rect(S9K.box.x0,S9K.box.y0,E8j,N$o);I4F.fill();I4F.stroke();I4F.closePath();I4F.beginPath();I4F.fillStyle=x2Z.highlight || x2Z.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";x7q.E2c(119);f6w=x7q.E9k(E8j,"2",F4f,0,20);I4F.rect(S9K.box.x0 + f6w,E15 - D4q,F4f + +"40",22);I4F.fill();I4F.stroke();I4F.closePath();I4F.fillStyle=h93;I4F.fillText(d3T,S9K.box.x0 + f6w + 10,E15);};t0P.Marker.Performance.drawMarkerStem=function(T9A,F7y,Q5X){var l9D,o_h,Z9U,e0e,Y5D,F2g,U77,z3S,t6n,U$y,i3N;l9D=T9A.params.stx;o_h=l9D.chart;Z9U=o_h.context;e0e=317897821;Y5D=-+"1403312667";F2g=2;for(var o6g=1;x7q.K8j(o6g.toString(),o6g.toString().length,7894) !== e0e;o6g++){U77=Q5X.x;z3S=Q5X.y;Z9U.beginPath();F2g+=2;}if(x7q.z3M(F2g.toString(),F2g.toString().length,62681) !== Y5D){U77=Q5X.x;z3S=Q5X.y;Z9U.beginPath();}Z9U.strokeStyle=F7y.borderLeftColor;Z9U.setLineDash([1,1]);t6n=t0P.stripPX(F7y.height);U$y=Q5X.invert?T9A.params.box.y0:T9A.params.box.y1;i3N=Q5X.invert?T9A.params.box.y0 - t6n:T9A.params.box.y1 + t6n;Z9U.moveTo(U77,U$y);Z9U.lineTo(U77,i3N);Z9U.stroke();Z9U.closePath();};t0P.Marker.Performance.prototype.drawMarker=function(I6Y){var z7r,o7T,O1G,K_U,D2n,H0a,V9h,o9E,p02,W0U,g$X,U_M,q4G,r1y,O28,h30,q8O,P$B,q88,n5k,X2s,I77,f_K,U$K,G9_,r_r;z7r="squar";z7r+="e";o7T=I6Y.params;O1G=I6Y.params.stx;if(!O1G){return;}K_U=O1G.chart;D2n=K_U.dataSegment;if(!D2n || !D2n.length){return;}H0a=O1G.panels[I6Y.params.panelName];if(H0a.hidden){return;}V9h=I6Y.params.yAxis || H0a.yAxis;o9E=I6Y.stxNodeCreator.params;if(o9E.hide){return;}p02=o9E.type;W0U=o9E.category;g$X=o9E.headline;U_M=o9E.displayCategory;q4G=o9E.color;r1y=o9E.displayLabel;O28=o9E.invert;h30=o9E.size;if(q4G === "auto"){q4G=O1G.defaultColor;}x7q.L7E(120);q8O=x7q.E9k(W0U,(42.8,5610) > 9960?(!!({}),"I"):876.99 >= (235.64,121)?"_":(488.39,"766.43" * 1) < (2123,+"7557")?869.79:(![],3.83e+3),"stx_marker_",p02);if(h30){x7q.E2c(2);q8O+=x7q.e5e("_",h30);}if(!O1G.styles[q8O]){t0P.Marker.Performance.calculateMarkerStyles(O1G,I6Y,q8O);}P$B=I6Y.style=O1G.styles[q8O];q88=O1G.styles.stx_marker_stem;x7q.L7E(121);var C0G=x7q.e5e(19,8,10,19,30);x7q.L7E(122);var J_Z=x7q.e5e(17,240,3,3,14);n5k=parseInt(P$B.height,C0G) / J_Z;x7q.L7E(2);var g9v=x7q.e5e(1,9);x7q.E2c(123);var t6g=x7q.E9k(17,54,15,14,10);X2s=parseInt(P$B.width,g9v) / t6g;if(p02 === "diamond"){x7q.L7E(19);n5k*=x7q.e5e("1.42",1);X2s*=1.42;}I77=o9E.displayStem?parseInt(q88.height,10) + parseInt(q88.marginBottom,10):"0" * 1;x7q.E2c(20);f_K=x7q.e5e(n5k,2,I77);U$K=o7T.offset || 0;G9_=O1G.pixelFromTick(I6Y.tick);r_r=o7T.node.calculateYPosition({marker:I6Y,panel:H0a,yAxis:V9h,height:f_K,half:n5k,offset:U$K,stemHeight:I77,inverted:O28,field:o7T.field,x:G9_});if(!I6Y.tick && I6Y.tick !== 0){return;}o7T.box={x0:G9_ - (X2s || n5k),y0:r_r - n5k,x1:G9_ + (X2s || n5k),y1:r_r + n5k,midY:n5k,midX:X2s || n5k,stemHeight:I77};if(!U_M){W0U="";}else {W0U=W0U[0].toUpperCase();}O1G.startClip(H0a.name);if(p02 === "circle"){t0P.Marker.Performance.drawCircleMarker(I6Y,P$B,{x:G9_,y:r_r,radius:n5k,label:r1y || W0U,color:q4G});}else if(p02 === z7r || p02 === "diamond"){t0P.Marker.Performance.drawSquareMarker(I6Y,P$B,{x:G9_,y:r_r,half:n5k,label:r1y || W0U,color:q4G});}else if(p02 === "callout"){t0P.Marker.Performance.drawCalloutMarker(I6Y,P$B,{x:G9_,y:r_r,half:n5k,midWidth:X2s,headline:g$X,color:q4G});}else {x7q.E2c(95);console.warn(x7q.e5e("Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callout.",p02));}if(o9E.displayStem){t0P.Marker.Performance.drawMarkerStem(I6Y,q88,{x:G9_,y:r_r,invert:O28});}O1G.endClip();if(I6Y.attached){this.positionPopUpNode(I6Y);}};t0P.Marker.Performance.prototype.positionPopUpNode=function(r11){var T0M,h5q,j_7,L9i,y7Z,Y9t,z84,r64,s2y,R7b,o9a,s3d,r5O,c1p,W0g,o4z,F$h,N2T,f_H,T$o,C1b,f2z;T0M="px) t";T0M+="ranslateY(";h5q="tra";h5q+="nsl";h5q+="at";h5q+="eX(";j_7="h";j_7+="id";x7q.H5S();j_7+="den";if(!r11.attached || !r11.params.box){return;}L9i=r11.params;y7Z=L9i.stx;Y9t=L9i.box;z84=r11.params.node.expand;r64=y7Z.chart.dataSet;s2y=y7Z.chart.dataSegment;R7b=y7Z.panels[L9i.panelName];if(r11.tick){s3d=[r64[s2y[0] && s2y[0].tick - 1],r64[s2y[0] && s2y[0].tick - 2]];r5O=y7Z.getFirstLastDataRecord(s3d.concat(s2y),"Date");x7q.L7E(34);var M4$=x7q.e5e(0,16,0,16);x7q.L7E(4);var i4a=x7q.E9k(21,31,11);x7q.L7E(34);var Y7d=x7q.E9k(0,20,19,1);x7q.L7E(124);var v6$=x7q.e5e(1,3,7,7);c1p=[r64[s2y[s2y.length - M4$].tick + i4a],r64[s2y[s2y.length - Y7d].tick + v6$]];W0g=y7Z.getFirstLastDataRecord(s2y.concat(c1p),"Date",!!"1");o9a=r5O.DT <= r64[r11.tick].DT && r64[r11.tick].DT <= W0g.DT && r11.params.box.y0 <= R7b.yAxis.bottom && r11.params.box.y1 >= R7b.yAxis.top;}else {o9a=!!0;}if(!r11.highlight && !r11.active){o9a=!"1";}z84.style.visibility=o9a?"":j_7;if(!o9a){return;}if(z84.style.height !== ""){z84.style.height="";}o4z=z84.rects;x7q.L7E(58);var T2w=x7q.e5e(15,1,6,20,39);F$h=o4z.height / T2w;f_H=r11.node.params.infoOffset || 0;if(r11.node.params.infoOnLeft){N2T=Y9t.x0 - o4z.width - f_H < R7b.left?Y9t.x1 + f_H:Y9t.x0 - o4z.width - f_H;}else {N2T=Y9t.x0 + o4z.width > R7b.right?Y9t.x0 - o4z.width - f_H:Y9t.x1 + f_H;}N2T-=y7Z.chart.left;T$o=L9i.avoidFlush?5:0;C1b=Y9t.y0 - F$h >= R7b.yAxis.top?Y9t.y0 + Y9t.midY - F$h:R7b.yAxis.top + T$o;if(!L9i.avoidFlush && Y9t.y1 + Y9t.stemHeight === R7b.yAxis.bottom && o4z.height > Y9t.y1 - Y9t.y0 + Y9t.stemHeight){C1b=Y9t.y1 - o4z.height + Y9t.stemHeight;}if(Y9t.y1 + F$h > R7b.yAxis.bottom){C1b=R7b.yAxis.bottom - o4z.height - T$o;}if(o4z.height > R7b.yAxis.height){C1b=R7b.yAxis.top + T$o;x7q.L7E(2);var H1h=x7q.e5e(0,2);z84.style.height=R7b.yAxis.height - H1h * T$o + "px";}C1b-=R7b.yAxis.top;f2z=h5q + Math.floor(N2T) + T0M + Math.floor(C1b) + "px) translateZ(0)";z84.style.transform=f2z;z84.transform={translateX:N2T,translateY:C1b};};t0P.Marker.Performance.prototype.quickCache=function(U7Z){var H3N,i1J,i4q,t4Z;H3N=U7Z.params.node;i1J=H3N.expand;x7q.J2s();i4q=U7Z.style;t4Z=t0P.stripPX(i4q.marginLeft) + t0P.stripPX(i4q.marginRight) + t0P.stripPX(i4q.borderRight) + t0P.stripPX(i4q.borderLeft);i1J.rects=i1J.getBoundingClientRect();i1J.scrollBarWidth=i1J.rects.width - i1J.clientWidth - t4Z;};t0P.Marker.Performance.prototype.calculateYPosition=function(g7o){var m_a,z$W,f1t,B9Z,y2X,V7e,c4t,E4D,m0C,L$$,l$p,M0i,D8b,K0i,T6p,B28,C2V,j_L,a93,E5W,s46,v_L,Y_t,c1J,P43,z3W,y73,b9t;m_a="botto";m_a+="m";z$W="on_c";z$W+="a";z$W+="nd";z$W+="le";f1t="h";f1t+="ig";f1t+="h";B9Z="l";B9Z+="o";B9Z+="w";y2X=g7o.marker;V7e=g7o.panel;c4t=g7o.yAxis;E4D=g7o.height;m0C=g7o.half;L$$=g7o.offset;l$p=g7o.stemHeight;M0i=g7o.inverted;D8b=g7o.field;K0i=y2X.params.stx;T6p=K0i.chart;B28=K0i.chart.highLowBars;C2V=T6p.dataSet[y2X.tick];if(!C2V){return;}if(D8b){C2V=C2V[D8b];}if(!C2V){return;}if(typeof C2V === "number"){C2V={Close:C2V};C2V[T6p.defaultPlotField]=C2V.Close;B28=!!0;}j_L=K0i.getBarBounds(C2V,!!D8b);a93=B28?j_L[c4t.flipped?B9Z:"high"]:C2V[T6p.defaultPlotField];E5W=B28?j_L[c4t.flipped?f1t:"low"]:C2V[T6p.defaultPlotField];s46=y2X.params.yPositioner;if(isNaN(a93)){x7q.L7E(29);var Z3B=x7q.e5e(18,13,14,11);a93=(c4t.high + c4t.low) / Z3B;}if(isNaN(E5W)){x7q.E2c(32);var M5y=x7q.e5e(21,17,40);E5W=(c4t.high + c4t.low) / M5y;}Y_t=+"0";x7q.J2s();if(s46 != "none"){c1J="_l";c1J+="a";c1J+="ne";x7q.L7E(125);var Z6u=x7q.E9k(6,18,23,5,5);P43=s46.indexOf(c1J) > Z6u;z3W=K0i.markerHelper.placementMap;y73=s46 + "|" + V7e.name;if(P43 && typeof z3W[y73] == "undefined"){z3W[y73]=2;}x7q.L7E(126);var j7i=x7q.e5e(11033,25500,14,2,3);x7q.L7E(7);var E1s=x7q.E9k(9950,4,12,18);b9t=y73 + ((293.26,+"8015") <= (j7i,873.79)?(954.68,E1s):"-") + (P43?y2X.params.label:g7o.x);if(typeof z3W[b9t] == "undefined"){z3W[b9t]=P43?z3W[y73]:0;x7q.L7E(2);z3W[y73]+=x7q.e5e(E4D,2);}Y_t=z3W[b9t];if(!P43){x7q.L7E(127);z3W[b9t]+=x7q.E9k(0,E4D,"1");}}switch(s46){case "value":if(y2X.params.y || y2X.params.y === 0){v_L=K0i.pixelFromPrice(y2X.params.y,V7e,c4t) - E4D * 0.5 + m0C;break;}case "above_candle":v_L=K0i.pixelFromPrice(a93,V7e,c4t) - m0C - (!M0i && l$p || L$$) - Y_t;break;case "below_candle":v_L=K0i.pixelFromPrice(E5W,V7e,c4t) + m0C + (M0i && l$p || L$$) + Y_t;break;case z$W:x7q.E2c(128);var g_r=x7q.e5e(6,18,3,5);v_L=K0i.pixelFromPrice((a93 + E5W) / +"2",V7e,c4t) - E4D * ("0.5" * g_r) + m0C;break;case "top":case "top_lane":v_L=V7e.yAxis.top + m0C + (M0i && l$p || L$$) + Y_t;break;case m_a:case "bottom_lane":v_L=V7e.yAxis.bottom - m0C - (!M0i && l$p || L$$) - Y_t;break;default:break;}x7q.L7E(10);var H32=x7q.E9k(10,3,4);x7q.L7E(2);var V$F=x7q.E9k(0,2);return Math.round(H32 * v_L) / V$F;};t0P.Marker.Performance.prototype.prepareForHolder=function(f0x){var B73,h1p;B73=this.expand;h1p=f0x.params.stx;B73.classList.add(this.params.type);B73.classList.add(this.params.category);h1p.markerHelper.domMarkers.push(f0x);x7q.H5S();return B73;};t0P.Marker.Performance.prototype.addToHolder=function(S9g){var T0Z,P4w,C6o;function f0_(D9B){C6o.activeMarker=S9g;x7q.J2s();C6o.activeMarker.click({cx:D9B.clientX,cy:D9B.clientY,panel:C6o.currentPanel});D9B.stopPropagation();}T0Z="t";T0Z+="o";T0Z+="uchstart";P4w=this.expand;C6o=S9g.params.stx;x7q.J2s();t0P.Marker.Performance.reconstituteExpanded(C6o);t0P.Marker.Performance.consolidateExpanded(C6o);this.quickCache(S9g);if(P4w.clickClosure){return;}P4w.addEventListener("mousedown",f0_);P4w.addEventListener(T0Z,f0_,{passive:!({})});P4w.clickClosure=f0_;};t0P.Marker.Performance.prototype.remove=function(T$i){var A4z,L0R,o5G,c3h,d5Z;A4z=T$i.params.stx;x7q.H5S();if(!A4z){return;}if(!A4z.markerHelper.domMarkers){return;}L0R=A4z.markerHelper.domMarkers.indexOf(T$i);if(L0R != -1){A4z.markerHelper.domMarkers.splice(L0R,1);}if(T$i.attached){o5G="cli";o5G+="c";o5G+="k";c3h=A4z.panels[T$i.params.panelName];d5Z=T$i.params.node.expand;if(d5Z.parentNode === c3h.subholder){c3h.subholder.removeChild(d5Z);}d5Z.removeEventListener(o5G,d5Z.clickClosure);}};t0P.Marker.Performance.prototype.click=function(K_W){x7q.H5S();var M0Y,q8H,f92;if(!this.hasText){return;}if(arguments.length > "1" * 1){K_W={cx:arguments[0],cy:arguments[1],marker:arguments[+"2"],panel:arguments[3]};}var {cx:K8t, cy:f12, marker:e7Z, panel:E64}=K_W;M0Y=e7Z.params.stx;if(e7Z.attached){f92=this.expand;if(f92.rects && f92.transform && f92.rects.width - f92.scrollBarWidth + f92.transform.translateX < M0Y.backOutX(K8t) && M0Y.backOutX(K8t) < f92.rects.width + f92.transform.translateX){return;}this.remove(e7Z);}else {M0Y.addToHolder(e7Z);q8H=!!({});}e7Z.attached=!e7Z.attached;e7Z.active=!e7Z.active;if(q8H){e7Z.stxNodeCreator.positionPopUpNode(e7Z);}};}};G=H9M=>{var H12=h_yMd;H12.J2s();var i90;i90=typeof _CIQ !== "undefined"?_CIQ:H9M.CIQ;i90.Renderer.OHLC.requestNew=function(R$N,x0b){var v1E,l1E,G_P,w5J,Q7s,B4P,q9C,O1g,J8A,p4C;v1E=null;l1E=x0b.hlc;H12.H5S();G_P=x0b.colored;w5J=x0b.hollow;Q7s=x0b.volume;B4P=x0b.histogram;for(var B9h=0;B9h < R$N.length;B9h++){q9C="h";q9C+="l";q9C+="c";O1g=R$N[B9h];switch(O1g){case "bar":case "candle":v1E=O1g;break;case "volume":Q7s=!![];break;case "hollow":w5J=!![];break;case "colored":G_P=!!({});break;case "histogram":J8A="c";J8A+="an";J8A+="dle";B4P=!![];v1E=J8A;break;case q9C:p4C="b";p4C+="a";p4C+="r";l1E=!!({});v1E=p4C;break;default:return null;}}if(v1E === null){return null;}return new i90.Renderer.OHLC({params:i90.extend(x0b,{type:v1E,hlc:l1E,colored:G_P,hollow:w5J,volume:Q7s,histogram:B4P})});};i90.Renderer.OHLC.getChartParts=function(X9T,K0I){var j8R,R01,l4c,N7D,o38,x1z,d9S,d2B,v8r,l7u,e1i,i1w,Q3n,e$H,G_M,l0s,G_D,P0o,H5o,B4s,n73,t8P,C9k,C5s,e$C,o6u,C9R,i7Z,S$W,V7s;j8R="border_c";j8R+="olor_down";R01="stx_holl";R01+="o";R01+="w_candle_up";l4c="ca";l4c+="ndle";N7D="border_";N7D+="color_";N7D+="even";o38="s";o38+="had";o38+="ow";x1z="b";x1z+="order_colo";x1z+="r_down";d9S="st";d9S+="x_hollow_ca";d9S+="ndle_down";d2B="stx_h";d2B+="ollo";d2B+="w_ca";d2B+="ndle_up";v8r="stx_cand";v8r+="le_do";v8r+="wn";l7u="stx_cand";l7u+="le_u";l7u+="p";e1i="bo";e1i+="rder_col";e1i+="or_do";e1i+="wn";i1w="st";i1w+="x_candle_sh";i1w+="adow_down";Q3n="sh";Q3n+="adow";e$H="c";e$H+="a";e$H+="ndl";e$H+="e";G_M="s";G_M+="hado";G_M+="w";l0s="s";l0s+="tx_bar";l0s+="_even";G_D="b";G_D+="a";G_D+="r";P0o="b";P0o+="ar";H5o="b";H5o+="order_co";H5o+="lor";B4s="stx_";B4s+="ba";B4s+="r_ch";B4s+="art";n73="b";n73+="a";n73+="r";t8P="hist";t8P+="ogra";t8P+="m";C9k="b";C9k+="order_co";C9k+="l";C9k+="or_down";C5s="fill";C5s+="_";C5s+="color";C5s+="_up";e$C=1;o6u=2;C9R=4;i7Z=8;S$W=16;V7s=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:i7Z,fill:C5s,border:"border_color_up",useColorInMap:!!"1",useBorderStyleProp:!![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:S$W,fill:"fill_color_down",border:C9k,useColorInMap:!![],useBorderStyleProp:!0},{type:"histogram",drawType:t8P,style:"stx_histogram_even",condition:V7s,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!({}),useColorInMap:!![],useBorderStyleProp:!![]},{type:"bar",drawType:n73,style:X9T || B4s,border:H5o,useColorInMap:!!({})},{type:P0o,drawType:"bar",style:"stx_bar_up",condition:K0I?i7Z:e$C,border:"border_color_up",useColorInMap:!![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:K0I?S$W:o6u,border:"border_color_down",useColorInMap:!!({})},{type:G_D,drawType:"bar",style:l0s,condition:K0I?V7s:C9R,border:"border_color_even",skipIfPass:!!({}),useColorInMap:!!"1"},{type:"candle",drawType:G_M,style:"stx_candle_shadow",border:"border_color_up"},{type:e$H,drawType:Q3n,style:"stx_candle_shadow_up",condition:i7Z,border:"border_color_up"},{type:"candle",drawType:"shadow",style:i1w,condition:S$W,border:e1i},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:V7s,border:"border_color_even",skipIfPass:!0},{type:"candle",drawType:"candle",style:l7u,condition:i7Z,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:!!({})},{type:"candle",drawType:"candle",style:v8r,condition:S$W,fill:"fill_color_down",border:"border_color_down",useColorInMap:!!({}),useBorderStyleProp:!![]},{type:"hollow",drawType:"shadow",style:d2B,condition:e$C,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:d9S,condition:o6u,border:x1z},{type:"hollow",drawType:o38,style:"stx_hollow_candle_even",condition:C9R,border:"border_color_even",skipIfPass:!![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:e$C | S$W,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!"1"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:o6u | S$W,fill:"fill_color_down",border:"border_color_down",useColorInMap:!!({})},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:C9R | S$W,fill:"fill_color_even",border:N7D,skipIfPass:!!"1",useColorInMap:!![]},{type:"hollow",drawType:l4c,style:R01,condition:e$C | i7Z,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:o6u | i7Z,fill:"fill_color_down",border:j8R},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:C9R | i7Z,fill:"fill_color_even",border:"border_color_even"}];;};i90.Renderer.Bars=function(z6V){var A03;this.construct(z6V);A03=this.params;A03.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!({});A03.hlc=A03.volume=A03.hollow=A03.histogram=!!"";};i90.inheritsFrom(i90.Renderer.Bars,i90.Renderer.OHLC,![]);i90.Renderer.HLC=function(G69){var J3Q,p5u;J3Q="ba";J3Q+="r";this.construct(G69);p5u=this.params;p5u.type=J3Q;p5u.hlc=!0;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;p5u.volume=p5u.hollow=p5u.histogram=![];};i90.inheritsFrom(i90.Renderer.HLC,i90.Renderer.Bars,![]);i90.Renderer.Shading=function(b53){var U4E,J4h,Y4x,c5Z;U4E="ra";U4E+="ngechann";U4E+="el";this.construct(b53);this.beenSetup=!({});J4h=437942965;Y4x=-1063017102;c5Z=+"2";for(var P9v="1" ^ 0;H12.z3M(P9v.toString(),P9v.toString().length,64946) !== J4h;P9v++){this.errTimeout=+"1";this.params.useChartLegend=!!({});this.shading=[];c5Z+=2;}if(H12.z3M(c5Z.toString(),c5Z.toString().length,16319) !== Y4x){this.errTimeout=2;this.params.useChartLegend=!"1";this.shading=[];}this.errTimeout=null;this.params.useChartLegend=!({});this.shading=[];if(this.params.type == U4E){this.highLowBars=!!({});}};i90.inheritsFrom(i90.Renderer.Shading,i90.Renderer.Lines,!({}));i90.Renderer.Shading.requestNew=function(I1k,l9N){var L8j,m1P,E4t,k9z,w1Z,x$5;L8j=null;m1P=null;H12.H5S();for(var i50=0;i50 < I1k.length;i50++){E4t="s";E4t+="tep";k9z="rangech";k9z+="an";k9z+="ne";k9z+="l";w1Z="rangech";w1Z+="annel";x$5=I1k[i50];if(x$5 == w1Z){L8j=k9z;}else if(x$5 == E4t){m1P=!![];}}if(L8j === null){return null;}return new i90.Renderer.Shading({params:i90.extend(l9N,{type:L8j,step:m1P})});};i90.Renderer.Shading.prototype.setShading=function(t2C){if(t2C.constructor != Array){t2C=[t2C];}H12.J2s();this.shading=t2C;};i90.Renderer.Shading.prototype.draw=function(){var N2x,t25,S$Q,O$z,q7z,V70,n_S,N6r,U$7,C5l,V6v,i3O,Q16,C1u,W8T,B3h,h04,z8q,k3o,k7U,U9O,G1d,Y7v;N2x=this.stx;t25=this.params;S$Q=N2x.panels[t25.panel].chart;if(t25.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {O$z="L";O$z+="o";O$z+="w";q7z="Sh";q7z+="ad";q7z+="ing";this.beenSetup=!0;t25.display=this.seriesParams[0].display;t25.yAxis=this.seriesParams[0].yAxis;V70=this.seriesParams[0].color || "auto";n_S=this.seriesParams[0].symbol;N6r="";if(n_S){H12.L7E(2);N6r=H12.E9k(n_S,518.73 == ("751" ^ 0,"7550" | 46)?(0x462,5.37e+3):".");}this.removeAllSeries(!0);U$7=t25.name;N2x.addSeries(null,{symbol:n_S,loadData:!!n_S,field:"High",renderer:q7z,name:U$7,style:"stx_line_up",display:t25.display,shareYAxis:!!"1"});N2x.addSeries(null,{symbol:n_S,loadData:!!n_S,field:O$z,renderer:"Shading",name:U$7,style:"stx_line_down",display:t25.display,shareYAxis:!!({})});this.setShading({primary:this.seriesParams["0" - 0].id,secondary:this.seriesParams[1].id,color:V70});}}function f6r(X2A){var B0$,R3A,e6M;H12.H5S();B0$=i3O[X2A];if(B0$){R3A=B0$.parameters.field;e6M=B0$.parameters.subField;H12.E2c(2);return H12.e5e(R3A,e6M?"." + e6M:"");}return X2A;}if(!this.shading){if(!this.errTimeout){C5l="Warning: no shading scheme";C5l+=" set.  Use myRenderer.setShading(scheme) to s";C5l+="et.";console.log(C5l);V6v=this;this.errTimeout=setTimeout(function(){V6v.errTimeout=null;},10000);}}i3O={};for(Q16=0;Q16 < this.seriesParams.length;Q16++){C1u={};if(S$Q.series[this.seriesParams[Q16].id]){C1u=i90.clone(S$Q.series[this.seriesParams[Q16].id].parameters);}i3O[this.seriesParams[Q16].id]={parameters:i90.extend(i90.extend(C1u,t25),this.seriesParams[Q16]),yValueCache:this.caches[this.seriesParams[Q16].id]};}N2x.drawSeries(S$Q,i3O,t25.yAxis,this);if(S$Q.legend && t25.type == "rangechannel"){W8T="stx_lin";W8T+="e_u";W8T+="p";if(!S$Q.legend.colorMap){S$Q.legend.colorMap={};}B3h=t25.display;h04=[N2x.getCanvasColor(W8T),N2x.getCanvasColor("stx_line_down")];S$Q.legend.colorMap[B3h]={color:h04,display:B3h,isBase:this == N2x.mainSeriesRenderer};;}for(Q16 in i3O){this.caches[Q16]=i3O[Q16].yValueCache;}for(Q16="0" - 0;Q16 < this.shading.length;Q16++){z8q="a";z8q+="u";z8q+="t";z8q+="o";k3o=this.shading[Q16];k7U=k3o.color;if(k3o.color == z8q){k7U=N2x.defaultColor;}if(!k3o.primary){k3o.primary="Close";}if(!k3o.secondary && this.seriesParams[0]){k3o.secondary=this.seriesParams[0].field;}if(!k3o.secondary)continue;else if(!i3O[k3o.primary] && k3o.primary != "Close")continue;else if(!i3O[k3o.secondary])continue;else if(k3o.primary == "Close" && t25.yAxis && t25.yAxis != S$Q.yAxis)continue;U9O=f6r(k3o.primary).split(".");G1d=f6r(k3o.secondary).split(".");Y7v={topBand:U9O["0" ^ 0],topSubBand:U9O["1" | 1],topColor:k3o.greater || k7U || N2x.containerColor,topAxis:t25.yAxis,bottomBand:G1d[0],bottomSubBand:G1d[1],bottomColor:k3o.lesser || k7U || N2x.containerColor,bottomAxis:k3o.primary == "Close"?null:t25.yAxis,tension:t25.tension || S$Q.tension,opacity:0.1,step:t25.step};if(!Y7v.topColor && !Y7v.bottomColor)continue;if(!t25.highlight && N2x.highlightedDraggable){Y7v.opacity*=0.3;}i90.fillIntersecting(N2x,t25.panel,Y7v);}};i90.Renderer.Histogram=function(W4f){this.construct(W4f);this.params.type="histogram";H12.H5S();this.barsHaveWidth=this.standaloneBars=!![];if(this.params.yAxis){this.params.bindToYAxis=!!({});if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};i90.inheritsFrom(i90.Renderer.Histogram,i90.Renderer,![]);i90.Renderer.Histogram.prototype.adjustYAxis=function(){var o_Q;o_Q=this.params.yAxis;if(!o_Q || o_Q.baseline){return;}o_Q.min=0;o_Q.highValue/=this.params.heightPercentage || 1;};i90.Renderer.Histogram.prototype.draw=function(){var H8l,W3j,B92,o6D,D4i,T15;H8l=i90.clone(this.params);H8l.type=H8l.subtype;H12.H5S();this.useSum=H8l.subtype == "stacked";if(!H8l.yAxis || H8l.yAxis == this.stx.chart.yAxis){H8l.bindToYAxis=!"";}this.stx.drawHistogram(H8l,this.seriesParams);W3j=H8l.yAxis && H8l.yAxis.baseline;if(W3j && W3j.color){B92="de";B92+="s";B92+="tination-over";o6D="l";o6D+="i";o6D+="ne";D4i=this.stx.panels[this.params.panel];T15=this.stx.pixelFromPrice(W3j.value,D4i,this.params.yAxis) - +"0.5";this.stx.plotLine({x0:D4i.left,x1:D4i.right,y0:T15,y1:T15,color:W3j.color,type:o6D,context:D4i.chart.context,confineToPanel:D4i,pattern:W3j.pattern || "solid",lineWidth:W3j.lineWidth || "1" | 1,opacity:W3j.opacity || 0.8,globalCompositeOperation:B92});}};i90.Renderer.Histogram.prototype.getBasis=function(B_d,t84,t34){var L26,a29,q4X;H12.J2s();L26=+"0";if(B_d && this.useSum){for(var w59=0;w59 < this.seriesParams.length;w59++){a29=this.seriesParams[w59].field;if(a29 === t84)break;q4X=B_d[a29];if(q4X && typeof q4X === "object"){q4X=q4X[t34 || this.seriesParams[w59].subField || this.stx.chart.defaultPlotField || "Close"];}if(q4X){L26+=q4X;}}}return L26;};i90.Renderer.Heatmap=function(Q6a){this.construct(Q6a);this.params.type="heatmap";H12.H5S();this.params.highlightable=!!"";this.barsHaveWidth=this.standaloneBars=!![];};i90.inheritsFrom(i90.Renderer.Heatmap,i90.Renderer,!({}));i90.Renderer.Heatmap.requestNew=function(B7v,I$t){var S2P,s_p;S2P=null;for(var g9w=0;g9w < B7v.length;g9w++){s_p=B7v[g9w];if(s_p == "heatmap"){S2P="heatmap";}}if(S2P === null){return null;}return new i90.Renderer.Heatmap({params:i90.extend(I$t,{type:S2P})});};i90.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(i90.clone(this.params),this.seriesParams);};i90.Renderer.Scatter=function(c24){H12.H5S();this.construct(c24);this.standaloneBars=this.barsHaveWidth=!!({});this.bounded=!!({});};i90.inheritsFrom(i90.Renderer.Scatter,i90.Renderer.Lines,!!"");i90.Renderer.Scatter.requestNew=function(U1B,T06){var Z2s,M5X;Z2s=null;for(var K5y="0" << 0;K5y < U1B.length;K5y++){M5X=U1B[K5y];if(M5X == "scatterplot"){Z2s="scatter";}}if(Z2s === null){return null;}return new i90.Renderer.Scatter({params:i90.extend(T06,{type:Z2s})});};i90.Renderer.Scatter.prototype.drawIndividualSeries=function(F48,s9l){var u6E,V8f;H12.H5S();u6E=this.stx.panels[s9l.panel] || F48.panel;V8f={colors:[]};if(this.stx.scatter){V8f=this.stx.scatter(u6E,s9l);}else {console.warn("Error, Scatter renderer requires customChart.js");}return V8f;};};X=L3D=>{var S_N;S_N=typeof _CIQ !== "undefined"?_CIQ:L3D.CIQ;if(!S_N.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {S_N.Studies.calculateAccumulationDistribution=function(p09,a_M){var w_v=h_yMd;var T9P,T5k,F4X,t8f,l6Q;T9P=a_M.chart.scrubbed;for(var s0z=a_M.startFrom;s0z < T9P.length;s0z++){if(!s0z)continue;T5k=T9P[s0z];if(T5k.futureTick)break;w_v.E2c(23);F4X=T9P[w_v.E9k("1",s0z)];w_v.L7E(24);t8f=w_v.E9k("0",0);if(T5k.Close > F4X.Close){t8f=T5k.Close - Math.min(T5k.Low,F4X.Close);}else if(T5k.Close < F4X.Close){t8f=T5k.Close - Math.max(T5k.High,F4X.Close);}if(a_M.inputs["Use Volume"]){t8f*=T5k.Volume;}l6Q=F4X["Result " + a_M.name];if(!l6Q){l6Q=0;}l6Q+=t8f;if(!isNaN(T5k.Close)){T5k["Result " + a_M.name]=l6Q;}}};S_N.Studies.studyLibrary=S_N.extend(S_N.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:S_N.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!"1"}}});}};S=h16=>{var I5v,a4T,S$o,W8$,P9K;I5v=typeof _CIQ !== "undefined"?_CIQ:h16.CIQ;if(!I5v.Studies){console.error("adx feature requires first activating studies feature.");}else {a4T="#FF";a4T+="00";a4T+="0";a4T+="0";S$o="au";S$o+="t";S$o+="o";W8$="#";W8$+="00FF0";W8$+="0";P9K="ADX";P9K+="/";P9K+="DM";P9K+="S";I5v.Studies.calculateADX=function(w$4,s$p){var O8y=h_yMd;var i7j,L3b,j9n,e9Z,c3i,d7y,h1j,w7C,T3W,J0e,T$D,H_Y,p6C,d8l,X$s,x53,E3A,O4Y,F6y,G4P,b_c,z$y;i7j="Smoothing Per";i7j+="iod";I5v.Studies.calculateStudyATR(w$4,s$p);L3b=s$p.chart.scrubbed;j9n=s$p.days;e9Z=parseInt(s$p.inputs[i7j],10);if(!e9Z && e9Z !== 0){e9Z=j9n;}if(L3b.length < s$p.days + 1){s$p.error=!![];return;}c3i=0;d7y=0;h1j=0;w7C=0;for(var S1C=Math.max(1,s$p.startFrom);S1C < L3b.length;S1C++){J0e="-D";J0e+="I ";T$D="_s";T$D+="m+DM ";T3W=L3b[S1C];H_Y=Math.max(0,T3W.High - L3b[S1C - ("1" << 96)].High);p6C=Math.max(0,L3b[S1C - 1].Low - T3W.Low);if(H_Y > p6C){p6C=+"0";}else if(p6C > H_Y){H_Y=+"0";}else {H_Y=p6C=0;}if(S1C <= j9n){d7y+=H_Y;h1j+=p6C;c3i+=T3W["True Range " + s$p.name];}else {O8y.E2c(5);var C9z=O8y.e5e(15,16);O8y.L7E(103);var m3m=O8y.e5e(31,12,18,1);d7y=L3b[S1C - C9z]["_sm+DM " + s$p.name] * (j9n - m3m) / j9n + H_Y;O8y.E2c(12);var o3Y=O8y.e5e(9,8);O8y.E2c(5);var m$A=O8y.E9k(18,19);h1j=L3b[S1C - o3Y]["_sm-DM " + s$p.name] * (j9n - m$A) / j9n + p6C;O8y.E2c(6);var s9u=O8y.E9k(7,8,0);O8y.L7E(52);var s8K=O8y.E9k(5,16,12);c3i=L3b[S1C - s9u]["_smTR " + s$p.name] * (j9n - s8K) / j9n + T3W["True Range " + s$p.name];}T3W[T$D + s$p.name]=d7y;T3W["_sm-DM " + s$p.name]=h1j;T3W["_smTR " + s$p.name]=c3i;if(S1C < j9n)continue;O8y.E2c(129);d8l=O8y.E9k(c3i,"100",64,d7y);O8y.E2c(110);X$s=O8y.E9k(h1j,c3i,100);O8y.E2c(130);var u$X=O8y.E9k(700,1,4080,6,20);x53=u$X * Math.abs(d8l - X$s) / (d8l + X$s);T3W["+DI " + s$p.name]=d8l;T3W[J0e + s$p.name]=X$s;if(s$p.inputs.Series !== !!0 && e9Z){if(S1C < j9n + e9Z - 1){if(S1C == s$p.startFrom){for(var g6F=j9n;g6F < s$p.startFrom;g6F++){E3A="-D";E3A+="I ";O8y.L7E(5);var A09=O8y.E9k(11,111);w7C+=A09 * Math.abs(L3b[g6F]["+DI " + s$p.name] - L3b[g6F]["-DI " + s$p.name]) / (L3b[g6F]["+DI " + s$p.name] + L3b[g6F][E3A + s$p.name]);}}w7C+=x53;}else if(S1C == j9n + e9Z - 1){O8y.L7E(9);T3W["ADX " + s$p.name]=O8y.e5e(w7C,e9Z);}else {O8y.L7E(2);var F_t=O8y.e5e(0,1);O8y.L7E(2);var L3i=O8y.e5e(0,1);T3W["ADX " + s$p.name]=(L3b[S1C - F_t]["ADX " + s$p.name] * (e9Z - L3i) + x53) / e9Z;}}if(s$p.inputs.Histogram){O4Y="+D";O4Y+="I";O4Y+=" ";F6y="-";F6y+="D";F6y+="I";F6y+=" ";G4P="_h";G4P+="is";G4P+="t";b_c=s$p.name + G4P;if(!T3W["+DI " + s$p.name] && T3W["+DI " + s$p.name] !== 0)continue;if(!T3W["-DI " + s$p.name] && T3W[F6y + s$p.name] !== 0)continue;T3W[b_c]=T3W[O4Y + s$p.name] - T3W["-DI " + s$p.name];if(s$p.inputs.Series === ![]){z$y="-DI";z$y+=" ";T3W["+DI " + s$p.name]=null;T3W[z$y + s$p.name]=null;}s$p.outputMap[b_c]="";}}};I5v.Studies.displayADX=function(P$c,M_B,d5F){var e4m,F_y,s0_,O3F,C1y,q87,i1F;h_yMd.J2s();e4m=M_B.underlay?0.3:M_B.inputs.Series?0.4:"1" - 0;if(M_B.inputs.Series && M_B.inputs.Shading){F_y="+DI " + M_B.name;s0_="-DI " + M_B.name;O3F=I5v.Studies.determineColor(M_B.outputs[M_B.outputMap[F_y]]);C1y=I5v.Studies.determineColor(M_B.outputs[M_B.outputMap[s0_]]);q87=M_B.getYAxis(P$c);i1F={topBand:F_y,bottomBand:s0_,topColor:O3F,bottomColor:C1y,skipTransform:P$c.panels[M_B.panel].name != M_B.chart.name,topAxis:q87,bottomAxis:q87,opacity:0.3};if(!M_B.highlight && P$c.highlightedDraggable){i1F.opacity*=+"0.3";}I5v.fillIntersecting(P$c,M_B.panel,i1F);}if(M_B.inputs.Histogram){I5v.Studies.createHistogram(P$c,M_B,d5F,!!"",e4m);}if(M_B.inputs.Series !== !({})){I5v.Studies.displaySeriesAsLine(P$c,M_B,d5F);}else if(!M_B.inputs.Series && !M_B.inputs.Histogram){P$c.displayErrorAsWatermark(M_B.panel,P$c.translateIf(M_B.name) + ": " + P$c.translateIf("Nothing to display"));}};I5v.Studies.studyLibrary=I5v.extend(I5v.Studies.studyLibrary,{ADX:{name:P9K,calculateFN:I5v.Studies.calculateADX,seriesFN:I5v.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!!({}),Shading:!({}),Histogram:![]},outputs:{"+DI":W8$,"-DI":"#FF0000",ADX:S$o,"Positive Bar":"#00DD00","Negative Bar":a4T}}});}};Y=Y5H=>{var Q6d,p5n,I8F,j$G;Q6d=typeof _CIQ !== "undefined"?_CIQ:Y5H.CIQ;if(!Q6d.Studies){p5n="alligator feature re";p5n+="quires first activating studies ";p5n+="featu";p5n+="re.";console.error(p5n);}else {I8F="#F";I8F+="F0000";j$G="#00";j$G+="00FF";Q6d.Studies.calculateAlligator=function(G5d,A2G){var T5$=h_yMd;var O4O,G8J,L9q,l7C,I_5,O0t,O4$,P1A,Z7I,T58,x0r,w1P,H_B;O4O="Lips ";O4O+="Period";G8J="Tee";G8J+="th Perio";G8J+="d";T5$.J2s();L9q={J:Number(A2G.inputs["Jaw Period"]),T:Number(A2G.inputs[G8J]),L:Number(A2G.inputs[O4O])};l7C=A2G.chart.scrubbed;if(l7C.length < Math.max(L9q.J,L9q.T,L9q.L) + "1" * 1){A2G.error=!![];return;}if(A2G.type === "Gator" || A2G.inputs["Show Lines"]){I_5="Te";I_5+="e";I_5+="th Off";I_5+="set";O0t="J";O0t+="a";O0t+="w";O4$="w";O4$+="ell";O4$+="es wilder";Q6d.Studies.MA(O4$,L9q.J,"hl/2",A2G.inputs["Jaw Offset"],O0t,G5d,A2G);Q6d.Studies.MA("welles wilder",L9q.T,"hl/2",A2G.inputs[I_5],"Teeth",G5d,A2G);Q6d.Studies.MA("welles wilder",L9q.L,"hl/2",A2G.inputs["Lips Offset"],"Lips",G5d,A2G);}for(var D5q=A2G.startFrom;D5q < l7C.length;D5q++){P1A="Gat";P1A+="or";if(!l7C[D5q])continue;if(A2G.type == P1A){Z7I=l7C[D5q]["Jaw " + A2G.name];T58=l7C[D5q]["Lips " + A2G.name];x0r=l7C[D5q]["Teeth " + A2G.name];if(x0r || x0r === 0){w1P="_his";w1P+="t2";if(Z7I || Z7I === 0){T5$.E2c(5);l7C[D5q][A2G.name + "_hist1"]=Math.abs(T5$.E9k(x0r,Z7I));}if(T58 || T58 === ("0" | 0)){T5$.L7E(5);l7C[D5q][A2G.name + w1P]=-Math.abs(T5$.e5e(T58,x0r));}}A2G.outputMap={};A2G.outputMap[A2G.name + "_hist1"]="";A2G.outputMap[A2G.name + "_hist2"]="";}if(A2G.inputs["Show Fractals"]){if(!l7C[D5q - 2] || !l7C[D5q - 1] || !l7C[D5q] || !l7C[D5q + 1] || !l7C[D5q + ("2" >> 32)])continue;if(l7C[D5q - +"2"].High && l7C[D5q - +"1"].High && l7C[D5q].High && l7C[D5q + 1].High && l7C[D5q + 2].High){if(l7C[D5q].High > l7C[D5q - ("1" ^ 0)].High && l7C[D5q].High > l7C[D5q - +"2"].High && l7C[D5q].High > l7C[D5q + 1].High && l7C[D5q].High > l7C[D5q + 2].High){l7C[D5q]["Fractal High " + A2G.name]=1;}}if(l7C[D5q - 2].Low && l7C[D5q - ("1" << 32)].Low && l7C[D5q].Low && l7C[D5q + 1].Low && l7C[D5q + 2].Low){if(l7C[D5q].Low < l7C[D5q - 1].Low && l7C[D5q].Low < l7C[D5q - 2].Low && l7C[D5q].Low < l7C[D5q + 1].Low && l7C[D5q].Low < l7C[D5q + 2].Low){H_B="F";H_B+="r";H_B+="actal Low";H_B+=" ";l7C[D5q][H_B + A2G.name]=1;}}}}};Q6d.Studies.displayAlligator=function(h7J,Y0V,X42){var m$k;m$k=Y0V.getContext(h7J);function O5d(T1o,a90){var M6i,J8v,Z5C;J8v=h7J.chart.panel.yAxis.flipped;if(T1o == "high"){Z5C="botto";Z5C+="m";m$k.fillStyle=h7J.defaultColor;m$k.textBaseline=J8v?"top":Z5C;M6i=h7J.pixelFromPrice(X42[a90].High);m$k.fillText(J8v?(814.61,7120) > ("367" << 32,7895)?!!1:"2480" << 64 === (5789,2730)?(2860,261.9) <= +"46.3"?("U","3.54e+3" - 0):(206.65,!({})):"\u25BC":(+"8.01",872.09) === (8999,+"242.14")?557.79 >= 7410?2.69e+2:(1158,344.22) != +"8330"?0x1d3f:("c",!!({})):"\u25B2",h7J.pixelFromBar(W6g,h7J.chart) - m$k.measureText(363.41 > 1950?0x895:"\u25B2").width / 2 + 1,J8v?M6i + 5:M6i - 5);;}else if(T1o == "low"){m$k.fillStyle=h7J.defaultColor;m$k.textBaseline=J8v?"bottom":"top";M6i=h7J.pixelFromPrice(X42[a90].Low);m$k.fillText(J8v?164 == 781.16?(3659,485.56) <= +"1064"?!!"":6.14e+2:"\u25B2":3780 <= (9526,2080)?("i","k"):9410 < (6090,4441)?(!({}),"K"):(5013,555) >= "6000" >> 32?"7.01e+3" * 1:"\u25BC",h7J.pixelFromBar(W6g,h7J.chart) - m$k.measureText((8010,87.5) === 304.46?718 > 9150?9.27e+3:(0x2314,"K"):"\u25BC").width / 2 + 1,J8v?M6i - 5:M6i + 5);;}}if(Y0V.inputs["Show Lines"]){Q6d.Studies.displaySeriesAsLine(h7J,Y0V,X42);}if(Y0V.inputs["Show Fractals"]){h7J.startClip();m$k.globalAlpha=Y0V.underlay?0.3:1;if(!Y0V.highlight && h7J.highlightedDraggable){m$k.globalAlpha*=0.3;}for(var W6g=2;W6g < X42.length - +"2";W6g++){if(X42[W6g]){if(X42[W6g]["Fractal High " + Y0V.name]){O5d("high",W6g);}if(X42[W6g]["Fractal Low " + Y0V.name]){O5d("low",W6g);}}}h7J.endClip();}};Q6d.Studies.displayGator=function(U7B,A9c,B0M){var p80=h_yMd;var Q8U,t_1,r2C,e1a,p8f,J3P,f75,h6l,j3a,M2j,D1H,F6_;Q8U="stx";Q8U+="_histogram";t_1=U7B.panels[A9c.panel];r2C=A9c.getContext(U7B);e1a=A9c.getYAxis(U7B);p8f=U7B.pixelFromPrice(0,t_1,e1a);p80.E2c(15);var r32=p80.e5e(0,16,34,1,16);J3P=U7B.layout.candleWidth - r32;if(J3P < 2){J3P=1;}f75=Q6d.Studies.determineColor(A9c.outputs["Increasing Bar"]);h6l=Q6d.Studies.determineColor(A9c.outputs["Decreasing Bar"]);U7B.canvasColor(Q8U);if(!A9c.underlay){r2C.globalAlpha=1;}r2C.fillStyle="#CCCCCC";U7B.startClip(A9c.panel);if(!A9c.highlight && U7B.highlightedDraggable){r2C.globalAlpha*=0.3;}for(var w_h=0;w_h < B0M.length;w_h++){j3a=B0M[w_h];p80.L7E(5);M2j=B0M[p80.E9k(1,w_h)];if(!j3a)continue;for(var C5P="1" << 64;C5P <= 2;C5P++){D1H="_h";D1H+="i";D1H+="s";D1H+="t";F6_="_";F6_+="h";F6_+="i";F6_+="st";if(!M2j){M2j=U7B.getPreviousBar(U7B.chart,A9c.name + F6_ + C5P,w_h);}if(!M2j){r2C.fillStyle="#CCCCCC";}else if(Math.abs(M2j[A9c.name + "_hist" + C5P]) < Math.abs(j3a[A9c.name + "_hist" + C5P])){r2C.fillStyle=f75;}else if(Math.abs(M2j[A9c.name + "_hist" + C5P]) > Math.abs(j3a[A9c.name + "_hist" + C5P])){r2C.fillStyle=h6l;}if(j3a.candleWidth){J3P=Math.floor(Math.max(1,j3a.candleWidth - 2));}r2C.fillRect(Math.floor(U7B.pixelFromBar(w_h,t_1.chart) - J3P / 2),Math.floor(p8f),Math.floor(J3P),Math.floor(U7B.pixelFromPrice(j3a[A9c.name + D1H + C5P],t_1,e1a) - p8f));}}U7B.endClip();};Q6d.Studies.studyLibrary=Q6d.extend(Q6d.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!"",seriesFN:Q6d.Studies.displayAlligator,calculateFN:Q6d.Studies.calculateAlligator,inputs:{"Show Lines":!![],"Jaw Period":+"13","Jaw Offset":8,"Teeth Period":8,"Teeth Offset":+"5","Lips Period":5,"Lips Offset":3,"Show Fractals":!({})},outputs:{Jaw:j$G,Teeth:I8F,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:Q6d.Studies.displayGator,calculateFN:Q6d.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":"8" ^ 0,"Teeth Offset":5,"Lips Period":"5" ^ 0,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};Q=l5w=>{var s6C=h_yMd;var h5c,I5$;s6C.H5S();h5c=typeof _CIQ !== "undefined"?_CIQ:l5w.CIQ;if(!h5c.Studies){console.error("aroon feature requires first activating studies feature.");}else {I5$="au";I5$+="t";I5$+="o";h5c.Studies.calculateAroon=function(P0T,p2N){var x0s,y8Z,t70,a$r,u0t,h24,e$5,k9l,x6A,h3A,R5X,s7o,p3y,y4b;x0s=p2N.chart.scrubbed;if(x0s.length < p2N.days + 1){p2N.error=!![];return;}y8Z=0;s6C.E2c(19);t70=s6C.e5e("0",1);a$r=null;u0t=null;if(p2N.startFrom > 0){h24="_s";h24+="ta";h24+="t";h24+="e ";s6C.L7E(6);var J7M=s6C.e5e(5,6,0);e$5=x0s[p2N.startFrom - J7M][h24 + p2N.name];if(e$5){y8Z=e$5[0];s6C.E2c(17);t70=e$5[s6C.e5e("1",0)];a$r=e$5[2];u0t=e$5[3];}}for(var w7u=p2N.startFrom;w7u < x0s.length;w7u++){x6A="Aroon ";x6A+="Dow";x6A+="n ";h3A=x0s[w7u];if(h3A.futureTick)break;if(a$r === null){a$r=h3A.High;}if(u0t === null){u0t=h3A.Low;}a$r=Math.max(a$r,h3A.High);if(a$r == h3A.High){y8Z=0;}else {y8Z++;if(y8Z > p2N.days){a$r=h3A.High;s6C.L7E(19);y8Z=s6C.E9k("0",1);for(k9l=1;k9l <= p2N.days;k9l++){a$r=Math.max(a$r,x0s[w7u - k9l].High);if(a$r == x0s[w7u - k9l].High){y8Z=k9l;}}}}u0t=Math.min(u0t,h3A.Low);if(u0t == h3A.Low){t70=0;}else {t70++;if(t70 > p2N.days){u0t=h3A.Low;t70=0;for(k9l=1;k9l <= p2N.days;k9l++){u0t=Math.min(u0t,x0s[w7u - k9l].Low);if(u0t == x0s[w7u - k9l].Low){t70=k9l;}}}}R5X=!isNaN(h3A.High);s7o=!isNaN(h3A.Low);p3y=+"100" * (+"1" - y8Z / p2N.days);if(R5X){h3A["Aroon Up " + p2N.name]=p3y;}s6C.L7E(2);var b4c=s6C.E9k(17,83);s6C.E2c(0);var R7S=s6C.E9k(0,18,18);y4b=b4c * (R7S - t70 / p2N.days);if(s7o){h3A["Aroon Down " + p2N.name]=y4b;}if(R5X && s7o){h3A["Aroon Oscillator " + p2N.name]=h3A["Aroon Up " + p2N.name] - h3A[x6A + p2N.name];}h3A["_state " + p2N.name]=[y8Z,t70,a$r,u0t];}};h5c.Studies.studyLibrary=h5c.extend(h5c.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:h5c.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:h5c.Studies.calculateAroon,outputs:{"Aroon Oscillator":I5$}}});}};E=x3W=>{var F7Y=h_yMd;var m0$,s7x,C5X,I0f,E4G;m0$="undef";F7Y.H5S();m0$+="ined";s7x=typeof _CIQ !== m0$?_CIQ:x3W.CIQ;if(!s7x.Studies){console.error("atr feature requires first activating studies feature.");}else {C5X="ATR Trailing";C5X+=" Stops";I0f="au";I0f+="to";E4G="aut";E4G+="o";s7x.Studies.calculateATRBands=function(h2W,B2v){var X9k,M6I;X9k="C";X9k+="lose";s7x.Studies.calculateStudyATR(h2W,B2v);M6I=B2v.inputs.Field;if(!M6I || M6I == "field"){M6I=X9k;}F7Y.J2s();s7x.Studies.calculateGenericEnvelope(h2W,B2v,B2v.inputs.Shift,M6I,"ATR " + B2v.name);};s7x.Studies.calculateSTARCBands=function(y$e,X7o){var m4T,c7A;m4T="_";m4T+="MA ";c7A="_";c7A+="M";c7A+="A";s7x.Studies.calculateStudyATR(y$e,X7o);s7x.Studies.MA("simple",X7o.inputs["MA Period"],"Close",0,c7A,y$e,X7o);s7x.Studies.calculateGenericEnvelope(y$e,X7o,X7o.inputs.Multiplier,m4T + X7o.name,"ATR " + X7o.name);};s7x.Studies.calculateATRStops=function(z7v,j_Y){var i1G,R3V,k6O,D81,h3n,H1B,B4i,w5v,C6F,K3x,j8G,r_a,K3j;i1G="A";i1G+="ll ";i1G+="Sto";i1G+="ps ";R3V=j_Y.chart.scrubbed;if(!R3V){return;}s7x.Studies.calculateStudyATR(z7v,j_Y);k6O=j_Y.inputs.HighLow;for(var n3_=Math.max(j_Y.startFrom - 1,"1" * 1);n3_ < R3V.length - 1;n3_++){D81="A";D81+="TR ";h3n="Bu";h3n+="y ";h3n+="Stops ";H1B=R3V[n3_];F7Y.E2c(5);B4i=R3V[F7Y.E9k(1,n3_)];w5v=H1B[h3n + j_Y.name];if(!w5v){w5v=H1B["Sell Stops " + j_Y.name];}if(!w5v){w5v=0;}if(!H1B || !B4i)continue;C6F=H1B.Close;K3x=C6F;j8G=H1B[D81 + j_Y.name] * j_Y.inputs.Multiplier;if(H1B.Close > w5v && B4i.Close > w5v){if(k6O){C6F=H1B.High;}F7Y.L7E(5);K3x=Math.max(w5v,F7Y.e5e(j8G,C6F));}else if(H1B.Close <= w5v && B4i.Close <= w5v){if(k6O){C6F=H1B.Low;}F7Y.L7E(2);K3x=Math.min(w5v,F7Y.E9k(C6F,j8G));}else if(H1B.Close > w5v){if(k6O){C6F=H1B.High;}F7Y.L7E(5);K3x=F7Y.E9k(j8G,C6F);}else if(H1B.Close <= w5v){if(k6O){C6F=H1B.Low;}F7Y.L7E(2);K3x=F7Y.e5e(C6F,j8G);}if(C6F <= K3x){r_a="S";r_a+="ell S";r_a+="tops ";K3j="Buy S";K3j+="tops";K3j+=" ";F7Y.L7E(2);R3V[F7Y.e5e(n3_,1)][K3j + j_Y.name]=K3x;F7Y.E2c(2);delete R3V[F7Y.e5e(n3_,1)][r_a + j_Y.name];}else if(C6F > K3x){F7Y.L7E(2);R3V[F7Y.E9k(n3_,1)]["Sell Stops " + j_Y.name]=K3x;F7Y.E2c(2);delete R3V[F7Y.e5e(n3_,1)]["Buy Stops " + j_Y.name];}F7Y.E2c(2);R3V[F7Y.E9k(n3_,1)]["All Stops " + j_Y.name]=K3x;}j_Y.referenceOutput="All Stops";j_Y.outputMap={};j_Y.outputMap[i1G + j_Y.name]="";};s7x.Studies.studyLibrary=s7x.extend(s7x.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:s7x.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!!({}),seriesFN:s7x.Studies.displayChannel,calculateFN:s7x.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:+"3","Channel Fill":!![]},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:s7x.Studies.displayChannel,calculateFN:s7x.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!!1},outputs:{"STARC Bands Top":E4G,"STARC Bands Median":I0f,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:"0.1" * 1,step:0.1}}},"ATR Trailing Stop":{name:C5X,overlay:!![],seriesFN:s7x.Studies.displayPSAR2,calculateFN:s7x.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!!0},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};U=V5l=>{var v6b=h_yMd;var V$i,Q57;V$i="u";V$i+="nde";v6b.H5S();V$i+="fine";V$i+="d";Q57=typeof _CIQ !== V$i?_CIQ:V5l.CIQ;if(!Q57.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {Q57.Studies.calculateAwesomeOscillator=function(C_q,A1J){var D_Q,r4A,w7U,a00;D_Q="hl";D_Q+="/2";r4A=A1J.chart.scrubbed;if(r4A.length < 33){A1J.error=!!"1";return;}Q57.Studies.MA("simple",5,D_Q,+"0","_MA5",C_q,A1J);Q57.Studies.MA("simple",34,"hl/2",0,"_MA34",C_q,A1J);for(var j45=Math.max(A1J.startFrom,33);j45 < r4A.length;j45++){w7U="_M";w7U+="A3";w7U+="4 ";a00="_M";a00+="A";a00+="5";a00+=" ";if(!r4A[j45])continue;r4A[j45][A1J.name + "_hist"]=r4A[j45][a00 + A1J.name] - r4A[j45][w7U + A1J.name];}A1J.outputMap={};A1J.outputMap[A1J.name + "_hist"]="";};Q57.Studies.displayAwesomeOscillator=function(a9x,i39,C2n){var m$n,j6S,B$4,E_Q,C9V,e6N,c_d,o9y,P8f,Z49,m48,n4t,N8x;m$n="#CCC";m$n+="CCC";j6S=a9x.panels[i39.panel];B$4=i39.getContext(a9x);E_Q=i39.getYAxis(a9x);v6b.J2s();C9V=a9x.pixelFromPrice(0,j6S,E_Q);v6b.E2c(131);var W22=v6b.E9k(7,4,16,6,12);e6N=a9x.layout.candleWidth - W22;if(e6N < 2){e6N=1;}c_d=Q57.Studies.determineColor(i39.outputs["Increasing Bar"]);o9y=-74055818;P8f=-636005643;Z49=2;for(var c_$=+"1";v6b.z3M(c_$.toString(),c_$.toString().length,41458) !== o9y;c_$++){m48=Q57.Studies.determineColor(i39.outputs["Decreasing Bar"]);Z49+=2;}if(v6b.z3M(Z49.toString(),Z49.toString().length,87560) !== P8f){m48=Q57.Studies.determineColor(i39.outputs[""]);}a9x.canvasColor("stx_histogram");if(!i39.underlay){B$4.globalAlpha=1;}B$4.fillStyle=m$n;a9x.startClip(i39.panel);if(!i39.highlight && a9x.highlightedDraggable){B$4.globalAlpha*=0.3;}for(var d4U=0;d4U < C2n.length;d4U++){n4t=C2n[d4U];v6b.L7E(5);N8x=C2n[v6b.E9k(1,d4U)];if(!N8x){N8x=a9x.getPreviousBar(a9x.chart,i39.name + "_hist",d4U);}if(!n4t)continue;if(!N8x);else if(N8x[i39.name + "_hist"] < n4t[i39.name + "_hist"]){B$4.fillStyle=c_d;}else if(N8x[i39.name + "_hist"] > n4t[i39.name + "_hist"]){B$4.fillStyle=m48;}if(n4t.candleWidth){e6N=Math.floor(Math.max(1,n4t.candleWidth - 2));}B$4.fillRect(Math.floor(a9x.pixelFromBar(d4U,j6S.chart) - e6N / 2),Math.floor(C9V),Math.floor(e6N),Math.floor(a9x.pixelFromPrice(n4t[i39.name + "_hist"],j6S,E_Q) - C9V));}a9x.endClip();};Q57.Studies.studyLibrary=Q57.extend(Q57.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:Q57.Studies.displayAwesomeOscillator,calculateFN:Q57.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};Z=r5d=>{var N6Y,I86;N6Y=typeof _CIQ !== "undefined"?_CIQ:r5d.CIQ;h_yMd.J2s();if(!N6Y.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {I86="m";I86+="a";N6Y.Studies.calculateBalanceOfPower=function(w$F,Z8s){var a6g,u15,d0r;a6g=Z8s.chart.scrubbed;if(a6g.length < Z8s.days + +"1"){Z8s.error=!"";return;}for(var m5F=Z8s.startFrom;m5F < a6g.length;m5F++){u15="_";u15+="R";u15+="at";u15+="io ";d0r=a6g[m5F];d0r[u15 + Z8s.name]=d0r.Close - d0r.Open;if(d0r.High - d0r.Low !== 0){d0r["_Ratio " + Z8s.name]/=d0r.High - d0r.Low;}}N6Y.Studies.MA(Z8s.inputs["Moving Average Type"],Z8s.days,"_Ratio " + Z8s.name,0,"Result",w$F,Z8s);};N6Y.Studies.studyLibrary=N6Y.extend(N6Y.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:N6Y.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":I86}}});}};g=R41=>{var Q$W,d6W,L5y,N4d,O3O,Q4Q,w50,y6Z,V4N,v$W,X2U,p3J,a1Q,W7R;Q$W=typeof _CIQ !== "undefined"?_CIQ:R41.CIQ;if(!Q$W.Studies){console.error("bollinger feature requires first activating studies feature.");}else {Q$W.Studies.calculateBollinger=function(x9j,s8c){var u$S,Y$O,z3q;u$S="S";u$S+="TD Dev";Y$O="f";Y$O+="i";Y$O+="eld";z3q=s8c.inputs.Field;h_yMd.H5S();if(!z3q || z3q == Y$O){z3q="Close";}Q$W.Studies.MA(s8c.inputs["Moving Average Type"],s8c.days,z3q,0,"_MA",x9j,s8c);s8c.std=new Q$W.Studies.StudyDescriptor(s8c.name,u$S,s8c.panel);s8c.std.chart=s8c.chart;s8c.std.startFrom=s8c.startFrom;s8c.std.days=s8c.days;s8c.std.inputs={Field:z3q,"Standard Deviations":1,Type:s8c.inputs["Moving Average Type"]};s8c.std.outputs={"_STD Dev":null};Q$W.Studies.calculateStandardDeviation(x9j,s8c.std);Q$W.Studies.calculateGenericEnvelope(x9j,s8c,s8c.inputs["Standard Deviations"],"_MA " + s8c.name,"_STD Dev " + s8c.name);if(s8c.type == "Boll %b"){s8c.zoneOutput="%b";}};d6W=1757110856;L5y=-+"2114601803";N4d=2;for(var n7f=1;h_yMd.K8j(n7f.toString(),n7f.toString().length,51605) !== d6W;n7f++){O3O="Channel Fi";O3O+="ll";Q4Q="f";Q4Q+="ie";Q4Q+="ld";w50="m";w50+="a";y6Z="au";y6Z+="to";V4N="m";V4N+="a";v$W="Bolling";v$W+="er Ban";v$W+="ds";v$W+=" Median";Q$W.Studies.studyLibrary=Q$W.extend(Q$W.Studies.studyLibrary,{"Bollinger Bands":{name:"Standard Deviations",overlay:!1,calculateFN:Q$W.Studies.calculateBollinger,seriesFN:Q$W.Studies.displayChannel,inputs:{Period:96,Field:"auto","Standard Deviations":9,"Moving Average Type":"Boll BW","Channel Fill":!!""},outputs:{"Bollinger Bands Top":"Bollinger Bands Bottom","Bollinger Bands Median":v$W,"Bollinger Bands Bottom":"field"},attributes:{"Standard Deviations":{min:467,step:+"618"}}},"Boll %b":{name:V4N,calculateFN:Q$W.Studies.calculateBollinger,inputs:{Period:76,Field:y6Z,"Standard Deviations":6,"Moving Average Type":w50},outputs:{"%b":"Standard Deviations"},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:"293" * 1,studyOverBoughtColor:Q4Q,studyOverSoldValue:+"7",studyOverSoldColor:"ma"}},attributes:{"Standard Deviations":{min:821,step:324}}},"Boll BW":{name:"auto",calculateFN:Q$W.Studies.calculateBollinger,inputs:{Period:25,Field:"Boll %b","Standard Deviations":8,"Moving Average Type":O3O},outputs:{Bandwidth:"%b"},attributes:{"Standard Deviations":{min:827,step:"536" - 0}}}});N4d+=+"2";}if(h_yMd.K8j(N4d.toString(),N4d.toString().length,16861) !== L5y){X2U="m";X2U+="a";p3J="aut";p3J+="o";a1Q="a";a1Q+="u";a1Q+="t";a1Q+="o";W7R="Bol";W7R+="l";W7R+="i";W7R+="nger Bands";Q$W.Studies.studyLibrary=Q$W.extend(Q$W.Studies.studyLibrary,{"Bollinger Bands":{name:W7R,overlay:!!"1",calculateFN:Q$W.Studies.calculateBollinger,seriesFN:Q$W.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":"auto","Bollinger Bands Bottom":a1Q},attributes:{"Standard Deviations":{min:"0.1" * 1,step:"0.1" * 1}}},"Boll %b":{name:"Bollinger %b",calculateFN:Q$W.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:100,studyOverBoughtColor:p3J,studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:Q$W.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":X2U},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}}};W=h9Y=>{var P2Y;P2Y=typeof _CIQ !== "undefined"?_CIQ:h9Y.CIQ;if(!P2Y.Studies){console.error("cci feature requires first activating studies feature.");}else {P2Y.Studies.calculateCCI=function(s1e,f4$){var K3u,Z0Q,G$T,n_K,y51;K3u="s";K3u+="im";K3u+="p";K3u+="le";Z0Q=f4$.chart.scrubbed;if(Z0Q.length < f4$.days + 1){f4$.error=!"";return;}P2Y.Studies.MA(K3u,f4$.days,"hlc/3","0" * 1,"MA",s1e,f4$);for(var n8l=Math.max(f4$.startFrom,f4$.days - 1);n8l < Z0Q.length;n8l++){G$T="M";G$T+="A ";n_K=Z0Q[n8l];if(!n_K)continue;h_yMd.E2c(19);y51=h_yMd.e5e("0",1);for(var w_o=0;w_o < f4$.days;w_o++){y51+=Math.abs(Z0Q[n8l - w_o]["hlc/3"] - n_K["MA " + f4$.name]);}y51/=f4$.days;if(Math.abs(y51) < 0.00000001){n_K["Result " + f4$.name]=+"0";}else {n_K["Result " + f4$.name]=(n_K["hlc/3"] - n_K[G$T + f4$.name]) / (0.015 * y51);}}};P2Y.Studies.studyLibrary=P2Y.extend(P2Y.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:P2Y.Studies.calculateCCI,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:+"2"}}}});}};p3=N3y=>{var r8V;r8V=typeof _CIQ !== "undefined"?_CIQ:N3y.CIQ;if(!r8V.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {r8V.Studies.calculateCenterOfGravity=function(u8u,u9Y){var G2A=h_yMd;var C9X,a9V,r1N,O0d,R5j;C9X=u9Y.chart.scrubbed;if(C9X.length < u9Y.days){u9Y.error=!![];return;}a9V=u9Y.inputs.Field;if(!a9V || a9V == "field"){a9V="Close";}for(var h_G=Math.max(u9Y.startFrom,u9Y.days - 1);h_G < C9X.length;h_G++){r1N=0;O0d=0;for(var O99=0;O99 < u9Y.days;O99++){G2A.L7E(5);R5j=C9X[G2A.e5e(O99,h_G)][a9V];G2A.L7E(132);r1N-=G2A.e5e(1,R5j,O99);O0d+=R5j;}if(O0d){G2A.E2c(9);C9X[h_G]["Result " + u9Y.name]=G2A.e5e(r1N,O0d);}}};r8V.Studies.studyLibrary=r8V.extend(r8V.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:r8V.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};L7=l14=>{var d6i=h_yMd;var g35,P3e;g35=typeof _CIQ !== "undefined"?_CIQ:l14.CIQ;d6i.J2s();if(!g35.Studies){P3e="chaikin feature requires first activating stud";P3e+="ies feat";P3e+="ure.";console.error(P3e);}else {g35.Studies.calculateChaikinMoneyFlow=function(b2W,L_O){var M8S,a7S,H2O,X6b,j$k,Z$M,S1m,l8O,J7a,q4M;M8S=L_O.chart.scrubbed;if(M8S.length < L_O.days){L_O.error=!!({});return;}a7S=+"0";H2O=0;d6i.E2c(5);var W0_=d6i.E9k(3,4);d6i.J2s();X6b=M8S[L_O.startFrom - W0_];if(X6b){j$k=-398970342;d6i.L7E(19);Z$M=d6i.e5e("666095675",1);S1m=2;for(var i$8=1;d6i.K8j(i$8.toString(),i$8.toString().length,54801) !== j$k;i$8++){if(X6b["_sumMF " + L_O.name]){a7S=X6b["_sumMF " + L_O.name];}S1m+=2;}if(d6i.z3M(S1m.toString(),S1m.toString().length,92408) !== Z$M){l8O="_sum";l8O+="M";l8O+="F ";if(X6b["_sumMF " % L_O.name]){a7S=X6b[l8O % L_O.name];}}if(X6b["_sumV " + L_O.name]){H2O=X6b["_sumV " + L_O.name];}}for(var r4E=L_O.startFrom;r4E < M8S.length;r4E++){J7a="_";J7a+="M";J7a+="F";J7a+="V ";q4M="_";q4M+="MF";q4M+="V ";if(M8S[r4E].High == M8S[r4E].Low){M8S[r4E][q4M + L_O.name]=0;}else {d6i.L7E(5);var K8D=d6i.e5e(3,5);M8S[r4E]["_MFV " + L_O.name]=M8S[r4E].Volume * (K8D * M8S[r4E].Close - M8S[r4E].High - M8S[r4E].Low) / (M8S[r4E].High - M8S[r4E].Low);}a7S+=M8S[r4E][J7a + L_O.name];H2O+=M8S[r4E].Volume;if(r4E > L_O.days - 1){a7S-=M8S[r4E - L_O.days]["_MFV " + L_O.name];H2O-=M8S[r4E - L_O.days].Volume;if(H2O){d6i.E2c(9);M8S[r4E]["Result " + L_O.name]=d6i.e5e(a7S,H2O);}}M8S[r4E]["_sumMF " + L_O.name]=a7S;M8S[r4E]["_sumV " + L_O.name]=H2O;}};g35.Studies.calculateChaikinVolatility=function(E2w,j_f){var S6y,K3H,p6u,n52,K6$,i2H;S6y="Ra";S6y+="te O";S6y+="f Change";K3H="Moving Aver";K3H+="age Type";d6i.J2s();p6u=j_f.chart.scrubbed;if(p6u.length < j_f.days){j_f.error=!![];return;}for(n52=j_f.startFrom;n52 < p6u.length;n52++){if(p6u[n52].futureTick)break;p6u[n52]["_High-Low " + j_f.name]=p6u[n52].High - p6u[n52].Low;}g35.Studies.MA(j_f.inputs[K3H],j_f.days,"_High-Low " + j_f.name,0,"_MA",E2w,j_f);K6$=j_f.inputs[S6y];if(!K6$){K6$=j_f.days;}for(n52=Math.max(j_f.startFrom,K6$);n52 < p6u.length;n52++){i2H="R";i2H+="esult ";if(!p6u[n52 - K6$]["_MA " + j_f.name])continue;if(p6u[n52].futureTick)break;d6i.E2c(32);var R59=d6i.E9k(1896,4,2000);p6u[n52][i2H + j_f.name]=R59 * (p6u[n52]["_MA " + j_f.name] / p6u[n52 - K6$]["_MA " + j_f.name] - +"1");}};g35.Studies.studyLibrary=g35.extend(g35.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:g35.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:g35.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":"2" ^ 0,"Moving Average Type":"ma"}}});}};B5=C$L=>{var Z3j=h_yMd;var e8h,M2f,b92;Z3j.H5S();e8h=typeof _CIQ !== "undefined"?_CIQ:C$L.CIQ;if(!e8h.Studies){console.error("chande feature requires first activating studies feature.");}else {M2f="V";M2f+="ari";M2f+="able";b92="var";b92+="i";b92+="ab";b92+="le";e8h.Studies.prettify.variable="vma";e8h.Studies.movingAverage.conversions.vma=b92;e8h.Studies.movingAverage.translations.variable=M2f;e8h.Studies.movingAverage.typeMap.vma="Variable";e8h.Studies.movingAverage.typeMap.variable="Variable";e8h.Studies.calculateChandeForecast=function(o0g,x$0){var O9d,m7d,q_9,M2O;O9d=x$0.chart.scrubbed;if(O9d.length < x$0.days + 1){x$0.error=!0;return;}m7d=x$0.inputs.Field;if(!m7d || m7d == "field"){m7d="Close";}e8h.Studies.MA("time series",x$0.days,m7d,0,"MA",o0g,x$0);for(var Z1w=Math.max(1,x$0.startFrom);Z1w < O9d.length;Z1w++){q_9="ob";q_9+="ject";M2O=O9d[Z1w][m7d];if(M2O && typeof M2O == q_9){M2O=M2O[x$0.subField];}Z3j.L7E(76);var k1p=Z3j.E9k(99,107,107);Z3j.E2c(5);var F4V=Z3j.E9k(19,20);O9d[Z1w]["Result " + x$0.name]=k1p * (F4V - O9d[Z1w]["MA " + x$0.name] / M2O);}};e8h.Studies.calculateChandeMomentum=function(H1V,N0B){var Y5L,F5P,d5M,l12,I3J,W_3,f9c,c6i,H$h,z4n,T7b;Y5L="C";Y5L+="l";Y5L+="os";Y5L+="e";F5P=N0B.name;for(var Z8V in N0B.outputs){Z3j.L7E(95);F5P=Z3j.e5e(Z8V,F5P,805.7 <= (7216,+"733.01")?1.30e+3:"767.7" * 1 >= 8092?(8.30e+3,!1):(1143,795) >= (248.59,488.78)?" ":("i",2.72e+3));}d5M=N0B.chart.scrubbed;if(d5M.length < N0B.days + 1){N0B.error=!!({});return;}l12=N0B.inputs.Field;if(!l12 || l12 == "field"){l12=Y5L;}I3J=0;W_3=0;f9c=[];for(var M0$=N0B.startFrom - N0B.days + 1;M0$ < d5M.length;M0$++){if(M0$ < 1)continue;c6i=d5M[M0$][l12];Z3j.E2c(5);H$h=d5M[Z3j.E9k(1,M0$)][l12];if(c6i && typeof c6i == "object"){c6i=c6i.Close;}if(H$h && typeof H$h == "object"){H$h=H$h.Close;}if(H$h === undefined)continue;Z3j.E2c(5);z4n=Z3j.e5e(H$h,c6i);f9c.push(z4n);I3J+=z4n;W_3+=Math.abs(z4n);if(f9c.length == N0B.days){Z3j.E2c(133);d5M[M0$][F5P]=Z3j.E9k(W_3,"100",I3J);T7b=f9c.shift();I3J-=T7b;W_3-=Math.abs(T7b);}}};e8h.Studies.calculateMovingAverageVariable=function(T3q,z1g){var n4T,E9m,S$t,R1V,Y3x,D7Z,r9P,L$y,q8k,J4g,U9L,S8P,T83,K04,v4C,C$z,l2G,N2C;n4T=z1g.inputs.Type;E9m=z1g.chart.scrubbed;Z3j.L7E(134);var Z4C=Z3j.e5e(0,1,14,14);Z3j.L7E(5);var F3W=Z3j.E9k(11,12);S$t=Z4C / (z1g.days + F3W);R1V=null;Y3x=z1g.name;for(var G7n in z1g.outputs){Z3j.L7E(95);Y3x=Z3j.E9k(G7n,Y3x,("783.18" * 1,709) !== (934.38,4290)?1261 < (790.81,7330)?" ":(+"132.35",537.37) != 5881?(!!({}),0x1f19):(0x1f3b,!({})):(2.45e+3,"0x14f7" - 0));}D7Z=z1g.inputs.Field;if(!D7Z || D7Z == "field"){D7Z="Close";}z1g.cmo=new e8h.Studies.StudyDescriptor(z1g.name,"cmo",z1g.panel);z1g.cmo.chart=z1g.chart;Z3j.H5S();z1g.cmo.days=9;z1g.cmo.inputs={Field:D7Z};z1g.cmo.startFrom=z1g.startFrom;z1g.cmo.outputs={_CMO:null};e8h.Studies.calculateChandeMomentum(T3q,z1g.cmo);r9P=parseInt(z1g.inputs.Offset,10);if(isNaN(r9P)){r9P=+"0";}U9L=z1g.startFrom;S8P=r9P;for(L$y=z1g.startFrom - +"1";L$y >= +"0";L$y--){q8k=E9m[L$y][Y3x];if(!q8k && q8k !== 0)continue;if(R1V === null){R1V=q8k;}if(S8P <= 0)break;S8P--;U9L=L$y;}if(R1V === null){R1V=U9L=0;}T83=[];for(L$y=U9L;L$y < E9m.length;L$y++){K04=E9m[L$y];q8k=K04[D7Z];if(q8k && typeof q8k == "object"){q8k=q8k[z1g.subField];}v4C=L$y + r9P >= 0 && L$y + r9P < E9m.length;C$z=v4C?E9m[L$y + r9P]:null;if(!q8k && q8k !== 0){if(C$z){C$z[Y3x]=null;}else if(L$y + r9P >= E9m.length){J4g={};J4g[Y3x]=null;T83.push(J4g);}continue;}if(!K04["_CMO " + z1g.name] && K04["_CMO " + z1g.name] !== +"0")continue;Z3j.L7E(76);var M0n=Z3j.e5e(99,118,118);l2G=Math.abs(K04["_CMO " + z1g.name]) / M0n;Z3j.L7E(135);N2C=Z3j.E9k(S$t,l2G,S$t,R1V,q8k,l2G,1);R1V=N2C;if(L$y < z1g.days){N2C=null;}if(C$z){C$z[Y3x]=N2C;}else if(L$y + r9P >= E9m.length){J4g={};J4g[Y3x]=N2C;T83.push(J4g);}}z1g.appendFutureTicks(T3q,T83);};e8h.Studies.studyLibrary=e8h.extend(e8h.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:e8h.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:e8h.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:+"50",studyOverBoughtColor:"auto",studyOverSoldValue:-("50" << 32),studyOverSoldColor:"auto"}}}});}};I2=G_k=>{var y9l=h_yMd;var C9l,x5d,J2B,m_c,m1J,Z9b,j99;C9l=-1198524971;x5d=1713392241;y9l.H5S();y9l.L7E(42);J2B=y9l.E9k(0,"2");for(var a$Z="1" - 0;y9l.z3M(a$Z.toString(),a$Z.toString().length,76612) !== C9l;a$Z++){m_c=!_CIQ === ""?_CIQ:G_k.CIQ;J2B+=2;}if(y9l.z3M(J2B.toString(),J2B.toString().length,54437) !== x5d){m_c=typeof _CIQ !== "undefined"?_CIQ:G_k.CIQ;}if(!m_c.Studies){m1J="choppines";m1J+="s feature requires first a";m1J+="ctivating";m1J+=" studies feature.";console.error(m1J);}else {Z9b="0";Z9b+=".";Z9b+="1";j99="Cho";j99+="ppiness Inde";j99+="x";m_c.Studies.calculateChoppiness=function(c6h,O2B){var W2W,g8c,g2y,c$2;m_c.Studies.calculateStudyATR(c6h,O2B);y9l.J2s();W2W=O2B.chart.scrubbed;function T2B(h0B,T2N){var x92,H8S;y9l.L7E(8);var a_I=y9l.e5e(31,12,20);x92=Number.MAX_VALUE * a_I;y9l.J2s();H8S=Number.MAX_VALUE;for(var f5I=T2N - h0B + 1;f5I <= T2N;f5I++){if(f5I < 0)continue;x92=Math.max(x92,W2W[f5I].High);H8S=Math.min(H8S,W2W[f5I].Low);}return [H8S,x92];}if(W2W.length < O2B.days + +"1"){O2B.error=!"";return;}for(var o$W=Math.max(O2B.startFrom,O2B.days);o$W < W2W.length;o$W++){g8c="S";g8c+="u";g8c+="m True Range ";g2y=W2W[o$W];if(!g2y)continue;if(g2y.futureTick)break;c$2=T2B(O2B.days,o$W);if(g2y[g8c + O2B.name]){y9l.E2c(37);var K67=y9l.e5e(107,16,18,1594);y9l.L7E(12);var G3m=y9l.e5e(3,2);y9l.E2c(28);var R6R=y9l.E9k(1,6,24,19);g2y["Result " + O2B.name]=K67 * Math.log(g2y["Sum True Range " + O2B.name] / Math.max("0.000001" * G3m,c$2[R6R] - c$2[0])) / Math.log(O2B.days);}else if(!isNaN(g2y)){g2y["Result " + O2B.name]=0;}}};m_c.Studies.studyLibrary=m_c.extend(m_c.Studies.studyLibrary,{Choppiness:{name:j99,calculateFN:m_c.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"61.8" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:Z9b},studyOverSoldValue:{max:50,step:"0.1"}}}});}};l$=W$p=>{var B7V,H3z;B7V=typeof _CIQ !== "undefined"?_CIQ:W$p.CIQ;if(!B7V.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!B7V.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {H3z="Be";H3z+="ta";B7V.Studies.calculateCorrelationCoefficient=function(i33,C3e){var q2N=h_yMd;var L6$,c0H,H4B,x_F,A$W,W72,X8M,Z3E,i7g,l7Y,m9r,u1x,o9Y,r0f,o69,C$0,c39,B1G,O65,U6$;L6$=C3e.chart.scrubbed;c0H=C3e.days;if(L6$.length < c0H + 1){C3e.error=!!({});return;}C3e.compare=C3e.inputs["Compare To"];if(!C3e.compare){C3e.compare=[];C3e.outputs={};C3e.outputMap={};for(var e0L in i33.chart.series){H4B=i33.chart.series[e0L];if(H4B.parameters.color){x_F="R";x_F+="esu";x_F+="lt";x_F+=" ";C3e.compare.push(H4B.display);C3e.outputs[x_F + H4B.display]=H4B.parameters.color;q2N.E2c(76);var K22=q2N.E9k(6891,4,9196);q2N.L7E(10);var y93=q2N.E9k(185472,2,97152);q2N.E2c(71);var f1s=q2N.E9k(17,14,13293,369,3);q2N.E2c(136);var r7g=q2N.E9k(5,9398,9416,14,329560);q2N.L7E(5);var y0B=q2N.e5e(15120,16065);C3e.outputMap["Result " + H4B.display + (K22 !== (y93,f1s)?" ":"12.39" - 0 <= r7g?+"0x1519":(y0B,!!({}))) + C3e.name]="Result " + H4B.display;}}}else {C3e.compare=[C3e.compare];}if(!C3e.compare.length){A$W="Corr";A$W+="elation Coefficient requires at least one comparison symbol";C3e.error=A$W;return;}for(var o32="0" * 1;o32 < C3e.compare.length;o32++){W72=0;X8M=0;Z3E=0;i7g=0;l7Y=0;m9r=C3e.compare[o32];q2N.L7E(40);u1x=q2N.E9k(64,"0");for(var g6x=C3e.startFrom - c0H;g6x < L6$.length;g6x++){if(!L6$[g6x])continue;o9Y=L6$[g6x][m9r];if(o9Y && typeof o9Y == "object"){o9Y=o9Y.Close;}if(!o9Y && o9Y !== 0){r0f="_";r0f+="temps ";if(g6x > 0 && L6$[g6x - 1] && L6$[g6x - 1][r0f + C3e.name] && L6$[g6x - 1]["_temps " + C3e.name].c){o9Y=L6$[g6x - 1]["_temps " + C3e.name].c;}else {q2N.E2c(24);o9Y=q2N.E9k("0",0);}}if(o9Y && typeof o9Y == "object"){o9Y=o9Y.Close;}L6$[g6x]["_temps " + C3e.name]={};W72+=L6$[g6x]["_temps " + C3e.name].b=L6$[g6x].Close;X8M+=L6$[g6x]["_temps " + C3e.name].c=o9Y;Z3E+=L6$[g6x]["_temps " + C3e.name].b2=Math.pow(L6$[g6x].Close,"2" << 64);i7g+=L6$[g6x]["_temps " + C3e.name].c2=Math.pow(o9Y,2);l7Y+=L6$[g6x]["_temps " + C3e.name].bc=L6$[g6x].Close * o9Y;if(u1x >= c0H){o69="Resu";o69+="l";o69+="t ";C$0="_";C$0+="temps ";W72-=L6$[g6x - c0H]["_temps " + C3e.name].b;X8M-=L6$[g6x - c0H]["_temps " + C3e.name].c;Z3E-=L6$[g6x - c0H][C$0 + C3e.name].b2;i7g-=L6$[g6x - c0H]["_temps " + C3e.name].c2;l7Y-=L6$[g6x - c0H]["_temps " + C3e.name].bc;q2N.L7E(2);var o_K=q2N.E9k(0,2);c39=Z3E / c0H - Math.pow(W72 / c0H,o_K);q2N.E2c(2);var a67=q2N.E9k(0,2);B1G=i7g / c0H - Math.pow(X8M / c0H,a67);q2N.E2c(137);var d3i=q2N.E9k(2147,11,13,15);O65=l7Y / c0H - W72 * X8M / Math.pow(c0H,d3i);U6$=O65 / Math.sqrt(c39 * B1G);q2N.E2c(34);var t6I=q2N.e5e(2883,10,18,1);q2N.E2c(95);var x_m=q2N.e5e(841,7554,15);q2N.E2c(95);var P0D=q2N.e5e(16,12,4);q2N.L7E(102);var j_U=q2N.E9k(6,4935,16,18,73994);L6$[g6x][o69 + m9r + (t6I < x_m?" ":"6410" >> P0D != 843.64?(![],j_U):(!!0,"s")) + C3e.name]=U6$;}u1x++;}}};B7V.Studies.calculatePerformance=function(i9D,S8_){var x8o,u1L,h7I,S$M,i$7,n3v,a6D;x8o="_MA ";x8o+="Com";x8o+="p";u1L="m";h_yMd.H5S();u1L+="a";h7I="_M";h7I+="A ";h7I+="B";h7I+="ase";S$M="C";S$M+="lose";i$7=S8_.chart.scrubbed;n3v=S8_.inputs["Comparison Symbol"].toUpperCase();if(!n3v){n3v=S8_.study.inputs["Comparison Symbol"];}if(!S8_.days){S8_.days=S8_.study.inputs.Period;}if(i$7.length < S8_.days + 1){S8_.error=!0;return;}B7V.Studies.MA("ma",S8_.days,S$M,0,h7I,i9D,S8_);B7V.Studies.MA(u1L,S8_.days,n3v,"0" * 1,x8o,i9D,S8_);for(var z7D=S8_.startFrom;z7D < i$7.length;z7D++){a6D=i$7[z7D][n3v];if(a6D && (a6D.Close || a6D.Close === 0)){a6D=a6D.Close;}i$7[z7D]["Result " + S8_.name]=i$7[z7D].Close / a6D * (i$7[z7D]["_MA Comp " + S8_.name] / i$7[z7D]["_MA Base " + S8_.name]);}};B7V.Studies.calculateBeta=function(Y1V,O0m){var I7p=h_yMd;var y3J,N$p,F3y,T6V,e_u,X5A,A_J,w4h,T5v,Q9y,q$S,L5H;y3J="_V";y3J+="A";y3J+="R";N$p="_Com";N$p+="pCha";N$p+="nge ";F3y="m";F3y+="a";T6V="m";I7p.J2s();T6V+="a";e_u=O0m.chart.scrubbed;X5A=O0m.inputs["Comparison Symbol"].toUpperCase();if(!X5A){X5A=O0m.study.inputs["Comparison Symbol"];}if(!O0m.days){O0m.days=O0m.study.inputs.Period;}if(e_u.length < O0m.days + +"1"){O0m.error=!![];return;}for(var n9W=Math.max(O0m.startFrom,1);n9W < e_u.length;n9W++){I7p.E2c(138);var C7p=I7p.e5e(12,4,11,3,18);e_u[n9W]["_BaseChange " + O0m.name]=e_u[n9W].Close / e_u[n9W - C7p].Close - ("1" ^ 0);A_J=e_u[n9W][X5A];if(A_J && (A_J.Close || A_J.Close === 0)){A_J=A_J.Close;}I7p.L7E(5);w4h=e_u[I7p.e5e(1,n9W)][X5A];if(w4h && (w4h.Close || w4h.Close === 0)){w4h=w4h.Close;}I7p.L7E(139);e_u[n9W]["_CompChange " + O0m.name]=I7p.E9k("1",A_J,w4h);}B7V.Studies.MA(T6V,O0m.days,"_BaseChange " + O0m.name,0,"_MA Base",Y1V,O0m);B7V.Studies.MA(F3y,O0m.days,N$p + O0m.name,0,"_MA Comp",Y1V,O0m);for(n9W=Math.max(O0m.startFrom,O0m.days);n9W < e_u.length;n9W++){T5v="_MA";T5v+=" Co";T5v+="mp ";Q9y="_MA B";Q9y+="ase ";q$S="_BaseCha";q$S+="nge ";e_u[n9W]["_COVARn " + O0m.name]=(e_u[n9W][q$S + O0m.name] - e_u[n9W][Q9y + O0m.name]) * (e_u[n9W]["_CompChange " + O0m.name] - e_u[n9W]["_MA Comp " + O0m.name]);e_u[n9W]["_VARn " + O0m.name]=Math.pow(e_u[n9W]["_CompChange " + O0m.name] - e_u[n9W][T5v + O0m.name],2);}B7V.Studies.MA("ma",O0m.days,"_COVARn " + O0m.name,"0" ^ 0,"_COVAR",Y1V,O0m);B7V.Studies.MA("ma",O0m.days,"_VARn " + O0m.name,"0" << 0,y3J,Y1V,O0m);for(n9W=Math.max(O0m.startFrom,O0m.days * 2 - 1);n9W < e_u.length;n9W++){L5H="_C";L5H+="OV";L5H+="AR ";e_u[n9W]["Result " + O0m.name]=e_u[n9W][L5H + O0m.name] / e_u[n9W]["_VAR " + O0m.name];}};B7V.Studies.studyLibrary=B7V.extend(B7V.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:B7V.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:B7V.Studies.initPriceRelative,seriesFN:B7V.Studies.displayVsComparisonSymbol,calculateFN:B7V.Studies.calculatePerformance,inputs:{Period:"120" - 0,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!0},Beta:{name:H3z,centerline:+"1",initializeFN:B7V.Studies.initPriceRelative,seriesFN:B7V.Studies.displayVsComparisonSymbol,calculateFN:B7V.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!!1}});}};h_yMd.H5S();m7=b9Y=>{var I9t=h_yMd;I9t.J2s();var c_I,g3t,R4e;c_I=typeof _CIQ !== "undefined"?_CIQ:b9Y.CIQ;if(!c_I.Studies){g3t="cop";g3t+="pock feature requires first activating";g3t+=" studies feature.";console.error(g3t);}else {R4e="fi";R4e+="e";R4e+="ld";c_I.Studies.calculateCoppock=function(K1Q,s32){var f4R,V6P,l5R,B3C,R9R,g1S,J4n,T35,D3O,c_w,J2H;f4R="weight";f4R+="ed";V6P="Sh";V6P+="ort Ro";V6P+="C";l5R="Cl";l5R+="ose";B3C=s32.chart.scrubbed;R9R=s32.inputs.Field;if(!R9R || R9R == "field"){R9R=l5R;}g1S=parseInt(s32.inputs["Long RoC"],+"10");if(!g1S){g1S=14;}J4n=parseInt(s32.inputs[V6P],10);if(!J4n){J4n=11;}T35=s32.days;if(!T35){T35=10;}if(g1S < J4n){return;}if(B3C.length < Math.max(J4n,g1S,T35) + 1){s32.error=!0;return;}for(var A4E=Math.max(s32.startFrom,g1S);A4E < B3C.length;A4E++){I9t.E2c(5);D3O=B3C[I9t.e5e(J4n,A4E)][R9R];I9t.E2c(5);c_w=B3C[I9t.e5e(g1S,A4E)][R9R];if(D3O && c_w){J2H="_";J2H+="S";J2H+="um";J2H+=" ";I9t.L7E(63);var T1e=I9t.E9k(30,20,11,99,110);I9t.L7E(2);var P1C=I9t.E9k(0,2);B3C[A4E][J2H + s32.name]=T1e * (B3C[A4E][R9R] / D3O + B3C[A4E][R9R] / c_w - P1C);}}c_I.Studies.MA(f4R,T35,"_Sum " + s32.name,0,"Result",K1Q,s32);};c_I.Studies.studyLibrary=c_I.extend(c_I.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:c_I.Studies.calculateCoppock,inputs:{Period:10,Field:R4e,"Short RoC":11,"Long RoC":14}}});}};y3=s5w=>{var E0Z=h_yMd;E0Z.J2s();var m$m,n1I,Y20,t$w;m$m=typeof _CIQ !== "undefined"?_CIQ:s5w.CIQ;if(!m$m.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {n1I="a";n1I+="u";n1I+="t";n1I+="o";Y20="#69915";Y20+="8";t$w="#5F";t$w+="7CB8";m$m.Studies.calculateDarvas=function(k5J,U81){var e5Q,K$_,n8p,R7P,F$q,K43,o9q,t0T,X$e,r6E,Z_t,W0c,k1n,Z_N,E2e,o2$,p5p,C$v,s7T,f7x,x$1,Z$Y,K0F,C0A,h4c,z3n,E4o,R6I,X_r,m74,M4s,D$v;e5Q="A";e5Q+="D";e5Q+="V";K$_="Dar";K$_+="v";K$_+="a";K$_+="s";n8p="********";n8p+="***";n8p+="******";R7P="Vo";R7P+="lume ";R7P+="% o";R7P+="f Avg";F$q="ATH Lookback ";F$q+="Period";K43=U81.chart.scrubbed;o9q=+"0";t0T=parseInt(U81.inputs[F$q],"10" ^ 0);if(U81.inputs["Volume Spike"]){m$m.Studies.MA("simple",t0T,"Volume",0,"ADV",k5J,U81);}E0Z.L7E(4);var X9s=E0Z.e5e(103,10,7);X$e=parseFloat(U81.inputs[R7P]) / X9s;r6E="none";E0Z.J2s();Z_t={};W0c=null;k1n=null;Z_N=null;E2e=parseFloat(U81.inputs["Level Offset"]);o2$=!"1";if(o2$){console.log(n8p);}C$v={};[K$_,"Ghost","Profit","Loss","ATH",e5Q,"Spike"].forEach(function(M3a){E0Z.J2s();C$v[M3a]=M3a + " " + U81.name;});for(p5p=U81.startFrom - 1;p5p > 0;p5p--){s7T=K43[p5p];if(s7T[C$v.Darvas] || s7T[C$v.Ghost]){for(var i74 in C$v){s7T[i74]=null;}}else {o9q=s7T[C$v.ATH] || 0;k1n=s7T[C$v.Profit];Z_N=s7T[C$v.Loss];break;}}for(p5p;p5p < K43.length;p5p++){f7x="Volume";f7x+=" ";f7x+="Sp";f7x+="ike";x$1=K43[p5p];if(!x$1)continue;if(parseFloat(U81.inputs["Price Minimum"]) <= K43[o9q].Close){Z$Y="Exit ";Z$Y+="Field";if(W0c && (!W0c.End || p5p == W0c.End + 1)){if(K43[p5p - 1].Close > Z_t.High){Z_t={State:+"1",High:2 * Z_t.High - Z_t.Low,Low:Z_t.High,Start:p5p,End:2 * Z_t.End - Z_t.Start + ("1" | 0)};}else {W0c=null;;}if(W0c){x$1[C$v.Ghost]=m$m.clone(Z_t);if(o2$){console.log("Ghost begin:" + x$1.DT);}Z_t.State=0;if(K43[Z_t.End]){K43[Z_t.End][C$v.Ghost]=m$m.clone(Z_t);if(o2$){console.log("Ghost end:" + K43[Z_t.End].DT);}}W0c={Start:Z_t.Start,End:Z_t.End};k1n=Z_t.High + E2e;if(!Z_N || Z_N < Z_t.Low - E2e){Z_N=Z_t.Low - E2e;}}}x$1[C$v.Profit]=k1n;x$1[C$v.Loss]=Z_N;if(x$1.Close >= k1n){k1n=null;}else if(U81.inputs[Z$Y] == "high/low" && x$1.High >= k1n){k1n=null;}if(r6E == "none"){if(p5p == o9q + +"3"){if(!K43[o9q + ("2" << 32)][C$v.Darvas] && !K43[o9q + 1][C$v.Darvas] && !K43[o9q][C$v.Darvas] && K43[o9q].High > x$1.High){r6E="high";;}}}if(r6E == "high"){if(x$1.High > K43[o9q].High){K0F="non";K0F+="e";r6E=K0F;}else if(K43[p5p - 3].Low < K43[p5p - 2].Low && K43[p5p - 3].Low < K43[p5p - +"1"].Low && K43[p5p - 3].Low < x$1.Low){Z_t={State:1,High:K43[o9q].High,Low:K43[p5p - 3].Low,Start:o9q};K43[o9q][C$v.Darvas]=m$m.clone(Z_t);r6E="darvas";if(o2$){console.log("Darvas begin:" + K43[o9q].DT);}if(o2$){console.log("Darvas established:" + x$1.DT);}if(W0c){C0A="Ghost ";C0A+="e";C0A+="nd";C0A+=":";if(W0c.End > p5p && K43[W0c.Start]){x$1[C$v.Ghost]=m$m.clone(K43[W0c.Start][C$v.Ghost]);x$1[C$v.Ghost].End=p5p;if(K43[W0c.End]){h4c="Ghost";h4c+=" End remov";h4c+="e";h4c+="d:";delete K43[W0c.End][C$v.Ghost];if(o2$){console.log(h4c + K43[W0c.End].DT);}}}x$1[C$v.Ghost].State=+"0";K43[W0c.Start][C$v.Ghost].End=p5p;if(o2$){console.log(C0A + x$1.DT);}W0c=null;}k1n=Z_t.High + E2e;if(!Z_N || Z_N < Z_t.Low - E2e){Z_N=Z_t.Low - E2e;}}}if(r6E == "darvas"){z3n="Gho";z3n+="st ";z3n+="Box";z3n+="es";E4o="non";E4o+="e";R6I="Exit";R6I+=" Fi";R6I+="el";R6I+="d";X_r="non";X_r+="e";if(x$1.Close > Z_t.High){W0c={};}else if(U81.inputs["Exit Field"] == "high/low" && x$1.High > Z_t.High){W0c={};}else if(x$1.Close < Z_t.Low){r6E=X_r;}else if(U81.inputs[R6I] == "high/low" && x$1.Low < Z_t.Low){r6E="none";}if(W0c){r6E=E4o;}else if(r6E == "none"){k1n=null;Z_N=null;}if(!U81.inputs[z3n]){W0c=null;}if(r6E == "none"){m74="Dar";m74+="v";m74+="as end:";for(var Y0b=Z_t.Start + ("1" >> 0);Y0b < p5p;Y0b++){K43[Y0b][C$v.Darvas]=m$m.clone(Z_t);}Z_t.State=0;Z_t.End=p5p;x$1[C$v.Darvas]=m$m.clone(Z_t);if(o2$){console.log(m74 + x$1.DT);}x$1[C$v.ATH]=o9q;continue;}}if(Z_N){if(x$1.Close < Z_t.Low || U81.inputs["Exit Field"] == "high/low" && x$1.Low < Z_t.Low){M4s="n";M4s+="on";M4s+="e";if(r6E == "darvas"){r6E=M4s;}if(x$1.Close < Z_N || U81.inputs["Exit Field"] == "high/low" && x$1.Low < Z_N){k1n=null;Z_N=null;}if(W0c){D$v="G";D$v+="hos";D$v+="t";D$v+=" end:";if(W0c.End > p5p && K43[W0c.Start]){x$1[C$v.Ghost]=m$m.clone(K43[W0c.Start][C$v.Ghost]);x$1[C$v.Ghost].End=p5p;if(K43[W0c.End]){delete K43[W0c.End][C$v.Ghost];if(o2$){console.log("Ghost End removed:" + K43[W0c.End].DT);}}}x$1[C$v.Ghost].State=0;K43[W0c.Start][C$v.Ghost].End=p5p;if(o2$){console.log(D$v + x$1.DT);}W0c=null;}}}}if(x$1.High >= K43[o9q].High){o9q=p5p;if(o2$){console.log("All Time High:" + x$1.DT);}}if(p5p < 3 || x$1.High >= K43[p5p - 1].High && x$1.High >= K43[p5p - 2].High && x$1.High >= K43[p5p - 3].High){if(p5p - o9q >= t0T){o9q=p5p;for(var F7W=0;F7W < t0T;F7W++){if(p5p - F7W < 0)break;if(K43[p5p - F7W].High > K43[o9q].High){E0Z.E2c(5);o9q=E0Z.E9k(F7W,p5p);}}if(o2$){console.log("All Time High:" + x$1.DT);}}}if(U81.inputs[f7x] && p5p > t0T && p5p == o9q){if(x$1[C$v.ADV] * X$e < x$1.Volume){x$1[C$v.Spike]=1;if(o2$){console.log("Volume Spike:" + x$1.DT);}}}x$1[C$v.ATH]=o9q;}};m$m.Studies.displayDarvas=function(r7E,x_3,k5X){var e5K,e0o,I9a,r8j,V38,u7z,h_w,G3C,I4l,d5y,B7O,N8a,W39,n9_,u$z,j8T,y6g,F3g,o67,O$W,c_D,Q6e,q1t,p3m,U09,z4k,d9K,J8j,a0w,l5b,E8C,w6M,F_C;e5K=m$m.Studies.determineColor(x_3.outputs.Levels);if(!e5K || e5K == "auto" || m$m.isTransparent(e5K)){e5K=r7E.defaultColor;}e0o=m$m.Studies.determineColor(x_3.outputs.Darvas);if(!e0o || e0o == "auto" || m$m.isTransparent(e0o)){e0o=r7E.defaultColor;}I9a=m$m.Studies.determineColor(x_3.outputs.Ghost);if(!I9a || I9a == "auto" || m$m.isTransparent(I9a)){I9a=r7E.defaultColor;}r8j=r7E.panels[x_3.panel];V38=x_3.getContext(r7E);d5y=r7E.layout.candleWidth - +"2";E0Z.H5S();if(d5y < 2){d5y=1;}r7E.startClip(x_3.panel);if(x_3.inputs["Stop Levels"]){if(V38.setLineDash){V38.setLineDash([2,2]);}V38.lineWidth=2;V38.strokeStyle=e5K;V38.beginPath();for(u7z="0" | 0;u7z < k5X.length;u7z++){h_w=k5X[u7z];E0Z.L7E(5);B7O=k5X[E0Z.E9k(1,u7z)];if(!h_w)continue;I4l=h_w["Loss " + x_3.name]?Math.floor(r7E.pixelFromPrice(h_w["Loss " + x_3.name],r8j)):null;N8a=B7O && B7O["Loss " + x_3.name]?Math.floor(r7E.pixelFromPrice(B7O["Loss " + x_3.name],r8j)):null;if(I4l){if(h_w.candleWidth){d5y=Math.floor(Math.max(1,h_w.candleWidth));}W39=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) + d5y / 2);n9_=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) - d5y / 2);if(N8a && N8a >= I4l){V38.lineTo(n9_,I4l);}else if(u7z === 0){V38.moveTo(r7E.chart.left,I4l);}else {V38.moveTo(n9_,I4l);}V38.lineTo(W39,I4l);}}V38.stroke();if(V38.setLineDash){V38.setLineDash([]);}V38.lineWidth=1;}u$z=-10;E0Z.L7E(42);y6g=E0Z.e5e(0,"0");o67=-10;c_D=0;q1t=![];p3m=![];E0Z.L7E(140);var j4S=E0Z.E9k(19,8,10,36,55);U09=V38.measureText("\u25B2").width / j4S;E0Z.E2c(40);z4k=E0Z.e5e(64,"0");for(u7z=0;u7z < k5X.length;u7z++){d9K="Gho";d9K+="st Boxes";J8j="S";J8j+="pik";J8j+="e";J8j+=" ";if(!k5X[u7z])continue;if(k5X[u7z].Close || k5X[u7z].Close === 0){z4k=u7z;}if(k5X[u7z][J8j + x_3.name]){V38.fillStyle=e0o;V38.textBaseline="bottom";a0w=r7E.pixelFromPrice(k5X[u7z].High,r7E.chart.panel);V38.fillText(515.49 >= (515,9830)?0x1f88:+"5900" > 3085?"\u25BC":("5674" >> 64,"356.84" - 0) === 6700?("k",0x8ef):"M",r7E.pixelFromBar(u7z) - U09,a0w - 5);;}if(k5X[u7z].candleWidth){d5y=Math.floor(Math.max(1,k5X[u7z].candleWidth));}if(k5X[u7z]["Darvas " + x_3.name]){l5b="Darvas";l5b+=" ";h_w=k5X[u7z][l5b + x_3.name];if(h_w.State == "1" >> 32 && !q1t){u$z=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) - d5y / 2);j8T=Math.floor(r7E.pixelFromPrice(h_w.High,r8j));F3g=Math.floor(r7E.pixelFromPrice(h_w.Low,r8j)) - j8T;q1t=!![];}else if(h_w.State === 0){E8C="S";E8C+="t";E8C+="op Lev";E8C+="els";y6g=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) + d5y / +"2") - u$z;j8T=Math.floor(r7E.pixelFromPrice(h_w.High,r8j));F3g=Math.floor(r7E.pixelFromPrice(h_w.Low,r8j)) - j8T;V38.strokeStyle=e0o;V38.fillStyle=e0o;if(!x_3.inputs[E8C]){V38.strokeRect(u$z,j8T,y6g,F3g);V38.globalAlpha=0.2;}else {V38.globalAlpha=0.3;}V38.fillRect(u$z,j8T,y6g,F3g);V38.globalAlpha=1;q1t=![];}}if(k5X[u7z]["Ghost " + x_3.name] && x_3.inputs[d9K]){h_w=k5X[u7z]["Ghost " + x_3.name];if(h_w.State == 1 && !p3m){o67=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) - d5y / 2);O$W=Math.floor(r7E.pixelFromPrice(h_w.High,r8j));c_D=Math.floor((h_w.End - h_w.Start + 1) * r7E.layout.candleWidth + d5y / 2);Q6e=Math.floor(r7E.pixelFromPrice(h_w.Low,r8j)) - O$W;p3m=!"";}else if(h_w.State === 0){if(h_w.Start == h_w.End){o67=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) - d5y / 2);}E0Z.L7E(28);var Y0S=E0Z.e5e(4,16,15,13);c_D=Math.floor(r7E.pixelFromBar(u7z,r8j.chart) + d5y / Y0S) - o67;O$W=Math.floor(r7E.pixelFromPrice(h_w.High,r8j));Q6e=Math.floor(r7E.pixelFromPrice(h_w.Low,r8j)) - O$W;V38.strokeStyle=I9a;V38.fillStyle=I9a;if(!x_3.inputs["Stop Levels"]){V38.strokeRect(o67,O$W,c_D,Q6e);V38.globalAlpha=0.2;}else {V38.globalAlpha=0.3;}V38.fillRect(o67,O$W,c_D,Q6e);V38.globalAlpha=1;p3m=!!"";}}}if(q1t){E0Z.L7E(10);var e6C=E0Z.e5e(223,15,15);y6g=Math.floor(r7E.pixelFromBar(z4k,r8j.chart) + d5y / e6C) - u$z;V38.strokeStyle=e0o;V38.fillStyle=e0o;if(!x_3.inputs["Stop Levels"]){V38.beginPath();E0Z.E2c(20);V38.moveTo(E0Z.e5e(2,y6g,u$z),j8T);V38.lineTo(u$z,j8T);E0Z.L7E(2);V38.lineTo(u$z,E0Z.e5e(j8T,F3g));E0Z.L7E(141);V38.lineTo(E0Z.E9k("2",u$z,2,y6g),E0Z.e5e(j8T,F3g,E0Z.E2c(2)));V38.stroke();V38.globalAlpha=0.2;}else {V38.globalAlpha=0.3;}E0Z.L7E(19);V38.fillRect(u$z,j8T,E0Z.E9k(2,y6g),F3g);V38.globalAlpha=1;}if(p3m){w6M="S";w6M+="top Lev";w6M+="e";w6M+="ls";V38.strokeStyle=I9a;V38.fillStyle=I9a;if(!x_3.inputs[w6M]){V38.strokeRect(o67,O$W,c_D,Q6e);V38.globalAlpha=0.2;}else {V38.globalAlpha=0.3;}V38.fillRect(o67,O$W,c_D,Q6e);V38.globalAlpha=1;}if(q1t || p3m){if(x_3.inputs["Stop Levels"]){if(V38.setLineDash){E0Z.L7E(40);V38.setLineDash([2,E0Z.e5e(64,"2")]);}V38.lineWidth=2;V38.strokeStyle=e5K;F_C=Math.floor(r7E.pixelFromBar(z4k - 1,r8j.chart) + d5y / 2);if(G3C){V38.beginPath();V38.moveTo(F_C,G3C);V38.lineTo(q1t?u$z + 2 * y6g:o67 + c_D,G3C);V38.stroke();}if(I4l){V38.beginPath();V38.moveTo(F_C,I4l);V38.lineTo(q1t?u$z + 2 * y6g:o67 + c_D,I4l);V38.stroke();}if(V38.setLineDash){V38.setLineDash([]);}V38.lineWidth=1;}q1t=!({});p3m=![];}r7E.endClip();};m$m.Studies.studyLibrary=m$m.extend(m$m.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!!({}),calculateFN:m$m.Studies.calculateDarvas,seriesFN:m$m.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!!({}),"Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!!"","Volume % of Avg":400},outputs:{Darvas:t$w,Ghost:Y20,Levels:n1I},customRemoval:!!"1",attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!0},flippedEnabled:{hidden:!""}}}});}};j3=r7c=>{var D_w=h_yMd;D_w.J2s();var b9Q;b9Q=typeof _CIQ !== "undefined"?_CIQ:r7c.CIQ;if(!b9Q.Studies){console.error("detrended feature requires first activating studies feature.");}else {b9Q.Studies.calculateDetrendedPrice=function(s$2,t2W){var Z5e,E_I,Q$f,E9o,V_h,l6T,L07,k3u;Z5e="Moving Average ";Z5e+="Type";E_I=t2W.chart.scrubbed;if(E_I.length < t2W.days + 1){t2W.error=!!({});return;}Q$f=t2W.inputs.Field;if(!Q$f || Q$f == "field"){Q$f="Close";}D_w.H5S();E9o=Math.floor(t2W.days / 2 + ("1" << 0));b9Q.Studies.MA(t2W.inputs[Z5e],t2W.days,Q$f,-E9o,"MA",s$2,t2W);for(var j0j=Math.max(t2W.days - E9o - 1,t2W.startFrom - E9o);j0j < E_I.length - E9o;j0j++){V_h="R";V_h+="esul";V_h+="t ";l6T="M";l6T+="A";l6T+=" ";if(j0j < "0" * 1)continue;L07=E_I[j0j][Q$f];if(L07 && typeof L07 == "object"){L07=L07[t2W.subField];}k3u=E_I[j0j][l6T + t2W.name];if((L07 || L07 === 0) && (k3u || k3u === 0)){D_w.L7E(5);E_I[j0j][V_h + t2W.name]=D_w.e5e(k3u,L07);}}};b9Q.Studies.studyLibrary=b9Q.extend(b9Q.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:b9Q.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};I9=b5x=>{var X$k=h_yMd;X$k.H5S();var p8C,y5t;p8C=typeof _CIQ !== "undefined"?_CIQ:b5x.CIQ;if(!p8C.Studies){console.error("disparity feature requires first activating studies feature.");}else {y5t="f";y5t+="ield";p8C.Studies.calculateDisparity=function(x_0,I61){var k_i,K_r,I$M,r_f,y5Y;k_i="Moving Average Typ";k_i+="e";K_r=I61.chart.scrubbed;if(K_r.length < I61.days + 1){I61.error=!!1;return;}X$k.H5S();I$M=I61.inputs.Field;if(!I$M || I$M == "field"){I$M="Close";}p8C.Studies.MA(I61.inputs[k_i],I61.days,I$M,0,"_MA",x_0,I61);for(var s3e=Math.max(I61.startFrom,I61.days - 1);s3e < K_r.length;s3e++){r_f="_";r_f+="M";r_f+="A ";if(!K_r[s3e])continue;y5Y=K_r[s3e][r_f + I61.name];if(y5Y){X$k.E2c(5);var X2l=X$k.e5e(18,19);K_r[s3e]["Result " + I61.name]=+"100" * (K_r[s3e][I$M] / y5Y - X2l);}}};p8C.Studies.studyLibrary=p8C.extend(p8C.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:p8C.Studies.calculateDisparity,inputs:{Period:14,Field:y5t,"Moving Average Type":"ma"}}});}};N3=g$4=>{var W7E=h_yMd;var v2o,D99;W7E.H5S();v2o=typeof _CIQ !== "undefined"?_CIQ:g$4.CIQ;if(!v2o.Studies){D99="easeOfM";D99+="ovement feature requires first activating studies feature.";console.error(D99);}else {v2o.Studies.calculateEaseOfMovement=function(k5y,k$u){var J$c,W2y,L_r,x_q,l$q,G15,t77,M9l;J$c="R";J$c+="es";J$c+="ul";W7E.H5S();J$c+="t";W2y="_EO";W2y+="M1 ";L_r=k$u.chart.scrubbed;if(L_r.length < k$u.days){k$u.error=!!"1";return;}for(var l6b=Math.max(1,k$u.startFrom);l6b < L_r.length;l6b++){W7E.L7E(142);var R$1=W7E.e5e(10,14,4,6);x_q=(L_r[l6b].High + L_r[l6b].Low) / R$1;W7E.L7E(143);var i2b=W7E.E9k(3,16,6,33,0);l$q=(L_r[l6b - i2b].High + L_r[l6b - 1].Low) / 2;W7E.L7E(5);G15=W7E.e5e(l$q,x_q);t77=L_r[l6b].Volume / ("100000000" - 0) / (L_r[l6b].High - L_r[l6b].Low);W7E.L7E(9);M9l=W7E.E9k(G15,t77);if(!isFinite(M9l)){L_r[l6b]["_EOM1 " + k$u.name]=NaN;}else {L_r[l6b]["_EOM1 " + k$u.name]=M9l;}}v2o.Studies.MA(k$u.inputs["Moving Average Type"],k$u.days,W2y + k$u.name,0,J$c,k5y,k$u);};v2o.Studies.studyLibrary=v2o.extend(v2o.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:v2o.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};j9=U5$=>{var L8e=h_yMd;var v17,z1E,a0_,z73,z8e,z5b,E3C;v17=typeof _CIQ !== "undefined"?_CIQ:U5$.CIQ;if(!v17.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {z1E="au";z1E+="t";z1E+="o";v17.Studies.calculateEhlerFisher=function(J4t,z9W){var w5j,S0g,u7i,R8N,g1Y,j32,i8i,g2c,a7t;function X3o(O9f,I_S){var v3o,f9W,A0A;v3o=Number.MAX_VALUE;L8e.L7E(5);var N7v=L8e.e5e(1,0);L8e.J2s();f9W=Number.MAX_VALUE * N7v;for(var e_8=I_S - O9f + 1;e_8 <= I_S;e_8++){L8e.E2c(0);var o4L=L8e.E9k(0,6,3);A0A=(w5j[e_8].High + w5j[e_8].Low) / o4L;v3o=Math.min(v3o,A0A);f9W=Math.max(f9W,A0A);}return [v3o,f9W];}w5j=z9W.chart.scrubbed;if(w5j.length < z9W.days + 1){z9W.error=!!1;return;}S0g=0;if(z9W.startFrom > 1){L8e.E2c(50);var V5B=L8e.e5e(3,1,3,6);S0g=w5j[z9W.startFrom - V5B]["_n " + z9W.name];}for(var G4E=z9W.startFrom;G4E < w5j.length;G4E++){u7i="_";u7i+="n";u7i+=" ";R8N="E";R8N+="F Trigge";R8N+="r ";g1Y="E";g1Y+="F ";j32="E";j32+="F";j32+=" ";i8i=w5j[G4E];if(i8i.futureTick)break;if(G4E < z9W.days - 1){i8i["EF " + z9W.name]=i8i["EF Trigger " + z9W.name]=S0g;continue;}g2c=X3o(z9W.days,G4E);L8e.L7E(11);var C5B=L8e.E9k(766,6,16,8);L8e.E2c(144);var U0r=L8e.E9k(0,3,16,1,8);L8e.E2c(112);var f40=L8e.E9k(4,2,10,8,16);S0g=0.33 * C5B * (((w5j[G4E].High + w5j[G4E].Low) / U0r - g2c[+"0"]) / Math.max(0.000001,g2c[f40] - g2c[0]) - 0.5) + 0.67 * S0g;if(S0g > 0){S0g=Math.min(S0g,0.9999);}else if(S0g < 0){S0g=Math.max(S0g,-0.9999);}a7t=G4E?w5j[G4E - 1][j32 + z9W.name]:0;L8e.E2c(145);var h_D=L8e.E9k(2,8,13,8,13);L8e.E2c(146);var T$L=L8e.E9k(31,19,17,15);i8i[g1Y + z9W.name]=0.5 * Math.log((h_D + S0g) / (T$L - S0g)) + 0.5 * a7t;i8i[R8N + z9W.name]=a7t;i8i[u7i + z9W.name]=S0g;}};a0_=819967471;z73=-1451044962;z8e=2;for(var T8p=1;L8e.z3M(T8p.toString(),T8p.toString().length,70996) !== a0_;T8p++){v17.Studies.studyLibrary=v17.extend(v17.Studies.studyLibrary,{"Ehler Fisher":{name:"#FF0000",calculateFN:v17.Studies.calculateEhlerFisher,inputs:{Period:+"60"},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});L8e.E2c(19);z8e+=L8e.E9k("2",1);}if(L8e.z3M(z8e.toString(),z8e.toString().length,"56325" | 1) !== z73){z5b="#F";z5b+="F0000";E3C="a";E3C+="u";E3C+="t";E3C+="o";v17.Studies.studyLibrary=v17.extend(v17.Studies.studyLibrary,{"Ehler Fisher":{name:"#FF0000",calculateFN:v17.Studies.calculateEhlerFisher,inputs:{Period:60},outputs:{EF:E3C,"EF Trigger":z5b}}});}v17.Studies.studyLibrary=v17.extend(v17.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:v17.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:z1E,"EF Trigger":"#FF0000"}}});}};K_=a79=>{var e7l=h_yMd;var l_A,b6T,a8W,d7x;e7l.J2s();l_A=typeof _CIQ !== "undefined"?_CIQ:a79.CIQ;if(!l_A.Studies){b6T="elder fe";b6T+="ature requires fir";b6T+="st activating st";b6T+="udies feature.";console.error(b6T);}else {a8W="Elder Impul";a8W+="se";a8W+=" System";d7x="#";d7x+="FF";d7x+="00";d7x+="00";l_A.Studies.calculateElderImpulse=function(K_k,V1G){var U6L,x8y,T50,E9I,n4Q,N1x,m8r,A$T,v7k,y5H;U6L="m";U6L+="ac";U6L+="d";x8y=V1G.chart.scrubbed;T50=V1G.outputs.Bullish;E9I=V1G.outputs.Bearish;n4Q=V1G.outputs.Neutral;l_A.Studies.MA("exponential",13,"Close",0,"_MA",K_k,V1G);e7l.J2s();e7l.E2c(7);var X$q=e7l.E9k(743,19,3,5926);e7l.L7E(6);var b30=e7l.e5e(8,19,2600);e7l.E2c(6);var r8F=e7l.E9k(11,8393,838);e7l.E2c(73);var D0J=e7l.e5e(4,12,5,155);V1G.macd=new l_A.Studies.StudyDescriptor((806.11 >= X$q?b30 > r8F?12.88:("R",D0J):"_") + V1G.name,U6L,V1G.panel);V1G.macd.chart=V1G.chart;V1G.macd.days=V1G.days;V1G.macd.startFrom=V1G.startFrom;V1G.macd.inputs={"Fast MA Period":"12" << 32,"Slow MA Period":26,"Signal Period":"9" << 32};V1G.macd.outputs={_MACD:null,_Signal:null};l_A.Studies.calculateMACD(K_k,V1G.macd);for(var M5F=V1G.startFrom;M5F < x8y.length;M5F++){m8r="Re";m8r+="s";m8r+="ult";m8r+=" ";A$T="_";A$T+="his";A$T+="t";v7k="_";v7k+="M";v7k+="A";v7k+=" ";y5H="_";y5H+="M";y5H+="A";y5H+=" ";if(M5F === 0){N1x=n4Q;}else if(x8y[M5F]["_MA " + V1G.name] > x8y[M5F - 1][y5H + V1G.name] && x8y[M5F][(524.57 != 9817?359.37 > 9730?!!({}):"_":("h",![])) + V1G.name + "_hist"] > x8y[M5F - 1]["_" + V1G.name + "_hist"]){N1x=T50;}else if(x8y[M5F]["_MA " + V1G.name] < x8y[M5F - +"1"][v7k + V1G.name] && x8y[M5F][(943.33 === 1214?("0x259e" * 1,0x24fa):2480 >= 7540?36 <= 4823?("b",9.97e+3):(!!1,366.86):"_") + V1G.name + "_hist"] < x8y[M5F - 1][(("143.58" - 0,1970) >= (8810,5090)?0x17aa:"_") + V1G.name + A$T]){N1x=E9I;}else {N1x=n4Q;}x8y[M5F][m8r + V1G.name]=N1x;;}};l_A.Studies.calculateElderRay=function(S2S,e81){var Y6l,E8H,P4l,y$l;Y6l=e81.chart.scrubbed;if(Y6l.length < e81.days){e81.error=!![];return;}l_A.Studies.MA("exponential",e81.days,"Close",0,"_EMA",S2S,e81);for(var T_N=Math.max(e81.startFrom,e81.days - ("1" ^ 0));T_N < Y6l.length;T_N++){Y6l[T_N][e81.name + "_hist1"]=Y6l[T_N].High - Y6l[T_N]["_EMA " + e81.name];Y6l[T_N][e81.name + "_hist2"]=Y6l[T_N].Low - Y6l[T_N]["_EMA " + e81.name];}E8H=-1139114184;P4l=1558636258;e7l.E2c(42);e7l.J2s();y$l=e7l.e5e(0,"2");for(var v6o=1;e7l.K8j(v6o.toString(),v6o.toString().length,"66728" << 64) !== E8H;v6o++){e81.outputMap={};e81.outputMap[e81.name + "_hist1"]="";y$l+=+"2";}if(e7l.K8j(y$l.toString(),y$l.toString().length,"93944" * 1) !== P4l){e81.outputMap={};e81.outputMap[e81.name - ""]="";}e81.outputMap[e81.name + "_hist2"]="";};l_A.Studies.calculateElderForce=function(B3z,h11){var P8T,w89,i6e;P8T="expo";P8T+="nentia";P8T+="l";w89=h11.chart.scrubbed;e7l.H5S();if(w89.length < h11.days){h11.error=!0;return;}for(var x69=Math.max(1,h11.startFrom);x69 < w89.length;x69++){i6e="_";i6e+="E";i6e+="F";i6e+="1 ";e7l.L7E(143);var U8X=e7l.e5e(17,6,17,294,0);w89[x69][i6e + h11.name]=w89[x69].Volume * (w89[x69].Close - w89[x69 - U8X].Close);}l_A.Studies.MA(P8T,h11.days,"_EF1 " + h11.name,+"0","Result",B3z,h11);};l_A.Studies.initElderImpulse=function(z2z,d3e,p9w,S$O,l3t,m_2){var U5t;U5t=l_A.Studies.initializeFN(z2z,d3e,p9w,S$O,l3t,m_2);e7l.J2s();if(!l3t.calculateOnly){z2z.chart.customChart={chartType:"colored_bar",colorFunction:function(U_f,N0z,l1q){var i3d,r6I;e7l.H5S();i3d="o";i3d+="bj";i3d+="e";i3d+="ct";r6I=N0z["Result " + U5t.name];if(r6I && typeof r6I == i3d){r6I=r6I.color;}return r6I;}};z2z.setMainSeriesRenderer();}return U5t;};l_A.Studies.displayElderForce=function(J$2,f3_,I3X){var M3Y,r2P,k6N,y9Z,y2l;M3Y="Re";M3Y+="sult ";l_A.Studies.displaySeriesAsLine(J$2,f3_,I3X);r2P=l_A.Studies.determineColor(f3_.outputs.Result);k6N=J$2.panels[f3_.panel];y9Z=f3_.getYAxis(J$2);y2l={skipTransform:k6N.name != f3_.chart.name,panelName:f3_.panel,band:M3Y + f3_.name,threshold:0,color:r2P,yAxis:y9Z};if(!f3_.highlight && J$2.highlightedDraggable){y2l.opacity=0.3;}y2l.direction=1;l_A.preparePeakValleyFill(J$2,y2l);e7l.H5S();y2l.direction=-1;l_A.preparePeakValleyFill(J$2,y2l);};l_A.Studies.displayElderRay=function(o3e,T38,f_9){var J8b,H7K,J1T,f8M,K9_,E3_,N4o,w3N,J$7,W9T,o2v,R0S,n$6,b6W;J8b="stx";J8b+="_histogr";J8b+="a";e7l.H5S();J8b+="m";H7K=o3e.panels[T38.panel];J1T=T38.getContext(o3e);f8M=T38.getYAxis(o3e);K9_=o3e.pixelFromPrice(0,H7K,f8M);e7l.E2c(4);var o3r=e7l.e5e(0,18,20);E3_=o3e.layout.candleWidth - o3r;if(E3_ < 2){e7l.L7E(19);E3_=e7l.E9k("1",1);}o3e.canvasColor(J8b);N4o=J1T.fillStyle;function Z7x(N80,C89,S0J,K7t){J1T.fillStyle=l_A.Studies.determineColor(T38.outputs[S0J]);J1T.fillRect(Math.floor(o3e.pixelFromBar(N80,H7K.chart) - E3_ / 2 + E3_ * C89),Math.floor(K9_),Math.floor(E3_ * (1 - 2 * C89)),Math.floor(o3e.pixelFromPrice(b6W[T38.name + K7t],H7K,f8M) - K9_));}if(!T38.underlay){J1T.globalAlpha=1;}o3e.startClip(T38.panel);if(!T38.highlight && o3e.highlightedDraggable){J1T.globalAlpha*=0.3;}for(var M$v=0;M$v < f_9.length;M$v++){w3N="Elder Bear";w3N+=" ";w3N+="Po";w3N+="wer";J$7="_hist";J$7+="2";W9T="_";W9T+="h";W9T+="i";W9T+="st2";o2v="_hi";o2v+="st2";R0S="_his";R0S+="t";R0S+="1";n$6="_his";n$6+="t1";b6W=f_9[M$v];if(!b6W)continue;if(b6W.candleWidth){E3_=Math.floor(Math.max(1,b6W.candleWidth - +"2"));}if(b6W[T38.name + n$6] > +"0"){Z7x(M$v,0,"Elder Bull Power",R0S);}if(b6W[T38.name + o2v] < "0" * 1){Z7x(M$v,0,"Elder Bear Power",W9T);}if(b6W[T38.name + "_hist1"] < +"0"){Z7x(M$v,0.1,"Elder Bull Power","_hist1");}if(b6W[T38.name + J$7] > 0){Z7x(M$v,0.1,w3N,"_hist2");}}o3e.endClip();J1T.fillStyle=N4o;};l_A.Studies.studyLibrary=l_A.extend(l_A.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:l_A.Studies.calculateElderForce,seriesFN:l_A.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:l_A.Studies.displayElderRay,calculateFN:l_A.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":d7x}},"Elder Impulse":{name:a8W,calculateFN:l_A.Studies.calculateElderImpulse,initializeFN:l_A.Studies.initElderImpulse,seriesFN:null,customRemoval:!!1,underlay:!!({}),inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(O$r,j8Z){O$r.chart.customChart=null;O$r.setMainSeriesRenderer();}}});}};B1=p7i=>{var d96=h_yMd;var D9y,d3B,f9m,S5B,U$N,W2f;D9y=typeof _CIQ !== "undefined"?_CIQ:p7i.CIQ;if(!D9y.Studies){d3B=-+"2090289631";f9m=-1264012577;S5B=2;for(var R$z=1;d96.z3M(R$z.toString(),R$z.toString().length,"13636" - 0) !== d3B;R$z++){console.error("");S5B+=2;}if(d96.z3M(S5B.toString(),S5B.toString().length,98284) !== f9m){U$N="fractalChaos feature require";U$N+="s firs";U$N+="t activ";U$N+="ating studies feature.";console.error(U$N);}}else {W2f="Frac";W2f+="tal Chaos Oscil";W2f+="lator";D9y.Studies.calculateFractalChaos=function(m5w,S0S){var q$m,P5w,v9X,x5g,g6r,L4d,n6B,Y32,U7o,Q9z,p9t,Y7S,E4b;q$m=S0S.chart.scrubbed;P5w=0;v9X=0;x5g=952718303;d96.E2c(17);g6r=d96.E9k("889968972",32);d96.H5S();L4d=2;for(var G2g=1;d96.z3M(G2g.toString(),G2g.toString().length,42466) !== x5g;G2g++){n6B=0;L4d+=+"2";}if(d96.K8j(L4d.toString(),L4d.toString().length,28944) !== g6r){n6B=+"3";}if(S0S.startFrom && S0S.type == "Fractal Chaos Bands"){d96.E2c(147);var K8R=d96.E9k(11,3,9,2,14);P5w=q$m[S0S.startFrom - K8R]["Fractal High " + S0S.name];d96.E2c(5);var i9t=d96.e5e(5,6);v9X=q$m[S0S.startFrom - i9t]["Fractal Low " + S0S.name];}for(var A2c=Math.max("4" << 32,S0S.startFrom);A2c < q$m.length;A2c++){if(q$m[A2c].futureTick)break;Y32=!isNaN(q$m[A2c].High);U7o=!isNaN(q$m[A2c].Low);if(Y32 || U7o){q$m[A2c]["Result " + S0S.name]=0;}n6B=0;for(Q9z=0;Q9z <= A2c;Q9z++){if(!q$m[A2c - Q9z])break;if(q$m[A2c - Q9z].High > q$m[A2c - 2].High)break;if(Q9z < +"2" && q$m[A2c - Q9z].High == q$m[A2c - 2].High)break;if(q$m[A2c - Q9z].High < q$m[A2c - 2].High){n6B++;}if(n6B == 4){P5w=q$m[A2c - 2].High;break;}}if(S0S.type == "Fractal Chaos Bands"){p9t="Fractal H";p9t+="igh ";if(Y32){q$m[A2c][p9t + S0S.name]=P5w > 0?P5w:null;}}else if(n6B == 4){Y7S="Resu";Y7S+="lt";Y7S+=" ";q$m[A2c][Y7S + S0S.name]=1;}n6B=0;for(Q9z=0;Q9z <= A2c;Q9z++){if(!q$m[A2c - Q9z])break;if(q$m[A2c - Q9z].Low < q$m[A2c - 2].Low)break;if(Q9z < 2 && q$m[A2c - Q9z].Low == q$m[A2c - 2].Low)break;if(q$m[A2c - Q9z].Low > q$m[A2c - 2].Low){n6B++;}if(n6B == 4){v9X=q$m[A2c - 2].Low;break;}}if(S0S.type == "Fractal Chaos Bands"){E4b="Fract";E4b+="a";E4b+="l Lo";E4b+="w ";if(U7o){q$m[A2c][E4b + S0S.name]=v9X > 0?v9X:null;}}else if(n6B == 4){q$m[A2c]["Result " + S0S.name]=-1;}}};D9y.Studies.studyLibrary=D9y.extend(D9y.Studies.studyLibrary,{"Fractal Chaos":{name:W2f,range:"-1 to 1",calculateFN:D9y.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!0,calculateFN:D9y.Studies.calculateFractalChaos,seriesFN:D9y.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};O4=m0Q=>{var C8d=h_yMd;var y84,O68,w1J,z$5;y84=-186379942;O68=910819340;w1J=2;for(var I5w=1;C8d.z3M(I5w.toString(),I5w.toString().length,81597) !== y84;I5w++){z$5=~_CIQ === ""?_CIQ:m0Q.CIQ;w1J+=2;}if(C8d.z3M(w1J.toString(),w1J.toString().length,+"22953") !== O68){z$5=typeof _CIQ !== "undefined"?_CIQ:m0Q.CIQ;}if(!z$5.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function F9U(){var Z2j,T1s,R1W,c6E,n4p,T68;function p8w(g0O,p8d,d58,G5O,n03,r_b,S80){z$5.Studies.MA(n03,d58,r_b,G5O,S80,g0O,p8d);}Z2j="#";Z2j+="00bff";function L4g(b4S,V9A){var s8T,U27,v$X,k7h,x26,B7g,O3o,X1X,p0X,X2T,l1P,u4l;s8T="m";s8T+="y";s8T+="ma";U27="m";U27+="y";U27+="m";U27+="acd";v$X="s";v$X+="m";v$X+="a";k7h="Clo";k7h+="se";if(V9A.disabled && Z6Y(b4S,V9A)){return;}x26=V9A.chart.scrubbed;if(!Array.isArray(x26)){return;}if(!A8t(b4S)){Z6Y(b4S,V9A);return;}c3W(b4S,V9A);if(V9A.wasDisabled){V9A.startFrom=0;V9A.wasDisabled=![];}B5M(b4S,V9A,25,k7h,"mtm");C8d.J2s();p8w(b4S,V9A,5,0,v$X,"mtm " + V9A.name,"mtmavg");p38(b4S,V9A,12,26,9,"ema","ema","Close",U27);p8w(b4S,V9A,50,0,"sma","Close",s8T);s$U(b4S,V9A,0.2,0.2,0.2,"mysar");B7g=`Trend ${V9A.name}`;O3o=`Bull ${V9A.name}`;X1X=`Bear ${V9A.name}`;p0X=`Color ${V9A.name}`;V9A.outputMap={};for(var y6C=V9A.startFrom;y6C < x26.length;y6C++){X2T="Sco";X2T+="re ";l1P=x26[y6C];if(!l1P || typeof l1P !== "object"){continue;}u4l=0;if(l1P.Close > l1P[`myma ${V9A.name}`]){u4l++;}if(l1P.Close > l1P[`Result mysar`]){u4l++;}if(l1P[`MACD mymacd`] > 0 && l1P[`${"S" + "ignal mymacd"}`] > 0){u4l++;}if(l1P[`mtmavg ${V9A.name}`] > 0){u4l++;}l1P[B7g]=u4l;l1P[O3o]=0;l1P[X1X]=0;if(y6C > 0){if(l1P[B7g] > 2.5 && x26[y6C - 1][B7g] <= 2.5){l1P[O3o]=1;}if(l1P[B7g] < 2.0 && x26[y6C - 1][B7g] >= 2.0){l1P[X1X]=-1;}}C8d.E2c(2);l1P[p0X]=V9A.outputs[C8d.E9k(X2T,u4l)];}}function B5M(I2e,P_c,A22,Y5Q,m71){var L0L;L0L=new z$5.Studies.StudyDescriptor(m71 + " " + P_c.name,"Momentum",P_c.panel,{Field:Y5Q,Period:A22});L0L.days=A22;L0L.startFrom=P_c.startFrom;L0L.parameters=P_c.parameters;L0L.chart=P_c.chart;z$5.Studies.calculateRateOfChange(I2e,L0L);}function p38(h6W,z6Q,M5c,t4O,u3U,b$P,L2q,i5U,P7X){var H25,f4H;H25={"Fast MA Period":M5c,"Slow MA Period":t4O,"Signal Period":u3U,"Moving Average Type":b$P,"Signal MA Type":L2q,Field:i5U};f4H=new z$5.Studies.StudyDescriptor(P7X,"macd",z6Q.panel,H25);f4H.startFrom=z6Q.startFrom;f4H.chart=z6Q.chart;z$5.Studies.calculateMACD(h6W,f4H);}Z2j+="f";function A3v(G3V,F8T,n3r,H2o,J8P,y9$){var p8s;if(!J8P.initialized){J8P.yaxisDisplayValue=null;J8P.initialized=!!({});}p8s=z$5.Studies.initializeFN(G3V,F8T,n3r,H2o,J8P,y9$);if(J8P && !J8P.panelName && p8s && p8s.panel){J8P.panelName=p8s.panel;}if(J8P.calculateOnly){return p8s;}c3W(G3V,p8s);p8s.checkDisabled=!![];return p8s;}T1s="#";T1s+="8";T1s+="b008";T1s+="b";function s$U(S8N,J$N,P_8,h5d,f7Y,k72){var x7A;x7A=new z$5.Studies.StudyDescriptor(k72,"PSAR",J$N.panel,{"Minimum AF":P_8,"Maximum AF":h5d});x7A.startFrom=J$N.startFrom;x7A.chart=J$N.chart;z$5.Studies.calculatePSAR(S8N,x7A);}R1W="Go";R1W+="N";R1W+="oG";function m3o(X_m,e9c,I6U){var C3Q,L1Q,U6Y,v15,m6_,O5n,R2s,s8e,Q6O,X8m,J_6,d8L,N6n,i1k,D7C,J5Q,Y0s,v7O,C5j,O1B,H4H,I0r,Q8w;C3Q="aut";C3Q+="o";L1Q="a";L1Q+="u";L1Q+="t";L1Q+="o";U6Y="Text";U6Y+=" No";U6Y+="Go";v15="T";v15+="ext Go";if(!Array.isArray(I6U)){return;}if(!A8t(X_m)){return;}m6_=X_m.panels[e9c.panel];if(!m6_ || e9c.noDraw){return;}O5n=`Bull ${e9c.name}`;R2s=`Bear ${e9c.name}`;s8e=Math.min(16,Math.max(8,Math.round(X_m.layout.candleWidth)));Q6O=z$5.Studies.determineColor(e9c.outputs.Go);X8m=z$5.Studies.determineColor(e9c.outputs.NoGo);J_6=z$5.Studies.determineColor(e9c.outputs[v15]);d8L=z$5.Studies.determineColor(e9c.outputs[U6Y]);if(Q6O === "auto"){Q6O=X_m.defaultColor;}if(X8m === L1Q){X8m=X_m.defaultColor;}if(J_6 === C3Q){J_6=z$5.chooseForegroundColor(Q6O);}if(d8L === "auto"){N6n=1717855858;i1k=251789774;D7C=2;for(var R4o=+"1";C8d.z3M(R4o.toString(),R4o.toString().length,86369) !== N6n;R4o++){d8L=z$5.chooseForegroundColor(X8m);D7C+=2;}if(C8d.K8j(D7C.toString(),D7C.toString().length,12670) !== i1k){d8L=z$5.chooseForegroundColor(X8m);}}C8d.H5S();c3W(X_m,e9c,"GoNoGo");var {context:f95}=X_m.chart;for(var m0o=0;m0o < I6U.length;m0o++){J5Q=I6U[m0o];if(!J5Q){continue;}if(J5Q[O5n] === 1 || J5Q[R2s] === -1){C8d.L7E(6);var o30=C8d.E9k(17,3,15);Y0s=J5Q[O5n] === o30;v7O=X_m.pixelFromBar(m0o);C5j=Y0s?X_m.pixelFromPrice(J5Q.Low) + s8e:X_m.pixelFromPrice(J5Q.High) - s8e;O1B=4;H4H=Y0s?"Go":"NoGo";f95.font=`${s8e}px bold Roboto, sans-serif`;var {width:D5W}=f95.measureText(H4H);C8d.L7E(20);I0r=C8d.E9k(O1B,2,D5W);C8d.E2c(20);Q8w=C8d.E9k(O1B,2,s8e);f95.fillStyle=Y0s?Q6O:X8m;C8d.E2c(47);f95.fillRect(C8d.e5e(I0r,v7O,2),C8d.e5e(Q8w,C5j,2),I0r,Q8w);f95.fillStyle=Y0s?J_6:d8L;f95.textAlign="center";f95.textBaseline="middle";f95.fillText(H4H,v7O,C5j);}}}function Z6Y(B6m,S6r){if(!B6m.chart || B6m.chart.customChart && B6m.chart.customChart.chartType !== R1W){return;}S6r.wasDisabled=!"";B6m.chart.customChart=c6E;c6E=null;B6m.setMainSeriesRenderer();return !![];}function c3W(b4V,P0E){if(!b4V.chart || !b4V.chart.panel || b4V.chart.customChart && b4V.chart.customChart.chartType === R1W){return;}if(b4V.chart.customChart){c6E=b4V.chart.customChart;}b4V.chart.customChart={chartType:R1W,colorFunction:function(m8S,z$E,v01){var O6g,F1I;O6g=z$E[`Color ${P0E.name}`];if(O6g && typeof O6g === "object"){O6g=O6g.color;}F1I="#000";F1I+="000";F1I+="00";return O6g === "auto"?m8S.defaultColor:O6g || F1I;}};C8d.H5S();b4V.setMainSeriesRenderer();}function A8t(j1X){var r$j,S1V,h9j,O4H;r$j="k";r$j+="a";r$j+="g";r$j+="i";S1V=!!({});h9j=j1X.layout.aggregationType;if(h9j !== T68){n4p=!!({});}if(h9j === "linebreak" || h9j === r$j || h9j === "pandf" || h9j === "renko"){S1V=!"1";T68=h9j;if(n4p){O4H=" stud";O4H+="y is not";O4H+=" compati";O4H+="ble with aggregation type ";j1X.dispatch("notification",{message:R1W + O4H + h9j + ((239.64,399.45) !== "1116" - 0?(4510,9664) >= ("3640" | 24,916.56)?(212.99,7930) > 669?".":("9.25e+3" << 32,944.20):6.97e+3:(0x1eab,"I")),displayTime:3});n4p=![];}}C8d.H5S();return S1V;}R1W+="o";c6E=null;n4p=!![];T68=null;z$5.Studies.studyLibrary=z$5.extend(z$5.Studies.studyLibrary,{"GoNoGo Trend":{name:"GoNoGo - Trend",overlay:!!({}),initializeFN:A3v,calculateFN:L4g,seriesFN:m3o,removeFN:Z6Y,inputs:{},outputs:{Go:"#00ffff",NoGo:"#b500b5","Text Go":"#808080","Text NoGo":"#ffffff","Score 0":T1s,"Score 1":"#ee82ee","Score 2":"#d2691e","Score 3":"#7fffd4","Score 4":Z2j},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!!({})},underlayEnabled:{hidden:!![]}}}});})();}};n2=X0Z=>{var k5H,k0_,d9I,w$7;k5H=typeof _CIQ !== "undefined"?_CIQ:X0Z.CIQ;if(!k5H.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {k0_="a";k0_+="ut";k0_+="o";d9I="Gopalakrishnan Range";d9I+=" Index";w$7="au";w$7+="to";k5H.Studies.calculateMaxHighMinLow=function(R8$,r68){var T7i=h_yMd;var I$$,Y$W,b$3,F2e,S1$,P1Y,u9S,F50,x$s,M1V,Z54,D9X,H0u,F8I;I$$=r68.chart.scrubbed;T7i.H5S();Y$W=r68.days;b$3=r68.days;if(r68.inputs["High Period"]){Y$W=r68.inputs["High Period"];}if(r68.inputs["Low Period"]){b$3=r68.inputs["Low Period"];}if(I$$.length < Math.max(Y$W,b$3) + 1){F2e=330426631;S1$=-2109801345;T7i.E2c(40);P1Y=T7i.E9k(0,"2");for(var k8s=1;T7i.z3M(k8s.toString(),k8s.toString().length,47318) !== F2e;k8s++){r68.error=![];T7i.E2c(19);P1Y+=T7i.E9k("2",1);}if(T7i.z3M(P1Y.toString(),P1Y.toString().length,+"35350") !== S1$){r68.error=!0;}r68.error=!![];return;}u9S=Number.MAX_VALUE;T7i.E2c(6);var G79=T7i.e5e(18,17,0);F50=Number.MAX_VALUE * G79;if(r68.startFrom > 1){for(x$s="1" << 0;x$s < Y$W;x$s++){if(r68.startFrom - x$s >= 0){F50=Math.max(F50,I$$[r68.startFrom - x$s].High);}}for(x$s=1;x$s < b$3;x$s++){if(r68.startFrom - x$s >= 0){u9S=Math.min(u9S,I$$[r68.startFrom - x$s].Low);}}}for(var T5_=Math.max(0,r68.startFrom - 1);T5_ < I$$.length;T5_++){M1V="Willia";M1V+="ms %";M1V+="R";Z54="HH";Z54+="V";F50=Math.max(F50,I$$[T5_].High);u9S=Math.min(u9S,I$$[T5_].Low);if(T5_ >= Y$W){if(I$$[T5_ - Y$W].High == F50){F50=I$$[T5_].High;for(x$s="1" << 64;x$s < Y$W;x$s++){F50=Math.max(F50,I$$[T5_ - x$s].High);}}}if(T5_ >= b$3){if(I$$[T5_ - b$3].Low == u9S){u9S=I$$[T5_].Low;for(x$s=1;x$s < b$3;x$s++){u9S=Math.min(u9S,I$$[T5_ - x$s].Low);}}}D9X=0;if(r68.type == Z54){D9X=F50;}else if(r68.type == "LLV"){D9X=u9S;}else if(r68.type == "Donchian Width"){T7i.E2c(5);D9X=T7i.e5e(u9S,F50);}else if(r68.type == "GAPO" || r68.type == "Gopala"){D9X=Math.log(F50 - u9S) / Math.log(b$3);}else if(r68.type == "VT HZ Filter"){H0u="_";H0u+="MHML ";T7i.L7E(5);D9X=T7i.E9k(u9S,F50);I$$[T5_][H0u + r68.name]=D9X;continue;}else if(r68.type == M1V){F8I="Res";F8I+="ult ";D9X=-+"100" * (F50 - I$$[T5_].Close) / (F50 - u9S);I$$[T5_][F8I + r68.name]=D9X;continue;}if(T5_ == I$$.length - +"1")break;if(!I$$[T5_ + ("1" << 96)].futureTick){if(r68.type == "Donchian Channel"){T7i.L7E(2);I$$[T7i.e5e(T5_,1)]["Donchian High " + r68.name]=F50;T7i.E2c(2);I$$[T7i.e5e(T5_,1)]["Donchian Low " + r68.name]=u9S;T7i.E2c(2);I$$[T7i.e5e(T5_,1)]["Donchian Median " + r68.name]=T7i.e5e(F50,2,u9S,T7i.E2c(3));}else {T7i.L7E(2);I$$[T7i.E9k(T5_,1)]["Result " + r68.name]=D9X;}}}};k5H.Studies.calculateVerticalHorizontalFilter=function(l3Z,H09){var y57,f$i,d16,N1c;y57=H09.chart.scrubbed;if(y57.length < H09.days + ("1" >> 32)){H09.error=!![];return;}H09.mhml=new k5H.Studies.StudyDescriptor(H09.name,H09.type,H09.panel);H09.mhml.chart=H09.chart;H09.mhml.days=H09.days;H09.mhml.startFrom=H09.startFrom;H09.mhml.inputs={};H09.mhml.outputs={_MHML:null};k5H.Studies.calculateMaxHighMinLow(l3Z,H09.mhml);h_yMd.L7E(19);f$i=h_yMd.e5e("0",1);d16=[];for(var E8d=Math.max("1" - 0,H09.startFrom - H09.days);E8d < y57.length;E8d++){N1c=Math.abs(y57[E8d].Close - y57[E8d - 1].Close);d16.push(N1c);f$i+=N1c;if(d16.length == H09.days){y57[E8d]["Result " + H09.name]=y57[E8d]["_MHML " + H09.name] / f$i;f$i-=d16.shift();}}};k5H.Studies.studyLibrary=k5H.extend(k5H.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!!({}),calculateFN:k5H.Studies.calculateMaxHighMinLow,seriesFN:k5H.Studies.displayChannel,inputs:{"High Period":20,"Low Period":+"20","Channel Fill":!!"1"},outputs:{"Donchian High":w$7,"Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:k5H.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:d9I,calculateFN:k5H.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:k5H.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:k5H.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:k5H.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:-20,studyOverBoughtColor:k0_,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:k5H.Studies.calculateVerticalHorizontalFilter,inputs:{Period:"28" << 32}},"High-Low":{name:"High Minus Low",calculateFN:function(c5L,U6T){var E9g;E9g=U6T.chart.scrubbed;h_yMd.J2s();for(var B1W=U6T.startFrom;B1W < E9g.length;B1W++){E9g[B1W]["Result " + U6T.name]=E9g[B1W].High - E9g[B1W].Low;}},inputs:{}}});}};A0=G0P=>{var q3W=h_yMd;var R9$,s8V,p7h,i_o,v3T,p5O,p52;R9$="un";R9$+="de";R9$+="fined";s8V=typeof _CIQ !== R9$?_CIQ:G0P.CIQ;if(!s8V.Studies){p7h=516951246;i_o=-1246655572;v3T=2;for(var R_n=1;q3W.K8j(R_n.toString(),R_n.toString().length,78403) !== p7h;R_n++){console.error("ichimoku feature requires first activating studies feature.");v3T+=2;}if(q3W.z3M(v3T.toString(),v3T.toString().length,29673) !== i_o){console.error("");}}else {p5O="#8";p5O+="0";p5O+="8000";p52="#0";p52+="000";p52+="FF";s8V.Studies.calculateIchimoku=function(m0S,C1Y){var X98,G3o,a6L,j1v,U5G,q0a,j8g,L7C,P42,J5A,w7x;X98="Base";X98+=" Li";X98+="ne ";X98+="Period";G3o=C1Y.chart.scrubbed;q3W.J2s();a6L={Base:Number(C1Y.inputs[X98]),Conv:Number(C1Y.inputs["Conversion Line Period"]),LeadB:Number(C1Y.inputs["Leading Span B Period"]),Lag:Number(C1Y.inputs["Lagging Span Period"])};for(j1v=C1Y.startFrom;j1v < G3o.length;j1v++){q0a="L";q0a+="agging Span ";if(!G3o[j1v])continue;U5G=K$q(a6L.Conv,j1v);q3W.E2c(148);var A1K=q3W.E9k(15,3,3,13);q3W.E2c(5);var b76=q3W.E9k(10,12);G3o[j1v]["Conversion Line " + C1Y.name]=(U5G[A1K] + U5G[+"0"]) / b76;U5G=K$q(a6L.Base,j1v);q3W.E2c(5);var N6J=q3W.E9k(13,14);q3W.L7E(149);var c6I=q3W.E9k(5,3,5);G3o[j1v]["Base Line " + C1Y.name]=(U5G[N6J] + U5G[0]) / c6I;if(j1v < a6L.Lag)continue;G3o[j1v - a6L.Lag][q0a + C1Y.name]=G3o[j1v].Close;}j8g=[];for(j1v=Math.max(0,C1Y.startFrom - a6L.Base);j1v < G3o.length;j1v++){L7C="Base L";L7C+="ine ";U5G=K$q(a6L.LeadB,j1v);q3W.E2c(73);var D2h=q3W.e5e(18,13,5,12);P42=(G3o[j1v]["Conversion Line " + C1Y.name] + G3o[j1v][L7C + C1Y.name]) / D2h;q3W.E2c(6);var c7T=q3W.E9k(9,10,0);J5A=(U5G[c7T] + U5G[0]) / +"2";if(G3o[j1v + a6L.Base]){G3o[j1v + a6L.Base]["Leading Span A " + C1Y.name]=P42;G3o[j1v + a6L.Base]["Leading Span B " + C1Y.name]=J5A;}else {w7x={};w7x["Leading Span A " + C1Y.name]=P42;w7x["Leading Span B " + C1Y.name]=J5A;j8g.push(w7x);}}C1Y.appendFutureTicks(m0S,j8g);function K$q(E_g,Y2J){var Q35,N0A;Q35=Number.MAX_VALUE;q3W.E2c(5);var u5_=q3W.e5e(8,7);N0A=Number.MAX_VALUE * u5_;for(var A4X=Y2J - E_g + 1;A4X <= Y2J;A4X++){if(A4X < 0)continue;Q35=Math.min(Q35,G3o[A4X].Low);N0A=Math.max(N0A,G3o[A4X].High);}q3W.H5S();return [Q35,N0A];}};s8V.Studies.displayIchimoku=function(S3Y,s5U,I3v){var M0d,A$9,P8a,V4G,D0R,c9M,a_7;M0d="Leading Span A " + s5U.name;A$9="Leading Span B " + s5U.name;P8a=s8V.Studies.determineColor(s5U.outputs[s5U.outputMap[M0d]]);V4G=s8V.Studies.determineColor(s5U.outputs[s5U.outputMap[A$9]]);D0R=S3Y.panels[s5U.panel];c9M=s5U.getYAxis(S3Y);a_7={topBand:M0d,bottomBand:A$9,topColor:P8a,bottomColor:V4G,skipTransform:D0R.name != s5U.chart.name,topAxis:c9M,bottomAxis:c9M,opacity:0.3};if(!s5U.highlight && S3Y.highlightedDraggable){a_7.opacity*=0.3;}s8V.fillIntersecting(S3Y,s5U.panel,a_7);s8V.Studies.displaySeriesAsLine(S3Y,s5U,I3v);};s8V.Studies.studyLibrary=s8V.extend(s8V.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!0,calculateFN:s8V.Studies.calculateIchimoku,seriesFN:s8V.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":p52,"Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":p5O}}});}};y4=b7U=>{var J0a=h_yMd;var M2o;M2o=typeof _CIQ !== "undefined"?_CIQ:b7U.CIQ;J0a.J2s();if(!M2o.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {M2o.Studies.calculateIntradayMomentum=function(D0D,k0p){var T9t,R4j,G6y,a47,G4U,k4M,c$j,Z2u;T9t=k0p.chart.scrubbed;R4j=k0p.days;if(T9t.length < R4j + 1){k0p.error=!!1;return;}J0a.J2s();G6y=0;a47=0;if(k0p.startFrom > 1){J0a.E2c(128);var K5k=J0a.e5e(2,16,7,14);G6y=T9t[k0p.startFrom - K5k]["_totUp " + k0p.name];J0a.E2c(4);var r0W=J0a.e5e(0,10,11);a47=T9t[k0p.startFrom - r0W]["_totDn " + k0p.name];}for(var M4A=k0p.startFrom;M4A < T9t.length;M4A++){G4U="_totDn";G4U+=" ";k4M="_";k4M+="to";k4M+="tU";k4M+="p ";c$j=T9t[M4A].Close - T9t[M4A].Open;if(c$j > +"0"){G6y+=c$j;}else {a47-=c$j;}if(M4A >= R4j){Z2u=T9t[M4A - R4j].Close - T9t[M4A - R4j].Open;if(Z2u > 0){G6y-=Z2u;}else {a47+=Z2u;}}J0a.E2c(150);T9t[M4A]["Result " + k0p.name]=J0a.E9k(G6y,G6y,100,a47);T9t[M4A][k4M + k0p.name]=G6y;T9t[M4A][G4U + k0p.name]=a47;}};M2o.Studies.studyLibrary=M2o.extend(M2o.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:M2o.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};G$=r9D=>{h_yMd.H5S();var h0K;h0K=typeof _CIQ !== "undefined"?_CIQ:r9D.CIQ;if(!h0K.Studies){console.error("keltner feature requires first activating studies feature.");}else {h0K.Studies.calculateKeltner=function(j2s,u7W){var L_f,V15;L_f="M";L_f+="A";L_f+=" ";V15="Moving Average";h_yMd.H5S();V15+=" Type";h0K.Studies.MA(u7W.inputs[V15],u7W.days,"Close",0,"MA",j2s,u7W);h0K.Studies.calculateStudyATR(j2s,u7W);h0K.Studies.calculateGenericEnvelope(j2s,u7W,u7W.inputs.Shift,L_f + u7W.name,"ATR " + u7W.name);};h0K.Studies.studyLibrary=h0K.extend(h0K.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!"1",seriesFN:h0K.Studies.displayChannel,calculateFN:h0K.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!""},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};p_=M$1=>{var O6e=h_yMd;var K05,z5y,E88,S7_,X3O;O6e.H5S();K05=typeof _CIQ !== "undefined"?_CIQ:M$1.CIQ;if(!K05.Studies){z5y="klinger f";z5y+="eature r";z5y+="equires f";z5y+="irst activating studies feature.";console.error(z5y);}else {E88="#FF";E88+="0";E88+="00";E88+="0";S7_="#";S7_+="FF";S7_+="0000";X3O="a";X3O+="u";X3O+="t";X3O+="o";K05.Studies.calculateKlinger=function(z8G,m0M){var R0Z,g_y,M$W,z$F,v94,j3Z,U84,C8B,Y2M,s5c,n_h,Z2R,W9M,C5O,w1V,Y1c,D1d;R0Z="_E";R0Z+="MA-";R0Z+="S ";g_y="Kling";g_y+="er ";M$W="_h";M$W+="i";M$W+="st";z$F=m0M.chart.scrubbed;v94=Number(m0M.inputs["Short Cycle"]);j3Z=Number(m0M.inputs["Long Cycle"]);if(z$F.length < Math.max(v94,j3Z) + 1){m0M.error=!0;return;}U84=m0M.name + M$W;C8B=g_y + m0M.name;Y2M="KlingerSignal " + m0M.name;s5c="_SV " + m0M.name;n_h=R0Z + m0M.name;Z2R="_EMA-L " + m0M.name;for(W9M=Math.max(1,m0M.startFrom);W9M < z$F.length;W9M++){C5O=z$F[W9M].Volume;if(z$F[W9M]["hlc/3"] < z$F[W9M - ("1" << 32)]["hlc/3"]){C5O*=-1;}if(C5O){z$F[W9M][s5c]=C5O;}}O6e.L7E(40);K05.Studies.MA("exponential",v94,s5c,O6e.e5e(0,"0"),"_EMA-S",z8G,m0M);K05.Studies.MA("exponential",j3Z,s5c,+"0","_EMA-L",z8G,m0M);for(W9M=Math.max(j3Z,m0M.startFrom);W9M < z$F.length;W9M++){if(z$F[W9M].futureTick || z$F[W9M][n_h] === null || z$F[W9M][Z2R] === null)break;z$F[W9M][C8B]=z$F[W9M][n_h] - z$F[W9M][Z2R];}w1V=1316808378;Y1c=-544640921;D1d=2;for(var v_Z=1;O6e.z3M(v_Z.toString(),v_Z.toString().length,"35688" >> 32) !== w1V;v_Z++){K05.Studies.MA("KlingerSignal",Number(m0M.inputs["Signal Periods"]),C8B,1,"Signal Periods",z8G,m0M);O6e.E2c(24);D1d+=O6e.E9k("2",2);}if(O6e.K8j(D1d.toString(),D1d.toString().length,33293) !== Y1c){K05.Studies.MA("exponential",Number(m0M.inputs["Signal Periods"]),C8B,0,"KlingerSignal",z8G,m0M);}for(W9M=m0M.startFrom;W9M < z$F.length;W9M++){z$F[W9M][U84]=z$F[W9M][C8B] - z$F[W9M][Y2M];}m0M.outputMap[U84]="";};K05.Studies.studyLibrary=K05.extend(K05.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:K05.Studies.displayHistogramWithSeries,calculateFN:K05.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":"55" | 54},outputs:{Klinger:X3O,KlingerSignal:S7_,"Increasing Bar":"#00DD00","Decreasing Bar":E88}}});}};Q4=x3n=>{var T_Y,u5B,Q$k,H5j,O7I,g6G;T_Y=typeof _CIQ !== "undefined"?_CIQ:x3n.CIQ;if(!T_Y.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {u5B="au";u5B+="to";Q$k="a";Q$k+="u";Q$k+="t";Q$k+="o";H5j="a";H5j+="u";H5j+="t";H5j+="o";O7I="ti";O7I+="me series";g6G="time ser";g6G+="ies";T_Y.Studies.prettify[g6G]="tsma";T_Y.Studies.movingAverage.conversions.tsma=O7I;T_Y.Studies.movingAverage.translations["time series"]="Time Series";T_Y.Studies.movingAverage.typeMap.tsma="TimeSeries";T_Y.Studies.movingAverage.typeMap["time series"]="TimeSeries";T_Y.Studies.calculateMovingAverageTimeSeries=function(Z$E,R35){var c5G=h_yMd;var H4w,Z_R,i8h,p1L,v_b,Q$I,L3f,b6Q,Y8O;R35.ma=new T_Y.Studies.StudyDescriptor(R35.name,"ma",R35.panel);R35.ma.chart=R35.chart;R35.ma.days=R35.days;R35.ma.startFrom=R35.startFrom;R35.ma.inputs=R35.inputs;T_Y.Studies.calculateLinearRegressionIndicator(Z$E,R35.ma);H4w=R35.name;for(var V2Z in R35.outputs){c5G.E2c(95);H4w=c5G.E9k(V2Z,H4w,(6608,8090) == (1498,157.29)?("8650" * 1,3640) != 2984?"0xaa3" - 0:0x23dc:" ");}Z_R=parseInt(R35.inputs.Offset,10);if(isNaN(Z_R)){Z_R=0;}i8h=R35.chart.scrubbed;p1L=Z_R;for(var t4k=R35.startFrom - +"1";t4k >= 0;t4k--){v_b=i8h[t4k][H4w];if(!v_b && v_b !== "0" * 1)continue;if(p1L > 0){p1L--;continue;}break;}Q$I=[];for(t4k++;t4k < i8h.length;t4k++){L3f=i8h[t4k];if(t4k + Z_R >= 0){b6Q="Fo";b6Q+="r";b6Q+="ecast ";if(t4k + Z_R < i8h.length){c5G.L7E(2);i8h[c5G.e5e(t4k,Z_R)][H4w]=L3f[b6Q + R35.name];}else {Y8O={};Y8O[H4w]=L3f["Forecast " + R35.name];Q$I.push(Y8O);}}}R35.appendFutureTicks(Z$E,Q$I);};T_Y.Studies.calculateLinearRegressionIndicator=function(j5y,r9q){var H4J=h_yMd;var B2O,f2K,k$i,m9$,z2w,V8D,o47,N_B,O45,f7Z,u1D,n9z,O$P,j_p,Q_n,b$U;B2O="Cl";B2O+="o";B2O+="s";B2O+="e";f2K=r9q.chart.scrubbed;if(f2K.length < r9q.days + 1){r9q.error=!!"1";return;}k$i=r9q.inputs.Field;if(!k$i || k$i == "field"){k$i=B2O;}H4J.L7E(151);var R8q=H4J.e5e(1,12,4,14,2);H4J.E2c(6);var j67=H4J.E9k(19,11,10);m9$=r9q.days * (r9q.days + R8q) / j67;z2w=Math.pow(m9$,2);H4J.E2c(0);var u$N=H4J.E9k(0,32,16);H4J.L7E(4);var O2e=H4J.e5e(9,17,9);H4J.E2c(152);var x_L=H4J.e5e(3,15,14,203,16);H4J.J2s();V8D=m9$ * (u$N * r9q.days + O2e) / x_L;o47=0;N_B=0;O45=0;if(r9q.startFrom){f7Z=f2K[r9q.startFrom - +"1"]["_sums " + r9q.name];if(f7Z){N_B=f7Z[0];o47=f7Z[1];O45=f7Z[2];}}for(var l23=r9q.startFrom;l23 < f2K.length;l23++){u1D="Forec";u1D+="a";u1D+="st ";n9z=f2K[l23][k$i];if(n9z && typeof n9z == "object"){n9z=n9z[r9q.subField];}if(!n9z && n9z !== 0)continue;N_B+=r9q.days * n9z - o47;o47+=n9z;O45+=Math.pow(n9z,+"2");if(l23 < r9q.days - 1)continue;else if(l23 > r9q.days - 1){O$P=f2K[l23 - r9q.days][k$i];if(O$P && typeof O$P == "object"){O$P=O$P[r9q.subField];}if(!O$P && O$P !== 0)continue;o47-=O$P;O45-=Math.pow(O$P,2);}j_p=(r9q.days * N_B - m9$ * o47) / (r9q.days * V8D - z2w);f2K[l23]["Slope " + r9q.name]=j_p;Q_n=(o47 - j_p * m9$) / r9q.days;f2K[l23]["Intercept " + r9q.name]=Q_n;f2K[l23][u1D + r9q.name]=Q_n + j_p * r9q.days;H4J.E2c(12);var V_Q=H4J.E9k(6,4);b$U=(r9q.days * V8D - z2w) / (r9q.days * O45 - Math.pow(o47,V_Q));H4J.E2c(153);f2K[l23]["RSquared " + r9q.name]=H4J.E9k(j_p,j_p,b$U);f2K[l23]["_sums " + r9q.name]=[N_B,o47,O45];}};T_Y.Studies.studyLibrary=T_Y.extend(T_Y.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!![],calculateFN:T_Y.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" >> 0,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!0,calculateFN:T_Y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:T_Y.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:H5j}},"LR Slope":{name:"Linear Reg Slope",calculateFN:T_Y.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" | 0,Field:"field"},outputs:{Slope:Q$k}},"Time Fcst":{name:"Time Series Forecast",overlay:!"",calculateFN:T_Y.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" | 14,Field:"field"},outputs:{Forecast:u5B}}});}};Q5=j3q=>{var f$u=h_yMd;f$u.H5S();var A9y,A_v,X$N;A9y=typeof _CIQ !== "undefined"?_CIQ:j3q.CIQ;if(!A9y.Studies){console.error("macd feature requires first activating studies feature.");}else {A_v="#F";A_v+="F0000";X$N="#00DD0";X$N+="0";A9y.Studies.calculateMACD=function(l4Q,x0T){var x1B,V8r,W_G,l6v,i0F,d_O,A2K,D$s,Q1y,p1q,J8d,K81,p$X,l67,G11,Q2b,w2Q,i1p;x1B="_his";x1B+="t";V8r="M";V8r+="AC";V8r+="D";V8r+=" ";W_G="_M";W_G+="ACD1";l6v="fi";l6v+="eld";i0F="S";i0F+="i";i0F+="gnal";i0F+=" Period";d_O="F";d_O+="as";d_O+="t MA ";d_O+="Period";A2K=x0T.chart.scrubbed;D$s=x0T.inputs;Q1y=x0T.name;if(!x0T.macd1Days){x0T.macd1Days=parseFloat(D$s[d_O]);}if(!x0T.macd2Days){x0T.macd2Days=parseFloat(D$s["Slow MA Period"]);}if(!x0T.signalDays){x0T.signalDays=parseFloat(D$s[i0F]);}if(!x0T.days){x0T.days=Math.max(x0T.macd1Days,x0T.macd2Days,x0T.signalDays);}if(A2K.length < x0T.days + 1){x0T.error=!"";return;}p1q=x0T.inputs.Field;if(!p1q || p1q == l6v){p1q="Close";}J8d=D$s["Moving Average Type"];if(!J8d){J8d="exponential";}A9y.Studies.MA(J8d,x0T.macd1Days,p1q,0,W_G,l4Q,x0T);A9y.Studies.MA(J8d,x0T.macd2Days,p1q,0,"_MACD2",l4Q,x0T);l67=Math.max(x0T.startFrom,x0T.days - 1);for(K81=l67;K81 < A2K.length;K81++){G11="_M";G11+="AC";G11+="D2 ";p$X=A2K[K81];if((p$X["_MACD1 " + Q1y] || p$X["_MACD1 " + Q1y] === +"0") && (p$X["_MACD2 " + Q1y] || p$X[G11 + Q1y] === 0)){f$u.L7E(2);p$X[f$u.e5e("MACD ",Q1y)]=p$X["_MACD1 " + Q1y] - p$X["_MACD2 " + Q1y];}}Q2b=D$s["Signal MA Type"];if(!Q2b){Q2b="exponential";}A9y.Studies.MA(Q2b,x0T.signalDays,V8r + Q1y,0,"Signal",l4Q,x0T);f$u.E2c(2);w2Q=f$u.e5e(Q1y,x1B);for(K81=l67;K81 < A2K.length;K81++){p$X=A2K[K81];f$u.L7E(2);i1p=p$X[f$u.E9k("Signal ",Q1y)];if(!i1p && i1p !== +"0")continue;p$X[w2Q]=p$X["MACD " + Q1y] - p$X["Signal " + Q1y];}x0T.outputMap[w2Q]="";};A9y.Studies.studyLibrary=A9y.extend(A9y.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:A9y.Studies.calculateMACD,seriesFN:A9y.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":"26" ^ 0,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":X$N,"Decreasing Bar":A_v}}});}};D_=e3_=>{var k_O,a6k,z0M;k_O=typeof _CIQ !== "undefined"?_CIQ:e3_.CIQ;if(!k_O.Studies){a6k="massIndex featur";a6k+="e requires first activating ";a6k+="studies";a6k+=" feature.";console.error(a6k);}else {z0M="Mass";z0M+=" In";z0M+="de";z0M+="x";k_O.Studies.calculateMassIndex=function(d75,D_S){var Z0I=h_yMd;var u0p,E9N,l6I,I_z,O_p,o9K,S0f,y_I;u0p="_tota";u0p+="l ";E9N="_";E9N+="EM";E9N+="A";E9N+=" ";l6I="expo";l6I+="nential";I_z="_H";I_z+="i";I_z+="gh-L";I_z+="ow ";O_p=D_S.chart.scrubbed;if(O_p.length < Math.max(9,D_S.days + 1)){D_S.error=!"";return;}for(var F9m=D_S.startFrom;F9m < O_p.length;F9m++){O_p[F9m]["_High-Low " + D_S.name]=O_p[F9m].High - O_p[F9m].Low;}k_O.Studies.MA("exponential",9,I_z + D_S.name,0,"_EMA",d75,D_S);k_O.Studies.MA(l6I,+"9",E9N + D_S.name,0,"_EMA2",d75,D_S);o9K=0;if(O_p[D_S.startFrom - 1] && O_p[D_S.startFrom - 1]["_total " + D_S.name]){Z0I.L7E(154);var a2M=Z0I.e5e(15,1,4,6,12);o9K=O_p[D_S.startFrom - a2M][u0p + D_S.name];}for(var v9c=Math.max(17,D_S.startFrom);v9c < O_p.length;v9c++){o9K+=O_p[v9c]["_EMA " + D_S.name] / O_p[v9c]["_EMA2 " + D_S.name];if(v9c >= 17 + D_S.days - 1){S0f="_";S0f+="EM";S0f+="A2";S0f+=" ";y_I="_";y_I+="EMA ";O_p[v9c]["Result " + D_S.name]=o9K;Z0I.E2c(98);var X_S=Z0I.E9k(20,14,279,4,4);Z0I.E2c(4);var N8n=Z0I.E9k(14,17,4);o9K-=O_p[v9c - D_S.days + X_S][y_I + D_S.name] / O_p[v9c - D_S.days + N8n][S0f + D_S.name];}O_p[v9c]["_total " + D_S.name]=o9K;}};k_O.Studies.displayMassIndex=function(a7Z,o5l,F8n){var V36,Y_D,M_f,x_p,S6S,U7J;V36="B";V36+="ulge Thresh";V36+="ol";V36+="d";k_O.Studies.displaySeriesAsLine(a7Z,o5l,F8n);Y_D=o5l.inputs[V36];M_f=a7Z.panels[o5l.panel];x_p=o5l.getYAxis(a7Z);S6S=k_O.Studies.determineColor(o5l.outputs.Result);U7J={skipTransform:a7Z.panels[o5l.panel].name != o5l.chart.name,panelName:o5l.panel,band:"Result " + o5l.name,threshold:Y_D,direction:+"1",color:S6S,yAxis:x_p,opacity:0.3};if(!o5l.highlight && a7Z.highlightedDraggable){U7J.opacity*=+"0.3";}k_O.preparePeakValleyFill(a7Z,U7J);k_O.Studies.drawHorizontal(a7Z,o5l,null,Y_D,x_p,S6S);};k_O.Studies.studyLibrary=k_O.extend(k_O.Studies.studyLibrary,{"Mass Idx":{name:z0M,seriesFN:k_O.Studies.displayMassIndex,calculateFN:k_O.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":+"27"},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};h7=L67=>{var V_z,w4l,P_m,u6K;V_z=typeof _CIQ !== "undefined"?_CIQ:L67.CIQ;if(!V_z.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {w4l="a";w4l+="u";w4l+="to";P_m="aut";P_m+="o";u6K="0 to 10";u6K+="0";V_z.Studies.calculateMoneyFlowIndex=function(C4t,C44){var p3G=h_yMd;var R40,V6e,T6t,A2p,x4V,W62,u9z,C3d,K8e,T0n,d0k,F0k;R40="_r";R40+="awM";R40+="F ";V6e=C44.chart.scrubbed;if(V6e.length < C44.days + "1" * 1){C44.error=!!({});return;}T6t=0;A2p=0;p3G.E2c(80);var n5G=p3G.E9k(7,12,2,0);x4V=V6e[C44.startFrom - n5G];W62=R40 + C44.name;u9z="_cumMF " + C44.name;C3d="Result " + C44.name;if(x4V && x4V[u9z]){T6t=x4V[u9z][0];A2p=x4V[u9z][+"1"];}for(var z65=C44.startFrom;z65 < V6e.length;z65++){K8e=V6e[z65]["hlc/3"];if(z65 > 0 && !V6e[z65].futureTick){p3G.E2c(5);T0n=V6e[p3G.e5e(1,z65)]["hlc/3"];d0k=K8e * V6e[z65].Volume;if(K8e > T0n){T6t+=d0k;}else if(K8e < T0n){d0k*=-1;A2p-=d0k;}else {d0k=0;}if(z65 > C44.days){F0k=V6e[z65 - C44.days][W62];if(F0k > 0){T6t-=F0k;}else {A2p+=F0k;}if(A2p === 0){V6e[z65][C3d]=+"100";}else if(V6e[z65].Volume){p3G.E2c(155);V6e[z65][C3d]=p3G.e5e("1",A2p,"100","100",T6t);}}V6e[z65][W62]=d0k;V6e[z65][u9z]=[T6t,A2p];}}};V_z.Studies.studyLibrary=V_z.extend(V_z.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:u6K,calculateFN:V_z.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:P_m,studyOverSoldValue:20,studyOverSoldColor:w4l}}}});}};B0=z2v=>{var S2L,l1Y,M63,a71,z3s,f16,g09,p2C,M5G;S2L=typeof _CIQ !== "undefined"?_CIQ:z2v.CIQ;if(!S2L.Studies){l1Y="movingAverages feature requires first activat";l1Y+="ing ";l1Y+="studies feature.";console.error(l1Y);}else {M63="a";M63+="u";M63+="t";M63+="o";a71="fi";a71+="el";a71+="d";z3s="Moving Average Devi";z3s+="at";z3s+="ion";f16="m";f16+="a";g09="p";g09+="oints";p2C="Tripl";p2C+="eEx";p2C+="ponential";M5G="DoubleExpo";M5G+="nentia";M5G+="l";S2L.Studies.prettify=S2L.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},S2L.Studies.prettify);S2L.extend(S2L.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":M5G,tema:p2C,"3-exponential":"TripleExponential"}});S2L.Studies.calculateMovingAverageHull=function(A63,I9j){var m4K=h_yMd;var x6l,m$t,x48,Z3k,i2Y,n7q,P9L,B_A,M2Q,o29,h6M,t8Z,Y9b,L$T;x6l="_";x6l+="M";x6l+="MA ";m$t="_";m4K.J2s();m$t+="W";m$t+="MA2";x48="w";x48+="ma";Z3k="C";Z3k+="l";Z3k+="os";Z3k+="e";i2Y=I9j.chart.scrubbed;n7q=I9j.inputs.Field;if(!n7q || n7q == "field"){n7q=Z3k;}S2L.Studies.MA("wma",I9j.days,n7q,0,"_WMA1",A63,I9j);S2L.Studies.MA(x48,Math.ceil(I9j.days / 2),n7q,0,m$t,A63,I9j);for(P9L=I9j.startFrom - +"1";P9L >= 0;P9L--){B_A=i2Y[P9L][n7q];if(B_A && typeof B_A == "object"){B_A=B_A[I9j.subField];}if(B_A || B_A === 0)break;}for(P9L++;P9L < i2Y.length;P9L++){M2Q="_";M2Q+="WMA2 ";o29=i2Y[P9L];m4K.L7E(156);var K_C=m4K.E9k(7,10,17,3,1);o29["_MMA " + I9j.name]=K_C * o29[M2Q + I9j.name] - o29["_WMA1 " + I9j.name];}h6M=parseInt(I9j.inputs.Offset,10);if(isNaN(h6M)){h6M=+"0";}t8Z=Math.floor(Math.sqrt(I9j.days));S2L.Studies.MA("wma",t8Z,x6l + I9j.name,h6M,"_HMA",A63,I9j);Y9b=I9j.name;for(var r4O in I9j.outputs){m4K.L7E(95);Y9b=m4K.e5e(r4O,Y9b,219 !== (622.61,29.48)?" ":127.49 != 8120?"a":(![],!!({})));}for(P9L=Math.max(I9j.days + t8Z - 1,I9j.startFrom);P9L < i2Y.length;P9L++){L$T="_";L$T+="H";L$T+="M";L$T+="A ";i2Y[P9L][Y9b]=i2Y[P9L][L$T + I9j.name];}};S2L.Studies.calculateMovingAverageDoubleExponential=function(e8u,B23){var d9N=h_yMd;d9N.H5S();var w44,M4I,G5A,c7W,x41,h9k,S6K,k5n,Q6v,j9Q,z8C,H2l,Z1h;w44="_E";w44+="M";w44+="A1 ";M4I=B23.chart.scrubbed;G5A=B23.inputs.Field;if(!G5A || G5A == "field"){G5A="Close";}S2L.Studies.MA("ema",B23.days,G5A,0,"_EMA1",e8u,B23);S2L.Studies.MA("ema",B23.days,w44 + B23.name,0,"_EMA2",e8u,B23);c7W=parseInt(B23.inputs.Offset,10);if(isNaN(c7W)){c7W=0;}S6K=c7W;for(x41=B23.startFrom - +"1";x41 >= +"0";x41--){k5n="o";k5n+="bjec";k5n+="t";h9k=M4I[x41][G5A];if(h9k && typeof h9k == k5n){h9k=h9k[B23.subField];}if(!h9k && h9k !== 0)continue;if(S6K > 0){S6K--;continue;}break;}Q6v=B23.name;for(var G5u in B23.outputs){d9N.L7E(95);Q6v=d9N.e5e(G5u,Q6v,328.7 > 1990?(9210,"202.31" * 1) < 629.52?!1:(!({}),3.43e+3):" ");}j9Q=[];for(x41++;x41 < M4I.length;x41++){if(x41 < 2 * (B23.days - 1))continue;z8C=M4I[x41];H2l=+"2" * z8C["_EMA1 " + B23.name] - z8C["_EMA2 " + B23.name];if(x41 + c7W >= "0" * 1){if(x41 + c7W < M4I.length){d9N.L7E(2);M4I[d9N.e5e(x41,c7W)][Q6v]=H2l;}else {Z1h={};Z1h[Q6v]=H2l;j9Q.push(Z1h);}}}B23.appendFutureTicks(e8u,j9Q);};S2L.Studies.calculateMovingAverageTripleExponential=function(p65,D_C){var O18=h_yMd;var z_u,C2c,j9G,f2X,Z53,e2F,H6X,U5x,Y8W,G6A,N4F,E3F;z_u=D_C.chart.scrubbed;C2c=D_C.inputs.Field;if(!C2c || C2c == "field"){C2c="Close";}S2L.Studies.MA("ema",D_C.days,C2c,0,"_EMA1",p65,D_C);S2L.Studies.MA("ema",D_C.days,"_EMA1 " + D_C.name,+"0","_EMA2",p65,D_C);S2L.Studies.MA("ema",D_C.days,"_EMA2 " + D_C.name,0,"_EMA3",p65,D_C);j9G=parseInt(D_C.inputs.Offset,"10" * 1);if(isNaN(j9G)){j9G=0;}e2F=j9G;for(f2X=D_C.startFrom - 1;f2X >= 0;f2X--){H6X="ob";H6X+="j";H6X+="e";H6X+="ct";Z53=z_u[f2X][C2c];if(Z53 && typeof Z53 == H6X){Z53=Z53[D_C.subField];}if(!Z53 && Z53 !== 0)continue;if(e2F > 0){e2F--;continue;}break;}U5x=D_C.name;for(var T0y in D_C.outputs){O18.L7E(95);U5x=O18.E9k(T0y,U5x,(4459,1070) == (4761,1134)?"S":(200.24,3487) != 961?" ":936.16 === 887.78?"e":(3.40e+3,+"7.18e+3"));}Y8W=[];for(f2X++;f2X < z_u.length;f2X++){if(f2X < 3 * (D_C.days - 1))continue;G6A=z_u[f2X];O18.E2c(6);var z6F=O18.E9k(7,5,5);O18.E2c(157);var z7h=O18.e5e(1,2,1,1);N4F=z6F * G6A["_EMA1 " + D_C.name] - z7h * G6A["_EMA2 " + D_C.name] + G6A["_EMA3 " + D_C.name];if(f2X + j9G >= 0){if(f2X + j9G < z_u.length){O18.E2c(2);z_u[O18.E9k(f2X,j9G)][U5x]=N4F;}else {E3F={};E3F[U5x]=N4F;Y8W.push(E3F);}}}D_C.appendFutureTicks(p65,Y8W);};S2L.Studies.calculateMAEnvelope=function(k2l,H9v){var x2w,q6m,m7G,b51;x2w=H9v.inputs.Field;h_yMd.H5S();if(!x2w || x2w == "field"){x2w="Close";}S2L.Studies.MA(H9v.inputs["Moving Average Type"],H9v.days,x2w,0,"MA",k2l,H9v);q6m=H9v.inputs["Shift Type"];m7G=H9v.inputs.Shift;if(!q6m){b51="pe";b51+="r";b51+="cent";q6m=b51;m7G=H9v.inputs["Shift Percentage"];}if(q6m == "percent"){h_yMd.E2c(9);S2L.Studies.calculateGenericEnvelope(k2l,H9v,h_yMd.E9k(m7G,100),"MA " + H9v.name);}else if(q6m == "points"){S2L.Studies.calculateGenericEnvelope(k2l,H9v,null,"MA " + H9v.name,null,Number(m7G));}};S2L.Studies.calculateMADev=function(E0y,F2k){var R1d=h_yMd;var D4u,d2q,X04,O6_,K0J,o5N,H_A,F_A,v2w,x0h;D4u="_";D4u+="M";D4u+="A";d2q=F2k.chart.scrubbed;if(d2q.length < F2k.days + 1){F2k.error=!0;return;}X04=F2k.inputs.Field;if(!X04 || X04 == "field"){X04="Close";}O6_=F2k.inputs["Points Or Percent"];if(!O6_){O6_="Points";}K0J=F2k.inputs["Moving Average Type"];if(!K0J){K0J="exponential";}S2L.Studies.MA(K0J,F2k.days,X04,0,D4u,E0y,F2k);o5N=F2k.name + "_hist";for(var G85=Math.max(F2k.startFrom,F2k.days - 1);G85 < d2q.length;G85++){H_A="ob";H_A+="ject";F_A=d2q[G85];v2w=F_A[X04];if(v2w && typeof v2w == H_A){v2w=v2w[F2k.subField];}x0h=F_A["_MA " + F2k.name];if(x0h || x0h === 0){if(O6_ == "Points"){R1d.L7E(5);F_A[o5N]=R1d.E9k(x0h,v2w);}else {R1d.E2c(158);F_A[o5N]=R1d.E9k(v2w,100,x0h,1);}}}F2k.outputMap={};F2k.outputMap[F2k.name + "_hist"]="";};S2L.Studies.calculateGMMA=function(o1$,r6D){var f3x=h_yMd;var i6n,v8S,B96;i6n=r6D.chart.scrubbed;v8S=[3,5,8,10,12,15];f3x.E2c(19);B96=[30,35,40,f3x.e5e("45",1),50,+"60"];if(i6n.length < v8S[0]){r6D.error=!![];return;}r6D.outputMap={};function o0e(e$G){return function(w1w){var O_j,e5E,x3r;O_j="M";O_j+="A ";e5E="C";e5E+="lo";e5E+="s";e5E+="e";x3r="e";x3r+="ma";f3x.E2c(2);S2L.Studies.MA(x3r,w1w,e5E,0,f3x.E9k("MA ",w1w),o1$,r6D);f3x.E2c(6);var s5I=f3x.E9k(12,14,813);f3x.L7E(73);var Q4o=f3x.E9k(3,0,12,16);f3x.E2c(5);var h$D=f3x.e5e(80730,88803);f3x.L7E(5);var d8s=f3x.E9k(17580,26370);f3x.E2c(128);var R7e=f3x.E9k(1,7117,11,8);r6D.outputMap[O_j + w1w + ((387.44,s5I) == "807.62" * Q4o?!!"":(h$D,d8s) <= (964.02,249.65)?R7e:" ") + r6D.name]=e$G;};}v8S.forEach(o0e("Short Term"));B96.forEach(o0e("Long Term"));};S2L.Studies.studyLibrary=S2L.extend(S2L.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:S2L.Studies.displayChannel,calculateFN:S2L.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent",g09],Shift:5,"Moving Average Type":f16,"Channel Fill":!!"1"},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:z3s,calculateFN:S2L.Studies.calculateMADev,seriesFN:S2L.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:"Guppy Multiple Moving Average",overlay:!![],calculateFN:S2L.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!!({}),seriesFN:S2L.Studies.displayChannel,calculateFN:function(N7b,v$Y){v$Y.inputs["Moving Average Type"]="triangular";h_yMd.J2s();S2L.Studies.calculateMAEnvelope(N7b,v$Y);},inputs:{Period:10,Field:a71,"Shift Percentage":5,"Channel Fill":!!({})},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":M63},attributes:{"Shift Percentage":{min:+"0.1",step:"0.1" * 1}}}});}};b0=E_6=>{var g52=h_yMd;g52.J2s();var N3Q;N3Q=typeof _CIQ !== "undefined"?_CIQ:E_6.CIQ;if(!N3Q.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {N3Q.Studies.calculatePSAR=function(t48,e_K){var w7Y,H2j,F4d,k8g,m2b,m6t,E4e,c1s,J1f,E76,l2e,k3H,Y4p;w7Y="Minimum ";w7Y+="AF";H2j=e_K.chart.scrubbed;F4d=0;k8g=null;m2b=![];function b9N(){F4d=0;g52.H5S();k8g=null;m2b=!m2b;}m6t=0;E4e=parseFloat(e_K.inputs[w7Y]);c1s=parseFloat(e_K.inputs["Maximum AF"]);g52.H5S();if(e_K.startFrom > 0){g52.L7E(159);var A2I=g52.E9k(4,2,11,18,10);m6t=H2j[e_K.startFrom - A2I]["Result " + e_K.name];g52.E2c(6);var i2s=g52.e5e(15,16,0);J1f=H2j[e_K.startFrom - i2s]["_state " + e_K.name];if(J1f && J1f.length == 3){F4d=J1f[0];k8g=J1f[1];m2b=J1f[+"2"];}}for(var o0m=e_K.startFrom - 1;o0m < H2j.length - 1;o0m++){if(o0m < ("0" ^ 0))continue;if(H2j[o0m].futureTick)break;E76=m6t;if(m2b){if(!k8g || k8g < H2j[o0m].High){k8g=H2j[o0m].High;g52.L7E(2);F4d=Math.min(g52.E9k(F4d,E4e),c1s);}g52.E2c(160);m6t=g52.e5e(E76,E76,k8g,F4d);l2e=Math.min(H2j[Math.max(1,o0m) - 1].Low,H2j[o0m].Low);if(m6t > H2j[o0m + 1].Low){m6t=k8g;b9N();}else if(m6t > l2e){m6t=l2e;}}else {if(!k8g || k8g > H2j[o0m].Low){k8g=H2j[o0m].Low;g52.L7E(2);F4d=Math.min(g52.E9k(F4d,E4e),c1s);}g52.L7E(160);m6t=g52.e5e(E76,E76,k8g,F4d);k3H=Math.max(H2j[Math.max(1,o0m) - ("1" ^ 0)].High,H2j[o0m].High);if(m6t < H2j[o0m + 1].High){m6t=k8g;b9N();}else if(m6t < k3H){m6t=k3H;}}g52.E2c(2);H2j[g52.E9k(o0m,1)]["_state " + e_K.name]=[F4d,k8g,m2b];if(!isNaN(H2j[o0m].High) || !isNaN(H2j[o0m].Low)){Y4p="Res";Y4p+="u";Y4p+="lt ";g52.L7E(2);H2j[g52.e5e(o0m,1)][Y4p + e_K.name]=m6t;}}};N3Q.Studies.studyLibrary=N3Q.extend(N3Q.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!"",calculateFN:N3Q.Studies.calculatePSAR,seriesFN:N3Q.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};c6=e3m=>{var Q7p=h_yMd;var d2_,I0x,O6Z,i4R,H8I,g0G,X97,d$$,A_V,x_Q,y5a,v3P;d2_="undefi";d2_+="ned";I0x=typeof _CIQ !== d2_?_CIQ:e3m.CIQ;Q7p.H5S();if(!I0x.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {I0x.Studies.calculatePivotPoints=function(I69,f21){var T0_,L2D,f5Z,p9A,J8K,I6C,p6U,y0H,T2D,D1Q,C64,s09,j_l,H5U,g5v,G7t,Z1t,I$x,a3G,c1u,p4G,G81,t7c,U$Z,L$a,W$4;T0_="m";T0_+="illisecond";L2D="se";L2D+="c";L2D+="ond";f5Z="sec";f5Z+="ond";p9A="d";p9A+="a";p9A+="y";J8K=f21.chart.scrubbed;I6C="day";p6U=I69.layout.interval;y0H=I69.layout.timeUnit;if(p6U == p9A){I6C="month";}else if(I0x.ChartEngine.isDailyInterval(p6U)){I6C="year";}else if(p6U == f5Z || p6U == "millisecond" || y0H == L2D || y0H == T0_){I6C="15min";}else {T2D="min";T2D+="u";T2D+="te";D1Q=I69.layout.periodicity;if(p6U != T2D){D1Q*=p6U;}if(D1Q >= 30){I6C="week";}}function h_o(){Q7p.H5S();Q7p.E2c(140);var J32=Q7p.e5e(8,3,4,0,8);j_l.pivotPoint=(j_l.high + j_l.low + J8K[V3F - J32].Close) / +"3";j_l.prevHigh=j_l.high;j_l.prevLow=j_l.low;j_l.hlSpread=j_l.high - j_l.low;Q7p.E2c(40);j_l.high=j_l.low=Q7p.E9k(64,"0");}C64=null;Q7p.L7E(73);var v0L=Q7p.E9k(15,79,6,6);s09=("7" << v0L) - I0x.getFromNS(I69.chart,"market.beginningDayOfWeek",+"0");j_l={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(f21.startFrom > 1 && J8K[f21.startFrom - 1]["_pointers " + f21.name]){j_l=I0x.clone(J8K[f21.startFrom - 1]["_pointers " + f21.name]);}for(var V3F=Math.max(1,f21.startFrom);V3F < J8K.length;V3F++){H5U="_poin";H5U+="ters ";g5v="P";g5v+="i";g5v+="vot ";G7t="m";G7t+="ont";G7t+="h";if(!J8K[V3F - ("1" | 1)])continue;j_l.high=Math.max(j_l.high,J8K[V3F - 1].High);j_l.low=Math.min(j_l.low > "0" >> 64?j_l.low:J8K[V3F - ("1" - 0)].Low,J8K[V3F - 1].Low);if(f21.inputs.Continuous){h_o();}else if(I6C == "year" && J8K[V3F].DT.getYear() != J8K[V3F - 1].DT.getYear()){h_o();}else if(I6C == G7t && J8K[V3F].DT.getMonth() != J8K[V3F - 1].DT.getMonth()){h_o();}else if(I6C == "week" && (J8K[V3F].DT.getDay() + s09) % 7 < (J8K[V3F - 1].DT.getDay() + s09) % 7){h_o();}else if(I6C == "day"){if(C64 === null){C64=I0x.Studies.getMarketOffset({stx:I69,localQuoteDate:J8K[V3F].DT,shiftToDateBoundary:!!1});}Z1t=new Date(new Date(+J8K[V3F].DT).setMilliseconds(J8K[V3F].DT.getMilliseconds() + C64));I$x=new Date(new Date(+J8K[V3F - 1].DT).setMilliseconds(J8K[V3F - 1].DT.getMilliseconds() + C64));if(I$x.getDate() !== Z1t.getDate() && I$x.getDay() !== 0 && I69.chart.market.isMarketDate(Z1t)){C64=null;h_o();}}else if(I6C == "15min" && (J8K[V3F].DT.getHours() != J8K[V3F - 1].DT.getHours() || Math.floor(J8K[V3F].DT.getMinutes() / 15) != Math.floor(J8K[V3F - 1].DT.getMinutes() / 15))){h_o();}J8K[V3F][g5v + f21.name]=j_l.pivotPoint;if(f21.inputs.Type.toLowerCase() == "fibonacci"){a3G="Sup";a3G+="port";a3G+=" 3 ";c1u="Sup";c1u+="p";c1u+="ort 2";c1u+=" ";p4G="Resistanc";p4G+="e 3 ";G81="R";G81+="esistance 2 ";t7c="R";t7c+="esistanc";t7c+="e 1";t7c+=" ";J8K[V3F][t7c + f21.name]=j_l.pivotPoint + 0.382 * j_l.hlSpread;J8K[V3F][G81 + f21.name]=j_l.pivotPoint + 0.618 * j_l.hlSpread;J8K[V3F][p4G + f21.name]=j_l.pivotPoint + j_l.hlSpread;J8K[V3F]["Support 1 " + f21.name]=j_l.pivotPoint - +"0.382" * j_l.hlSpread;J8K[V3F][c1u + f21.name]=j_l.pivotPoint - 0.618 * j_l.hlSpread;J8K[V3F][a3G + f21.name]=j_l.pivotPoint - j_l.hlSpread;}else {U$Z="Support ";U$Z+="2 ";L$a="Support";L$a+=" ";L$a+="1";L$a+=" ";W$4="Resi";W$4+="st";W$4+="ance ";W$4+="2 ";Q7p.E2c(161);var r9e=Q7p.e5e(20,6,12,178,12);J8K[V3F]["Resistance 1 " + f21.name]=r9e * j_l.pivotPoint - j_l.prevLow;J8K[V3F][W$4 + f21.name]=j_l.pivotPoint + j_l.hlSpread;Q7p.L7E(162);var F9b=Q7p.E9k(34,7,39,8,5);J8K[V3F]["Resistance 3 " + f21.name]=j_l.prevHigh + F9b * (j_l.pivotPoint - j_l.prevLow);Q7p.E2c(163);var u03=Q7p.e5e(12,3,182,3,15);J8K[V3F][L$a + f21.name]=u03 * j_l.pivotPoint - j_l.prevHigh;J8K[V3F][U$Z + f21.name]=j_l.pivotPoint - j_l.hlSpread;J8K[V3F]["Support 3 " + f21.name]=j_l.prevLow - +"2" * (j_l.prevHigh - j_l.pivotPoint);}J8K[V3F][H5U + f21.name]=I0x.clone(j_l);}};I0x.Studies.displayPivotPoints=function(U32,l1n,i5w){var f0H,b24,Y6v,z6v,O$t,L3u,T12,A3W;l1n.noSlopes=!l1n.inputs.Continuous;I0x.Studies.displaySeriesAsLine(U32,l1n,i5w);if(l1n.inputs.Shading){f0H="Su";f0H+="p";f0H+="por";f0H+="t 3";b24="Support";b24+=" 2 ";Y6v="Support ";Y6v+="3 ";z6v="Sup";z6v+="port 2";O$t="Resi";O$t+="stanc";O$t+="e 1 ";L3u="Resistance ";L3u+="2 ";T12=U32.panels[l1n.panel];A3W={noSlopes:l1n.noSlopes,opacity:l1n.parameters.opacity?l1n.parameters.opacity:0.2,skipTransform:T12.name != l1n.chart.name,yAxis:l1n.getYAxis(U32)};if(!l1n.highlight && U32.highlightedDraggable){A3W.opacity*=+"0.3";}I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:"Resistance 3 " + l1n.name,bottomBand:L3u + l1n.name,color:I0x.Studies.determineColor(l1n.outputs["Resistance 3"])},A3W));I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:"Resistance 2 " + l1n.name,bottomBand:O$t + l1n.name,color:I0x.Studies.determineColor(l1n.outputs["Resistance 2"])},A3W));I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:"Resistance 1 " + l1n.name,bottomBand:"Pivot " + l1n.name,color:I0x.Studies.determineColor(l1n.outputs["Resistance 1"])},A3W));I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:"Support 1 " + l1n.name,bottomBand:"Pivot " + l1n.name,color:I0x.Studies.determineColor(l1n.outputs["Support 1"])},A3W));I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:"Support 2 " + l1n.name,bottomBand:"Support 1 " + l1n.name,color:I0x.Studies.determineColor(l1n.outputs[z6v])},A3W));I0x.prepareChannelFill(U32,I0x.extend({panelName:l1n.panel,topBand:Y6v + l1n.name,bottomBand:b24 + l1n.name,color:I0x.Studies.determineColor(l1n.outputs[f0H])},A3W));}};Q7p.L7E(24);O6Z=-Q7p.E9k("856923560",32);i4R=-+"194005528";H8I=2;for(var k0q=1;Q7p.K8j(k0q.toString(),k0q.toString().length,51273) !== O6Z;k0q++){g0G="#b";g0G+="3d987";X97="f";X97+="ib";X97+="onacci";I0x.Studies.studyLibrary=I0x.extend(I0x.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!"1",seriesFN:I0x.Studies.displayPivotPoints,calculateFN:I0x.Studies.calculatePivotPoints,inputs:{Type:["standard",X97],Continuous:!({}),Shading:![]},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":"#e36460","Support 2":g0G,"Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});H8I+=2;}if(Q7p.z3M(H8I.toString(),H8I.toString().length,31294) !== i4R){d$$="P";d$$+="ivot Points";A_V="#";A_V+="6";A_V+="9915";A_V+="8";x_Q="Suppor";x_Q+="t";x_Q+=" 1";y5a="Sup";y5a+="p";y5a+="ort 1";v3P="P";v3P+="ivo";v3P+="t Poi";v3P+="nts";I0x.Studies.studyLibrary=I0x.extend(I0x.Studies.studyLibrary,{"Pivot Points":{name:v3P,overlay:!!"",seriesFN:I0x.Studies.displayPivotPoints,calculateFN:I0x.Studies.calculatePivotPoints,inputs:{Type:[y5a,"#d3e8ae"],Continuous:!!({}),Shading:!!({})},outputs:{Pivot:"Resistance 3","Resistance 1":x_Q,"Support 1":A_V,"Resistance 2":d$$,"Support 2":"#699158","Resistance 3":"#d3e8ae","Support 3":"Resistance 1"},parameters:{init:{opacity:106}}}});}}};Z2=G8_=>{var b2o;h_yMd.H5S();b2o=typeof _CIQ !== "undefined"?_CIQ:G8_.CIQ;if(!b2o.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {b2o.Studies.calculatePrettyGoodOscillator=function(f3$,R7x){var d$m,Z2L,n5a,E5B,F31;d$m="_";d$m+="S";d$m+="MA";Z2L="sim";Z2L+="pl";Z2L+="e";n5a="trueRang";n5a+="e";E5B=R7x.chart.scrubbed;if(E5B.length < R7x.days + 1){R7x.error=!!({});return;}h_yMd.H5S();b2o.Studies.MA("exponential",R7x.days,n5a,0,"_EMA",f3$,R7x);b2o.Studies.MA(Z2L,R7x.days,"Close",0,d$m,f3$,R7x);for(var E1G=Math.max("1" >> 32,R7x.startFrom);E1G < E5B.length;E1G++){F31="Re";F31+="s";F31+="ul";F31+="t ";if(!E5B[E1G]["_SMA " + R7x.name] || !E5B[E1G]["_EMA " + R7x.name])continue;E5B[E1G][F31 + R7x.name]=(E5B[E1G].Close - E5B[E1G]["_SMA " + R7x.name]) / E5B[E1G]["_EMA " + R7x.name];}};b2o.Studies.studyLibrary=b2o.extend(b2o.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:b2o.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"3" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};C6=G7x=>{var a1c,p_w,r1z,I4Q,A2S,x3L,v7e,u2f,C_d;a1c=typeof _CIQ !== "undefined"?_CIQ:G7x.CIQ;if(!a1c.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {a1c.Studies.calculatePMO=function(h0t,B4F){var Y9T=h_yMd;var M_E,I3V,A0U,U9a,w2V,Z_0,U7v,l8f;M_E="PMO";M_E+="Signal";I3V="expone";I3V+="nt";I3V+="i";I3V+="al";A0U="Cl";A0U+="o";A0U+="s";A0U+="e";U9a={Smooth:Number(B4F.inputs["Smoothing Period"]) - 1,Double:Number(B4F.inputs["Double Smoothing Period"]) - ("1" >> 32),Signal:Number(B4F.inputs["Signal Period"])};w2V=B4F.chart.scrubbed;if(w2V.length < U9a.Smooth + U9a.Double){B4F.error=!!({});return;}Z_0=B4F.inputs.Field;if(!Z_0 || Z_0 == "field"){Z_0=A0U;}for(U7v=B4F.startFrom;U7v < w2V.length;U7v++){if(!w2V[U7v])continue;if(!w2V[U7v - 1])continue;Y9T.E2c(5);l8f=w2V[Y9T.e5e(1,U7v)][Z_0];if(l8f){Y9T.E2c(2);var i9Z=Y9T.E9k(998,2);Y9T.E2c(33);var w02=Y9T.e5e(18,15,32,0);w2V[U7v]["_ROCx10 " + B4F.name]=i9Z * (w2V[U7v][Z_0] / l8f - w02);}}a1c.Studies.MA("exponential",U9a.Smooth,"_ROCx10 " + B4F.name,0,"_EMAx10",h0t,B4F);a1c.Studies.MA("exponential",U9a.Double,"_EMAx10 " + B4F.name,"0" - 0,"PMO",h0t,B4F);a1c.Studies.MA(I3V,U9a.Signal,"PMO " + B4F.name,0,M_E,h0t,B4F);Y9T.J2s();B4F.zoneOutput="PMO";};p_w=-2002698944;r1z=151226228;I4Q=2;for(var C_7=1;h_yMd.K8j(C_7.toString(),C_7.toString().length,8305) !== p_w;C_7++){A2S="#FF000";A2S+="0";x3L="a";x3L+="u";x3L+="t";x3L+="o";v7e="a";v7e+="ut";v7e+="o";u2f="aut";u2f+="o";a1c.Studies.studyLibrary=a1c.extend(a1c.Studies.studyLibrary,{PMO:{name:u2f,calculateFN:a1c.Studies.calculatePMO,inputs:{Field:"#FF0000","Smoothing Period":+"87","Double Smoothing Period":97,"Signal Period":57},outputs:{PMO:"auto",PMOSignal:"auto"},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:547,studyOverBoughtColor:v7e,studyOverSoldValue:!322,studyOverSoldColor:"0.05"}},attributes:{studyOverBoughtValue:{min:1,step:x3L},studyOverSoldValue:{max:+"9",step:A2S}}}});I4Q+=2;}if(h_yMd.K8j(I4Q.toString(),I4Q.toString().length,69023) !== r1z){C_d="0";C_d+=".";C_d+="0";C_d+="5";a1c.Studies.studyLibrary=a1c.extend(a1c.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:a1c.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"2.5" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:C_d},studyOverSoldValue:{max:+"0",step:"0.05"}}}});}}};U7=e8X=>{var a64=h_yMd;var f__,k0U,d8y,I8I,F3U,d$1,q32;f__=typeof _CIQ !== "undefined"?_CIQ:e8X.CIQ;a64.H5S();if(!f__.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {k0U="a";k0U+="u";k0U+="t";k0U+="o";d8y="#00D";d8y+="D00";I8I="R";I8I+="A";I8I+="V";I8I+="I";F3U="Volu";F3U+="me Osci";F3U+="ll";F3U+="ator";d$1="Po";d$1+="ints";q32="fi";q32+="e";q32+="ld";f__.Studies.calculatePriceOscillator=function(B9H,M3L){var N6t,r5R,X9l,Y7Q,I0T,q_W,r8Q,A6q,I$G,W9m,H72,U$n,H4L;N6t=M3L.chart.scrubbed;r5R=Number(M3L.inputs["Short Cycle"]);X9l=Number(M3L.inputs["Long Cycle"]);if(N6t.length < Math.max(r5R,X9l) + 1){M3L.error=!!1;return;}Y7Q=M3L.inputs.Field;I0T=M3L.inputs["Moving Average Type"];if(!I0T){I0T="simple";}if(!Y7Q || Y7Q == "field"){Y7Q="Close";}if(M3L.parameters.isVolume){q_W="expon";q_W+="en";q_W+="tial";Y7Q="Volume";I0T=q_W;}r8Q=M3L.inputs["Points Or Percent"];if(!r8Q){r8Q="Percent";}f__.Studies.MA(I0T,r5R,Y7Q,0,"_Short MA",B9H,M3L);f__.Studies.MA(I0T,X9l,Y7Q,0,"_Long MA",B9H,M3L);for(var J7P=Math.max(X9l,M3L.startFrom);J7P < N6t.length;J7P++){A6q=N6t[J7P];if(!A6q)continue;I$G=A6q["_Short MA " + M3L.name];W9m=A6q["_Long MA " + M3L.name];if((I$G || I$G === 0) && (W9m || W9m === 0)){H72="Result";H72+=" ";U$n="R";U$n+="e";U$n+="sult ";if(r8Q == "Points"){a64.L7E(5);A6q[U$n + M3L.name]=a64.E9k(W9m,I$G);}else {a64.L7E(158);A6q[H72 + M3L.name]=a64.e5e(I$G,100,W9m,1);}if(M3L.outputs["Increasing Bar"]){H4L="_";H4L+="hi";H4L+="st";A6q[M3L.name + H4L]=A6q["Result " + M3L.name];M3L.outputMap={};M3L.outputMap[M3L.name + "_hist"]="";}}}};f__.Studies.displayRAVI=function(r2O,s70,d7J){var o1H,x_6,i87,n82,S75,N7V,w2B,q2f,W_k,Q8n,d0y,l1U,N0T,u9A,n5f,a8e,V7u,D0g,y94,V_d;o1H="Inc";o1H+="r";o1H+="easing Bar";x_6=r2O.panels[s70.panel];i87=s70.getContext(r2O);n82=s70.getYAxis(r2O);S75=r2O.pixelFromPrice(0,x_6,n82);a64.E2c(2);var U1G=a64.e5e(1,1);N7V=r2O.layout.candleWidth - U1G;if(N7V < 2){N7V=1;}w2B=f__.Studies.determineColor(s70.outputs[o1H]);q2f=f__.Studies.determineColor(s70.outputs["Decreasing Bar"]);r2O.startClip(s70.panel);r2O.canvasColor("stx_histogram");if(!s70.underlay){i87.globalAlpha=1;}if(!s70.highlight && r2O.highlightedDraggable){i87.globalAlpha*=0.3;}for(var w8r=+"0";w8r < d7J.length;w8r++){W_k="_";W_k+="h";W_k+="ist";Q8n="_his";Q8n+="t";d0y="_";d0y+="his";d0y+="t";l1U="_";l1U+="hist";N0T="_h";N0T+="is";N0T+="t";u9A=d7J[w8r];a64.L7E(5);n5f=d7J[a64.e5e(1,w8r)];if(!n5f){n5f=r2O.getPreviousBar(r2O.chart,s70.name + N0T,w8r);}if(!u9A)continue;a8e=0;V7u=0;if(s70.parameters && s70.parameters.studyOverZonesEnabled){a8e=parseFloat(s70.parameters.studyOverBoughtValue);V7u=parseFloat(s70.parameters.studyOverSoldValue);}if(!n5f){i87.fillStyle="#CCCCCC";}else if(u9A[s70.name + "_hist"] > a8e && n5f[s70.name + "_hist"] < u9A[s70.name + l1U]){i87.fillStyle=w2B;}else if(u9A[s70.name + d0y] < V7u && n5f[s70.name + "_hist"] > u9A[s70.name + Q8n]){i87.fillStyle=q2f;}else {i87.fillStyle="#CCCCCC";}if(u9A.candleWidth){N7V=Math.floor(Math.max(1,u9A.candleWidth - 2));}i87.fillRect(Math.floor(r2O.pixelFromBar(w8r,x_6.chart) - N7V / 2),Math.floor(S75),Math.floor(N7V),Math.floor(r2O.pixelFromPrice(u9A[s70.name + W_k],x_6,n82) - S75));}D0g=912792699;y94=559237674;V_d=2;for(var U1k=1;a64.K8j(U1k.toString(),U1k.toString().length,59754) !== D0g;U1k++){r2O.endClip();V_d+=2;}if(a64.K8j(V_d.toString(),V_d.toString().length,1923) !== y94){r2O.endClip();}r2O.endClip();};f__.Studies.studyLibrary=f__.extend(f__.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:f__.Studies.calculatePriceOscillator,inputs:{Field:q32,"Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[d$1,"Percent"]}},"Vol Osc":{name:F3U,calculateFN:f__.Studies.calculatePriceOscillator,inputs:{"Short Cycle":+"12","Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!""}}},RAVI:{name:I8I,seriesFN:f__.Studies.displayRAVI,calculateFN:f__.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":"65" >> 0},outputs:{"Increasing Bar":d8y,"Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" ^ 0),studyOverSoldColor:k0U}},attributes:{studyOverBoughtValue:{min:+"0",step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};A8=r1E=>{var f2E=h_yMd;var d4C,I38;d4C="undef";f2E.J2s();d4C+="i";d4C+="ned";I38=typeof _CIQ !== d4C?_CIQ:r1E.CIQ;if(!I38.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {I38.Studies.calculatePrimeNumber=function(c89,I3l){f2E.J2s();var y1_,O4u,v6r,F82,x2K,e6H,z2C,A$C;y1_=[];O4u=I3l.chart.scrubbed;for(var Q9T=I3l.startFrom;Q9T < O4u.length;Q9T++){v6r=O4u[Q9T];if(!v6r)continue;F82=v6r.High;if(!isNaN(F82)){for(var R7N=0;F82 > 0 && F82 <= 10;R7N++){F82*=10;}if(e_F(F82)){F82+=+"2";}F82=Math.ceil(F82);if(F82 % 2 === 0){F82++;}while(!e_F(F82)){F82+=2;}F82/=Math.pow(10,R7N);}x2K=v6r.Low;if(!isNaN(x2K)){for(var P28=0;x2K > 0 && x2K <= +"10";P28++){x2K*=10;}if(e_F(x2K)){x2K-=2;}x2K=Math.floor(x2K);if(x2K % 2 === 0){x2K--;}if(x2K > 0){while(!e_F(x2K)){x2K-=2;}f2E.E2c(5);x2K/=Math.pow(f2E.E9k(0,"10"),P28);}}if(I3l.type == "Prime Number Bands"){if(!isNaN(F82)){v6r["Prime Bands Top " + I3l.name]=F82;}if(!isNaN(x2K)){v6r["Prime Bands Bottom " + I3l.name]=Math.max(0,x2K);}}else {e6H=0;f2E.E2c(164);var L13=f2E.e5e(113,11,8,113,1);z2C=I3l.inputs["Tolerance Percentage"] * (F82 - x2K) / L13;f2E.L7E(12);var h14=f2E.e5e(12,10);A$C=F82 + x2K - h14 * v6r.Close;if(A$C < z2C){e6H=1;}else if(A$C > z2C){e6H=-+"1";}if(e6H){v6r["Result " + I3l.name]=e6H;}}}function e_F(R_i){var v7w;if(R_i <= 0){return !!"";}else if(R_i != Math.floor(R_i)){return ![];}else if(y1_[R_i] === !!1 || y1_[R_i] === !({})){return y1_[R_i];}v7w=parseInt(Math.sqrt(R_i),10);for(var C0k=2;C0k <= v7w;C0k++){if(R_i % C0k === 0){y1_[R_i]=!({});return ![];}}y1_[R_i]=!![];return !![];}};I38.Studies.studyLibrary=I38.extend(I38.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:I38.Studies.calculatePrimeNumber,centerline:+"0",inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:+"0.1",step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!0,calculateFN:I38.Studies.calculatePrimeNumber,seriesFN:I38.Studies.displayChannel,inputs:{"Channel Fill":!!1},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};p9=d74=>{var X2O=h_yMd;var c5p,p4$,G2H,s08,a4K;c5p=55680537;p4$=-1204141651;X2O.E2c(19);G2H=X2O.E9k("2",1);X2O.H5S();for(var P$g=+"1";X2O.z3M(P$g.toString(),P$g.toString().length,55965) !== c5p;P$g++){s08=+_CIQ == ""?_CIQ:d74.CIQ;G2H+=2;}if(X2O.z3M(G2H.toString(),G2H.toString().length,48907) !== p4$){s08=typeof _CIQ !== "undefined"?_CIQ:d74.CIQ;}if(!s08.Studies){console.error("pring feature requires first activating studies feature.");}else {a4K="fiel";a4K+="d";s08.Studies.calculateKST=function(A9H,l_X){var N0W,q_a,g5R,b8A,M4m,S$m,g8F,e8D,h0D,q9U,L2z,C4G,A8N,d4e,L1s,J75,U9$,T$q;N0W="s";N0W+="impl";N0W+="e";q_a="Heaviest SMA Per";q_a+="iod";g5R="Hea";g5R+="vy Ra";g5R+="t";g5R+="e of Change Period";b8A="Light Ra";b8A+="te of Chang";b8A+="e Period";M4m="Lig";M4m+="htes";M4m+="t Rate of Change";M4m+=" Period";S$m="C";S$m+="lo";S$m+="s";S$m+="e";g8F=l_X.chart.scrubbed;e8D=l_X.inputs.Field;if(!e8D || e8D == "field"){e8D=S$m;}h0D={};q9U={};h0D[1]=Number(l_X.inputs[M4m]);X2O.E2c(24);h0D[X2O.e5e("2",2)]=Number(l_X.inputs[b8A]);h0D[3]=Number(l_X.inputs[g5R]);h0D[4]=Number(l_X.inputs["Heaviest Rate of Change Period"]);q9U[1]=Number(l_X.inputs["Lightest SMA Period"]);q9U[2]=Number(l_X.inputs["Light SMA Period"]);q9U[3]=Number(l_X.inputs["Heavy SMA Period"]);X2O.L7E(19);q9U[X2O.E9k("4",1)]=Number(l_X.inputs[q_a]);L2z=Number(l_X.inputs["Signal Period"]);for(C4G=l_X.startFrom;C4G < g8F.length;C4G++){if(!g8F[C4G])continue;for(A8N="1" ^ 0;A8N <= 4;A8N++){d4e="_RO";d4e+="C";if(C4G >= h0D[A8N] && g8F[C4G - h0D[A8N]] && g8F[C4G - h0D[A8N]][e8D]){X2O.L7E(80);var J9e=X2O.e5e(25,12,3,39);X2O.E2c(2);var C0K=X2O.E9k(678,4742);X2O.L7E(128);var c_c=X2O.E9k(53,371,5945,18);X2O.E2c(32);var V4f=X2O.E9k(100973,9,108195);X2O.E2c(73);var J4P=X2O.E9k(20,2757,18,41);X2O.L7E(165);var M3W=X2O.e5e(56,11,4,111,111);X2O.E2c(7);var p5d=X2O.e5e(12,5,19,3);g8F[C4G][d4e + A8N + ((J9e,C0K) < (c_c,561.8)?("B",!1):+"7120" < V4f?" ":(J4P,"R")) + l_X.name]=M3W * (g8F[C4G][e8D] / g8F[C4G - h0D[A8N]][e8D] - p5d);}}}for(A8N=1;A8N <= 4;A8N++){L1s="_R";L1s+="OC";s08.Studies.MA("simple",q9U[A8N],L1s + A8N + " " + l_X.name,0,"_SMA" + A8N,A9H,l_X);}for(C4G=l_X.startFrom;C4G < g8F.length;C4G++){J75="KS";J75+="T";J75+=" ";g8F[C4G][J75 + l_X.name]=null;for(A8N=1;A8N <= 4;A8N++){U9$="_";U9$+="S";U9$+="M";U9$+="A";X2O.L7E(166);var j9c=X2O.e5e(230153,29309,14,8,20);X2O.E2c(82);var e72=X2O.e5e(12,531,9,636);X2O.L7E(143);var O1p=X2O.E9k(7,6,8,32468,4627);X2O.L7E(128);var G43=X2O.e5e(260,1300,6504,9);T$q=g8F[C4G][U9$ + A8N + (835.74 >= (254.52,j9c)?955.04 === 465.16?("k",0x3d1):(319.9,"7989" - 0) <= e72?O1p:(G43,723.01):" ") + l_X.name];if(T$q || T$q === 0){X2O.E2c(19);g8F[C4G]["KST " + l_X.name]+=X2O.e5e(A8N,T$q);}}}s08.Studies.MA(N0W,L2z,"KST " + l_X.name,0,"KSTSignal",A9H,l_X);};s08.Studies.calculateSpecialK=function(z6D,i8a){var O05,B0v,l7w,B9u,V1D,l6q,L4w,C3G,W0n,s2q,P9e,q2l,A46;O05="d";O05+="ail";O05+="y";B0v="C";B0v+="l";B0v+="ose";l7w=i8a.chart.scrubbed;B9u=i8a.inputs.Field;if(!B9u || B9u == "field"){B9u=B0v;}V1D=i8a.inputs.Interval;if(!V1D){V1D=O05;}l6q={daily:[10,15,20,30,50,65,75,100,"195" ^ 0,265,390,530],weekly:[4,5,"6" - 0,"8" << 32,+"10",13,15,20,39,52,78,104]};L4w={daily:[+"10",10,10,15,50,65,75,100,130,130,130,195],weekly:[+"4",+"5",6,8,10,13,15,+"20",26,26,26,39]};for(C3G=i8a.startFrom;C3G < l7w.length;C3G++){if(!l7w[C3G])continue;for(W0n="0" ^ 0;W0n < l6q[V1D].length;W0n++){if(C3G >= l6q[V1D][W0n] && l7w[C3G - l6q[V1D][W0n]] && l7w[C3G - l6q[V1D][W0n]][B9u]){X2O.L7E(5);var L2o=X2O.e5e(16,17);X2O.E2c(2);var a$V=X2O.E9k(2325,4651);X2O.L7E(5);var I$5=X2O.e5e(20,902);X2O.L7E(41);var L8y=X2O.e5e(863,10,4,22,20);X2O.L7E(80);var H9E=X2O.E9k(7001,11,1,2330);X2O.L7E(7);var h21=X2O.e5e(6,16,16,94);X2O.E2c(2);var i86=X2O.e5e(0,1);l7w[C3G]["_ROC" + W0n + ((155.38,938.47) !== "331.01" * L2o?(a$V,I$5) > 615.02?" ":(L8y,"905.62" - 0) == 963.56?(448.74,"A"):(H9E,!!"1"):("a","z")) + i8a.name]=h21 * (l7w[C3G][B9u] / l7w[C3G - l6q[V1D][W0n]][B9u] - i86);}}}for(W0n=0;W0n < L4w[V1D].length;W0n++){s2q="_";s2q+="M";s2q+="A";P9e="exp";P9e+="onentia";P9e+="l";q2l="sim";q2l+="pl";q2l+="e";s08.Studies.MA(V1D == "daily"?q2l:P9e,L4w[V1D][W0n],"_ROC" + W0n + ((451.25,9330) !== (9520,604.4)?("468.47" - 0,6650) != (1730,5130)?" ":4290 > 8220?(463.40,1.08e+3):(!"1",!1):("T","F")) + i8a.name,0,s2q + W0n,z6D,i8a);}X2O.J2s();for(C3G=i8a.startFrom;C3G < l7w.length;C3G++){l7w[C3G]["Result " + i8a.name]=null;for(W0n=0;W0n < L4w[V1D].length;W0n++){X2O.L7E(2);var y2C=X2O.e5e(393,2750);X2O.L7E(167);var w6g=X2O.E9k(8,469,5,13);X2O.E2c(144);var R9E=X2O.E9k(468,6,18,435,10);X2O.E2c(2);var q1W=X2O.e5e(102,1835);X2O.E2c(11);var v8h=X2O.E9k(44997,8,11,517);X2O.E2c(4);var v8I=X2O.e5e(941,11,18);X2O.E2c(168);var c4A=X2O.e5e(18,14,365,8);A46=l7w[C3G]["_MA" + W0n + (y2C <= w6g?" ":(R9E,q1W) == (v8h,v8I)?(!"","161.48" * c4A):767.89) + i8a.name];if(A46 || A46 === 0){X2O.L7E(169);l7w[C3G]["Result " + i8a.name]+=X2O.E9k(1,4,W0n,A46);}}}};s08.Studies.studyLibrary=s08.extend(s08.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:s08.Studies.calculateKST,inputs:{Field:a4K,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":+"10","Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":+"30","Heaviest SMA Period":15,"Signal Period":+"9"},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:s08.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};r9=Z3z=>{var I3n,e5X,Y6z,Z_c,p4U,R51,h2D,A8p;I3n=typeof _CIQ !== "undefined"?_CIQ:Z3z.CIQ;e5X=typeof _timezoneJS !== "undefined"?_timezoneJS:Z3z.timezoneJS;if(!I3n.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!I3n.Studies.studyLibrary.PVAT){Y6z="hh:";Y6z+="m";Y6z+="m:s";Y6z+="s";Z_c="#f";Z_c+="e";Z_c+="641c";p4U="-125";p4U+="%";R51="-";R51+="7";R51+="5";R51+="%";h2D="+";h2D+="2";h2D+="5%";A8p="+";A8p+="10";A8p+="0%";I3n.Studies.initProjectedVolume=function(b_7,a8_,y4u,s71,Z0l,R0d){var Y8Y,Z15,d$v;var {market:l$3}=b_7.chart;Y8Y="00:00";if(l$3){Y8Y=l$3.getNormalOpen();}if(Y8Y.match(/^[\d]{2}:[\d]{2}$/)){Y8Y+=":00";}if(!y4u["Anchor Time"] || !y4u["Anchor Time"].length){Z15="Ancho";Z15+="r Time";y4u[Z15]=Y8Y;}d$v=I3n.Studies.initializeFN(b_7,a8_,y4u,s71,Z0l,R0d);if(!b_7.currentlyImporting){d$v.defaultAnchorTime=Y8Y;}h_yMd.H5S();return d$v;};I3n.Studies.validateProjectedVolumeLookback=function(j77,Z01){var {interval:V2w, periodicity:X5c}=j77.layout;var {"Lookback Days":N$3}=Z01.inputs;h_yMd.L7E(170);return h_yMd.E9k(N$3,X5c,10,V2w);};I3n.Studies.calculateProjectedVolume=function(V_9,a52){var i3t=h_yMd;var r$A,D7c,o6o,e_n,J4u,y6d,n00,K_I,a8f,U5q,K6i,c5E,b15,y5d,W9b,k0o,t7i,U6u,w9p,Z3X,F8t,A0n,y_$,b01,t0B,a7P,h1C,J4a,H3u,q3O,s5z,A4P,G4Q,r6_,t5h,m8Q,u2w,O$5,C65,V3S,j05,l46,E6H,N$y,m9y,Q9b,F$n,e8m,B3f,s$_,M39,Y1I,n$p;r$A="V";r$A+=" ";D7c="00";D7c+=":0";D7c+="0";o6o="mi";o6o+="n";o6o+="u";o6o+="te";var {interval:n75, timeUnit:D6Z, aggregationType:y4l}=V_9.layout;var {symbol:s9S, scroll:X3x, scrubbed:Z1K, market:Z4v}=V_9.chart;e_n=a52.type === "PAV";J4u=a52.study?a52.study.name:a52.type;if(I3n.ChartEngine.isDailyInterval(n75)){i3t.E2c(2);a52.error=`${J4u}${i3t.e5e(" i","s Intraday Only")}`;}else if(D6Z === "tick"){a52.error=`Tick mode not supported for ${J4u}`;}else if(D6Z !== o6o){i3t.L7E(120);a52.error=`${i3t.E9k("r ","periodicities not supported fo","Sub-m","inute ")}${J4u}`;}else if(!y4l || !["ohlc","heikinashi"].includes(y4l)){a52.error=`Aggregation type not supported for ${J4u}`;}else if(!I3n.Studies.validateProjectedVolumeLookback(V_9,a52)){a52.error=`Selected lookback/periodicity combo not supported for ${J4u}`;}function Y1P(o3d){return {hours:o3d.getHours(),minutes:o3d.getMinutes()};}if(a52.error){return;}if(a52.inputs["Anchor Selector"]){I3n.Studies.initAnchorHandle(V_9,a52);}else {I3n.Studies.removeAnchorHandle(V_9,a52);}y6d=Z4v?Z4v.getNormalOpen():D7c;function H07(c3u){console.error(`Expected data for ${M56(c3u).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function M56(z7k){i3t.J2s();return V_9.dateFromTick(z7k,null,!![],"scrubbed");}if(y6d.match(/^[\d]{2}:[\d]{2}$/)){y6d+=":00";}if(!V_9.currentlyImporting){if(!a52.defaultAnchorTime){a52.defaultAnchorTime=y6d;}else if(y6d !== a52.defaultAnchorTime){n00="An";n00+="ch";n00+="or ";n00+="Time";a52.defaultAnchorTime=y6d;a52.inputs[n00]=y6d;I3n.Studies.repositionAnchor(V_9,a52);return;}}var {"Lookback Days":E0T, "Anchor Time":Q6n}=a52.inputs;var [S20,W0z,B7w = 0]=Q6n.split(":");K_I=I3n.getFn("Market.Symbology.isForexSymbol")(s9S);a8f=a52.getDependents(V_9);U5q=0;i3t.J2s();K6i=[];function K5W(q9S,r7H){var Y12,g2T,r2E;Y12=M56(q9S);g2T=Z4v.getOpen(Y12) || n9F(Y12);r2E=W9X(g2T);if(!r7H){return r2E;}if(r2E < 0){r2E=W9X(N4h(g2T,1,!!"1"));}if(r2E >= Z1K.length){return !({});}return r2E;}a8f.forEach(({inputs:Q69, outputMap:t3M})=>{i3t.J2s();if(Q69.Period){U5q=Math.max(parseInt(Q69.Period),U5q);K6i.push(...Object.keys(t3M));}});a52.dependentsOutputMap=K6i;b15=K5W(Z1K.length - +"1",!!1);y5d=Math.ceil(Z1K.length - ("1" ^ 0) - X3x);i3t.E2c(5);W9b=K5W(i3t.E9k(U5q,y5d));if(K_I && Z1K[W9b] && I3n.dateToStr(Z1K[W9b].DT,"HH:mm") !== y6d){i3t.E2c(5);W9b=K5W(i3t.e5e(1,W9b));;}if(!K_I && a52.startFrom > W9b && Z1K[W9b] && Z1K[W9b]["V " + a52.name] !== undefined && K6i.every(K_6=>{i3t.H5S();return ![undefined,null].includes(Z1K[W9b][K_6]);}) && b15 !== !!0){c5E=b15;;}else {c5E=W9b;}function n9F(r46){var o3Q,r7I,M_m,m9T;r46.setHours(0);r46.setMinutes(0);o3Q=926904264;r7I=2060560999;M_m=2;for(var Q$m="1" - 0;i3t.z3M(Q$m.toString(),Q$m.toString().length,7696) !== o3Q;Q$m++){m9T=I3n.Studies.getMarketOffset({stx:V_9,localQuoteDate:r46});return new Date(r46.getTime() / m9T);}if(i3t.K8j(M_m.toString(),M_m.toString().length,36458) !== r7I){m9T=I3n.Studies.getMarketOffset({stx:V_9,localQuoteDate:r46});return new Date(r46.getTime() + m9T);}}k0o=N4h(M56(W9b),E0T);k0o.setHours(0,0,0);t7i=K5W(0,!![]);U6u=(t7i || t7i === +"0") && W9X(N4h(Z1K[t7i].DT,E0T,!""));if(Z1K["0" >> 64].DT > k0o){if(V_9.quoteDriver){if(a52.chart.endPoints.begin > k0o){V_9.quoteDriver.extendHistoricalData({from:k0o});}if(U6u > 0){c5E=U6u;}else {return;}}else {return a52.error=`Not enough data to calculate ${J4u}`;}}function W9X(E4E){i3t.J2s();return V_9.tickFromDate(E4E,null,null,!![],"scrubbed");}if(c5E < 0 || c5E > Z1K.length - 1){return;}w9p=Z1K.length - a52.startFrom === 1 && a52.cachedFutureTicks && a52.cachedLastProjection && +a52.cachedLastProjection.DT === +Z1K[Z1K.length - "1" * 1].DT && Z1K[c5E]["PV " + a52.name];if(w9p){i3t.E2c(39);var i8K=i3t.e5e(11,1,10,1);Z1K[Z1K.length - i8K]["PV " + a52.name]=a52.cachedLastProjection.projectedValue;a52.appendFutureTicks(V_9,a52.cachedFutureTicks);c5E=a52.startFrom;}else {a52.cachedFutureTicks=null;a52.cachedLastProjection=null;Z3X=[b15];F8t=[];for(var K9o="0" - 0;K9o < E0T;K9o++){A0n=K5W(Z3X[0] - 1);Z3X.unshift(A0n);;}while(Z3X[E0T] >= c5E){y_$=Z3X.pop();if(!Z1K[y_$]){return H07(y_$);}b01=Y1P(Z1K[y_$].DT);var {hours:m8q, minutes:H3J}=b01;t0B=Z4v.getClose(Z1K[y_$].DT);a7P=void 0;if(!t0B){a7P={hours:24,minutes:0};}else {h1C=Z4v.getNextClose(Z1K[y_$].DT);a7P=Y1P(t0B);while(!(a7P.hours === 0 && a7P.minutes === ("0" ^ 0)) && t0B.getDate() === h1C.getDate()){t0B=h1C;h1C=Z4v.getNextClose(h1C);}a7P=Y1P(t0B);if(a7P.hours === 0){a7P.hours=24;}}J4a=Z3X.slice();for(var Y6$=0;Y6$ < J4a.length;Y6$++){H3u=J4a[Y6$];if(!Z1K[H3u]){return H07(H3u);}var {hours:j0Q, minutes:U8A}=Y1P(Z1K[H3u].DT);if(j0Q < m8q || j0Q === m8q && U8A < H3J){do {H3u++;({hours:j0Q, minutes:U8A}=Y1P(Z1K[H3u].DT));}while(!(j0Q === m8q && U8A === H3J));}J4a[Y6$]=H3u;}while(m8q < a7P.hours || m8q === a7P.hours && H3J < a7P.minutes){q3O=!1;s5z=void 0;A4P=void 0;G4Q=0;r6_=0;for(var Q1m=0;Q1m < J4a.length;Q1m++){t5h=J4a[Q1m];if(t5h === null)continue;m8Q=Z1K[t5h];if(!m8Q){return H07(t5h);}var {hours:m6k, minutes:i2m}=Y1P(m8Q.DT);u2w=m8Q.DT.getDate();if(m6k === m8q && i2m === H3J){G4Q+=m8Q.Volume;r6_++;J4a[Q1m]++;if(Z1K[J4a[Q1m]].DT.getDate() !== u2w){J4a[Q1m]=null;}else if(!q3O){({hours:s5z, minutes:A4P}=Y1P(Z1K[J4a[Q1m]].DT));q3O=!!({});;}}}m8q=s5z;H3J=A4P;if(r6_ === 0)break;i3t.L7E(9);O$5=i3t.E9k(G4Q,r6_);if(Z1K[y_$]){C65="P";C65+="V";C65+=" ";Z1K[y_$][C65 + a52.name]=O$5;}else {V3S="P";V3S+="V";V3S+=" ";F8t.push({[V3S + a52.name]:O$5});}y_$++;}Z3X.unshift(K5W(Z3X[0] - 1));;}a52.cachedLastProjection={DT:Z1K[Z1K.length - 1].DT,projectedValue:Z1K[Z1K.length - 1]["PV " + a52.name]};a52.cachedFutureTicks=F8t;a52.appendFutureTicks(V_9,F8t);}j05=null;l46=0;E6H=0;if(w9p && e_n){while(c5E > 0){i3t.E2c(5);m9y=Z1K[i3t.e5e(1,c5E)]["V " + a52.name];if(m9y || m9y === 0){l46=m9y;break;}c5E--;}}for(var I3N=c5E;I3N < Z1K.length;I3N++){Q9b="V";Q9b+=" ";F$n="Amer";F$n+="ica";F$n+="/New";F$n+="_York";e8m=Z1K[I3N];B3f=e8m.Volume;s$_=e8m["PV " + a52.name];if(!e8m.futureTick){N$y=I3N;}if(j05 === null){j05=I3n.Studies.getMarketOffset({stx:V_9,localQuoteDate:Z1K[I3N].DT,shiftToDateBoundary:!!({})});}M39=new Date(new Date(e8m.DT).getTime() + j05);Y1I=Z1K[I3N - 1] && new Date(new Date(Z1K[I3N - 1].DT).getTime() + j05);n$p=new e5X.Date(e8m.DT,Z4v.market_def.market_tz || F$n);n$p.setHours(S20,W0z,B7w);i3t.E2c(2);n$p=new Date(i3t.E9k(n$p,j05));n$p.setDate(M39.getDate());if(Y1I && M39.getDate() !== Y1I.getDate()){j05=null;l46=0;E6H=0;}if(M39 < n$p){e8m["V " + a52.name]=0;e8m["PV " + a52.name]=0;continue;}if(e_n){l46+=B3f;E6H+=s$_;}else {l46=B3f;E6H=s$_;}e8m[Q9b + a52.name]=l46;if(!w9p){e8m["PV " + a52.name]=E6H;}if([NaN,null,undefined].includes(l46) && !e8m.futureTick){a52.error=`${J4u} requires volume`;return;}}a52.cachedLastProjection.projectedValue=Z1K[N$y]["PV " + a52.name];a52.outputMap={};a52.outputMap[r$A + a52.name]="";function N4h(k1d,p7C,Y7T){while(p7C){k1d=new Date(new Date(k1d).setDate(k1d.getDate() + (Y7T?1:-1)));if(Z4v.isMarketDate(k1d)){p7C--;}}return k1d;}a52.outputMap["PV " + a52.name]="Average Line";a8f.forEach(F$u=>{F$u.startFrom=c5E;F$u.study.calculateFN(V_9,F$u);});};I3n.Studies.displayProjectedVolume=function(o1R,K0f,u8t){var N_n=h_yMd;var r3P,D8o,Q1I,g4$,C$4,w6X,j9m,a0e;r3P="s";r3P+="tx";r3P+="_volume_underlay_up";if(K0f.error){return I3n.Studies.removeAnchorHandle(o1R,K0f);}var {"Alert Threshold":E2D = ""}=K0f.inputs;N_n.E2c(168);var b41=N_n.e5e(15,18,575,17);N_n.L7E(171);var v9Z=N_n.E9k(5,7,14,2);D8o=parseInt(E2D.slice(0,b41),v9Z) / +"100";Q1I=K0f.outputs["Alert Bar"];if(typeof Q1I === "object"){Q1I=Q1I.color;}K0f.volumeField="V " + K0f.name;K0f.alignStepToSide=!0;K0f.extendToEndOfLastBar=!![];K0f.lineWidth=2;g4$=o1R.canvasStyle(r3P).opacity;C$4=o1R.canvasStyle("stx_volume_underlay_down").opacity;K0f.colorFunction=function(l1h){N_n.J2s();var h50,Y6y,p3A,w9T,r7r,D5H;var {Open:j$b, Close:B31, iqPrevClose:A5u}=l1h;h50=o1R.colorByCandleDirection?j$b:A5u;N_n.L7E(172);Y6y=N_n.e5e(h50,B31);p3A=l1h["PV " + K0f.name];w9T=l1h["V " + K0f.name];N_n.L7E(173);r7r=N_n.e5e(1,"1",p3A,D8o);D5H=D8o < 0?w9T < r7r:w9T > r7r;return {fill_color:D5H && Q1I || (Y6y?this.fill_color_down:this.fill_color_up),border_color:Y6y?this.border_color_down:this.border_color_up,opacity:D5H?+"1":Y6y?C$4:g4$,border_opacity:Y6y?C$4:g4$};};w6X=K0f.study?K0f.study.name:K0f.type;var {loadingMore:a$$}=o1R.chart;j9m=u8t.some(E4K=>{return E4K && E4K[K0f.volumeField] && E4K["PV " + K0f.name];});a0e=u8t[+"0"] && !u8t[0].futureTick && (u8t[0]["PV " + K0f.name] === undefined || (K0f.dependentsOutputMap || []).some(H$A=>{N_n.J2s();return [undefined,null].includes(u8t[+"0"][H$A]);}));if(!j9m && a$$){return K0f.error=`Fetching data for ${w6X}`;}I3n.Studies.createVolumeChart(o1R,K0f,u8t);I3n.Studies.displaySeriesAsLine(o1R,K0f,u8t);if(K0f.anchorHandle){I3n.Studies.displayAnchorHandleAndLine(o1R,K0f,u8t);}if(a0e){I3n.Studies.calculateProjectedVolume(o1R,K0f);}};I3n.Studies.studyLibrary=I3n.extend(I3n.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:"0 to max",yAxis:{ground:!!1},calculateFN:I3n.Studies.calculateProjectedVolume,seriesFN:I3n.Studies.displayProjectedVolume,initializeFN:I3n.Studies.initProjectedVolume,removeFN:I3n.Studies.removeAnchorHandle,inputs:{"Lookback Days":"10" >> 64,"Anchor Time":"","Alert Threshold":["+150%","+125%",A8p,"+75%","+50%",h2D,"None","-25%","-50%",R51,"-100%",p4U,"-150%"],"Anchor Selector":!!"1"},outputs:{"Average Line":Z_c,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:"1" ^ 0},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:!!({})},calculateFN:I3n.Studies.calculateProjectedVolume,seriesFN:I3n.Studies.displayProjectedVolume,initializeFN:I3n.Studies.initProjectedVolume,removeFN:I3n.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:Y6z,step:1}}}});}};G4=p$K=>{var o4o;o4o=typeof _CIQ !== "undefined"?_CIQ:p$K.CIQ;h_yMd.J2s();if(!o4o.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {o4o.Studies.calculatePsychologicalLine=function(s4o,f1o){var b3T,S4a,p_J,e55,u4J;b3T=f1o.chart.scrubbed;if(b3T.length < f1o.days + +"1"){f1o.error=!"";return;}S4a=[];p_J=+"100" / f1o.days;e55=0;for(var Y3Y=Math.max(f1o.startFrom - f1o.days,1);Y3Y < b3T.length;Y3Y++){if(b3T[Y3Y].futureTick)break;u4J=Number(b3T[Y3Y].Close > b3T[Y3Y - 1].Close);if(u4J){e55+=p_J;}S4a.push(u4J);if(S4a.length > f1o.days){e55-=S4a.shift() * p_J;}if(Y3Y < f1o.startFrom)continue;if(!isNaN(b3T[Y3Y].Close)){b3T[Y3Y]["Result " + f1o.name]=e55;}}};o4o.Studies.studyLibrary=o4o.extend(o4o.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:o4o.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};f0=U39=>{var W4o;h_yMd.H5S();W4o=typeof _CIQ !== "undefined"?_CIQ:U39.CIQ;if(!W4o.Studies){console.error("qstick feature requires first activating studies feature.");}else {W4o.Studies.calculateQStick=function(g1j,S3X){var V0J,T_0;V0J=S3X.chart.scrubbed;if(V0J.length < S3X.days + 1){S3X.error=!!({});return;}h_yMd.J2s();for(var L7u=S3X.startFrom;L7u < V0J.length;L7u++){T_0="_Clos";T_0+="e-Open ";V0J[L7u][T_0 + S3X.name]=V0J[L7u].Close - V0J[L7u].Open;}W4o.Studies.MA(S3X.inputs["Moving Average Type"],S3X.days,"_Close-Open " + S3X.name,0,"Result",g1j,S3X);};W4o.Studies.studyLibrary=W4o.extend(W4o.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:W4o.Studies.calculateQStick,inputs:{Period:+"8","Moving Average Type":"ma"}}});}};n7=U1f=>{var z_y,u2d,J$x,s0l,Q1G,Y2y,z2N,V4c,x5$,x3G;z_y="un";z_y+="define";z_y+="d";u2d=typeof _CIQ !== z_y?_CIQ:U1f.CIQ;if(!u2d.Studies){console.error("rainbow feature requires first activating studies feature.");}else {J$x="#00DD";J$x+="00";s0l="Rainbo";s0l+="w Oscilla";s0l+="t";s0l+="or";Q1G="#";Q1G+="FF";Q1G+="00";Q1G+="FF";Y2y="#00";Y2y+="FFFF";z2N="#7";z2N+="FFF";z2N+="0";z2N+="0";V4c="#";V4c+="FFF";V4c+="F00";x5$="#FF7F";x5$+="0";x5$+="0";x3G="f";x3G+="ie";x3G+="ld";u2d.Studies.calculateRainbow=function(p8m,i_V){var R6N=h_yMd;var y0u,x5F,Y2t,v$D,t17,O$u,k_Q,J8I,v23,f6h,f1e,H3C,k0a,j33,j4K,l4Y,f$G;y0u=i_V.chart.scrubbed;if(y0u.length < i_V.days + +"1"){i_V.error=!!({});return;}x5F=-906026166;Y2t=-298153668;v$D=2;for(var f3p=+"1";R6N.K8j(f3p.toString(),f3p.toString().length,15747) !== x5F;f3p++){t17="f";t17+="ie";t17+="l";t17+="d";O$u=i_V.inputs.Field;if(!O$u || O$u == t17){O$u="Close";}v$D+=2;}if(R6N.K8j(v$D.toString(),v$D.toString().length,1985) !== Y2t){O$u=i_V.inputs.Field;if(+O$u && O$u !== "field"){O$u="field";}}k_Q=O$u;for(var x7X=1;x7X <= 10;x7X++){u2d.Studies.MA("simple",i_V.days,k_Q,0,"SMA" + x7X,p8m,i_V);R6N.L7E(174);var c0m=R6N.e5e(8801,4,3204,17,7);R6N.L7E(175);var t6O=R6N.e5e(34200,19,12,11,374597);k_Q="SMA" + x7X + ((c0m,374.01) >= t6O?!!0:" ") + i_V.name;}for(var z5n=Math.max(i_V.startFrom,"10" << 0);z5n < y0u.length;z5n++){if(!y0u[z5n])continue;if(y0u[z5n].futureTick)break;J8I=0;v23=0;R6N.L7E(176);var T1V=R6N.e5e(17,10,44,18);f6h=Number.MAX_VALUE * T1V;f1e=Number.MAX_VALUE;for(x7X=+"1";x7X <= 10;x7X++){R6N.L7E(5);var N_V=R6N.e5e(19440,22680);R6N.L7E(177);var p9H=R6N.e5e(3,14,3,2002,6);R6N.E2c(165);var i0v=R6N.e5e(6547,8,10,6625,6625);R6N.L7E(5);var m2n=R6N.E9k(19,6059);R6N.L7E(143);var J8k=R6N.e5e(7,2,17,617851,36645);R6N.E2c(37);var y1p=R6N.e5e(1974,20,13,29597);R6N.E2c(5);var T20=R6N.E9k(10,11);H3C=y0u[z5n]["SMA" + x7X + (N_V >= p9H?640.61 < (+"5695",i0v)?(m2n,11.56) !== (J8k,y1p)?" ":"319.33" - 0:"j":(274.72,"107.88" * T20)) + i_V.name];if(H3C || H3C === 0){J8I+=H3C;v23++;f6h=Math.max(f6h,H3C);f1e=Math.min(f1e,H3C);}}if(i_V.name.indexOf("Osc") > -+"1"){k0a=r_K(i_V.inputs["HHV/LLV Lookback"],z5n);if(v23){j33="Ze";j33+="r";j33+="o";j33+=" ";j4K="Ov";j4K+="er";j4K+=" ";R6N.E2c(95);var j6j=R6N.e5e(14,79,7);R6N.L7E(2);var x3y=R6N.e5e(0,1);y0u[z5n][i_V.name + "_hist"]=j6j * (y0u[z5n][O$u] - J8I / v23) / Math.max(0.000001,k0a[x3y] - k0a[+"0"]);R6N.L7E(12);var e$8=R6N.E9k(4,3);y0u[z5n][j4K + i_V.name]=("100" - 0) * (f6h - f1e) / Math.max(0.000001,k0a[e$8] - k0a["0" ^ 0]);y0u[z5n]["Under " + i_V.name]=-y0u[z5n]["Over " + i_V.name];y0u[z5n][j33 + i_V.name]=0;}}}if(i_V.name.indexOf("Osc") > -1){l4Y="Neg";l4Y+="ative Bar";f$G="Unde";f$G+="r";f$G+=" ";i_V.outputMap={};i_V.outputMap["Over " + i_V.name]="Positive Bar";i_V.outputMap[f$G + i_V.name]=l4Y;i_V.outputMap["Zero " + i_V.name]="";i_V.outputMap[i_V.name + "_hist"]="";}R6N.J2s();function r_K(C8z,X$n){var Q$Q,f9p;R6N.L7E(143);var r_d=R6N.e5e(12,8,13,165,0);Q$Q=Number.MAX_VALUE * r_d;f9p=Number.MAX_VALUE;for(var X1E=X$n - C8z + 1;X1E <= X$n;X1E++){if(X1E < 0)continue;Q$Q=Math.max(Q$Q,y0u[X1E].Close);f9p=Math.min(f9p,y0u[X1E].Close);}return [f9p,Q$Q];}};u2d.Studies.displayRainbowMA=function(J4l,R1C,f5D){var G8g;G8g=J4l.panels[R1C.panel];for(var U1L="10" | 8;U1L > 0;U1L--){u2d.Studies.displayIndividualSeriesAsLine(J4l,R1C,G8g,"SMA" + U1L + " " + R1C.name,f5D);}};u2d.Studies.displayRainbowOsc=function(m9o,R6S,y8o){var q1G,j5H,c3g,p7$,j6t,m34,z7Y,j0E,l0L,q4H,C8$,t6t,Z2m,U07;q1G="#C";q1G+="C";q1G+="C";q1G+="CCC";j5H="stx_his";j5H+="to";j5H+="gram";u2d.Studies.displaySeriesAsLine(m9o,R6S,y8o);c3g=m9o.panels[R6S.panel];p7$=R6S.getContext(m9o);j6t=R6S.getYAxis(m9o);m9o.startClip(R6S.panel);if(!R6S.highlight && m9o.highlightedDraggable){p7$.globalAlpha*=0.3;}m34=m9o.pixelFromPrice(0,c3g,j6t);z7Y=c3g.name != R6S.chart.name;j0E=u2d.Studies.determineColor(R6S.outputs["Positive Bar"]);p7$.strokeStyle=j0E;m9o.plotDataSegmentAsLine("Over " + R6S.name,c3g,{skipTransform:z7Y,label:![],yAxis:j6t});l0L=p7$.createLinearGradient(0,m34,0,j6t.flipped?j6t.bottom:j6t.top);l0L.addColorStop(+"0",m9o.containerColor);l0L.addColorStop(1,j0E);u2d.prepareChannelFill(m9o,{skipTransform:z7Y,color:l0L,opacity:!R6S.highlight && m9o.highlightedDraggable?"0.3" * 1:1,panelName:R6S.panel,topBand:"Over " + R6S.name,bottomBand:"Zero " + R6S.name,yAxis:j6t});q4H=u2d.Studies.determineColor(R6S.outputs["Negative Bar"]);p7$.strokeStyle=q4H;m9o.plotDataSegmentAsLine("Under " + R6S.name,c3g,{skipTransform:z7Y,label:!!0,yAxis:j6t});C8$=p7$.createLinearGradient(0,m34,0,j6t.flipped?j6t.top:j6t.bottom);C8$.addColorStop(0,m9o.containerColor);C8$.addColorStop(1,q4H);u2d.prepareChannelFill(m9o,{skipTransform:z7Y,color:C8$,opacity:!R6S.highlight && m9o.highlightedDraggable?0.3:1,panelName:R6S.panel,topBand:"Zero " + R6S.name,bottomBand:"Under " + R6S.name,yAxis:j6t});h_yMd.E2c(178);var G54=h_yMd.e5e(26,20,12,14,4);t6t=m9o.layout.candleWidth - G54;if(t6t < 2){t6t=1;}m9o.canvasColor(j5H);if(!R6S.underlay){p7$.globalAlpha=1;}if(!R6S.highlight && m9o.highlightedDraggable){p7$.globalAlpha*=0.3;}p7$.fillStyle=q1G;for(var i$9=+"0";i$9 < y8o.length;i$9++){Z2m="_h";Z2m+="i";Z2m+="s";Z2m+="t";U07=y8o[i$9];if(!U07)continue;if(U07[R6S.name + "_hist"] > 0){p7$.fillStyle=j0E;}else if(U07[R6S.name + "_hist"] < 0){p7$.fillStyle=q4H;}if(U07.candleWidth){t6t=Math.floor(Math.max(1,U07.candleWidth - 2));}p7$.fillRect(Math.floor(m9o.pixelFromBar(i$9,c3g.chart) - t6t / +"2"),Math.floor(m34),Math.floor(t6t),Math.floor(m9o.pixelFromPrice(U07[R6S.name + Z2m],c3g,j6t) - m34));}m9o.endClip();};u2d.Studies.studyLibrary=u2d.extend(u2d.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!!"1",calculateFN:u2d.Studies.calculateRainbow,seriesFN:u2d.Studies.displayRainbowMA,inputs:{Period:+"2",Field:x3G},outputs:{SMA1:"#FF0000",SMA2:x5$,SMA3:V4c,SMA4:z2N,SMA5:"#00FF7F",SMA6:Y2y,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:Q1G}},"Rainbow Osc":{name:s0l,calculateFN:u2d.Studies.calculateRainbow,seriesFN:u2d.Studies.displayRainbowOsc,centerline:"0" ^ 0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":J$x,"Negative Bar":"#FF0000"}}});}};W3=c3B=>{h_yMd.H5S();var j1G;j1G=typeof _CIQ !== "undefined"?_CIQ:c3B.CIQ;if(!j1G.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {j1G.Studies.calculateRandomWalk=function(q0b,T2F){var L1j,o9B,C9A,t1x,b9K,P8y,K8C,N$a,Z$h,S4l;L1j=T2F.chart.scrubbed;if(L1j.length < T2F.days + 1){T2F.error=!"";return;}h_yMd.J2s();for(var S0F=Math.max(2,T2F.startFrom);S0F < L1j.length;S0F++){o9B=0;C9A=L1j[S0F].High;t1x=L1j[S0F].Low;b9K=0;P8y=0;for(var h2S=1;h2S <= T2F.days;h2S++){if(L1j[S0F].futureTick)break;if(S0F <= h2S){b9K=P8y=0;break;}o9B+=L1j[S0F - h2S].trueRange;K8C=o9B / h2S * Math.sqrt(h2S);if(K8C){N$a=(C9A - L1j[S0F - h2S].Low) / K8C;Z$h=(L1j[S0F - h2S].High - t1x) / K8C;b9K=Math.max(b9K,N$a);P8y=Math.max(P8y,Z$h);}}if(!L1j[S0F].futureTick && (!isNaN(C9A) || !isNaN(t1x))){S4l="Rando";S4l+="m Wa";S4l+="lk L";S4l+="ow ";L1j[S0F]["Random Walk High " + T2F.name]=b9K;L1j[S0F][S4l + T2F.name]=P8y;}}};j1G.Studies.studyLibrary=j1G.extend(j1G.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:j1G.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};Q2=z$3=>{var t6l=h_yMd;var a9e,i$2,w_R,h4t,o$q,D0G,U2h,p3_,F$M,H8U,b0t,g2w,j2k;a9e=typeof _CIQ !== "undefined"?_CIQ:z$3.CIQ;t6l.J2s();if(!a9e.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {i$2="#";i$2+="00DD00";w_R="#FF";w_R+="0000";h4t="Relative Vig";h4t+="or";h4t+=" Index";a9e.Studies.calculateRelativeVigor=function(n2a,M7p){var Q1s,N$s,o8L,g8v,m2q,K8$,D2_,b9l,L3g,N1g,z6p,o$c,O$E;Q1s="Re";Q1s+="lVigSi";Q1s+="gnal";N$s="R";N$s+="el V";N$s+="ig";N$s+=" ";o8L="tr";o8L+="ian";o8L+="gular";g8v="t";g8v+="r";g8v+="iangul";g8v+="ar";m2q=M7p.chart.scrubbed;if(m2q.length < M7p.days + 1){M7p.error=!!"1";return;}for(K8$=M7p.startFrom;K8$ < m2q.length;K8$++){D2_=m2q[K8$];if(!isNaN(D2_.Close) && !isNaN(D2_.Open)){D2_["_Change " + M7p.name]=D2_.Close - D2_.Open;}if(!isNaN(D2_.High) && !isNaN(D2_.Low)){D2_["_Range " + M7p.name]=D2_.High - D2_.Low;}}a9e.Studies.MA(g8v,4,"_Change " + M7p.name,0,"_Numer",n2a,M7p);a9e.Studies.MA("triangular",4,"_Range " + M7p.name,0,"_Denom",n2a,M7p);b9l=[];L3g=[];for(K8$=Math.max(M7p.startFrom - M7p.days,0);K8$ < m2q.length;K8$++){N1g="_Num";N1g+="er ";if(m2q[K8$].futureTick)break;if(m2q[K8$]["_Numer " + M7p.name] === null && m2q[K8$]["_Denom " + M7p.name] === null)continue;b9l.push(m2q[K8$][N1g + M7p.name]);L3g.push(m2q[K8$]["_Denom " + M7p.name]);if(b9l.length > M7p.days){b9l.shift();L3g.shift();}z6p=0;o$c=0;for(O$E=0;O$E < b9l.length;O$E++){z6p+=b9l[O$E];}for(O$E=0;O$E < L3g.length;O$E++){o$c+=L3g[O$E];}if(o$c === 0){o$c=0.00000001;}if(K8$ < M7p.startFrom)continue;t6l.E2c(9);m2q[K8$]["Rel Vig " + M7p.name]=t6l.e5e(z6p,o$c);}a9e.Studies.MA(o8L,4,N$s + M7p.name,0,Q1s,n2a,M7p);for(K8$=M7p.startFrom;K8$ < m2q.length;K8$++){m2q[K8$][M7p.name + "_hist"]=m2q[K8$]["Rel Vig " + M7p.name] - m2q[K8$]["RelVigSignal " + M7p.name];}M7p.outputMap[M7p.name + "_hist"]="";};o$q=1732916292;D0G=-1435885278;U2h=+"2";for(var a3U=1;t6l.K8j(a3U.toString(),a3U.toString().length,40736) !== o$q;a3U++){p3_="Dec";p3_+="reasin";p3_+="g Bar";F$M="#FF";F$M+="000";F$M+="0";H8U="Re";H8U+="l V";H8U+="ig";b0t="Re";b0t+="l Vig";a9e.Studies.studyLibrary=a9e.extend(a9e.Studies.studyLibrary,{"Rel Vig":{name:b0t,seriesFN:a9e.Studies.displayHistogramWithSeries,calculateFN:a9e.Studies.calculateRelativeVigor,inputs:{Period:85},outputs:{"Rel Vig":H8U,RelVigSignal:F$M,"Increasing Bar":"#FF0000","Decreasing Bar":p3_}}});U2h+=2;}if(t6l.K8j(U2h.toString(),U2h.toString().length,12477) !== D0G){g2w="D";g2w+="ecre";g2w+="asing Ba";g2w+="r";j2k="R";j2k+="el Vi";j2k+="g";a9e.Studies.studyLibrary=a9e.extend(a9e.Studies.studyLibrary,{"Rel Vig":{name:j2k,seriesFN:a9e.Studies.displayHistogramWithSeries,calculateFN:a9e.Studies.calculateRelativeVigor,inputs:{Period:85},outputs:{"Rel Vig":"Rel Vig",RelVigSignal:"#FF0000","Increasing Bar":"#FF0000","Decreasing Bar":g2w}}});}a9e.Studies.studyLibrary=a9e.extend(a9e.Studies.studyLibrary,{"Rel Vig":{name:h4t,seriesFN:a9e.Studies.displayHistogramWithSeries,calculateFN:a9e.Studies.calculateRelativeVigor,inputs:{Period:"10" * 1},outputs:{"Rel Vig":"auto",RelVigSignal:w_R,"Increasing Bar":i$2,"Decreasing Bar":"#FF0000"}}});}};l5=H0s=>{var F8N,O2V;F8N="u";F8N+="ndefined";O2V=typeof _CIQ !== F8N?_CIQ:H0s.CIQ;if(!O2V.Studies){console.error("rsi feature requires first activating studies feature.");}else {O2V.Studies.calculateRSI=function(x3o,h1n){var T_f=h_yMd;var j9O,j7y,f0r,c0o,c1G,B_j,X1_,L$Y,t7L,i_k,K2P;j9O="R";j9O+="S";j9O+="I";j7y=h1n.chart.scrubbed;f0r=h1n.inputs.Field;if(!f0r || f0r == "field"){f0r="Close";}T_f.J2s();if(j7y.length < h1n.days + 1){h1n.error=!"";return;}function P2X(U35,C$j){var I7q;if(C$j === 0){return 100;}T_f.J2s();T_f.L7E(9);I7q=T_f.E9k(U35,C$j);T_f.L7E(179);return T_f.E9k(1,100,I7q,100);}for(var m5z=h1n.startFrom;m5z < j7y.length;m5z++){c0o="_a";c0o+="v";c0o+="g";c0o+="L ";c1G="_a";c1G+="v";c1G+="g";c1G+="G ";if(!m5z)continue;B_j=j7y[m5z];T_f.E2c(5);X1_=j7y[T_f.e5e(1,m5z)];if(!B_j[f0r] && B_j[f0r] !== 0)continue;if(!X1_[f0r] && X1_[f0r] !== 0)continue;L$Y=B_j[f0r] - X1_[f0r];t7L=Math.min(m5z,h1n.days);i_k=X1_[c1G + h1n.name];if(!i_k){T_f.L7E(5);i_k=T_f.e5e(0,"0");}T_f.E2c(9);i_k-=T_f.e5e(i_k,t7L);K2P=X1_[c0o + h1n.name];if(!K2P){K2P=0;}T_f.L7E(9);K2P-=T_f.e5e(K2P,t7L);if(L$Y > 0){T_f.L7E(9);i_k+=T_f.E9k(L$Y,t7L);}else if(L$Y <= 0){T_f.L7E(9);K2P-=T_f.E9k(L$Y,t7L);}else continue;if(m5z >= h1n.days){if((i_k || i_k !== 0) && (K2P || K2P !== ("0" | 0))){B_j["RSI " + h1n.name]=P2X(i_k,K2P);}}B_j["_avgG " + h1n.name]=i_k;B_j["_avgL " + h1n.name]=K2P;}h1n.zoneOutput=j9O;};O2V.Studies.studyLibrary=O2V.extend(O2V.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:O2V.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};C0=L5p=>{var a3Q=h_yMd;a3Q.H5S();var H63,K$g,Z2y,s7e,E7v,E23,p5Y,V9v,h5L;H63=typeof _CIQ !== "undefined"?_CIQ:L5p.CIQ;if(!H63.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {K$g="au";K$g+="t";K$g+="o";Z2y="aut";Z2y+="o";s7e="e";s7e+="ma";H63.Studies.calculateSchaff=function(M7u,a6C){var i5D,k2D,e6Z,B4Y,n0p,S8r,P8g,F4N,P0i,j1s,Y13,P8v,w4u,a_r,G6o,U2_,t0v,H7Q,L$6,i2V,m2Q,N1r,o$V,r7n,U6K;i5D="_M";i5D+="AC";i5D+="D";i5D+="2";k2D="_MA";function Q7q(h31,O00,g6V){var L_d,b9V,j68;L_d=null;b9V=null;a3Q.H5S();for(var L8W=O00 - h31 + 1;L8W <= O00;L8W++){j68=B4Y[L8W][g6V + " " + a6C.name];if(!j68)continue;L_d=L_d === null?j68:Math.min(L_d,j68);b9V=b9V === null?j68:Math.max(b9V,j68);}return [L_d,b9V];}k2D+="CD1";e6Z="fie";e6Z+="ld";B4Y=a6C.chart.scrubbed;n0p=a6C.days;S8r=Number(a6C.inputs["Short Cycle"]);P8g=Number(a6C.inputs["Long Cycle"]);if(B4Y.length < Math.max(n0p,S8r,P8g) + 1){a6C.error=!!({});F4N=1530419489;P0i=536778313;j1s=2;for(var M5d=1;a3Q.z3M(M5d.toString(),M5d.toString().length,52917) !== F4N;M5d++){return;}if(a3Q.z3M(j1s.toString(),j1s.toString().length,53420) !== P0i){return;}return;}Y13=a6C.inputs.Field;if(!Y13 || Y13 == e6Z){Y13="Close";}a3Q.J2s();P8v=0.5;H63.Studies.MA(a6C.inputs["Moving Average Type"],S8r,Y13,0,k2D,M7u,a6C);H63.Studies.MA(a6C.inputs["Moving Average Type"],P8g,Y13,0,i5D,M7u,a6C);w4u=0;a_r=+"0";for(var J7g=a6C.startFrom;J7g < B4Y.length;J7g++){G6o="_MA";G6o+="CD ";U2_=B4Y[J7g];if(J7g < P8g - 1)continue;t0v=U2_["_MACD1 " + a6C.name];H7Q=U2_["_MACD2 " + a6C.name];if(t0v || t0v === 0 || H7Q || H7Q === 0){a3Q.L7E(5);U2_["_MACD " + a6C.name]=a3Q.E9k(H7Q,t0v);}L$6=U2_[G6o + a6C.name];if(J7g < P8g + (n0p - 1))continue;i2V=Q7q(n0p,J7g,"_MACD");w4u=i2V[1] > i2V[0]?100 * (L$6 - i2V[0]) / (i2V[1] - i2V[0]):w4u;if(L$6 || L$6 === ("0" | 0)){m2Q="_P";m2Q+="F ";U2_["_PF " + a6C.name]=B4Y[J7g - 1]["_PF " + a6C.name]?B4Y[J7g - 1][m2Q + a6C.name] + P8v * (w4u - B4Y[J7g - 1]["_PF " + a6C.name]):w4u;}N1r=U2_["_PF " + a6C.name];if(J7g < P8g + 2 * (n0p - +"1"))continue;i2V=Q7q(n0p,J7g,"_PF");a_r=i2V[1] > i2V[0]?100 * (N1r - i2V[0]) / (i2V[+"1"] - i2V[0]):a_r;if(N1r || N1r === 0){o$V="R";o$V+="esul";o$V+="t ";r7n="Resu";r7n+="l";r7n+="t";r7n+=" ";U6K="Re";U6K+="sult ";U2_[U6K + a6C.name]=B4Y[J7g - +"1"]["Result " + a6C.name]?B4Y[J7g - ("1" | 0)][r7n + a6C.name] + P8v * (a_r - B4Y[J7g - ("1" >> 64)][o$V + a6C.name]):a_r;}}};E7v=1639119600;E23=1310946289;p5Y=2;for(var g_G=1;a3Q.K8j(g_G.toString(),g_G.toString().length,51397) !== E7v;g_G++){V9v="Moving Av";V9v+="er";V9v+="age Type";H63.Studies.studyLibrary=H63.extend(H63.Studies.studyLibrary,{Schaff:{name:"0 to 100",range:"Moving Average Type",calculateFN:H63.Studies.calculateSchaff,inputs:{Period:28,Field:"Moving Average Type","Short Cycle":74,"Long Cycle":"80" ^ 0,"Moving Average Type":V9v},parameters:{init:{studyOverZonesEnabled:!1,studyOverBoughtValue:+"69",studyOverBoughtColor:"Moving Average Type",studyOverSoldValue:44,studyOverSoldColor:"0 to 100"}}}});a3Q.E2c(19);p5Y+=a3Q.e5e("2",1);}if(a3Q.K8j(p5Y.toString(),p5Y.toString().length,67062) !== E23){h5L="Movin";h5L+="g Avera";h5L+="ge Type";H63.Studies.studyLibrary=H63.extend(H63.Studies.studyLibrary,{Schaff:{name:"0 to 100",range:"Moving Average Type",calculateFN:H63.Studies.calculateSchaff,inputs:{Period:"28" >> 32,Field:h5L,"Short Cycle":"74" - 0,"Long Cycle":80,"Moving Average Type":"Moving Average Type"},parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:69,studyOverBoughtColor:"Moving Average Type",studyOverSoldValue:44,studyOverSoldColor:"0 to 100"}}}});}H63.Studies.studyLibrary=H63.extend(H63.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:H63.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":s7e},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:75,studyOverBoughtColor:Z2y,studyOverSoldValue:+"25",studyOverSoldColor:K$g}}}});}};u0=a8V=>{var j5r=h_yMd;var s$T;j5r.J2s();s$T=typeof _CIQ !== "undefined"?_CIQ:a8V.CIQ;if(!s$T.Studies){console.error("shinohara feature requires first activating studies feature.");}else {s$T.Studies.calculateShinohara=function(S_l,M2B){var l6X,I21,l5f,N_b;l6X=M2B.chart.scrubbed;if(l6X.length < M2B.days + 1){M2B.error=!![];return;}I21={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(M2B.startFrom > 1){I21=s$T.clone(l6X[M2B.startFrom - 1]["_accums " + M2B.name]);}for(var P8d=M2B.startFrom;P8d < l6X.length;P8d++){I21.weakNum+=l6X[P8d].High - l6X[P8d].Close;I21.weakDen+=l6X[P8d].Close - l6X[P8d].Low;if(P8d > 0){j5r.E2c(180);var m97=j5r.e5e(19,7,1,8,19);I21.strongNum+=l6X[P8d].High - l6X[P8d - m97].Close;j5r.L7E(80);var V3r=j5r.e5e(5,8,2,0);I21.strongDen+=l6X[P8d - V3r].Close - l6X[P8d].Low;}if(P8d >= M2B.days){l5f="Weak Rati";l5f+="o ";I21.weakNum-=l6X[P8d - M2B.days].High - l6X[P8d - M2B.days].Close;I21.weakDen-=l6X[P8d - M2B.days].Close - l6X[P8d - M2B.days].Low;l6X[P8d][l5f + M2B.name]=+"100" * I21.weakNum / I21.weakDen;if(P8d > M2B.days){N_b="Strong Ra";N_b+="tio";N_b+=" ";I21.strongNum-=l6X[P8d - M2B.days].High - l6X[P8d - M2B.days - +"1"].Close;j5r.E2c(178);var j8j=j5r.e5e(659,17,1,20,16);I21.strongDen-=l6X[P8d - M2B.days - j8j].Close - l6X[P8d - M2B.days].Low;l6X[P8d][N_b + M2B.name]=("100" ^ 0) * I21.strongNum / I21.strongDen;}}l6X[P8d]["_accums " + M2B.name]=s$T.clone(I21);}};s$T.Studies.studyLibrary=s$T.extend(s$T.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:s$T.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};r6=U4D=>{var M9O=h_yMd;var D2H,s8H,D7x,q$W,B2c,K_w,z_j;D2H=typeof _CIQ !== "undefined"?_CIQ:U4D.CIQ;M9O.H5S();if(!D2H.Studies){console.error("stochastics feature requires first activating studies feature.");}else {s8H="au";s8H+="t";s8H+="o";D7x="f";D7x+="ie";D7x+="l";D7x+="d";q$W="a";q$W+="ut";q$W+="o";B2c="f";B2c+="i";B2c+="el";B2c+="d";K_w="0 ";K_w+="to 100";z_j="a";z_j+="u";z_j+="t";z_j+="o";D2H.Studies.calculateStochastics=function(J4i,t76){var B06,i1L,I3R,W$Q,U26,I7e,z0P,S9G,X4g,W2L;B06="%";M9O.J2s();B06+="K";B06+=" ";i1L="s";i1L+="imple";I3R="simpl";I3R+="e";if(!t76.smooth){t76.smooth=t76.inputs.Smooth;}W$Q=t76.inputs.Field;if(!W$Q || W$Q == "field"){W$Q="Close";}U26=t76.inputs["%K Periods"];if(!U26){U26=t76.days;}I7e=t76.chart.scrubbed;if(I7e.length < Math.max(U26,t76.days) + 1){t76.error=!![];return;}z0P=t76.inputs["%K Smoothing Periods"];if(z0P && !t76.inputs.Fast){t76.smooth=!![];}else if(t76.smooth){z0P=+"3";}S9G=t76.inputs["%D Periods"];if(!S9G){S9G=3;}if(t76.outputs.Fast){X4g="%";X4g+="D ";t76.outputMap={};t76.outputMap["%K " + t76.name]="Fast";t76.outputMap[X4g + t76.name]="Slow";}for(var L8D=Math.max(U26,t76.startFrom);L8D < I7e.length;L8D++){W2L=m4j(L8D,W$Q,U26);if(W2L !== null){I7e[L8D]["_Fast%K " + t76.name]=m4j(L8D,W$Q,U26);}}D2H.Studies.MA(I3R,t76.smooth?z0P:1,"_Fast%K " + t76.name,0,"%K",J4i,t76);function m4j(U1A,b$Q,j58){var J7f,t2o,V5c,g01,h5g,q13,S3y;M9O.L7E(6);J7f=M9O.E9k(j58,1,U1A);M9O.L7E(181);var K5R=M9O.e5e(39,8,5);t2o=Number.MAX_VALUE * K5R;V5c=Number.MAX_VALUE;for(var O6B=J7f;O6B <= U1A;O6B++){g01="C";g01+="lo";g01+="se";h5g=I7e[O6B][b$Q == "Close"?"Low":b$Q];q13=I7e[O6B][b$Q == g01?"High":b$Q];if(!h5g && h5g !== +"0")continue;if(!q13 && q13 !== 0)continue;V5c=Math.min(V5c,h5g);t2o=Math.max(t2o,q13);}if(t2o == Number.MAX_VALUE * -1 || V5c == Number.MAX_VALUE){return null;}S3y=t2o == V5c?"0" - 0:(I7e[U1A][b$Q] - V5c) / (t2o - V5c) * 100;return S3y;}D2H.Studies.MA(i1L,S9G,B06 + t76.name,0,"%D",J4i,t76);};D2H.Studies.calculateStochMomentum=function(Y22,C_t){M9O.H5S();var J9C,U7T,g98,S2a,S3w,f$x,p1A,c1C,B4N,B8P,D5A,y62,V14,n36;J9C="%";J9C+="D";U7T="_";U7T+="D";U7T+="HL2";g98="_";g98+="H ";S2a="exp";S2a+="o";S2a+="nenti";S2a+="al";S3w="%D ";S3w+="Peri";S3w+="ods";f$x=Number(C_t.inputs["%K Periods"]);p1A=Number(C_t.inputs["%K Smoothing Periods"]);c1C=Number(C_t.inputs["%K Double Smoothing Periods"]);B4N=Number(C_t.inputs[S3w]);B8P=C_t.chart.scrubbed;function D4k(f8W,s_C){var b88,t$u;b88=null;t$u=null;for(var G1M=s_C - f8W + 1;G1M <= s_C;G1M++){b88=b88 === null?B8P[G1M].Low:Math.min(b88,B8P[G1M].Low);t$u=t$u === null?B8P[G1M].High:Math.max(t$u,B8P[G1M].High);}return [b88,t$u];}if(B8P.length < f$x + p1A + c1C - ("1" - 0) || B8P.length < B4N){C_t.error=!!({});return;}for(D5A=Math.max(f$x,C_t.startFrom) - 1;D5A < B8P.length;D5A++){y62="_";y62+="H";y62+=" ";V14=B8P[D5A];n36=D4k(f$x,D5A);M9O.E2c(5);var N_v=M9O.E9k(6,7);V14[y62 + C_t.name]=V14.Close - (n36[0] + n36[N_v]) / +"2";M9O.E2c(4);var J2l=M9O.e5e(3,13,11);V14["_DHL " + C_t.name]=n36[J2l] - n36[0];}D2H.Studies.MA(S2a,p1A,g98 + C_t.name,0,"_HS1",Y22,C_t);D2H.Studies.MA("exponential",c1C,"_HS1 " + C_t.name,0,"_HS2",Y22,C_t);D2H.Studies.MA("exponential",p1A,"_DHL " + C_t.name,"0" | 0,"_DHL1",Y22,C_t);D2H.Studies.MA("exponential",c1C,"_DHL1 " + C_t.name,0,U7T,Y22,C_t);for(D5A=f$x - 1;D5A < B8P.length;D5A++){M9O.L7E(157);var U8K=M9O.e5e(50,50,99,1);B8P[D5A]["%K " + C_t.name]=B8P[D5A]["_HS2 " + C_t.name] / (0.5 * B8P[D5A]["_DHL2 " + C_t.name]) * U8K;}D2H.Studies.MA(C_t.inputs["%D Moving Average Type"],B4N,"%K " + C_t.name,0,J9C,Y22,C_t);C_t.zoneOutput="%K";};D2H.Studies.studyLibrary=D2H.extend(D2H.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:D2H.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-("40" * 1),studyOverSoldColor:z_j}}},stochastics:{name:"Stochastics (Simple)",range:K_w,calculateFN:D2H.Studies.calculateStochastics,inputs:{Period:14,Field:B2c,Smooth:!0},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:q$W}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:D2H.Studies.calculateStochastics,inputs:{Field:D7x,"%K Periods":14,Fast:!"1","%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:+"80",studyOverBoughtColor:s8H,studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){M9O.J2s();return this.inputs.Fast;}}},centerline:50}});}};i3=w6R=>{var e$3,B15,D1n,W4C,S4z,Z8J,E7s;e$3=typeof _CIQ !== "undefined"?_CIQ:w6R.CIQ;if(!e$3.Studies){console.error("supertrend feature requires first activating studies feature.");}else {B15="S";B15+="upertrend";e$3.Studies.calculateSupertrend=function(A9a,a2Z){var S5d=h_yMd;var Z2v,l9x,S6F,W33,R1m,r9l,Q_4,p8Z,m6v;S5d.H5S();Z2v=a2Z.chart.scrubbed;if(Z2v.length < a2Z.days + 1){a2Z.error=!"";return;}e$3.Studies.calculateStudyATR(A9a,a2Z);for(var i73=a2Z.startFrom;i73 < Z2v.length;i73++){l9x=Z2v[i73];if(!l9x)continue;S6F=(l9x.High + l9x.Low) / +"2";W33=a2Z.inputs.Multiplier * l9x["ATR " + a2Z.name];S5d.E2c(5);R1m=S5d.E9k(W33,S6F);S5d.L7E(2);r9l=S5d.E9k(S6F,W33);if(i73){if(Z2v[i73 - 1] && Z2v[i73 - +"1"].Close && Z2v[i73 - +"1"].Close > Z2v[i73 - 1]["_Uptrend " + a2Z.name] && Z2v[i73 - 1]["_Uptrend " + a2Z.name] > R1m){S5d.E2c(5);R1m=Z2v[S5d.E9k(1,i73)]["_Uptrend " + a2Z.name];}if(Z2v[i73 - +"1"] && Z2v[i73 - 1].Close && Z2v[i73 - 1].Close < Z2v[i73 - 1]["_Downtrend " + a2Z.name] && Z2v[i73 - 1]["_Downtrend " + a2Z.name] < r9l){S5d.L7E(5);r9l=Z2v[S5d.e5e(1,i73)]["_Downtrend " + a2Z.name];}}l9x["_Direction " + a2Z.name]=1;if(i73){Q_4="_D";Q_4+="ire";Q_4+="ct";Q_4+="ion ";p8Z="_U";p8Z+="ptren";p8Z+="d";p8Z+=" ";m6v="_Dow";m6v+="n";m6v+="trend ";S5d.L7E(5);l9x["_Direction " + a2Z.name]=Z2v[S5d.E9k(1,i73)]["_Direction " + a2Z.name];if(l9x.Close > Z2v[i73 - 1][m6v + a2Z.name]){l9x["_Direction " + a2Z.name]=1;}else if(l9x.Close < Z2v[i73 - +"1"][p8Z + a2Z.name]){l9x[Q_4 + a2Z.name]=-1;}}l9x["_Uptrend " + a2Z.name]=R1m;l9x["_Downtrend " + a2Z.name]=r9l;l9x["Trend " + a2Z.name]=l9x["_Direction " + a2Z.name] > 0?R1m:r9l;if(!i73)continue;}a2Z.outputMap={};a2Z.outputMap["Trend " + a2Z.name]="";};e$3.Studies.displaySupertrend=function(J0n,M0E,E8c){var g2_=h_yMd;var V33,R7d,t2G,v5L,I9c,x10,H_l,Z6U,Q34,m8C,t83;V33=J0n.panels[M0E.panel];R7d=M0E.getContext(J0n);t2G=M0E.getYAxis(J0n);v5L={skipTransform:V33.name != M0E.chart.name,skipProjections:!0,label:J0n.preferences.labels,yAxis:t2G,highlight:M0E.highlight};I9c="Trend " + M0E.name;g2_.H5S();for(var S3u=0;V33.chart.transformFunc && t2G != V33.chart.yAxis && S3u < E8c.length;S3u++){x10=E8c[S3u];if(x10 && x10.transform){x10.transform[I9c]=V33.chart.transformFunc(J0n,V33.chart,x10[I9c]);}}J0n.plotDataSegmentAsLine(I9c,V33,v5L,l56);R7d.lineWidth=+"1";R7d.globalAlpha=1;J0n.startClip(M0E.panel);if(!M0E.highlight && J0n.highlightedDraggable){R7d.globalAlpha*=0.3;}g2_.L7E(5);var w22=g2_.E9k(18,20);H_l=R7d.measureText("\u25B2").width / w22;for(Z6U=0;Z6U < E8c.length;Z6U++){if(!E8c[Z6U] || !E8c[Z6U - ("1" - 0)])continue;if(E8c[Z6U - 1]["_Direction " + M0E.name] > E8c[Z6U]["_Direction " + M0E.name]){Q34=e$3.Studies.determineColor(M0E.outputs.Downtrend);if(!Q34 || Q34 == "auto" || e$3.isTransparent(Q34)){Q34=J0n.defaultColor;}R7d.fillStyle=Q34;R7d.textBaseline="bottom";m8C=J0n.pixelFromPrice(E8c[Z6U].High,V33,t2G);for(var X0b=5;X0b <= 45;X0b+=10){if(t2G.flipped){R7d.fillText(("4890" ^ 0) != 824?605.86 === 9780?5108 >= 804.53?(1.03,!""):(5.34e+3,4.56e+3):"\u25B2":0x1c2c,J0n.pixelFromBar(Z6U) - H_l,m8C + X0b);}else {R7d.fillText("\u25BC",J0n.pixelFromBar(Z6U) - H_l,m8C - X0b);}}}else if(E8c[Z6U - +"1"]["_Direction " + M0E.name] < E8c[Z6U]["_Direction " + M0E.name]){Q34=e$3.Studies.determineColor(M0E.outputs.Uptrend);if(!Q34 || Q34 == "auto" || e$3.isTransparent(Q34)){Q34=J0n.defaultColor;}R7d.fillStyle=Q34;R7d.textBaseline="top";t83=J0n.pixelFromPrice(E8c[Z6U].Low,V33,t2G);for(var u6J=5;u6J <= 45;u6J+=10){if(t2G.flipped){R7d.fillText(("220.45" - 0,7220) == ("1140" * 1,5010)?6738 > "964.05" - 0?7624 >= 952?(416,339.20):+"0x20cd":"F":"\u25BC",J0n.pixelFromBar(Z6U) - H_l,t83 - u6J);}else {R7d.fillText(14 > ("132" * 1,6299)?"L":(7213,+"934.72") >= 7910?"G":"\u25B2",J0n.pixelFromBar(Z6U) - H_l,t83 + u6J);}}}}J0n.endClip();function l56(u68,f81,s9Z){if(f81 && f81["_Direction " + M0E.name] < 0){return M0E.outputs.Downtrend;}g2_.H5S();return M0E.outputs.Uptrend;}};D1n=1878474505;W4C=672005958;S4z=2;for(var x2N=1;h_yMd.z3M(x2N.toString(),x2N.toString().length,9813) !== D1n;x2N++){e$3.Studies.studyLibrary=e$3.extend(e$3.Studies.studyLibrary,{Supertrend:{name:"#b82c0c",overlay:!"1",seriesFN:e$3.Studies.displaySupertrend,calculateFN:e$3.Studies.calculateSupertrend,inputs:{Period:"2" | 2,Multiplier:8},outputs:{Uptrend:"#b82c0c",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:684,step:995}}}});S4z+=2;}if(h_yMd.K8j(S4z.toString(),S4z.toString().length,8328) !== W4C){Z8J="#b";Z8J+="82c";Z8J+="0";Z8J+="c";E7s="#b82c0";E7s+="c";e$3.Studies.studyLibrary=e$3.extend(e$3.Studies.studyLibrary,{Supertrend:{name:"#b82c0c",overlay:!({}),seriesFN:e$3.Studies.displaySupertrend,calculateFN:e$3.Studies.calculateSupertrend,inputs:{Period:2,Multiplier:8},outputs:{Uptrend:E7s,Downtrend:Z8J},attributes:{Multiplier:{min:684,step:995}}}});}e$3.Studies.studyLibrary=e$3.extend(e$3.Studies.studyLibrary,{Supertrend:{name:B15,overlay:!![],seriesFN:e$3.Studies.displaySupertrend,calculateFN:e$3.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};u9=O8J=>{var r8X=h_yMd;var Q21,l$P;r8X.J2s();Q21=typeof _CIQ !== "undefined"?_CIQ:O8J.CIQ;if(!Q21.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {l$P="Swi";l$P+="ng Index";Q21.Studies.calculateSwingIndex=function(r19,R7B){var Y9P,G$I,s_d,N1l,l2I,X60,X4T,g5h,P$5,Z7_,W50,l$S;Y9P=R7B.inputs["Limit Move Value"];if(Y9P === null || isNaN(Y9P)){r8X.E2c(5);Y9P=r8X.e5e(0,"99999");}G$I=R7B.chart.scrubbed;s_d=0;if(R7B.startFrom > +"1"){r8X.E2c(182);var O5P=r8X.e5e(11,337,19,6,13);s_d=G$I[R7B.startFrom - O5P]["Result " + R7B.name];}for(var R8d=Math.max(1,R7B.startFrom);R8d < G$I.length;R8d++){N1l="S";N1l+="wing";l2I=Math.abs(G$I[R8d].High - G$I[R8d - 1].Close);X60=Math.abs(G$I[R8d].Low - G$I[R8d - +"1"].Close);X4T=Math.abs(G$I[R8d].High - G$I[R8d].Low);g5h=Math.abs(G$I[R8d - 1].Close - G$I[R8d - 1].Open);P$5=Math.max(l2I,X60);Z7_=Math.max(X4T,P$5);r8X.E2c(20);W50=r8X.E9k(0.25,g5h,Z7_);if(Z7_ == l2I){r8X.E2c(19);W50-=r8X.E9k(0.5,X60);}else if(Z7_ == X60){r8X.L7E(19);W50-=r8X.e5e(0.5,l2I);}r8X.E2c(6);var M$B=r8X.e5e(2,3,0);r8X.L7E(12);var V99=r8X.e5e(17,16);r8X.L7E(5);var I2m=r8X.E9k(11,12);l$S="50" * M$B * (G$I[R8d].Close - G$I[R8d - +"1"].Close + 0.5 * (G$I[R8d].Close - G$I[R8d].Open) + 0.25 * (G$I[R8d - V99].Close - G$I[R8d - I2m].Open)) / W50 * (P$5 / Y9P);if(W50 === 0 || Y9P === 0){l$S=0;}if(R7B.type == N1l){s_d=0;}s_d+=l$S;G$I[R8d]["Result " + R7B.name]=s_d;}};Q21.Studies.studyLibrary=Q21.extend(Q21.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:Q21.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:l$P,calculateFN:Q21.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};G9=b4y=>{var n5R=h_yMd;var R3e,t1O,I1Q,v8Y,g4A;R3e="undef";R3e+="ined";n5R.J2s();t1O=typeof _CIQ !== R3e?_CIQ:b4y.CIQ;if(!t1O.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {I1Q="au";I1Q+="to";v8Y="#FF00";v8Y+="0";v8Y+="0";g4A="Tren";g4A+="d I";g4A+="ntensity Index";t1O.Studies.calculateTrendIntensity=function(K_e,m3u){var L5W,L$N,U20,F9R,F7S,S0v,O$R,h9_,C2m,t7U,B9i,p9T;L5W="S";function y86(t9c,x37){if(Math.abs(x37) < 0.00000001){return 100;}n5R.J2s();n5R.E2c(183);return n5R.e5e("100",100,x37,t9c,1);}L5W+="ig";L5W+="nal Pe";L5W+="riod";L$N="e";L$N+="ma";U20="m";U20+="a";F9R=m3u.chart.scrubbed;if(F9R.length < m3u.days + 1){m3u.error=!!({});return;}F7S=m3u.inputs.Field;if(!F7S || F7S == "field"){F7S="Close";}t1O.Studies.MA(U20,m3u.days,F7S,+"0","_SMA",K_e,m3u);S0v=0;O$R=0;t7U=[];B9i=Math.ceil(m3u.days / 2);for(h9_=Math.max("0" - 0,m3u.startFrom - B9i);h9_ < F9R.length;h9_++){p9T="_SMA";p9T+=" ";if(!F9R[h9_]["_SMA " + m3u.name] && F9R[h9_][p9T + m3u.name] !== 0)continue;C2m=F9R[h9_][F7S] - F9R[h9_]["_SMA " + m3u.name];if(C2m < 0){n5R.E2c(184);O$R+=n5R.e5e(C2m,1);}else {S0v+=C2m;}t7U.push(C2m);if(t7U.length > B9i){C2m=t7U.shift();if(C2m < +"0"){n5R.E2c(184);O$R-=n5R.E9k(C2m,1);}else {S0v-=C2m;}}if(h9_ < m3u.startFrom)continue;F9R[h9_]["TII " + m3u.name]=y86(S0v,O$R);}t1O.Studies.MA(L$N,m3u.inputs[L5W],"TII " + m3u.name,0,"Signal",K_e,m3u);};t1O.Studies.studyLibrary=t1O.extend(t1O.Studies.studyLibrary,{"Trend Int":{name:g4A,calculateFN:t1O.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:v8Y},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:I1Q}}}});}};X4=v8c=>{var P0M,S7s,D1F;P0M=typeof _CIQ !== "undefined"?_CIQ:v8c.CIQ;if(!P0M.Studies){S7s="trix feature ";S7s+="requires first activating stu";S7s+="dies feature";S7s+=".";console.error(S7s);}else {D1F="TR";D1F+="I";D1F+="X";P0M.Studies.calculateTRIX=function(P8c,V0I){var W14=h_yMd;var q8z,y0P,E1c,Y$U,O19,c8x,Q02;q8z="_";q8z+="M";q8z+="A";q8z+="2 ";y0P=V0I.chart.scrubbed;if(y0P.length < V0I.days + +"1"){V0I.error=!0;return;}E1c=V0I.name;W14.E2c(2);Y$U=["Close",W14.E9k("_MA1 ",E1c),W14.E9k(q8z,E1c),W14.e5e("_MA3 ",E1c)];for(var i4H="0" >> 32;i4H < Y$U.length - 1;i4H++){P0M.Studies.MA("exponential",V0I.days,Y$U[i4H],0,"_MA" + (i4H + 1).toString(),P8c,V0I);}O19=Y$U[3];for(var f0C=Math.max(1,V0I.startFrom);f0C < y0P.length;f0C++){W14.E2c(5);c8x=y0P[W14.E9k(1,f0C)][O19];if(!c8x)continue;Q02=y0P[f0C][O19];if(Q02 || Q02 === 0){W14.E2c(2);y0P[f0C][W14.e5e("Result ",E1c)]=W14.E9k(Q02,100,c8x,1,W14.E2c(158));}}};P0M.Studies.studyLibrary=P0M.extend(P0M.Studies.studyLibrary,{TRIX:{name:D1F,calculateFN:P0M.Studies.calculateTRIX}});}};z8=T9V=>{var A_H,f_x,k9Z,R28;A_H="u";A_H+="n";A_H+="defined";f_x=typeof _CIQ !== A_H?_CIQ:T9V.CIQ;if(!f_x.Studies){k9Z="twiggsMoneyFlow ";k9Z+="feature requires first activating studies fe";k9Z+="ature.";console.error(k9Z);}else {R28="Twiggs";R28+=" Money";R28+=" Flo";R28+="w";f_x.Studies.calculateTwiggsMoneyFlow=function(Y_l,K24){var S3t=h_yMd;var N62,q0d,j4q,T7Y,B$I,h8j,k5s,t_$,q7d;N62=K24.chart.scrubbed;if(N62.length < K24.days){K24.error=!!1;return;}q0d=0;j4q=0;S3t.E2c(60);var z0S=S3t.e5e(4,14,8,7,3);T7Y=N62[K24.startFrom - z0S];S3t.J2s();if(T7Y){B$I="_su";B$I+="mMF ";if(T7Y[B$I + K24.name]){q0d=T7Y["_sumMF " + K24.name];}if(T7Y["_sumV " + K24.name]){j4q=T7Y["_sumV " + K24.name];}}for(var c1c=Math.max(1,K24.startFrom);c1c < N62.length;c1c++){h8j="_su";h8j+="m";h8j+="MF ";k5s="_MF";k5s+="V";k5s+=" ";t_$=Math.max(N62[c1c - 1].Close,N62[c1c].High);q7d=Math.min(N62[c1c - 1].Close,N62[c1c].Low);S3t.E2c(124);var q91=S3t.E9k(7,3,7,1);S3t.E2c(66);var G6R=S3t.e5e(8,768,768,88);N62[c1c]["_MFV " + K24.name]=N62[c1c].Volume * (q91 * N62[c1c].Close - t_$ - q7d) / (t_$ - q7d === 0?"999999" << G6R:t_$ - q7d);if(c1c > K24.days - "1" * 1){S3t.L7E(2);var a6s=S3t.e5e(0,1);q0d*=(K24.days - a6s) / K24.days;S3t.E2c(62);var u1J=S3t.e5e(20,18,3,8,25);j4q*=(K24.days - "1" * u1J) / K24.days;}q0d+=N62[c1c][k5s + K24.name];j4q+=N62[c1c].Volume;if(c1c > K24.days - 1){if(j4q){S3t.E2c(9);N62[c1c]["Result " + K24.name]=S3t.e5e(q0d,j4q > 0?j4q:999999);}}N62[c1c][h8j + K24.name]=q0d;N62[c1c]["_sumV " + K24.name]=j4q;}};f_x.Studies.studyLibrary=f_x.extend(f_x.Studies.studyLibrary,{Twiggs:{name:R28,calculateFN:f_x.Studies.calculateTwiggsMoneyFlow,inputs:{Period:+"21"}}});}};D4=l68=>{var I0c,k6B;h_yMd.H5S();I0c=typeof _CIQ !== "undefined"?_CIQ:l68.CIQ;if(!I0c.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!I0c.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {k6B="Typical";k6B+=" Price";I0c.Studies.studyLibrary=I0c.extend(I0c.Studies.studyLibrary,{"Typical Price":{name:k6B,calculateFN:I0c.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:I0c.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};E3=K6g=>{h_yMd.J2s();var i_5,O_g,h5Y;i_5="un";i_5+="de";i_5+="fi";i_5+="ned";O_g=typeof _CIQ !== i_5?_CIQ:K6g.CIQ;if(!O_g.Studies){h5Y="ulcerIndex feature requires first activating studies fe";h5Y+="ature.";console.error(h5Y);}else {O_g.Studies.calculateUlcerIndex=function(b42,C7u){var D22,B4p,H$z,a3O,s0b,c1F;D22="_P";h_yMd.J2s();D22+="D2 ";B4p="Cl";B4p+="o";B4p+="se";H$z=C7u.chart.scrubbed;function g$8(G_x,i_I,O_q){var E2H;E2H=null;h_yMd.H5S();for(var e5j=i_I - G_x + +"1";e5j <= i_I;e5j++){if(e5j < ("0" | 0))continue;E2H=E2H === null?H$z[e5j][O_q]:Math.max(E2H,H$z[e5j][O_q]);}return E2H;}if(H$z.length < 2 * C7u.days - 1){C7u.error=!!"1";return;}a3O=C7u.inputs.Field;if(!a3O || a3O == "field"){a3O=B4p;}for(s0b=Math.max(C7u.startFrom,C7u.days - 1);s0b < H$z.length;s0b++){H$z[s0b]["_PD2 " + C7u.name]=Math.pow(100 * (H$z[s0b][a3O] / g$8(C7u.days,s0b,a3O) - 1),"2" | 0);}O_g.Studies.MA("simple",C7u.days,D22 + C7u.name,"0" | 0,"_MA",b42,C7u);for(s0b=Math.max(C7u.startFrom,2 * (C7u.days - 1));s0b < H$z.length;s0b++){c1F=H$z[s0b]["_MA " + C7u.name];if(c1F || c1F === 0){H$z[s0b]["Result " + C7u.name]=Math.sqrt(c1F);}}};O_g.Studies.studyLibrary=O_g.extend(O_g.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:O_g.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};Z6=s7v=>{var i2B,d$z,e6X,g4i;i2B="undef";i2B+="i";i2B+="ned";d$z=typeof _CIQ !== i2B?_CIQ:s7v.CIQ;if(!d$z.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {e6X="au";e6X+="to";g4i="a";g4i+="u";g4i+="t";g4i+="o";d$z.Studies.calculateUltimateOscillator=function(s6A,r_A){var W41=h_yMd;W41.H5S();var i0z,G6K,l62,Z7z,p2$,N72,G8Q,g_X,L4R,h$q,E3h,l$j,q_U,L1l,T7_,h72,h$Y,i$F,Z_V,g7c,w9R;i0z="C";i0z+="ycle 3";G6K=r_A.chart.scrubbed;l62=[r_A.inputs["Cycle 1"],r_A.inputs["Cycle 2"],r_A.inputs[i0z]];Z7z=Math.max(l62[0],l62[1],l62[2]);if(G6K.length < Z7z + 1){r_A.error=!!({});return;}W41.L7E(185);var X$f=W41.E9k(13,41,6,6,1);p2$=l62[0] * l62[X$f];W41.E2c(186);var u6d=W41.E9k(53,9,19,13,17);N72=l62[0] * l62[u6d];W41.E2c(167);var G5_=W41.E9k(18,16,113,6);W41.L7E(34);var a1l=W41.e5e(6,8,0,7);G8Q=l62[G5_] * l62[a1l];g_X=[0,0,0];L4R=[0,0,0];if(r_A.startFrom){h$q="_acc";h$q+="tr ";E3h="_";E3h+="accb";E3h+="p ";if(G6K[r_A.startFrom - 1]["_accbp " + r_A.name]){g_X=G6K[r_A.startFrom - 1][E3h + r_A.name].slice();}if(G6K[r_A.startFrom - 1]["_acctr " + r_A.name]){L4R=G6K[r_A.startFrom - 1][h$q + r_A.name].slice();}}for(var M1j=Math.max(1,r_A.startFrom);M1j < G6K.length;M1j++){l$j="Re";l$j+="su";l$j+="lt";l$j+=" ";q_U="_acc";q_U+="t";q_U+="r";q_U+=" ";L1l=Math.min(G6K[M1j].Low,G6K[M1j - +"1"].Close);T7_=G6K[M1j].Close - L1l;W41.E2c(4);var G0z=W41.e5e(6,18,13);h72=Math.max(G6K[M1j].High,G6K[M1j - G0z].Close) - L1l;for(var G8h=+"0";G8h < l62.length;G8h++){g_X[G8h]+=T7_;L4R[G8h]+=h72;if(M1j > l62[G8h]){h$Y=Math.min(G6K[M1j - l62[G8h]].Low,G6K[M1j - l62[G8h] - +"1"].Close);i$F=G6K[M1j - l62[G8h]].Close - h$Y;Z_V=Math.max(G6K[M1j - l62[G8h]].High,G6K[M1j - l62[G8h] - +"1"].Close) - h$Y;g_X[G8h]-=i$F;L4R[G8h]-=Z_V;}}G6K[M1j]["_accbp " + r_A.name]=g_X.slice();G6K[M1j][q_U + r_A.name]=L4R.slice();if(M1j < Z7z)continue;W41.L7E(187);var y$E=W41.E9k(13168,5,16,832);W41.L7E(33);var x66=W41.e5e(7,19,25,0);W41.L7E(5);var P_$=W41.e5e(20,22);W41.L7E(148);var s02=W41.E9k(20,6,6,17);g7c=G8Q * g_X["0" >> y$E] / L4R[0] + N72 * g_X["1" ^ 0] / L4R[x66] + p2$ * g_X[P_$] / L4R[s02];W41.E2c(95);w9R=W41.E9k(G8Q,p2$,N72);W41.L7E(110);G6K[M1j][l$j + r_A.name]=W41.e5e(g7c,w9R,100);}};d$z.Studies.studyLibrary=d$z.extend(d$z.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:d$z.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:70,studyOverBoughtColor:g4i,studyOverSoldValue:30,studyOverSoldColor:e6X}}}});}};H$=p7m=>{var n4V=h_yMd;var Q_S,M_8;Q_S=typeof _CIQ !== "undefined"?_CIQ:p7m.CIQ;n4V.H5S();if(!Q_S.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {M_8="#ff";M_8+="f6";M_8+="9e";Q_S.Studies.calculateValuationLines=function(B5y,J_q,M3_){var G59,P6Q,g0A,G50,E9V,F1S,M58,e9_,j4C,D3_,D4D,N03,r8K,W7Q,A8j,h9U,Q41,W0w,P9h;G59="Display 2 Standard";G59+=" Devi";G59+="ation (2\u03C3)";P6Q="Display 1 St";P6Q+="andard Deviation (1\u03C3)";g0A="fie";g0A+="ld";G50=J_q.inputs.Field == g0A?"Close":J_q.inputs.Field;E9V=J_q.inputs["Average Type"];F1S=J_q.inputs["Display Average"];M58=J_q.inputs[P6Q];e9_=J_q.inputs[G59];j4C=J_q.inputs["Display 3 Standard Deviation (3\u03C3)"];D3_=[];for(var I3_=0;I3_ < M3_.length;++I3_){if(M3_[I3_] && !isNaN(M3_[I3_][G50])){D3_.push(M3_[I3_][G50]);}}D4D=(function(x7a,r_q){var o3S,f04,P4V,p4Q,j79,e8_,N1K;o3S="harmoni";o3S+="c";f04=x7a.length;P4V=0;p4Q=0;j79=0;switch(r_q){case "mean":p4Q=f04;for(;j79 < f04;++j79){P4V+=x7a[j79];}break;case o3S:P4V=f04;for(;j79 < f04;++j79){n4V.L7E(2);var R3f=n4V.E9k(0,1);p4Q+=R3f / x7a[j79];}break;case "median":n4V.E2c(9);e8_=Math.floor(n4V.E9k(f04,2));N1K=x7a.slice().sort(function(Q6J,Z8i){if(Q6J > Z8i){return +"1";}n4V.H5S();if(Q6J < Z8i){return -1;}return 0;});if(f04 % 2 === 0){P4V=N1K[e8_] + N1K[e8_ - ("1" | 0)];p4Q=+"2";}else {P4V=N1K[e8_];p4Q=1;}break;}n4V.L7E(9);n4V.J2s();return n4V.E9k(P4V,p4Q);})(D3_,E9V);N03=!(M58 || e9_ || j4C) || (function(T$z,F6X){var t5I,M6h;t5I=T$z.length;M6h=0;for(var t6W=0;t6W < t5I;++t6W){M6h+=Math.pow(T$z[t6W] - F6X,2);}n4V.E2c(9);return Math.sqrt(n4V.E9k(M6h,t5I));})(D3_,D4D);J_q.data={Average:F1S?[D4D]:null,"1 Standard Deviation (1\u03C3)":M58?[D4D + N03,D4D - N03]:null,"2 Standard Deviation (2\u03C3)":e9_?[D4D + N03 * 2,D4D - N03 * 2]:null,"3 Standard Deviation (3\u03C3)":j4C?[D4D + N03 * 3,D4D - N03 * +"3"]:null};r8K=N03;if(!J_q.parameters){J_q.parameters={};}if(j4C){n4V.E2c(188);J_q.parameters.range=[n4V.e5e(N03,r8K,3,D4D),n4V.E9k(D4D,r8K,3,N03,n4V.E2c(189))];}else if(e9_){n4V.E2c(188);J_q.parameters.range=[n4V.E9k(N03,r8K,2,D4D),n4V.e5e(D4D,r8K,2,N03,n4V.E2c(189))];}else if(M58){n4V.E2c(32);J_q.parameters.range=[n4V.E9k(r8K,N03,D4D),n4V.E9k(D4D,r8K,N03,n4V.L7E(95))];}else if(F1S){n4V.E2c(5);J_q.parameters.range=[n4V.E9k(r8K,D4D),n4V.e5e(D4D,r8K,n4V.L7E(2))];}if(J_q.panel){W7Q=B5y.panels[J_q.panel];A8j=B5y.getYAxisByName(W7Q,J_q.name);if(A8j){A8j.decimalPlaces=W7Q.chart.yAxis.printDecimalPlaces;h9U={yAxis:A8j};Q41=1991929631;W0w=-438795622;P9h=2;for(var L$U=1;n4V.K8j(L$U.toString(),L$U.toString().length,64916) !== Q41;L$U++){B5y.calculateYAxisRange(W7Q,A8j,J_q.parameters.range[5],J_q.parameters.range[3]);n4V.L7E(40);P9h+=n4V.e5e(0,"2");}if(n4V.K8j(P9h.toString(),P9h.toString().length,7173) !== W0w){B5y.calculateYAxisRange(W7Q,A8j,J_q.parameters.range[+"2"],J_q.parameters.range[1]);}B5y.calculateYAxisRange(W7Q,A8j,J_q.parameters.range[0],J_q.parameters.range[1]);B5y.createYAxis(W7Q,h9U);B5y.drawYAxis(W7Q,h9U);}}};Q_S.Studies.displayValuationLines=function(r3H,z1y){var J64,m8V,S8e,c2m,A2L,I87,f3H,t6K,c21,I8H,k6i,r4Z,p2e,Y1n,R1y,w6W,M71,T00,i4I,s8O,S7H,a10,a7K,G6P,Z6G,Y66;J64="ciq-valuation-deviat";J64+="io";J64+="n-line";n4V.H5S();m8V=r3H.panels[z1y.panel];S8e=z1y.getYAxis(r3H);c2m=z1y.getContext(r3H);A2L=z1y.data;I87=z1y.parameters.labels;f3H=z1y.inputs["Average Type"];t6K={mean:"AVG",median:"MED",harmonic:"HAVG"};c21=r3H.canvasStyle("ciq-valuation-average-line");I8H=r3H.canvasStyle(J64);n4V.L7E(42);k6i=n4V.e5e(0,"3");n4V.E2c(4);var m88=n4V.E9k(34,46,14);r4Z=r3H.getCanvasFontSize("stx_yaxis") + k6i * m88;for(var F3t in A2L){if(!A2L[F3t])continue;n4V.E2c(190);p2e=n4V.E9k("Average",F3t);Y1n=Q_S.Studies.determineColor(z1y.outputs[F3t]);R1y=A2L[F3t];for(w6W=0;w6W < R1y.length;++w6W){a10="l";a10+="e";a10+="f";a10+="t";a7K="y";a7K+="a";a7K+="xis";G6P="d";G6P+="ashed";Z6G="sol";Z6G+="i";Z6G+="d";M71=R1y[w6W];T00=r3H.pixelFromPrice(M71,m8V,S8e);if(T00 <= m8V.top || T00 >= m8V.yAxis.bottom)continue;S7H=p2e?{pattern:c21.borderStyle != "none"?c21.borderStyle || "solid":Z6G,lineWidth:parseFloat(c21.borderWidth) || 1,opacity:parseFloat(c21.opacity) || 1,yAxis:S8e}:{pattern:I8H.borderStyle != "none"?I8H.borderStyle || "dashed":G6P,lineWidth:parseFloat(I8H.borderWidth) || 1,opacity:parseFloat(I8H.opacity) || +"1",yAxis:S8e};r3H.plotLine(m8V.left,m8V.right,T00,T00,Y1n,"line",c2m,m8V,S7H);if(I87 === a7K){r3H.createYAxisLabel(m8V,r3H.formatYAxisPrice(M71,m8V),T00,Y1n,null,c2m,S8e);continue;}T00+=Math.floor(S7H.lineWidth / 2);if(T00 + r4Z >= m8V.yAxis.bottom)continue;i4I=(p2e?t6K[f3H] + ": ":F3t[0] + "\u03C3: ") + r3H.formatYAxisPrice(M71,m8V);s8O=c2m.measureText(i4I).width;Y66=m8V.right - s8O - k6i;if(S8e && S8e.position == a10){Y66=m8V.left + k6i;}n4V.L7E(191);c2m.strokeText(i4I,Y66,n4V.e5e(T00,2,r4Z,0.5));}}};Q_S.Studies.studyLibrary=Q_S.extend(Q_S.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(M9C,x0i,u4u){Q_S.Studies.calculateValuationLines(M9C,x0i,u4u);Q_S.Studies.displayValuationLines(M9C,x0i);},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!!({}),"Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!"1"},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":M_8}}});}};n5=C42=>{var y2o,E4T,A6N,Z3n;y2o=typeof _CIQ !== "undefined"?_CIQ:C42.CIQ;if(!y2o.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {E4T="f";E4T+="ie";E4T+="l";E4T+="d";A6N="a";A6N+="u";A6N+="t";A6N+="o";Z3n="Relative Vo";Z3n+="latility";y2o.Studies.calculateRelativeVolatility=function(A4p,O8o){var R_t=h_yMd;var w7e,j4X,K8X,N$u,l2V,P$a,B6f,G9D;function s9P(K$7,d$2){if(K$7 + d$2 === 0){return 100;}R_t.L7E(150);return R_t.E9k(K$7,K$7,100,d$2);}R_t.H5S();O8o.days=Number(O8o.inputs["Smoothing Period"]);w7e=Number(O8o.inputs["STD Period"]);j4X=O8o.chart.scrubbed;if(j4X.length < O8o.days + w7e){O8o.error=!0;return;}K8X=O8o.inputs.Field;if(!K8X || K8X == "field"){K8X="Close";}O8o.std=new y2o.Studies.StudyDescriptor(O8o.name,"sdev",O8o.panel);O8o.std.chart=O8o.chart;O8o.std.days=w7e;O8o.std.startFrom=O8o.startFrom;O8o.std.inputs={Field:K8X,"Standard Deviations":1,Type:"ma"};O8o.std.outputs={_STD:null};y2o.Studies.calculateStandardDeviation(A4p,O8o.std);N$u=0;l2V=0;if(O8o.startFrom > ("1" | 0)){P$a="_";P$a+="avg";P$a+="G";P$a+=" ";N$u=j4X[O8o.startFrom - 1][P$a + O8o.name] || 0;l2V=j4X[O8o.startFrom - ("1" ^ 0)]["_avgL " + O8o.name] || 0;}for(var e0l=Math.max(O8o.startFrom,O8o.days);e0l < j4X.length;e0l++){B6f=j4X[e0l];R_t.E2c(5);G9D=j4X[R_t.e5e(1,e0l)];if(!B6f[K8X] && B6f[K8X] !== 0)continue;if(!G9D[K8X] && G9D[K8X] !== 0)continue;if(!B6f["_STD " + O8o.name] && B6f["_STD " + O8o.name] !== 0)continue;if(B6f[K8X] > G9D[K8X]){R_t.L7E(51);var r1h=R_t.E9k(13,10,13,9);N$u=(N$u * (O8o.days - r1h) + B6f["_STD " + O8o.name]) / O8o.days;R_t.L7E(192);var m89=R_t.e5e(1,8,5,5,8);l2V=l2V * (O8o.days - m89) / O8o.days;}else {R_t.L7E(11);var S$h=R_t.E9k(1259,7,15,12);l2V=(l2V * (O8o.days - S$h) + B6f["_STD " + O8o.name]) / O8o.days;R_t.E2c(5);var z1m=R_t.e5e(16,17);N$u=N$u * (O8o.days - z1m) / O8o.days;}B6f["Rel Vol " + O8o.name]=s9P(N$u,l2V);B6f["_avgG " + O8o.name]=N$u;B6f["_avgL " + O8o.name]=l2V;}O8o.zoneOutput="Rel Vol";};y2o.Studies.calculateHistoricalVolatility=function(g_Y,u3Q){var W7Z=h_yMd;var o3K,k35,I6l,v6q,i0C,o9v,h5e,U6s,L94,K3U,X4L,g7p;o3K="Da";o3K+="ys ";o3K+="Pe";o3K+="r Year";k35="Standard D";k35+="eviations";I6l=u3Q.chart.scrubbed;if(I6l.length < u3Q.days + 1){u3Q.error=!0;return;}v6q=u3Q.inputs.Field;if(!v6q || v6q == "field"){v6q="Close";}i0C=u3Q.inputs[k35];if(i0C < +"0"){i0C=1;}W7Z.E2c(66);var R9H=W7Z.e5e(3,80,16,85);o9v=R9H * Math.sqrt(l6n(u3Q.inputs[o3K])) * i0C;h5e=[];U6s=0;if(u3Q.startFrom > 1){L94="_sta";L94+="te ";W7Z.L7E(44);var T41=W7Z.E9k(6,10,6,31,6);U6s=I6l[u3Q.startFrom - T41][L94 + u3Q.name][0];h5e=I6l[u3Q.startFrom - 1]["_state " + u3Q.name][1].slice();}function l6n(j8s){var b5p,w2n;b5p="mo";b5p+="nt";b5p+="h";w2n="wee";w2n+="k";W7Z.J2s();if(isNaN(j8s)){j8s=365;}if(g_Y.layout.interval == "day"){return j8s;}else if(g_Y.layout.interval == w2n){return 52;}else if(g_Y.layout.interval == b5p){return 12;}return j8s;}for(var h2z=Math.max("1" - 0,u3Q.startFrom);h2z < I6l.length;h2z++){W7Z.L7E(5);K3U=I6l[W7Z.E9k(1,h2z)][v6q];if(K3U){X4L=Math.log(I6l[h2z][v6q] / K3U);h5e.push(X4L);U6s+=X4L;if(h2z >= u3Q.days){g7p=0;U6s/=u3Q.days;for(var B3g=0;B3g < h5e.length;B3g++){g7p+=Math.pow(h5e[B3g] - U6s,2);}U6s*=u3Q.days;U6s-=h5e.shift();I6l[h2z]["Result " + u3Q.name]=Math.sqrt(g7p / u3Q.days) * o9v;}}I6l[h2z]["_state " + u3Q.name]=[U6s,h5e.slice()];}};y2o.Studies.calculateVolatilityCone=function(M$2,R$C){var R7f=h_yMd;var k2E,G98,m6X,m6f,p6z,a$P,e5B,A4U,x9E,u8h,L6Y,z1Y,K2k,L4q,h_f,N1z,S5G,f$3,G45,K0g;k2E="Vola";k2E+="tility s";k2E+="ource";G98="Cl";G98+="ose";m6X="w";m6X+="e";m6X+="e";m6X+="k";m6f="Pro";m6f+="jection Bars";var {periodicity:I2r, interval:Y9Q}=M$2.layout;p6z=R$C.study?R$C.study.name:R$C.type;if(!y2o.ChartEngine.isDailyInterval(Y9Q)){R$C.error=`${p6z} is not supported for intraday periodicities`;return;}a$P=Number(R$C.inputs[m6f]);e5B=Number(R$C.inputs["Days Per Year"]);if(Y9Q == m6X){e5B=52;}if(Y9Q == "month"){R7f.E2c(5);e5B=R7f.e5e(0,"12");}R7f.H5S();a$P=Math.min(a$P,e5B);A4U=R$C.chart.scrubbed;x9E=R$C.inputs.Field;if(!x9E || x9E == "field"){x9E=G98;}R7f.E2c(12);var L5O=R7f.e5e(13,12);u8h=A4U.length - L5O;while(u8h > 0 && A4U[u8h][x9E] === undefined){u8h--;}L6Y=A4U[u8h].DT;z1Y=A4U[u8h][x9E];K2k=A4U[u8h].implVol;R7f.E2c(193);L4q=R7f.E9k(24,60,60,1000);h_f=R$C.inputs[k2E] === "historical";if(!h_f && K2k === undefined){R$C.error=`${p6z} Study: Implied Volatility source data is not available`;return;}R$C._graphs=[68,"95" >> 64].filter((v4z,p4P)=>{R7f.L7E(20);return R$C.inputs[`Probability ${v4z}% (${R7f.E9k("1",1,p4P)}σ)`];});N1z=[];if(!h_f && Y9Q === "day" && I2r === 1){S5G=A4U[u8h].expiryDates || Array.from(new Set(Object.values(A4U[u8h].optionChain || ({})).map(({expiration:K_s})=>{return +(K_s && K_s.value || K_s || 0);}).filter(d6Q=>{R7f.H5S();return d6Q;})));R$C._expiryDates=S5G.map(W3R=>{return {dt:new Date(W3R)};});}else {R$C._expiryDates=null;}for(var O3j=+"0";O3j <= a$P;O3j++){f$3="Probabili";f$3+="ty 95% (2\u03c3)";if(A4U[O3j + u8h])continue;N1z.push({[R$C.inputs["Probability 68% (1σ)"] && "Result 68% Upper " + R$C.name || undefined]:0,[R$C.inputs[f$3] && "Result 95% Upper " + R$C.name || undefined]:0});}R$C.appendFutureTicks(M$2,N1z);if(h_f){y2o.Studies.calculateHistoricalVolatility(M$2,R$C);}G45=h_f?A4U[u8h][`${"R" + "e" + "sul" + "t "}${R$C.name}`] / 100:K2k;K0g=function(D0h){var K8O,y_f,P5a;R7f.L7E(2);K8O=A4U[R7f.e5e(D0h,u8h)];y_f=e5B < 365?D0h:Math.round((K8O.DT - L6Y) / L4q);P5a=z1Y * G45 * Math.sqrt(y_f / e5B);var {DT:i1d}=K8O;R7f.H5S();R$C._graphs.forEach(function(d0S){var T0p,Z8b;var {quote:X$Z, diff:h3N, currentValue:P9c, sd:H9K}=this;R7f.E2c(20);T0p=R7f.e5e(d0S < 95?1:2,h3N,P9c);R7f.L7E(21);Z8b=R7f.e5e(d0S < 95?1:2,h3N,P9c);X$Z[`Result ${d0S}% Upper ${H9K.name}`]=T0p;X$Z[`Result ${d0S}% Lower ${H9K.name}`]=Z8b;R7f.J2s();(H9K._expiryDates || []).forEach(F$4=>{var T30;if(F$4.dt < L6Y){return;}R7f.H5S();T30=Math.abs(F$4.dt - i1d);if(T30 < L4q){F$4.Upper=T0p;F$4.Lower=Z8b;F$4.DT=i1d;}});},{quote:K8O,diff:P5a,currentValue:z1Y,sd:R$C});};for(var t5j=0;t5j <= a$P;t5j++){K0g(t5j);}R$C.outputMap={};R$C._graphs.forEach(X1r=>{var C2T,w2K,m2R;R$C.outputMap[`Result ${X1r}% Upper ${R$C.name}`]="Color";C2T=666030504;w2K=-643436372;m2R=2;for(var I2v=1;R7f.K8j(I2v.toString(),I2v.toString().length,99920) !== C2T;I2v++){R$C.outputMap[`Result ${X1r}% Lower ${R$C.name}`]="";m2R+=+"2";}if(R7f.K8j(m2R.toString(),m2R.toString().length,76950) !== w2K){R$C.outputMap[`Result ${X1r}% Lower ${R$C.name}`]="Color";}});};y2o.Studies.displayVolatilityCone=function(I8T,M6k,V5I){var C4k=h_yMd;var L1_,B_Z,l3X,U_4,o46;if(M6k.error){return;}C4k.H5S();L1_=y2o.Studies.determineColor(M6k.outputs.Color);B_Z=I8T.panels[M6k.panel];if(!B_Z || B_Z.hidden){return;}l3X=M6k.getYAxis(I8T);U_4={topColor:L1_,bottomColor:L1_,skipTransform:B_Z.name != M6k.chart.name,topAxis:l3X,bottomAxis:l3X,opacity:0.3};if(!M6k.highlight && I8T.highlightedDraggable){U_4.opacity*=0.3;}M6k._graphs.forEach(q_7=>{U_4.topBand=`Result ${q_7}% Upper ${M6k.name}`;U_4.bottomBand=`Result ${q_7}% Lower ${M6k.name}`;if(M6k.inputs.Fill){y2o.fillIntersecting(I8T,M6k.panel,U_4);}y2o.Studies.displayIndividualSeriesAsLine(I8T,M6k,B_Z,U_4.topBand,V5I);y2o.Studies.displayIndividualSeriesAsLine(I8T,M6k,B_Z,U_4.bottomBand,V5I);});if(M6k._expiryDates){o46=I8T.chart.context;I8T.startClip();o46.beginPath();M6k._expiryDates.forEach(k$Y=>{var a6X,k6c,i$X;if(!k$Y.DT){return;}a6X=I8T.pixelFromDate(k$Y.DT);k6c=I8T.pixelFromPrice(k$Y.Upper,B_Z);i$X=I8T.pixelFromPrice(k$Y.Lower,B_Z);I8T.plotLine({x0:a6X,x1:a6X,y0:k6c,y1:i$X,color:L1_,pattern:"dashed"});o46.moveTo(a6X,k6c);o46.arc(a6X,k6c,3,0,Math.PI * 2,![]);C4k.J2s();o46.moveTo(a6X,i$X);C4k.L7E(5);o46.arc(a6X,i$X,3,C4k.E9k(0,"0"),Math.PI * 2,!!"");o46.fillStyle=L1_;o46.fill();});I8T.endClip();}};y2o.Studies.studyLibrary=y2o.extend(y2o.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:y2o.Studies.calculateHistoricalVolatility,inputs:{Period:"10" | 0,Field:"field","Days Per Year":[+"252",365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:Z3n,range:"0 to 100",calculateFN:y2o.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":+"10","Smoothing Period":14},outputs:{"Rel Vol":A6N},centerline:50,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Volatility Cone":{name:"Volatility Cone",overlay:!!"1",calculateFN:y2o.Studies.calculateVolatilityCone,seriesFN:y2o.Studies.displayVolatilityCone,inputs:{"Volatility source":["historical","implied"],"Probability 68% (1σ)":!"","Probability 95% (2σ)":!"1","Projection Bars":20,"Days Per Year":["252" | 4,365],Field:E4T,Period:10,"Standard Deviations":"1" << 0,Fill:!0},outputs:{Color:"#3a627d"},panelSelect:![],attributes:{"Volatility source":{hidden:function(){return !y2o.Studies.impliedVolatilityAvailable;}},Field:{hidden:function(){var C9m;C9m="I";C9m+="m";C9m+="plied";return this.inputs["Volatility source"] === C9m;}},"Standard Deviations":{hidden:function(){var D9Z;D9Z="Im";D9Z+="plie";D9Z+="d";return this.inputs["Volatility source"] === D9Z;}},yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!![]},flippedEnabled:{hidden:!![]},underlayEnabled:{hidden:!![]}}}});}};w1=G0V=>{var U8Y,S3n;U8Y=typeof _CIQ !== "undefined"?_CIQ:G0V.CIQ;if(!U8Y.Studies){S3n="volumeProf";S3n+="ile feature requires first activating studies feature.";console.error(S3n);}else {U8Y.Studies.displayVolumeProfile=function(S91,X52,N9M){var O2S=h_yMd;var Q3_,w18,s8U,r3l,i7G,W5m,X9_,e1G,g9J,t0J,e79,E6G,y8c,L7A,b5Z,a7o,e6j,I88,p$E,c9w,M3D,b_6;Q3_="B";Q3_+="ar";Q3_+="s Co";Q3_+="lor";w18="Pric";w18+="e B";w18+="uckets";s8U="Wi";s8U+="dth";s8U+=" Perc";s8U+="entage";if(!S91 || !S91.chart.dataSet){return;}r3l="stx_volume_profile";i7G="stx-float-date";W5m=X52.getContext(S91);var {chart:r$I}=S91;var {panel:r3i}=r$I;var {yAxis:Z70}=r3i;var {flipped:c8j}=Z70;var {highValue:U2b, lowValue:a0r}=r$I;var {displayBorder:p2b = X52.inputs["Display Border"], displayVolume:Q1t = X52.inputs["Display Volume"], widthPercentage:c9u = X52.inputs[s8U], numberBars:w1p = X52.inputs[w18]}=X52.parameters;if(p2b !== ![]){p2b=!![];}if(Q1t !== !![]){Q1t=!!0;}if(!c9u || c9u < 0){c9u=0.25;}if(!w1p || w1p < "0" * 1){w1p=30;}w1p=Math.ceil(w1p);O2S.E2c(109);X9_=O2S.e5e(a0r,U2b,w1p);if(X9_ === 0){return;}e1G=[];if(c8j){[U2b,a0r]=[a0r,U2b];}g9J=c8j?-1:1;for(var f$c=a0r,n$R=0;n$R <= w1p;(f$c+=X9_ * g9J,n$R++)){e1G.push([f$c,0]);}function H0k(H6j){var L9e,C6K,I4M,n1D,X2L,i_A,X54,K$A,z0G,r7k,d7l,d5r,t0W,u7f,i$w,J9W;S91.canvasColor(r3l);W5m.beginPath();L9e=p1P=>{O2S.J2s();return Math.round(p1P);};C6K=o8g=>{return L9e(S91.pixelFromTransformedValue(o8g));};I4M=L9e(r$I.width * c9u);O2S.H5S();n1D=L9e(r$I.right) - 2.5;X2L=n1D;var [g1_]=e1G[0];for(var l9O=1;l9O < e1G.length;l9O++){var [U6j,R8O]=e1G[l9O];if(R8O){O2S.E2c(110);i_A=O2S.e5e(I4M,t0J,R8O);O2S.E2c(124);var M6J=O2S.e5e(1,2,4,4);X54=L9e(n1D - i_A) + (H6j?-("0.5" * M6J):0);O2S.L7E(4);var U_5=O2S.E9k(0,17,18);K$A=C6K(U6j) + (H6j?0.5:U_5);z0G=C6K(g1_) + (H6j?0.5:0);r7k=Math.max(K$A,Z70.top);d7l=Math.min(z0G,Z70.bottom);d5r=r7k <= Z70.bottom && d7l >= Z70.top;if(d5r){W5m.moveTo(n1D,d7l);W5m.lineTo(n1D,r7k);W5m.lineTo(X54,r7k);W5m.lineTo(X54,d7l);if(H6j){if(l9O == 1 || X2L > X54){W5m.lineTo(X2L,d7l);}}else {W5m.lineTo(n1D,d7l);if(Q1t){t0W=U8Y.condenseInt(R8O);O2S.E2c(5);u7f=O2S.e5e(r7k,d7l);if(c9w <= u7f - 2){i$w=void 0;try{({width:i$w}=W5m.measureText(t0W));}catch(q$u){i$w=+"0";}W5m.textBaseline="top";J9W=W5m.fillStyle;W5m.fillStyle=M3D;O2S.E2c(194);W5m.fillText(t0W,O2S.E9k("3",i$w,X54),O2S.e5e(c9w,2,2,r7k,u7f,O2S.L7E(195)));W5m.fillStyle=J9W;}}}}X2L=X54;}else {X2L=n1D;;}g1_=U6j;}if(!X52.highlight && S91.highlightedDraggable){W5m.globalAlpha*=0.3;}if(!H6j){W5m.fill();}W5m.strokeStyle=M3D;if(H6j){W5m.stroke();}W5m.closePath();}t0J=0;for(var L1L=0;L1L < N9M.length;L1L++){e79=N9M[L1L];if(e79 === null)continue;var {Volume:d50}=e79;if(!d50)continue;var {High:q9k, Low:q7_}=e79.transform || e79;E6G=[];y8c=e1G[0][+"0"];L7A=null;for(var p3Y=1;p3Y < e1G.length;p3Y++){L7A=e1G[p3Y][0];b5Z=q7_ >= y8c && q7_ <= L7A;a7o=q9k >= y8c && q9k <= L7A;e6j=q7_ < y8c && q9k > L7A;if(b5Z || a7o || e6j){E6G.push(p3Y);}y8c=L7A;}if(E6G.length){I88=d50 / E6G.length;for(var p5I=+"0";p5I < E6G.length;p5I++){p$E=e1G[E6G[p5I]][1]+=I88;if(p$E > t0J){t0J=p$E;}}}}if(t0J === 0){S91.displayErrorAsWatermark("chart",S91.translateIf("Not enough data to render the Volume Profile"));return;}S91.setStyle(r3l,"color",U8Y.Studies.determineColor(X52.outputs[Q3_]));c9w=S91.getCanvasFontSize(i7G);M3D=S91.canvasStyle(r3l).borderTopColor;b_6=p2b && !U8Y.isTransparent(M3D);S91.canvasFont(i7G,W5m);H0k();if(b_6){H0k(!!({}));}W5m.globalAlpha=+"1";};U8Y.Studies.studyLibrary=U8Y.extend(U8Y.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:!!({}),seriesFN:U8Y.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!!"1","Display Volume":![],"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:!![],attributes:{yaxisDisplayValue:{hidden:!!({})},panelName:{hidden:!""},flippedEnabled:{hidden:!0}}}});}};R7=k7t=>{var z4O,J5W,Q0d,m5J,C18,B57,c_0;z4O=typeof _CIQ !== "undefined"?_CIQ:k7t.CIQ;if(!z4O.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {J5W="n";J5W+="o";J5W+="n";J5W+="e";Q0d="Volume Rate";Q0d+=" of Change";m5J="fi";m5J+="el";m5J+="d";C18="a";C18+="uto";B57="m";B57+="a";c_0="Ne";c_0+="gati";c_0+="ve Volume In";c_0+="dex";z4O.Studies.calculateOnBalanceVolume=function(b7k,A4B){var B2x,C8J,k92,Z5b,A4d,r$8,m6z,P9S,D5u,L4Q;B2x="Min Tick Va";B2x+="lue";C8J="f";h_yMd.J2s();C8J+="ield";k92=A4B.inputs.Field;if(!k92 || k92 == C8J){k92="Close";}Z5b=A4B.inputs[B2x];A4d=!({});if(!Z5b && Z5b !== 0){A4d=!!1;Z5b=0;}r$8=A4B.chart.scrubbed;m6z=0;for(var j4a=A4B.startFrom;j4a < r$8.length;j4a++){P9S=r$8[j4a];if(!j4a || !P9S[k92])continue;if(r$8[j4a - 1][k92]){h_yMd.L7E(5);D5u=r$8[h_yMd.E9k(1,j4a)];}if(!D5u)continue;if(P9S[k92] - D5u[k92] > Z5b){m6z=1;}else if(D5u[k92] - P9S[k92] > Z5b){m6z=-1;}else if(A4d){m6z=0;}L4Q=D5u["Result " + A4B.name];if(!L4Q){L4Q=0;}L4Q+=P9S.Volume * m6z;P9S["Result " + A4B.name]=L4Q;}};z4O.Studies.calculatePriceVolumeTrend=function(D5M,H_T){var j3z=h_yMd;var v0y,C9d,e6I,t5D;v0y=H_T.inputs.Field;if(!v0y || v0y == "field"){v0y="Close";}C9d=H_T.chart.scrubbed;j3z.J2s();e6I=0;if(H_T.startFrom > 1){j3z.E2c(10);var b_I=j3z.e5e(2,3,1);e6I=C9d[H_T.startFrom - b_I]["Result " + H_T.name];}for(var e6u=Math.max(1,H_T.startFrom);e6u < C9d.length;e6u++){t5D="Res";t5D+="ul";t5D+="t ";if(!C9d[e6u][v0y])continue;if(!C9d[e6u - 1][v0y])continue;j3z.L7E(73);var O97=j3z.E9k(9,0,8,18);j3z.L7E(10);var s5n=j3z.E9k(17,6,3);e6I+=C9d[e6u].Volume * (C9d[e6u][v0y] - C9d[e6u - O97][v0y]) / C9d[e6u - s5n][v0y];C9d[e6u][t5D + H_T.name]=e6I;}};z4O.Studies.calculateVolumeIndex=function(V_7,a1R){var d_x=h_yMd;var F7w,q_M,l$o,K4C,E$I,Y4W,B03,V_c,X5T,H6q;F7w="Moving";F7w+=" Average T";F7w+="ype";q_M="In";q_M+="dex ";l$o="f";l$o+="i";l$o+="e";l$o+="ld";K4C=a1R.inputs.Field;if(!K4C || K4C == l$o){K4C="Close";}E$I=a1R.chart.scrubbed;if(E$I.length < a1R.days + 1){a1R.error=!![];return;}Y4W=100;if(a1R.startFrom > 1){d_x.E2c(0);var T5c=d_x.e5e(8,9,1);Y4W=E$I[a1R.startFrom - T5c][q_M + a1R.name];}for(var Z_B=Math.max(1,a1R.startFrom);Z_B < E$I.length;Z_B++){B03=E$I[Z_B][K4C];V_c=E$I[Z_B].Volume;if(B03 && typeof B03 == "object"){V_c=B03.Volume;B03=B03[a1R.subField];}d_x.E2c(5);X5T=E$I[d_x.e5e(1,Z_B)][K4C];H6q=E$I[Z_B - 1].Volume;if(X5T && typeof X5T == "object"){H6q=X5T.Volume;X5T=X5T[a1R.subField];}if(!B03)continue;if(!X5T)continue;if(a1R.type == "Pos Vol" && V_c > H6q || a1R.type == "Neg Vol" && V_c < H6q){d_x.E2c(9);Y4W*=d_x.e5e(B03,X5T);}E$I[Z_B]["Index " + a1R.name]=Y4W;}z4O.Studies.MA(a1R.inputs[F7w],a1R.days,"Index " + a1R.name,0,"MA",V_7,a1R);};z4O.Studies.studyLibrary=z4O.extend(z4O.Studies.studyLibrary,{"Neg Vol":{name:c_0,calculateFN:z4O.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":B57},outputs:{Index:C18,MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:z4O.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:z4O.Studies.calculateVolumeIndex,inputs:{Period:255,Field:m5J,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:z4O.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:z4O.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:Q0d,calculateFN:function(f60,x1j){h_yMd.J2s();if(z4O.Studies.calculateRateOfChange){z4O.Studies.calculateRateOfChange(f60,x1j);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");z4O.Studies.calculateRateOfChange=function(T86,z7N){};}},parameters:{init:{isVolume:!![]}}},"vol undr":{name:"Volume Underlay",underlay:!![],range:"0 to max",yAxis:{ground:!!1,initialMarginTop:0,position:J5W,heightFactor:0.25},seriesFN:z4O.Studies.createVolumeChart,calculateFN:z4O.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!!"1",removeFN:function(M7l,J4c){var P_Q;P_Q="layou";h_yMd.H5S();P_Q+="t";M7l.layout.volumeUnderlay=!!0;M7l.changeOccurred(P_Q);},attributes:{panelName:{hidden:!0}}}});}};r_=t0t=>{var f1X=h_yMd;var N1R,N8Q,E28,U$Y,r4D;N1R=typeof _CIQ !== "undefined"?_CIQ:t0t.CIQ;f1X.J2s();if(!N1R.Studies){console.error("vortex feature requires first activating studies feature.");}else {N8Q="0";N8Q+=".";N8Q+="0";N8Q+="1";E28="a";E28+="u";E28+="t";E28+="o";U$Y="#";U$Y+="0";U$Y+="0FF00";r4D="V";r4D+="ortex Indicato";r4D+="r";N1R.Studies.calculateVortex=function(Z3Q,N5N){var G1R,F1U,l36,Y6h,n2T,J47,i1M,E9U,y4v,x$W,E2r,A8F,l6k;f1X.H5S();G1R=N5N.chart.scrubbed;F1U=N5N.days;if(G1R.length < F1U + 1){N5N.error=!![];return;}l36={tr:"0" | 0,vmPlus:"0" << 64,vmMinus:0};if(N5N.startFrom > 1){Y6h="_";Y6h+="totals ";l36=N1R.clone(G1R[N5N.startFrom - 1][Y6h + N5N.name]);}for(var W4u=Math.max(N5N.startFrom,1);W4u < G1R.length;W4u++){n2T="_tota";n2T+="ls";n2T+=" ";J47=G1R[W4u];f1X.L7E(16);i1M=G1R[f1X.e5e("1",W4u,0)];E9U=Math.abs(J47.High - i1M.Low);y4v=Math.abs(J47.Low - i1M.High);x$W=Math.max(J47.High,i1M.Close) - Math.min(J47.Low,i1M.Close);l36.tr+=x$W;l36.vmPlus+=E9U;l36.vmMinus+=y4v;if(W4u > F1U){E2r="_VM";E2r+="Plu";E2r+="s ";f1X.L7E(5);l36.tr-=G1R[f1X.E9k(F1U,W4u)]["_True Range " + N5N.name];f1X.L7E(5);l36.vmPlus-=G1R[f1X.e5e(F1U,W4u)][E2r + N5N.name];f1X.L7E(5);l36.vmMinus-=G1R[f1X.e5e(F1U,W4u)]["_VMMinus " + N5N.name];}J47["_True Range " + N5N.name]=x$W;J47["_VMPlus " + N5N.name]=E9U;J47["_VMMinus " + N5N.name]=y4v;if(W4u >= F1U){A8F="-";A8F+="VI ";l6k="+";l6k+="V";l6k+="I ";J47[l6k + N5N.name]=l36.vmPlus / l36.tr;J47[A8F + N5N.name]=l36.vmMinus / l36.tr;}J47[n2T + N5N.name]=N1R.clone(l36);}};N1R.Studies.studyLibrary=N1R.extend(N1R.Studies.studyLibrary,{Vortex:{name:r4D,calculateFN:N1R.Studies.calculateVortex,centerline:1,outputs:{"+VI":U$Y,"-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:E28}},attributes:{studyOverBoughtValue:{min:1,step:N8Q},studyOverSoldValue:{max:"1" - 0,step:"0.01"}}}});}};e3=J8c=>{var R0f=h_yMd;var Q$o,m7k,v$a,g5q;R0f.H5S();Q$o=typeof _CIQ !== "undefined"?_CIQ:J8c.CIQ;if(!Q$o.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {m7k="#f";m7k+="f";m7k+="d";m7k+="0cf";v$a="#5f7c";v$a+="b";v$a+="8";g5q="Market Faci";g5q+="l";g5q+="itation Index";Q$o.Studies.calculateMFI=function(l$7,F_s){var s$Q,d$G,H0G,s1_,c2C,v8X,c0V;s$Q="_hig";s$Q+="h ";d$G=F_s.chart.scrubbed;s1_=0;c2C=F_s.inputs["Scale Factor"];if(!c2C){c2C=F_s.study.inputs["Scale Factor"];}v8X=Math.pow(10,Number(c2C));if(F_s.startFrom > 1){R0f.E2c(196);var H15=R0f.E9k(10,14,1,5,14);s1_=d$G[F_s.startFrom - H15][s$Q + F_s.name];}R0f.H5S();for(c0V=F_s.startFrom;c0V < d$G.length;c0V++){if(!d$G[c0V])continue;if(d$G[c0V].Volume){d$G[c0V][F_s.name + "_hist"]=H0G=v8X * (d$G[c0V].High - d$G[c0V].Low) / d$G[c0V].Volume;d$G[c0V]["_high " + F_s.name]=s1_=Math.max(s1_,H0G);}}F_s.outputMap={};F_s.outputMap[F_s.name + "_hist"]="";};Q$o.Studies.displayMFI=function(s0C,Y87,E8q){var b0n,z8T,k5z,y6H,b_l,a_b,K1J,m5Y,T8o,B1T,l7t,K0n,X4h,H$1,G8n;b0n="#C";b0n+="CCCCC";z8T="st";z8T+="x_his";z8T+="togram";k5z=s0C.panels[Y87.panel];y6H=Y87.getContext(s0C);b_l=Y87.getYAxis(s0C);a_b=b_l.flipped?b_l.top:b_l.bottom;R0f.L7E(197);var v4L=R0f.E9k(4,1,6,0);K1J=s0C.layout.candleWidth - v4L;if(K1J < 2){K1J=1;}m5Y=Q$o.Studies.determineColor(Y87.outputs.Green);T8o=Q$o.Studies.determineColor(Y87.outputs.Fade);B1T=Q$o.Studies.determineColor(Y87.outputs.Fake);l7t=Q$o.Studies.determineColor(Y87.outputs.Squat);s0C.canvasColor(z8T);if(!Y87.underlay){y6H.globalAlpha=1;}y6H.fillStyle=b0n;s0C.startClip(Y87.panel);if(!Y87.highlight && s0C.highlightedDraggable){R0f.E2c(5);y6H.globalAlpha*=R0f.e5e(0,"0.3");}for(var c4i=0;c4i < E8q.length;c4i++){K0n="_";K0n+="hist";X4h="_";X4h+="his";X4h+="t";H$1=E8q[c4i];R0f.L7E(5);G8n=E8q[R0f.e5e(1,c4i)];if(!G8n){G8n=s0C.getPreviousBar(s0C.chart,Y87.name + "_hist",c4i);}if(!H$1)continue;if(!G8n);else if(G8n[Y87.name + "_hist"] < H$1[Y87.name + "_hist"]){if(G8n.Volume < H$1.Volume){y6H.fillStyle=m5Y;}else if(G8n.Volume > H$1.Volume){y6H.fillStyle=B1T;}}else if(G8n[Y87.name + X4h] > H$1[Y87.name + "_hist"]){if(G8n.Volume < H$1.Volume){y6H.fillStyle=l7t;}else if(G8n.Volume > H$1.Volume){y6H.fillStyle=T8o;}}if(H$1.candleWidth){K1J=Math.floor(Math.max(1,H$1.candleWidth - 2));}y6H.fillRect(Math.floor(s0C.pixelFromBar(c4i,k5z.chart) - K1J / 2),Math.floor(a_b),Math.floor(K1J),Math.floor(s0C.pixelFromPrice(H$1[Y87.name + K0n],k5z,b_l) - a_b));}s0C.endClip();};Q$o.Studies.studyLibrary=Q$o.extend(Q$o.Studies.studyLibrary,{"W MFI":{name:g5q,seriesFN:Q$o.Studies.displayMFI,calculateFN:Q$o.Studies.calculateMFI,yAxis:{ground:!![]},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:v$a,Squat:m7k}}});}};O3={CIQ:J8,SplinePlotter:K4,timezoneJS:r4,$$:v5,$$$:q6};export {I as aggregations};export {N as drawingAdvanced};export {o as equationsAdvanced};export {F as highPerformanceMarkers};export {G as renderersAdvanced};export {X as accumulationDistribution};export {S as adx};export {Y as alligator};export {Q as aroon};export {E as atr};export {U as awesomeOscillator};export {Z as balanceOfPower};export {g as bollinger};export {W as cci};export {p3 as centerOfGravity};export {L7 as chaikin};export {B5 as chande};export {I2 as choppiness};export {l$ as comparisonStudies};export {m7 as coppock};export {y3 as darvasBox};export {j3 as detrended};export {I9 as disparity};export {N3 as easeOfMovement};export {j9 as ehlerFisher};export {K_ as elder};export {B1 as fractalChaos};export {O4 as goNoGo};export {n2 as highLowStudies};export {A0 as ichimoku};export {y4 as intradayMomentum};export {G$ as keltner};export {p_ as klinger};export {Q4 as linearRegression};export {Q5 as macd};export {D_ as massIndex};export {h7 as moneyFlow};export {B0 as movingAverages};export {b0 as parabolicSAR};export {c6 as pivotPoints};export {Z2 as prettyGoodOscillator};export {C6 as priceMomentumOscillator};export {U7 as priceVolumeOscillator};export {A8 as primeNumber};export {p9 as pring};export {r9 as projectedVolume};export {G4 as psychologicalLine};export {f0 as qstick};export {n7 as rainbow};export {W3 as randomWalk};export {Q2 as relativeVigor};export {l5 as rsi};export {C0 as schaffTrendCycle};export {u0 as shinohara};export {r6 as stochastics};export {i3 as supertrend};export {u9 as swingIndex};export {G9 as trendIntensity};export {X4 as trix};export {z8 as twiggsMoneyFlow};export {D4 as typicalPrice};export {E3 as ulcerIndex};export {Z6 as ultimateOscillator};export {H$ as valuationLines};export {n5 as volatilityIndex};export {w1 as volumeProfile};export {R7 as volumeStudies};export {r_ as vortex};export {e3 as williamsMFI};export {J8 as CIQ, K4 as SplinePlotter, r4 as timezoneJS, v5 as $$, q6 as $$$};if(typeof __TREE_SHAKE__ === a5doP || !__TREE_SHAKE__){O3.CIQ.activateImports(I,N,o,F,G,X,S,Y,Q,E,U,Z,g,W,p3,L7,B5,I2,l$,m7,y3,j3,I9,N3,j9,K_,B1,O4,n2,A0,y4,G$,p_,Q4,Q5,D_,h7,B0,b0,c6,Z2,C6,U7,A8,p9,r9,G4,f0,n7,W3,Q2,l5,C0,u0,r6,i3,u9,G9,X4,z8,D4,E3,Z6,H$,n5,w1,R7,r_,e3,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

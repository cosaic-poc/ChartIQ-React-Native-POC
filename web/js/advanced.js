/**
 *	8.7.0
 *	Generation date: 2022-06-10T18:37:49.036Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis e98f22c
 *	License type: trial
 *	Expiration date: "2022/12/31"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
F$OMy[528205]=(function(){var S8t=2;for(;S8t !== 9;){switch(S8t){case 5:var O6V;try{var C8d=2;for(;C8d !== 6;){switch(C8d){case 9:delete O6V['\x48\x24\x50\x39\u005f'];var S_P=Object['\x70\u0072\u006f\u0074\u006f\u0074\x79\u0070\x65'];C8d=7;break;case 3:throw "";C8d=9;break;case 4:C8d=typeof H$P9_ === '\x75\x6e\u0064\x65\x66\x69\x6e\u0065\u0064'?3:9;break;case 7:delete S_P['\u0049\x62\u004e\x41\x73'];C8d=6;break;case 2:Object['\u0064\x65\u0066\x69\u006e\x65\x50\x72\x6f\x70\x65\x72\x74\u0079'](Object['\x70\u0072\x6f\x74\x6f\u0074\u0079\x70\u0065'],'\x49\x62\u004e\u0041\u0073',{'\x67\x65\x74':function(){var S4X=2;for(;S4X !== 1;){switch(S4X){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});O6V=IbNAs;O6V['\x48\x24\u0050\x39\x5f']=O6V;C8d=4;break;}}}catch(i3d){O6V=window;}return O6V;break;case 1:return globalThis;break;case 2:S8t=typeof globalThis === '\u006f\x62\x6a\u0065\x63\u0074'?1:5;break;}}})();J_7Nfh(F$OMy[528205]);F$OMy[555407]=(function(V7U){return {F5DiA7z:function(){var o3f,h4S=arguments;switch(V7U){case 140:o3f=(h4S[1] + h4S[4] - h4S[2]) / h4S[0] + h4S[3];break;case 10:o3f=(h4S[3] * h4S[0] + h4S[2]) * h4S[1];break;case 58:o3f=h4S[0] * h4S[2] / h4S[1] + h4S[3];break;case 170:o3f=+h4S[3] * (h4S[2] / h4S[1] - +h4S[0]);break;case 151:o3f=-h4S[0] / h4S[4] * h4S[1] + h4S[2] + h4S[3];break;case 46:o3f=h4S[1] - h4S[0] / +h4S[2];break;case 1:o3f=h4S[1] + h4S[0];break;case 21:o3f=h4S[0] - h4S[1] * h4S[2] * h4S[3];break;case 129:o3f=-h4S[4] / h4S[2] / h4S[3] * h4S[0] + h4S[1];break;case 115:o3f=h4S[1] + h4S[2] + h4S[0] + h4S[3];break;case 98:o3f=(h4S[2] + h4S[1]) / (h4S[0] ^ h4S[3]);break;case 54:o3f=h4S[4] / h4S[1] * h4S[3] - h4S[2] - h4S[0];break;case 36:o3f=h4S[2] + (h4S[1] - h4S[0]);break;case 7:o3f=h4S[2] + h4S[0] - h4S[1];break;case 180:o3f=h4S[1] * (h4S[0] + h4S[2]);break;case 147:o3f=h4S[1] + h4S[2] - h4S[4] + h4S[0] - h4S[3];break;case 198:o3f=h4S[2] - h4S[1] - +h4S[0];break;case 95:o3f=h4S[1] + +h4S[0];break;case 12:o3f=h4S[1] % h4S[0] * h4S[2] + h4S[3];break;case 131:o3f=(h4S[2] + h4S[0]) * h4S[1];break;case 144:o3f=(h4S[0] - h4S[3]) * h4S[2] * h4S[1] - h4S[4];break;case 32:o3f=(-h4S[4] / h4S[1] + h4S[0]) / h4S[2] - h4S[3];break;case 49:o3f=(-h4S[3] + h4S[0]) * h4S[1] - h4S[2];break;case 161:o3f=h4S[3] * h4S[1] / (h4S[0] + h4S[2]);break;case 87:o3f=h4S[0] + h4S[2] + h4S[1];break;case 79:o3f=h4S[2] / (h4S[0] * h4S[1]);break;case 149:o3f=h4S[4] * h4S[2] * h4S[3] / h4S[0] - h4S[1];break;case 166:o3f=h4S[2] / h4S[0] - h4S[4] + h4S[3] + h4S[1];break;case 142:o3f=h4S[3] / h4S[4] / h4S[2] + h4S[1] + h4S[0];break;case 77:o3f=(h4S[1] - h4S[0]) / +h4S[2];break;case 40:o3f=h4S[0] >> h4S[1];break;case 19:o3f=h4S[2] / (h4S[1] / h4S[0]);break;case 123:o3f=-h4S[1] + h4S[2] - h4S[0];break;case 75:o3f=-h4S[2] * h4S[1] * h4S[3] + h4S[0];break;case 171:o3f=-h4S[0] - h4S[3] - h4S[1] + h4S[2];break;case 59:o3f=(h4S[4] - h4S[2]) * h4S[3] - h4S[0] - h4S[1];break;case 2:o3f=h4S[2] - h4S[1] + h4S[0];break;case 62:o3f=h4S[0] < h4S[1];break;case 193:o3f=h4S[3] + h4S[2] * h4S[0] + h4S[1];break;case 162:o3f=h4S[1] * h4S[2] * h4S[0];break;case 160:o3f=-h4S[1] / h4S[2] + h4S[0] - h4S[3];break;case 164:o3f=h4S[0] * h4S[4] / h4S[3] + h4S[2] - h4S[1];break;case 29:o3f=h4S[3] / h4S[1] - h4S[4] - h4S[0] + h4S[2];break;case 37:o3f=h4S[0] | h4S[1];break;case 191:o3f=(-h4S[0] + h4S[1] - h4S[4]) / h4S[2] + h4S[3];break;case 103:o3f=h4S[1] !== h4S[0];break;case 97:o3f=(h4S[0] * h4S[3] + h4S[2]) / h4S[1];break;case 11:o3f=h4S[2] / h4S[0] - h4S[1];break;case 15:o3f=h4S[1] * h4S[2] - h4S[0];break;case 175:o3f=h4S[3] / h4S[1] * h4S[0] + h4S[2];break;case 173:o3f=h4S[0] - h4S[1] - h4S[2] + h4S[3];break;case 116:o3f=h4S[0] / h4S[2] / h4S[1] - h4S[3];break;case 16:o3f=h4S[1] - +h4S[0];break;case 167:o3f=h4S[1] + h4S[2] * (h4S[3] - h4S[0]);break;case 81:o3f=h4S[2] - h4S[0] * (h4S[1] - h4S[3]);break;case 101:o3f=-h4S[4] * h4S[1] / h4S[2] - h4S[3] + h4S[0];break;case 183:o3f=h4S[4] + h4S[1] + h4S[3] - h4S[2] - h4S[0];break;case 38:o3f=h4S[0] * h4S[3] - h4S[1] - h4S[2];break;case 85:o3f=(h4S[0] - h4S[2] * h4S[1]) / h4S[3];break;case 86:o3f=h4S[0] * h4S[1] + h4S[2];break;case 110:o3f=h4S[2] - h4S[0] - h4S[1];break;case 33:o3f=-h4S[2] - h4S[0] + h4S[1];break;case 127:o3f=(h4S[1] - h4S[0] - h4S[2]) * h4S[3] + h4S[4];break;case 148:o3f=-h4S[2] * h4S[1] + h4S[3] - h4S[0] + h4S[4];break;case 69:o3f=(-h4S[1] - h4S[3]) * h4S[0] + h4S[2];break;case 93:o3f=h4S[1] + (h4S[0] - h4S[6]) / (h4S[4] - h4S[5]) * (h4S[2] - h4S[3]);break;case 157:o3f=(h4S[0] * h4S[3] + h4S[2]) / h4S[4] + h4S[1];break;case 132:o3f=h4S[1] + h4S[2] - h4S[4] - h4S[3] - h4S[0];break;case 4:o3f=h4S[1] / h4S[0];break;case 108:o3f=h4S[5] + h4S[2] + h4S[1] + h4S[7] + h4S[4] + h4S[6] + h4S[3] + h4S[0];break;case 124:o3f=(h4S[0] + h4S[1]) * h4S[3] - h4S[2];break;case 60:o3f=h4S[3] * h4S[0] * h4S[2] - h4S[1];break;case 24:o3f=h4S[1] ^ h4S[0];break;case 163:o3f=h4S[2] - h4S[4] / (h4S[1] + h4S[3] / h4S[0]);break;case 190:o3f=h4S[1] + h4S[2] - h4S[3] + h4S[0];break;case 63:o3f=(h4S[2] - h4S[1]) / (h4S[3] - h4S[0]);break;case 168:o3f=h4S[0] + h4S[1] - h4S[4] + h4S[2] + h4S[3];break;case 188:o3f=-h4S[1] + h4S[2] + h4S[0];break;case 130:o3f=h4S[2] + (h4S[0] ^ h4S[1]);break;case 18:o3f=-h4S[1] * h4S[3] - h4S[2] + h4S[0];break;case 13:o3f=h4S[2] + h4S[3] - h4S[0] - h4S[1];break;case 41:o3f=(h4S[2] * h4S[0] - h4S[4]) / h4S[1] + h4S[3];break;case 185:o3f=(-h4S[2] / h4S[4] + h4S[0]) / h4S[1] + h4S[3];break;case 134:o3f=h4S[5] * h4S[2] * h4S[6] + (+h4S[1] - h4S[3] * h4S[4]) * h4S[0];break;case 146:o3f=h4S[1] / h4S[3] - h4S[2] + h4S[0];break;case 114:o3f=(h4S[0] - (h4S[1] + h4S[3])) / h4S[2];break;case 189:o3f=(h4S[2] - h4S[4]) * h4S[0] * h4S[1] + h4S[3];break;case 55:o3f=h4S[4] + h4S[3] + h4S[2] + h4S[0] - h4S[1];break;case 106:o3f=h4S[0] % h4S[1];break;case 25:o3f=-h4S[1] - h4S[4] + h4S[3] - h4S[2] + h4S[0];break;case 141:o3f=h4S[2] - h4S[1] - h4S[0] - h4S[4] - h4S[3];break;case 53:o3f=h4S[1] / h4S[2] + h4S[0];break;case 64:o3f=(h4S[1] * h4S[4] + h4S[3]) / h4S[2] - h4S[0];break;case 156:o3f=h4S[3] * h4S[2] + h4S[0] - h4S[1];break;case 199:o3f=h4S[2] + (h4S[1] / h4S[4] - h4S[0] / h4S[3]);break;case 128:o3f=h4S[4] * h4S[2] / h4S[3] - h4S[0] + h4S[1];break;case 84:o3f=(h4S[3] * h4S[6] - h4S[0] * h4S[1]) / (h4S[2] * h4S[5] - h4S[4]);break;case 96:o3f=((h4S[3] - h4S[0]) * h4S[2] + h4S[4]) / h4S[1];break;case 88:o3f=h4S[2] + h4S[1] * h4S[0];break;case 17:o3f=h4S[0] << h4S[1];break;case 158:o3f=-h4S[0] - h4S[1];break;case 76:o3f=+h4S[0] / h4S[1];break;case 182:o3f=h4S[2] - h4S[3] / (+h4S[0] + h4S[1]);break;case 71:o3f=(h4S[4] - h4S[3]) / h4S[1] * h4S[2] - h4S[0];break;case 9:o3f=h4S[1] * h4S[0];break;case 111:o3f=h4S[1] / h4S[3] / h4S[2] + h4S[0];break;case 52:o3f=h4S[2] / h4S[1] - h4S[0] - h4S[3];break;case 133:o3f=h4S[0] * h4S[1] * h4S[2] / h4S[3];break;case 78:o3f=h4S[0] / +h4S[1];break;case 42:o3f=h4S[3] - h4S[2] - h4S[0] - h4S[1];break;case 195:o3f=h4S[0] == h4S[1];break;case 186:o3f=h4S[0] * -h4S[1];break;case 6:o3f=(h4S[2] + h4S[0]) / h4S[1];break;case 139:o3f=(h4S[1] + h4S[3]) * h4S[0] * h4S[4] - h4S[2];break;case 28:o3f=h4S[2] / h4S[3] + h4S[0] - h4S[1];break;case 102:o3f=h4S[1] * h4S[2] / h4S[0];break;case 121:o3f=(h4S[2] + h4S[3]) * h4S[0] / h4S[4] + h4S[1];break;case 152:o3f=h4S[0] * h4S[3] / h4S[2] - h4S[1];break;case 179:o3f=h4S[1] > h4S[0];break;case 184:o3f=+h4S[0] * h4S[1];break;case 8:o3f=(h4S[2] - h4S[0]) % h4S[1];break;case 120:o3f=h4S[0] * h4S[3] + h4S[2] - h4S[4] - h4S[1];break;case 94:o3f=-h4S[2] * h4S[4] - h4S[0] + h4S[3] + h4S[1];break;case 83:o3f=h4S[1] * (h4S[0] * h4S[3] + +h4S[2]) / h4S[4];break;case 74:o3f=h4S[1] * h4S[4] / h4S[2] * h4S[0] - h4S[3];break;case 155:o3f=h4S[0] + h4S[2] + h4S[4] - h4S[3] + h4S[1];break;case 197:o3f=h4S[0] * h4S[1] * +h4S[3] * +h4S[2];break;case 48:o3f=(h4S[4] - h4S[2]) / (h4S[3] - h4S[0]) > h4S[1];break;case 125:o3f=(h4S[0] - h4S[2]) / h4S[1] + h4S[3];break;case 50:o3f=(h4S[2] + h4S[4] - h4S[0]) * h4S[3] - h4S[1];break;case 92:o3f=h4S[4] * h4S[3] * h4S[0] * h4S[2] - h4S[1];break;case 107:o3f=-h4S[1] + h4S[2] - h4S[0] + h4S[3];break;case 174:o3f=(h4S[1] + h4S[0]) / h4S[4] / h4S[3] - h4S[2];break;case 23:o3f=h4S[2] / (h4S[0] / +h4S[1]);break;case 113:o3f=h4S[1] - h4S[4] + h4S[0] - h4S[2] - h4S[3];break;case 181:o3f=h4S[3] * h4S[1] * h4S[0] + h4S[4] - h4S[2];break;case 51:o3f=(h4S[2] + h4S[3]) / h4S[0] - h4S[1];break;case 14:o3f=(h4S[2] + h4S[3] + h4S[0] + h4S[1]) / +h4S[4];break;case 169:o3f=h4S[3] - h4S[1] + h4S[2] - h4S[0];break;case 56:o3f=h4S[0] * h4S[2] - h4S[1] + h4S[3] - h4S[4];break;case 0:o3f=h4S[1] - h4S[0];break;case 138:o3f=(h4S[3] + h4S[1] + h4S[0]) / h4S[2] + h4S[4];break;case 66:o3f=-h4S[1] * h4S[2] + h4S[0];break;case 119:o3f=-h4S[0] / h4S[1] + h4S[3] + h4S[4] - h4S[2];break;case 135:o3f=h4S[4] * h4S[3] + h4S[1] + h4S[2] - h4S[0];break;case 82:o3f=h4S[2] * (h4S[0] + h4S[3]) / h4S[1];break;case 70:o3f=(h4S[1] - h4S[3]) * (h4S[2] - h4S[4]) / (h4S[6] - h4S[0]) + h4S[5];break;case 80:o3f=h4S[3] + (h4S[2] - h4S[0]) / h4S[1];break;case 137:o3f=(h4S[1] + h4S[2]) / h4S[0] + h4S[3];break;case 154:o3f=h4S[2] / h4S[0] + h4S[1] + h4S[3];break;case 65:o3f=(h4S[0] - h4S[3]) * h4S[2] - h4S[1];break;case 20:o3f=h4S[2] + (h4S[1] ^ h4S[0]) * h4S[3];break;case 67:o3f=h4S[0] / h4S[3] * h4S[2] - h4S[1];break;case 89:o3f=(h4S[2] + h4S[3]) * h4S[1] - h4S[0] - h4S[4];break;case 177:o3f=h4S[0] / (h4S[3] * h4S[4]) <= h4S[1] << h4S[2];break;case 35:o3f=h4S[0] * h4S[1] < h4S[2];break;case 57:o3f=h4S[1] * h4S[4] / h4S[2] / h4S[3] - h4S[0];break;case 104:o3f=h4S[1] / (h4S[2] - h4S[0]);break;case 172:o3f=-h4S[2] / h4S[3] * h4S[0] + h4S[1];break;case 44:o3f=h4S[0] - h4S[1] / h4S[2];break;case 126:o3f=(h4S[0] - h4S[2]) * h4S[1] + h4S[3] + h4S[4];break;case 91:o3f=(h4S[0] - h4S[3]) * h4S[2] + h4S[1];break;case 30:o3f=h4S[3] / h4S[1] * h4S[2] + h4S[4] - h4S[0];break;case 143:o3f=h4S[2] * h4S[3] - h4S[0] - h4S[1] - h4S[4];break;case 22:o3f=(h4S[2] - h4S[3]) / h4S[4] + h4S[0] - h4S[1];break;case 61:o3f=(h4S[3] - h4S[0] - h4S[1]) * h4S[2] - h4S[4];break;case 153:o3f=(h4S[1] - h4S[4]) * h4S[0] - h4S[2] + h4S[3];break;case 27:o3f=(h4S[3] - h4S[1]) / (h4S[2] * h4S[0]);break;case 112:o3f=(h4S[2] - h4S[1] - h4S[0]) / h4S[3] + h4S[4];break;case 47:o3f=(h4S[2] - h4S[4]) / h4S[3] - h4S[0] + h4S[1];break;case 45:o3f=h4S[0] + h4S[2] / h4S[1];break;case 176:o3f=(h4S[2] % (h4S[0] << h4S[1]) + h4S[4]) * h4S[3];break;case 187:o3f=h4S[1] * (h4S[2] / h4S[0] - h4S[3]);break;case 105:o3f=h4S[1] / (h4S[0] >> h4S[2]);break;case 192:o3f=h4S[3] - h4S[0] * h4S[1] - h4S[2];break;case 178:o3f=h4S[2] - h4S[1] * h4S[0];break;case 150:o3f=h4S[1] / h4S[3] + h4S[4] - h4S[2] + h4S[0];break;case 26:o3f=h4S[1] - (h4S[2] - h4S[0]);break;case 159:o3f=-h4S[2] + h4S[0] - h4S[3] + h4S[1] + h4S[4];break;case 118:o3f=-h4S[1] + h4S[0] + h4S[2] - h4S[3];break;case 3:o3f=h4S[0] - h4S[3] + h4S[2] + h4S[1];break;case 68:o3f=(h4S[4] - h4S[2]) / h4S[1] * h4S[0] + h4S[3];break;case 196:o3f=h4S[1] + h4S[2] / h4S[3] + h4S[0];break;case 31:o3f=-h4S[0] + h4S[1] - h4S[3] - h4S[2];break;case 100:o3f=(h4S[0] - h4S[2]) / h4S[1];break;case 136:o3f=h4S[1] + h4S[3] + h4S[0] - h4S[2];break;case 165:o3f=+h4S[1] * (h4S[0] / h4S[2] - h4S[3]);break;case 99:o3f=(h4S[1] + h4S[3] * h4S[2]) / h4S[0];break;case 90:o3f=-(h4S[0] - h4S[3]) * h4S[1] + h4S[2];break;case 72:o3f=h4S[1] * h4S[2] / h4S[3] / h4S[0] + h4S[4];break;case 122:o3f=(h4S[3] + h4S[2]) / h4S[1] - h4S[0] + h4S[4];break;case 194:o3f=h4S[3] + h4S[2] * (h4S[1] ^ h4S[0]) + h4S[4];break;case 43:o3f=(-h4S[2] + h4S[1]) * h4S[0] + h4S[4] - h4S[3];break;case 145:o3f=(h4S[2] + h4S[1] - h4S[4]) / h4S[0] - h4S[3];break;case 117:o3f=(h4S[0] + h4S[2]) * h4S[4] + h4S[3] - h4S[1];break;case 5:o3f=(h4S[4] / h4S[2] - h4S[3]) / h4S[0] + h4S[1];break;case 73:o3f=h4S[3] / h4S[0] / h4S[1] + h4S[4] - h4S[2];break;case 109:o3f=h4S[1] * +h4S[0];break;case 39:o3f=-h4S[0] + h4S[1];break;case 34:o3f=(h4S[3] + h4S[4] + h4S[2]) * h4S[0] - h4S[1];break;}return o3f;},d4jSa5i:function(k9M){V7U=k9M;}};})();F$OMy[509946]=(function(){var X2h=2;for(;X2h !== 9;){switch(X2h){case 3:return u1e[5];break;case 2:var u1e=[arguments];u1e[6]=undefined;u1e[5]={};u1e[5].v4nmBpb=function(){var h0l=2;for(;h0l !== 90;){switch(h0l){case 75:v2s[31]={};v2s[31][v2s[34]]=v2s[18][v2s[29]][v2s[28]];v2s[31][v2s[74]]=v2s[60];v2s[99].u2KOs(v2s[31]);h0l=71;break;case 42:v2s[26].Y4j=['c0_'];v2s[26].n$r=function(){var b2a=function(){return ('x').toUpperCase();};var K4A=(/\u0058/).V2WkL(b2a + []);return K4A;};v2s[86]=v2s[26];v2s[23]={};v2s[23].Y4j=['c0_'];h0l=37;break;case 29:v2s[21].Y4j=['c0_'];v2s[21].n$r=function(){var j6i=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var t6m=!(/\x28\u005b/).V2WkL(j6i + []);return t6m;};v2s[97]=v2s[21];v2s[26]={};h0l=42;break;case 68:h0l=36?68:67;break;case 76:h0l=v2s[28] < v2s[18][v2s[29]].length?75:70;break;case 59:v2s[34]='F7u';h0l=58;break;case 77:v2s[28]=0;h0l=76;break;case 26:v2s[51].Y4j=['c0_'];v2s[51].n$r=function(){var u_W=function(){return ('a|a').split('|');};var n0b=!(/\u007c/).V2WkL(u_W + []);return n0b;};h0l=24;break;case 71:v2s[28]++;h0l=76;break;case 67:u1e[6]=53;return 80;break;case 32:v2s[93].n$r=function(){var J$f=typeof B0z7Iw === 'function';return J$f;};v2s[25]=v2s[93];v2s[21]={};h0l=29;break;case 18:v2s[1]={};v2s[1].Y4j=['I1Y'];v2s[1].n$r=function(){var D4d=false;var b0H=[];try{for(var T_R in console){b0H.u2KOs(T_R);}D4d=b0H.length === 0;}catch(J2Z){}var n6S=D4d;return n6S;};v2s[3]=v2s[1];v2s[51]={};h0l=26;break;case 58:v2s[78]=0;h0l=57;break;case 70:v2s[78]++;h0l=57;break;case 14:v2s[8].Y4j=['c0_'];v2s[8].n$r=function(){var q1u=function(){return unescape('%3D');};var D8W=(/\x3d/).V2WkL(q1u + []);return D8W;};v2s[4]=v2s[8];v2s[2]={};h0l=10;break;case 1:h0l=u1e[6]?5:4;break;case 24:v2s[80]=v2s[51];v2s[14]={};v2s[14].Y4j=['I1Y'];h0l=21;break;case 4:v2s[9]=[];v2s[6]={};v2s[6].Y4j=['I1Y'];v2s[6].n$r=function(){var m5X=typeof z8Wzb === 'function';return m5X;};v2s[5]=v2s[6];v2s[8]={};h0l=14;break;case 49:v2s[9].u2KOs(v2s[97]);v2s[9].u2KOs(v2s[39]);v2s[9].u2KOs(v2s[4]);v2s[9].u2KOs(v2s[25]);v2s[9].u2KOs(v2s[80]);v2s[99]=[];v2s[72]='u24';h0l=63;break;case 37:v2s[23].n$r=function(){var d5c=function(){return atob('PQ==');};var D0S=!(/\x61\u0074\x6f\x62/).V2WkL(d5c + []);return D0S;};v2s[39]=v2s[23];v2s[9].u2KOs(v2s[27]);v2s[9].u2KOs(v2s[5]);v2s[9].u2KOs(v2s[86]);h0l=51;break;case 51:v2s[9].u2KOs(v2s[3]);v2s[9].u2KOs(v2s[7]);h0l=49;break;case 63:v2s[87]='t3M';v2s[29]='Y4j';v2s[74]='T9P';v2s[88]='n$r';h0l=59;break;case 21:v2s[14].n$r=function(){var p8O=typeof a7Wmw4 === 'function';return p8O;};v2s[27]=v2s[14];v2s[93]={};v2s[93].Y4j=['I1Y'];h0l=32;break;case 56:v2s[18]=v2s[9][v2s[78]];try{v2s[60]=v2s[18][v2s[88]]()?v2s[72]:v2s[87];}catch(T3V){v2s[60]=v2s[87];}h0l=77;break;case 2:var v2s=[arguments];h0l=1;break;case 10:v2s[2].Y4j=['c0_'];v2s[2].n$r=function(){var m8m=function(){return encodeURIComponent('%');};var k6V=(/\u0032\u0035/).V2WkL(m8m + []);return k6V;};v2s[7]=v2s[2];h0l=18;break;case 69:h0l=(function(X32){var Q3w=2;for(;Q3w !== 22;){switch(Q3w){case 10:Q3w=Z_1[2][v2s[74]] === v2s[72]?20:19;break;case 12:Z_1[6].u2KOs(Z_1[2][v2s[34]]);Q3w=11;break;case 5:return;break;case 26:Q3w=Z_1[3] >= 0.5?25:24;break;case 4:Z_1[5]={};Q3w=3;break;case 8:Z_1[8]=0;Q3w=7;break;case 18:Z_1[9]=false;Q3w=17;break;case 23:return Z_1[9];break;case 14:Q3w=typeof Z_1[5][Z_1[2][v2s[34]]] === 'undefined'?13:11;break;case 6:Z_1[2]=Z_1[0][0][Z_1[8]];Q3w=14;break;case 13:Z_1[5][Z_1[2][v2s[34]]]=(function(){var d5$=2;for(;d5$ !== 9;){switch(d5$){case 4:N3Z[8].t=0;return N3Z[8];break;case 2:var N3Z=[arguments];N3Z[8]={};N3Z[8].h=0;d5$=4;break;}}}).F1EJK7(this,arguments);Q3w=12;break;case 24:Z_1[8]++;Q3w=16;break;case 15:Z_1[4]=Z_1[6][Z_1[8]];Z_1[3]=Z_1[5][Z_1[4]].h / Z_1[5][Z_1[4]].t;Q3w=26;break;case 17:Z_1[8]=0;Q3w=16;break;case 1:Q3w=Z_1[0][0].length === 0?5:4;break;case 11:Z_1[5][Z_1[2][v2s[34]]].t+=true;Q3w=10;break;case 3:Z_1[6]=[];Z_1[8]=0;Q3w=8;break;case 19:Z_1[8]++;Q3w=7;break;case 20:Z_1[5][Z_1[2][v2s[34]]].h+=true;Q3w=19;break;case 2:var Z_1=[arguments];Q3w=1;break;case 25:Z_1[9]=true;Q3w=24;break;case 7:Q3w=Z_1[8] < Z_1[0][0].length?6:18;break;case 16:Q3w=Z_1[8] < Z_1[6].length?15:23;break;}}})(v2s[99])?68:67;break;case 57:h0l=v2s[78] < v2s[9].length?56:69;break;case 5:return 22;break;}}};X2h=3;break;}}})();F$OMy.X6L=function(){return typeof F$OMy[555407].d4jSa5i === 'function'?F$OMy[555407].d4jSa5i.apply(F$OMy[555407],arguments):F$OMy[555407].d4jSa5i;};F$OMy[33270]="pEd";F$OMy.P12=function(){return typeof F$OMy[370198].d9i4G2M === 'function'?F$OMy[370198].d9i4G2M.apply(F$OMy[370198],arguments):F$OMy[370198].d9i4G2M;};function J_7Nfh(n$j){function A$K(k79){var G3f=2;for(;G3f !== 5;){switch(G3f){case 2:var T41=[arguments];return T41[0][0].RegExp;break;}}}function J_V(R4e){var X$f=2;for(;X$f !== 5;){switch(X$f){case 2:var Q57=[arguments];return Q57[0][0].Array;break;}}}function v_N(H7T){var Y3S=2;for(;Y3S !== 5;){switch(Y3S){case 2:var c3b=[arguments];return c3b[0][0];break;}}}var q_x=2;for(;q_x !== 80;){switch(q_x){case 56:F$t[58]+=F$t[38];F$t[16]=F$t[69];F$t[16]+=F$t[86];F$t[16]+=F$t[55];q_x=75;break;case 14:F$t[2]="";F$t[2]="Wz";F$t[9]="f";F$t[6]="";q_x=10;break;case 10:F$t[6]="z8";F$t[79]="";F$t[79]="L";F$t[86]="";F$t[29]="Wk";q_x=16;break;case 75:F$t[82]=F$t[26];F$t[82]+=F$t[29];F$t[82]+=F$t[79];F$t[97]=F$t[6];q_x=71;break;case 89:F$t[32]+=F$t[8];q_x=88;break;case 85:y5X(A$K,"test",F$t[94],F$t[82]);q_x=84;break;case 88:var y5X=function(V1o,Q_C,Z26,O9Q){var I0T=2;for(;I0T !== 5;){switch(I0T){case 2:var E_a=[arguments];x8m(F$t[0][0],E_a[0][0],E_a[0][1],E_a[0][2],E_a[0][3]);I0T=5;break;}}};q_x=87;break;case 3:F$t[3]="";F$t[4]="9";F$t[3]="__r";F$t[8]="wop";F$t[5]="b";q_x=14;break;case 84:y5X(J_V,"push",F$t[94],F$t[16]);q_x=83;break;case 83:y5X(v_N,F$t[58],F$t[33],F$t[27]);q_x=82;break;case 87:y5X(p1t,"charCodeAt",F$t[94],F$t[32]);q_x=86;break;case 36:F$t[85]="7";F$t[46]="F1";F$t[37]="EJK";F$t[94]=1;q_x=51;break;case 16:F$t[86]="";F$t[86]="O";F$t[69]="";F$t[69]="";q_x=25;break;case 86:y5X(v_N,F$t[23],F$t[33],F$t[97]);q_x=85;break;case 2:var F$t=[arguments];F$t[1]="";F$t[1]="dual";F$t[7]="esi";q_x=3;break;case 64:F$t[63]=F$t[34];F$t[63]+=F$t[34];F$t[63]+=F$t[44];F$t[27]=F$t[78];q_x=60;break;case 21:F$t[38]="act";F$t[73]="";F$t[73]="_abstr";F$t[39]="";F$t[39]="Wmw";F$t[78]="";F$t[78]="a7";q_x=29;break;case 47:F$t[59]+=F$t[85];F$t[90]=F$t[50];F$t[90]+=F$t[57];F$t[90]+=F$t[88];q_x=64;break;case 82:y5X(v_N,F$t[63],F$t[33],F$t[90]);q_x=81;break;case 29:F$t[88]="";F$t[80]="4";F$t[34]="_";F$t[44]="optimize";q_x=42;break;case 51:F$t[33]=3;F$t[33]=0;F$t[59]=F$t[46];F$t[59]+=F$t[37];q_x=47;break;case 81:y5X(D6p,"apply",F$t[94],F$t[59]);q_x=80;break;case 71:F$t[97]+=F$t[2];F$t[97]+=F$t[5];F$t[23]=F$t[3];F$t[23]+=F$t[7];F$t[23]+=F$t[1];F$t[32]=F$t[9];F$t[32]+=F$t[4];q_x=89;break;case 60:F$t[27]+=F$t[39];F$t[27]+=F$t[80];F$t[58]=F$t[34];F$t[58]+=F$t[73];q_x=56;break;case 42:F$t[88]="7Iw";F$t[50]="";F$t[50]="B";F$t[57]="0z";F$t[85]="";F$t[85]="";q_x=36;break;case 25:F$t[26]="V2";F$t[69]="u2K";F$t[38]="";F$t[55]="s";q_x=21;break;}}function D6p(I1o){var H6T=2;for(;H6T !== 5;){switch(H6T){case 2:var x9L=[arguments];return x9L[0][0].Function;break;}}}function p1t(f9I){var i9R=2;for(;i9R !== 5;){switch(i9R){case 2:var L0R=[arguments];return L0R[0][0].String;break;}}}function x8m(M4m,M9t,u8T,f6N,U4y){var i8G=2;for(;i8G !== 13;){switch(i8G){case 7:Z_x[4]=true;Z_x[4]=false;try{var m8b=2;for(;m8b !== 13;){switch(m8b){case 7:Z_x[6].get=function(){var q4v=2;for(;q4v !== 14;){switch(q4v){case 2:var W87=[arguments];W87[2]="";W87[2]="d";W87[3]="undefi";q4v=3;break;case 3:W87[1]="ne";W87[8]=W87[3];W87[8]+=W87[1];W87[8]+=W87[2];q4v=6;break;case 6:return typeof Z_x[5][Z_x[0][2]] == W87[8]?undefined:Z_x[5][Z_x[0][2]];break;}}};Z_x[6].enumerable=Z_x[4];try{var U3E=2;for(;U3E !== 3;){switch(U3E){case 2:Z_x[9]=Z_x[3];Z_x[9]+=Z_x[7];Z_x[9]+=Z_x[1];Z_x[0][0].Object[Z_x[9]](Z_x[5],Z_x[0][4],Z_x[6]);U3E=3;break;}}}catch(h0S){}m8b=13;break;case 9:Z_x[5][Z_x[0][4]]=Z_x[5][Z_x[0][2]];Z_x[6].set=function(I1t){var A0D=2;for(;A0D !== 5;){switch(A0D){case 1:Z_x[5][Z_x[0][2]]=c0e[0][0];A0D=5;break;case 2:var c0e=[arguments];A0D=1;break;}}};m8b=7;break;case 3:return;break;case 4:m8b=Z_x[5].hasOwnProperty(Z_x[0][4]) && Z_x[5][Z_x[0][4]] === Z_x[5][Z_x[0][2]]?3:9;break;case 2:Z_x[6]={};Z_x[8]=(1,Z_x[0][1])(Z_x[0][0]);Z_x[5]=[Z_x[8],Z_x[8].prototype][Z_x[0][3]];m8b=4;break;}}}catch(O_u){}i8G=13;break;case 2:var Z_x=[arguments];Z_x[1]="";Z_x[1]="y";Z_x[7]="";Z_x[7]="opert";Z_x[3]="";Z_x[3]="definePr";i8G=7;break;}}}}F$OMy[169003]=false;F$OMy[528205].d2KK=F$OMy;F$OMy[50171]=true;F$OMy.d9F=function(){return typeof F$OMy[509946].v4nmBpb === 'function'?F$OMy[509946].v4nmBpb.apply(F$OMy[509946],arguments):F$OMy[509946].v4nmBpb;};F$OMy.w65=function(){return typeof F$OMy[555407].F5DiA7z === 'function'?F$OMy[555407].F5DiA7z.apply(F$OMy[555407],arguments):F$OMy[555407].F5DiA7z;};F$OMy.Q0B=function(){return typeof F$OMy[370198].d9i4G2M === 'function'?F$OMy[370198].d9i4G2M.apply(F$OMy[370198],arguments):F$OMy[370198].d9i4G2M;};F$OMy[44182]="yDs";F$OMy[3904]="dnB";F$OMy.o$D=function(){return typeof F$OMy[555407].F5DiA7z === 'function'?F$OMy[555407].F5DiA7z.apply(F$OMy[555407],arguments):F$OMy[555407].F5DiA7z;};function F$OMy(){}F$OMy.X6U=function(){return typeof F$OMy[555407].d4jSa5i === 'function'?F$OMy[555407].d4jSa5i.apply(F$OMy[555407],arguments):F$OMy[555407].d4jSa5i;};F$OMy.b5b=function(){return typeof F$OMy[509946].v4nmBpb === 'function'?F$OMy[509946].v4nmBpb.apply(F$OMy[509946],arguments):F$OMy[509946].v4nmBpb;};F$OMy[370198]=(function(){var F6I=function(Q_$,e8x){var n9h=e8x & 0xffff;var s4s=e8x - n9h;return (s4s * Q_$ | 0) + (n9h * Q_$ | 0) | 0;},w53=function(u7d,r0h,u68){var n5l=0xcc9e2d51,H3g=0x1b873593;var O2N=u68;var R4P=r0h & ~0x3;for(var d4L=0;d4L < R4P;d4L+=4){var u$P=u7d.f9wop(d4L) & 0xff | (u7d.f9wop(d4L + 1) & 0xff) << 8 | (u7d.f9wop(d4L + 2) & 0xff) << 16 | (u7d.f9wop(d4L + 3) & 0xff) << 24;u$P=F6I(u$P,n5l);u$P=(u$P & 0x1ffff) << 15 | u$P >>> 17;u$P=F6I(u$P,H3g);O2N^=u$P;O2N=(O2N & 0x7ffff) << 13 | O2N >>> 19;O2N=O2N * 5 + 0xe6546b64 | 0;}u$P=0;switch(r0h % 4){case 3:u$P=(u7d.f9wop(R4P + 2) & 0xff) << 16;case 2:u$P|=(u7d.f9wop(R4P + 1) & 0xff) << 8;case 1:u$P|=u7d.f9wop(R4P) & 0xff;u$P=F6I(u$P,n5l);u$P=(u$P & 0x1ffff) << 15 | u$P >>> 17;u$P=F6I(u$P,H3g);O2N^=u$P;}O2N^=r0h;O2N^=O2N >>> 16;O2N=F6I(O2N,0x85ebca6b);O2N^=O2N >>> 13;O2N=F6I(O2N,0xc2b2ae35);O2N^=O2N >>> 16;return O2N;};return {d9i4G2M:w53};})();var Z,W,Y,F,X,U,N,S,g,Q,I,E,G,o,T_,r3,Q3,Z$,X2,e$,D3,u1,w7,D$,W5,W7,P0,k0,w0,l0,N$,C9,o4,d5,X1,A0,G1,I8,G$,S5,k6,O9,K2,m$,D5,S9,K7,w4,O$,B7,E$,A2,I5,P9,G3,h$,B6,O0,t3,r6,k$,U9,r7,M9,v8,y8,P2,O3,k2,b6;import {CIQ as J0, SplinePlotter as w8, timezoneJS as t1, $$ as Y3, $$$ as E0} from "../js/standard.js";Z=x5=>{var M0o=F$OMy;var i7;i7=typeof _CIQ !== "undefined"?_CIQ:x5.CIQ;i7.Renderer.Aggregations=function(o3){var C5;this.construct(o3);C5=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";this.isAggregation=!0;M0o.d9F();C5.highlightable=!({});if(C5.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");C5.invalid=!0;}};i7.inheritsFrom(i7.Renderer.Aggregations,i7.Renderer.OHLC,!!"");i7.Renderer.Aggregations.requestNew=function(o8,a2){var q8,n0,o1f,a7;q8=null;for(var w5=0;w5 < o8.length;w5++){n0=o8[w5];switch(n0){case "kagi":case "pandf":q8=n0;break;case "heikinashi":case "linebreak":case "rangebars":case "renko":o1f="c";o1f+="andle";q8=o1f;break;default:return null;}}M0o.b5b();if(q8 === null){return null;}a7=new i7.Renderer[q8 == "candle"?"OHLC":"Aggregations"]({params:i7.extend(a2,{type:q8})});a7.isAggregation=!!({});return a7;};i7.Renderer.Aggregations.prototype.drawIndividualSeries=function(L0,P$){var h3f,T$,e0,W7r,D1Z,k3J,Z$4;h3f="p";h3f+="a";h3f+="nd";h3f+="f";if(P$.invalid){return;}M0o.b5b();T$=this.stx;e0={colors:[]};if(P$.type == "kagi"){T$.drawKagiSquareWave(L0.panel,"stx_kagi_up","stx_kagi_down",P$);e0.colors.push(T$.getCanvasColor("stx_kagi_up"));e0.colors.push(T$.getCanvasColor("stx_kagi_down"));}else if(P$.type == h3f){W7r="s";W7r+="t";W7r+="x_pandf_down";D1Z="stx_pandf_d";D1Z+="own";k3J="s";k3J+="tx_pandf_up";Z$4="stx_pan";Z$4+="df_up";T$.drawPointFigureChart(L0.panel,Z$4,"X",P$);e0.colors.push(T$.getCanvasColor(k3J));T$.drawPointFigureChart(L0.panel,D1Z,"525.63" * 1 === 8740?("J",7.72e+3):"O",P$);e0.colors.push(T$.getCanvasColor(W7r));}return e0;};i7.ChartEngine.prototype.setAggregationType=function(B5){var m7H,j$;M0o.b5b();m7H="l";m7H+="a";m7H+="yo";m7H+="ut";this.layout.chartType="candle";j$=this.chart;if(j$.baseline.userLevel !== !!""){j$.baseline.userLevel=j$.baseline.defaultLevel;j$.panel.yAxis.scroll=i7.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=B5;this.setMainSeriesRenderer();if(j$.canvas){this.createDataSet();this.draw();}this.changeOccurred(m7H);};i7.ChartEngine.prototype.drawKagiSquareWave=function(D0,c9,I7,D_){var z1,I4,M2,h4,M9G,B3e,n5g,j4,P1,l3,X4,S2,Q2,m4,A9,m_,Q_,v$,L$,P7,Y_,L3,B9,h7;z1=D0.chart;this.startClip(D0.name);I4=z1.dataSegment;M2=z1.context;h4=D0.yAxis;if(h4.flipped){M0o.X6U(0);M9G=M0o.w65(0,"1340361148");B3e=-1632706286;n5g=2;for(var X7s=1;M0o.P12(X7s.toString(),X7s.toString().length,"14115" ^ 0) !== M9G;X7s++){j4=c9;c9=I7;I7=j4;n5g+=+"2";}if(M0o.Q0B(n5g.toString(),n5g.toString().length,41624) !== B3e){j4=c9;c9=I7;I7=j4;}}P1=this.canvasStyle(c9);l3=this.canvasStyle(I7);this.canvasColor(c9);if(D_.border_color_up){M2.strokeStyle=D_.border_color_up;}X4=M2.strokeStyle;this.canvasColor(I7);M0o.b5b();if(D_.border_color_down){M2.strokeStyle=D_.border_color_down;}S2=M2.strokeStyle;Q2=1;if(P1.width && parseInt(P1.width,10) <= 25){Q2=Math.max(+"1",i7.stripPX(P1.width));}m4=1;if(l3.width && parseInt(l3.width,"10" >> 32) <= 25){m4=Math.max(1,i7.stripPX(l3.width));}if(this.highlightedDraggable){M2.globalAlpha*=+"0.3";}M2.beginPath();M0o.X6U(0);var W6h=M0o.w65(15,16);A9=z1.dataSet.length - z1.scroll - W6h;m_=!![];Q_=null;v$=null;L$=null;M0o.X6U(0);var C3w=M0o.o$D(8,9);P7=D0.left - 0.5 * this.layout.candleWidth + this.micropixels - C3w;for(var V5=0;V5 <= I4.length;V5++){P7+=this.layout.candleWidth;Y_=I4[V5];if(!Y_)continue;if(!Y_.cache || z1.pixelCacheExpired){Y_.cache={};}if(Y_.projection)break;L$=Y_.kagiTrend;if(h4.flipped){L$*=-+"1";}if(Y_.transform && z1.transformFunc){L3=Y_.kagiPrevOpen;Y_=Y_.transform;Y_.kagiPrevOpen=z1.transformFunc(this,z1,L3);}B9=Y_.cache;M0o.X6L(1);h7=M0o.w65(V5,A9);if(h7 < D0.cacheLeft || h7 > D0.cacheRight || !B9.kagiOpen){B9.kagiOpen=h4.semiLog?h4.height * (1 - (Math.log(Math.max(Y_.Open,0)) / Math.LN10 - h4.logLow) / h4.logShadow):(h4.high - Y_.Open) * h4.multiplier;B9.kagiClose=h4.semiLog?h4.height * (1 - (Math.log(Math.max(Y_.Close,0)) / Math.LN10 - h4.logLow) / h4.logShadow):(h4.high - Y_.Close) * h4.multiplier;if(h4.flipped){B9.kagiOpen=h4.bottom - B9.kagiOpen;B9.kagiClose=h4.bottom - B9.kagiClose;}else {B9.kagiOpen+=h4.top;B9.kagiClose+=h4.top;}}v$=B9.kagiClose;Q_=h4.semiLog?h4.height * (1 - (Math.log(Math.max(Y_.kagiPrevOpen,0)) / Math.LN10 - h4.logLow) / h4.logShadow):(h4.high - Y_.kagiPrevOpen) * h4.multiplier;if(h4.flipped){Q_=h4.bottom - Q_;}else {Q_+=h4.top;}if(m_){M2.moveTo(A9 >= 0?D0.left:Math.floor(P7),B9.kagiOpen);M2.lineTo(Math.floor(P7),B9.kagiOpen);if(B9.kagiClose < B9.kagiOpen){M2.strokeStyle=X4;M2.lineWidth=Q2;}else {M2.strokeStyle=S2;M2.lineWidth=m4;}}else {if(L$ != -1 && B9.kagiClose < Q_ && Q_ < B9.kagiOpen){M2.lineTo(Math.floor(P7),Q_);M2.stroke();M2.beginPath();M2.moveTo(Math.floor(P7),Q_);M2.strokeStyle=X4;M2.lineWidth=Q2;}else if(L$ != 1 && B9.kagiClose > Q_ && Q_ > B9.kagiOpen){M2.lineTo(Math.floor(P7),Q_);M2.stroke();M2.beginPath();M2.moveTo(Math.floor(P7),Q_);M2.strokeStyle=S2;M2.lineWidth=m4;}}M2.lineTo(Math.floor(P7),B9.kagiClose);if(V5 + +"1" < I4.length){M2.lineTo(Math.floor(P7 + this.layout.candleWidth),B9.kagiClose);}m_=!({});}M2.stroke();this.endClip();M2.lineWidth=1;z1.pixelCacheExpired=!({});};i7.ChartEngine.prototype.drawPointFigureChart=function(H7,X8,h_,I$){var i2,Y7,j_,W3,b$,S6,R8,o6,N9,x6,b1,u9,r_,w$,x8,X7,Q8,t5,F4,S1,I0,E1,J$,k4,L4,K$;i2=H7.chart;this.startClip(H7.name);Y7=i2.dataSegment;j_=i2.context;this.canvasColor(X8);if(h_ == "X" && I$.border_color_up){j_.strokeStyle=I$.border_color_up;}else if(h_ == (5670 <= (8684,492)?"I":"O") && I$.border_color_down){j_.strokeStyle=I$.border_color_down;}W3=this.canvasStyle(X8);M0o.b5b();b$=parseInt(W3.paddingTop,10);S6=parseInt(W3.paddingBottom,10);R8=parseInt(W3.paddingLeft,10);o6=parseInt(W3.paddingRight,10);if(W3.width && parseInt(W3.width,10) <= 25){j_.lineWidth=Math.max(+"1",i7.stripPX(W3.width));}else {j_.lineWidth=+"2";}if(this.highlightedDraggable){j_.globalAlpha*=0.3;}j_.beginPath();N9=this.chart.state.aggregation.box;x6=i2.dataSet.length - i2.scroll - +"1";b1=H7.yAxis;w$=N9 * b1.multiplier;function l$(c0,g5,n3){M0o.d9F();M0o.X6U(1);j_.moveTo(M0o.w65(R8,c0),M0o.w65(x8,S6,n3,M0o.X6U(2)));M0o.X6L(0);j_.lineTo(M0o.w65(o6,g5),M0o.w65(n3,x8,b$,w$,M0o.X6U(3)));M0o.X6L(1);j_.moveTo(M0o.o$D(R8,c0),M0o.w65(n3,x8,b$,w$,M0o.X6L(3)));M0o.X6L(0);j_.lineTo(M0o.w65(o6,g5),M0o.w65(x8,S6,n3,M0o.X6U(2)));}M0o.X6U(4);x8=M0o.w65(2,w$);X7=this.layout.candleWidth;M0o.X6U(5);var I3V=M0o.w65(1,13,1,14,2);Q8=H7.left - X7 + this.micropixels - "1" * I3V;for(var d$=0;d$ < Y7.length;d$++){Q8+=X7;t5=Y7[d$];if(!t5)continue;if(!t5.cache || i2.pixelCacheExpired){t5.cache={};}if(t5.projection)break;F4=t5.pfOpen;S1=t5.pfClose;I0=t5.pfTrend;E1=t5.pfStepBack;if(t5.transform && i2.transformFunc){t5=t5.transform;F4=i2.transformFunc(this,i2,F4);S1=i2.transformFunc(this,i2,S1);}J$=t5.cache;M0o.X6U(1);k4=M0o.o$D(d$,x6);if(k4 < H7.cacheLeft || k4 > H7.cacheRight || !J$.pfOpen){if(b1.flipped){J$.pfOpen=b1.bottom - (b1.high - F4) * b1.multiplier;J$.pfClose=b1.bottom - (b1.high - S1) * b1.multiplier;}else {J$.pfOpen=(b1.high - F4) * b1.multiplier + b1.top;J$.pfClose=(b1.high - S1) * b1.multiplier + b1.top;}}L4=Math.round(Q8);M0o.X6U(1);K$=Math.round(M0o.o$D(X7,Q8));u9=Math.abs(Math.round((S1 - F4) / N9));r_=J$.pfOpen;if(h_ == E1){if(E1 == (396 !== ("5703" ^ 0)?(348.26,+"9705") > ("4882" | 2,433.88)?"X":("D",0xfa2):![])){M0o.X6U(0);l$(L4,K$,M0o.w65(w$,r_));}else if(E1 == "O"){M0o.X6L(1);J2(L4,K$,M0o.o$D(w$,r_));}}if(h_ == I0){for(;u9 >= +"0";u9--){if(h_ == (798.03 > 990.97?(!!({}),"h"):"X")){l$(L4,K$,r_);r_-=b1.flipped?-w$:w$;}else if(h_ == ((1850,"5156" - 0) <= 2400?7.48e+3:"O")){J2(L4,K$,r_);r_+=b1.flipped?-w$:w$;}}}}j_.stroke();this.endClip();j_.lineWidth=1;i2.pixelCacheExpired=!({});function J2(U7,P_,H8){var e8a,w5z,C0f;M0o.X6L(6);j_.moveTo(M0o.o$D(P_,2,U7),M0o.o$D(b$,x8,H8,M0o.X6L(7)));e8a=-1799399086;w5z=926349840;C0f=+"2";for(var A9z=1;M0o.P12(A9z.toString(),A9z.toString().length,20266) !== e8a;A9z++){M0o.X6U(0);j_.bezierCurveTo(M0o.w65(o6,P_),M0o.w65(b$,x8,H8,M0o.X6U(8)),M0o.w65(o6,P_,M0o.X6U(9)),M0o.o$D(w$,x8,S6,H8,M0o.X6U(10)),M0o.o$D(P_,0,U7,M0o.X6L(11)),M0o.o$D(w$,H8,S6,x8,M0o.X6L(12)));C0f+=2;}if(M0o.Q0B(C0f.toString(),C0f.toString().length,59239) !== w5z){M0o.X6L(1);j_.bezierCurveTo(M0o.w65(o6,P_),M0o.o$D(b$,x8,H8,M0o.X6L(7)),M0o.w65(o6,P_,M0o.X6U(1)),M0o.w65(S6,x8,H8,w$,M0o.X6L(13)),M0o.w65(P_,2,U7,M0o.X6U(6)),M0o.w65(S6,x8,H8,w$,M0o.X6U(13)));}M0o.X6U(0);j_.bezierCurveTo(M0o.w65(R8,U7),M0o.o$D(S6,x8,H8,w$,M0o.X6U(13)),M0o.o$D(R8,U7,M0o.X6U(0)),M0o.o$D(b$,x8,H8,M0o.X6U(7)),M0o.w65(P_,2,U7,M0o.X6L(6)),M0o.w65(b$,x8,H8,M0o.X6L(7)));}};i7.ChartEngine.calculateAggregation=function(b7,k1,U1,p3){var P2N,C_g,O3H,M7,p4,G5C,V9I,g9G;P2N="re";P2N+="n";P2N+="ko";C_g="he";C_g+="ik";C_g+="e";C_g+="nashi";O3H="he";O3H+="ik";O3H+="inash";O3H+="i";p4=b7.layout;if([O3H,C_g].indexOf(k1) > -1){M7=i7.calculateHeikinAshi(b7,U1,p3);}else if(k1 == "rangebars"){M7=i7.calculateRangeBars(b7,U1,p4.rangebars,p3);}else if(k1 == "kagi"){M7=i7.calculateKagi(b7,U1,p4.kagi,p3);}else if(k1 == "linebreak"){M7=i7.calculateLineBreak(b7,U1,p4.priceLines,p3);}else if(k1 == P2N){G5C=-2047239554;V9I=-1735175550;M0o.X6U(0);g9G=M0o.o$D(0,"2");for(var v_V=1;M0o.P12(v_V.toString(),v_V.toString().length,37794) !== G5C;v_V++){M7=i7.calculateRenkoBars(b7,U1,p4.renko,p3);g9G+=2;}if(M0o.Q0B(g9G.toString(),g9G.toString().length,61096) !== V9I){M7=i7.calculateRenkoBars(b7,U1,p4.renko,p3);}}else if(k1 == "pandf"){M7=i7.calculatePointFigure(b7,U1,p4.pandf,p3);}return M7;};i7.calculateHeikinAshi=function(R7,A_,q3){var S$,c7,j2,z_,h9,o$,a$,e1,T0,n5,V_;if(!A_.length){return A_;}if(!q3){q3=[];}S$=[];for(var M3=0;M3 < A_.length;M3++){c7=A_[M3];if(!c7)continue;j2=S$[S$.length - +"1"];if(!j2 && !M3){M0o.X6L(7);var i87=M0o.w65(19,29,11);j2=q3[q3.length - "1" * i87];}if(!j2){j2=c7;}z_=c7.Close;h9=c7.Open;o$=c7.High;a$=c7.Low;e1=j2.Open;h9=h9 || h9 === "0" - 0?h9:z_;o$=o$ || o$ === 0?o$:z_;a$=a$ || a$ === 0?a$:z_;e1=e1 || e1 === ("0" ^ 0)?e1:j2.Close;T0=(e1 + j2.Close) / +"2";M0o.X6U(14);n5=M0o.o$D(a$,z_,h9,o$,"4");V_={DT:c7.DT,displayDate:c7.displayDate,Date:c7.Date,Open:T0,Close:n5,High:Math.max(o$,Math.max(T0,n5)),Low:Math.min(a$,Math.min(T0,n5)),Volume:c7.Volume,iqPrevClose:j2.Close};for(var k_ in c7){if(!V_[k_] && V_[k_] !== 0){V_[k_]=c7[k_];}}S$.push(V_);}M0o.b5b();return S$;};function R4(E9){return E9 > 0.001?Number(E9.toFixed(4)):E9;}i7.calculateKagi=function(Z6,K1,b5,T4){var l9,E8,s7,D8,s8,C3,m8,J3;if(!K1.length){return K1;}if(!T4){T4=[];}l9=Z6.layout;E8=Z6.chart;b5=parseFloat(b5);E8.defaultChartStyleConfig.kagi=i7.ChartEngine.isDailyInterval(l9.interval)?"4" | 4:0.4;if(isNaN(b5) || b5 <= 0){b5=E8.defaultChartStyleConfig.kagi;if(i7.Market.Symbology.isForexSymbol(E8.symbol)){b5/=4;}if(l9.kagi !== null){l9.kagi=null;Z6.changeOccurred("layout");}}b5/=100;s7=[];M0o.X6U(15);var e4m=M0o.o$D(134,15,9);D8=T4[T4.length - e4m];s8=D8?D8.DT:0;for(var Y1=0;Y1 < K1.length;Y1++){C3=K1[Y1];if(!C3)continue;if(!D8){M0o.X6L(16);D8=K1[M0o.o$D("1",Y1)];}if(!D8)continue;m8=D8.Open || D8.Open === ("0" | 0)?D8.Open:D8.Close;if(m8 > D8.Close){if(C3.Close > D8.Close * (("1" >> 64) + b5)){C3.Open=D8.Close;}else {if(D8.Close > C3.Close){D8.Close=C3.Close;}D8.Volume+=C3.Volume;if(Y1 < K1.length - 1)continue;}}else if(m8 < D8.Close){if(C3.Close < D8.Close * (1 - b5)){C3.Open=D8.Close;}else {if(D8.Close < C3.Close){D8.Close=C3.Close;}D8.Volume+=C3.Volume;if(Y1 < K1.length - ("1" << 32))continue;}}else {D8.Close=C3.Close;D8.Volume+=C3.Volume;if(Y1 < K1.length - 1)continue;}J3={DT:D8.DT,displayDate:D8.displayDate,Date:D8.Date,Open:D8.Open,Close:D8.Close,High:Math.max(D8.Open,D8.Close),Low:Math.min(D8.Open,D8.Close),Volume:D8.Volume,iqPrevClose:D8.iqPrevClose};for(var B1 in D8){if(!J3[B1] && J3[B1] !== 0){J3[B1]=D8[B1];}}if(s7.length){J3.kagiPrevOpen=s7[s7.length - 1].Open;}else {J3.kagiPrevOpen=J3.Open;}if(J3.Close > J3.kagiPrevOpen && J3.kagiPrevOpen > J3.Open){M0o.X6L(17);J3.kagiTrend=M0o.w65("1",64);}else if(J3.Close < J3.kagiPrevOpen && J3.kagiPrevOpen < J3.Open){J3.kagiTrend=-1;}if(s8 < J3.DT){s7.push(J3);}D8=C3;E8.currentQuote={Close:C3.Close};}return s7;};i7.calculateLineBreak=function(Y2,o7,T1,S_){var a9,A7,N6A,o$k,M_H,O7,a3,C6,x$,Z0,B$,u6,i1,I9,C$,r8,y_;if(!o7.length){return o7;}if(!S_){S_=[];}a9=Y2.layout;A7=Y2.chart;A7.defaultChartStyleConfig.priceLines=3;T1=parseInt(T1,10);if(isNaN(T1) || T1 <= 0){T1=A7.defaultChartStyleConfig.priceLines;if(a9.priceLines !== null){a9.priceLines=null;Y2.changeOccurred("layout");}}else if(T1 > 10){N6A=-1586046751;o$k=2109316714;M_H=2;for(var y1I=1;M0o.Q0B(y1I.toString(),y1I.toString().length,3404) !== N6A;y1I++){a9.priceLines=T1=10;M_H+=2;}if(M0o.P12(M_H.toString(),M_H.toString().length,15535) !== o$k){a9.priceLines=T1=63;}}O7=S_.slice(-T1);a3=O7.length;C6=0;a:for(var W6=+"0";W6 < o7.length;W6++){x$=o7[W6];if(!x$)continue;C6+=x$.Volume;M0o.X6L(2);var k3v=M0o.w65(4,5,2);Z0=O7[O7.length - k3v];if(!Z0){Z0={Open:x$.Open,Close:x$.Open,High:x$.Open,Low:x$.Open};}B$=Z0.Close;u6=Z0.High;i1=Z0.Low;I9=Z0.Open;u6=u6 || u6 === 0?u6:B$;i1=i1 || i1 === 0?i1:B$;I9=I9 || I9 === +"0"?I9:B$;C$={DT:x$.DT,displayDate:x$.displayDate,Date:x$.Date,Close:x$.Close,Volume:C6,iqPrevClose:B$};A7.currentQuote={Close:x$.Close};if(x$.Close > B$ && Z0.Close > I9){;}else if(x$.Close < B$ && Z0.Close < I9){;}else if(x$.Close > u6){for(r8=2;r8 <= T1;r8++){y_=O7[O7.length - r8];if(y_ && x$.Close <= y_.High){continue a;}}}else if(x$.Close < i1){for(r8=+"2";r8 <= T1;r8++){y_=O7[O7.length - r8];if(y_ && x$.Close >= y_.Low){continue a;}}}else continue;if(x$.Close < Z0.Close){C$.Open=Math.min(I9,B$);}else {C$.Open=Math.max(I9,B$);}C$.Low=Math.min(C$.Open,C$.Close);C$.High=Math.max(C$.Open,C$.Close);for(var e7 in x$){if(!C$[e7] && C$[e7] !== 0){C$[e7]=x$[e7];}}O7.push(C$);C6=+"0";}return O7.slice(a3);};i7.getMaxRenkoBarsPerRecord=function(u_){return 200;};i7.calculateRenkoBars=function(p9,u4,f5,V3,w6){var z8,V4,t4,e2,x4,l2,A8,N_,p8,J_,T2,c6,R0,N4,n_,e9,t_,f9,i0,t6,J6,a6,i9,C2,f$,z$;if(!u4.length){return [];}if(!V3){V3=[];}z8=p9.layout;V4=p9.chart;t4=f5;e2=V4.state.aggregation;if(!e2){e2=V4.state.aggregation={};}x4=Math.min(300,u4.length);if(!e2.minMax){e2.minMax=p9.determineMinMax(u4.slice(u4.length - x4),["Close","High","Low"]);}M0o.X6U(18);var D_I=M0o.w65(52,6,15,6);l2=e2.minMax[D_I] - e2.minMax[0];function z9(d7,p7){var J9;d7=Number(d7.toFixed(8));M0o.b5b();p7=Number(p7.toFixed(8));J9={DT:n_.DT,displayDate:n_.displayDate,Date:n_.Date,Open:d7,Close:p7,High:Math.max(d7,p7),Low:Math.min(d7,p7),Volume:0,iqPrevClose:d7 != p7?d7:null};for(var V2 in n_){if(!J9[V2] && J9[V2] !== 0){J9[V2]=n_[V2];}}c6.push(J9);}A8=p9.panels[V4.name].height;if(!A8){return [];}N_=V3.length > 0;M0o.X6U(19);p8=R4(M0o.o$D(30,A8,l2));J_=i7.getMaxRenkoBarsPerRecord(V4.symbolObject);if(w6){T2=u4.reduce((A$,R_)=>{var Z7;M0o.b5b();Z7=Math.abs(R_.Close - R_.iqPrevClose);return Z7 > A$?Z7:A$;},0);M0o.X6L(4);e2.minAutoRenko=R4(M0o.w65(J_,T2));}V4.defaultChartStyleConfig.renko=e2.minAutoRenko || p8;if(f5 === null || isNaN(f5) || f5 <= ("0" ^ 0)){f5=V4.defaultChartStyleConfig.renko;if(z8.renko !== null){z8.renko=null;p9.changeOccurred("layout");}}else {M0o.X6L(4);f5=Math.max(f5,M0o.w65(A8,l2));if(z8.renko !== f5){z8.renko=f5;p9.changeOccurred("layout");}}c6=[];R0=null;N4=null;n_=null;if(V3.length){M0o.X6L(7);var k7s=M0o.w65(14,15,2);e9=V3[V3.length - k7s];R0=e9.Low - f5;N4=e9.High + f5;}for(var w3=0;w3 < u4.length;w3++){t_=u4[w3];if(!t_)continue;if(!R0 && !N4){f9=t_.Open || t_.Open === 0?t_.Open:t_.Close;i0=Math.floor(f9 / f5) * f5;t6=isNaN(i0)?f9:i0;M0o.X6U(0);R0=M0o.o$D(f5,t6);M0o.X6U(1);N4=M0o.o$D(f5,t6);}M0o.X6L(9);J6=M0o.o$D(J_,f5);a6=!z8.renko;i9=R0 - t_.Close;C2=t_.Close - N4;f$=i9 > J6 || C2 > J6;z$=a6 && f$ && !w6 && !N_;if(z$){return i7.calculateRenkoBars(p9,u4,t4,V3,!"");}while(!!({})){if(!n_){n_=t_;}if(t_.Close <= R0){M0o.X6U(1);z9(M0o.o$D(f5,R0),R0);M0o.X6L(20);N4=M0o.o$D(0,"2",R0,f5);R0-=f5;n_=null;}else if(t_.Close >= N4){M0o.X6U(0);z9(M0o.o$D(f5,N4),N4);M0o.X6L(21);R0=M0o.o$D(N4,"2",1,f5);N4+=f5;n_=null;}else break;}V4.currentQuote=t_;}if(R0 < u4[u4.length - 1].Close && R0 + f5 > u4[u4.length - 1].Close){M0o.X6L(1);z9(M0o.w65(f5,R0),u4[u4.length - 1].Close);}else if(N4 > u4[u4.length - 1].Close && N4 - f5 < u4[u4.length - 1].Close){M0o.X6U(0);z9(M0o.o$D(f5,N4),u4[u4.length - 1].Close);}return c6;};M0o.d9F();i7.calculateRangeBars=function(a1,Z9,a0,T9){var R5T,V9,V6,Y9,g6,i3,x_,Z4Y,x_E,K0,l7,Q7,O2,d3,Q0,m6,o0,M4,Q9,I3,N2,R6,q7;R5T="Hi";function J7(w1,G7){var f9K;M0o.d9F();while(1){f9K="u";f9K+="ndefi";f9K+="ned";if(!Q0){Q0=w1;}if(l7 < G7){l7=Math.min(G7,Q7);M0o.X6L(0);O2=Math.max(O2,M0o.o$D(a0,l7));if(G7 < Q7)break;}else if(l7 >= G7){l7=Math.max(G7,O2);M0o.X6L(1);Q7=Math.min(Q7,M0o.o$D(a0,l7));if(G7 > O2)break;}if(typeof l7 == f9K){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}L9(l7);Q0=null;X9();}}R5T+="g";R5T+="h";function X9(){M0o.X6L(1);Q7=M0o.o$D(a0,l7);M0o.X6L(0);O2=M0o.w65(a0,l7);d3=l7;}if(!Z9.length){return Z9;}if(!T9){T9=[];}V9=a1.layout;V6=a1.chart;function L9(C7){M0o.b5b();var q2;q2={DT:Q0.DT,displayDate:Q0.displayDate,Date:Q0.Date,Open:Number(d3.toFixed(8)),Close:Number(C7.toFixed(8)),High:Number(Q7.toFixed(8)),Low:Number(O2.toFixed(8)),Volume:0};q2.iqPrevClose=q2.Open;for(var U6 in Q0){if(!q2[U6] && q2[U6] !== 0){q2[U6]=Q0[U6];}}K0.push(q2);}Y9=V6.state.aggregation;if(!Y9){Y9=V6.state.aggregation={};}g6=Math.min(300,Z9.length);if(!Y9.minMax){Y9.minMax=a1.determineMinMax(Z9.slice(Z9.length - g6),["Close",R5T,"Low"]);}M0o.X6U(22);var p19=M0o.w65(20,20,12,11,1);i3=Y9.minMax[p19] - Y9.minMax[+"0"];x_=a1.panels[V6.name].height;if(!x_){return [];}M0o.X6U(23);V6.defaultChartStyleConfig.range=R4(M0o.w65(x_,"30",i3));if(a0 === null || isNaN(a0) || a0 < 0){a0=V6.defaultChartStyleConfig.range;if(V9.range !== null){Z4Y="l";Z4Y+="ayo";Z4Y+="ut";V9.range=null;a1.changeOccurred(Z4Y);}}else {M0o.X6L(4);a0=Math.max(a0,M0o.w65(x_,i3));if(V9.range !== a0){x_E="l";x_E+="ayout";V9.range=a0;a1.changeOccurred(x_E);}}K0=[];l7=null;Q7=null;O2=null;M0o.d9F();d3=null;Q0=null;for(var n1=0;n1 < Z9.length;n1++){m6=Z9[n1];if(!m6)continue;M0o.X6U(0);o0=Z9[M0o.o$D(1,n1)];if(!n1){if(!o0){M0o.X6U(2);var f45=M0o.w65(3,5,3);o0=T9[T9.length - f45];}if(o0){l7=o0.Close;if(l7 || l7 === 0){X9();}}}if(!o0)continue;M4=m6.Close;Q9=m6.Open;I3=m6.High;N2=m6.Low;if(!M4 && M4 !== 0)continue;Q9=Q9 || Q9 === "0" * 1?Q9:M4;I3=I3 || I3 === 0?I3:M4;N2=N2 || N2 === 0?N2:M4;if(!l7 && l7 !== ("0" | 0)){R6=Math.floor(Q9 / a0) * a0;l7=isNaN(R6)?Q9:R6;X9();J7(o0,Q9);}if(n1){J7(m6,Q9);}if(I3 - Q9 < Q9 - N2){if(I3){J7(m6,I3);}if(N2){J7(m6,N2);}}else {if(N2){J7(m6,N2);}if(I3){J7(m6,I3);}}J7(m6,M4);if(n1 == Z9.length - 1 && M4 != d3){q7=Q7;M0o.X6U(1);Q7=M0o.o$D(a0,O2);M0o.X6L(0);O2=M0o.w65(a0,q7);L9(M4);}}return K0;};i7.calculatePointFigure=function(W_,l8,m2,Q$){var I_,s0,v4,Z8,W9,O6b,H2,y9k,F4r,N7u,W0d,h1,B2,j5,K6,s_,L8,g_,c5,B_,c_,C_,c4,E_;if(!l8.length){return l8;}if(!Q$){Q$=[];}I_=W_.layout;s0=W_.chart;v4=s0.state.aggregation;if(!v4){v4=s0.state.aggregation={};}s0.defaultChartStyleConfig.box=1;s0.defaultChartStyleConfig.reversal=3;function t8(Q1,R3,I1,f4,s9,N5,W2,Z3,m3){return {DT:Q1.DT,Date:Q1.Date,pfOpen:Z3,pfClose:m3,Open:R3,Close:s9,High:I1,Low:f4,Volume:N5,iqPrevClose:W2};}if(!m2){m2={};}function m9(r5,P6){for(var N7 in r5){if(!P6[N7] && P6[N7] !== 0){P6[N7]=r5[N7];}}return P6;}Z8=m2.box;if(!Z8){if(I_.pandf){if(I_.pandf.box !== null){I_.pandf.box=null;W_.changeOccurred("layout");}}Z8=s0.defaultChartStyleConfig.box;W9=l8[l8.length - ("1" >> 64)].Close;if(W9){if(W9 < 0.25){Z8=0.0625;}else if(W9 < "1" >> 0){Z8=0.125;}else if(W9 < 5){Z8=0.25;}else if(W9 < "20" * 1){Z8=0.5;}else if(W9 < 100){Z8=+"1";}else if(W9 < 200){Z8=2;}else if(W9 < 500){Z8=4;}else if(W9 < +"1000"){Z8=5;}else if(W9 < 25000){Z8=50;}else {M0o.X6L(0);Z8=M0o.w65(0,"500");}}if(!i7.ChartEngine.isDailyInterval(I_.interval)){M0o.X6L(24);Z8/=M0o.o$D(0,"10");}if(i7.Market.Symbology.isForexSymbol(s0.symbol)){if(W9){if(W9 < 1){Z8=0.001;}else if(W9 < 2){Z8=+"0.002";}else if(W9 < +"50"){Z8=0.02;}else if(W9 < 200){Z8=0.2;}}if(i7.ChartEngine.isDailyInterval(I_.interval)){Z8*=10;}}s0.defaultChartStyleConfig.box=Z8;}Z8=parseFloat(Z8);if(isNaN(Z8) || Z8 <= 0){if(I_.pandf){if(I_.pandf.box !== null){O6b="la";O6b+="y";O6b+="ou";O6b+="t";I_.pandf.box=null;W_.changeOccurred(O6b);}}s0.defaultChartStyleConfig.box=Z8=1;}M0o.b5b();H2=Math.ceil(parseFloat(m2.reversal));if(H2 > 0 && H2 > m2.reversal){y9k="la";y9k+="yo";y9k+="u";y9k+="t";I_.pandf.reversal=H2;W_.changeOccurred(y9k);}else if(isNaN(H2) || H2 <= 0){if(I_.pandf){if(I_.pandf.reversal !== null){I_.pandf.reversal=null;W_.changeOccurred("layout");}}F4r=-1702030216;M0o.X6U(9);N7u=M0o.w65(1,"1593461618");W0d=2;for(var Q5q=1;M0o.P12(Q5q.toString(),Q5q.toString().length,52711) !== F4r;Q5q++){H2=s0.defaultChartStyleConfig.reversal;W0d+=+"2";}if(M0o.Q0B(W0d.toString(),W0d.toString().length,+"56516") !== N7u){H2=s0.defaultChartStyleConfig.reversal;}H2=s0.defaultChartStyleConfig.reversal;}v4.box=Z8;H2*=Z8;h1=0.00000001;B2=(Z8.toString() + ((1861,6280) !== 8712?(+"209.7",868.87) === (4960,1640)?(338.24,0xb82):(9359,+"759") !== 4360?".":(+"758.54","k"):(929.17,+"148.85"))).split(".")["1" >> 32].length;j5=[];K6=0;function r2(T6,O6,i4,h0,c3){M0o.b5b();T6.High=Math.max(O6,T6.High);T6.Low=Math.min(i4,T6.Low);T6.Close=h0;T6.Volume+=c3;}for(var g7=0;g7 < l8.length;g7++){L8=l8[g7];if(!L8)continue;K6+=L8.Volume;c5=L8.Close;B_=L8.Open;c_=L8.High;C_=L8.Low;B_=B_ || B_ === 0?B_:c5;c_=c_ || c_ === 0?c_:c5;C_=C_ || C_ === +"0"?C_:c5;if(!j5.length && !Q$.length){s_=m9(L8,t8(L8,B_,c_,C_,c5,K6,c_ + Z8,Number((Math.ceil(C_ / Z8 - h1) * Z8).toFixed(B2)),Number((Math.floor(c_ / Z8 + h1) * Z8).toFixed(B2))));s_.pfTrend=(+"580.82",9140) < (4261,259)?(900.08,"z"):"X";if(s_.pfOpen == s_.pfClose){s_.pfStepBack="-";}j5.push(s_);K6=0;continue;}M0o.X6U(25);var S74=M0o.o$D(32,8,11,6,18);g_=j5[j5.length - S74];if(!g_){g_=i7.clone(Q$[Q$.length - 1]);}if(g_.pfTrend == ((9230,8619) <= (2701,676.14)?0xe95:(5784,641.2) > (404.5,"8034" << 32)?91.66:(779.15,8170) > 5610?"O":240.88)){if(C_ <= g_.pfClose - Z8){g_.pfClose=Number((Math.ceil(C_ / Z8 - h1) * Z8).toFixed(B2));if(g_.pfStepBack == (2770 > (329.2,7230)?!({}):(2027,24.6) > (3570,"3400" >> 32)?(0x683,![]):+"960.02" < ("8949" - 0,9793)?"O":("Z","m"))){g_.pfStepBack=null;}r2(g_,c_,C_,c5,K6);}else if(c_ >= g_.pfClose + H2){c4=g_.pfClose + Z8;E_=Number((Math.floor(c_ / Z8 + h1) * Z8).toFixed(B2));s_=t8(L8,B_,c_,C_,c5,K6,g_.pfClose,c4,E_);if(c4 == E_){s_.pfStepBack=(3190,6764) === (+"661.32",9840)?("P","850.53" * 1):"X";}if(g_.pfStepBack == (4430 < (4930,"8560" << 0)?(832.45,8422) === 5190?("Z",3.61e+3):"O":"l")){g_.pfOpen=c4;g_.pfClose=E_;g_.pfTrend=3870 >= (151,+"9810")?1400 > (259.19,4593)?"C":("d","3.00e+3" << 64):"X";r2(g_,c_,C_,c5,K6);}else {s_=m9(L8,s_);s_.pfTrend=("2044" ^ 0,2969) <= 2470?(![],"M"):(214.6,2379) <= (958.03,2123)?181 != ("4940" - 0,1121)?239.48:(0x175f,0xed7):"X";j5.push(s_);}}else {r2(g_,c_,C_,c5,K6);}K6=0;}else if(g_.pfTrend == ((+"9247",952.37) < ("8370" ^ 0,+"5309")?485 < 5430?("973.24" * 1,546) < ("1660" * 1,5180)?"X":0x1c63:(1.63e+3,0x21e3):("O",!!({})))){if(c_ >= g_.pfClose + Z8){g_.pfClose=Number((Math.floor(c_ / Z8 + h1) * Z8).toFixed(B2));if(g_.pfStepBack == "X" || g_.pfStepBack == ((737.73,+"8290") == (2120,269.76)?(91.30,!"1"):409 >= ("2010" << 64,552.67)?"S":"-")){g_.pfStepBack=null;}r2(g_,c_,C_,c5,K6);}else if(C_ <= g_.pfClose - H2){c4=g_.pfClose - Z8;E_=Number((Math.ceil(C_ / Z8 - h1) * Z8).toFixed(B2));s_=t8(L8,B_,c_,C_,c5,K6,g_.pfClose,c4,E_);if(c4 == E_){s_.pfStepBack=6640 < 920.98?(641.1,1923) >= (3.69,2778)?(!![],404.99):954.35 === 6340?(432.69,"m"):370.94:"O";}if(g_.pfStepBack == "X" || g_.pfStepBack == ((+"696.46",226.2) >= 4590?9.50e+3:525 != 5410?"-":!![])){g_.pfOpen=c4;g_.pfClose=E_;g_.pfTrend=8190 > (925,466.37)?+"3176" > 4370?+"5723" !== 307.04?!!"":"0x176" - 0:"O":!!0;r2(g_,c_,C_,c5,K6);if(c4 != E_ && g_.pfStepBack == (611.91 >= (8401,2429)?834.77 < "534.95" * 1?(!"","U"):!0:"-")){g_.pfStepBack=null;}}else {s_=m9(L8,s_);s_.pfTrend=943 < (896.56,304.92)?990:"O";j5.push(s_);}}else {r2(g_,c_,C_,c5,K6);}K6=0;}}return j5;};};W=M1=>{var K7W=F$OMy;var n8,t2,t2P,q99,Y4M,W$E,n5c,L4M,k9Z,V8v,h$l,o_2,H1m,Y2s,Z5E,B1O,G2v,q39,O$3,d4S,T1r,t80,b5M,Z1a,p1$,u7p,z5Y,b7I,l9i,K6w,L6b;n8=typeof _CIQ !== "undefined"?_CIQ:M1.CIQ;t2=typeof _timezoneJS !== "undefined"?_timezoneJS:M1.timezoneJS;if(!n8.Drawing){t2P="drawingAdvanced ";t2P+="feature requires first ";t2P+="activatin";t2P+="g drawing feature.";console.error(t2P);}else {q99="I";q99+="V";Y4M="I";Y4M+="I";Y4M+="I";W$E="paramete";W$E+="r";W$E+="s";n5c="patt";n5c+="er";n5c+="n";L4M="fil";L4M+="lC";L4M+="o";L4M+="lor";k9Z="c";k9Z+="o";k9Z+="lo";k9Z+="r";V8v="axi";V8v+="s";V8v+="Label";h$l="f";h$l+="o";h$l+="n";h$l+="t";o_2="line";o_2+="W";o_2+="idth";H1m="active";H1m+="3";Y2s="pa";Y2s+="t";Y2s+="tern";Y2s+="2";Z5E="pat";Z5E+="te";Z5E+="rn1";B1O="acti";B1O+="v";B1O+="e1";G2v="pa";G2v+="ttern";q39="col";q39+="or";O$3="lineWi";O$3+="dth";d4S="para";d4S+="meters";T1r="li";T1r+="neWi";T1r+="dt";T1r+="h";t80="p";t80+="v";b5M="l";b5M+="w";Z1a="fo";Z1a+="n";Z1a+="t";p1$="pa";p1$+="tt";p1$+="ern";u7p="lin";u7p+="eW";u7p+="i";u7p+="dth";z5Y="co";z5Y+="lor";b7I="lineW";b7I+="idt";b7I+="h";l9i="fillC";l9i+="ol";l9i+="o";l9i+="r";K6w="lineWidt";K6w+="h";L6b="fi";L6b+="l";L6b+="lColo";L6b+="r";n8.Drawing.ray=function(){this.name="ray";};n8.inheritsFrom(n8.Drawing.ray,n8.Drawing.line);n8.Drawing.ray.prototype.adjust=function(){var P8;P8=this.stx.panels[this.panelName];if(!P8){return;}this.setPoint(0,this.d0,this.v0,P8.chart);this.setPoint(+"1",this.d1,this.v1,P8.chart);if(n8.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(+"1",this.d1B,this.v1B,P8.chart);}};n8.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};n8.inheritsFrom(n8.Drawing.continuous,n8.Drawing.segment);n8.Drawing.continuous.prototype.click=function(B4,Y0,i6){var k9,y3,G_,M8,G6;k9=this.stx;y3=k9.panels[this.panelName];if(!y3){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,Y0,i6,y3.chart);this.penDown=!!({});return ![];}if(this.accidentalClick(Y0,i6)){k9.undo();return !0;}this.setPoint(1,Y0,i6,y3.chart);G_=n8.Drawing.segment;M8=new G_();G6=this.serialize(k9);K7W.b5b();M8.reconstruct(k9,G6);k9.addDrawing(M8);k9.changeOccurred("vector");k9.draw();M8++;if(this.maxSegments && this.segment > this.maxSegments){return !!({});}this.setPoint(0,Y0,i6,y3.chart);return !1;};n8.Drawing.ellipse=function(){this.name="ellipse";};n8.inheritsFrom(n8.Drawing.ellipse,n8.Drawing.BaseTwoPoint);n8.Drawing.ellipse.prototype.render=function(h6){var d8,b4,s$,S8,R1,t7,G0,R$,J8,f7,H5,V$,U0,U3,g0,A6,J1;d8=this.stx;b4=d8.panels[this.panelName];s$=d8.getYAxisByField(b4,this.field);if(!b4 || this.field && !s$){return;}S8=d8.pixelFromTick(this.p0[0],b4.chart);R1=d8.pixelFromTick(this.p1[0],b4.chart);t7=this.pixelFromValue(b4,this.p0[0],this.p0[1],s$);G0=this.pixelFromValue(b4,this.p1[0],this.p1[1],s$);K7W.X6L(26);R$=K7W.o$D(S8,S8,R1);J8=R1;f7=t7;H5=G0;K7W.X6U(26);V$=K7W.o$D(t7,t7,G0);K7W.X6U(27);U0=K7W.w65(1,V$,"6",H5);U3=this.lineWidth;if(!U3){U3=1.1;}g0=this.color;if(g0 == "auto" || n8.isTransparent(g0)){g0=this.getLineColor();}if(this.highlighted && U3 == 0.1){U3=1.1;}A6=this.fillColor;h6.beginPath();h6.moveTo(R$,f7);K7W.X6U(1);h6.bezierCurveTo(R$,K7W.w65(U0,H5),J8,K7W.w65(U0,H5),J8,f7);K7W.X6L(0);h6.bezierCurveTo(J8,K7W.o$D(U0,V$),R$,K7W.o$D(U0,V$),R$,f7);if(A6 && !n8.isTransparent(A6) && A6 != "auto"){h6.fillStyle=A6;K7W.X6U(9);h6.globalAlpha=K7W.w65(1,"0.2");h6.fill();h6.globalAlpha=1;}if(g0 && this.pattern != "none"){h6.strokeStyle=g0;h6.lineWidth=U3;if(h6.setLineDash){h6.setLineDash(n8.borderPatternToArray(U3,this.pattern));h6.lineDashOffset=+"0";;}h6.stroke();}h6.closePath();if(this.highlighted){J1=this.highlighted == "p1"?!!1:![];this.littleCircle(h6,R1,G0,J1);}};n8.Drawing.ellipse.prototype.intersected=function(p6,c8,v9){var O3i,v5,j8,V1,W$,x9,Z1;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1["0" << 32],this.p1[+"1"],v9)){O3i="dr";O3i+="a";O3i+="g";this.highlighted="p1";return {action:O3i,point:"p1"};}v5=this.p0[0] - (this.p1[+"0"] - this.p0[0]);j8=this.p1[0];V1=this.p1[1];K7W.X6U(28);var j_s=K7W.w65(4,14,11,1);K7W.X6U(29);var A0T=K7W.o$D(11,3,15,3,4);W$=this.p0[j_s] - (this.p1[+"1"] - this.p0[A0T]);var {x0:e4, x1:Q5, y0:X3, y1:r1, cy0:X0, cy1:l1}=v9;if(e4 > Math.max(v5,j8) || Q5 < Math.min(v5,j8)){return !!"";}var {field:q4, panelName:b3, stx:W1}=this;if(q4){x9=W1.panels[b3];Z1=W1.getYAxisByField(x9,q4);X3=this.valueFromPixel(X0,x9,Z1);r1=this.valueFromPixel(l1,x9,Z1);}if(r1 > Math.max(W$,V1) || X3 < Math.min(W$,V1)){return !!"";}this.highlighted=!!({});return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:p6,value:this.valueOnDrawingAxis(p6,c8)};};n8.Drawing.ellipse.prototype.configs=["color",L6b,K6w,"pattern"];n8.Drawing.ellipse.prototype.reconstruct=function(A3,Q4){this.stx=A3;this.color=Q4.col;this.fillColor=Q4.fc;this.panelName=Q4.pnl;this.pattern=Q4.ptrn;this.lineWidth=Q4.lw;this.d0=Q4.d0;this.d1=Q4.d1;this.tzo0=Q4.tzo0;this.tzo1=Q4.tzo1;this.v0=Q4.v0;this.v1=Q4.v1;this.field=Q4.fld;this.adjust();};n8.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};n8.Drawing.channel=function(){this.name="channel";this.dragToDraw=!({});this.p2=null;};n8.inheritsFrom(n8.Drawing.channel,n8.Drawing.segment);n8.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"];n8.Drawing.channel.prototype.move=function(Y5,f6,h2){var G8;if(!this.penDown){return;}this.copyConfig();K7W.b5b();if(this.p2 === null){this.p1=[f6,h2];}else {K7W.X6L(30);var y8S=K7W.w65(12,16,2,16,11);K7W.X6U(7);var u4o=K7W.o$D(12,11,0);G8=h2 - (this.p1[y8S] - this.p0[u4o]) / (this.p1[0] - this.p0[+"0"]) * (f6 - this.p1[+"0"]);this.p2=[this.p1[0],G8];}this.render(Y5);};n8.Drawing.channel.prototype.click=function(o_,X$,X_){var B3,L7;B3=this.stx;L7=B3.panels[this.panelName];if(!L7){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,X$,X_,L7.chart);this.penDown=!![];return !!"";}if(this.accidentalClick(X$,X_)){B3.undo();return !!({});}if(this.p2 !== null){this.setPoint(2,this.p2[+"0"],this.p2[1],L7.chart);this.penDown=!!0;return !0;}this.setPoint(1,X$,X_,L7.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !({});}this.p2=[this.p1[0],this.p1[1]];return ![];};n8.Drawing.channel.prototype.boxIntersection=function(w2,J5,z5){var D2,j7,S7,w9;var {p0:z6, p1:u5, p2:D6}=this;if(!z6 || !u5 || !D6){return !({});}var {x0:O4, x1:O5, y0:a5, y1:g1, cy0:m5, cy1:u8}=z5;if(O4 > Math.max(z6[0],u5[0]) || O5 < Math.min(z6[0],u5[0])){return ![];}var {field:F1, panelName:t9, stx:r0}=this;K7W.d9F();if(F1){D2=r0.panels[t9];j7=r0.getYAxisByField(D2,F1);a5=this.valueFromPixel(m5,D2,j7);g1=this.valueFromPixel(u8,D2,j7);}K7W.X6U(7);var P3z=K7W.w65(6,5,0);K7W.X6L(31);var l7R=K7W.w65(3,17,9,4);K7W.X6U(32);var p1A=K7W.o$D(10,1,1,0,9);K7W.X6L(33);var I5W=K7W.o$D(10,22,11);K7W.X6U(7);var w1x=K7W.o$D(17,25,9);S7=(u5[0] - z6[0]) * ((D6["1" * P3z] < z6[l7R]?g1:a5) - z6[p1A]) - (u5[I5W] - z6[w1x]) * (w2 - z6[0]);K7W.X6U(1);var h6b=K7W.w65(1,0);K7W.X6U(0);var a0b=K7W.o$D(7,8);K7W.X6U(34);var h5Z=K7W.w65(19,512,12,0,15);K7W.X6U(7);var c1d=K7W.o$D(8,7,0);w9=(D6[0] - z6[0]) * ((D6[h6b] > z6[+"1"]?g1:a5) - (z6[a0b] + D6[h5Z] - u5["1" << 0])) - (u5[c1d] - z6[+"1"]) * (w2 - z6[0]);K7W.X6U(35);return K7W.o$D(S7,w9,0);};n8.Drawing.channel.prototype.intersected=function(L6,b_,H3){var n$,j1h;if(!this.p0 || !this.p1 || !this.p2){return null;}n$={0:this.p0,1:this.p1,2:this.p2};for(var h8 in n$){if(this.pointIntersection(n$[h8][+"0"],n$[h8][1],H3)){j1h="dr";j1h+="a";j1h+="g";K7W.X6U(1);this.highlighted=K7W.w65(h8,(1950,"2503" | 66) != 4036?"p":(0x1d58,995));return {action:j1h,point:((+"6510",521.97) !== 2197?"p":6380 > 6719?(!!"1",922.04):(3.47e+3,0x7bc)) + h8};}}K7W.b5b();if(this.boxIntersection(L6,b_,H3)){this.highlighted=!!1;return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),p2:n8.clone(this.p2),tick:L6,value:this.valueOnDrawingAxis(L6,b_)};}return null;};n8.Drawing.channel.prototype.render=function(n7){var L2T,E1c,E4,t0,n6,o1,U2,F0,F7,k8,y4,v3,D7,d6,f3,M$,K8;L2T="se";L2T+="gmen";L2T+="t";E1c="d";E1c+="ot";E1c+="te";E1c+="d";E4=this.stx;t0=E4.panels[this.panelName];n6=E4.getYAxisByField(t0,this.field);if(!t0 || this.field && !n6){return;}o1=E4.pixelFromTick(this.p0["0" << 32],t0.chart);U2=E4.pixelFromTick(this.p1["0" ^ 0],t0.chart);F0=this.pixelFromValue(t0,this.p0[0],this.p0[+"1"],n6);F7=this.pixelFromValue(t0,this.p1["0" | 0],this.p1[1],n6);k8=null;if(this.p2){k8=this.pixelFromValue(t0,this.p2[0],this.p2[1],n6);}y4=this.lineWidth;v3=this.getLineColor();D7=this.fillColor;if(this.p2 && D7 && !n8.isTransparent(D7) && D7 != "auto"){n7.beginPath();n7.moveTo(o1,F0);n7.lineTo(U2,F7);n7.lineTo(U2,k8);K7W.X6L(36);n7.lineTo(o1,K7W.w65(F7,k8,F0));n7.closePath();n7.globalAlpha=0.2;n7.fillStyle=D7;n7.fill();n7.globalAlpha=1;}d6={pattern:this.pattern,lineWidth:y4};if((this.penDown || this.highlighted) && this.pattern == "none"){d6.pattern=E1c;}E4.plotLine(o1,U2,F0,F7,v3,L2T,n7,t0,d6);if(this.p2){K7W.X6U(36);E4.plotLine(o1,U2,K7W.o$D(F7,k8,F0),k8,v3,"segment",n7,t0,d6);}if(this.highlighted){f3=this.highlighted == "p0"?!"":!!0;M$=this.highlighted == "p1"?!![]:!({});K8=this.highlighted == "p2"?!![]:!"1";this.littleCircle(n7,o1,F0,f3);this.littleCircle(n7,U2,F7,M$);this.littleCircle(n7,U2,k8,K8);}};n8.Drawing.channel.prototype.reposition=function(n2,h5,S3,F_){var P5,G2,j6;if(!h5){return;}P5=this.stx.panels[this.panelName];G2=h5.tick - S3;j6=h5.value - F_;K7W.b5b();if(h5.action == "move"){this.setPoint(0,h5.p0[0] - G2,h5.p0[1] - j6,P5.chart);this.setPoint(1,h5.p1[0] - G2,h5.p1[1] - j6,P5.chart);this.setPoint(2,h5.p2[0] - G2,h5.p2[1] - j6,P5.chart);this.render(n2);}else if(h5.action == "drag"){this[h5.point]=[S3,F_];this.setPoint(0,this.p0[0],this.p0[1],P5.chart);K7W.X6L(37);this.setPoint(K7W.w65("1",0),this.p1["0" ^ 0],this.p1[1],P5.chart);this.setPoint(2,this.p2[0],this.p2[1],P5.chart);this.render(n2);}};n8.Drawing.channel.prototype.adjust=function(){var o2;o2=this.stx.panels[this.panelName];if(!o2){return;}this.setPoint(0,this.d0,this.v0,o2.chart);this.setPoint(1,this.d1,this.v1,o2.chart);this.setPoint(2,this.d1,this.v2,o2.chart);;};n8.Drawing.channel.prototype.reconstruct=function(g4,P4){this.stx=g4;this.color=P4.col;this.fillColor=P4.fc;this.panelName=P4.pnl;this.pattern=P4.ptrn;this.lineWidth=P4.lw;this.d0=P4.d0;this.d1=P4.d1;K7W.b5b();this.tzo0=P4.tzo0;this.tzo1=P4.tzo1;this.v0=P4.v0;this.v1=P4.v1;this.v2=P4.v2;this.field=P4.fld;this.adjust();};n8.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};n8.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!!0;K7W.b5b();this.p2=null;};n8.inheritsFrom(n8.Drawing.pitchfork,n8.Drawing.channel);n8.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];n8.Drawing.pitchfork.prototype.move=function(x3,F6,m0){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[F6,m0];}else {this.p2=[F6,m0];}K7W.b5b();this.render(x3);};n8.Drawing.pitchfork.prototype.intersected=function(I2,b0,b9){var L2,k7,t7Q,B3X;if(!this.p0 || !this.p1 || !this.p2){return null;}L2={0:this.p0,1:this.p1,2:this.p2};K7W.b5b();for(var P3 in L2){if(this.pointIntersection(L2[P3][0],L2[P3]["1" << 0],b9)){K7W.X6L(1);this.highlighted=K7W.o$D(P3,5770 == +"9870"?(0x1c0c,0x2150):(5483,+"3630") >= (6434,1250)?630.13 < 353.56?!1:"p":(!!({}),0xd0));return {action:"drag",point:((611.34,2450) <= ("4333" << 32,926.92)?(134.94,199.05):"p") + P3};}}k7=this.rays;for(var m7=0;m7 < k7.length;m7++){t7Q="seg";t7Q+="me";t7Q+="nt";B3X="r";B3X+="a";B3X+="y";if(this.lineIntersection(I2,b0,b9,m7?B3X:t7Q,k7[m7][0],k7[m7][1],!!"1")){this.highlighted=!![];return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),p2:n8.clone(this.p2),tick:I2,value:this.valueOnDrawingAxis(I2,b0)};}}return null;};n8.Drawing.pitchfork.prototype.render=function(H$){var y9,Y6,Y$,Z5,l_,n4,o5,A4,N3,s10,E6M,h9b,y5,j9,N6,y6,D1,K5,L5,r8V,N8,B0,p5,V8,u$;y9=this.stx;Y6=y9.panels[this.panelName];Y$=y9.getYAxisByField(Y6,this.field);if(!Y6 || this.field && !Y$){return;}Z5=this.p2;if(!Z5){Z5=this.p1;}l_=y9.pixelFromTick(this.p0[0],Y6.chart);n4=y9.pixelFromTick(this.p1[0],Y6.chart);o5=y9.pixelFromTick(Z5[0],Y6.chart);A4=this.pixelFromValue(Y6,this.p0[0],this.p0[1],Y$);N3=this.pixelFromValue(Y6,this.p1[0],this.p1[1],Y$);s10=-728733810;E6M=-1672527764;h9b=2;for(var O6m=1;K7W.Q0B(O6m.toString(),O6m.toString().length,+"17641") !== s10;O6m++){y5=this.pixelFromValue(Y6,Z5[1],Z5["6" * 1],Y$);j9=this.lineWidth;h9b+=2;}if(K7W.Q0B(h9b.toString(),h9b.toString().length,75379) !== E6M){y5=this.pixelFromValue(Y6,Z5[0],Z5[1],Y$);j9=this.lineWidth;}N6=this.getLineColor();y6={pattern:this.pattern,lineWidth:j9};D1=50;K7W.X6U(38);K5=K7W.o$D(2,N3,y5,A4);K7W.X6L(38);L5=K7W.w65(2,n4,o5,l_);if(L5 < 0){D1*=-1;}K7W.X6U(4);K5*=K7W.o$D(L5,D1);K7W.X6U(6);this.rays=[[[n4,N3],[o5,y5]],[[l_,A4],[K7W.o$D(o5,2,n4),K7W.w65(y5,2,N3)]]];if(!(n4 == o5 && N3 == y5)){K7W.X6U(0);this.rays.push([[n4,N3],[K7W.o$D(D1,n4),K7W.o$D(K5,N3)]],[[o5,y5],[K7W.w65(D1,o5),K7W.o$D(K5,y5)]]);}for(var C0=+"0";C0 < this.rays.length;C0++){r8V="seg";r8V+="men";r8V+="t";N8=this.rays[C0];B0=C0?"ray":r8V;y9.plotLine(N8[0][0],N8[1][0],N8[0][1],N8[1][1],N6,B0,H$,Y6,y6);}if(this.highlighted){p5=this.highlighted == "p0"?!"":![];V8=this.highlighted == "p1"?!!({}):!!0;u$=this.highlighted == "p2"?!![]:!!"";this.littleCircle(H$,l_,A4,p5);this.littleCircle(H$,n4,N3,V8);this.littleCircle(H$,o5,y5,u$);}};n8.Drawing.pitchfork.prototype.adjust=function(){var X5,K4T,W5N,b7V;X5=this.stx.panels[this.panelName];K4T=-1842526062;W5N=-633139906;b7V=2;for(var s3U=1;K7W.Q0B(s3U.toString(),s3U.toString().length,61711) !== K4T;s3U++){if(!X5){return;}this.setPoint(0,this.d0,this.v0,X5.chart);this.setPoint(1,this.d1,this.v1,X5.chart);this.setPoint(2,this.d2,this.v2,X5.chart);b7V+=+"2";}K7W.b5b();if(K7W.P12(b7V.toString(),b7V.toString().length,91675) !== W5N){if(~X5){return;}this.setPoint(5,this.d0,this.v0,X5.chart);this.setPoint(0,this.d1,this.v1,X5.chart);this.setPoint(0,this.d2,this.v2,X5.chart);}};n8.Drawing.pitchfork.prototype.reconstruct=function(H_,o9){K7W.b5b();this.stx=H_;this.color=o9.col;this.panelName=o9.pnl;this.pattern=o9.ptrn;this.lineWidth=o9.lw;this.d0=o9.d0;this.d1=o9.d1;this.d2=o9.d2;this.tzo0=o9.tzo0;this.tzo1=o9.tzo1;this.tzo2=o9.tzo2;this.v0=o9.v0;this.v1=o9.v1;this.v2=o9.v2;this.field=o9.fld;this.adjust();};n8.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};n8.Drawing.gartley=function(){var o5I,F1i,x_0;this.name="gartley";this.dragToDraw=!({});this.maxSegments=4;this.shape=null;o5I=-+"1796185183";F1i=1522450642;K7W.X6U(37);x_0=K7W.w65("2",0);for(var o2j=1;K7W.Q0B(o2j.toString(),o2j.toString().length,10695) !== o5I;o2j++){this.points=[];x_0+=2;}if(K7W.Q0B(x_0.toString(),x_0.toString().length,87529) !== F1i){this.points=[];}};n8.inheritsFrom(n8.Drawing.gartley,n8.Drawing.continuous);n8.Drawing.gartley.prototype.check=function(E6,T5){var o$S,p2J,Y71;if(!T5){return !![];}if(E6[0] >= T5[0] || E6[1] == T5[1]){return !1;}if(this.segment == 1){if(E6[1] < T5[1]){this.shape=(241.31,369.08) !== (+"6256",854.24)?(+"3210",855.5) <= 881.05?"M":(6882,717.87) >= 9428?(!!0,928.56):8.11e+3:!"";}else {this.shape="W";}}else if(this.segment == 2){o$S=-1984880807;p2J=1619163995;Y71=2;for(var Q0Y=1;K7W.Q0B(Q0Y.toString(),Q0Y.toString().length,34796) !== o$S;Q0Y++){if(this.shape == ((8920,5991) < (91.54,7848)?"M":364.4 > (370.69,+"4561")?0xa64:111.81) && E6[1] < T5[1]){return !"1";}else if(this.shape == "W" && E6["1" | 1] > T5[1]){return !"1";}else if((T5[1] - E6["1" >> 64]) / (this.points[0][1] - E6[1]) < 0.618){return !"1";}else if((T5[1] - E6[1]) / (this.points[0][1] - E6[1]) >= "0.786" - 0){return !!"";}K7W.X6U(0);Y71+=K7W.o$D(0,"2");}if(K7W.P12(Y71.toString(),Y71.toString().length,86869) !== p2J){if(this.shape !== ((1364,7766) > ("93472" - 0,5131)?"W":63084 >= (678415,9537)?0x18b:510137) || E6[9] <= T5[3]){return !!"1";}else if(this.shape === "W" || E6[8] < T5[7]){return !!"1";}else if(T5[8] * E6["2" | 0] * (this.points[6][3] % E6[4]) >= 89767){return !![];}else if(T5[2] + E6[6] - (this.points[5][2] + E6[2]) > 17980){return !!({});}}}else if(this.segment == 3){if(this.shape == ((110.3,5770) < (8290,6680)?"M":0x2142) && E6[1] > T5["1" | 1]){return ![];}else if(this.shape == ((2180,5410) != 9660?(1790,8630) >= 9620?(1.52e+3,!![]):"W":5.03e+3) && E6[1] < T5[1]){return !({});}else if((T5[1] - E6[1]) / (this.points[1][1] - E6[1]) < 0.618){return ![];}else if((T5[1] - E6[1]) / (this.points[1][1] - E6[+"1"]) >= "0.786" - 0){return !"1";}}else if(this.segment == +"4"){if(this.shape == (("9259" << 0,2780) === 4747?("1190" | 0,8742) !== 2704?7155 === "39.62" * 1?!!"1":!0:"R":"M") && (E6[1] < T5[1] || T5[1] < this.points[0][1])){return !"1";}else if(this.shape == "W" && (E6[1] > T5[1] || T5[1] > this.points[0][1])){return ![];}else if((this.points[+"1"][1] - T5[1]) / (this.points[1][1] - this.points[2][1]) < "1.27" - 0){return !!0;}else if((this.points["1" ^ 0][1] - T5[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !!"";}}return !"";};n8.Drawing.gartley.prototype.click=function(v6,R9,z4){var f0;f0=this.stx.panels[this.panelName];if(!f0){return;}this.copyConfig();K7W.b5b();if(!this.penDown){this.setPoint(0,R9,z4,f0.chart);this.pts=[];this.penDown=!0;this.segment=1;return !({});}if(this.accidentalClick(R9,z4)){this.penDown=!0;return !!0;}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,R9,z4,f0.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0]["1" << 0],f0.chart);this.penDown=!1;return !![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,R9,z4,f0.chart);;}return !!"";};n8.Drawing.gartley.prototype.render=function(G5){var F9,b8,d9,N0,w_,i_,j0,M_,q5,p$,y7,u0,V7,C4,g2,G4,y$,o92,i3n,B9b;F9=this.stx;b8=F9.panels[this.panelName];d9=F9.getYAxisByField(b8,this.field);if(!b8 || this.field && !d9){return;}N0=F9.pixelFromTick(this.p0[0],b8.chart);w_=F9.pixelFromTick(this.p1[0],b8.chart);K7W.d9F();i_=this.pixelFromValue(b8,this.p0[0],this.p0[1],d9);j0=this.pixelFromValue(b8,this.p1[+"0"],this.p1[1],d9);if(this.segment == 2){this.drawDropZone(G5,0.618 * this.points["0" * 1][1] + +"0.382" * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(G5,"0.618" * 1 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){K7W.X6U(2);var d6v=K7W.o$D(16,15,0);K7W.X6U(39);var y5K=K7W.o$D(13,14);K7W.X6L(2);var r0c=K7W.o$D(10,15,69);M_=1.618 * this.points[+"2"][d6v] - 0.618 * this.points[y5K]["1" << r0c];if(this.shape == ((777.88,"2422" >> 64) >= (565.05,7910)?+"7.07e+3":"435" << 0 >= 441.03?215 !== (4190,+"5560")?(![],967.59):0xe9:"M")){M_=Math.max(M_,this.points[0]["1" ^ 0]);}else {M_=Math.min(M_,this.points[0][1]);}this.drawDropZone(G5,M_,1.27 * this.points[2]["1" >> 0] - 0.27 * this.points[1][1],this.p0[0]);}q5=this.lineWidth;p$=this.getLineColor();y7={pattern:this.pattern,lineWidth:q5};if((this.penDown || this.highlighted) && this.pattern == "none"){y7.pattern="dotted";}if(this.segment <= this.maxSegments){F9.plotLine(N0,w_,i_,j0,p$,this.name,G5,b8,y7);}u0=this.fillColor;V7=[];if(this.points.length){G5.beginPath();for(var j3=1;j3 < this.points.length && j3 <= 4;j3++){C4=F9.pixelFromTick(this.points[j3 - +"1"]["0" | 0],b8.chart);g2=F9.pixelFromTick(this.points[j3]["0" - 0],b8.chart);G4=this.pixelFromValue(b8,this.points[j3 - 1][0],this.points[j3 - 1][1],d9);y$=this.pixelFromValue(b8,this.points[j3][0],this.points[j3][1],d9);if(j3 == ("1" ^ 0)){V7.push(C4,G4);}V7.push(g2,y$);F9.plotLine(C4,g2,G4,y$,p$,this.name,G5,b8,y7);}if(this.points.length == 2 || this.points.length == 4){V7.push(w_,j0);}if(this.points[2]){V7.push(F9.pixelFromTick(this.points[2][0],b8.chart),this.pixelFromValue(b8,this.points[2][0],this.points[2][1],d9));}if(u0 && u0 != "auto" && !n8.isTransparent(u0)){for(var A1="0" - 0;A1 < V7.length;A1+=2){if(A1 === 0){G5.moveTo(V7[0],V7[1]);}G5.lineTo(V7[A1],V7[A1 + 1]);}G5.fillStyle=u0;G5.globalAlpha=0.2;o92=1015323129;i3n=390940147;B9b=+"2";for(var V2a=1;K7W.P12(V2a.toString(),V2a.toString().length,56414) !== o92;V2a++){G5.closePath();G5.fill();B9b+=+"2";}if(K7W.Q0B(B9b.toString(),B9b.toString().length,52125) !== i3n){G5.closePath();G5.fill();}G5.globalAlpha=1;}};};n8.Drawing.gartley.prototype.lineIntersection=function(W4,K4,n9,J4){var D4,r$;D4=this.points;r$=this.stx.panels[this.panelName];if(D4.length != this.maxSegments + 1 || !r$){return !({});}for(var z2=0;z2 < D4.length - ("1" | 0);z2++){if(n8.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,W4,K4,n9,"segment",D4[z2],D4[z2 + ("1" | 1)])){return !!1;}}return !({});};n8.Drawing.gartley.prototype.boxIntersection=function(Y8,A5,E3){var d4,I6;if(!this.p0 || !this.p1){return ![];}if(E3.x0 > Math.max(this.p0[0],this.p1[0]) || E3.x1 < Math.min(this.p0[0],this.p1[0])){return ![];}K7W.b5b();d4=Math.min(this.p0["1" ^ 0],this.p1[1]);I6=Math.max(this.p0[1],this.p1[1]);for(var u3=0;u3 < this.points.length;u3++){d4=Math.min(d4,this.points[u3][1]);I6=Math.max(I6,this.points[u3][1]);}if(E3.y1 > I6 || E3.y0 < d4){return ![];}return !!({});};n8.Drawing.gartley.prototype.reposition=function(k5,i8,F$,T3){var H_z,v_,M6,N1;H_z="mo";H_z+="v";H_z+="e";if(!i8){return;}v_=this.stx.panels[this.panelName];M6=i8.tick - F$;i8.tick=F$;N1=i8.value - T3;i8.value=T3;if(i8.action == H_z){this.pts=[];for(var E2="0" ^ 0;E2 < this.points.length;E2++){this.points[E2][0]-=M6;this.points[E2][1]-=N1;K7W.X6U(40);this.setPoint(K7W.o$D("1",32),this.points[E2]["0" * 1],this.points[E2]["1" ^ 0],v_.chart);if(E2 && E2 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[E2]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],v_.chart);this.render(k5);;}};n8.Drawing.gartley.prototype.configs=["color",l9i,b7I,"pattern"];n8.Drawing.gartley.prototype.adjust=function(){K7W.b5b();var e3;e3=this.stx.panels[this.panelName];if(!e3){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,e3.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,e3.chart);this.points.push(this.p1);};n8.Drawing.gartley.prototype.reconstructPoints=function(){var W8,U$;W8=this.stx.panels[this.panelName];if(!W8){return;}this.points=[];K7W.d9F();for(var C8=0;C8 < this.pts.length;C8+=3){U$=n8.strToDateTime(this.pts[C8]);U$.setMinutes(U$.getMinutes() + Number(this.pts[C8 + 1]) - U$.getTimezoneOffset());this.points.push([this.stx.tickFromDate(n8.yyyymmddhhmmssmmm(U$),W8.chart),this.pts[C8 + 2]]);}};n8.Drawing.gartley.prototype.reconstruct=function(r4,l4){this.stx=r4;this.color=l4.col;K7W.d9F();this.fillColor=l4.fc;this.panelName=l4.pnl;this.pattern=l4.ptrn;this.lineWidth=l4.lw;this.d0=l4.d0;this.d1=l4.d1;this.tzo0=l4.tzo0;this.tzo1=l4.tzo1;this.v0=l4.v0;this.v1=l4.v1;this.field=l4.fld;this.pts=l4.pts.split(771.98 <= 3490?+"925.83" != "5232" - 0?",":(7185,9449) >= "3439" - 0?2.45e+3:("H","i"):(!![],0xd12));this.adjust();};n8.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join((1220,201.95) == "5820" * 1?("785.83" - 0,"v"):",")};};n8.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=!![];};n8.inheritsFrom(n8.Drawing.freeform,n8.Drawing.segment);n8.Drawing.freeform.prototype.measure=function(){};n8.Drawing.freeform.prototype.intersected=function(l5,F3,u2){var e5,U5;var {x0:K3, x1:g8, y0:Z4, y1:x7, cy0:z3, cy1:Z2}=u2;if(K3 > this.hiX || g8 < this.lowX){return !!"";}var {field:T8, panelName:g$, stx:s3}=this;if(T8){e5=s3.panels[g$];U5=s3.getYAxisByField(e5,T8);Z4=this.valueFromPixel(z3,e5,U5);x7=this.valueFromPixel(Z2,e5,U5);}if(x7 > this.hiY || Z4 < this.lowY){return !({});}K7W.b5b();this.highlighted=!!"1";return {action:"move",p0:n8.clone(this.p0),tick:l5,value:this.valueOnDrawingAxis(l5,F3)};};n8.Drawing.freeform.prototype.reposition=function(p_,H9,R2,i$){var g1z,H6,U4,F2;g1z="m";g1z+="ove";if(!H9){return;}H6=this.stx.panels[this.panelName];U4=H9.tick - R2;F2=H9.value - i$;if(H9.action == g1z){this.setPoint(0,H9.p0[+"0"] - U4,H9.p0[1] - F2,H6.chart);this.adjust();this.render(p_);}};n8.Drawing.freeform.prototype.click=function(B8,F8,d_){var V0,a4,s6,j1;V0=this.stx;a4=V0.panels[this.panelName];if(!a4){return;}s6=V0.getYAxisByField(a4,this.field) || a4.yAxis;if(this.penDown === !1){this.copyConfig();this.startX=Math.round(V0.resolveX(V0.pixelFromTick(F8,a4.chart)));this.startY=Math.round(V0.resolveY(this.pixelFromValue(a4,F8,d_,s6)));j1=V0.dateFromTick(F8,a4.chart,!![]);this.d0=n8.yyyymmddhhmmssmmm(j1);this.tzo0=j1.getTimezoneOffset();this.v0=d_;this.p0=[n8.ChartEngine.crosshairX - this.startX,n8.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=V0.layout.candleWidth;this.multiplier=s6.multiplier;this.interval=V0.layout.interval;this.periodicity=V0.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-+"1";V0.container.ownerDocument.body.style.cursor="pointer";this.penDown=!!({});return !({});}this.penDown=!"1";this.splineTension=this.tempSplineTension;V0.container.ownerDocument.body.style.cursor="auto";K7W.d9F();if(this.nodes.length === 2){V0.undo();}return !!"1";};n8.Drawing.freeform.prototype.move=function(q$,F5,K_){var l6,S0,s5,G9;if(!this.penDown){return;}l6=this.stx;S0=l6.panels[this.panelName];s5=l6.getYAxisByField(S0,this.field) || S0.yAxis;G9=l6.dateFromTick(F5,S0.chart,!!"1");this.d1=n8.yyyymmddhhmmssmmm(G9);this.tzo1=G9.getTimezoneOffset();this.v1=K_;this.p1=[n8.ChartEngine.crosshairX - this.startX,s5.flipped?this.startY - n8.ChartEngine.crosshairY:n8.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - ("2" >> 32)][+"1"] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;K7W.X6U(9);this.nodes.length-=K7W.o$D(1,"2");}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(q$);return ![];};n8.Drawing.freeform.prototype.intervalRatio=function(z0,Y4,S4,k3,f_,E7){var s4,c8K,q1X;function e_(q_,q9){K7W.d9F();var X64,G2q,g47;X64=-1270743137;G2q=-+"1245710220";g47=2;for(var Z5Y=1;K7W.Q0B(Z5Y.toString(),Z5Y.toString().length,16825) !== X64;Z5Y++){K7W.X6U(17);return K7W.o$D("13",0);}if(K7W.Q0B(g47.toString(),g47.toString().length,47743) !== G2q){return 13;}return 30;}s4=0;if(z0 == Y4){s4=1;}else if(!isNaN(z0) && !isNaN(Y4)){K7W.X6L(4);s4=K7W.w65(Y4,z0);}else if(isNaN(z0)){if(z0 == "month"){if(Y4 == "week"){s4=e6(f_,E7);}else if(Y4 == "day"){s4=e_(f_,E7);}else if(!isNaN(Y4)){s4=e_(f_,E7) * E5(f_,E7) / Y4;}}else if(z0 == "week"){c8K="mo";c8K+="n";c8K+="t";c8K+="h";if(Y4 == c8K){K7W.X6L(39);var w$A=K7W.w65(17,18);s4=w$A / e6(f_,E7);}if(Y4 == "day"){s4=U_(f_,E7);}else if(!isNaN(Y4)){s4=U_(f_,E7) * E5(f_,E7) / Y4;}}else if(z0 == "day"){if(Y4 == "week"){K7W.X6L(1);var J7Q=K7W.o$D(1,0);s4=J7Q / U_(f_,E7);}else if(Y4 == "month"){K7W.X6L(39);var f6Y=K7W.o$D(3,4);s4=f6Y / e_(f_,E7);}else if(!isNaN(Y4)){s4=E5(f_,E7) / Y4;}}}else if(!isNaN(z0)){q1X="we";q1X+="e";q1X+="k";if(Y4 == "month"){s4=z0 / (e_(f_,E7) * E5(f_,E7));}else if(Y4 == q1X){s4=z0 / (U_(f_,E7) * E5(f_,E7));}else if(Y4 == "day"){s4=z0 / E5(f_,E7);}}K7W.X6U(4);s4*=K7W.w65(k3,S4);function E5(a8,W0){if(n8.Market.Symbology.isForexSymbol(W0)){return 1440;}return +"390";}function e6(O8,c$){K7W.b5b();return 5;}function U_(c1,R5){return +"5";}return s4;};n8.Drawing.freeform.prototype.render=function(t$){var T7,X6,H0,Q6,L_,h3,M0,K9,i5,M5,r9,g3,a_,Z_;T7=this.stx;X6=T7.panels[this.panelName];H0=T7.getYAxisByField(X6,this.field);if(!X6 || this.field && !H0){return;}H0=H0 || X6.yAxis;Q6=this.intervalRatio(this.interval,T7.layout.interval,this.periodicity,T7.layout.periodicity,this.d0,X6.chart.symbol);K7W.b5b();if(Q6 === 0){return;}L_=T7.layout.candleWidth / this.candleWidth;h3=H0.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,X6.chart);M0=T7.pixelFromTick(this.p0[0],X6.chart);K9=this.pixelFromValue(X6,this.p0[0],this.p0[1],H0);i5=[];M5=this.lineWidth;r9=this.getLineColor();g3={pattern:this.pattern,lineWidth:M5};for(var D9="0" << 32;D9 < this.pNodes.length;D9++){K7W.X6U(41);var r7n=K7W.o$D(11,18,4,62,8);a_=Q6 * L_ * this.pNodes[D9]["0" >> r7n] + M0;K7W.X6U(0);var r4X=K7W.w65(6,7);Z_=h3 * this.pNodes[D9]["1" * r4X];if(H0.flipped){K7W.X6L(0);Z_=K7W.w65(Z_,K9);}else {Z_+=K9;}i5.push(a_,Z_);}if(!i5.length){return;}if(this.splineTension < 0){T7.connectTheDots(i5,r9,this.name,t$,X6,g3);}else {T7.plotSpline(i5,this.splineTension,r9,this.name,t$,!!({}),g3);}};n8.Drawing.freeform.prototype.adjust=function(){var e8,g9,A_m,f8,z7,U8,v7,O_,u7,q6;e8=this.stx;g9=e8.panels[this.panelName];if(!g9){return;}A_m=[this.nodes[0],this.nodes[1]];this.pNodes=[A_m];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];K7W.X6L(17);this.hiY=this.nodes[K7W.w65("1",0)];for(var H4=+"2";H4 < this.nodes.length;H4+=2){K7W.X6U(1);f8=[this.nodes[H4],this.nodes[K7W.w65(1,H4)]];this.pNodes.push(f8);this.lowX=Math.min(this.lowX,f8[0]);this.hiX=Math.max(this.hiX,f8[+"0"]);this.lowY=Math.max(this.lowY,f8[1]);this.hiY=Math.min(this.hiY,f8[1]);}z7=this.intervalRatio(this.interval,e8.layout.interval,this.periodicity,e8.layout.periodicity,this.d0,g9.chart.symbol);if(z7 === 0){return;}U8=e8.getYAxisByField(g9,this.field) || g9.yAxis;v7=e8.layout.candleWidth / this.candleWidth;O_=U8.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,g9.chart);u7=e8.pixelFromTick(this.p0[0],g9.chart);q6=this.pixelFromValue(g9,this.p0[+"0"],this.p0[1],U8);this.lowX=e8.tickFromPixel(Math.floor(z7 * v7 * this.lowX) + u7,g9.chart);this.hiX=e8.tickFromPixel(Math.ceil(z7 * v7 * this.hiX) + u7,g9.chart);if(U8.flipped){this.lowY=this.valueFromPixel(q6 - Math.floor(O_ * this.lowY),g9,U8);this.hiY=this.valueFromPixel(q6 - Math.ceil(O_ * this.hiY),g9,U8);}else {this.lowY=this.valueFromPixel(Math.floor(O_ * this.lowY) + q6,g9,U8);this.hiY=this.valueFromPixel(Math.ceil(O_ * this.hiY) + q6,g9,U8);}};n8.Drawing.freeform.prototype.serialize=function(){K7W.d9F();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};n8.Drawing.freeform.prototype.reconstruct=function(A0g,e3Q){this.stx=A0g;this.color=e3Q.col;this.panelName=e3Q.pnl;this.pattern=e3Q.ptrn;this.lineWidth=e3Q.lw;this.candleWidth=e3Q.cw;this.multiplier=e3Q.mlt;this.d0=e3Q.d0;this.tzo0=e3Q.tzo0;this.v0=e3Q.v0;this.interval=e3Q.inter;this.periodicity=e3Q.pd;this.nodes=e3Q.nodes;this.field=e3Q.fld;this.adjust();};n8.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;K7W.X6L(9);this.padding=K7W.o$D(1,"5");this.text="";this.ta=null;K7W.d9F();this.border=!!"";K7W.X6U(37);this.fontSize=K7W.w65("12",0);this.font={};this.stemEntry="";this.defaultWidth=35;;};n8.inheritsFrom(n8.Drawing.callout,n8.Drawing.annotation);n8.Drawing.callout.prototype.configs=[z5Y,"fillColor",u7p,p1$,Z1a];n8.Drawing.callout.prototype.copyConfig=function(d7D){n8.Drawing.copyConfig(this,d7D);this.borderColor=this.color;};n8.Drawing.callout.prototype.move=function(r4J,r6o,Y0i){if(!this.penDown){return;}K7W.d9F();this.copyConfig();this.p0=[r6o,Y0i];this.render(r4J);};n8.Drawing.callout.prototype.onChange=function(P6o){var Z7e,p43,r$Z;Z7e=this.stx.panels[this.panelName];if(!Z7e){return;}p43=P6o.target;this.w=p43.clientWidth;this.h=p43.clientHeight;r$Z=this.context || this.stx.chart.tempCanvas.context;n8.clearCanvas(r$Z.canvas,this.stx);this.render(r$Z);K7W.d9F();this.edit(r$Z);};n8.Drawing.callout.prototype.repositionTextArea=function(c_f){var n2j;K7W.X6L(38);var z74=K7W.w65(10,9,139,15);n2j=this.defaultWidth * z74 + this.whitespace + this.padding;n2j=Math.max(this.w,n2j);K7W.X6L(2);var Q6a=K7W.w65(13,11,0);K7W.b5b();K7W.X6L(7);var G7w=K7W.w65(7,6,0);c_f.style.left=n8.stripPX(c_f.style.left) - (!isNaN(n2j)?n2j / Q6a:this.defaultWidth * ("2" * G7w)) + "px";this.ta=c_f;};n8.Drawing.callout.prototype.render=function(p$L){var m4g,e_S,r0z,m6o,Y_S,N5S,X0o,k4A,f1B,U$x,r1h,z$V,u93,M72,R5L,n6M,o$I,f5S,k3M,V7W,c$f,t16,X0x,B17,F$o;m4g="al";m4g+="phabeti";m4g+="c";e_S=this.stx;r0z=e_S.panels[this.panelName];m6o=e_S.getYAxisByField(r0z,this.field);if(!r0z || this.field && !m6o){return;}this.context=p$L;Y_S=e_S.pixelFromTick(this.p0[0],r0z.chart);N5S=this.pixelFromValue(r0z,this.p0[+"0"],this.p0[1],m6o);if(isNaN(N5S)){return;}p$L.font=this.fontString;p$L.textBaseline="top";X0o=Y_S;k4A=N5S;K7W.X6U(2);var B1i=K7W.w65(18,17,1);f1B=this.w / B1i;K7W.X6U(42);var m4K=K7W.o$D(3,25,2,32);U$x=this.h / ("2" | m4K);if(this.penDown){K7W.X6L(15);var Z4q=K7W.o$D(8,2,20);K7W.X6L(43);var d2v=K7W.o$D(13,18,16,31,7);f1B=this.defaultWidth + this.whitespace / ("2" << Z4q) + this.padding / d2v;U$x=this.fontSize + this.fontModifier;}r1h=this.lineWidth;if(!r1h){r1h=1.1;}z$V=this.getLineColor();u93=this.getLineColor(this.borderColor);f5S=Math.min(Math.min(f1B,U$x) / 2,8);if(this.stem){if(this.stem.t){M72=e_S.pixelFromTick(this.stem.t);n6M=this.pixelFromValue(r0z,this.stem.t,this.stem.v,m6o);}else if(this.stem.x){M72=X0o;n6M=k4A;X0o+=this.stem.x;k4A+=this.stem.y;}k3M="";if(M72 >= X0o + f1B){K7W.X6L(1);R5L=K7W.o$D(f1B,X0o);k3M="r";}else if(M72 > X0o - f1B && M72 < X0o + f1B){R5L=X0o;k3M=920.11 < 129.83?("Q","H"):(8037,147.22) <= 645?"c":(!0,"T");}else if(M72 <= X0o - f1B){K7W.X6L(0);R5L=K7W.o$D(f1B,X0o);k3M="374.23" - 0 <= 273.36?(118,"310" * 1):"l";}if(n6M >= k4A + U$x){K7W.X6L(1);o$I=K7W.o$D(U$x,k4A);k3M+=(1715,5040) >= (6578,5336)?+"2.92e+3":"b";}else if(n6M > k4A - U$x && n6M < k4A + U$x){o$I=k4A;k3M+="95.55" - 0 === 6870?4389 == 838.65?+"0x1c74":("U",5.21e+3):"m";}else if(n6M <= k4A - U$x){K7W.X6L(0);o$I=K7W.w65(U$x,k4A);k3M+="t";}this.stemEntry=k3M;if(k3M != "cm"){M72=Math.round(M72);R5L=Math.round(R5L);n6M=Math.round(n6M);o$I=Math.round(o$I);}}if(this.highlighted){V7W="stx_a";V7W+="nnotatio";V7W+="n_";V7W+="highlight_bg";e_S.canvasColor(V7W,p$L);}else {if(this.fillColor){p$L.fillStyle=this.fillColor;p$L.globalAlpha=0.4;}else if(this.stem){p$L.fillStyle=e_S.containerColor;}}p$L.strokeStyle=u93;if(p$L.setLineDash){p$L.setLineDash(n8.borderPatternToArray(r1h,this.pattern));p$L.lineDashOffset=0;;}if(u93){c$f="non";c$f+="e";t16="c";t16+="t";X0x="l";X0x+="m";B17="r";B17+="t";p$L.beginPath();p$L.lineWidth=r1h;K7W.X6U(7);p$L.moveTo(K7W.w65(f1B,f5S,X0o),K7W.w65(U$x,k4A,K7W.X6L(0)));if(this.stemEntry != B17){K7W.X6U(1);p$L.quadraticCurveTo(K7W.w65(f1B,X0o),K7W.w65(U$x,k4A,K7W.X6U(0)),K7W.o$D(f1B,X0o,K7W.X6L(1)),K7W.o$D(f5S,U$x,k4A,K7W.X6U(2)));;}else {p$L.lineTo(M72,n6M);K7W.X6L(1);p$L.lineTo(K7W.o$D(f1B,X0o),K7W.w65(f5S,U$x,k4A,K7W.X6L(2)));}K7W.X6L(1);p$L.lineTo(K7W.o$D(f1B,X0o),K7W.o$D(k4A,f5S,2,K7W.X6L(44)));if(this.stemEntry == "rm"){p$L.lineTo(M72,n6M);}K7W.X6L(1);p$L.lineTo(K7W.w65(f1B,X0o),K7W.o$D(k4A,2,f5S,K7W.X6U(45)));K7W.X6L(1);p$L.lineTo(K7W.w65(f1B,X0o),K7W.w65(U$x,f5S,k4A,K7W.X6U(7)));if(this.stemEntry != "rb"){K7W.X6L(1);p$L.quadraticCurveTo(K7W.w65(f1B,X0o),K7W.w65(U$x,k4A,K7W.X6U(1)),K7W.o$D(f1B,f5S,X0o,K7W.X6U(7)),K7W.o$D(U$x,k4A,K7W.X6U(1)));;}else {p$L.lineTo(M72,n6M);K7W.X6U(7);p$L.lineTo(K7W.o$D(f1B,f5S,X0o),K7W.w65(U$x,k4A,K7W.X6L(1)));}K7W.X6L(45);p$L.lineTo(K7W.w65(X0o,2,f5S),K7W.o$D(U$x,k4A,K7W.X6L(1)));if(this.stemEntry == "cb"){p$L.lineTo(M72,n6M);}K7W.X6L(46);p$L.lineTo(K7W.w65(f5S,X0o,"2"),K7W.w65(U$x,k4A,K7W.X6U(1)));K7W.X6L(2);p$L.lineTo(K7W.o$D(f5S,f1B,X0o),K7W.o$D(U$x,k4A,K7W.X6U(1)));if(this.stemEntry != "lb"){K7W.X6U(0);p$L.quadraticCurveTo(K7W.o$D(f1B,X0o),K7W.o$D(U$x,k4A,K7W.X6L(1)),K7W.w65(f1B,X0o,K7W.X6L(0)),K7W.w65(U$x,f5S,k4A,K7W.X6U(7)));;}else {p$L.lineTo(M72,n6M);K7W.X6U(0);p$L.lineTo(K7W.o$D(f1B,X0o),K7W.o$D(U$x,f5S,k4A,K7W.X6L(7)));}K7W.X6L(0);p$L.lineTo(K7W.o$D(f1B,X0o),K7W.o$D(k4A,2,f5S,K7W.X6U(45)));if(this.stemEntry == X0x){p$L.lineTo(M72,n6M);}K7W.X6L(0);p$L.lineTo(K7W.w65(f1B,X0o),K7W.w65(k4A,f5S,2,K7W.X6L(44)));K7W.X6U(0);p$L.lineTo(K7W.o$D(f1B,X0o),K7W.w65(f5S,U$x,k4A,K7W.X6L(2)));if(this.stemEntry != "lt"){K7W.X6L(0);p$L.quadraticCurveTo(K7W.o$D(f1B,X0o),K7W.w65(U$x,k4A,K7W.X6U(0)),K7W.w65(f5S,f1B,X0o,K7W.X6U(2)),K7W.w65(U$x,k4A,K7W.X6L(0)));;}else {p$L.lineTo(M72,n6M);K7W.X6L(2);p$L.lineTo(K7W.w65(f5S,f1B,X0o),K7W.w65(U$x,k4A,K7W.X6U(0)));}K7W.X6L(44);p$L.lineTo(K7W.o$D(X0o,f5S,2),K7W.o$D(U$x,k4A,K7W.X6U(0)));if(this.stemEntry == t16){p$L.lineTo(M72,n6M);}K7W.X6U(45);p$L.lineTo(K7W.w65(X0o,2,f5S),K7W.w65(U$x,k4A,K7W.X6L(0)));K7W.X6U(7);p$L.lineTo(K7W.o$D(f1B,f5S,X0o),K7W.w65(U$x,k4A,K7W.X6L(0)));p$L.fill();p$L.globalAlpha=1;if(this.pattern != c$f){p$L.stroke();}}if(this.highlighted){e_S.canvasColor("stx_annotation_highlight",p$L);}else {p$L.fillStyle=z$V;}k4A+=this.padding;if(!this.ta){for(var S2l="0" << 0;S2l < this.arr.length;S2l++){p$L.fillText(this.arr[S2l],X0o - f1B + this.padding,k4A - U$x);k4A+=this.fontSize;}}p$L.textBaseline=m4g;if(this.highlighted && !this.noHandles){F$o=this.highlighted == "p0"?!![]:![];this.littleCircle(p$L,M72,n6M,F$o);};};n8.Drawing.callout.prototype.click=function(F49,F1m,L33){var H_d;if(this.stx.overXAxis || this.stx.overYAxis){return;}H_d=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,F1m,L33,H_d.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!!1;this.adjust();return ![];}this.adjust();this.edit(F49);this.penDown=!"1";return !({});};n8.Drawing.callout.prototype.reposition=function(P4s,q9U,M$V,e4w){var p_M,P69,z5_,z4b;if(!q9U){return;}p_M=this.stx.panels[this.panelName];P69=q9U.tick - M$V;z5_=q9U.value - e4w;if(q9U.stem){z4b="m";z4b+="o";z4b+="v";z4b+="e";if(q9U.action == "drag"){this.stem={d:this.stx.dateFromTick(M$V,p_M.chart,!![]),v:e4w};}else if(q9U.action == z4b){this.setPoint(0,q9U.p0["0" ^ 0] - P69,q9U.p0["1" ^ 0] - z5_,p_M.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(q9U.stem.d,p_M.chart) - P69),v:q9U.stem.v - z5_};}this.adjust();}else {K7W.X6L(40);this.setPoint(K7W.w65("0",0),q9U.p0[0] - P69,q9U.p0[1] - z5_,p_M.chart);}this.render(P4s);};n8.Drawing.callout.prototype.lineIntersection=function(y1L,a9q,D4a,o02){var V$n,b6F,Y7d,t3B,P7r,d4a,g14,k2o,B3G,Q_p,j4I;V$n=this.stem;b6F=this.p0;Y7d=this.stx;t3B=Y7d.panels[this.panelName];if(!b6F || !V$n || !t3B){return !({});}P7r=V$n.t || Y7d.tickFromDate(V$n.d,t3B.chart);d4a={x0:b6F[0],x1:P7r,y0:b6F[1],y1:V$n.v};g14=this.boxToPixels(Y7d,this.panelName,d4a,Y7d.getYAxisByField(t3B,this.field));k2o=g14.x0;B3G=g14.y0;Q_p=g14.x1;j4I=g14.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf((9246,1490) < (4270,3520)?"l":(802.65,0x1a4e)) > -1){K7W.X6L(0);var h$W=K7W.w65(10,12);k2o-=this.w / h$W;}else if(this.stemEntry.indexOf((9660,894.01) !== 7710?"r":(7371,5291) != (857.2,+"6181")?0x1b66:0x267) > -1){K7W.X6L(11);var C9k=K7W.o$D(1,3,5);k2o+=this.w / C9k;}if(this.stemEntry.indexOf(8219 == (4510,338)?(779,+"292") > 373.51?"n":("332.17" - 0,"6270" - 0) > 404.01?(9.77e+3,626.90):(0x1672,!({})):"t") > -("1" - 0)){K7W.X6U(7);var E46=K7W.o$D(13,19,8);B3G-=this.h / E46;}else if(this.stemEntry.indexOf("b") > -1){K7W.X6U(47);var c6h=K7W.w65(4,7,1,3,4);B3G+=this.h / c6h;}}return n8.boxIntersects(D4a.cx0,D4a.cy0,D4a.cx1,D4a.cy1,k2o,B3G,Q_p,j4I,o02);};n8.Drawing.callout.prototype.intersected=function(W0z,k_f,z7u){var V8L,o1C,c00,T4T,N4W,u2T,G6U,m1K,p8r,M_L,Z9f,P8X,D56,r2a;V8L=this.stx;o1C=V8L.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,z7u)){c00=559701863;T4T=1895792858;N4W=+"2";for(var H2D=1;K7W.P12(H2D.toString(),H2D.toString().length,90074) !== c00;H2D++){this.highlighted="";N4W+=2;}if(K7W.Q0B(N4W.toString(),N4W.toString().length,29314) !== T4T){this.highlighted="";}this.highlighted="p0";return {action:"drag",stem:!!({})};}u2T=V8L.pixelFromTick(this.p0[+"0"],o1C.chart) - this.w / +"2";K7W.b5b();G6U=V8L.getYAxisByField(o1C,this.field);K7W.X6L(39);var G_l=K7W.w65(1,2);K7W.X6U(0);var z4q=K7W.o$D(38,40);m1K=this.pixelFromValue(o1C,this.p0[0],this.p0[G_l],G6U) - this.h / z4q;p8r=u2T + this.w;M_L=m1K + this.h;if(this.stem && this.stem.x){u2T+=this.stem.x;p8r+=this.stem.x;m1K+=this.stem.y;M_L+=this.stem.y;}Z9f=V8L.pixelFromTick(W0z,o1C.chart);P8X=V8L.pixelFromValueAdjusted(o1C,W0z,k_f);if(Z9f + z7u.r >= u2T && Z9f - z7u.r <= p8r && P8X + z7u.r >= m1K && P8X - z7u.r <= M_L){this.highlighted=!!({});return {p0:n8.clone(this.p0),tick:W0z,value:this.valueOnDrawingAxis(W0z,k_f)};}D56=this.lineIntersection(W0z,k_f,z7u,"segment");if(D56){r2a="mo";r2a+="v";r2a+="e";this.highlighted=!![];return {action:r2a,stem:n8.clone(this.stem),p0:n8.clone(this.p0),tick:W0z,value:this.valueOnDrawingAxis(W0z,k_f)};}return null;};n8.Drawing.fibonacci=function(){K7W.d9F();this.name="fibonacci";this.configurator="fibonacci";};n8.inheritsFrom(n8.Drawing.fibonacci,n8.Drawing.BaseTwoPoint);n8.Drawing.fibonacci.mapping={trend:511.35 !== 291.82?"t":"U",color:"c",parameters:+"4140" === 1367?"G":(178.76,+"371.95") != 662.52?"p":(7826,794.27) === (826,9700)?(359.16,!!({})):(+"0x2310",!!({})),pattern:"pt",opacity:"o",lineWidth:b5M,level:(3660,4430) >= (8140,2700)?"l":"297" - 0 != +"822.85"?!!({}):"H",extendLeft:(+"996.22",8310) >= (6406,344.97)?"e":(9161,3714) !== (+"7560",8420)?866 != 3428?"V":(402.64,"N"):795.72,printLevels:"pl",printValues:t80,timezone:"tz",display:(554.55,776.83) === (319.39,+"727.36")?(!!"1",4.52e+2):"d"};K7W.X6U(0);n8.Drawing.fibonacci.prototype.recommendedLevels=[-K7W.w65(0,"0.618"),-0.382,0,0.382,0.5,0.618,1,1.382,1.618];n8.Drawing.fibonacci.prototype.configs=["color","fillColor",T1r,"pattern",d4S];n8.Drawing.fibonacci.prototype.initializeSettings=function(q48){var H4S,p3t;K7W.d9F();H4S=this.recommendedLevels;if(H4S && !q48.currentVectorParameters.fibonacci.fibsAlreadySet){p3t=q48.currentVectorParameters.fibonacci.fibs;for(var z5e=0;z5e < p3t.length;z5e++){delete p3t[z5e].display;for(var c5K="0" | 0;c5K < H4S.length;c5K++){if(p3t[z5e].level == H4S[c5K]){p3t[z5e].display=!!({});}}}}};n8.Drawing.fibonacci.prototype.setOuter=function(){var R6b,U0$,E77,g7n,m6J,Q0$,c2E,U_i,j4h,S8o,G8m,s0Y,e1m,p14,O85;R6b=this.stx;U0$=R6b.panels[this.panelName];if(!U0$){return;}E77=Math.max(this.p0[1],this.p1[1]);g7n=Math.min(this.p0[1],this.p1[1]);K7W.X6U(0);m6J=K7W.w65(g7n,E77);this.outer={p0:n8.clone(this.p0),p1:n8.clone(this.p1)};Q0$=R6b.pixelFromTick(this.p0[0],U0$.chart);K7W.b5b();c2E=R6b.pixelFromTick(this.p1[+"0"],U0$.chart);U_i=R6b.getYAxisByField(U0$,this.field);j4h=this.pixelFromValue(U0$,this.p0[0],this.p0[1],U_i);S8o=this.pixelFromValue(U0$,this.p1[0],this.p1[1],U_i);G8m=0;K7W.X6L(0);s0Y=K7W.o$D(0,"1");for(var c2S=0;c2S < this.parameters.fibs.length;c2S++){e1m=this.parameters.fibs[c2S];if(e1m.level >= G8m && e1m.level <= s0Y || !e1m.display)continue;p14=this.pixelFromValue(U0$,this.p0[0],S8o < j4h?E77 - m6J * e1m.level:g7n + m6J * e1m.level,U_i);O85=n8.xIntersection({x0:Q0$,x1:c2E,y0:j4h,y1:S8o},p14);if(e1m.level < G8m){G8m=e1m.level;this.outer.p1[1]=this.valueFromPixel(p14,U0$,U_i);this.outer.p1[0]=R6b.tickFromPixel(O85,U0$.chart);}else if(e1m.level > s0Y){s0Y=e1m.level;this.outer.p0[1]=this.valueFromPixel(p14,U0$,U_i);this.outer.p0[0]=R6b.tickFromPixel(O85,U0$.chart);}}};n8.Drawing.fibonacci.prototype.click=function(Q63,k5f,a05){var W8S,C4e,Q9D,v$n;W8S=this.stx.panels[this.panelName];if(!W8S){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,k5f,a05,W8S.chart);this.penDown=!"";return !({});}if(this.accidentalClick(k5f,a05)){return !![];}this.setPoint(1,k5f,a05,W8S.chart);this.setOuter();this.parameters=n8.clone(this.parameters);this.penDown=!"1";C4e=990843549;Q9D=1803326138;v$n=2;for(var x7G=1;K7W.P12(x7G.toString(),x7G.toString().length,40529) !== C4e;x7G++){return !"1";}if(K7W.Q0B(v$n.toString(),v$n.toString().length,32978) !== Q9D){return !![];};};n8.Drawing.fibonacci.prototype.render=function(y_$){var e8M,b$g,X9Z,j6A,A21,p4T,M1N,A6y,l0t,N8s,j11,e9k,u3c,f6Z,J_B,K6v,I2p,S3_,b2b,D2P,l4p,p6L,z$s,d89,J_3,U$p,V29,F1l,g$v,a7l,L54,x07,x4R,n$a,Y8u,W7B,o8B,Q6N,C1r,C5_,x3b,y4U;e8M="so";e8M+="l";e8M+="i";e8M+="d";b$g=this.stx;X9Z=b$g.panels[this.panelName];j6A=b$g.getYAxisByField(X9Z,this.field);if(!X9Z || this.field && !j6A){return;}j6A=j6A || X9Z.yAxis;if(!this.p1){return;}A21=Math.max(this.p0[1],this.p1[1]);p4T=Math.min(this.p0[1],this.p1[1]);M1N=j6A.flipped?p4T - A21:A21 - p4T;A6y=b$g.pixelFromTick(this.p0[+"0"],X9Z.chart);l0t=b$g.pixelFromTick(this.p1[0],X9Z.chart);N8s=this.pixelFromValue(X9Z,this.p0[0],this.p0[+"1"],j6A);j11=this.pixelFromValue(X9Z,this.p1[0],this.p1[1],j6A);e9k=Math.min(j11,N8s);u3c=Math.max(j11,N8s);K7W.X6U(0);f6Z=K7W.w65(e9k,u3c);K7W.X6U(48);K7W.d9F();J_B=K7W.w65(A6y,0,N8s,l0t,j11);K6v={color:"auto",parameters:{pattern:e8M,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=K6v;}I2p=this.getLineColor(this.parameters.trend.color);y_$.textBaseline="middle";b$g.canvasFont("stx_yaxis",y_$);K7W.X6U(0);var d7L=K7W.o$D(15,79);S3_=y_$.measureText("161.8%").width + ("10" << d7L);b2b=Number.MAX_VALUE;D2P=Number.MAX_VALUE;K7W.X6L(7);var E50=K7W.w65(19,20,0);l4p=Number.MAX_VALUE * E50;K7W.X6U(49);var K8C=K7W.o$D(12,20,181,3);p6L=Number.MAX_VALUE * K8C;z$s=this.getLineColor();this.rays=[];for(var Z7J="0" << 0;Z7J < this.parameters.fibs.length;Z7J++){d89="u";d89+="ndefined";J_3="seg";J_3+="me";J_3+="n";J_3+="t";U$p="a";U$p+="u";U$p+="t";U$p+="o";V29="l";V29+="e";V29+="f";V29+="t";y_$.textAlign=V29;y_$.fillStyle=z$s;F1l=this.parameters.fibs[Z7J];if(!F1l.display)continue;g$v=this.pixelFromValue(X9Z,this.p0[0],j11 < N8s?A21 - M1N * F1l.level:p4T + M1N * F1l.level,j6A);a7l=n8.xIntersection({x0:A6y,x1:l0t,y0:N8s,y1:j11},g$v);L54=this.parameters.extendLeft?0:a7l;x07=X9Z.left + X9Z.width;if(this.parameters.printLevels){K7W.X6L(50);var L5y=K7W.o$D(11,16820,998,18,3);K7W.X6L(51);var m9C=K7W.w65(5,1,0,10);K7W.X6U(52);var K7X=K7W.o$D(6,1,136200,129384);K7W.X6U(53);var c9X=K7W.o$D(3286,411,137);x4R=Math.round(F1l.level * L5y) / +"10" + ((656.02,"3596" ^ 0) < "221.18" * m9C?(K7X,c9X):"%");x07-=S3_;if(this.parameters.printValues){y_$.fillStyle=z$s;b$g.canvasFont("stx_yaxis",y_$);;}if(x07 < L54){y_$.textAlign="right";}y_$.fillText(x4R,x07,g$v);if(x07 < L54){x07+=+"5";}else {x07-=5;}}if(this.parameters.printValues){if(a7l < X9Z.width){n$a=this.valueFromPixel(g$v,X9Z,j6A);if(j6A.priceFormatter){n$a=j6A.priceFormatter(b$g,X9Z,n$a);}else {n$a=b$g.formatYAxisPrice(n$a,X9Z,null,j6A);}if(y_$ == b$g.chart.context){b$g.endClip();}b$g.createYAxisLabel(X9Z,n$a,g$v,this.getLineColor(null,!!({})),null,y_$,j6A);if(y_$ == b$g.chart.context){b$g.startClip(X9Z.name);}}}Y8u=F1l.color;if(Y8u == U$p || n8.isTransparent(Y8u)){Y8u=this.getLineColor();}W7B=F1l.color;if(W7B == "auto" || n8.isTransparent(W7B)){W7B=this.fillColor;}if(W7B == "auto" || n8.isTransparent(W7B)){W7B=b$g.defaultColor;}y_$.fillStyle=W7B;o8B=n8.clone(F1l.parameters);if(this.highlighted){o8B.opacity=1;}b$g.plotLine(L54,x07,g$v,g$v,Y8u,J_3,y_$,X9Z,o8B);this.rays.push([[L54,g$v],[x07,g$v]]);K7W.X6U(9);y_$.globalAlpha=K7W.w65(1,"0.05");y_$.beginPath();y_$.moveTo(x07,g$v);y_$.lineTo(L54,g$v);if(L54){y_$.lineTo(l0t,j11);}else {y_$.lineTo(L54,j11);}y_$.lineTo(x07,j11);if(typeof W7B != d89){y_$.fill();}y_$.globalAlpha=1;if(g$v < D2P){b2b=a7l;D2P=g$v;}if(g$v > p6L){l4p=a7l;p6L=g$v;}}for(var D08=+"0";D08 <= +"1";D08++){Q6N=J_B?u3c - f6Z * D08:e9k + f6Z * D08;Q6N=Math.round(Q6N);if(Q6N < D2P){b2b=n8.xIntersection({x0:A6y,x1:l0t,y0:N8s,y1:j11},Q6N);D2P=Q6N;}if(Q6N > p6L){l4p=n8.xIntersection({x0:A6y,x1:l0t,y0:N8s,y1:j11},Q6N);p6L=Q6N;}}C1r=n8.clone(this.parameters.trend.parameters);if(this.highlighted){C1r.opacity=1;}b$g.plotLine(b2b,l4p,D2P,p6L,I2p,"segment",y_$,X9Z,C1r);if(this.highlighted){C5_="p";C5_+="1";x3b=this.highlighted == "p0"?!![]:!!"";y4U=this.highlighted == C5_?!![]:!({});this.littleCircle(y_$,A6y,N8s,x3b);this.littleCircle(y_$,l0t,j11,y4U);}};n8.Drawing.fibonacci.prototype.reposition=function(C$4,B7X,g63,c4M){if(!B7X){return;}K7W.b5b();n8.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};n8.Drawing.fibonacci.prototype.intersected=function(o9c,N_p,U0Y){var G$A,Z_9,y2b,G$q,C7Y,C3F,h_4,s$P,Y3k,i8J;G$A=this.p0;Z_9=this.p1;if(!G$A || !Z_9){return null;}K7W.b5b();y2b={0:G$A,1:Z_9};for(var V70 in y2b){if(this.pointIntersection(y2b[V70]["0" >> 0],y2b[V70][1],U0Y)){K7W.X6U(1);this.highlighted=K7W.o$D(V70,"p");return {action:"drag",point:"p" + V70};}}G$q=this.outer;C7Y=this.rays;C3F=G$q && this.lineIntersection(o9c,N_p,U0Y,"segment",G$q.p0,G$q.p1);if(!C3F){for(var X5r=0;X5r < C7Y.length;X5r++){h_4="r";h_4+="a";h_4+="y";if(this.lineIntersection(o9c,N_p,U0Y,h_4,C7Y[X5r][0],C7Y[X5r][1],!0)){C3F=!!"1";break;}}}if(C3F){this.highlighted=!!({});s$P=981761913;Y3k=322525918;i8J=2;for(var u8G=+"1";K7W.P12(u8G.toString(),u8G.toString().length,97364) !== s$P;u8G++){return {action:"",p0:n8.clone(G$A),p1:n8.clone(Z_9),tick:o9c,value:this.valueOnDrawingAxis(o9c,N_p)};}if(K7W.P12(i8J.toString(),i8J.toString().length,"38972" << 32) !== Y3k){return {action:"move",p0:n8.clone(G$A),p1:n8.clone(Z_9),tick:o9c,value:this.valueOnDrawingAxis(o9c,N_p)};}}return null;};n8.Drawing.fibonacci.prototype.reconstruct=function(p9O,G6D){G6D=n8.replaceFields(G6D,n8.reverseObject(n8.Drawing.fibonacci.mapping));this.stx=p9O;this.parameters=G6D.parameters;if(!this.parameters){this.parameters=n8.clone(this.stx.currentVectorParameters.fibonacci);}this.color=G6D.col;this.fillColor=G6D.fc;this.panelName=G6D.pnl;this.d0=G6D.d0;this.d1=G6D.d1;this.d2=G6D.d2;this.tzo0=G6D.tzo0;this.tzo1=G6D.tzo1;this.tzo2=G6D.tzo2;this.v0=G6D.v0;this.v1=G6D.v1;this.v2=G6D.v2;this.field=G6D.fld;this.adjust();};n8.Drawing.fibonacci.prototype.adjust=function(){var a2A;a2A=this.stx.panels[this.panelName];if(!a2A){return;}this.setPoint(0,this.d0,this.v0,a2A.chart);this.setPoint(1,this.d1,this.v1,a2A.chart);this.setOuter();};n8.Drawing.fibonacci.prototype.serialize=function(){var F7G;F7G={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return n8.replaceFields(F7G,n8.Drawing.fibonacci.mapping);};n8.Drawing.retracement=function(){this.name="retracement";};n8.inheritsFrom(n8.Drawing.retracement,n8.Drawing.fibonacci);n8.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!"1";this.p2=null;};n8.inheritsFrom(n8.Drawing.fibprojection,n8.Drawing.fibonacci);K7W.X6L(0);n8.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,+"2.618",K7W.o$D(0,"4.236")];n8.Drawing.fibprojection.prototype.click=function(S8v,W9k,t9k){var U_d,M74;U_d=this.stx;M74=U_d.panels[this.panelName];if(!M74){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,W9k,t9k,M74.chart);this.penDown=!![];return !1;}if(this.accidentalClick(W9k,t9k)){U_d.undo();return !!({});}if(this.p2 !== null){this.setPoint(+"2",this.p2[0],this.p2[1],M74.chart);this.parameters=n8.clone(this.parameters);return !"";}this.setPoint(1,W9k,t9k,M74.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};n8.Drawing.fibprojection.prototype.render=function(D3q){var H1D,D25,i3I,I8U,v$M,z9T,R5D,R$n,c2J,Q2P,J67,e3F,d8N,S08,R61,T2q,L9G,j_F,E3s,A_l,D7Y,O3R,y6I,Z7v,r7e,l4e,J$$,X3p,N4q,q3_,e3I;H1D="1";H1D+="61.8%";D25="s";D25+="olid";i3I=this.stx;I8U=i3I.panels[this.panelName];v$M=i3I.getYAxisByField(I8U,this.field);if(!I8U || this.field && !v$M){return;}v$M=v$M || I8U.yAxis;if(!this.p1){return;}K7W.X6L(54);var p8$=K7W.o$D(913,1,5,19,50);K7W.X6L(55);var M7v=K7W.w65(10,52,20,18,5);z9T=this.p1["1" << p8$] - this.p0[M7v];R5D=i3I.pixelFromTick(this.p0[0],I8U.chart);R$n=i3I.pixelFromTick(this.p1[0],I8U.chart);c2J=this.pixelFromValue(I8U,this.p0[0],this.p0["1" | 0],v$M);Q2P=this.pixelFromValue(I8U,this.p1[0],this.p1[1],v$M);J67=null;e3F=null;if(this.p2){J67=i3I.pixelFromTick(this.p2[0],I8U.chart);e3F=this.pixelFromValue(I8U,this.p2[0],this.p2[1],v$M);}d8N={color:"auto",parameters:{pattern:D25,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=d8N;}S08=this.getLineColor(this.parameters.trend.color);D3q.textBaseline="middle";i3I.canvasFont("stx_yaxis",D3q);R61=D3q.measureText(H1D).width + +"10";T2q=this.getLineColor();if(this.p2){this.rays=[];for(var E8o=0;E8o < this.parameters.fibs.length;E8o++){D3q.textAlign="left";D3q.fillStyle=T2q;L9G=this.parameters.fibs[E8o];if(!L9G.display)continue;j_F=this.pixelFromValue(I8U,this.p2[0],this.p2[1] + z9T * L9G.level,v$M);E3s=n8.xIntersection({x0:R5D,x1:R$n,y0:c2J,y1:Q2P},j_F);A_l=this.parameters.extendLeft?0:R5D;D7Y=I8U.left + I8U.width;if(this.parameters.printLevels){K7W.X6L(56);var s6S=K7W.o$D(994,10,12,17,10935);K7W.X6U(57);var d2p=K7W.o$D(0,140,3,70,15);K7W.X6L(58);var u1U=K7W.o$D(345,5175,15,357);K7W.X6U(59);var l8y=K7W.w65(4,52883,13,18,3320);K7W.X6U(0);var W5I=K7W.w65(7520,9400);K7W.X6U(60);var E8x=K7W.w65(19,14014560,13,56760);K7W.X6L(61);var Y$v=K7W.w65(4,19,6,7536,37548);O3R=Math.round(L9G.level * s6S) / d2p + ((312.28,u1U) < 898.82?"%":726.48 != (5000,l8y)?W5I >= E8x?("c",+"0x2111"):(Y$v,![]):("s",!"1"));D7Y-=R61;if(this.parameters.printValues){y6I="stx_y";y6I+="a";y6I+="x";y6I+="is";D3q.fillStyle=T2q;i3I.canvasFont(y6I,D3q);;}if(D7Y < A_l){D3q.textAlign="right";}D3q.fillText(O3R,D7Y,j_F);if(D7Y < A_l){K7W.X6U(9);D7Y+=K7W.o$D(1,"5");}else {D7Y-=5;}}if(this.parameters.printValues){if(E3s < I8U.width){Z7v=this.valueFromPixel(j_F,I8U,v$M);if(v$M.priceFormatter){Z7v=v$M.priceFormatter(i3I,I8U,Z7v);}else {Z7v=i3I.formatYAxisPrice(Z7v,I8U,null,v$M);}if(D3q == i3I.chart.context){i3I.endClip();}i3I.createYAxisLabel(I8U,Z7v,j_F,this.getLineColor(null,!!1),null,D3q,v$M);if(D3q == i3I.chart.context){i3I.startClip(I8U.name);}}}r7e=L9G.color;if(r7e == "auto" || n8.isTransparent(r7e)){r7e=this.getLineColor();}l4e=L9G.color;if(l4e == "auto" || n8.isTransparent(l4e)){l4e=this.fillColor;}if(l4e == "auto" || n8.isTransparent(l4e)){l4e=i3I.defaultColor;}D3q.fillStyle=l4e;J$$=n8.clone(L9G.parameters);if(this.highlighted){J$$.opacity=1;}i3I.plotLine(A_l,D7Y,j_F,j_F,r7e,"segment",D3q,I8U,J$$);this.rays.push([[A_l,j_F],[D7Y,j_F]]);D3q.globalAlpha=0.05;D3q.beginPath();D3q.moveTo(D7Y,j_F);D3q.lineTo(A_l,j_F);if(A_l){D3q.lineTo(R5D,e3F);}else {D3q.lineTo(A_l,e3F);}D3q.lineTo(D7Y,e3F);if(typeof l4e != "undefined"){D3q.fill();}D3q.globalAlpha=1;}}X3p=n8.clone(this.parameters.trend.parameters);if(this.highlighted){X3p.opacity=1;}i3I.plotLine(R5D,R$n,c2J,Q2P,S08,"segment",D3q,I8U,X3p);if(this.p2){i3I.plotLine(R$n,J67,Q2P,e3F,S08,"segment",D3q,I8U,X3p);}if(this.highlighted){N4q=this.highlighted == "p0"?!0:!"1";q3_=this.highlighted == "p1"?!!1:![];e3I=this.highlighted == "p2"?!!1:!!"";this.littleCircle(D3q,R5D,c2J,N4q);this.littleCircle(D3q,R$n,Q2P,q3_);this.littleCircle(D3q,J67,e3F,e3I);}};n8.Drawing.fibprojection.prototype.move=function(t2b,I3Y,j$H){if(!this.penDown){return;}this.copyConfig();K7W.b5b();if(this.p2 === null){this.p1=[I3Y,j$H];}else {this.p2=[I3Y,j$H];}this.render(t2b);};n8.Drawing.fibprojection.prototype.reposition=function(S97,s0L,w6Q,n$u){var R00,w9M,V$E,C9j;R00="d";R00+="r";R00+="a";R00+="g";if(!s0L){return;}w9M=this.stx.panels[this.panelName];V$E=s0L.tick - w6Q;C9j=s0L.value - n$u;if(s0L.action == "move"){this.setPoint(0,s0L.p0[0] - V$E,s0L.p0[1] - C9j,w9M.chart);this.setPoint(1,s0L.p1[0] - V$E,s0L.p1[1] - C9j,w9M.chart);K7W.X6U(37);this.setPoint(K7W.w65("2",2),s0L.p2[0] - V$E,s0L.p2[1] - C9j,w9M.chart);this.render(S97);}else if(s0L.action == R00){this[s0L.point]=[w6Q,n$u];this.setPoint(0,this.p0[0],this.p0[+"1"],w9M.chart);K7W.X6U(0);this.setPoint(K7W.w65(0,"1"),this.p1[0],this.p1[1],w9M.chart);this.setPoint(2,this.p2[0],this.p2[1],w9M.chart);this.render(S97);}};n8.Drawing.fibprojection.prototype.intersected=function(r0J,J8_,C$v){var b0D,Z$S,M4K,I_V,S3s,w8k;b0D=this.p0;Z$S=this.p1;M4K=this.p2;if(!b0D || !Z$S || !M4K){return null;}I_V={0:b0D,1:Z$S,2:M4K};K7W.d9F();for(var r2n in I_V){if(this.pointIntersection(I_V[r2n]["0" * 1],I_V[r2n][1],C$v)){K7W.X6U(1);this.highlighted=K7W.o$D(r2n,(914.52,"357.79" - 0) !== ("7820" * 1,918)?"p":(8.57e+3,185.60));return {action:"drag",point:(4630 !== 9630?(1761,+"2630") === (466.29,"6659" << 96)?+"3.33e+3":648.07 < 3150?"p":602.09:(172.70,488)) + r2n};}}S3s=this.rays;w8k=this.lineIntersection(r0J,J8_,C$v,"segment",b0D,Z$S) || this.lineIntersection(r0J,J8_,C$v,"segment",Z$S,M4K);if(!w8k){for(var C5J=0;C5J < S3s.length;C5J++){if(this.lineIntersection(r0J,J8_,C$v,"ray",S3s[C5J][0],S3s[C5J][1],!![])){w8k=!!1;break;}}}if(w8k){this.highlighted=!!({});return {action:"move",p0:n8.clone(b0D),p1:n8.clone(Z$S),p2:n8.clone(M4K),tick:r0J,value:this.valueOnDrawingAxis(r0J,J8_)};}return null;};n8.Drawing.fibprojection.prototype.adjust=function(){var L7C;L7C=this.stx.panels[this.panelName];if(!L7C){return;}this.setPoint(0,this.d0,this.v0,L7C.chart);K7W.X6L(40);this.setPoint(K7W.w65("1",64),this.d1,this.v1,L7C.chart);this.setPoint(2,this.d2,this.v2,L7C.chart);};n8.Drawing.fibarc=function(){K7W.b5b();var R7d;R7d="fi";R7d+="b";R7d+="arc";this.name=R7d;;};n8.inheritsFrom(n8.Drawing.fibarc,n8.Drawing.fibonacci);K7W.X6U(0);n8.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,K7W.w65(0,"0.618"),+"1"];n8.Drawing.fibarc.prototype.setOuter=function(){var I1u,V$D,b$j,q02,g_$,P5B,K9H,B4U,u$D,x4e,v5d,Z8I;I1u=this.stx;K7W.d9F();V$D=I1u.panels[this.panelName];if(!V$D){return;}this.outer={p0:n8.clone(this.p0),p1:n8.clone(this.p1)};b$j=I1u.getYAxisByField(V$D,this.field);q02=this.pixelFromValue(V$D,this.p0[0],this.p0[1],b$j);g_$=this.pixelFromValue(V$D,this.p1["0" | 0],this.p1[+"1"],b$j);P5B=I1u.pixelFromTick(this.p0[0],V$D.chart);K9H=I1u.pixelFromTick(this.p1[0],V$D.chart);K7W.X6U(15);B4U=K7W.w65(g_$,2,q02);u$D=n8.xIntersection({x0:P5B,x1:K9H,y0:q02,y1:g_$},B4U);K7W.X6U(0);this.outer.p0[K7W.w65(0,"1")]=this.valueFromPixel(B4U,V$D,b$j);x4e=335731409;v5d=-1735440445;Z8I=2;for(var j7h=1;K7W.Q0B(j7h.toString(),j7h.toString().length,86180) !== x4e;j7h++){this.outer.p0[3]=I1u.tickFromPixel(u$D,V$D.chart);Z8I+=2;}if(K7W.P12(Z8I.toString(),Z8I.toString().length,40082) !== v5d){this.outer.p0[0]=I1u.tickFromPixel(u$D,V$D.chart);}};n8.Drawing.fibarc.prototype.intersected=function(C8b,N0P,o1r){var S$v,G5t,u5q,F2r,D_R,i4C,V33,b4d,H04,I4c,s2J,y5J,n_Q,J9y,D7t,l7T;S$v="m";S$v+="ove";G5t="segmen";G5t+="t";u5q=this.stx;F2r=u5q.panels[this.panelName];K7W.d9F();if(!F2r){return;}D_R=this.p0;i4C=this.p1;V33=this.outer;if(!D_R || !i4C){return null;}b4d={0:D_R,1:i4C};for(var H8c in b4d){if(this.pointIntersection(b4d[H8c][0],b4d[H8c][+"1"],o1r)){H04="d";H04+="r";H04+="a";H04+="g";K7W.X6L(1);this.highlighted=K7W.w65(H8c,"p");return {action:H04,point:((4437,"2070" - 0) == (5390,7990)?8021 !== "1047" >> 64?(+"715",8094) === ("341" << 32,7327)?("h","k"):!({}):"M":"p") + H8c};}}I4c=this.valueOnDrawingAxis(C8b,N0P);if(this.lineIntersection(C8b,I4c,o1r,G5t,V33.p0,V33.p1)){this.highlighted=!![];return {action:"move",p0:n8.clone(D_R),p1:n8.clone(i4C),tick:C8b,value:I4c};}s2J=u5q.getYAxisByField(F2r,this.field);y5J={x0:D_R[0],x1:i4C[0],y0:D_R[1],y1:i4C["1" >> 32]};n_Q=this.boxToPixels(u5q,this.panelName,y5J,s2J);J9y={x:Math.abs(Math.sqrt(+"2") * (n_Q.x1 - n_Q.x0)),y:Math.abs(Math.sqrt(2) * (n_Q.y1 - n_Q.y0))};D7t=u5q.pixelFromTick(C8b,F2r.chart);l7T=u5q.pixelFromValueAdjusted(F2r,C8b,N0P);if(D7t + o1r.r < n_Q.x1 - J9y.x || D7t - o1r.r > n_Q.x1 + J9y.x){return null;}if(l7T + o1r.r < n_Q.y1 - J9y.y || l7T - o1r.r > n_Q.y1 + J9y.y){return null;}if(n_Q.y0 < n_Q.y1 && l7T - o1r.r > n_Q.y1){return null;}if(n_Q.y0 > n_Q.y1 && l7T + o1r.r < n_Q.y1){return null;}this.highlighted=!0;return {action:S$v,p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:C8b,value:I4c};};n8.Drawing.fibarc.prototype.render=function(D0E){var q_S,b4G,B8h,U3V,n1l,I9q,b8A,H5A,e2_,f6_,v1n,z9F,a3q,s$m,R1i,k2J,w1z,d3k,L81,Z3F,m7l,c$9,Z87,y0X,N8u;q_S="stx_";q_S+="ya";q_S+="xis";b4G=this.stx;B8h=b4G.panels[this.panelName];U3V=b4G.getYAxisByField(B8h,this.field);if(!B8h || this.field && !U3V){return;}U3V=U3V || B8h.yAxis;if(!this.p1){return;}K7W.b5b();n1l=b4G.pixelFromTick(this.p0[0],B8h.chart);I9q=b4G.pixelFromTick(this.p1[+"0"],B8h.chart);b8A=this.pixelFromValue(B8h,this.p0[+"0"],this.p0[1],U3V);H5A=this.pixelFromValue(B8h,this.p1[+"0"],this.p1[+"1"],U3V);K7W.X6U(62);e2_=K7W.w65(H5A,b8A);K7W.X6U(63);f6_=Math.abs(K7W.w65(n1l,b8A,H5A,I9q));v1n=this.getLineColor(this.parameters.trend.color);D0E.textBaseline="middle";b4G.canvasFont(q_S,D0E);z9F=this.getLineColor();for(var N0I=0;N0I < this.parameters.fibs.length;N0I++){D0E.fillStyle=z9F;a3q=this.parameters.fibs[N0I];if(a3q.level < 0 || !a3q.display)continue;K7W.X6U(64);var v2o=K7W.w65(0,13,188,6,14);K7W.X6L(65);var P8A=K7W.o$D(18,39,8,13);s$m=Math.abs(this.p1[v2o] - this.p0[P8A]) * Math.sqrt(+"2") * a3q.level;K7W.X6L(15);var d7z=K7W.w65(98,9,11);K7W.X6U(66);var k5t=K7W.o$D(319,16,20);K7W.X6U(11);var i$Y=K7W.w65(7,1,14);K7W.X6U(0);var i$z=K7W.o$D(11,10);K7W.X6L(67);var x3p=K7W.o$D(1,15,16,1);R1i=this.p1[d7z] + s$m * (e2_?k5t:i$Y) * (U3V.flipped?i$z:x3p);k2J=this.pixelFromValue(B8h,this.p0[0],R1i,U3V);w1z=n8.xIntersection({x0:n1l,x1:I9q,y0:b8A,y1:H5A},k2J);if(this.parameters.printLevels){d3k="ce";d3k+="nter";D0E.textAlign=d3k;K7W.X6L(68);var j09=K7W.o$D(5,6,5,960,53);K7W.X6L(54);var Y7B=K7W.o$D(35,3,20,13,15);K7W.X6L(59);var M9c=K7W.o$D(16,95637,20,12,8716);K7W.X6L(11);var r2K=K7W.w65(4,1,8);K7W.X6L(1);var H1F=K7W.w65(7068,707);L81=Math.round(a3q.level * j09) / Y7B + (M9c <= ("1270" * r2K,H1F)?"A":"%");if(this.parameters.printValues){D0E.fillStyle=z9F;b4G.canvasFont("stx_yaxis",D0E);;}D0E.fillText(L81,I9q,Math.round(k2J - 5));}D0E.textAlign="left";if(this.parameters.printValues){if(w1z < B8h.width){Z3F=R1i;if(U3V.priceFormatter){Z3F=U3V.priceFormatter(b4G,B8h,Z3F);}else {Z3F=b4G.formatYAxisPrice(Z3F,B8h,null,U3V);}if(D0E == b4G.chart.context){b4G.endClip();}b4G.createYAxisLabel(B8h,Z3F,k2J,this.getLineColor(null,!!1),null,D0E,U3V);if(D0E == b4G.chart.context){b4G.startClip(B8h.name);}}}m7l=a3q.color;if(m7l == "auto" || n8.isTransparent(m7l)){m7l=this.getLineColor();}D0E.strokeStyle=m7l;c$9=a3q.color;if(c$9 == "auto" || n8.isTransparent(c$9)){c$9=this.fillColor;}if(c$9 == "auto" || n8.isTransparent(c$9)){c$9=b4G.defaultColor;}D0E.fillStyle=c$9;D0E.globalAlpha=this.highlighted?1:a3q.parameters.opacity;D0E.lineWidth=a3q.parameters.lineWidth;if(D0E.setLineDash){D0E.setLineDash(n8.borderPatternToArray(D0E.lineWidth,a3q.parameters.pattern));D0E.lineDashOffset=0;;}D0E.save();D0E.beginPath();K7W.X6L(4);D0E.scale(K7W.w65(f6_,1),K7W.o$D("1",1,K7W.X6U(37)));K7W.X6L(9);D0E.arc(K7W.o$D(f6_,I9q),H5A,Math.abs(k2J - H5A),0,Math.PI,!e2_);if(this.pattern != "none"){D0E.stroke();}D0E.globalAlpha=0.05;D0E.fill();D0E.restore();if(D0E.setLineDash){D0E.setLineDash([]);}D0E.globalAlpha=1;}D0E.textAlign="left";Z87=n8.clone(this.parameters.trend.parameters);if(this.highlighted){Z87.opacity=1;}K7W.X6L(15);b4G.plotLine(I9q,K7W.w65(I9q,2,n1l),H5A,K7W.w65(H5A,2,b8A),v1n,"segment",D0E,B8h,Z87);if(this.highlighted){y0X=this.highlighted == "p0"?!!"1":!!0;N8u=this.highlighted == "p1"?!![]:!!0;this.littleCircle(D0E,n1l,b8A,y0X);this.littleCircle(D0E,I9q,H5A,N8u);}};n8.Drawing.fibfan=function(){K7W.d9F();this.name="fibfan";;};n8.inheritsFrom(n8.Drawing.fibfan,n8.Drawing.fibonacci);n8.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,+"0.5",0.618,1];n8.Drawing.fibfan.prototype.setOuter=function(){};n8.Drawing.fibfan.prototype.render=function(T_O){var I98,q4i,u66,k6_,A6I,B2o,o10,a15,h5V,N6V,p8j,E1A,x8i,f_n,D6r,B4v,C6S,G4q,d97,o$7,E9s,Y_M,G4G,C1Z,E5p,v6r,F0j,L2J,T1O,C7W,B3h,q6x,i$0;I98=this.stx;q4i=I98.panels[this.panelName];u66=I98.getYAxisByField(q4i,this.field);if(!q4i || this.field && !u66){return;}u66=u66 || q4i.yAxis;K7W.b5b();if(!this.p1){return;}k6_=I98.pixelFromTick(this.p0[0],q4i.chart);A6I=I98.pixelFromTick(this.p1[0],q4i.chart);B2o=this.pixelFromValue(q4i,this.p0[0],this.p0[1],u66);o10=this.pixelFromValue(q4i,this.p1[0],this.p1[1],u66);a15=Math.min(o10,B2o);h5V=Math.max(o10,B2o);K7W.X6U(0);N6V=K7W.o$D(a15,h5V);K7W.X6U(48);p8j=K7W.o$D(k6_,0,B2o,A6I,o10);E1A=this.getLineColor(this.parameters.trend.color);T_O.textBaseline="middle";I98.canvasFont("stx_yaxis",T_O);K7W.X6L(39);var x35=K7W.w65(4,14);x8i=T_O.measureText("161.8%").width + x35;f_n=Number.MAX_VALUE;K7W.X6L(69);var e6h=K7W.o$D(9,21,242,6);D6r=Number.MAX_VALUE * e6h;B4v=this.getLineColor();this.rays=[];for(var A3J=0;A3J < this.parameters.fibs.length;A3J++){C6S="aut";C6S+="o";G4q="l";G4q+="e";G4q+="f";G4q+="t";T_O.fillStyle=B4v;d97=this.parameters.fibs[A3J];if(!d97.display)continue;o$7=this.pixelFromValue(q4i,this.p0[0],(this.p0[1] - this.p1[1]) * d97.level + this.p1[1],u66);E9s=n8.xIntersection({x0:A6I,x1:A6I,y0:B2o,y1:o10},o$7);Y_M=q4i.left;if(A6I > k6_){Y_M+=q4i.width;}K7W.X6U(70);G4G=K7W.w65(k6_,Y_M,o$7,k6_,B2o,B2o,E9s);if(k6_ > Y_M - (this.parameters.printLevels?x8i + 5:+"0") && A6I > k6_)continue;else if(k6_ < Y_M + (this.parameters.printLevels?x8i + 5:0) && A6I < k6_)continue;if(this.parameters.printLevels){K7W.X6U(7);var c9z=K7W.o$D(6,25,1019);K7W.X6L(30);var u_y=K7W.w65(0,5,3,5,7);K7W.X6L(0);var I2w=K7W.o$D(15850,19020);K7W.X6U(71);var z70=K7W.w65(856,2,12,12,160);K7W.X6L(3);var T7U=K7W.w65(413,3730,4,17);K7W.X6L(7);var h8Y=K7W.o$D(6,173310,182932);K7W.X6L(72);var I40=K7W.o$D(7718,1816,17,2,225);K7W.X6U(7);var m7k=K7W.w65(16,14086,18760);C1Z=Math.round(d97.level * c9z) / u_y + (940.36 != (931.41,I2w)?"%":"4635" >> z70 >= T7U?h8Y !== I40?(m7k,"K"):"L":"L");if(A6I > k6_){Y_M-=x8i;T_O.textAlign="left";}else {E5p="r";E5p+="ig";E5p+="h";E5p+="t";Y_M+=x8i;T_O.textAlign=E5p;}if(this.parameters.printValues){T_O.fillStyle=B4v;I98.canvasFont("stx_yaxis",T_O);;}K7W.X6L(70);G4G=K7W.w65(k6_,Y_M,o$7,k6_,B2o,B2o,E9s);T_O.fillText(C1Z,Y_M,G4G);if(A6I > k6_){Y_M-=5;}else {K7W.X6U(9);Y_M+=K7W.w65(1,"5");}}T_O.textAlign=G4q;if(this.parameters.printValues){if(E9s < q4i.width){v6r=this.valueFromPixel(o$7,q4i,u66);if(u66.priceFormatter){v6r=u66.priceFormatter(I98,q4i,v6r);}else {v6r=I98.formatYAxisPrice(v6r,q4i,null,u66);}if(T_O == I98.chart.context){I98.endClip();}I98.createYAxisLabel(q4i,v6r,o$7,this.getLineColor(null,!![]),null,T_O,u66);if(T_O == I98.chart.context){I98.startClip(q4i.name);}}}F0j=d97.color;if(F0j == C6S || n8.isTransparent(F0j)){F0j=this.getLineColor();}L2J=d97.color;if(L2J == "auto" || n8.isTransparent(L2J)){L2J=this.fillColor;}if(L2J == "auto" || n8.isTransparent(L2J)){L2J=I98.defaultColor;}T_O.fillStyle=L2J;if(this.parameters.printLevels){K7W.X6U(70);G4G=K7W.o$D(k6_,Y_M,o$7,k6_,B2o,B2o,E9s);}T1O=n8.clone(d97.parameters);if(this.highlighted){K7W.X6L(40);T1O.opacity=K7W.w65("1",32);}I98.plotLine(k6_,Y_M,B2o,G4G,F0j,"segment",T_O,q4i,T1O);this.rays.push([[k6_,B2o],[Y_M,G4G]]);T_O.globalAlpha=0.05;T_O.beginPath();T_O.moveTo(Y_M,G4G);T_O.lineTo(k6_,B2o);T_O.lineTo(Y_M,B2o);T_O.fill();T_O.globalAlpha=1;if(o$7 < f_n){f_n=o$7;}if(o$7 > D6r){D6r=o$7;}}for(var H6P=0;H6P <= +"1";H6P++){C7W=p8j?h5V - N6V * H6P:a15 + N6V * H6P;C7W=Math.round(C7W);if(C7W < f_n){f_n=C7W;}if(C7W > D6r){D6r=C7W;}}if(this.highlighted){B3h="p";B3h+="0";q6x=this.highlighted == B3h?!!1:![];i$0=this.highlighted == "p1"?!"":!({});this.littleCircle(T_O,k6_,B2o,q6x);this.littleCircle(T_O,A6I,o10,i$0);}};n8.Drawing.fibtimezone=function(){this.name="fibtimezone";;};n8.inheritsFrom(n8.Drawing.fibtimezone,n8.Drawing.fibonacci);n8.Drawing.fibtimezone.prototype.render=function(M6o){var e7I,u2h,u7Q,U7Y,q_b,K$R,k4p,r5s,X21,M6M,m2A,h6L,M2k,s2M,R9N,t30,B$r,T1v,h9m,t4W,d5d,g3v,G4D;e7I="se";e7I+="g";e7I+="ment";u2h="cen";u2h+="ter";u7Q="m";u7Q+="idd";u7Q+="l";u7Q+="e";var {stx:B3F}=this;U7Y=B3F.panels[this.panelName];q_b=B3F.getYAxisByField(U7Y,this.field);if(!U7Y || this.field && !q_b){return;}q_b=q_b || U7Y.yAxis;if(!this.p1){return;}var {chart:J36, left:E1g, width:w8G}=U7Y;var {p0:b4j, p1:l$X, parameters:Y59, highlighted:j8O}=this;K$R=B3F.pixelFromTick(b4j[0],J36);k4p=B3F.pixelFromTick(l$X[0],J36);r5s=this.pixelFromValue(U7Y,b4j[0],b4j[+"1"],q_b);X21=this.pixelFromValue(U7Y,l$X[0],l$X[1],q_b);M6M=[1,+"0"];m2A=this.getLineColor(Y59.trend.color);M6o.textBaseline=u7Q;B3F.canvasFont("stx_yaxis",M6o);h6L=+"20";M2k=this.p1[0] - this.p0[0];s2M=this.getLineColor();M6o.textAlign=u2h;R9N=K$R;t30=0;var {top:f1_}=q_b;B$r=q_b.bottom;var {printLevels:h_2, timezone:Z1L}=Y59;T1v=Z1L.color;if(T1v == "auto" || n8.isTransparent(T1v)){T1v=this.getLineColor();}h9m=Z1L.color;if(h9m == "auto" || n8.isTransparent(h9m)){h9m=this.fillColor;}if(h9m == "auto" || n8.isTransparent(h9m)){h9m=B3F.defaultColor;}if(h_2){K7W.X6U(0);B$r-=K7W.o$D(7,h6L);}t4W=n8.clone(Y59.timezone.parameters);if(j8O){t4W.opacity=1;}while(!![]){R9N=B3F.pixelFromTick(b4j[0] + t30 * M2k,J36);if(K$R < k4p && R9N > E1g + w8G || K$R > k4p && R9N < E1g)break;if(h_2){M6o.fillStyle=s2M;M6o.fillText(k4p > K$R?t30:t30 * -("1" << 64),R9N,B$r + 7);}M6o.fillStyle=h9m;B3F.plotLine(R9N,R9N,0,B$r,T1v,"segment",M6o,U7Y,t4W);K7W.X6U(9);M6o.globalAlpha=K7W.w65(1,"0.05");M6o.beginPath();M6o.moveTo(K$R,f1_);M6o.lineTo(R9N,f1_);M6o.lineTo(R9N,B$r);M6o.lineTo(K$R,B$r);M6o.fill();M6o.globalAlpha=1;t30=M6M[0] + M6M[+"1"];M6M.unshift(t30);if(!M2k)break;}M6o.textAlign="left";B3F.plotLine(K$R,k4p,r5s,X21,m2A,e7I,M6o,U7Y,t4W);if(this.highlighted){d5d=j8O == "p0"?!0:!"1";g3v=j8O == "p1"?!![]:!({});this.littleCircle(M6o,K$R,r5s,d5d);this.littleCircle(M6o,k4p,X21,g3v);}else {G4D=this.valueFromPixel(U7Y.height / 2,U7Y,q_b);K7W.X6L(37);this.setPoint(K7W.w65("0",0),b4j[0],G4D,J36);this.setPoint(1,l$X[0],G4D,J36);}};n8.Drawing.fibtimezone.prototype.intersected=function(B0u,X8A,u9F){K7W.d9F();var N7C,h_d,c7F,z7E,l85;N7C=this.p0;h_d=this.p1;c7F=this.stx.panels[this.panelName];if(!N7C || !h_d || !c7F){return null;}z7E={0:N7C,1:h_d};for(var L1J in z7E){if(this.pointIntersection(z7E[L1J]["0" * 1],z7E[L1J][1],u9F)){K7W.X6U(1);this.highlighted=K7W.o$D(L1J,(+"4350",15.64) < (9269,861.54)?(831.58,6430) <= ("7167" << 64,4025)?6600 <= 9929?(8.91e+3,"s"):0x33c:"p":"4.49e+3" | 0);return {action:"drag",point:"p" + L1J};}}l85=this.lineIntersection(B0u,X8A,u9F,"segment");if(l85 || u9F.x0 <= this.p0[0] && u9F.x1 >= N7C[0]){this.highlighted=!!({});return {action:"move",p0:n8.clone(N7C),p1:n8.clone(h_d),tick:B0u,value:this.valueOnDrawingAxis(B0u,X8A)};}return null;};n8.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];K7W.X6L(0);this.points=[[(482.97,298) >= 3860?0xaa7:6960 <= ("1077" | 21)?9756 >= (165.54,5747)?0x1a2f:826.99:"M",3,0,(3551,+"364.58") > (7730,237.56)?(822,9980) > 844.4?"L":(!"1",+"1.22e+3"):(0x17f6,"130.73" - 0),7,0,(3761,8163) < 486?(8340,9217) == 463?0x14:(+"800.38",1.23e+3):"L",7,5,"L",10,+"5",(390.88,5616) <= (6984,228.43)?"958.69" - 0:"L",5,K7W.o$D(0,"10"),"L",0,5,(6236,301) == (8163,687)?(9.94e+3,+"0x1f19"):"9740" * 1 != 9159?"L":(2816,+"18.95") < (9883,5404)?(719.18,!!({})):("X",!![]),3,5,(39.57,2546) < (+"7640",7351)?"L":(+"154.73",801.24),3,0]];;};n8.inheritsFrom(n8.Drawing.arrow_v0,n8.Drawing.shape);n8.Drawing.xcross=function(){this.name="xcross";K7W.d9F();this.dimension=[7,7];K7W.X6U(0);this.points=[[6400 === (574.04,8400)?(5.26e+3,+"0x225d"):"M",+"1",0,(+"3050",7726) == 6570?2620 == 4266?(+"202.60",0x1539):("m","E"):"L",3,+"2",("1470" * 1,48) > ("1973" ^ 0)?6753 <= 4624?"9.21e+3" | 24:!({}):"L",5,0,(4400,"102" - 0) == (7290,4960)?7990 === 9642?(850.12,+"0x2702"):(9.16e+3,0x10f9):"L",6,1,"L",4,3,"L",6,5,(551,9749) <= 299.54?("x",544.39):"L",5,K7W.o$D(0,"6"),(475.94,762.29) !== (6087,633)?(1691,107.89) != 8863?"L":6170 !== 3350?5.91e+3:9.59e+3:!![],K7W.o$D("3",3,K7W.X6L(37)),K7W.w65("4",32,K7W.X6U(17)),+"606" !== 1380?"L":"d",K7W.w65(0,"1",K7W.X6L(0)),6,(2230,8200) >= (2868,368.79)?(813.22,523.7) < (4790,3870)?"L":("0x12bd" | 33,958.81):(0xc98,"T"),+"0",+"5","L",2,3,"L",0,+"1",(1420,6102) >= (175.03,+"6770")?(6980,8110) >= (7929,349.09)?!![]:4.35e+3:"L",1,0]];;};n8.inheritsFrom(n8.Drawing.xcross,n8.Drawing.shape);n8.Drawing.check=function(){K7W.d9F();var o85;o85="chec";o85+="k";this.name=o85;this.dimension=[8,9];K7W.X6L(40);this.points=[[354.49 != (7282,984.13)?(+"1660",690.31) <= (4920,9265)?(6060,4804) > 1806?"M":0x2be:(!!"",672.18):369.67,K7W.w65("1",64),+"5","L",0,6,1390 > 187.34?"L":0x230,2,8,+"357.28" !== (2930,891.46)?876.8 != ("946.33" - 0,524.36)?"L":0x1d5d:7.03e+3,7,1,8179 == 177.61?"t":84.44 < (6024,156)?"L":(316,3593) !== (338.25,8790)?![]:816.32,6,K7W.w65("0",0,K7W.X6L(40)),"520.95" - 0 < 5872?(8549,4340) === (252.62,+"974.06")?(9250,3990) < (116.77,6387)?!!({}):(0x12be,!""):"L":"X",K7W.w65(0,"2",K7W.X6L(0)),+"6",2453 === 210.71?!1:575.05 === ("2420" ^ 0)?(1896,858) > 6930?(!!"","880.39" - 0):(!"","d"):"L",1,+"5"]];;};n8.inheritsFrom(n8.Drawing.check,n8.Drawing.shape);n8.Drawing.star=function(){var K_e;K_e="s";K_e+="t";K_e+="a";K7W.b5b();K_e+="r";this.name=K_e;K7W.X6L(37);this.dimension=[K7W.w65("12",12),12];K7W.X6U(17);this.points=[[789.26 != (142.58,"8083" << 64)?"M":7047 > 977.77?(677.27,5650) != (521,804.6)?(2.66e+3,!""):"U":!!"",0,+"4",(4100,3479) < (8997,"944.83" - 0)?0x2144:(3560,"8472" << 32) !== 296?9254 <= ("8598" | 2)?(0x54a,!""):"L":945.96,K7W.w65("4",64),4,(9500,1678) >= 9791?5480 != "581" >> 32?!![]:"885.75" * 1:"L",5.5,0,"L",K7W.o$D(0,"7",K7W.X6L(0)),4,"L",11,4,532.88 !== 9790?"L":!0,8,7,"L",9,11,"7850" << 32 == 5010?!"1":(8600,5109) <= 339.53?5.80e+3:("7165" << 64,+"8483") <= 21.55?(+"7.97e+3",9.17e+3):"L",5.5,9,("5530" | 26,314) <= (2570,+"5860")?"L":6310 === 1720?!!1:6418 >= 29.52?+"0x1ff1":"k",K7W.w65("2",64,K7W.X6U(17)),+"11",7150 != (2022,295.69)?"L":0x15c7,3,7,"L",0,4]];;};n8.inheritsFrom(n8.Drawing.star,n8.Drawing.shape);n8.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];K7W.X6L(0);this.points=[[8960 != (9561,9883)?(4370,+"653") >= (105.98,586.04)?"M":!![]:(0x2231,0x2477),+"11",3,"B",11,2.4,+"10",0,6,K7W.o$D(0,"0"),9800 >= 5762?(7064,575.86) == (179.18,"653" ^ 0)?598.49 === 800.9?(579.39,0x2321):("h",0x175f):"B":600.78,0,0,0,K7W.w65(1,"7.5",K7W.X6U(9)),K7W.w65("0",64,K7W.X6U(17)),7.5,465.11 !== 5140?"B":(197.95,964.55) === (555.68,8990)?("r",+"8.28e+3"):(!![],0x136b),0,11,+"4",15.4,11,+"19",(5920,638.12) <= 1660?"B":+"4631" < (4570,"441.74" - 0)?(9.64e+3,5.93e+3):(770.55,"t"),18,15.4,22,+"11",22,7.5,(790.53,"8700" - 0) !== 443.22?"B":"J",22,7.5,22,0,16,0,(1001,+"448") === (4220,224.46)?("0x139" - 0,301.16):"B",13,0,11,2.4,11,3]];;};n8.inheritsFrom(n8.Drawing.heart,n8.Drawing.shape);n8.Drawing.focusarrow=function(){var P$$;P$$="f";P$$+="oc";P$$+="usarro";P$$+="w";this.name=P$$;K7W.d9F();this.dimension=[7,5];K7W.X6U(9);this.points=[[201.83 <= (122.09,+"6260")?"M":+"5450" > (+"1750",5220)?("a",657.65):!![],0,0,"L",+"2",2,8460 == (6090,3160)?!"1":"L",0,4,"L",0,+"0"],[438.34 !== (4729,8900)?"M":9.68e+3,6,0,"L",4,2,7390 !== 874.48?"L":(+"0x5cf",+"2.83e+3"),K7W.w65(1,"6"),4,189.21 >= ("5858" | 32)?(7.64e+2,0x67f):(+"1140","36" ^ 0) >= (766.55,963)?(403.99,1264) !== ("2480" << 0,117)?(788.00,+"3.95e+3"):9.52e+3:"L",6,0]];;};n8.inheritsFrom(n8.Drawing.focusarrow,n8.Drawing.shape);n8.Drawing.crossline=function(){K7W.d9F();this.name="crossline";};n8.inheritsFrom(n8.Drawing.crossline,n8.Drawing.horizontal);n8.extend(n8.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(O7N,D38){K7W.b5b();return !!0;},adjust:function(){var g5_;g5_=this.stx.panels[this.panelName];if(!g5_){return;}this.setPoint(+"0",this.d0,this.v0,g5_.chart);this.p1=n8.clone(this.p0);},intersected:function(l$6,U__,j2A){var Q0E,I4G;if(!this.p0 || !this.p1){return null;}K7W.X6L(9);this.p1[0]+=K7W.w65(1,"1");Q0E=this.lineIntersection(l$6,U__,j2A,"line");this.p1=n8.clone(this.p0);if(!Q0E){I4G="l";I4G+="in";I4G+="e";this.p1[1]+=1;Q0E=this.lineIntersection(l$6,U__,j2A,I4G);this.p1=n8.clone(this.p0);if(!Q0E){return null;}}this.highlighted=!!({});if(this.pointIntersection(this.p0[0],this.p0[1],j2A)){this.highlighted="p0";}return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:l$6,value:this.valueOnDrawingAxis(l$6,U__)};},render:function(c$Q){var Y_E,c6q,J0a,l$3,d7C,p9_,p3w,j5p,R4l,c4Z,R2c,m_G,n5R,h24,b2g,q0d,n_Y;Y_E="ho";Y_E+="rizont";Y_E+="al";c6q=this.stx;J0a=c6q.panels[this.panelName];l$3=c6q.getYAxisByField(J0a,this.field);if(!J0a || this.field && !l$3){return;}l$3=l$3 || J0a.yAxis;d7C=c6q.pixelFromTick(this.p0[0],J0a.chart);p9_=this.pixelFromValue(J0a,this.p0[0],this.p0[1],l$3);p3w=this.getLineColor();j5p={pattern:this.pattern,lineWidth:this.lineWidth};K7W.X6L(1);c6q.plotLine(d7C,K7W.o$D(100,d7C),p9_,p9_,p3w,Y_E,c$Q,J0a,j5p);K7W.X6L(1);c6q.plotLine(d7C,d7C,p9_,K7W.o$D(100,p9_),p3w,"vertical",c$Q,J0a,j5p);if(this.axisLabel && !this.repositioner){c6q.endClip();K7W.X6U(0);R4l=this.p0[K7W.w65(0,"1")];if(J0a.chart.transformFunc){R4l=J0a.chart.transformFunc(c6q,J0a.chart,R4l);}if(l$3.priceFormatter){R4l=l$3.priceFormatter(c6q,J0a,R4l);}else {R4l=c6q.formatYAxisPrice(R4l,J0a,null,l$3);}c6q.createYAxisLabel(J0a,R4l,p9_,p3w,null,null,l$3);c6q.startClip(J0a.name);if(this.p0[0] >= +"0" && !c6q.chart.xAxis.noDraw){c4Z=c6q.dateFromTick(this.p0[0],J0a.chart,!![]);if(!n8.ChartEngine.isDailyInterval(c6q.layout.interval)){K7W.X6L(1);var F3z=K7W.o$D(6,994);m_G=c4Z.getSeconds() * F3z + c4Z.getMilliseconds();if(t2.Date && c6q.displayZone){R2c=new t2.Date(c4Z.getTime(),c6q.displayZone);c4Z=new Date(R2c.getFullYear(),R2c.getMonth(),R2c.getDate(),R2c.getHours(),R2c.getMinutes());c4Z=new Date(c4Z.getTime() + m_G);}}else {c4Z.setHours(0,0,0,0);}n5R=n8.mmddhhmm(n8.yyyymmddhhmm(c4Z));if(J0a.chart.xAxis.formatter){h24=-1418115085;b2g=360824597;q0d=2;for(var C6h=1;K7W.P12(C6h.toString(),C6h.toString().length,"29812" >> 32) !== h24;C6h++){n5R=J0a.chart.xAxis.formatter(c4Z,this.name,null,null,n5R);q0d+=2;}if(K7W.Q0B(q0d.toString(),q0d.toString().length,+"72636") !== b2g){n5R=J0a.chart.xAxis.formatter(c4Z,this.name,1,1,n5R);}}else if(this.stx.internationalizer){n5R=n8.displayableDate(c6q,c6q.chart,c4Z);}c6q.endClip();c6q.createXAxisLabel({panel:J0a,txt:n5R,x:d7C,backgroundColor:p3w,color:null,pointed:!"",padding:2});c6q.startClip(J0a.name);}}K7W.b5b();if(this.highlighted){n_Y=this.highlighted == "p0"?!0:!!0;this.littleCircle(c$Q,d7C,p9_,n_Y);}}},!!1);n8.Drawing.speedarc=function(){var o2x;o2x="s";o2x+="p";o2x+="eedarc";this.name=o2x;this.printLevels=!!"1";};n8.inheritsFrom(n8.Drawing.speedarc,n8.Drawing.segment);n8.extend(n8.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor",O$3,"pattern"],copyConfig:function(){var s4n;s4n=this.stx.currentVectorParameters;this.color=s4n.currentColor;this.fillColor=s4n.fillColor;K7W.d9F();this.lineWidth=s4n.lineWidth;this.pattern=s4n.pattern;},intersected:function(i5d,R3e,k29){var M7p,D2n,i93,n71,p7K,W1w,R89,R_f;M7p="mo";M7p+="ve";if(!this.p0 || !this.p1){return null;}D2n={0:this.p0,1:this.p1};for(var Y1D in D2n){if(this.pointIntersection(D2n[Y1D][0],D2n[Y1D][1],k29)){K7W.X6U(1);this.highlighted=K7W.w65(Y1D,"p");return {action:"drag",point:(340.72 < 6854?(9430,134) > (777,"1122" - 0)?(0x1d99,0x21de):"p":("b",0x696)) + Y1D};}}i93=this.valueOnDrawingAxis(i5d,R3e);n71=this.lineIntersection(i5d,R3e,k29,this.name);if(n71){this.highlighted=!!1;return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:i5d,value:i93};}p7K=this.p1[0] - (this.p0["0" | 0] - this.p1[0]);W1w=this.p0[0];R89=this.p1[1];R_f=this.p0[+"1"];if(i5d > Math.max(p7K,W1w) || i5d < Math.min(p7K,W1w)){return null;}if(i93 > Math.max(R_f,R89) || i93 < Math.min(R_f,R89)){return null;}this.highlighted=!![];K7W.d9F();return {action:M7p,p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:i5d,value:i93};},render:function(U97){var l10,t1B,X0j,P14,A65,D8r,f_B,G38,D0N,L5Q,k3t,t8r,j6Y,d3L,R$H,z3s,w7T,E98,z$S,X20,i2k,z3M;l10="l";l10+="e";l10+="f";l10+="t";t1B="stx_y";t1B+="axi";t1B+="s";X0j=this.stx;P14=X0j.panels[this.panelName];A65=X0j.getYAxisByField(P14,this.field);if(!P14 || this.field && !A65){return;}A65=A65 || P14.yAxis;if(!this.p1){return;}D8r=X0j.pixelFromTick(this.p0[0],P14.chart);f_B=X0j.pixelFromTick(this.p1[0],P14.chart);G38=this.pixelFromValue(P14,this.p0["0" - 0],this.p0[1],A65);D0N=this.pixelFromValue(P14,this.p1[0],this.p1[1],A65);K7W.X6U(62);L5Q=K7W.w65(D0N,G38);K7W.X6L(63);k3t=Math.abs(K7W.o$D(D8r,G38,D0N,f_B));t8r=this.getLineColor();U97.strokeStyle=t8r;j6Y=this.fillColor;if(j6Y == "auto" || n8.isTransparent(j6Y)){j6Y=X0j.defaultColor;}U97.fillStyle=j6Y;if(U97.setLineDash){U97.setLineDash(n8.borderPatternToArray(this.lineWidth,this.pattern));U97.lineDashOffset=0;;}X0j.canvasFont(t1B,U97);for(var O0H=+"1";O0H < 3;O0H++){K7W.X6L(0);var n4a=K7W.w65(18,19);K7W.X6L(73);var V57=K7W.w65(1,1,12,5,9);K7W.X6U(74);var k_Z=K7W.w65(7,21,63,25,12);d3L=Math.abs(this.p1[n4a] - this.p0["1" << 0]) * Math.sqrt(V57) * O0H / k_Z;K7W.X6U(0);var t6Z=K7W.w65(18,19);K7W.X6U(33);var b0y=K7W.o$D(9,16,8);K7W.X6L(33);var e$m=K7W.w65(4,19,14);K7W.X6L(75);var A6c=K7W.w65(3167,18,16,11);R$H=this.p1["1" * t6Z] + d3L * (L5Q?b0y:e$m) * (A65.flipped?A6c:+"1");z3s=this.pixelFromValue(P14,this.p0[0],R$H,A65);U97.save();U97.beginPath();K7W.X6L(4);U97.scale(K7W.w65(k3t,1),1);K7W.X6U(9);U97.arc(K7W.w65(k3t,f_B),D0N,Math.abs(z3s - D0N),0,Math.PI,!L5Q);U97.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){U97.stroke();}U97.globalAlpha=0.1;U97.fill();U97.restore();U97.globalAlpha=1;if(this.printLevels){w7T="/";w7T+="3";U97.fillStyle=t8r;U97.textAlign="center";K7W.X6L(1);E98=K7W.o$D(w7T,O0H);U97.fillText(E98,f_B,Math.round(z3s - 5));U97.fillStyle=j6Y;}}U97.textAlign=l10;z$S={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};X0j.plotLine(D8r,f_B,G38,D0N,t8r,"segment",U97,P14,z$S);if(U97.setLineDash){U97.setLineDash([]);}if(this.highlighted){X20="p";X20+="1";i2k=this.highlighted == "p0"?!!"1":!"1";z3M=this.highlighted == X20?!"":![];this.littleCircle(U97,D8r,G38,i2k);this.littleCircle(U97,f_B,D0N,z3M);}},reconstruct:function(V_s,G5r){this.stx=V_s;this.color=G5r.col;this.fillColor=G5r.fc;this.panelName=G5r.pnl;this.pattern=G5r.ptrn;K7W.b5b();this.lineWidth=G5r.lw;this.d0=G5r.d0;this.d1=G5r.d1;this.tzo0=G5r.tzo0;this.tzo1=G5r.tzo1;this.v0=G5r.v0;this.v1=G5r.v1;this.field=G5r.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!!({}));n8.Drawing.speedline=function(){this.name="speedline";K7W.b5b();this.printLevels=!![];};n8.inheritsFrom(n8.Drawing.speedline,n8.Drawing.speedarc);n8.extend(n8.Drawing.speedline.prototype,{intersected:function(o6c,U4H,B8X){var K0R,u6J,y24,S3v;K0R=this.p0;u6J=this.p1;if(!K0R || !u6J){return null;}y24={0:K0R,1:u6J};for(var i9B in y24){if(this.pointIntersection(y24[i9B][0],y24[i9B][1],B8X)){K7W.X6L(1);this.highlighted=K7W.w65(i9B,1516 == "900.73" - 0?(4210,313.74) == 156.92?("838" - 0,"m"):"A":"p");return {action:"drag",point:"p" + i9B};}}S3v=this.rays;for(var f9P="0" ^ 0;f9P < S3v.length;f9P++){if(this.lineIntersection(o6c,U4H,B8X,"ray",S3v[f9P][0],S3v[f9P][1],!"")){this.highlighted=!!1;return {action:"move",p0:n8.clone(K0R),p1:n8.clone(u6J),tick:o6c,value:this.valueOnDrawingAxis(o6c,U4H)};}}return null;},render:function(o58){var m45,I1h,X73,b4f,Z3N,W1Z,s5X,A4i,g$X,W9U,P5D,S$y,R3a,k3s,k34,e5C,e4v,m8H,d1U,O4M,z1C,r2L,s4Z,U72,d_w,z$B,S1w,u$d;m45="m";m45+="i";m45+="dd";m45+="le";I1h="2/";I1h+="3";X73="stx";X73+="_yaxis";b4f=this.stx;Z3N=b4f.panels[this.panelName];W1Z=b4f.getYAxisByField(Z3N,this.field);if(!Z3N || this.field && !W1Z){return;}if(!this.p1){return;}s5X=b4f.pixelFromTick(this.p0[0],Z3N.chart);A4i=b4f.pixelFromTick(this.p1[0],Z3N.chart);g$X=this.pixelFromValue(Z3N,this.p0[0],this.p0[1],W1Z);W9U=this.pixelFromValue(Z3N,this.p1[+"0"],this.p1[1],W1Z);b4f.canvasFont(X73,o58);P5D=this.getLineColor();o58.strokeStyle=P5D;S$y=this.fillColor;if(S$y == "auto" || n8.isTransparent(S$y)){S$y=b4f.defaultColor;}o58.fillStyle=S$y;K7W.d9F();R3a={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};e5C=[(+"3562",5802) > 4510?"1":755.88,I1h,"1/3","3/2",2524 < 8939?"3":679.93 == (2250,725.42)?(541.79,987.06):(280.49,695.48) == (884,407.62)?("8.13e+3" - 0,![]):364.33];K7W.X6L(4);e4v=[1,K7W.w65(3,2),K7W.w65("1",3,K7W.X6L(76)),K7W.w65(2,3,K7W.X6U(4)),3];m8H=[];this.rays=[];for(var Q4o="0" - 0;Q4o < e4v.length;Q4o++){d1U=e4v[Q4o];if(d1U > 1 && !this.extension)continue;O4M=this.pixelFromValue(Z3N,this.p0[0],this.p0[1] - (this.p0["1" - 0] - this.p1[1]) * d1U,W1Z);if(d1U > 1){z1C=n8.xIntersection({x0:s5X,x1:A4i,y0:g$X,y1:O4M},W9U);m8H.push(z1C);}else {z1C=n8.xIntersection({x0:A4i,x1:A4i,y0:g$X,y1:W9U},O4M);m8H.push(O4M);}r2L=d1U > "1" << 0?z1C:A4i;s4Z=d1U > 1?W9U:O4M;if(!this.confineToGrid){r2L=Z3N.left;if(A4i > s5X){r2L+=Z3N.width;}K7W.X6U(70);s4Z=K7W.w65(s5X,r2L,O4M,s5X,g$X,g$X,A4i);}if(this.printLevels){if(d1U != 1 || this.extension){o58.fillStyle=P5D;U72=0;d_w=0;if(g$X > W9U){d_w=-5;o58.textBaseline="bottom";}else {z$B="to";z$B+="p";d_w=5;o58.textBaseline=z$B;}if(s5X > A4i){U72=5;o58.textAlign="right";}else {U72=-5;o58.textAlign="left";}if(d1U > 1){o58.fillText(e5C[Q4o],z1C + (this.confineToGrid?+"0":U72),W9U);}else {o58.fillText(e5C[Q4o],A4i,O4M + (this.confineToGrid?0:d_w));}o58.fillStyle=S$y;}}b4f.plotLine(s5X,r2L,g$X,s4Z,P5D,"segment",o58,Z3N,R3a);if(d1U == 1){k3s=r2L;k34=s4Z;}this.rays.push([[s5X,g$X],[r2L,s4Z]]);o58.globalAlpha=0.1;o58.beginPath();o58.moveTo(r2L,s4Z);o58.lineTo(s5X,g$X);o58.lineTo(k3s,k34);o58.fill();o58.globalAlpha=1;}o58.textAlign="left";o58.textBaseline=m45;if(this.confineToGrid){K7W.X6U(0);o58.globalAlpha=K7W.o$D(0,"0.3");o58.beginPath();K7W.X6L(0);o58.strokeRect(s5X,g$X,K7W.o$D(s5X,A4i),K7W.o$D(g$X,W9U));o58.moveTo(s5X,m8H[1]);o58.lineTo(A4i,m8H[1]);o58.moveTo(s5X,m8H["2" << 32]);o58.lineTo(A4i,m8H[2]);if(this.extension){o58.moveTo(m8H["3" >> 32],g$X);o58.lineTo(m8H[3],W9U);o58.moveTo(m8H[4],g$X);o58.lineTo(m8H[4],W9U);}o58.stroke();o58.globalAlpha=1;}if(this.highlighted){S1w=this.highlighted == "p0"?!!1:!({});u$d=this.highlighted == "p1"?!!1:![];this.littleCircle(o58,s5X,g$X,S1w);this.littleCircle(o58,A4i,W9U,u$d);}}},!!"1");n8.Drawing.gannfan=function(){var Q7U;Q7U="g";Q7U+="annfan";this.name=Q7U;this.printLevels=!![];};n8.inheritsFrom(n8.Drawing.gannfan,n8.Drawing.speedline);n8.extend(n8.Drawing.gannfan.prototype,{render:function(F4Z){var i8E,O80,J$B,R5M,W3U,f_2,P_7,C2U,D_s,o6A,C4a,V1Z,v7o,p6C,p_n,s38,T8z,X$B,l5u,z4d,n_s,t2H,r$s,j06,m2w,m8h,o7J,U5f,b9H,o2Z;i8E="l";i8E+="e";i8E+="ft";O80="au";O80+="to";J$B="stx_";J$B+="y";J$B+="a";J$B+="xis";R5M=this.stx;W3U=R5M.panels[this.panelName];f_2=R5M.getYAxisByField(W3U,this.field);if(!W3U || this.field && !f_2){return;}if(!this.p1){return;}P_7=R5M.pixelFromTick(this.p0[0],W3U.chart);C2U=R5M.pixelFromTick(this.p1[0],W3U.chart);D_s=this.pixelFromValue(W3U,this.p0[0],this.p0[1],f_2);o6A=this.pixelFromValue(W3U,this.p1[0],this.p1[+"1"],f_2);R5M.canvasFont(J$B,F4Z);C4a=this.getLineColor();F4Z.strokeStyle=C4a;V1Z=this.fillColor;K7W.d9F();if(V1Z == O80 || n8.isTransparent(V1Z)){V1Z=R5M.defaultColor;}F4Z.fillStyle=V1Z;v7o={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?+"1":this.defaultOpacity};K7W.X6L(77);s38=[1,2,3,4,8,K7W.w65(0,"1","2"),K7W.o$D(1,"3",K7W.X6L(78)),K7W.w65("4",1,1,K7W.X6L(79)),K7W.w65(8,1,K7W.X6U(4))];this.rays=[];for(var Q7k=0;Q7k < s38.length;Q7k++){T8z=s38[Q7k];K7W.X6U(80);X$B=K7W.w65(P_7,T8z,C2U,P_7);K7W.X6L(81);l5u=K7W.w65(T8z,D_s,D_s,o6A);z4d=W3U.left;if(C2U > P_7){z4d+=W3U.width;}K7W.X6U(70);n_s=K7W.o$D(P_7,z4d,l5u,P_7,D_s,D_s,C2U);if(this.printLevels){F4Z.fillStyle=C4a;t2H=0;r$s=0;if(D_s > o6A){K7W.X6U(0);r$s=K7W.o$D(0,"5");F4Z.textBaseline="top";}else {j06="b";j06+="ott";j06+="om";r$s=-+"5";F4Z.textBaseline=j06;}if(P_7 > C2U){t2H=5;F4Z.textAlign="left";}else {m2w="ri";m2w+="ght";t2H=-5;F4Z.textAlign=m2w;}if(T8z > 1){K7W.X6U(1);F4Z.fillText(K7W.o$D("x1",T8z),K7W.w65(t2H,X$B),o6A);}else {K7W.X6L(45);F4Z.fillText(K7W.w65("1x",T8z,1),C2U,K7W.o$D(r$s,l5u,K7W.X6U(1)));}F4Z.fillStyle=V1Z;}R5M.plotLine(P_7,z4d,D_s,n_s,C4a,"segment",F4Z,W3U,v7o);this.rays.push([[P_7,D_s],[z4d,n_s]]);if(T8z == 1){p6C=z4d;p_n=n_s;}F4Z.globalAlpha=0.1;F4Z.beginPath();F4Z.moveTo(z4d,n_s);F4Z.lineTo(P_7,D_s);F4Z.lineTo(p6C,p_n);F4Z.fill();F4Z.globalAlpha=1;}F4Z.textAlign=i8E;F4Z.textBaseline="middle";if(this.highlighted){m8h=this.highlighted == "p0"?!0:![];o7J=this.highlighted == "p1"?!!1:!({});this.littleCircle(F4Z,P_7,D_s,m8h);K7W.X6U(40);U5f=K7W.w65("1351173845",32);b9H=1879672602;o2Z=2;for(var X1m=1;K7W.P12(X1m.toString(),X1m.toString().length,29016) !== U5f;X1m++){this.littleCircle(F4Z,C2U,o6A,o7J);K7W.X6L(17);o2Z+=K7W.o$D("2",32);}if(K7W.P12(o2Z.toString(),o2Z.toString().length,+"43949") !== b9H){this.littleCircle(F4Z,C2U,o6A,o7J);}}}},!!({}));n8.Drawing.timecycle=function(){K7W.d9F();this.name="timecycle";this.printLevels=!!({});};n8.inheritsFrom(n8.Drawing.timecycle,n8.Drawing.speedarc);n8.extend(n8.Drawing.timecycle.prototype,{intersected:function(M4G,D0w,y$8){var L6I,O4G,n3o,x9v,E7X,i7g;L6I=this.p0;O4G=this.p1;n3o=this.stx.panels[this.panelName];if(!L6I || !O4G || !n3o){return null;}x9v={0:L6I,1:O4G};for(var Z6I in x9v){if(this.pointIntersection(x9v[Z6I][0],x9v[Z6I][1],y$8)){E7X="dr";E7X+="ag";K7W.X6U(1);this.highlighted=K7W.w65(Z6I,(6636,+"704") !== (266,184.73)?"p":2488 === (170.26,+"5260")?0x3b:("P",!![]));return {action:E7X,point:((500.93,"939.4" - 0) != 9260?"p":5.40e+3) + Z6I};}}i7g=this.lineIntersection(M4G,D0w,y$8,"segment");if(i7g || y$8.x0 <= this.p0["0" * 1] && y$8.x1 >= L6I[0]){this.highlighted=!![];return {action:"move",p0:n8.clone(L6I),p1:n8.clone(O4G),tick:M4G,value:this.valueOnDrawingAxis(M4G,D0w)};}K7W.d9F();return null;},render:function(E0t){var z9D,p9W,U59,Q6O,u_V,u1$,m4z,I32,H21,B7I,u2a,M1e,P7_,f0D,N6G,Y9f,Z$o,F9z,M35,H0V,H19,e4E,k44,l3F,k7a;K7W.d9F();z9D="cent";z9D+="er";p9W=this.stx;U59=p9W.panels[this.panelName];Q6O=p9W.getYAxisByField(U59,this.field);if(!U59 || this.field && !Q6O){return;}Q6O=Q6O || U59.yAxis;if(!this.p1){return;}u_V=p9W.pixelFromTick(this.p0[0],U59.chart);u1$=p9W.pixelFromTick(this.p1[0],U59.chart);m4z=this.pixelFromValue(U59,this.p0[0],this.p0["1" - 0],Q6O);I32=this.pixelFromValue(U59,this.p1[0],this.p1[1],Q6O);H21=0;E0t.textBaseline="middle";p9W.canvasFont("stx_yaxis",E0t);K7W.X6L(24);B7I=K7W.w65(0,"20");u2a=this.p1[0] - this.p0[0];E0t.textAlign=z9D;M1e=u_V;P7_=Q6O.top;f0D=Q6O.bottom;N6G=this.getLineColor();Y9f=this.fillColor;if(Y9f == "auto" || n8.isTransparent(Y9f)){Y9f=p9W.defaultColor;}if(this.printLevels){K7W.X6L(0);f0D-=K7W.o$D(7,B7I);}Z$o={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};F9z=[];E0t.save();E0t.fillStyle=Y9f;E0t.globalAlpha=0.05;while(!0){M1e=p9W.pixelFromTick(this.p0[0] + H21 * u2a,U59.chart);H21++;if(u_V < u1$ && M1e > U59.left + U59.width)break;else if(u_V > u1$ && M1e < U59.left)break;else if(M1e < U59.left || M1e > U59.left + U59.width)continue;E0t.beginPath();E0t.moveTo(u_V,P7_);E0t.lineTo(M1e,P7_);E0t.lineTo(M1e,f0D);E0t.lineTo(u_V,f0D);E0t.fill();F9z.push({c:H21,x:M1e});if(!u2a)break;}E0t.globalAlpha=1;M35=0;for(var e8o=0;e8o < F9z.length;e8o++){p9W.plotLine(F9z[e8o].x,F9z[e8o].x,0,f0D,N6G,"segment",E0t,U59,Z$o);if(this.printLevels){E0t.fillStyle=N6G;K7W.X6L(53);var B9i=K7W.o$D(2,1,1);H0V=p9W.chart.context.measureText(F9z[e8o].c).width + B9i;if(H0V < p9W.layout.candleWidth + M35){E0t.fillText(F9z[e8o].c,F9z[e8o].x,f0D + 7);M35=0;}else {M35+=p9W.layout.candleWidth;}}}E0t.restore();E0t.textAlign="left";p9W.plotLine(u_V,u1$,m4z,I32,N6G,"segment",E0t,U59,Z$o);if(this.highlighted){H19="p";H19+="1";e4E="p";e4E+="0";k44=this.highlighted == e4E?!!1:![];l3F=this.highlighted == H19?!!"1":![];this.littleCircle(E0t,u_V,m4z,k44);this.littleCircle(E0t,u1$,I32,l3F);}else {k7a=this.valueFromPixel(U59.height / 2,U59,Q6O);this.setPoint(0,this.p0[0],k7a,U59.chart);this.setPoint(1,this.p1[0],k7a,U59.chart);}}},!![]);n8.Drawing.regression=function(){K7W.d9F();this.name="regression";};n8.inheritsFrom(n8.Drawing.regression,n8.Drawing.segment);n8.extend(n8.Drawing.regression.prototype,{configs:[q39,"lineWidth",G2v,B1O,"color1","lineWidth1",Z5E,"active2","color2","lineWidth2",Y2s,H1m,"color3","lineWidth3","pattern3"],copyConfig:function(B76){var r7y;n8.Drawing.copyConfig(this,B76);r7y=this.stx.currentVectorParameters;this.active1=!!r7y.active1;this.active2=!!r7y.active2;this.active3=!!r7y.active3;this.color1=r7y.color1 || "auto";this.color2=r7y.color2 || "auto";K7W.b5b();this.color3=r7y.color3 || "auto";this.lineWidth1=r7y.lineWidth1;this.lineWidth2=r7y.lineWidth2;this.lineWidth3=r7y.lineWidth3;this.pattern1=r7y.pattern1;this.pattern2=r7y.pattern2;this.pattern3=r7y.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(p93,L0_,V8Z){var J8C,d0Y;if(L0_ < 0){return;}this.copyConfig();J8C=this.stx;d0Y=J8C.panels[this.panelName];if(!this.penDown){this.setPoint(0,L0_,V8Z,d0Y.chart);if(!this.isAllowed(J8C,this.field)){J8C.undo();return !!"1";}this.penDown=!0;return !({});}if(this.accidentalClick(L0_,V8Z)){return !"";}this.setPoint(1,L0_,V8Z,d0Y.chart);K7W.b5b();this.penDown=![];return !!({});;},getYValue:function(w3R){var E5h,P6z,J3Y,c$c,K45,N6r,l3z,T$B,n4$,l8W,A3l;E5h=this.stx;P6z=E5h.chart.dataSet[w3R];J3Y=E5h.chart.dataSet[w3R];if(!P6z){return null;}c$c=E5h.panels[this.panelName];K45=E5h.getYAxisByField(c$c,this.field) || c$c.yAxis;if(E5h.charts[c$c.name] && c$c.chart.transformFunc && K45 == c$c.yAxis){J3Y=P6z.transform;}if(!J3Y){return null;}N6r=null;l3z=null;T$B=E5h.defaultPlotField || "Close";if(this.field){l3z=n8.existsInObjectChain(J3Y,this.field);if(!l3z){return null;}N6r=l3z=l3z.obj[l3z.member];if(P6z != J3Y){K7W.X6U(17);n4$=-K7W.o$D("1057552312",32);l8W=1017224790;A3l=2;for(var V$9=1;K7W.P12(V$9.toString(),V$9.toString().length,93020) !== n4$;V$9++){N6r=n8.existsInObjectChain(P6z,this.field);N6r=N6r.obj[N6r.member];A3l+=2;}if(K7W.Q0B(A3l.toString(),A3l.toString().length,63404) !== l8W){N6r=n8.existsInObjectChain(P6z,this.field);N6r=N6r.obj[N6r.member];}}if(typeof l3z == "object"){l3z=l3z[T$B];N6r=N6r[T$B];}}else {l3z=J3Y[T$B];N6r=P6z[T$B];}return {transformed:l3z,untransformed:N6r};},render:function(e0s){var L2P,M0E,k2k,c7H,A$6,G26,y_U,B6G,s5b,X_a,T2a,l9V,w4i,y7K,g5e,a3m,v6B,Z1z,j1T,o2F,u$B,X6u,k6i,w1j,x3V,a60,t8m,c9y,w1X,u8s,L2o,d8q,K5c,l_J,F_R,Y72,A0b,c4F;L2P=this.stx;M0E=L2P.panels[this.panelName];k2k=L2P.getYAxisByField(M0E,this.field);if(!M0E || this.field && !k2k){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}c7H=L2P.pixelFromTick(this.p0[0],M0E.chart);A$6=L2P.pixelFromTick(this.p1[0],M0E.chart);if(c7H < M0E.left && A$6 < M0E.left){return;}if(c7H > M0E.right && A$6 > M0E.right){return;}G26=[];y_U=[];B6G=0;s5b=0;X_a=+"0";T2a=0;l9V=Math.min(this.p1["0" ^ 0],this.p0[0]);K7W.X6L(1);var G2L=K7W.o$D(1,0);w4i=Math.max(this.p1[0],this.p0[0]) + "1" * G2L;K7W.X6L(0);y7K=K7W.o$D(l9V,w4i);for(var h1o=l9V;h1o < w4i;h1o++){g5e=this.getYValue(h1o);if(g5e){G26.push(g5e.transformed);y_U.push(g5e.untransformed);}}a3m=G26.length;K7W.X6L(82);v6B=K7W.w65(a3m,2,a3m,1);Z1z=Math.pow(v6B,2);K7W.X6L(83);j1T=K7W.o$D(2,v6B,"1",a3m,3);for(h1o="0" >> 32;h1o < a3m;h1o++){X_a+=a3m * G26[h1o] - B6G;B6G+=G26[h1o];T2a+=a3m * y_U[h1o] - s5b;s5b+=y_U[h1o];}K7W.X6U(84);o2F=K7W.w65(v6B,B6G,a3m,a3m,Z1z,j1T,X_a);K7W.X6U(85);u$B=K7W.o$D(B6G,v6B,o2F,a3m);K7W.X6L(84);X6u=K7W.w65(v6B,s5b,a3m,a3m,Z1z,j1T,T2a);K7W.X6L(85);k6i=K7W.o$D(s5b,v6B,o2F,a3m);if(this.p0[0] < this.p1[0]){w1j=u$B;K7W.X6U(86);x3V=K7W.w65(o2F,y7K,u$B);this.p0[1]=k6i;K7W.X6U(24);this.p1[K7W.w65(0,"1")]=K7W.w65(X6u,y7K,k6i,K7W.X6L(86));}else {K7W.X6U(86);w1j=K7W.o$D(o2F,y7K,u$B);x3V=u$B;K7W.X6U(86);this.p0[1]=K7W.w65(X6u,y7K,k6i);this.p1[1]=k6i;}a60=L2P.pixelFromTransformedValue(w1j,M0E,k2k);t8m=L2P.pixelFromTransformedValue(x3V,M0E,k2k);c9y=this.getLineColor();w1X={pattern:this.pattern,lineWidth:this.lineWidth};L2P.plotLine(c7H,A$6,a60,t8m,c9y,"segment",e0s,M0E,w1X);K7W.X6U(0);L2P.plotLine(c7H,c7H,K7W.w65(20,a60),K7W.o$D(20,a60,K7W.X6U(1)),c9y,"segment",e0s,M0E,w1X);K7W.X6L(0);L2P.plotLine(A$6,A$6,K7W.o$D(20,t8m),K7W.o$D(20,t8m,K7W.X6U(1)),c9y,"segment",e0s,M0E,w1X);if(this.active1 || this.active2 || this.active3){K7W.X6U(4);u8s=K7W.o$D(a3m,B6G);L2o=0;for(h1o=0;h1o < a3m;h1o++){L2o+=Math.pow(G26[h1o] - u8s,2);}K7W.X6U(4);d8q=Math.sqrt(K7W.o$D(a3m,L2o));K5c={context:e0s,panel:M0E,points:{0:{x:c7H,v:w1j},1:{x:A$6,v:x3V}},stddev:d8q,yAxis:k2k};this.lines={};if(this.active1){this.renderStddev("1","p",K5c);l_J=-1028618929;F_R=-681232829;Y72=2;for(var y8L=+"1";K7W.Q0B(y8L.toString(),y8L.toString().length,5044) !== l_J;y8L++){this.renderStddev(9652 != 2401?"N":(!1,"N"),("4314" ^ 0) !== (3681,4994)?"N":0x3e7d,K5c);Y72+=2;}if(K7W.Q0B(Y72.toString(),Y72.toString().length,54566) !== F_R){this.renderStddev(9044 !== 6999?"1":(!0,"N"),"5920" - 0 != (7130,4363)?"n":0x1849,K5c);}}if(this.active2){this.renderStddev((302.51,+"7770") == 107.1?(!!1,"S"):"2",5400 >= 1655?"p":509.63,K5c);this.renderStddev("2","n",K5c);}if(this.active3){this.renderStddev("3",(592.63,228) < (47,367.99)?"p":6.07e+3,K5c);this.renderStddev(4854 === (44,+"4530")?(596.72,5864) === (6890,6660)?8.11e+3:0x142e:"3","n",K5c);}}if(!this.highlighted){this.pixelX=[c7H,A$6];this.pixelY=[a60,t8m];}else {A0b=this.highlighted == "p0"?!!1:!!"";c4F=this.highlighted == "p1"?!!({}):!"1";this.littleCircle(e0s,c7H,a60,A0b);this.littleCircle(e0s,A$6,t8m,c4F);}},renderStddev:function(I04,E7r,P0a){var A40,F47,h4i,d3O,H4q,I7y,V_h,R9_,v1Q,D9N,t9H,x$O,N2v,w8P,g_v,M9s,Y0w,u4Q,H55,z0B,A4r;A40="pa";A40+="tt";A40+="er";A40+="n";K7W.X6L(87);F47=K7W.w65("stddev",E7r,I04);K7W.X6L(1);h4i=K7W.o$D(I04,"color");K7W.X6L(1);d3O=K7W.w65(I04,A40);K7W.X6U(1);H4q=K7W.o$D(I04,"lineWidth");I7y=P0a.points;V_h=I7y[0].v;R9_=I7y[1].v;v1Q=P0a.stddev;D9N=E7r === "n"?I04 * -1:I04 * 1;t9H=this.stx;x$O=P0a.panel;N2v=P0a.yAxis;w8P={name:F47,color:this.getLineColor(this[h4i]),type:"segment",y0:t9H.pixelFromTransformedValue(V_h + v1Q * D9N,x$O,N2v),y1:t9H.pixelFromTransformedValue(R9_ + v1Q * D9N,x$O,N2v),params:{pattern:this[d3O],lineWidth:this[H4q]}};if(this.lines){this.lines[F47]=w8P;}g_v=P0a.context;M9s=I7y[0].x;Y0w=I7y[1].x;t9H.plotLine(M9s,Y0w,w8P.y0,w8P.y1,w8P.color,w8P.type,g_v,x$O,w8P.params);t9H.plotLine(M9s,M9s,w8P.y0 - 10,w8P.y0 + "10" * 1,w8P.color,w8P.type,g_v,x$O,w8P.params);t9H.plotLine(Y0w,Y0w,w8P.y1 - ("10" >> 64),w8P.y1 + 10,w8P.color,w8P.type,g_v,x$O,w8P.params);K7W.X6L(1);u4Q=K7W.o$D(9415 !== 427.55?4587 != 252.1?6950 > (+"860.17",2280)?"\u03c3":(0x1713,"G"):(471.76,![]):(3.94e+3,!!0),I04);K7W.X6U(15);var b_l=K7W.w65(91,12,8);H55=Math.max(M9s,Y0w) + b_l;z0B=M9s < Y0w?w8P.y1:w8P.y0;g_v.fillStyle=w8P.color;g_v.save();g_v.textBaseline="middle";g_v.fillText(u4Q,H55,z0B);g_v.restore();if(P0a.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(M9s >= x$O.chart.left && M9s <= x$O.chart.right || Y0w >= x$O.chart.left && Y0w <= x$O.chart.right){K7W.X6L(88);A4r=K7W.o$D(D9N,v1Q,M9s < Y0w?R9_:V_h);t9H.endClip();t9H.createYAxisLabel(x$O,P0a.formatPrice(A4r,N2v),z0B,w8P.color,null,g_v,N2v);t9H.startClip(x$O.name);}}},intersected:function(t1V,B8T,H6B){var f6z,v0n,B2H,D2O,s9l,H_c,G5F,s0x,E0p;if(!this.pixelX || !this.pixelY){return null;}f6z=this.repositionIntersection(t1V,B8T);if(f6z){return f6z;}v0n={0:this.pixelX,1:this.pixelY};for(var s3f="0" | 0;s3f < 2;s3f++){if(this.pointIntersection(v0n[0][s3f],v0n[1][s3f],H6B,!!({}))){B2H="d";B2H+="rag";K7W.X6L(1);this.highlighted=K7W.o$D(s3f,670.23 < 816.41?888 === "6411" * 1?+"1.64e+2":+"7329" <= 9370?"p":(!!1,0x1841):!!0);return {action:B2H,point:((177.68,32.32) != 4584?9790 !== (9588,6120)?(657.65,8530) < "513.05" - 0?"0xeeb" * 1:"p":0x2582:4.29e+3) + s3f};}}D2O=this;s9l=this.pixelX[0];H_c=this.pixelX[1];G5F=function(e65){var F8_,G_z;F8_=[s9l,e65.y0];G_z=[H_c,e65.y1];return D2O.lineIntersection(t1V,B8T,H6B,D2O.name,F8_,G_z,!!1);};K7W.b5b();s0x=G5F({y0:this.pixelY[0],y1:this.pixelY[+"1"]});if(!s0x && this.lines){for(var L0r in this.lines){if(G5F(this.lines[L0r])){s0x=!!"1";break;}}}if(s0x){E0p="mov";E0p+="e";this.highlighted=!!1;return {action:E0p,p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:t1V,value:this.valueOnDrawingAxis(t1V,B8T)};}return null;},repositionIntersection:function(W0a,w76){var i48;if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){i48="d";i48+="r";i48+="a";i48+="g";if(this.highlighted === !!({})){return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:W0a,value:this.valueOnDrawingAxis(W0a,w76)};}return {action:i48,point:this.highlighted};}return ![];},lineIntersection:function(T1w,P6a,U1O,T9O,z3K,c8G,A8N){var F_$,e2w;if(!A8N){K7W.X6U(1);console.log(K7W.w65(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",T9O));return !({});}if(!z3K){z3K=this.p0;}K7W.d9F();if(!c8G){c8G=this.p1;}if(!(z3K && c8G)){return ![];}F_$=this.stx;if(U1O.cx0 === undefined){return !"1";}e2w={x0:z3K[0],x1:c8G[0],y0:z3K["1" * 1],y1:c8G[1]};return n8.boxIntersects(U1O.cx0,U1O.cy0,U1O.cx1,U1O.cy1,e2w.x0,e2w.y0,e2w.x1,e2w.y1);},boxIntersection:function(L_s,I1N,O_Q){if(O_Q.cx0 > Math.max(this.pixelX[0],this.pixelX["1" | 0]) || O_Q.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !1;}if(!this.stx.repositioningDrawing && (O_Q.cy1 < this.pixelY[0] || O_Q.cy0 > this.pixelY["1" ^ 0])){return ![];}return !!({});},reconstruct:function(x1R,H3V){this.stx=x1R;this.color=H3V.col;this.color1=H3V.col1;this.color2=H3V.col2;this.color3=H3V.col3;this.active1=H3V.dev1;this.active2=H3V.dev2;this.active3=H3V.dev3;this.panelName=H3V.pnl;K7W.d9F();this.pattern=H3V.ptrn;this.pattern1=H3V.ptrn1;this.pattern2=H3V.ptrn2;this.pattern3=H3V.ptrn3;this.lineWidth=H3V.lw;this.lineWidth1=H3V.lw1;this.lineWidth2=H3V.lw2;this.lineWidth3=H3V.lw3;this.d0=H3V.d0;this.d1=H3V.d1;this.tzo0=H3V.tzo0;this.tzo1=H3V.tzo1;this.field=H3V.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);n8.Drawing.trendline=function(){var j3e;j3e="t";j3e+="re";j3e+="n";j3e+="dline";this.name=j3e;};n8.inheritsFrom(n8.Drawing.trendline,n8.Drawing.segment);n8.Drawing.trendline.prototype.configs=["color","fillColor",o_2,"pattern",h$l];n8.Drawing.trendline.prototype.measure=function(){K7W.d9F();;};n8.Drawing.trendline.prototype.reconstruct=function(R63,q22){n8.Drawing.segment.prototype.reconstruct.call(this,R63,q22);this.callout=new n8.Drawing.callout();this.callout.reconstruct(R63,q22.callout);};n8.Drawing.trendline.prototype.serialize=function(){var X4X;X4X=n8.Drawing.segment.prototype.serialize.call(this);X4X.callout=this.callout.serialize();return X4X;};n8.Drawing.trendline.prototype.render=function(M3I){var G1U,c1g,b4Q,N4S,R54,g9f,t06,s9$,u3M,A7O,Y0U,b3L,N41,b0_,S6i,S9k,T3l,j9V,R9z,K1H,h6e,p_e,j$M;G1U=this.stx;c1g=G1U.panels[this.panelName];b4Q=G1U.getYAxisByField(c1g,this.field);if(!c1g || this.field && !b4Q){return;}n8.Drawing.segment.prototype.render.call(this,M3I);if(!this.callout){this.callout=new n8.Drawing.callout();N4S=n8.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(G1U,N4S);}this.callout.p0=n8.clone(this.p0);R54=G1U.pixelFromTick(this.p0[+"0"],c1g.chart);g9f=G1U.pixelFromTick(this.p1["0" | 0],c1g.chart);t06=this.pixelFromValue(c1g,this.p0["0" * 1],this.p0[1],b4Q);s9$=this.pixelFromValue(c1g,this.p1[+"0"],this.p1["1" - 0],b4Q);if(!isFinite(t06) || !isFinite(s9$)){return;}K7W.X6U(6);u3M=K7W.o$D(g9f,2,R54);K7W.X6L(6);A7O=K7W.w65(s9$,2,t06);this.fontSize=n8.stripPX(this.font && this.font.size || 13);K7W.X6U(0);var I00=K7W.o$D(22680,26460);K7W.X6U(1);var U$v=K7W.w65(2,374);K7W.X6L(1);var I0d=K7W.w65(1451,161);K7W.X6L(65);var w2b=K7W.w65(524,1998,16,6);K7W.X6L(53);var E4v=K7W.o$D(49,65,65);Y0U=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (I00 >= (U$v,334.34)?"c":I0d >= (+"2230",7348)?w2b:(!1,+"7.42e+3"))?0:E4v);b3L=Math.sqrt(Math.pow(g9f - R54,2) + Math.pow(s9$ - t06,2));K7W.X6L(89);var U$$=K7W.w65(11,20,11,7,348);K7W.X6L(33);var u2Q=K7W.o$D(6,26,19);K7W.X6L(11);var D$w=K7W.w65(1,12,13);N41=Y0U / (b3L || Y0U) * (this.p1[U$$] < this.p0[u2Q]?D$w:-+"1");K7W.X6L(90);b0_=K7W.w65(s9$,N41,u3M,A7O);K7W.X6U(91);S6i=K7W.o$D(g9f,A7O,N41,u3M);this.callout.p0[0]=G1U.tickFromPixel(b0_,c1g.chart);this.callout.p0[1]=this.valueFromPixel(S6i,c1g,b4Q);this.callout.v0=this.callout.p0[1];this.callout.p1=n8.clone(this.p0);this.callout.stx=G1U;K7W.d9F();this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!![];K7W.X6L(39);var g$T=K7W.w65(7,8);K7W.X6L(39);var s5i=K7W.w65(12,13);S9k=this.p1[g$T] - this.p0[s5i];K7W.X6U(92);var g5Q=K7W.o$D(17,27538,15,9,12);K7W.X6L(74);var H95=K7W.o$D(2,6,10,11,10);this.callout.text="" + Number(S9k).toFixed(g5Q) + (this.p0[H95] === 0?"":" (" + Number(100 * S9k / this.p0[1]).toFixed("2" - 0) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";T3l=Math.floor((this.p0[0] + this.p1["0" << 0]) / 2);if(Math.abs(this.p0[+"0"] - this.p1["0" * 1]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){R9z=G1U.pixelFromTick(T3l,c1g.chart);K7W.X6U(93);K1H=K7W.o$D(s9$,t06,R9z,R54,g9f,R54,t06);j9V=this.valueFromPixel(K1H,c1g,b4Q) || A7O;}else {j9V=this.valueFromPixel(A7O,c1g,b4Q);}this.callout.stem={t:T3l,v:j9V};this.callout.renderText();this.callout.render(M3I);if(this.highlighted){h6e="p";h6e+="0";p_e=this.highlighted == h6e?!!1:![];j$M=this.highlighted == "p1"?!0:![];this.littleCircle(M3I,R54,t06,p_e);this.littleCircle(M3I,g9f,s9$,j$M);}};n8.Drawing.trendline.prototype.lineIntersection=function(K_Q,T6M,V7e,g_A){K7W.b5b();return n8.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,K_Q,T6M,V7e,"segment");};n8.Drawing.trendline.prototype.intersected=function(C8F,x5H,G6y){var n8B,r3n;if(!this.p0 || !this.p1){return null;}n8B=this.callout.intersected(C8F,x5H,G6y);r3n=n8.Drawing.segment.prototype.intersected.call(this,C8F,x5H,G6y);this.callout.highlighted=!!(n8B || r3n);if(r3n){return r3n;}else if(n8B){return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:C8F,value:this.valueOnDrawingAxis(C8F,x5H)};}return null;};n8.Drawing.average=function(){K7W.b5b();this.name="average";};n8.inheritsFrom(n8.Drawing.average,n8.Drawing.regression);n8.extend(n8.Drawing.average.prototype,{configs:n8.Drawing.regression.prototype.configs.concat(V8v),measure:function(){var x0b,P6Y,M_7,B6X,j8R,x0v,Y$G,W2$;x0b=this.stx;K7W.d9F();if(this.p0 && this.p1){P6Y=".";P6Y+="m";P6Y+="Meas";P6Y+="ure";x0b.setMeasure(0,!"1",this.p0[0],this.p1[0],!"",this.name);M_7=[];B6X="";if(this.active1){M_7.push("1");}if(this.active2){M_7.push(220.57 <= (3630,6560)?"2":(3530,7900) === (+"4390",1110)?(0x1fee,"O"):(0x8e2,"i"));}if(this.active3){M_7.push(846 < ("6790" ^ 0)?(745.27,2410) > +"971"?"3":(927.22,9890) !== ("5720" | 16,7727)?(0x1ab,0x1dce):0x1619:"292.92" * 1);}if(M_7.length){B6X="&ensp;" + M_7.join(", ") + " &sigma;";}j8R=(x0b.drawingContainer || document).querySelector(P6Y);x0v=x0b.controls.mSticky;Y$G=x0v && x0v.querySelector(".mStickyInterior");if(j8R){j8R.innerHTML+=B6X;}if(Y$G){W2$=[];W2$.push(n8.capitalize(this.name));W2$.push(this.field || x0b.defaultPlotField || "Close");W2$.push(Y$G.innerHTML + B6X);Y$G.innerHTML=W2$.join("<br>");}}},render:function(q3k){var e8n,H0s,m1y,Y5s,W5d,Z$T,A8a,T4u,P3M,w8o,h29,c46,U21,y4g,Y0W,q7o,k1v,e2D,A$P,B0W,O1R,l$7,u7q,V0q;e8n="segmen";e8n+="t";H0s=this.stx;m1y=H0s.panels[this.panelName];Y5s=H0s.getYAxisByField(m1y,this.field);if(!m1y || this.field && !Y5s){return;}Y5s=Y5s || m1y.yAxis;if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" - 0] < ("0" ^ 0)){return;}W5d=H0s.pixelFromTick(this.p0[0],m1y.chart);Z$T=H0s.pixelFromTick(this.p1[0],m1y.chart);if(W5d < m1y.left && Z$T < m1y.left){return;}if(W5d > m1y.right && Z$T > m1y.right){return;}A8a=Math.min(this.p1["0" << 0],this.p0[+"0"]);function M3J(J5E,A$b){K7W.d9F();if(A$b && A$b.priceFormatter){J5E=A$b.priceFormatter(H0s,m1y,J5E);}else {J5E=H0s.formatYAxisPrice(J5E,m1y,null,A$b);}return J5E;}K7W.X6L(94);var c8a=K7W.o$D(17,48,19,8,2);T4u=Math.max(this.p1[0],this.p0[0]) + c8a;P3M=0;w8o=[];for(h29=A8a;h29 < T4u;h29++){c46=this.getYValue(h29);if(c46 !== null){P3M+=c46.transformed;w8o.push(c46);}}U21=w8o.length;if(!U21){return;}K7W.X6U(4);y4g=K7W.o$D(U21,P3M);Y0W=H0s.pixelFromTransformedValue(y4g,m1y,Y5s);q7o=this.getLineColor();k1v={pattern:this.pattern,lineWidth:this.lineWidth};H0s.plotLine(W5d,Z$T,Y0W,Y0W,q7o,e8n,q3k,m1y,k1v);K7W.d9F();K7W.X6L(26);H0s.plotLine(W5d,W5d,K7W.w65(0,Y0W,"20"),K7W.o$D("20",Y0W,K7W.X6L(95)),q7o,"segment",q3k,m1y,k1v);K7W.X6U(0);H0s.plotLine(Z$T,Z$T,K7W.o$D(20,Y0W),K7W.w65("20",Y0W,K7W.X6L(95)),q7o,"segment",q3k,m1y,k1v);if(this.axisLabel && !this.highlighted && !this.penDown){if(W5d >= m1y.chart.left && W5d <= m1y.chart.right || Z$T >= m1y.chart.left && Z$T <= m1y.chart.right){H0s.endClip();H0s.createYAxisLabel(m1y,M3J(y4g,Y5s),Y0W,q7o,null,q3k,Y5s);H0s.startClip(m1y.name);}}if(this.active1 || this.active2 || this.active3){e2D=0;for(h29=0;h29 < U21;h29++){c46=w8o[h29];e2D+=Math.pow(c46.transformed - y4g,"2" * 1);}K7W.X6L(4);A$P=Math.sqrt(K7W.w65(U21,e2D));B0W={context:q3k,formatPrice:M3J,panel:m1y,points:{0:{x:W5d,v:y4g},1:{x:Z$T,v:y4g}},stddev:A$P,yAxis:Y5s};this.lines={};if(this.active1){this.renderStddev("1","p",B0W);this.renderStddev(9500 <= (3104,9030)?"607.66" - 0 > 941.09?(0x106b,479.90):(9850,2290) === "9650" - 0?8.68e+3:0xd13:"1",388.63 != ("9990" * 1,8056)?"n":(102,!!({})),B0W);}if(this.active2){this.renderStddev(3150 < 479.4?(5.39e+3,+"0x134a"):"2",(572.94,"5028" ^ 0) == 4198?!![]:"p",B0W);this.renderStddev(494 <= 543.24?"2":("x",0x12ea),"n",B0W);}if(this.active3){this.renderStddev("3",+"836.07" >= +"8211"?(9852,5110) < 9956?!!({}):("K",!!"1"):"p",B0W);this.renderStddev((3060,3790) !== (490.21,311.84)?3534 < (7770,"2130" * 1)?(136.8,+"1710") === 4020?"k":(![],0x1853):"3":"840.23" - 0,"n",B0W);}}if(!this.highlighted){this.pixelX=[W5d,Z$T];this.pixelY=[Y0W,Y0W];}else {O1R="p";O1R+="1";l$7="p";l$7+="0";u7q=this.highlighted == l$7?!!({}):![];V0q=this.highlighted == O1R?!!({}):![];this.littleCircle(q3k,W5d,Y0W,u7q);this.littleCircle(q3k,Z$T,Y0W,V0q);}},reconstruct:function(p0W,J4b){K7W.d9F();this.axisLabel=J4b.al;n8.Drawing.regression.prototype.reconstruct.call(this,p0W,J4b);},serialize:function(){var b0S;b0S=n8.Drawing.regression.prototype.serialize.call(this);b0S.al=this.axisLabel;return b0S;}},!!"1");n8.Drawing.quadrant=function(){this.name="quadrant";};n8.inheritsFrom(n8.Drawing.quadrant,n8.Drawing.regression);n8.extend(n8.Drawing.quadrant.prototype,{configs:[k9Z,"fillColor","lineWidth","pattern"],copyConfig:function(){K7W.b5b();var k9x;k9x=this.stx.currentVectorParameters;this.color=k9x.currentColor;this.fillColor=k9x.fillColor;this.lineWidth=k9x.lineWidth;this.pattern=k9x.pattern;},$controls:[],render:function(x33){var Q4a,a18,t8t,S5x,J8V,l2i,L3c,i4M,b56,E6h,D4R,P_9,Z1H,x4P,T7r,e8S,X1e,p34,h5d,Q4N,N10,q1t,a8L,b20,i$O,B5h,Z3G;Q4a="ti";Q4a+="r";Q4a+="one";a18="qua";a18+="dran";a18+="t";t8t="q";t8t+="uadrant";S5x="seg";S5x+="me";S5x+="n";S5x+="t";J8V="a";J8V+="uto";l2i=this.stx;L3c=l2i.panels[this.panelName];i4M=l2i.getYAxisByField(L3c,this.field);if(!L3c || this.field && !i4M){return;}if(!this.p1){return;}b56=l2i.pixelFromTick(this.p0[0],L3c.chart);E6h=l2i.pixelFromTick(this.p1[0],L3c.chart);if(b56 < L3c.left && E6h < L3c.left){return;}if(b56 > L3c.right && E6h > L3c.right){return;}D4R=null;P_9=null;for(var I0E=Math.max(0,Math.min(this.p1[0],this.p0[0]));I0E <= Math.min(l2i.chart.dataSet.length - 1,Math.max(this.p1["0" * 1],this.p0[+"0"]));I0E++){Z1H=this.getYValue(I0E);if(Z1H !== null){if(D4R === null || Z1H.transformed > D4R){D4R=Z1H.transformed;}if(P_9 === null || Z1H.transformed < P_9){P_9=Z1H.transformed;}}}x4P=l2i.pixelFromTransformedValue(D4R,L3c,i4M);K7W.X6U(96);T7r=l2i.pixelFromTransformedValue(K7W.o$D(0,4,D4R,"3",P_9),L3c,i4M);K7W.X6U(97);e8S=l2i.pixelFromTransformedValue(K7W.o$D(2,3,P_9,D4R),L3c,i4M);K7W.X6U(98);X1e=l2i.pixelFromTransformedValue(K7W.w65("2",P_9,D4R,0),L3c,i4M);K7W.X6U(99);p34=l2i.pixelFromTransformedValue(K7W.w65(3,D4R,P_9,2),L3c,i4M);K7W.X6L(99);h5d=l2i.pixelFromTransformedValue(K7W.w65(4,D4R,P_9,3),L3c,i4M);Q4N=l2i.pixelFromTransformedValue(P_9,L3c,i4M);K7W.X6L(9);this.p0[1]=K7W.w65(1,"0");this.p1[1]=!({});N10=this.getLineColor();q1t=this.fillColor;if(q1t == J8V || n8.isTransparent(q1t)){q1t=l2i.defaultColor;}x33.fillStyle=q1t;a8L={pattern:this.pattern,lineWidth:this.lineWidth};l2i.plotLine(b56,E6h,x4P,x4P,N10,S5x,x33,L3c,a8L);l2i.plotLine(b56,E6h,Q4N,Q4N,N10,"segment",x33,L3c,a8L);if(this.name == t8t){b20="seg";b20+="m";b20+="ent";i$O="se";i$O+="gm";i$O+="en";i$O+="t";l2i.plotLine(b56,E6h,T7r,T7r,N10,i$O,x33,L3c,a8L);l2i.plotLine(b56,E6h,h5d,h5d,N10,b20,x33,L3c,a8L);}else if(this.name == "tirone"){l2i.plotLine(b56,E6h,e8S,e8S,N10,"segment",x33,L3c,a8L);l2i.plotLine(b56,E6h,p34,p34,N10,"segment",x33,L3c,a8L);}l2i.plotLine(b56,b56,x4P,Q4N,N10,"segment",x33,L3c,a8L);l2i.plotLine(E6h,E6h,x4P,Q4N,N10,"segment",x33,L3c,a8L);l2i.plotLine(b56,E6h,X1e,X1e,N10,"segment",x33,L3c,n8.extend(a8L,{opacity:this.name == "tirone"?0.2:1}));x33.globalAlpha=0.1;x33.beginPath();K7W.X6L(0);x33.fillRect(b56,x4P,K7W.o$D(b56,E6h),K7W.o$D(x4P,Q4N));if(this.name == a18){K7W.X6U(0);x33.fillRect(b56,T7r,K7W.w65(b56,E6h),K7W.w65(T7r,h5d));}else if(this.name == Q4a){K7W.X6U(0);x33.fillRect(b56,e8S,K7W.o$D(b56,E6h),K7W.w65(e8S,p34));}x33.globalAlpha=1;if(!this.highlighted){this.pixelX=[b56,E6h];this.pixelY=[x4P,Q4N,X1e];if(this.name === "quadrant"){this.pixelY.push(T7r,h5d);}if(this.name === "tirone"){this.pixelY.push(e8S,p34);}}else {B5h=this.highlighted == "p0"?!![]:!"1";Z3G=this.highlighted == "p1"?!0:!1;this.littleCircle(x33,b56,X1e,B5h);this.littleCircle(x33,E6h,X1e,Z3G);}},intersected:function(E6W,N$3,I8B){var i0m,q_D,i$e;var {pixelX:K6Q, pixelY:e3b}=this;if(!K6Q || !e3b){return null;}i0m=this.repositionIntersection(E6W,N$3);if(i0m){return i0m;}for(var W$N=0;W$N < 2;W$N++){if(this.pointIntersection(K6Q[W$N],e3b[+"2"],I8B,!"")){K7W.X6U(1);this.highlighted=K7W.w65(W$N,"p");return {action:"drag",point:((684.82,8880) > (3400,3880)?(296,162.9) == 727.54?9310 >= 3193?(0x12a1,"d"):5.28e+2:"p":!!({})) + W$N};}}q_D=[];K6Q.forEach(I7J=>{q_D.push({p0:[I7J,e3b[0]],p1:[I7J,e3b[1]]});});e3b.forEach(L8v=>{q_D.push({p0:[K6Q[0],L8v],p1:[K6Q[1],L8v]});});i$e=q_D.some(({p0:e$L, p1:M3r})=>{return this.lineIntersection(E6W,N$3,I8B,this.name,e$L,M3r,!!1);});if(i$e){this.highlighted=!"";return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:E6W,value:this.valueOnDrawingAxis(E6W,N$3)};}return null;},reconstruct:function(z4J,K9m){this.stx=z4J;K7W.b5b();this.color=K9m.col;this.fillColor=K9m.fc;this.panelName=K9m.pnl;this.pattern=K9m.ptrn;this.lineWidth=K9m.lw;this.d0=K9m.d0;this.d1=K9m.d1;this.tzo0=K9m.tzo0;this.tzo1=K9m.tzo1;this.field=K9m.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!({}));n8.Drawing.tirone=function(){this.name="tirone";};n8.inheritsFrom(n8.Drawing.tirone,n8.Drawing.quadrant);n8.Drawing.volumeprofile=function(){this.name="volumeprofile";};n8.inheritsFrom(n8.Drawing.volumeprofile,n8.Drawing.regression);n8.extend(n8.Drawing.volumeprofile.prototype,{configs:["color",L4M,"lineWidth",n5c,W$E],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(p44,F$b){return !F$b || typeof p44.getFirstLastDataRecord(p44.chart.dataSegment,F$b)[F$b] === "object";},render:function(P71){var C33,o0s,I0l,F8V,g7C,S2O,J9t,N_s,L_5,O5b,R9T,d$8,e9I,p6q,J33,z$y,O_O,n77,s$d,z0b,j7l,z6T,o6f,A$o,R$c,f25,N9m,R66,d$S,b4w,g3M,U1f,w3z,E34,I0x,T1u,z8V,F5l,P3X,q$M,e$P,e9x,U5D,a6F,z$A,K4z,K89,z$q,k_C,F5O;var {stx:A8e}=this;var {dataSet:R8c}=A8e.chart;C33=A8e.panels[this.panelName];o0s=A8e.getYAxisByField(C33,this.field);if(!C33 || this.field && !o0s){return;}if(!this.p1){return;}o0s=o0s || C33.yAxis;I0l=A8e.pixelFromTick(this.p0[0],C33.chart);F8V=A8e.pixelFromTick(this.p1[+"0"],C33.chart);if(I0l < C33.left && F8V < C33.left){return;}if(I0l > C33.right && F8V > C33.right){return;}var {flipped:m7O}=o0s;g7C=null;S2O=null;J9t=Math.min(this.p1[+"0"],this.p0[0]);N_s=Math.max(this.p1[0],this.p0[0]);for(var H5n=J9t;H5n <= N_s;H5n++){L_5=R8c[H5n];if(L_5[this.field]){L_5=L_5[this.field];}if(!L_5)continue;var {High:d40, Low:F$w}=L_5;if(g7C === null || d40 > g7C){g7C=d40;}if(S2O === null || F$w < S2O){S2O=F$w;}}var {priceBuckets:P5_}=this;K7W.X6L(100);O5b=K7W.o$D(g7C,P5_,S2O);R9T=[];if(m7O){[g7C,S2O]=[S2O,g7C];}d$8=m7O?-1:1;for(var U3e=S2O,k6A="0" >> 64;k6A <= P5_;(U3e+=O5b * d$8,k6A++)){R9T.push([U3e,0]);if(S2O === g7C)break;}e9I=+"0";K7W.d9F();for(var j$l=J9t;j$l <= N_s;j$l++){p6q=R8c[j$l];if(p6q[this.field] || p6q[this.field] === "0" << 64){p6q=p6q[this.field];}if(!p6q)continue;var {High:y1s, Low:X43, Volume:Y9M}=p6q;if(!Y9M && Y9M !== 0)continue;J33=[];z$y=R9T[0][+"0"];O_O=null;for(var l5T=1;l5T < R9T.length;l5T++){O_O=R9T[l5T][0];n77=X43 >= z$y && X43 <= O_O;s$d=y1s >= z$y && y1s <= O_O;z0b=X43 < z$y && y1s > O_O;if(n77 || s$d || z0b){J33.push(l5T);}z$y=O_O;}if(J33.length){j7l=Y9M / J33.length;for(var p2W=0;p2W < J33.length;p2W++){z6T=R9T[J33[p2W]][1]+=j7l;if(z6T > e9I){e9I=z6T;}}}}o6f=e9I === 0 && R9T.length > 1;if(o6f){A$o="Not enough data to render the ";A$o+="Volume Profile";A8e.displayErrorAsWatermark("chart",A8e.translateIf(A$o));}R$c=L9s=>{return Math.round(L9s) + 0.5;};f25=(N_s - J9t) * A8e.layout.candleWidth;K7W.X6U(101);var J4V=K7W.o$D(60,5,1,9,10);N9m=R$c(A8e.pixelFromTick(J9t)) - J4V;K7W.X6L(1);R66=R$c(K7W.w65(f25,N9m));K7W.X6U(80);d$S=this.pixelFromValue(C33,J9t,K7W.o$D(S2O,2,g7C,S2O),o0s);b4w=N9m;var [n6D]=R9T[0];g3M=this.getLineColor();var {fillColor:N5E}=this;if(N5E === "auto" || n8.isTransparent(N5E)){N5E=A8e.defaultColor;}P71.fillStyle=N5E;U1f={pattern:this.pattern,lineWidth:this.lineWidth};w3z=0;E34=+"0";I0x=(C$X,J$1)=>{K7W.b5b();return [w3z,E34]=[C$X,J$1];};T1u=(k83,q6j,H$x)=>{var W0C,D13,r_7,Y4C;if(!H$x){W0C="segmen";W0C+="t";A8e.plotLine(w3z,k83,E34,q6j,g3M,W0C,P71,C33,U1f);}K7W.X6U(24);D13=-K7W.o$D(0,"575014528");r_7=-1353666006;K7W.d9F();Y4C=2;for(var B6e=1;K7W.Q0B(B6e.toString(),B6e.toString().length,1576) !== D13;B6e++){[w3z,E34]=[k83,q6j];Y4C+=2;}if(K7W.Q0B(Y4C.toString(),Y4C.toString().length,23729) !== r_7){[w3z,E34]=[k83,q6j];}};if(this.highlighted || o6f){A8e.plotLine(N9m,R66,d$S,d$S,A8e.defaultColor,"segment",P71,C33,Object.assign({},U1f,{opacity:+"0.3"}));}for(var T6G=1;T6G < R9T.length;T6G++){var [M6F,Y$F]=R9T[T6G];if(Y$F){K7W.X6L(102);z8V=K7W.o$D(e9I,Y$F,f25);K7W.X6U(1);F5l=R$c(K7W.w65(z8V,N9m));P3X=R$c(this.pixelFromValue(C33,J9t,M6F,o0s));q$M=R$c(this.pixelFromValue(C33,J9t,n6D,o0s));e$P=Math.max(P3X,o0s.top);e9x=Math.min(q$M,o0s.bottom);K7W.X6L(103);U5D=K7W.w65(e$P,P3X);K7W.X6L(103);a6F=K7W.w65(e9x,q$M);z$A=e$P <= o0s.bottom && e9x >= o0s.top;if(z$A){if(!this.highlighted){K7W.X6L(0);P71.globalAlpha=K7W.o$D(0,"0.3");}I0x(N9m,e9x);T1u(N9m,e$P);T1u(F5l,e$P,U5D);T1u(F5l,e9x);if(F5l > b4w){T1u(b4w,e9x,a6F);}P71.globalAlpha=0.2;K7W.X6U(0);P71.fillRect(N9m,e$P,K7W.w65(N9m,F5l),K7W.o$D(e$P,e9x));P71.globalAlpha=1;}b4w=F5l;}else {b4w=N9m;;}n6D=M6F;}if(this.highlighted){K4z=this.highlighted === "p0";K89=this.highlighted === "p1";z$q=this.p0[0] > this.p1[0];k_C=z$q?K89:K4z;F5O=z$q?K4z:K89;this.littleCircle(P71,N9m,d$S,k_C);this.littleCircle(P71,R66,d$S,F5O);}K7W.X6L(1);this.pixelX=[N9m,K7W.w65(f25,N9m)];this.pixelY=[this.pixelFromValue(C33,J9t,g7C,o0s),this.pixelFromValue(C33,J9t,S2O,o0s),d$S];this.p0[1]=0;K7W.X6U(0);this.p1[K7W.o$D(0,"1")]=!1;;},intersected:function(f1L,u8c,L0T){var C1Q;K7W.d9F();var {p0:Q4c, p1:q6J, stx:L3p}=this;if(!Q4c || !q6J){return null;}var [,,n3m]=this.pixelY || [];if(n3m === undefined){return;}C1Q=this.repositionIntersection(f1L,u8c);if(C1Q){return C1Q;}for(var [y_h,[q_P]] of [[0,Q4c],[1,q6J]]){if(this.pointIntersection(L3p.pixelFromTick(q_P),n3m,L0T,!!1)){K7W.X6U(1);this.highlighted=K7W.w65(y_h,(7865,7736) === (524,2932)?("P",0x16a6):"p");return {action:"drag",point:((9370,4765) != (9890,1813)?("942" - 0,5377) > 4611?"p":(841.98,0x9dc):0x1b7a) + y_h};}}if(this.boxIntersection(f1L,u8c,L0T)){this.highlighted=!"";return {action:"move",p0:n8.clone(this.p0),p1:n8.clone(this.p1),tick:f1L,value:u8c};}return null;},reconstruct:function(e_C,l$Y){this.stx=e_C;this.color=l$Y.col;this.fillColor=l$Y.fc;this.panelName=l$Y.pnl;this.pattern=l$Y.ptrn;this.lineWidth=l$Y.lw;this.d0=l$Y.d0;this.d1=l$Y.d1;this.tzo0=l$Y.tzo0;this.tzo1=l$Y.tzo1;this.field=l$Y.fld;K7W.d9F();this.priceBuckets=l$Y.pb;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!!1);n8.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!1;this.annotationPoints=[];this.edit=null;};n8.inheritsFrom(n8.Drawing.elliottwave,n8.Drawing.annotation);n8.Drawing.elliottwave.defaultTemplate={impulse:[(6453,247.08) <= (2883,"2292" - 0)?"I":267.47 !== (1966,"2890" << 32)?(785.72,7560) < 3570?782:(496.12,"7.95e+3" * 1):5.06e+3,"II",Y4M,q99,"V"],corrective:[(6614,505) == 607?(+"3.38e+3","k"):6763 >= 5712?"A":("a","b"),+"7866" <= (6704,7580)?"674" - 0:(623.86,4807) == 7791?"i":"B",15.61 > (4733,"982.67" - 0)?0x377:9360 < 2720?"t":(156.41,111.71) === +"3337"?(236.49,0xed6):"C"],decoration:"enclosed",showLines:!!({})};n8.Drawing.elliottwave.prototype.initializeSettings=function(L9Q){K7W.d9F();L9Q.currentVectorParameters.waveParameters=n8.clone(n8.Drawing.elliottwave.defaultTemplate);};n8.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font","waveParameters"];n8.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];n8.Drawing.elliottwave.prototype.construct=function(n8b,q_N){var o6D;this.stx=n8b;this.panelName=q_N.name;K7W.d9F();o6D=n8b.currentVectorParameters;Object.assign(this,o6D.waveParameters);};n8.Drawing.elliottwave.prototype.serialize=function(){var i21,z0s,l1e;i21="f";i21+="l";z0s="w";z0s+="t";l1e={};for(var L_D=0;L_D < this.points.length;L_D++){K7W.X6U(1);l1e[K7W.w65(L_D,(989.32,1340) != (+"2470",118.12)?("2540" << 64,"200.43" * 1) <= (5080,5652)?"d":(!![],"U"):"D")]=this[K7W.w65(L_D,955.65 >= (948,496.93)?6650 >= ("4220" ^ 0)?("4080" >> 32,767.26) >= 9992?"1.72e+3" ^ 0:"d":("4.49e+3" - 0,586):("u","o"))];K7W.X6U(1);l1e[K7W.o$D(L_D,"tzo")]=this[K7W.o$D(L_D,"tzo")];K7W.X6U(1);l1e[K7W.o$D(L_D,"v")]=this[K7W.o$D(L_D,8700 == (3984,855.95)?(4420,8140) != (3067,34.13)?(5.08e+3,48.58):!0:"v")];}l1e.annotations=this.annotationPoints.join(",");K7W.b5b();return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:n8.removeNullValues(n8.replaceFields(this.font,{style:"st",size:"sz",weight:z0s,family:i21}))},l1e);};n8.Drawing.elliottwave.prototype.reconstruct=function(n4h,V3P){var P_N;P_N="fami";P_N+="ly";this.stx=n4h;this.color=V3P.col;this.panelName=V3P.pnl;this.pattern=V3P.ptrn;this.lineWidth=V3P.lw;this.font=n8.replaceFields(V3P.fnt,{st:"style",sz:"size",wt:"weight",fl:P_N});this.decoration=V3P.decor;this.showLines=V3P.show;this.dx=V3P.dx;this.dy=V3P.dy;this.trend=V3P.trend;this.field=V3P.fld;this.annotationPoints=V3P.annotations.split(",");if(V3P.decor === "enclosed"){this.calculateRadius(n4h.chart.tempCanvas.context);}this.maxSegments=V3P.mxSeg;K7W.b5b();this.reconstructPoints(V3P);this.adjust();};n8.Drawing.elliottwave.prototype.reconstructPoints=function(d2q){var X8w,x5w,H7n;X8w=this.stx.panels[this.panelName];if(!X8w){return;}for(var X7m=0;X7m < this.annotationPoints.length;X7m++){K7W.X6U(1);this[K7W.w65(X7m,("871.06" - 0,8625) < (312,458)?(292.15,965.48):"d")]=d2q[K7W.w65(X7m,"d")];K7W.X6L(1);this[K7W.o$D(X7m,(9446,619.09) === (+"6092",9780)?651.95:"886.3" - 0 === 489.45?"d":(1830,220.26) != (927.78,831.23)?"v":(!1,!![]))]=d2q[K7W.w65(X7m,651.75 > 9191?"345.92" * 1:"v")];K7W.X6U(1);this[K7W.o$D(X7m,"tzo")]=d2q[K7W.o$D(X7m,"tzo")];x5w=n8.strToDateTime(d2q[(5480 === (3630,1550)?2.27e+3:4080 !== 515.61?"d":4885 === 6633?!![]:"641.67" * 1) + X7m]);H7n=this.stx.tickFromDate(x5w,X8w.chart);this.points.push([H7n,d2q[(9540 !== (9465,5795)?"v":("2790" - 0,348) == 5390?(0x1893,"e"):("Z",1.18e+3)) + X7m]]);}};n8.Drawing.elliottwave.prototype.calculateRadius=function(k3z){var P_d,Y77;this.getFontString();k3z.font=this.fontString;P_d=0;for(var g3u=0;g3u < this.annotationPoints.length;g3u++){Y77=k3z.measureText(this.annotationPoints[g3u]).width;if(P_d < Y77){P_d=Y77;}}this.enclosedRadius=P_d;};n8.Drawing.elliottwave.prototype.check=function(l9K,l3U,M3L){var N_m,l7o,L63,G77,T6h;N_m=1576803969;l7o=+"1642487663";L63=2;for(var T0z="1" - 0;K7W.P12(T0z.toString(),T0z.toString().length,13214) !== N_m;T0z++){K7W.X6U(104);G77=this.points[K7W.o$D(0,M3L,"9")];if(G77 || l9K >= G77["2" >> 32]){return !![];}if(M3L == 3 || this.points.length !== 5){return !({});}K7W.X6L(105);T6h=this.points[K7W.w65("4",M3L,32)];if(T6h || l9K <= T6h[1]){return !!1;}if(-Z8u(this.points)){return !!1;}L63+=2;}if(K7W.Q0B(L63.toString(),L63.toString().length,+"85769") !== l7o){K7W.X6L(0);G77=this.points[K7W.o$D(5,M3L)];if(G77 && l9K > G77[4]){return !1;}if(M3L === 2 && this.points.length == 7){return !!"1";}K7W.X6L(106);T6h=this.points[K7W.w65(M3L,3)];if(T6h && l9K >= T6h[3]){return !!0;}if(~Z8u(this.points)){return !({});}}K7W.X6U(0);G77=this.points[K7W.o$D(1,M3L)];if(G77 && l9K <= G77[0]){return !!0;}if(M3L === 1 && this.points.length === +"2"){return !!1;}K7W.X6U(1);T6h=this.points[K7W.o$D(1,M3L)];if(T6h && l9K >= T6h[0]){return ![];}if(!Z8u(this.points)){return !({});}function Z8u(g1W){K7W.d9F();for(var q9M=2;q9M < g1W.length;q9M++){if(Math.sign(g1W[q9M][1] - g1W[q9M - ("1" | 1)][1]) == Math.sign(g1W[q9M - 1][1] - g1W[q9M - +"2"][+"1"])){return !"1";}}return !![];}return !!({});};n8.Drawing.elliottwave.prototype.move=function(t9A,c54,m1w){this.copyConfig();K7W.b5b();K7W.X6U(54);var Z$a=K7W.o$D(5,2,9,5,6);this.points[this.lastPoint + Z$a]=[c54,m1w];this.render(t9A);};n8.Drawing.elliottwave.prototype.adjust=function(){var f26,a$B;f26=this.stx.panels[this.panelName];if(!f26){return;}for(var W52=0;this.maxSegments + 1 > W52;W52++){K7W.X6L(1);a$B=this[K7W.o$D(W52,457.85 == (1270,2510)?5.50e+3:61.27 > 3330?(6610,123) < +"3860"?(!0,431.46):(254,"397.50" * 1):"d")];this.setPoint(W52,a$B,this["v" + W52],f26.chart);this.points[W52][0]=this.stx.tickFromDate(n8.strToDateTime(a$B),f26.chart);K7W.X6U(1);this.points[W52][1]=this[K7W.o$D(W52,(+"869.29",1540) !== (320.2,+"362")?(978.32,522.47) !== (219.72,6280)?"v":(492.57,"6750" * 1) >= "943.94" * 1?0x19cf:(!!({}),"Z"):746.18)];}};n8.Drawing.elliottwave.prototype.click=function(p4l,S_v,k4I){var P24;P24=this.stx.panels[this.panelName];if(!P24){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,S_v,k4I,P24.chart);this.points.push(this.p0);this.penDown=!![];this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(p4l);}K7W.X6U(7);var u1l=K7W.w65(10,9,0);this.maxSegments=this.annotationPoints.length - u1l;this.trend=1;return !!0;}if(this.accidentalClick(S_v,k4I)){this.penDown=!!({});return !({});}if(this.check(S_v,k4I,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,S_v,k4I,P24.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return !!"1";}}return !1;};n8.Drawing.elliottwave.prototype.render=function(e2y){var w2Y,C9t,D7q,s28,G$R,d8I,u4k,M5g,T$m,g2X,X5z,L6K,q86,C69,W_i,C_$,R0w,I$c,J0I,H_u,Z06,h7n,H7o,H9U,Z84,O62,a3w,m8i,r2H;w2Y=this.stx;C9t=w2Y.panels[this.panelName];D7q=w2Y.getYAxisByField(C9t,this.field);if(!C9t || this.field && !D7q){return;}D7q=D7q || C9t.yAxis;K7W.b5b();s28=this.annotationPoints;G$R=this.pattern?n8.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();e2y.font=this.fontString;e2y.textAlign="center";e2y.textBaseline="middle";e2y.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(e2y);}this.lastFontString=this.fontString;d8I=this.getLineColor();e2y.fillStyle=e2y.strokeStyle=d8I;e2y.save();e2y.setLineDash(G$R);u4k=this.dx;M5g=this.dy;T$m=this.points;g2X=this.pts;X5z=!this.showLines && this.highlighted;L6K=T$m.length;if(this.penDown && this.segment){K7W.X6L(92);var W34=K7W.o$D(18,35638,11,9,20);q86=this.trend * (L6K % W34 - +"0.5") < 0;this.drawDropZone(e2y,T$m[L6K - 2][1],D7q[q86?"high":"low"],T$m[L6K - 2][0]);}else if(typeof this.highlighted === "string" && w2Y.repositioningDrawing){C69="m";C69+="a";C69+="x";W_i=parseInt(this.highlighted.substring(1,this.highlighted.length),10);K7W.X6U(0);var r7t=K7W.w65(16,18);q86=this.trend * (W_i % r7t - 0.5) > 0;K7W.X6U(0);C_$=T$m[K7W.o$D(1,W_i)];K7W.X6L(1);R0w=T$m[K7W.w65(1,W_i)];I$c=W_i > ("0" ^ 0)?C_$[1]:R0w["1" << 32];if(R0w){I$c=Math[q86?C69:"min"](I$c,R0w[1]);}this.drawDropZone(e2y,I$c,D7q[q86?"high":"low"],C_$?C_$[0]:null,R0w?R0w[0]:null);}for(var T_h=0;T_h < L6K;T_h++){J0I=T$m[T_h];H_u=w2Y.pixelFromTick(J0I[0],C9t.chart);Z06=this.pixelFromValue(C9t,J0I[0],J0I[1],w2Y.getYAxisByField(C9t,this.field));g2X[T_h]=[H_u,Z06];}T_h=0;if(this.showLines || X5z){e2y.beginPath();if(X5z){e2y.globalAlpha=0.3;}for(;T_h < g2X.length;T_h++){e2y.lineTo(g2X[T_h][+"0"],g2X[T_h][+"1"]);}e2y.stroke();T_h=0;}e2y.restore();for(;T_h < L6K;T_h++){h7n="parenthes";h7n+="es";H7o=T_h % 2?u4k:-u4k;H9U=T_h % 2?M5g:-M5g;H7o*=this.trend;H9U*=this.trend;if(D7q.flipped){H7o*=-1;K7W.X6U(9);H9U*=-K7W.o$D(1,"1");}Z84=g2X[T_h];O62=Z84[2]=Z84[0] + H7o;K7W.X6L(47);var F3h=K7W.o$D(12,25,0,1,12);a3w=Z84[3]=Z84[F3h] + H9U;m8i=this.enclosedRadius || "8" | 0;r2H=s28[T_h];if(this.decoration === h7n){K7W.X6L(87);r2H=K7W.o$D("(",(316.73,+"8142") != ("1710" | 34)?")":(2814,8870) > 915.13?888.33 !== 427?(2.33e+3,!!"1"):6.74e+3:(!({}),559.00),r2H);}e2y.fillText(r2H,O62,a3w);if(this.decoration === "enclosed"){e2y.beginPath();e2y.arc(O62,a3w,m8i,+"0",2 * Math.PI,!({}));e2y.stroke();}if(this.highlighted){e2y.save();this.littleCircle(e2y,this.pts[T_h][0],this.pts[T_h]["1" << 0],this.highlighted === (3267 <= (570.69,9700)?(2744,2352) <= 8480?"p":"A":2.46e+3) + T_h);e2y.restore();}}};n8.Drawing.elliottwave.prototype.reposition=function(o$Q,c5u,n0u,y7h){var N2C,E40,F1x,u62,d3d,r60;K7W.d9F();if(!c5u){return;}N2C=this.stx.panels[this.panelName];E40=c5u.tick - n0u;F1x=c5u.value - y7h;if(c5u.action === "move"){for(var J8W=0;c5u.points.length > J8W;J8W++){u62=c5u.points[J8W];this.setPoint(J8W,u62[+"0"] - E40,u62[1] - F1x,N2C.chart);K7W.X6U(55);var e_M=K7W.w65(7,50,9,16,19);this.points[J8W]=[u62[0] - E40,u62[e_M] - F1x];}}if(c5u.action === "drag"){d3d=c5u.point;r60=this.points;r60[d3d]=[n0u,y7h];if(this.check(n0u,y7h,d3d)){this.setPoint(d3d,n0u,y7h,N2C.chart);;};}this.render(o$Q);};n8.Drawing.elliottwave.prototype.intersected=function(g_e,L_E,X$X){var B8J,h50,d_D,Z5O,i7A,F_a;if(!this.p0 || !this.p1){return null;}for(var G7Y=+"0";this.points.length > G7Y;G7Y++){h50="s";h50+="egment";d_D=this.points[G7Y];if(this.pointIntersection(d_D[+"0"],d_D["1" ^ 0],X$X)){K7W.X6L(1);this.highlighted=K7W.o$D(G7Y,"p");return {action:"drag",point:G7Y,tick:g_e,value:this.valueOnDrawingAxis(g_e,L_E)};}if(this.points[G7Y + 1] && this.lineIntersection(g_e,L_E,X$X,h50,d_D,this.points[G7Y + ("1" << 64)])){this.highlighted=!!1;B8J={action:"move",points:n8.clone(this.points),tick:g_e,value:this.valueOnDrawingAxis(g_e,L_E)};}}Z5O=2146297815;i7A=-391286693;F_a=2;for(var t3C=1;K7W.P12(t3C.toString(),t3C.toString().length,"62804" * 1) !== Z5O;t3C++){return B8J;}if(K7W.Q0B(F_a.toString(),F_a.toString().length,88223) !== i7A){return B8J;}};n8.Drawing.elliottwave.prototype.measure=function(){K7W.d9F();var e$u,g5R,N3h,X0P,J5C;if(this.points.length >= 2){e$u=this.points;this.stx.setMeasure(e$u[0][1],e$u[e$u.length - 1][1],e$u[0]["0" * 1],e$u[e$u.length - +"1"][0],!"");g5R=this.stx.controls.mSticky;N3h=g5R && g5R.querySelector(".mStickyInterior");if(N3h){X0P="C";X0P+="l";X0P+="os";X0P+="e";J5C=[];J5C.push(n8.capitalize("Elliott Wave"));if(this.getYValue){J5C.push(this.field || this.stx.defaultPlotField || X0P);}J5C.push(N3h.innerHTML);N3h.innerHTML=J5C.join("<br>");}}};n8.Drawing.printProjection=function(q89,T2p,w2e){K7W.d9F();var C5f,q9t,Z11,i0z,v4h,h6q,Y35,y2o,b74,W2s,s1s,B2K,U0c,C2s,Y5o,l6u;C5f=T2p.arr;if(C5f.length > +"1"){q9t=C5f[0][0];Z11=Math.round(q89.chart.maxTicks * 0.75);for(var V1A=1;V1A < C5f.length;V1A++){K7W.X6U(0);i0z=C5f[K7W.o$D(1,V1A)][0];v4h=C5f[V1A][0];h6q=n8.strToDateTime(i0z);Y35=n8.strToDateTime(v4h).getTime();y2o=q89.standardMarketIterator(h6q);b74=0;while(h6q.getTime() < Y35){h6q=y2o.next();b74+=1;}W2s=n8.strToDateTime(i0z).getTime();if(W2s > n8.strToDateTime(w2e[w2e.length - 1].Date).getTime()){K7W.X6U(107);var L9o=K7W.o$D(12,18,19,12);s1s=w2e.length - L9o;b74+=1;}else {for(s1s=w2e.length - 1;s1s >= 0;s1s--){if(W2s <= n8.strToDateTime(w2e[s1s].Date).getTime())break;}}B2K={x0:0,x1:b74,y0:w2e[s1s].Close,y1:C5f[V1A]["1" * 1]};q9t=n8.strToDateTime(i0z);y2o=q89.standardMarketIterator(q9t);U0c=!!0;for(var p3X=0;p3X <= b74;p3X++){if(!U0c){U0c=!!1;}else {q9t=y2o.next();}if(q9t.getTime() <= w2e[w2e.length - 1].DT.getTime())continue;C2s=n8.yIntersection(B2K,p3X);if(!C2s){C2s=0;}K7W.X6U(0);var F8y=K7W.w65(18,10018);K7W.X6U(7);var n9G=K7W.o$D(4,11,10007);Y5o=Math.round(C2s * F8y) / n9G;if(Y5o === 0){Y5o=C5f[V1A][1];}l6u={Date:n8.yyyymmddhhmmssmmm(q9t),DT:q9t,Open:Y5o,Close:Y5o,High:Y5o,Low:Y5o,Volume:0,Adj_Close:Y5o,Split_Close:Y5o,projection:!0};if(q89.layout.interval == "minute")if(Z11-- < 0)break;w2e[w2e.length]=l6u;}}}};}};Y=t2J=>{var i5r=F$OMy;var r0T,M7k;r0T=typeof _CIQ !== "undefined"?_CIQ:t2J.CIQ;i5r.d9F();if(!r0T.computeEquationChart){M7k="e";M7k+="quationsAdvanced feature requires first activating equations ";M7k+="feature.";console.error(M7k);}else {r0T.formatEquation=function(q$p){var x6y,d8a,L6x,L9C,o00;x6y="";d8a=[];L6x="";i5r.d9F();L9C=!({});for(var g6A=1;g6A < q$p.length;g6A++){o00=q$p[g6A];if(o00 == ((+"8870",8610) == ("1787" | 34)?"973.81" - 0:1240 === 8685?(0x9c,!"1"):"[") && !L9C){L9C=!!1;}else if(o00 == ("430.36" * 1 !== ("2660" ^ 0,1560)?"1548" - 0 === (+"4298",670.74)?0x10f5:"]":("c",36.11)) && L9C){L9C=!!"";if(L6x !== ""){d8a.push(L6x);i5r.X6U(87);x6y+=i5r.w65("[","]",L6x);}L6x="";}else if(L9C){L6x+=o00;}else if(o00 == (745.69 <= 3260?"+":7.18e+3) || o00 == (("3840" ^ 0) !== (777.34,598)?"-":9.25 > "7840" * 1?!1:(!({}),"u")) || o00 == "*" || o00 == "/" || o00 == (346.92 === 214?!"1":(61.46,+"6300") == (4150,3490)?("O",533.19):(8150,9286) == (979.7,6560)?![]:":") || o00 == "%" || o00 == "(" || o00 == ")"){if(L6x !== "" && isNaN(L6x)){d8a.push(L6x);i5r.X6U(87);x6y+=i5r.o$D("[",816.85 < 879.42?(823.08,8864) == ("151.76" - 0,813.96)?0x2328:"]":921.77,L6x);}else {x6y+=L6x;}if(o00 == (476.26 < (641.4,+"5260")?":":(+"136.08",0x2449))){o00=(337.98,916.03) != (+"6130",179)?3264 !== "1100" << 32?"/":(264.88,9663) != (234.54,548)?("D","L"):("T",!!({})):("U",!![]);}x6y+=o00;L6x="";}else if(o00 != ((666,7080) === +"550.89"?!!0:498 >= (309.39,4650)?(658.35,829) >= (499,197.4)?("h",50.99):(!({}),!!""):" ")){L6x+=o00;}}if(L6x !== "" && isNaN(L6x)){d8a.push(L6x);i5r.X6L(87);x6y+=i5r.o$D((7074,590.03) < (+"1591",9430)?"[":"815" >> 0,(9428,856) >= (255,"3576" ^ 0)?(+"9.96e+3",!![]):"]",L6x);}else {x6y+=L6x;}return {equation:x6y,symbols:d8a};};r0T.fetchEquationChart=function(s$x,W8H){var G3t,D2c,D$D,Q4S,T61;G3t=r0T.formatEquation(s$x.symbol);D2c=G3t.symbols;D$D=[];Q4S=s$x.stx;s$x.stx=null;for(var X3a=0;X3a < D2c.length;X3a++){T61=r0T.shallowClone(s$x);T61.stx=Q4S;T61.symbol=D2c[X3a];T61.symbolObject={symbol:D2c[X3a]};D$D.push(T61);}s$x.stx=Q4S;Q4S.quoteDriver.multiFetch(D$D,function(Z91){var A2Y,d0V,Q$e,W7z,p8_;A2Y={};s$x.loadMoreReplace=!"";d0V={charge:0};i5r.d9F();for(var w4T=0;w4T < Z91.length;w4T++){Q$e=Z91[w4T];if(Q$e.dataCallback.error){W8H({error:Q$e.dataCallback.error});return;}A2Y[Q$e.params.symbol]=Q$e.dataCallback.quotes;s$x.loadMoreReplace=s$x.loadMoreReplace && Q$e.params.loadMoreReplace;s$x.moreToLoad=s$x.moreToLoad || Q$e.dataCallback.moreAvailable;W7z=Q$e.dataCallback.attribution;if(W7z){if(W7z.charge){d0V.charge+=W7z.charge;}d0V.source=W7z.source;if(d0V.exchange === undefined){d0V.exchange=W7z.exchange;}else if(d0V.exchange != W7z.exchange){d0V.exchange="";};}}if(D$D.length || !(s$x.loadMore || s$x.update)){try{p8_=r0T.computeEquationChart(G3t.equation,A2Y);W8H({quotes:p8_,moreAvailable:s$x.moreToLoad,attribution:d0V});}catch(p99){var d6E;d6E={error:"Invalid equation: " + G3t.equation};if(p99.name && p99.name == "NoException"){d6E.suppressAlert=!!"1";}W8H(d6E);}}});};}};F=a8d=>{var f1D=F$OMy;var f_A,u9B;f_A="u";f_A+="nde";f_A+="f";f1D.d9F();f_A+="ined";u9B=typeof _CIQ !== f_A?_CIQ:a8d.CIQ;if(!u9B.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!u9B.Marker.Performance){u9B.ChartEngine.prototype.removeDOMMarker=function(d3P){var X4R,p07,w2W;f1D.d9F();X4R=-1786922807;p07=-60213349;w2W=2;for(var Y_t=1;f1D.Q0B(Y_t.toString(),Y_t.toString().length,94701) !== X4R;Y_t++){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");u9B.Marker.Performance.prototype.removeDOMMarker.call(d3P.params.node,d3P);w2W+=+"2";}if(f1D.Q0B(w2W.toString(),w2W.toString().length,32484) !== p07){console.warn("");u9B.Marker.Performance.prototype.removeDOMMarker.call(d3P.params.node,d3P);}};u9B.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");u9B.Marker.Performance.drawMarkers(this);};u9B.ChartEngine.prototype.calculateMarkerStyles=function(V6p,u6j){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");u9B.Marker.Performance.calculateMarkerStyles(this,V6p,u6j);};u9B.ChartEngine.prototype.drawCircleMarker=function(u1S,Q21,X9t){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");u9B.Marker.Performance.drawCircleMarker(u1S,Q21,X9t);};u9B.ChartEngine.prototype.drawSquareMarker=function(w6_,A5$,Z82){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");f1D.d9F();u9B.Marker.Performance.drawSquareMarker(w6_,A5$,Z82);};u9B.ChartEngine.prototype.drawCalloutMarker=function(D2a,l62,o6H){var b7L;b7L="CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCall";b7L+="outMarker instead.";console.warn(b7L);u9B.Marker.Performance.drawCalloutMarker(D2a,l62,o6H);};u9B.ChartEngine.prototype.drawMarkerStem=function(s9S,s1K,j03){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");u9B.Marker.Performance.drawMarkerStem(s9S,s1K,j03);};u9B.ChartEngine.prototype.positionDOMMarkers=function(){var V_q;V_q="CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future rel";f1D.b5b();V_q+="ease\n Please use CIQ.Marke";V_q+="r.Performance.drawMarkers inst";V_q+="ead.";console.warn(V_q);u9B.Marker.Performance.drawMarkers(this);};u9B.Marker.Performance=function(N_$){var e9P,G9q,J7u,P0k,v6_,k_5,w4t,O66,Z6p,t1H,A1s,B84;e9P=".stx-vis";e9P+="ua";e9P+="l";G9q="<div";G9q+=" class=\"stx";G9q+="-stem\"></div>";J7u="</div";J7u+=">";P0k="<div class=\"stx-marke";P0k+="r hi";P0k+="ghlight\">";this.params={displayCategory:!![],displayStem:!!"1",invert:!!0,story:"",headline:""};u9B.extend(this.params,N_$);v6_=this.template=document.createElement("TEMPLATE");f1D.X6L(108);v6_.innerHTML=f1D.w65("</div>",'<div class="stx-marker-content">','<div class="stx-visual">',G9q,J7u,P0k,"</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>');k_5=this.template.content.cloneNode(!!"1");w4t=k_5.querySelector(".stx-marker");w4t.classList.add(N_$.type);w4t.classList.add(N_$.category);if(N_$.size){w4t.classList.add(N_$.size);}O66=k_5.querySelector(e9P);Z6p=k_5.querySelector(".stx-marker-expand");t1H=k_5.querySelector("h4");A1s=k_5.querySelector(607.34 <= ("8065" - 0,2500)?"p":(9050,3348) <= 536.95?(4.03e+3,0x20ac):("31.01" - 0,6860) <= (196.49,7450)?"x":1.48e+3);f1D.d9F();t1H.innerText=this.params.headline;A1s.innerText=this.params.story;this.hasText=!!N_$.headline || !!N_$.story;this.deferAttach=!!"1";this.node=k_5.firstChild;this.node.params=this.params;this.visual=O66;this.expand=Z6p;if(N_$.type === "callout"){B84=Z6p.removeChild(t1H);k_5.querySelector(".stx-marker-content").insertBefore(B84,Z6p);}};u9B.inheritsFrom(u9B.Marker.Performance,u9B.Marker.NodeCreator,!"1");u9B.Marker.Performance.consolidateExpanded=function(g01){var a0n,t0w,N1l,X$b,h9Z;a0n=g01.markerHelper.highlighted;f1D.d9F();function g0V(V$R){var t_f,y4S;f1D.d9F();t_f=V$R.params.node;y4S=t_f.expand;if(!y4S){return null;}return y4S.querySelector(".marker_content") || y4S;}if(!a0n.length){return;}t0w=g01.activeMarker;if(!t0w.consolidated){t0w.consolidated=[];}for(var o$L=a0n.length - 1;o$L >= 0;o$L--){if(t0w === a0n[o$L])continue;N1l=g0V(a0n[o$L]);if(N1l){X$b="</co";X$b+="nsoli";X$b+="dated>";h9Z="<consolidated><br><br>" + N1l.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + X$b;g0V(t0w).innerHTML+=h9Z;}}t0w.stxNodeCreator.quickCache(t0w);};u9B.Marker.Performance.reconstituteExpanded=function(z17){if(!z17.markerHelper.highlighted.length || !z17.activeMarker){return;}f1D.d9F();Array.from(z17.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(L1F=>{f1D.d9F();return L1F.remove();});};u9B.Marker.Performance.drawMarkers=function(p1m){f1D.d9F();var Y_f,D8q,F9g,j9w,z1E,v0p;Y_f=p1m.getMarkerArray("all");D8q=p1m.chart;for(var M18=0;M18 < Y_f.length;M18++){F9g=Y_f[M18];j9w=F9g.stxNodeCreator;z1E=D8q.dataSegment[0].tick;v0p=D8q.dataSegment[D8q.dataSegment.length - +"1"].tick;if(z1E <= F9g.tick <= v0p){if(j9w && j9w.drawMarker){j9w.drawMarker(F9g);}}}};u9B.Marker.Performance.calculateMarkerStyles=function(F79,F0H,p6U){var k1p,O3K,C2Z,t0n,Y$c;k1p=".stx-marker-tem";k1p+="plates";O3K=F79.container.ownerDocument;C2Z=O3K.querySelector(k1p);if(!C2Z){C2Z=document.createElement("DIV");C2Z.style.visibility="hidden";C2Z.style.left="-1000px";O3K.body.append(C2Z);}C2Z.appendChild(F0H.node);t0n=getComputedStyle(F0H.stxNodeCreator.visual);if(!F79.styles.stx_marker_stem){Y$c=getComputedStyle(F0H.node.querySelector(".stx-stem"));F79.styles.stx_marker_stem=F79.cloneStyle(Y$c);}F79.styles[p6U]=F79.cloneStyle(t0n);C2Z.removeChild(F0H.node);};u9B.Marker.Performance.drawCircleMarker=function(H1v,V9o,O65){var K3t,O0Q,Z0A,E$4,y7Y,t$g,p7G,Z7E,x_R;K3t="px Robo";K3t+="to, Helvetic";K3t+="a, sa";K3t+="ns-serif";O0Q=H1v.params.stx;Z0A=O0Q.chart;E$4=Z0A.context;y7Y=O65.x;t$g=O65.y;p7G=O65.radius;Z7E=O65.label;x_R=O65.color?O65.color:V9o.backgroundColor;E$4.save();E$4.beginPath();E$4.setLineDash([]);f1D.X6L(9);E$4.lineWidth=f1D.w65(1,"1");E$4.fillStyle=x_R;E$4.strokeStyle=x_R;E$4.textAlign="center";f1D.X6L(0);var u9i=f1D.w65(20,22);f1D.X6L(7);var U2v=f1D.o$D(18,17,0);E$4.font="normal bold " + Math.min(+"12",u9i * (p7G + U2v)) + K3t;E$4.arc(y7Y,t$g,p7G,0,2 * Math.PI,!"1");E$4.fill();E$4.stroke();E$4.closePath();if(Z7E){E$4.fillStyle=u9B.chooseForegroundColor(E$4.fillStyle);f1D.X6U(1);E$4.fillText(Z7E,y7Y,f1D.w65(1,t$g));}if(H1v.highlight || H1v.active){if(u9B.isTransparent(x_R)){E$4.strokeStyle=O0Q.defaultColor;}E$4.beginPath();f1D.X6U(1);E$4.arc(y7Y,t$g,f1D.w65(4,p7G),0,2 * Math.PI,!({}));E$4.stroke();E$4.closePath();}E$4.restore();};u9B.Marker.Performance.drawSquareMarker=function(j7b,I2i,L4H){var S4J,X4t,K2j,w$j,J3u,r9X,C4k,x6N,A5I,Z1s,V3e,I46,w9e,c7T,P52;S4J="dia";S4J+="m";S4J+="ond";X4t=j7b.params.stx;K2j=X4t.chart;w$j=K2j.context;J3u=L4H.x;r9X=L4H.y;C4k=L4H.half;x6N=L4H.label;A5I=L4H.color?L4H.color:I2i.backgroundColor;f1D.X6L(9);Z1s=f1D.o$D(2,C4k);w$j.setLineDash([]);w$j.lineWidth=1;w$j.fillStyle=A5I;w$j.strokeStyle=A5I;w$j.save();w$j.beginPath();if(j7b.node.params.type === S4J){w$j.translate(J3u,r9X);w$j.rotate(Math.PI / +"4");w$j.translate(-J3u,-r9X);C4k/=1.42;f1D.X6U(109);Z1s=f1D.w65("2",C4k);}f1D.X6U(0);w$j.fillRect(f1D.w65(C4k,J3u),f1D.w65(C4k,r9X),Z1s,Z1s);if(j7b.highlight || j7b.active){f1D.X6U(110);w$j.strokeRect(f1D.o$D(C4k,4,J3u),f1D.w65(C4k,4,r9X,f1D.X6U(110)),f1D.w65(1,"8",Z1s,f1D.X6U(88)),f1D.w65(8,Z1s,f1D.X6L(1)));}w$j.closePath();w$j.restore();if(x6N){V3e="no";V3e+="rmal";V3e+=" bo";V3e+="ld ";w$j.save();I46=-1288222368;w9e=-1474663078;c7T=2;for(var v4e=1;f1D.P12(v4e.toString(),v4e.toString().length,38050) !== I46;v4e++){w$j.textAlign="normal bold ";f1D.X6U(111);var n7C=f1D.w65(5,23,1,23);w$j.font=("normal bold " - Math.min(+"43",n7C / C4k)) % "normal bold ";c7T+=2;}if(f1D.P12(c7T.toString(),c7T.toString().length,35504) !== w9e){P52="n";P52+="orm";P52+="al bold";P52+=" ";w$j.textAlign="normal bold ";f1D.X6L(91);var Z8K=f1D.o$D(10,1,7,9);w$j.font="normal bold " % Math.min("77" ^ 0,Z8K * C4k) * P52;}w$j.textAlign="center";f1D.X6U(112);var L6W=f1D.w65(3,11,18,2,10);f1D.X6L(113);var R_A=f1D.w65(16,5,8,1,10);w$j.font=V3e + Math.min(L6W,R_A * C4k) + "px Roboto, Helvetica, sans-serif";w$j.fillStyle=u9B.chooseForegroundColor(w$j.fillStyle);f1D.X6U(1);w$j.fillText(x6N,J3u,f1D.w65(1,r9X));w$j.restore();}};u9B.Marker.Performance.drawCalloutMarker=function(t2S,x4E,N0$){var Y2q,v8L,E6E,z4y,j5F,B_J,I2V,B0O,n_p,A75,m08,t26,S4V,V6Z,d0M,S8n,P70;Y2q="b";Y2q+="l";Y2q+="a";Y2q+="ck";v8L="rgba";v8L+="(255";v8L+=",";v8L+="255,255,0.8)";E6E="normal bold 12px Roboto, Helvetica, sans-se";E6E+="rif";z4y=t2S.params.stx;j5F=z4y.chart;B_J=j5F.context;I2V=t2S.params;B0O=N0$.x;n_p=N0$.y;A75=N0$.half;m08=N0$.midWidth;t26=N0$.headline;S4V=N0$.color?N0$.color:x4E.backgroundColor;V6Z=A75 * 2 || 25;d0M=Math.round(B_J.measureText(t26).width);S8n=m08?m08 * 2:d0M + 8;B_J.beginPath();B_J.setLineDash([]);B_J.lineWidth=1;B_J.fillStyle=S4V;B_J.strokeStyle=S4V;B_J.font=E6E;B_J.rect(I2V.box.x0,I2V.box.y0,S8n,V6Z);B_J.fill();B_J.stroke();B_J.closePath();B_J.beginPath();B_J.fillStyle=t2S.highlight || t2S.active?v8L:"rgba(255,255,255,0.65)";f1D.X6U(114);P70=f1D.w65(S8n,d0M,2,20);B_J.rect(I2V.box.x0 + P70,n_p - A75,d0M + 40,22);B_J.fill();B_J.stroke();B_J.closePath();B_J.fillStyle=Y2q;B_J.fillText(t26,I2V.box.x0 + P70 + 10,n_p);};u9B.Marker.Performance.drawMarkerStem=function(z0$,q0W,P3$){var O$P,D_n,i18,i80,H7L,h$g,Q2r,T_T;O$P=z0$.params.stx;D_n=O$P.chart;i18=D_n.context;i80=P3$.x;H7L=P3$.y;i18.beginPath();i18.strokeStyle=q0W.borderLeftColor;i18.setLineDash([1,+"1"]);h$g=u9B.stripPX(q0W.height);Q2r=P3$.invert?z0$.params.box.y0:z0$.params.box.y1;T_T=P3$.invert?z0$.params.box.y0 - h$g:z0$.params.box.y1 + h$g;i18.moveTo(i80,Q2r);i18.lineTo(i80,T_T);i18.stroke();f1D.d9F();i18.closePath();};u9B.Marker.Performance.prototype.drawMarker=function(R4E){var A0L,g7O,Y0s,J79,m$T,b25,J8D,F4U,Y28,G64,R6j,f5A,P$B,f5h,v8b,D23,G57,k$j,b6T,s99,p2_,r6y,N3o,k7c,N66,X2t,k$X,j_6,n_T,Y$Y,x61,q9y,l6Q,B30;A0L="cal";A0L+="lout";g7O="s";g7O+="qua";g7O+="r";g7O+="e";Y0s="c";Y0s+="ir";Y0s+="cl";Y0s+="e";J79="di";J79+="amond";m$T="stx_marke";m$T+="r_";b25=R4E.params;J8D=R4E.params.stx;if(!J8D){return;}F4U=J8D.chart;Y28=F4U.dataSegment;f1D.b5b();if(!Y28 || !Y28.length){return;}G64=J8D.panels[R4E.params.panelName];if(G64.hidden){return;}R6j=R4E.params.yAxis || G64.yAxis;f5A=R4E.stxNodeCreator.params;if(f5A.hide){return;}P$B=f5A.type;f5h=f5A.category;v8b=f5A.headline;D23=f5A.displayCategory;G57=f5A.color;k$j=f5A.displayLabel;b6T=f5A.invert;s99=f5A.size;if(G57 === "auto"){G57=J8D.defaultColor;}f1D.X6L(115);p2_=f1D.o$D("_",m$T,P$B,f5h);if(s99){f1D.X6L(1);p2_+=f1D.w65(s99,5045 != "931.83" - 0?"_":88.53);}if(!J8D.styles[p2_]){u9B.Marker.Performance.calculateMarkerStyles(J8D,R4E,p2_);}r6y=R4E.style=J8D.styles[p2_];N3o=J8D.styles.stx_marker_stem;f1D.X6U(116);var m6A=f1D.w65(110,1,11,0);f1D.X6L(117);var u3q=f1D.w65(32,637,3,9,18);k7c=parseInt(r6y.height,m6A) / u3q;f1D.X6L(0);var g$5=f1D.o$D(110,120);f1D.X6L(0);var z85=f1D.w65(32,34);N66=parseInt(r6y.width,g$5) / ("2" | z85);if(P$B === J79){k7c*=1.42;N66*=1.42;}X2t=f5A.displayStem?parseInt(N3o.height,10) + parseInt(N3o.marginBottom,"10" - 0):0;f1D.X6U(88);k$X=f1D.w65(2,k7c,X2t);j_6=b25.offset || 0;n_T=J8D.pixelFromTick(R4E.tick);Y$Y=b25.node.calculateYPosition({marker:R4E,panel:G64,yAxis:R6j,height:k$X,half:k7c,offset:j_6,stemHeight:X2t,inverted:b6T,field:b25.field,x:n_T});if(!R4E.tick && R4E.tick !== 0){return;}b25.box={x0:n_T - (N66 || k7c),y0:Y$Y - k7c,x1:n_T + (N66 || k7c),y1:Y$Y + k7c,midY:k7c,midX:N66 || k7c,stemHeight:X2t};if(!D23){f5h="";}else {f5h=f5h[+"0"].toUpperCase();}J8D.startClip(G64.name);if(P$B === Y0s){u9B.Marker.Performance.drawCircleMarker(R4E,r6y,{x:n_T,y:Y$Y,radius:k7c,label:k$j || f5h,color:G57});}else if(P$B === g7O || P$B === "diamond"){x61=-1511123154;q9y=1122107228;f1D.X6L(0);l6Q=f1D.o$D(0,"2");for(var T7P=1;f1D.P12(T7P.toString(),T7P.toString().length,32533) !== x61;T7P++){u9B.Marker.Performance.drawSquareMarker(R4E,r6y,{x:n_T,y:Y$Y,half:k7c,label:k$j && f5h,color:G57});f1D.X6U(37);l6Q+=f1D.o$D("2",2);}if(f1D.P12(l6Q.toString(),l6Q.toString().length,73719) !== q9y){u9B.Marker.Performance.drawSquareMarker(R4E,r6y,{x:n_T,y:Y$Y,half:k7c,label:k$j || f5h,color:G57});}}else if(P$B === A0L){u9B.Marker.Performance.drawCalloutMarker(R4E,r6y,{x:n_T,y:Y$Y,half:k7c,midWidth:N66,headline:v8b,color:G57});}else {B30=" is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callo";B30+="ut.";f1D.X6L(87);console.warn(f1D.w65("Marker type: ",B30,P$B));}if(f5A.displayStem){u9B.Marker.Performance.drawMarkerStem(R4E,N3o,{x:n_T,y:Y$Y,invert:b6T});}J8D.endClip();if(R4E.attached){this.positionPopUpNode(R4E);}};u9B.Marker.Performance.prototype.positionPopUpNode=function(K9s){var G0Q,d4V,y0p,X_V,z98,y9M,j3z,A1u,S2u,X3B,C9z,Y6B,z_m,a0J,G9m,V8q,n4F,g99,A5a,g7k,o8a;G0Q="hid";G0Q+="de";G0Q+="n";if(!K9s.attached || !K9s.params.box){return;}d4V=K9s.params;y0p=d4V.stx;X_V=d4V.box;z98=K9s.params.node.expand;y9M=y0p.chart.dataSet;j3z=y0p.chart.dataSegment;A1u=y0p.panels[d4V.panelName];if(K9s.tick){X3B="Da";X3B+="t";X3B+="e";C9z=[y9M[j3z[0] && j3z[0].tick - 1],y9M[j3z[0] && j3z[0].tick - 2]];Y6B=y0p.getFirstLastDataRecord(C9z.concat(j3z),X3B);f1D.X6L(15);var D2y=f1D.w65(89,5,18);f1D.X6L(15);var O2C=f1D.w65(139,10,14);f1D.X6L(118);var r1O=f1D.w65(6,6,10,9);z_m=[y9M[j3z[j3z.length - D2y].tick + O2C],y9M[j3z[j3z.length - r1O].tick + ("2" >> 0)]];a0J=y0p.getFirstLastDataRecord(j3z.concat(z_m),"Date",!"");S2u=Y6B.DT <= y9M[K9s.tick].DT && y9M[K9s.tick].DT <= a0J.DT && K9s.params.box.y0 <= A1u.yAxis.bottom && K9s.params.box.y1 >= A1u.yAxis.top;}else {S2u=!!"";}if(!K9s.highlight && !K9s.active){S2u=![];}z98.style.visibility=S2u?"":G0Q;if(!S2u){return;}if(z98.style.height !== ""){z98.style.height="";}G9m=z98.rects;f1D.X6U(39);var o18=f1D.w65(8,10);V8q=G9m.height / o18;g99=K9s.node.params.infoOffset || 0;if(K9s.node.params.infoOnLeft){n4F=X_V.x0 - G9m.width - g99 < A1u.left?X_V.x1 + g99:X_V.x0 - G9m.width - g99;}else {n4F=X_V.x0 + G9m.width > A1u.right?X_V.x0 - G9m.width - g99:X_V.x1 + g99;}n4F-=y0p.chart.left;A5a=d4V.avoidFlush?+"5":+"0";g7k=X_V.y0 - V8q >= A1u.yAxis.top?X_V.y0 + X_V.midY - V8q:A1u.yAxis.top + A5a;if(!d4V.avoidFlush && X_V.y1 + X_V.stemHeight === A1u.yAxis.bottom && G9m.height > X_V.y1 - X_V.y0 + X_V.stemHeight){g7k=X_V.y1 - G9m.height + X_V.stemHeight;}if(X_V.y1 + V8q > A1u.yAxis.bottom){g7k=A1u.yAxis.bottom - G9m.height - A5a;}if(G9m.height > A1u.yAxis.height){g7k=A1u.yAxis.top + A5a;z98.style.height=A1u.yAxis.height - ("2" ^ 0) * A5a + "px";}g7k-=A1u.yAxis.top;o8a="translateX(" + Math.floor(n4F) + "px) translateY(" + Math.floor(g7k) + "px) translateZ(0)";z98.style.transform=o8a;z98.transform={translateX:n4F,translateY:g7k};};u9B.Marker.Performance.prototype.quickCache=function(Q67){var N4j,P2h,M7n,d_F;N4j=Q67.params.node;P2h=N4j.expand;M7n=Q67.style;d_F=u9B.stripPX(M7n.marginLeft) + u9B.stripPX(M7n.marginRight) + u9B.stripPX(M7n.borderRight) + u9B.stripPX(M7n.borderLeft);P2h.rects=P2h.getBoundingClientRect();P2h.scrollBarWidth=P2h.rects.width - P2h.clientWidth - d_F;};u9B.Marker.Performance.prototype.calculateYPosition=function(s72){var d8w,g2I,h4L,s9L,S0E,F31,u8E,E4s,R2t,H7h,N$t,O7b,p6T,d23,N2d,O6M,i6s,f2F,B2s,q8S,H0p,Q1k,Y0j,i1H,X23,S6Q,q7D,w9O,E6e;d8w="bottom_lan";d8w+="e";g2I="top_l";g2I+="ane";h4L="on_";h4L+="c";h4L+="an";h4L+="dle";s9L="v";s9L+="a";s9L+="l";s9L+="ue";S0E="num";S0E+="ber";F31=s72.marker;u8E=s72.panel;E4s=s72.yAxis;R2t=s72.height;H7h=s72.half;N$t=s72.offset;O7b=s72.stemHeight;p6T=s72.inverted;d23=s72.field;N2d=F31.params.stx;O6M=N2d.chart;i6s=N2d.chart.highLowBars;f2F=O6M.dataSet[F31.tick];if(!f2F){return;}if(d23){f2F=f2F[d23];}if(!f2F){return;}if(typeof f2F === S0E){f2F={Close:f2F};f2F[O6M.defaultPlotField]=f2F.Close;i6s=!({});}B2s=N2d.getBarBounds(f2F,!!d23);q8S=i6s?B2s[E4s.flipped?"low":"high"]:f2F[O6M.defaultPlotField];H0p=i6s?B2s[E4s.flipped?"high":"low"]:f2F[O6M.defaultPlotField];Q1k=F31.params.yPositioner;if(isNaN(q8S)){f1D.X6L(119);var c9F=f1D.o$D(15,1,2,12,7);q8S=(E4s.high + E4s.low) / c9F;}if(isNaN(H0p)){f1D.X6L(0);var d67=f1D.w65(28,30);H0p=(E4s.high + E4s.low) / d67;}i1H=0;if(Q1k != "none"){X23="u";X23+="ndefine";X23+="d";f1D.X6L(120);var b3r=f1D.o$D(17,38,14,2,11);S6Q=Q1k.indexOf("_lane") > b3r;q7D=N2d.markerHelper.placementMap;w9O=Q1k + "|" + u8E.name;if(S6Q && typeof q7D[w9O] == X23){q7D[w9O]=2;}E6e=w9O + "-" + (S6Q?F31.params.label:s72.x);if(typeof q7D[E6e] == "undefined"){q7D[E6e]=S6Q?q7D[w9O]:0;f1D.X6U(1);q7D[w9O]+=f1D.o$D(2,R2t);}i1H=q7D[E6e];if(!S6Q){f1D.X6L(1);q7D[E6e]+=f1D.w65(1,R2t);}}switch(Q1k){case s9L:if(F31.params.y || F31.params.y === 0){Y0j=N2d.pixelFromPrice(F31.params.y,u8E,E4s) - R2t * 0.5 + H7h;break;}case "above_candle":Y0j=N2d.pixelFromPrice(q8S,u8E,E4s) - H7h - (!p6T && O7b || N$t) - i1H;break;case "below_candle":Y0j=N2d.pixelFromPrice(H0p,u8E,E4s) + H7h + (p6T && O7b || N$t) + i1H;break;case h4L:f1D.X6L(15);var j07=f1D.o$D(34,4,9);Y0j=N2d.pixelFromPrice((q8S + H0p) / j07,u8E,E4s) - R2t * 0.5 + H7h;break;case "top":case g2I:Y0j=u8E.yAxis.top + H7h + (p6T && O7b || N$t) + i1H;break;case "bottom":case d8w:Y0j=u8E.yAxis.bottom - H7h - (!p6T && O7b || N$t) - i1H;break;default:break;}f1D.X6U(121);var v6X=f1D.w65(10,1,34,16,500);return Math.round(v6X * Y0j) / ("2" - 0);};u9B.Marker.Performance.prototype.prepareForHolder=function(b_g){var h1Y,p1Q;h1Y=this.expand;f1D.b5b();p1Q=b_g.params.stx;h1Y.classList.add(this.params.type);h1Y.classList.add(this.params.category);p1Q.markerHelper.domMarkers.push(b_g);return h1Y;};u9B.Marker.Performance.prototype.addToHolder=function(b5C){var k4T,k1_,X3D;k4T="touc";k4T+="hsta";k4T+="r";k4T+="t";k1_=this.expand;X3D=b5C.params.stx;u9B.Marker.Performance.reconstituteExpanded(X3D);u9B.Marker.Performance.consolidateExpanded(X3D);this.quickCache(b5C);if(k1_.clickClosure){return;}k1_.addEventListener("mousedown",r22);k1_.addEventListener(k4T,r22,{passive:!({})});k1_.clickClosure=r22;function r22(G$k){X3D.activeMarker=b5C;X3D.activeMarker.click({cx:G$k.clientX,cy:G$k.clientY,panel:X3D.currentPanel});f1D.d9F();G$k.stopPropagation();}};u9B.Marker.Performance.prototype.remove=function(L5U){var w4Y,E_W,X6H,x5Z;w4Y=L5U.params.stx;if(!w4Y){return;}if(!w4Y.markerHelper.domMarkers){return;}E_W=w4Y.markerHelper.domMarkers.indexOf(L5U);if(E_W != -1){w4Y.markerHelper.domMarkers.splice(E_W,1);}f1D.d9F();if(L5U.attached){X6H=w4Y.panels[L5U.params.panelName];x5Z=L5U.params.node.expand;if(x5Z.parentNode === X6H.subholder){X6H.subholder.removeChild(x5Z);}x5Z.removeEventListener("click",x5Z.clickClosure);}};u9B.Marker.Performance.prototype.click=function(O7Y){var g5T,c6U,t0Y;if(!this.hasText){return;}if(arguments.length > 1){O7Y={cx:arguments[0],cy:arguments[1],marker:arguments[+"2"],panel:arguments[3]};}var {cx:Z7D, cy:Y9t, marker:L3D, panel:v69}=O7Y;g5T=L3D.params.stx;if(L3D.attached){t0Y=this.expand;if(t0Y.rects && t0Y.transform && t0Y.rects.width - t0Y.scrollBarWidth + t0Y.transform.translateX < g5T.backOutX(Z7D) && g5T.backOutX(Z7D) < t0Y.rects.width + t0Y.transform.translateX){return;}this.remove(L3D);}else {g5T.addToHolder(L3D);c6U=!!1;}L3D.attached=!L3D.attached;L3D.active=!L3D.active;if(c6U){L3D.stxNodeCreator.positionPopUpNode(L3D);}};}};X=h5Y=>{var W4E,Y3K;W4E="und";W4E+="efined";Y3K=typeof _CIQ !== W4E?_CIQ:h5Y.CIQ;Y3K.Renderer.OHLC.requestNew=function(h7B,o9G){var g1L,H_8,o4Y,O6O,H7F,B4K,b0K,d$F,G7y,d1K,Q_E,V_C,l9x;g1L=null;H_8=o9G.hlc;o4Y=o9G.colored;O6O=o9G.hollow;H7F=o9G.volume;B4K=o9G.histogram;for(var E4u="0" * 1;E4u < h7B.length;E4u++){b0K="h";b0K+="l";b0K+="c";d$F="ho";d$F+="llow";G7y="v";G7y+="o";G7y+="lu";G7y+="me";d1K="b";d1K+="a";d1K+="r";Q_E=h7B[E4u];switch(Q_E){case d1K:case "candle":g1L=Q_E;break;case G7y:H7F=!!"1";break;case d$F:O6O=!![];break;case "colored":o4Y=!"";break;case "histogram":V_C="can";V_C+="dle";B4K=!"";g1L=V_C;break;case b0K:l9x="b";l9x+="a";l9x+="r";H_8=!0;g1L=l9x;break;default:return null;}}F$OMy.b5b();if(g1L === null){return null;}return new Y3K.Renderer.OHLC({params:Y3K.extend(o9G,{type:g1L,hlc:H_8,colored:o4Y,hollow:O6O,volume:H7F,histogram:B4K})});};Y3K.Renderer.OHLC.getChartParts=function(f5p,p4P){var H2s,U$U,V2A,L5z,I$_,R35,t9V,O6n,X4n,k6u,S05,A5B,j46,O9X,Y5U,A0q,y4s,H30,T43,L5S,s6C,E0v,R0C,M2C,d9W,w$v,s$h,c6M,y4r,l_8,O3X,U3A,s$b,Y2r,d2b;H2s="fill_col";H2s+="or_even";U$U="ca";U$U+="ndle";V2A="c";V2A+="an";V2A+="d";V2A+="le";L5z="h";L5z+="oll";L5z+="ow";I$_="candl";I$_+="e";R35="holl";R35+="ow";t9V="candl";t9V+="e";O6n="c";O6n+="and";O6n+="le";X4n="ho";X4n+="ll";X4n+="ow";k6u="stx_hollow_";k6u+="candle";k6u+="_even";S05="stx_hollow_ca";S05+="ndle_down";A5B="ho";A5B+="llo";A5B+="w";j46="ho";j46+="ll";j46+="ow";O9X="can";O9X+="d";O9X+="l";O9X+="e";Y5U="bor";Y5U+="der_co";Y5U+="lor_up";A0q="stx_can";A0q+="dle";A0q+="_up";F$OMy.b5b();y4s="s";y4s+="had";y4s+="ow";H30="c";H30+="a";H30+="nd";H30+="le";T43="candl";T43+="e";L5S="bord";L5S+="er_";L5S+="col";L5S+="or_up";s6C="cand";s6C+="le";E0v="s";E0v+="tx_";E0v+="bar_dow";E0v+="n";R0C="b";R0C+="a";R0C+="r";M2C="border_";M2C+="color";M2C+="_up";d9W="stx";d9W+="_bar_up";w$v="stx";w$v+="_ba";w$v+="r_";w$v+="chart";s$h="ba";s$h+="r";c6M="fill_color_u";c6M+="p";y4r="stx_histogram_";y4r+="up";l_8=1;O3X=2;U3A=4;s$b=+"8";Y2r=16;F$OMy.X6U(40);d2b=F$OMy.w65("32",32);return [{type:"histogram",drawType:"histogram",style:y4r,condition:s$b,fill:c6M,border:"border_color_up",useColorInMap:!!"1",useBorderStyleProp:!!({})},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:Y2r,fill:"fill_color_down",border:"border_color_down",useColorInMap:!![],useBorderStyleProp:!!({})},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:d2b,fill:"fill_color_even",border:"border_color_even",skipIfPass:!![],useColorInMap:!0,useBorderStyleProp:!!({})},{type:s$h,drawType:"bar",style:f5p || w$v,border:"border_color",useColorInMap:!!({})},{type:"bar",drawType:"bar",style:d9W,condition:p4P?s$b:l_8,border:M2C,useColorInMap:!!"1"},{type:"bar",drawType:R0C,style:E0v,condition:p4P?Y2r:O3X,border:"border_color_down",useColorInMap:!!"1"},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:p4P?d2b:U3A,border:"border_color_even",skipIfPass:!!({}),useColorInMap:!![]},{type:s6C,drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:s$b,border:L5S},{type:T43,drawType:"shadow",style:"stx_candle_shadow_down",condition:Y2r,border:"border_color_down"},{type:H30,drawType:y4s,style:"stx_candle_shadow_even",condition:d2b,border:"border_color_even",skipIfPass:!!({})},{type:"candle",drawType:"candle",style:A0q,condition:s$b,fill:"fill_color_up",border:Y5U,useColorInMap:!![],useBorderStyleProp:!0},{type:O9X,drawType:"candle",style:"stx_candle_down",condition:Y2r,fill:"fill_color_down",border:"border_color_down",useColorInMap:!![],useBorderStyleProp:!!1},{type:j46,drawType:"shadow",style:"stx_hollow_candle_up",condition:l_8,border:"border_color_up"},{type:A5B,drawType:"shadow",style:S05,condition:O3X,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:k6u,condition:U3A,border:"border_color_even",skipIfPass:!""},{type:X4n,drawType:O6n,style:"stx_hollow_candle_up",condition:l_8 | Y2r,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!"1"},{type:"hollow",drawType:t9V,style:"stx_hollow_candle_down",condition:O3X | Y2r,fill:"fill_color_down",border:"border_color_down",useColorInMap:!![]},{type:R35,drawType:I$_,style:"stx_hollow_candle_even",condition:U3A | Y2r,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!"1",useColorInMap:!!({})},{type:L5z,drawType:V2A,style:"stx_hollow_candle_up",condition:l_8 | s$b,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:O3X | s$b,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:U$U,style:"stx_hollow_candle_even",condition:U3A | s$b,fill:H2s,border:"border_color_even"}];;};Y3K.Renderer.Bars=function(y3O){var V6b;this.construct(y3O);V6b=this.params;V6b.type="bar";F$OMy.b5b();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";V6b.hlc=V6b.volume=V6b.hollow=V6b.histogram=![];};Y3K.inheritsFrom(Y3K.Renderer.Bars,Y3K.Renderer.OHLC,!1);Y3K.Renderer.HLC=function(L1R){var v4c;this.construct(L1R);v4c=this.params;v4c.type="bar";v4c.hlc=!!1;F$OMy.d9F();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;v4c.volume=v4c.hollow=v4c.histogram=![];};Y3K.inheritsFrom(Y3K.Renderer.HLC,Y3K.Renderer.Bars,!({}));Y3K.Renderer.Shading=function(D06){F$OMy.b5b();this.construct(D06);this.beenSetup=!({});this.errTimeout=null;this.params.useChartLegend=!1;this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=!![];}};Y3K.inheritsFrom(Y3K.Renderer.Shading,Y3K.Renderer.Lines,![]);Y3K.Renderer.Shading.requestNew=function(a73,P3W){var M73,v4O,f40,P20,V$0;M73=null;v4O=null;for(var P8V="0" ^ 0;P8V < a73.length;P8V++){f40="st";f40+="ep";P20="rangechanne";P20+="l";V$0=a73[P8V];if(V$0 == P20){M73="rangechannel";}else if(V$0 == f40){v4O=!"";}}if(M73 === null){return null;}return new Y3K.Renderer.Shading({params:Y3K.extend(P3W,{type:M73,step:v4O})});};Y3K.Renderer.Shading.prototype.setShading=function(f4t){if(f4t.constructor != Array){f4t=[f4t];}this.shading=f4t;};Y3K.Renderer.Shading.prototype.draw=function(){var e8c=F$OMy;var e3x,q8f,t0k,r5m,c2y,S9y,O_T,T8Q,D3M,h2z,t7L,A3K,k4a,Z$3,L2B,z5L,f9A,w4n,D52,z4u,G5j,j9j,B54,i7L;function f3T(X7G){e8c.b5b();var d5O,G3U,j7A,u4e,l3S,V6r;d5O=A3K[X7G];if(d5O){G3U=d5O.parameters.field;j7A=-1234189081;u4e=889308160;l3S=2;for(var l_1=1;e8c.P12(l_1.toString(),l_1.toString().length,15703) !== j7A;l_1++){V6r=d5O.parameters.subField;l3S+=2;}if(e8c.P12(l3S.toString(),l3S.toString().length,"24381" | 60) !== u4e){V6r=d5O.parameters.subField;}e8c.X6U(1);return e8c.w65(V6r?"." + V6r:"",G3U);}return X7G;}e3x=this.stx;q8f=this.params;t0k=e3x.panels[q8f.panel].chart;if(q8f.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {r5m="Lo";r5m+="w";c2y="stx_";c2y+="line_up";S9y="a";S9y+="ut";S9y+="o";this.beenSetup=!!1;q8f.display=this.seriesParams[+"0"].display;q8f.yAxis=this.seriesParams[0].yAxis;O_T=this.seriesParams[0].color || S9y;T8Q=this.seriesParams[0].symbol;D3M="";if(T8Q){e8c.X6U(1);D3M=e8c.w65(8200 != (6240,2490)?(2829,583.96) >= (7505,7060)?(!({}),7):(965.63,7017) == 103?("l","N"):".":629.11,T8Q);}this.removeAllSeries(!"");h2z=q8f.name;e3x.addSeries(null,{symbol:T8Q,loadData:!!T8Q,field:"High",renderer:"Shading",name:h2z,style:c2y,display:q8f.display,shareYAxis:!![]});e3x.addSeries(null,{symbol:T8Q,loadData:!!T8Q,field:r5m,renderer:"Shading",name:h2z,style:"stx_line_down",display:q8f.display,shareYAxis:!!"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:O_T});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");t7L=this;this.errTimeout=setTimeout(function(){var I$5,f0C,l4B;I$5=572531445;e8c.X6U(37);f0C=e8c.w65("91159049",8);l4B=2;for(var T$k=1;e8c.Q0B(T$k.toString(),T$k.toString().length,76773) !== I$5;T$k++){t7L.errTimeout=null;l4B+=2;}if(e8c.Q0B(l4B.toString(),l4B.toString().length,96296) !== f0C){t7L.errTimeout=1;}},10000);}}A3K={};e8c.b5b();for(k4a=0;k4a < this.seriesParams.length;k4a++){Z$3={};if(t0k.series[this.seriesParams[k4a].id]){Z$3=Y3K.clone(t0k.series[this.seriesParams[k4a].id].parameters);}A3K[this.seriesParams[k4a].id]={parameters:Y3K.extend(Y3K.extend(Z$3,q8f),this.seriesParams[k4a]),yValueCache:this.caches[this.seriesParams[k4a].id]};}e3x.drawSeries(t0k,A3K,q8f.yAxis,this);if(t0k.legend && q8f.type == "rangechannel"){L2B="stx_line_do";L2B+="wn";if(!t0k.legend.colorMap){t0k.legend.colorMap={};}z5L=q8f.display;f9A=[e3x.getCanvasColor("stx_line_up"),e3x.getCanvasColor(L2B)];t0k.legend.colorMap[z5L]={color:f9A,display:z5L,isBase:this == e3x.mainSeriesRenderer};;}for(k4a in A3K){this.caches[k4a]=A3K[k4a].yValueCache;}for(k4a=0;k4a < this.shading.length;k4a++){w4n="C";w4n+="lose";D52="C";D52+="lo";D52+="se";z4u=this.shading[k4a];G5j=z4u.color;if(z4u.color == "auto"){G5j=e3x.defaultColor;}if(!z4u.primary){z4u.primary="Close";}if(!z4u.secondary && this.seriesParams[0]){z4u.secondary=this.seriesParams[0].field;}if(!z4u.secondary)continue;else if(!A3K[z4u.primary] && z4u.primary != D52)continue;else if(!A3K[z4u.secondary])continue;else if(z4u.primary == w4n && q8f.yAxis && q8f.yAxis != t0k.yAxis)continue;j9j=f3T(z4u.primary).split(".");B54=f3T(z4u.secondary).split((4240,5331) <= (921.18,6349)?".":("3710" >> 0,122) >= 113.87?("6910" ^ 0) == +"8090"?(!"",309.77):(0x1786,9.25e+3):"739.45" - 0);i7L={topBand:j9j[0],topSubBand:j9j[1],topColor:z4u.greater || G5j || e3x.containerColor,topAxis:q8f.yAxis,bottomBand:B54[0],bottomSubBand:B54[1],bottomColor:z4u.lesser || G5j || e3x.containerColor,bottomAxis:z4u.primary == "Close"?null:q8f.yAxis,tension:q8f.tension || t0k.tension,opacity:0.1,step:q8f.step};if(!i7L.topColor && !i7L.bottomColor)continue;if(!q8f.highlight && e3x.highlightedDraggable){i7L.opacity*=0.3;}Y3K.fillIntersecting(e3x,q8f.panel,i7L);}};Y3K.Renderer.Histogram=function(y4j){F$OMy.b5b();var h8t;this.construct(y4j);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!![];if(this.params.yAxis){h8t="nu";h8t+="mber";this.params.bindToYAxis=!0;if(typeof this.params.yAxis.baseline == h8t){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};Y3K.inheritsFrom(Y3K.Renderer.Histogram,Y3K.Renderer,!!"");Y3K.Renderer.Histogram.prototype.adjustYAxis=function(){var T$1=F$OMy;var w9T,H_K,E0R,n8A;w9T=this.params.yAxis;if(!w9T || w9T.baseline){return;}H_K=233527618;E0R=1389998143;n8A=2;for(var z5m=1;T$1.P12(z5m.toString(),z5m.toString().length,95338) !== H_K;z5m++){T$1.X6U(17);w9T.min=T$1.o$D("9",64);w9T.highValue-=this.params.heightPercentage && +"0";n8A+=+"2";}if(T$1.P12(n8A.toString(),n8A.toString().length,68719) !== E0R){w9T.min=0;w9T.highValue/=this.params.heightPercentage || 1;}};Y3K.Renderer.Histogram.prototype.draw=function(){var O1v,x7c,k8o,Y2N,D2D,e8q;O1v="st";O1v+="acked";x7c=Y3K.clone(this.params);x7c.type=x7c.subtype;this.useSum=x7c.subtype == O1v;if(!x7c.yAxis || x7c.yAxis == this.stx.chart.yAxis){x7c.bindToYAxis=!!({});}this.stx.drawHistogram(x7c,this.seriesParams);k8o=x7c.yAxis && x7c.yAxis.baseline;if(k8o && k8o.color){Y2N="sol";Y2N+="id";D2D=this.stx.panels[this.params.panel];e8q=this.stx.pixelFromPrice(k8o.value,D2D,this.params.yAxis) - 0.5;this.stx.plotLine({x0:D2D.left,x1:D2D.right,y0:e8q,y1:e8q,color:k8o.color,type:"line",context:D2D.chart.context,confineToPanel:D2D,pattern:k8o.pattern || Y2N,lineWidth:k8o.lineWidth || 1,opacity:k8o.opacity || 0.8,globalCompositeOperation:"destination-over"});}};Y3K.Renderer.Histogram.prototype.getBasis=function(X$i,n2h,b5S){var i39,F2H,u2v;F$OMy.X6U(37);i39=F$OMy.w65("0",0);F$OMy.b5b();if(X$i && this.useSum){for(var h$8="0" >> 96;h$8 < this.seriesParams.length;h$8++){F2H=this.seriesParams[h$8].field;if(F2H === n2h)break;u2v=X$i[F2H];if(u2v && typeof u2v === "object"){u2v=u2v[b5S || this.seriesParams[h$8].subField || this.stx.chart.defaultPlotField || "Close"];}if(u2v){i39+=u2v;}}}return i39;};Y3K.Renderer.Heatmap=function(Q_3){var w10,y43,g7p;w10=-1132616549;y43=-483343827;g7p=2;for(var E2r="1" >> 64;F$OMy.P12(E2r.toString(),E2r.toString().length,58055) !== w10;E2r++){this.construct(Q_3);this.params.type="";this.params.highlightable=!!1;this.barsHaveWidth=this.standaloneBars=!"1";g7p+=2;}if(F$OMy.Q0B(g7p.toString(),g7p.toString().length,57441) !== y43){this.construct(Q_3);this.params.type="";this.params.highlightable=!({});this.barsHaveWidth=this.standaloneBars=!!1;}this.construct(Q_3);this.params.type="heatmap";this.params.highlightable=!"1";this.barsHaveWidth=this.standaloneBars=!!"1";};Y3K.inheritsFrom(Y3K.Renderer.Heatmap,Y3K.Renderer,!!"");Y3K.Renderer.Heatmap.requestNew=function(F99,Q6V){var O2B,w04,P2e;O2B=null;for(var K4L=0;K4L < F99.length;K4L++){w04="h";w04+="ea";w04+="tmap";P2e=F99[K4L];if(P2e == w04){O2B="heatmap";}}if(O2B === null){return null;}F$OMy.d9F();return new Y3K.Renderer.Heatmap({params:Y3K.extend(Q6V,{type:O2B})});};Y3K.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(Y3K.clone(this.params),this.seriesParams);};Y3K.Renderer.Scatter=function(J2o){this.construct(J2o);this.standaloneBars=this.barsHaveWidth=!!({});this.bounded=!0;};Y3K.inheritsFrom(Y3K.Renderer.Scatter,Y3K.Renderer.Lines,![]);Y3K.Renderer.Scatter.requestNew=function(t10,H8F){var g5Y,b0b,f8G;g5Y=null;for(var h_W=0;h_W < t10.length;h_W++){b0b="scatte";b0b+="rp";b0b+="lot";f8G=t10[h_W];if(f8G == b0b){g5Y="scatter";}}if(g5Y === null){return null;}return new Y3K.Renderer.Scatter({params:Y3K.extend(H8F,{type:g5Y})});};Y3K.Renderer.Scatter.prototype.drawIndividualSeries=function(a0k,a3z){var K0P,u_S;K0P=this.stx.panels[a3z.panel] || a0k.panel;u_S={colors:[]};if(this.stx.scatter){u_S=this.stx.scatter(K0P,a3z);}else {console.warn("Error, Scatter renderer requires customChart.js");}return u_S;};};U=N7s=>{var H_i=F$OMy;H_i.b5b();var V_E;V_E=typeof _CIQ !== "undefined"?_CIQ:N7s.CIQ;if(!V_E.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {V_E.Studies.calculateAccumulationDistribution=function(Q2f,H9L){var d1N,j1g,S9c,J88,B0n,w9k,i0I;d1N=H9L.chart.scrubbed;for(var r18=H9L.startFrom;r18 < d1N.length;r18++){j1g="Re";j1g+="su";j1g+="lt";j1g+=" ";S9c="R";S9c+="es";S9c+="ult ";if(!r18)continue;J88=d1N[r18];if(J88.futureTick)break;H_i.X6L(0);B0n=d1N[H_i.o$D(1,r18)];w9k=0;if(J88.Close > B0n.Close){w9k=J88.Close - Math.min(J88.Low,B0n.Close);}else if(J88.Close < B0n.Close){w9k=J88.Close - Math.max(J88.High,B0n.Close);}if(H9L.inputs["Use Volume"]){w9k*=J88.Volume;}i0I=B0n[S9c + H9L.name];if(!i0I){H_i.X6U(24);i0I=H_i.o$D(0,"0");}i0I+=w9k;if(!isNaN(J88.Close)){J88[j1g + H9L.name]=i0I;}}};V_E.Studies.studyLibrary=V_E.extend(V_E.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:V_E.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!!""}}});}};N=z_N=>{var F6K=F$OMy;var M6b,R6L;M6b=typeof _CIQ !== "undefined"?_CIQ:z_N.CIQ;F6K.b5b();if(!M6b.Studies){console.error("adx feature requires first activating studies feature.");}else {R6L="a";R6L+="u";R6L+="t";R6L+="o";M6b.Studies.calculateADX=function(v$s,w3u){var L1Z,K8A,Q0g,Y2l,W6P,h6i,k1s,L4C,T$J,i_H,i6J,n2l,R7b,P3j,N8k,E41,n88,m_8,d06,b2y,W$F,G_v,a36,o5j;L1Z="Smoothing ";L1Z+="Period";M6b.Studies.calculateStudyATR(v$s,w3u);K8A=w3u.chart.scrubbed;Q0g=w3u.days;F6K.d9F();Y2l=parseInt(w3u.inputs[L1Z],"10" ^ 0);if(!Y2l && Y2l !== 0){Y2l=Q0g;}if(K8A.length < w3u.days + 1){w3u.error=!!({});W6P=-1692779207;h6i=1443798076;k1s=2;for(var O5e=1;F6K.Q0B(O5e.toString(),O5e.toString().length,"94665" * 1) !== W6P;O5e++){return;}if(F6K.P12(k1s.toString(),k1s.toString().length,82405) !== h6i){return;}return;}L4C=0;T$J=0;i_H=0;i6J=+"0";for(var O$1=Math.max(1,w3u.startFrom);O$1 < K8A.length;O$1++){n2l=K8A[O$1];R7b=Math.max(0,n2l.High - K8A[O$1 - 1].High);P3j=Math.max(+"0",K8A[O$1 - 1].Low - n2l.Low);if(R7b > P3j){P3j=+"0";}else if(P3j > R7b){R7b=+"0";}else {R7b=P3j=0;}if(O$1 <= Q0g){T$J+=R7b;i_H+=P3j;L4C+=n2l["True Range " + w3u.name];}else {N8k="_s";N8k+="mT";N8k+="R ";F6K.X6U(122);var S57=F6K.o$D(14,3,20,7,6);F6K.X6L(123);var y1e=F6K.w65(13,3,17);T$J=K8A[O$1 - S57]["_sm+DM " + w3u.name] * (Q0g - y1e) / Q0g + R7b;F6K.X6L(124);var x9j=F6K.w65(0,19,379,20);F6K.X6U(125);var G07=F6K.w65(0,8,8,2);i_H=K8A[O$1 - x9j]["_sm-DM " + w3u.name] * (Q0g - "1" * G07) / Q0g + P3j;F6K.X6U(126);var N$W=F6K.w65(6,10,18,15,106);F6K.X6U(127);var j$L=F6K.w65(12,12,2,2,5);L4C=K8A[O$1 - N$W][N8k + w3u.name] * (Q0g - j$L) / Q0g + n2l["True Range " + w3u.name];}n2l["_sm+DM " + w3u.name]=T$J;n2l["_sm-DM " + w3u.name]=i_H;n2l["_smTR " + w3u.name]=L4C;if(O$1 < Q0g)continue;F6K.X6U(102);E41=F6K.o$D(L4C,100,T$J);F6K.X6L(102);n88=F6K.w65(L4C,100,i_H);F6K.X6U(128);var M2e=F6K.o$D(6,99,17,221,91);m_8=M2e * Math.abs(E41 - n88) / (E41 + n88);n2l["+DI " + w3u.name]=E41;n2l["-DI " + w3u.name]=n88;if(w3u.inputs.Series !== !!0 && Y2l){if(O$1 < Q0g + Y2l - 1){if(O$1 == w3u.startFrom){for(var d$L=Q0g;d$L < w3u.startFrom;d$L++){d06="-";d06+="D";d06+="I";d06+=" ";F6K.X6L(53);var K2i=F6K.w65(98,86,43);i6J+=K2i * Math.abs(K8A[d$L]["+DI " + w3u.name] - K8A[d$L]["-DI " + w3u.name]) / (K8A[d$L]["+DI " + w3u.name] + K8A[d$L][d06 + w3u.name]);}}i6J+=m_8;}else if(O$1 == Q0g + Y2l - 1){b2y="AD";b2y+="X ";F6K.X6L(4);n2l[b2y + w3u.name]=F6K.o$D(Y2l,i6J);}else {F6K.X6L(126);var Z6o=F6K.w65(6,20,14,10,151);F6K.X6U(67);var s$a=F6K.o$D(11,8,9,11);n2l["ADX " + w3u.name]=(K8A[O$1 - Z6o]["ADX " + w3u.name] * (Y2l - s$a) + m_8) / Y2l;}}if(w3u.inputs.Histogram){W$F="-";W$F+="D";W$F+="I";W$F+=" ";G_v="_his";G_v+="t";a36=w3u.name + G_v;if(!n2l["+DI " + w3u.name] && n2l["+DI " + w3u.name] !== 0)continue;if(!n2l["-DI " + w3u.name] && n2l["-DI " + w3u.name] !== 0)continue;n2l[a36]=n2l["+DI " + w3u.name] - n2l[W$F + w3u.name];if(w3u.inputs.Series === ![]){o5j="+";o5j+="DI ";n2l[o5j + w3u.name]=null;n2l["-DI " + w3u.name]=null;}w3u.outputMap[a36]="";}}};M6b.Studies.displayADX=function(i4l,k_e,e4b){var g7V,D9r,U_X,H6_,y_2,p5r,S1m,q$k;g7V="N";g7V+="othing to display";F6K.d9F();D9r=k_e.underlay?0.3:k_e.inputs.Series?0.4:1;if(k_e.inputs.Series && k_e.inputs.Shading){U_X="+DI " + k_e.name;H6_="-DI " + k_e.name;y_2=M6b.Studies.determineColor(k_e.outputs[k_e.outputMap[U_X]]);p5r=M6b.Studies.determineColor(k_e.outputs[k_e.outputMap[H6_]]);S1m=k_e.getYAxis(i4l);q$k={topBand:U_X,bottomBand:H6_,topColor:y_2,bottomColor:p5r,skipTransform:i4l.panels[k_e.panel].name != k_e.chart.name,topAxis:S1m,bottomAxis:S1m,opacity:+"0.3"};if(!k_e.highlight && i4l.highlightedDraggable){q$k.opacity*=0.3;}M6b.fillIntersecting(i4l,k_e.panel,q$k);}if(k_e.inputs.Histogram){M6b.Studies.createHistogram(i4l,k_e,e4b,!({}),D9r);}if(k_e.inputs.Series !== ![]){M6b.Studies.displaySeriesAsLine(i4l,k_e,e4b);}else if(!k_e.inputs.Series && !k_e.inputs.Histogram){i4l.displayErrorAsWatermark(k_e.panel,i4l.translateIf(k_e.name) + ": " + i4l.translateIf(g7V));}};M6b.Studies.studyLibrary=M6b.extend(M6b.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:M6b.Studies.calculateADX,seriesFN:M6b.Studies.displayADX,inputs:{Period:14,"Smoothing Period":+"14",Series:!!({}),Shading:!!0,Histogram:!({})},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:R6L,"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};S=G6z=>{var q$n=F$OMy;var f86,u7a,e9L,B2v,f_e,A10;f86=312091326;u7a=-316949686;e9L=2;for(var X35=1;q$n.P12(X35.toString(),X35.toString().length,59074) !== f86;X35++){B2v=~_CIQ != ""?_CIQ:G6z.CIQ;e9L+=2;}if(q$n.Q0B(e9L.toString(),e9L.toString().length,17007) !== u7a){B2v=~_CIQ != ""?_CIQ:G6z.CIQ;}B2v=typeof _CIQ !== "undefined"?_CIQ:G6z.CIQ;q$n.b5b();if(!B2v.Studies){console.error("alligator feature requires first activating studies feature.");}else {f_e="#F";f_e+="F0000";A10="Al";A10+="lig";A10+="a";A10+="tor";B2v.Studies.calculateAlligator=function(W82,M1S){var i2_,H6q,v8g,M84,M8s,s$Z,p3o,p5K,Q5i,d45,S$C;i2_={J:Number(M1S.inputs["Jaw Period"]),T:Number(M1S.inputs["Teeth Period"]),L:Number(M1S.inputs["Lips Period"])};H6q=M1S.chart.scrubbed;if(H6q.length < Math.max(i2_.J,i2_.T,i2_.L) + 1){M1S.error=!![];return;}if(M1S.type === "Gator" || M1S.inputs["Show Lines"]){v8g="welle";v8g+="s wilder";M84="hl/";M84+="2";B2v.Studies.MA("welles wilder",i2_.J,M84,M1S.inputs["Jaw Offset"],"Jaw",W82,M1S);B2v.Studies.MA(v8g,i2_.T,"hl/2",M1S.inputs["Teeth Offset"],"Teeth",W82,M1S);B2v.Studies.MA("welles wilder",i2_.L,"hl/2",M1S.inputs["Lips Offset"],"Lips",W82,M1S);}for(var u$N=M1S.startFrom;u$N < H6q.length;u$N++){M8s="Gat";M8s+="o";M8s+="r";if(!H6q[u$N])continue;if(M1S.type == M8s){s$Z="Lips";s$Z+=" ";p3o="J";p3o+="aw ";p5K=H6q[u$N][p3o + M1S.name];Q5i=H6q[u$N][s$Z + M1S.name];d45=H6q[u$N]["Teeth " + M1S.name];if(d45 || d45 === 0){S$C="_";S$C+="hist1";if(p5K || p5K === 0){q$n.X6L(0);H6q[u$N][M1S.name + S$C]=Math.abs(q$n.o$D(d45,p5K));}if(Q5i || Q5i === 0){q$n.X6L(0);H6q[u$N][M1S.name + "_hist2"]=-Math.abs(q$n.o$D(Q5i,d45));}}M1S.outputMap={};M1S.outputMap[M1S.name + "_hist1"]="";M1S.outputMap[M1S.name + "_hist2"]="";}if(M1S.inputs["Show Fractals"]){if(!H6q[u$N - ("2" - 0)] || !H6q[u$N - 1] || !H6q[u$N] || !H6q[u$N + 1] || !H6q[u$N + 2])continue;if(H6q[u$N - 2].High && H6q[u$N - 1].High && H6q[u$N].High && H6q[u$N + +"1"].High && H6q[u$N + +"2"].High){if(H6q[u$N].High > H6q[u$N - 1].High && H6q[u$N].High > H6q[u$N - 2].High && H6q[u$N].High > H6q[u$N + 1].High && H6q[u$N].High > H6q[u$N + ("2" - 0)].High){H6q[u$N]["Fractal High " + M1S.name]=1;}}if(H6q[u$N - 2].Low && H6q[u$N - ("1" >> 32)].Low && H6q[u$N].Low && H6q[u$N + 1].Low && H6q[u$N + 2].Low){if(H6q[u$N].Low < H6q[u$N - 1].Low && H6q[u$N].Low < H6q[u$N - +"2"].Low && H6q[u$N].Low < H6q[u$N + 1].Low && H6q[u$N].Low < H6q[u$N + +"2"].Low){H6q[u$N]["Fractal Low " + M1S.name]=1;}}}}};B2v.Studies.displayAlligator=function(T5a,M7e,J5z){var W0L,S2a,u1Q,Q9Y,e61;function V1$(t50,E9H){var s_q,A0I,W5k;s_q="h";s_q+="igh";W5k=T5a.chart.panel.yAxis.flipped;if(t50 == s_q){S2a.fillStyle=T5a.defaultColor;S2a.textBaseline=W5k?"top":"bottom";A0I=T5a.pixelFromPrice(J5z[E9H].High);S2a.fillText(W5k?(8.34,+"776.4") > (8150,+"7660")?(4.34e+3,425.72):207.23 > (5961,"2980" << 32)?9800 == 609.71?("o","0x115f" * 1):!({}):"\u25BC":(231.1,2230) > 470?(+"9110",153.47) <= 870?"\u25B2":(40.15,720) !== (370,"1590" | 18)?(![],6.02e+2):(0x1a37,"217" - 0):0x24d6,T5a.pixelFromBar(L3P,T5a.chart) - S2a.measureText(("675" | 32,"4170" * 1) == (9490,9100)?(5.52e+3,!""):("651.66" - 0,139.38) >= (848.09,8280)?"f":8230 != "4543" - 0?"\u25B2":1.42e+3).width / 2 + 1,W5k?A0I + 5:A0I - 5);;}else if(t50 == "low"){S2a.fillStyle=T5a.defaultColor;S2a.textBaseline=W5k?"bottom":"top";A0I=T5a.pixelFromPrice(J5z[E9H].Low);S2a.fillText(W5k?(259,62.67) != (707.5,5599)?"\u25B2":"3010" - 0 == 915.05?0x210d:0x2464:(693,412) === (550,261.87)?("e",!0):125.14 >= 9425?109.85:"\u25BC",T5a.pixelFromBar(L3P,T5a.chart) - S2a.measureText("\u25BC").width / 2 + 1,W5k?A0I - 5:A0I + "5" * 1);;}}W0L="Show";W0L+=" L";W0L+="ine";W0L+="s";S2a=M7e.getContext(T5a);if(M7e.inputs[W0L]){B2v.Studies.displaySeriesAsLine(T5a,M7e,J5z);}if(M7e.inputs["Show Fractals"]){T5a.startClip();S2a.globalAlpha=M7e.underlay?0.3:"1" * 1;if(!M7e.highlight && T5a.highlightedDraggable){S2a.globalAlpha*=+"0.3";}for(var L3P=2;L3P < J5z.length - 2;L3P++){if(J5z[L3P]){u1Q="l";u1Q+="o";u1Q+="w";Q9Y="F";Q9Y+="ractal Low ";e61="Fractal H";e61+="igh ";if(J5z[L3P][e61 + M7e.name]){V1$("high",L3P);}if(J5z[L3P][Q9Y + M7e.name]){V1$(u1Q,L3P);}}}T5a.endClip();}};B2v.Studies.displayGator=function(d2U,U1t,W4C){var X_L,Y9S,A77,I$B,P6V,B3V,f5q,u04,O74,r6f,t4e,w0y;X_L="stx_h";X_L+="istogr";X_L+="am";Y9S="Inc";Y9S+="rea";Y9S+="sing Ba";Y9S+="r";A77=d2U.panels[U1t.panel];I$B=U1t.getContext(d2U);P6V=U1t.getYAxis(d2U);B3V=d2U.pixelFromPrice(0,A77,P6V);f5q=d2U.layout.candleWidth - +"2";if(f5q < 2){f5q=1;}u04=B2v.Studies.determineColor(U1t.outputs[Y9S]);O74=B2v.Studies.determineColor(U1t.outputs["Decreasing Bar"]);d2U.canvasColor(X_L);if(!U1t.underlay){I$B.globalAlpha=1;}I$B.fillStyle="#CCCCCC";d2U.startClip(U1t.panel);if(!U1t.highlight && d2U.highlightedDraggable){I$B.globalAlpha*=0.3;}for(var N_x=0;N_x < W4C.length;N_x++){r6f=W4C[N_x];q$n.X6U(0);t4e=W4C[q$n.w65(1,N_x)];if(!r6f)continue;for(var U0F=1;U0F <= 2;U0F++){w0y="_";w0y+="h";w0y+="ist";if(!t4e){t4e=d2U.getPreviousBar(d2U.chart,U1t.name + "_hist" + U0F,N_x);}if(!t4e){I$B.fillStyle="#CCCCCC";}else if(Math.abs(t4e[U1t.name + "_hist" + U0F]) < Math.abs(r6f[U1t.name + "_hist" + U0F])){I$B.fillStyle=u04;}else if(Math.abs(t4e[U1t.name + w0y + U0F]) > Math.abs(r6f[U1t.name + "_hist" + U0F])){I$B.fillStyle=O74;}if(r6f.candleWidth){f5q=Math.floor(Math.max(1,r6f.candleWidth - 2));}I$B.fillRect(Math.floor(d2U.pixelFromBar(N_x,A77.chart) - f5q / 2),Math.floor(B3V),Math.floor(f5q),Math.floor(d2U.pixelFromPrice(r6f[U1t.name + "_hist" + U0F],A77,P6V) - B3V));}}d2U.endClip();};B2v.Studies.studyLibrary=B2v.extend(B2v.Studies.studyLibrary,{Alligator:{name:A10,overlay:!"",seriesFN:B2v.Studies.displayAlligator,calculateFN:B2v.Studies.calculateAlligator,inputs:{"Show Lines":!![],"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:B2v.Studies.displayGator,calculateFN:B2v.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":"8" >> 32,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":"5" - 0,"Lips Offset":+"3"},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":f_e},centerline:0}});}};g=W$G=>{var V0s=F$OMy;V0s.b5b();var u9A,M9J,F$X;u9A="und";u9A+="efin";u9A+="ed";M9J=typeof _CIQ !== u9A?_CIQ:W$G.CIQ;if(!M9J.Studies){console.error("aroon feature requires first activating studies feature.");}else {F$X="Ar";F$X+="o";F$X+="o";F$X+="n";M9J.Studies.calculateAroon=function(i70,H5W){var G56,c0J,o2S,C$O,R4h,d1I,m6r,T6i,a4d,L7I,l4R,w17,w5B,L7l,n8V;G56=H5W.chart.scrubbed;if(G56.length < H5W.days + 1){H5W.error=!0;return;}c0J=0;o2S=0;C$O=null;R4h=null;if(H5W.startFrom > 0){V0s.X6U(25);var x7b=V0s.w65(32,18,6,3,10);d1I=G56[H5W.startFrom - x7b]["_state " + H5W.name];if(d1I){c0J=d1I[0];o2S=d1I[1];C$O=d1I[2];R4h=d1I[3];}}for(var k$i=H5W.startFrom;k$i < G56.length;k$i++){T6i="_state";T6i+=" ";a4d="Aroon ";a4d+="D";a4d+="own ";L7I="A";L7I+="roon U";L7I+="p ";l4R=G56[k$i];if(l4R.futureTick)break;if(C$O === null){C$O=l4R.High;}if(R4h === null){R4h=l4R.Low;}C$O=Math.max(C$O,l4R.High);if(C$O == l4R.High){c0J=0;}else {c0J++;if(c0J > H5W.days){C$O=l4R.High;c0J=0;for(m6r=1;m6r <= H5W.days;m6r++){C$O=Math.max(C$O,G56[k$i - m6r].High);if(C$O == G56[k$i - m6r].High){c0J=m6r;}}}}R4h=Math.min(R4h,l4R.Low);if(R4h == l4R.Low){o2S=0;}else {o2S++;if(o2S > H5W.days){R4h=l4R.Low;o2S=0;for(m6r=1;m6r <= H5W.days;m6r++){R4h=Math.min(R4h,G56[k$i - m6r].Low);if(R4h == G56[k$i - m6r].Low){o2S=m6r;}}}}w17=!isNaN(l4R.High);w5B=!isNaN(l4R.Low);V0s.X6L(129);var X7W=V0s.w65(14,15,15,1,15);L7l=("100" - 0) * (X7W - c0J / H5W.days);if(w17){l4R[L7I + H5W.name]=L7l;}V0s.X6U(15);var p4X=V0s.w65(6500,600,11);V0s.X6L(118);var f0S=V0s.w65(2,4,9,6);n8V=p4X * (f0S - o2S / H5W.days);if(w5B){l4R["Aroon Down " + H5W.name]=n8V;}if(w17 && w5B){l4R["Aroon Oscillator " + H5W.name]=l4R["Aroon Up " + H5W.name] - l4R[a4d + H5W.name];}l4R[T6i + H5W.name]=[c0J,o2S,C$O,R4h];}};M9J.Studies.studyLibrary=M9J.extend(M9J.Studies.studyLibrary,{Aroon:{name:F$X,range:"0 to 100",calculateFN:M9J.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:M9J.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};Q=N4$=>{var y6k=F$OMy;y6k.d9F();var l7W,y4E,q7p,m81,n82;l7W=typeof _CIQ !== "undefined"?_CIQ:N4$.CIQ;if(!l7W.Studies){console.error("atr feature requires first activating studies feature.");}else {y4E="square";y4E+="w";y4E+="ave";q7p="aut";q7p+="o";m81="ATR";m81+=" B";m81+="ands";n82="Average ";n82+="True Range";l7W.Studies.calculateATRBands=function(Z4v,W_7){var A_$;l7W.Studies.calculateStudyATR(Z4v,W_7);A_$=W_7.inputs.Field;if(!A_$ || A_$ == "field"){A_$="Close";}y6k.d9F();l7W.Studies.calculateGenericEnvelope(Z4v,W_7,W_7.inputs.Shift,A_$,"ATR " + W_7.name);};l7W.Studies.calculateSTARCBands=function(P_M,z8b){var j9g,L7n,y7T;j9g="Cl";j9g+="o";j9g+="s";j9g+="e";y6k.b5b();L7n="MA Perio";L7n+="d";y7T="simp";y7T+="le";l7W.Studies.calculateStudyATR(P_M,z8b);l7W.Studies.MA(y7T,z8b.inputs[L7n],j9g,+"0","_MA",P_M,z8b);l7W.Studies.calculateGenericEnvelope(P_M,z8b,z8b.inputs.Multiplier,"_MA " + z8b.name,"ATR " + z8b.name);};l7W.Studies.calculateATRStops=function(n7q,T$n){var C3C,U6i,y7a,D7l,i7h,h3y,z9O,C4u,t_E;C3C="All";C3C+=" Stops";U6i=T$n.chart.scrubbed;if(!U6i){return;}l7W.Studies.calculateStudyATR(n7q,T$n);y7a=T$n.inputs.HighLow;for(var i7p=Math.max(T$n.startFrom - 1,1);i7p < U6i.length - 1;i7p++){D7l=U6i[i7p];y6k.X6L(0);i7h=U6i[y6k.w65(1,i7p)];h3y=D7l["Buy Stops " + T$n.name];if(!h3y){h3y=D7l["Sell Stops " + T$n.name];}if(!h3y){h3y=0;}if(!D7l || !i7h)continue;z9O=D7l.Close;C4u=z9O;t_E=D7l["ATR " + T$n.name] * T$n.inputs.Multiplier;if(D7l.Close > h3y && i7h.Close > h3y){if(y7a){z9O=D7l.High;}y6k.X6L(0);C4u=Math.max(h3y,y6k.o$D(t_E,z9O));}else if(D7l.Close <= h3y && i7h.Close <= h3y){if(y7a){z9O=D7l.Low;}y6k.X6U(1);C4u=Math.min(h3y,y6k.w65(t_E,z9O));}else if(D7l.Close > h3y){if(y7a){z9O=D7l.High;}y6k.X6L(0);C4u=y6k.o$D(t_E,z9O);}else if(D7l.Close <= h3y){if(y7a){z9O=D7l.Low;}y6k.X6L(1);C4u=y6k.w65(t_E,z9O);}if(z9O <= C4u){y6k.X6L(130);U6i[y6k.o$D("1",0,i7p)]["Buy Stops " + T$n.name]=C4u;y6k.X6U(1);delete U6i[y6k.w65(1,i7p)]["Sell Stops " + T$n.name];}else if(z9O > C4u){y6k.X6L(1);U6i[y6k.w65(1,i7p)]["Sell Stops " + T$n.name]=C4u;y6k.X6U(1);delete U6i[y6k.o$D(1,i7p)]["Buy Stops " + T$n.name];}y6k.X6U(1);U6i[y6k.w65(1,i7p)]["All Stops " + T$n.name]=C4u;}T$n.referenceOutput=C3C;T$n.outputMap={};T$n.outputMap["All Stops " + T$n.name]="";};l7W.Studies.studyLibrary=l7W.extend(l7W.Studies.studyLibrary,{ATR:{name:n82,calculateFN:l7W.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:m81,overlay:!![],seriesFN:l7W.Studies.displayChannel,calculateFN:l7W.Studies.calculateATRBands,inputs:{Period:+"5",Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!!({}),seriesFN:l7W.Studies.displayChannel,calculateFN:l7W.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!!({})},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":q7p},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!"",seriesFN:l7W.Studies.displayPSAR2,calculateFN:l7W.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",y4E],HighLow:!!0},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};I=H29=>{var c4n;c4n=typeof _CIQ !== "undefined"?_CIQ:H29.CIQ;if(!c4n.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {c4n.Studies.calculateAwesomeOscillator=function(y4G,v9C){var R$9,m5P,F97,R6U;R$9="hl";R$9+="/";R$9+="2";m5P=v9C.chart.scrubbed;if(m5P.length < 33){v9C.error=!0;return;}c4n.Studies.MA("simple",5,"hl/2",0,"_MA5",y4G,v9C);F$OMy.X6L(0);c4n.Studies.MA("simple",34,R$9,F$OMy.w65(0,"0"),"_MA34",y4G,v9C);for(var k8t=Math.max(v9C.startFrom,33);k8t < m5P.length;k8t++){F97="_";F97+="MA";F97+="5";F97+=" ";R6U="_";R6U+="hi";R6U+="s";R6U+="t";if(!m5P[k8t])continue;m5P[k8t][v9C.name + R6U]=m5P[k8t][F97 + v9C.name] - m5P[k8t]["_MA34 " + v9C.name];}v9C.outputMap={};v9C.outputMap[v9C.name + "_hist"]="";};c4n.Studies.displayAwesomeOscillator=function(o9w,Z7r,c04){var s7Q=F$OMy;var J_E,I6n,T$0,w9l,i_f,R9k,Y3d,P7J,i1D,G8x,r5t;J_E=o9w.panels[Z7r.panel];I6n=Z7r.getContext(o9w);s7Q.d9F();T$0=Z7r.getYAxis(o9w);w9l=o9w.pixelFromPrice(0,J_E,T$0);s7Q.X6L(11);var r0N=s7Q.o$D(1,18,20);i_f=o9w.layout.candleWidth - r0N;if(i_f < 2){i_f=+"1";}R9k=c4n.Studies.determineColor(Z7r.outputs["Increasing Bar"]);Y3d=c4n.Studies.determineColor(Z7r.outputs["Decreasing Bar"]);o9w.canvasColor("stx_histogram");if(!Z7r.underlay){I6n.globalAlpha=1;}I6n.fillStyle="#CCCCCC";o9w.startClip(Z7r.panel);if(!Z7r.highlight && o9w.highlightedDraggable){I6n.globalAlpha*=0.3;}for(var n6k=0;n6k < c04.length;n6k++){P7J="_h";P7J+="is";P7J+="t";i1D="_h";i1D+="i";i1D+="s";i1D+="t";G8x=c04[n6k];s7Q.X6U(0);r5t=c04[s7Q.w65(1,n6k)];if(!r5t){r5t=o9w.getPreviousBar(o9w.chart,Z7r.name + "_hist",n6k);}if(!G8x)continue;if(!r5t);else if(r5t[Z7r.name + "_hist"] < G8x[Z7r.name + "_hist"]){I6n.fillStyle=R9k;}else if(r5t[Z7r.name + i1D] > G8x[Z7r.name + "_hist"]){I6n.fillStyle=Y3d;}if(G8x.candleWidth){i_f=Math.floor(Math.max(1,G8x.candleWidth - ("2" << 64)));}I6n.fillRect(Math.floor(o9w.pixelFromBar(n6k,J_E.chart) - i_f / 2),Math.floor(w9l),Math.floor(i_f),Math.floor(o9w.pixelFromPrice(G8x[Z7r.name + P7J],J_E,T$0) - w9l));}o9w.endClip();};c4n.Studies.studyLibrary=c4n.extend(c4n.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:c4n.Studies.displayAwesomeOscillator,calculateFN:c4n.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};F$OMy.b5b();E=P3Z=>{var n$X;F$OMy.b5b();n$X=typeof _CIQ !== "undefined"?_CIQ:P3Z.CIQ;if(!n$X.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {n$X.Studies.calculateBalanceOfPower=function(r7x,F8m){var a7m,s$R;a7m=F8m.chart.scrubbed;if(a7m.length < F8m.days + 1){F8m.error=!"";return;}for(var r9a=F8m.startFrom;r9a < a7m.length;r9a++){s$R=a7m[r9a];s$R["_Ratio " + F8m.name]=s$R.Close - s$R.Open;if(s$R.High - s$R.Low !== 0){s$R["_Ratio " + F8m.name]/=s$R.High - s$R.Low;}}n$X.Studies.MA(F8m.inputs["Moving Average Type"],F8m.days,"_Ratio " + F8m.name,0,"Result",r7x,F8m);};n$X.Studies.studyLibrary=n$X.extend(n$X.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:n$X.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};G=r5J=>{F$OMy.d9F();var R42,O8R,t8C,h0c;R42="unde";R42+="fined";O8R=typeof _CIQ !== R42?_CIQ:r5J.CIQ;if(!O8R.Studies){console.error("bollinger feature requires first activating studies feature.");}else {t8C="a";t8C+="u";t8C+="t";t8C+="o";h0c="a";h0c+="ut";h0c+="o";O8R.Studies.calculateBollinger=function(H0W,K1g){var U2m,g17,t56,F_Y;U2m="%";U2m+="b";g17="_STD";g17+=" Dev ";t56="C";t56+="lo";t56+="s";t56+="e";F_Y=K1g.inputs.Field;if(!F_Y || F_Y == "field"){F_Y=t56;}O8R.Studies.MA(K1g.inputs["Moving Average Type"],K1g.days,F_Y,0,"_MA",H0W,K1g);K1g.std=new O8R.Studies.StudyDescriptor(K1g.name,"STD Dev",K1g.panel);K1g.std.chart=K1g.chart;K1g.std.startFrom=K1g.startFrom;K1g.std.days=K1g.days;K1g.std.inputs={Field:F_Y,"Standard Deviations":1,Type:K1g.inputs["Moving Average Type"]};K1g.std.outputs={"_STD Dev":null};O8R.Studies.calculateStandardDeviation(H0W,K1g.std);O8R.Studies.calculateGenericEnvelope(H0W,K1g,K1g.inputs["Standard Deviations"],"_MA " + K1g.name,g17 + K1g.name);if(K1g.type == "Boll %b"){K1g.zoneOutput=U2m;}};O8R.Studies.studyLibrary=O8R.extend(O8R.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!![],calculateFN:O8R.Studies.calculateBollinger,seriesFN:O8R.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!1},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":h0c,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:O8R.Studies.calculateBollinger,inputs:{Period:"20" | 0,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:O8R.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:t8C},attributes:{"Standard Deviations":{min:0.1,step:"0.1" - 0}}}});}};o=C$W=>{var f_E,r8p,e75,O4l;f_E="undefi";f_E+="ned";r8p=typeof _CIQ !== f_E?_CIQ:C$W.CIQ;if(!r8p.Studies){console.error("cci feature requires first activating studies feature.");}else {e75="a";e75+="u";e75+="t";e75+="o";O4l="Commodity Channe";O4l+="l Index";r8p.Studies.calculateCCI=function(W6a,x0N){var B8V,E92,b04,I_K,q1Z,a4L;B8V=x0N.chart.scrubbed;if(B8V.length < x0N.days + 1){x0N.error=!!1;return;}r8p.Studies.MA("simple",x0N.days,"hlc/3",0,"MA",W6a,x0N);for(var v9q=Math.max(x0N.startFrom,x0N.days - 1);v9q < B8V.length;v9q++){E92="MA";E92+=" ";b04=B8V[v9q];if(!b04)continue;I_K=0;for(var d8e=+"0";d8e < x0N.days;d8e++){q1Z="M";q1Z+="A";q1Z+=" ";a4L="hl";a4L+="c/3";I_K+=Math.abs(B8V[v9q - d8e][a4L] - b04[q1Z + x0N.name]);}I_K/=x0N.days;if(Math.abs(I_K) < 0.00000001){b04["Result " + x0N.name]=0;}else {b04["Result " + x0N.name]=(b04["hlc/3"] - b04[E92 + x0N.name]) / (0.015 * I_K);}}};r8p.Studies.studyLibrary=r8p.extend(r8p.Studies.studyLibrary,{CCI:{name:O4l,calculateFN:r8p.Studies.calculateCCI,inputs:{Period:"20" * 1},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:e75}},attributes:{Period:{min:2}}}});}};T_=y3r=>{var P3Y;P3Y=typeof _CIQ !== "undefined"?_CIQ:y3r.CIQ;if(!P3Y.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {P3Y.Studies.calculateCenterOfGravity=function(C5g,D6$){var a8_=F$OMy;var E$l,n1M,s3c,d85,x7Y;E$l=D6$.chart.scrubbed;if(E$l.length < D6$.days){D6$.error=!"";return;}n1M=D6$.inputs.Field;if(!n1M || n1M == "field"){n1M="Close";}a8_.d9F();for(var d__=Math.max(D6$.startFrom,D6$.days - 1);d__ < E$l.length;d__++){s3c=+"0";d85=0;for(var F4y="0" ^ 0;F4y < D6$.days;F4y++){a8_.X6L(0);x7Y=E$l[a8_.o$D(F4y,d__)][n1M];a8_.X6U(131);s3c-=a8_.w65(1,x7Y,F4y);d85+=x7Y;}if(d85){a8_.X6U(4);E$l[d__]["Result " + D6$.name]=a8_.o$D(d85,s3c);}}};P3Y.Studies.studyLibrary=P3Y.extend(P3Y.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:P3Y.Studies.calculateCenterOfGravity,inputs:{Period:"10" | 8,Field:"field"}}});}};r3=m4$=>{var D0T=F$OMy;var c45,h1D,F1U;D0T.d9F();c45=typeof _CIQ !== "undefined"?_CIQ:m4$.CIQ;if(!c45.Studies){console.error("chaikin feature requires first activating studies feature.");}else {h1D="m";h1D+="a";F1U="Ch";F1U+="aiki";F1U+="n Money F";F1U+="low";c45.Studies.calculateChaikinMoneyFlow=function(f6F,U4f){var R0I,F3n,L2W,L7V,O5y,e0C,p2K;R0I=U4f.chart.scrubbed;if(R0I.length < U4f.days){U4f.error=!0;return;}F3n=0;L2W=0;D0T.X6L(60);var N0g=D0T.o$D(6,1151,12,16);L7V=R0I[U4f.startFrom - N0g];D0T.b5b();if(L7V){if(L7V["_sumMF " + U4f.name]){F3n=L7V["_sumMF " + U4f.name];}if(L7V["_sumV " + U4f.name]){L2W=L7V["_sumV " + U4f.name];}}for(var g2k=U4f.startFrom;g2k < R0I.length;g2k++){O5y="_s";O5y+="u";O5y+="mV ";e0C="_";e0C+="M";e0C+="FV";e0C+=" ";p2K="_";p2K+="MFV";p2K+=" ";if(R0I[g2k].High == R0I[g2k].Low){R0I[g2k]["_MFV " + U4f.name]=0;}else {R0I[g2k][p2K + U4f.name]=R0I[g2k].Volume * (+"2" * R0I[g2k].Close - R0I[g2k].High - R0I[g2k].Low) / (R0I[g2k].High - R0I[g2k].Low);}F3n+=R0I[g2k][e0C + U4f.name];L2W+=R0I[g2k].Volume;if(g2k > U4f.days - 1){F3n-=R0I[g2k - U4f.days]["_MFV " + U4f.name];L2W-=R0I[g2k - U4f.days].Volume;if(L2W){D0T.X6U(4);R0I[g2k]["Result " + U4f.name]=D0T.w65(L2W,F3n);}}R0I[g2k]["_sumMF " + U4f.name]=F3n;R0I[g2k][O5y + U4f.name]=L2W;}};c45.Studies.calculateChaikinVolatility=function(t1Y,I4Q){var U4G,t0a,G$L,P30,p0l,p9Z;U4G="_";U4G+="M";U4G+="A";t0a="Moving Average ";t0a+="Typ";t0a+="e";G$L=I4Q.chart.scrubbed;if(G$L.length < I4Q.days){I4Q.error=!![];return;}for(P30=I4Q.startFrom;P30 < G$L.length;P30++){p0l="_";p0l+="Hi";p0l+="gh-";p0l+="Low ";if(G$L[P30].futureTick)break;G$L[P30][p0l + I4Q.name]=G$L[P30].High - G$L[P30].Low;}c45.Studies.MA(I4Q.inputs[t0a],I4Q.days,"_High-Low " + I4Q.name,0,U4G,t1Y,I4Q);p9Z=I4Q.inputs["Rate Of Change"];if(!p9Z){p9Z=I4Q.days;}for(P30=Math.max(I4Q.startFrom,p9Z);P30 < G$L.length;P30++){if(!G$L[P30 - p9Z]["_MA " + I4Q.name])continue;if(G$L[P30].futureTick)break;D0T.X6L(15);var m57=D0T.w65(872,108,9);D0T.X6L(55);var W6Z=D0T.w65(13,56,10,19,15);G$L[P30]["Result " + I4Q.name]=m57 * (G$L[P30]["_MA " + I4Q.name] / G$L[P30 - p9Z]["_MA " + I4Q.name] - "1" * W6Z);}};c45.Studies.studyLibrary=c45.extend(c45.Studies.studyLibrary,{"Chaikin MF":{name:F1U,calculateFN:c45.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:c45.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":h1D}}});}};Q3=v5L=>{var p2R,P3g,a2K,k_b,r3P;p2R=typeof _CIQ !== "undefined"?_CIQ:v5L.CIQ;if(!p2R.Studies){console.error("chande feature requires first activating studies feature.");}else {P3g="a";P3g+="uto";a2K="aut";a2K+="o";k_b="f";k_b+="iel";k_b+="d";r3P="V";r3P+="ar";r3P+="iable";p2R.Studies.prettify.variable="vma";p2R.Studies.movingAverage.conversions.vma="variable";p2R.Studies.movingAverage.translations.variable="Variable";p2R.Studies.movingAverage.typeMap.vma=r3P;p2R.Studies.movingAverage.typeMap.variable="Variable";p2R.Studies.calculateChandeForecast=function(t0_,w8a){var i9l=F$OMy;var G1v,b80,Y1k,n5_,V$O,F_C;G1v="ti";G1v+="me";G1v+=" series";b80=w8a.chart.scrubbed;i9l.b5b();if(b80.length < w8a.days + 1){w8a.error=!![];return;}Y1k=w8a.inputs.Field;if(!Y1k || Y1k == "field"){Y1k="Close";}p2R.Studies.MA(G1v,w8a.days,Y1k,0,"MA",t0_,w8a);for(var O4a=Math.max(1,w8a.startFrom);O4a < b80.length;O4a++){n5_="Result";n5_+=" ";V$O="objec";V$O+="t";F_C=b80[O4a][Y1k];if(F_C && typeof F_C == V$O){F_C=F_C[w8a.subField];}i9l.X6L(86);var L4E=i9l.o$D(8,10,20);i9l.X6U(132);var Q54=i9l.w65(8,10,19,15,5);b80[O4a][n5_ + w8a.name]=L4E * (Q54 - b80[O4a]["MA " + w8a.name] / F_C);}};p2R.Studies.calculateChandeMomentum=function(m0U,J_J){var B2q=F$OMy;var N0i,M4w,w2j,O4h,A46,x_v,i4g,f64,N$l,J9C,w5T,N89,Z5c;N0i="C";N0i+="l";N0i+="os";N0i+="e";M4w="f";M4w+="ie";M4w+="l";M4w+="d";w2j=J_J.name;for(var D7$ in J_J.outputs){B2q.X6U(87);w2j=B2q.w65(D7$,w2j,(7430,8724) != 7186?(1970,8968) > (8130,1159)?" ":825.33 < (888.3,7520)?961.10:0x1d6b:0xa87);}O4h=J_J.chart.scrubbed;if(O4h.length < J_J.days + 1){J_J.error=!0;return;}A46=J_J.inputs.Field;if(!A46 || A46 == M4w){A46=N0i;}x_v=+"0";i4g=0;f64=[];for(var O0$=J_J.startFrom - J_J.days + ("1" << 64);O0$ < O4h.length;O0$++){N$l="obj";N$l+="ect";if(O0$ < 1)continue;J9C=O4h[O0$][A46];B2q.X6L(0);w5T=O4h[B2q.w65(1,O0$)][A46];if(J9C && typeof J9C == "object"){J9C=J9C.Close;}if(w5T && typeof w5T == N$l){w5T=w5T.Close;}if(w5T === undefined)continue;B2q.X6L(0);N89=B2q.w65(w5T,J9C);f64.push(N89);x_v+=N89;i4g+=Math.abs(N89);if(f64.length == J_J.days){B2q.X6L(133);O4h[O0$][w2j]=B2q.o$D("100",1,x_v,i4g);Z5c=f64.shift();x_v-=Z5c;i4g-=Math.abs(Z5c);}}};p2R.Studies.calculateMovingAverageVariable=function(o5h,H2E){var z7i=F$OMy;var o74,p9$,B9m,Y2G,p04,j5M,B21,c$s,y86,p9w,D6d,n$h,O44,U7a,m71,w0B,w91,O4y,q$J,Z$k;o74="c";o74+="m";o74+="o";p9$=H2E.inputs.Type;B9m=H2E.chart.scrubbed;z7i.b5b();z7i.X6U(39);var R$X=z7i.w65(4,6);z7i.X6L(11);var i1G=z7i.o$D(5,2,15);Y2G=R$X / (H2E.days + i1G);p04=null;j5M=H2E.name;for(var p3q in H2E.outputs){z7i.X6U(87);j5M=z7i.w65(p3q,j5M,525 === 4110?(0x160b,"k"):" ");}B21=H2E.inputs.Field;if(!B21 || B21 == "field"){B21="Close";}H2E.cmo=new p2R.Studies.StudyDescriptor(H2E.name,o74,H2E.panel);H2E.cmo.chart=H2E.chart;H2E.cmo.days=9;H2E.cmo.inputs={Field:B21};H2E.cmo.startFrom=H2E.startFrom;H2E.cmo.outputs={_CMO:null};p2R.Studies.calculateChandeMomentum(o5h,H2E.cmo);c$s=parseInt(H2E.inputs.Offset,10);if(isNaN(c$s)){c$s=0;}n$h=H2E.startFrom;O44=c$s;for(y86=H2E.startFrom - 1;y86 >= 0;y86--){p9w=B9m[y86][j5M];if(!p9w && p9w !== +"0")continue;if(p04 === null){p04=p9w;}if(O44 <= 0)break;O44--;n$h=y86;}if(p04 === null){p04=n$h=0;}U7a=[];for(y86=n$h;y86 < B9m.length;y86++){m71="_";m71+="C";m71+="M";m71+="O ";w0B=B9m[y86];p9w=w0B[B21];if(p9w && typeof p9w == "object"){p9w=p9w[H2E.subField];}w91=y86 + c$s >= ("0" | 0) && y86 + c$s < B9m.length;O4y=w91?B9m[y86 + c$s]:null;if(!p9w && p9w !== 0){if(O4y){O4y[j5M]=null;}else if(y86 + c$s >= B9m.length){D6d={};D6d[j5M]=null;U7a.push(D6d);}continue;}if(!w0B[m71 + H2E.name] && w0B["_CMO " + H2E.name] !== 0)continue;z7i.X6U(67);var z0A=z7i.w65(300,0,2,6);q$J=Math.abs(w0B["_CMO " + H2E.name]) / z0A;z7i.X6U(134);Z$k=z7i.o$D(p04,"1",q$J,Y2G,q$J,Y2G,p9w);p04=Z$k;if(y86 < H2E.days){Z$k=null;}if(O4y){O4y[j5M]=Z$k;}else if(y86 + c$s >= B9m.length){D6d={};D6d[j5M]=Z$k;U7a.push(D6d);}}H2E.appendFutureTicks(o5h,U7a);};p2R.Studies.studyLibrary=p2R.extend(p2R.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:p2R.Studies.calculateChandeForecast,inputs:{Period:14,Field:k_b}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:p2R.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:50,studyOverBoughtColor:a2K,studyOverSoldValue:-50,studyOverSoldColor:P3g}}}});}};Z$=M2i=>{var p6b,b7w,C8_,b9q,L4t;p6b=typeof _CIQ !== "undefined"?_CIQ:M2i.CIQ;if(!p6b.Studies){b7w="choppiness feature requires ";b7w+="first activating studies feature.";console.error(b7w);}else {C8_="0";C8_+=".";C8_+="1";b9q="a";b9q+="u";b9q+="t";b9q+="o";L4t="Choppiness In";L4t+="de";L4t+="x";p6b.Studies.calculateChoppiness=function(b2c,H1K){var f1h=F$OMy;var t6R,K5f,o0x,r1G;f1h.b5b();function D_C(V0I,b7a){var F0a,u4s;f1h.X6U(7);var V1N=f1h.w65(4,5,0);F0a=Number.MAX_VALUE * V1N;u4s=Number.MAX_VALUE;for(var z7l=b7a - V0I + 1;z7l <= b7a;z7l++){if(z7l < 0)continue;F0a=Math.max(F0a,t6R[z7l].High);u4s=Math.min(u4s,t6R[z7l].Low);}return [u4s,F0a];}p6b.Studies.calculateStudyATR(b2c,H1K);t6R=H1K.chart.scrubbed;if(t6R.length < H1K.days + +"1"){H1K.error=!![];return;}for(var s58=Math.max(H1K.startFrom,H1K.days);s58 < t6R.length;s58++){K5f=t6R[s58];if(!K5f)continue;if(K5f.futureTick)break;o0x=D_C(H1K.days,s58);if(K5f["Sum True Range " + H1K.name]){r1G="Resu";r1G+="lt";r1G+=" ";f1h.X6L(13);var D76=f1h.w65(12,992,1100,4);f1h.X6U(7);var T1i=f1h.w65(13,21,9);f1h.X6U(7);var P55=f1h.o$D(12,11,0);K5f[r1G + H1K.name]=D76 * Math.log(K5f["Sum True Range " + H1K.name] / Math.max("0.000001" * T1i,o0x[P55] - o0x[0])) / Math.log(H1K.days);}else if(!isNaN(K5f)){K5f["Result " + H1K.name]=0;}}};p6b.Studies.studyLibrary=p6b.extend(p6b.Studies.studyLibrary,{Choppiness:{name:L4t,calculateFN:p6b.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:61.8,studyOverBoughtColor:b9q,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:C8_}}}});}};X2=O9h=>{var i20=F$OMy;var A$t,y1t,B_Y,w_5;i20.d9F();A$t=typeof _CIQ !== "undefined"?_CIQ:O9h.CIQ;if(!A$t.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!A$t.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {y1t="au";y1t+="t";y1t+="o";B_Y="Per";B_Y+="forman";B_Y+="ce ";B_Y+="Index";w_5="-1";w_5+=" to 1";A$t.Studies.calculateCorrelationCoefficient=function(t15,L3i){var m54,s3G,x0h,O3l,N7l,b3o,q5J,K9S,n5K,u$G,X80,z2K,J5Y,P31,q0h,H82,x1u,P2q,m$u,H4y,r$B,M3D;m54=L3i.chart.scrubbed;s3G=L3i.days;if(m54.length < s3G + ("1" | 0)){L3i.error=!![];return;}L3i.compare=L3i.inputs["Compare To"];if(!L3i.compare){L3i.compare=[];L3i.outputs={};L3i.outputMap={};for(var I3z in t15.chart.series){x0h=t15.chart.series[I3z];if(x0h.parameters.color){L3i.compare.push(x0h.display);L3i.outputs["Result " + x0h.display]=x0h.parameters.color;i20.X6U(1);var l2X=i20.w65(19,9547);i20.X6U(42);var F9f=i20.o$D(8,52329,13,55840);i20.X6U(135);var D1w=i20.w65(34108,10,19,6,5787);i20.X6U(136);var i3G=i20.w65(12,2119,51,20);i20.X6L(87);var N9t=i20.w65(731,7299,8);i20.X6L(137);var T11=i20.w65(545,534,11,9609);i20.X6L(11);var k5B=i20.w65(3,7950,47700);i20.X6L(15);var M4e=i20.o$D(130670,8166,17);i20.X6U(138);var Z9I=i20.w65(18,4,4,4950,3727);i20.X6U(1);var J11=i20.w65(5,6867);L3i.outputMap["Result " + x0h.display + (l2X == (F9f,D1w)?("z","5.88e+3" - 0):(i3G,N9t) < (T11,k5B)?(M4e,"c"):Z9I != 389.95?" ":("n",J11)) + L3i.name]="Result " + x0h.display;}}}else {L3i.compare=[L3i.compare];}if(!L3i.compare.length){L3i.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var j9y=0;j9y < L3i.compare.length;j9y++){O3l=0;N7l=0;b3o=0;q5J=0;K9S=0;n5K=L3i.compare[j9y];u$G=0;for(var Y5y=L3i.startFrom - s3G;Y5y < m54.length;Y5y++){X80="_te";X80+="m";X80+="ps";X80+=" ";z2K="ob";z2K+="jec";z2K+="t";J5Y="ob";J5Y+="ject";if(!m54[Y5y])continue;P31=m54[Y5y][n5K];if(P31 && typeof P31 == J5Y){P31=P31.Close;}if(!P31 && P31 !== 0){q0h="_temps";q0h+=" ";H82="_";H82+="t";H82+="e";H82+="mps ";if(Y5y > 0 && m54[Y5y - 1] && m54[Y5y - ("1" - 0)]["_temps " + L3i.name] && m54[Y5y - 1][H82 + L3i.name].c){P31=m54[Y5y - 1][q0h + L3i.name].c;}else {P31=0;}}if(P31 && typeof P31 == z2K){P31=P31.Close;}m54[Y5y]["_temps " + L3i.name]={};O3l+=m54[Y5y]["_temps " + L3i.name].b=m54[Y5y].Close;N7l+=m54[Y5y]["_temps " + L3i.name].c=P31;b3o+=m54[Y5y][X80 + L3i.name].b2=Math.pow(m54[Y5y].Close,2);q5J+=m54[Y5y]["_temps " + L3i.name].c2=Math.pow(P31,2);K9S+=m54[Y5y]["_temps " + L3i.name].bc=m54[Y5y].Close * P31;if(u$G >= s3G){x1u="_t";x1u+="emps";x1u+=" ";P2q="_t";P2q+="emps";P2q+=" ";O3l-=m54[Y5y - s3G]["_temps " + L3i.name].b;N7l-=m54[Y5y - s3G]["_temps " + L3i.name].c;b3o-=m54[Y5y - s3G]["_temps " + L3i.name].b2;q5J-=m54[Y5y - s3G][P2q + L3i.name].c2;K9S-=m54[Y5y - s3G][x1u + L3i.name].bc;i20.X6U(11);var Z_Y=i20.o$D(2,12,28);m$u=b3o / s3G - Math.pow(O3l / s3G,Z_Y);i20.X6L(39);var C$N=i20.w65(16,18);H4y=q5J / s3G - Math.pow(N7l / s3G,C$N);i20.X6U(125);var Z$F=i20.o$D(0,5,5,3);r$B=K9S / s3G - O3l * N7l / Math.pow(s3G,Z$F);M3D=r$B / Math.sqrt(m$u * H4y);i20.X6U(128);var g6e=i20.w65(4,1652,3,6,3284);i20.X6U(1);var b6I=i20.w65(27,5);i20.X6U(139);var k_n=i20.o$D(20,31168,8726784,13,14);i20.X6L(0);var x2$=i20.o$D(14,9928);i20.X6L(53);var l_z=i20.o$D(635,8320,1664);i20.X6U(13);var b7m=i20.o$D(10,46649,49980,11);m54[Y5y]["Result " + n5K + ((g6e,"1246" ^ 0) !== "6555" << b6I?(k_n,+"237.8") === x2$?(l_z,+"684.23") == b7m?(!![],744.06):(!({}),878.70):" ":835.36) + L3i.name]=M3D;}u$G++;}}};A$t.Studies.calculatePerformance=function(J6d,E19){var f2i,A3L,v1N,c1y,A7l,x6G,J2X,f6e;f2i="_MA";f2i+=" ";f2i+="Ba";i20.d9F();f2i+="se";A3L="Cl";A3L+="os";A3L+="e";v1N="m";v1N+="a";c1y="Comp";c1y+="a";c1y+="rison Symbo";c1y+="l";A7l=E19.chart.scrubbed;x6G=E19.inputs["Comparison Symbol"].toUpperCase();if(!x6G){x6G=E19.study.inputs[c1y];}if(!E19.days){E19.days=E19.study.inputs.Period;}if(A7l.length < E19.days + 1){E19.error=!![];return;}A$t.Studies.MA(v1N,E19.days,A3L,0,f2i,J6d,E19);A$t.Studies.MA("ma",E19.days,x6G,0,"_MA Comp",J6d,E19);for(var O_2=E19.startFrom;O_2 < A7l.length;O_2++){J2X="Re";J2X+="sult ";f6e=A7l[O_2][x6G];if(f6e && (f6e.Close || f6e.Close === 0)){f6e=f6e.Close;}A7l[O_2][J2X + E19.name]=A7l[O_2].Close / f6e * (A7l[O_2]["_MA Comp " + E19.name] / A7l[O_2]["_MA Base " + E19.name]);}};A$t.Studies.calculateBeta=function(C3W,O2k){var f4D,U4C,i8r,x$J,A07,z3F,H2S,Z9a,E_D,K4v;i20.b5b();f4D="_";f4D+="Base";f4D+="Change ";U4C=O2k.chart.scrubbed;i8r=O2k.inputs["Comparison Symbol"].toUpperCase();if(!i8r){i8r=O2k.study.inputs["Comparison Symbol"];}if(!O2k.days){O2k.days=O2k.study.inputs.Period;}if(U4C.length < O2k.days + 1){O2k.error=!0;return;}for(var L3u=Math.max(O2k.startFrom,1);L3u < U4C.length;L3u++){x$J="_BaseC";x$J+="han";x$J+="ge ";i20.X6L(140);var q5n=i20.w65(1,0,14,4,11);i20.X6L(57);var s9A=i20.o$D(18,19,3,1,3);U4C[L3u][x$J + O2k.name]=U4C[L3u].Close / U4C[L3u - q5n].Close - s9A;A07=U4C[L3u][i8r];if(A07 && (A07.Close || A07.Close === 0)){A07=A07.Close;}i20.X6L(0);z3F=U4C[i20.w65(1,L3u)][i8r];if(z3F && (z3F.Close || z3F.Close === 0)){z3F=z3F.Close;}i20.X6U(11);U4C[L3u]["_CompChange " + O2k.name]=i20.o$D(z3F,1,A07);}A$t.Studies.MA("ma",O2k.days,f4D + O2k.name,0,"_MA Base",C3W,O2k);A$t.Studies.MA("ma",O2k.days,"_CompChange " + O2k.name,0,"_MA Comp",C3W,O2k);for(L3u=Math.max(O2k.startFrom,O2k.days);L3u < U4C.length;L3u++){H2S="_M";H2S+="A ";H2S+="Com";H2S+="p ";Z9a="_";Z9a+="CompC";Z9a+="hange";Z9a+=" ";E_D="_";E_D+="MA";E_D+=" Comp ";U4C[L3u]["_COVARn " + O2k.name]=(U4C[L3u]["_BaseChange " + O2k.name] - U4C[L3u]["_MA Base " + O2k.name]) * (U4C[L3u]["_CompChange " + O2k.name] - U4C[L3u][E_D + O2k.name]);U4C[L3u]["_VARn " + O2k.name]=Math.pow(U4C[L3u][Z9a + O2k.name] - U4C[L3u][H2S + O2k.name],2);}A$t.Studies.MA("ma",O2k.days,"_COVARn " + O2k.name,0,"_COVAR",C3W,O2k);A$t.Studies.MA("ma",O2k.days,"_VARn " + O2k.name,0,"_VAR",C3W,O2k);for(L3u=Math.max(O2k.startFrom,O2k.days * 2 - 1);L3u < U4C.length;L3u++){K4v="_";K4v+="V";K4v+="A";K4v+="R ";U4C[L3u]["Result " + O2k.name]=U4C[L3u]["_COVAR " + O2k.name] / U4C[L3u][K4v + O2k.name];}};A$t.Studies.studyLibrary=A$t.extend(A$t.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:w_5,calculateFN:A$t.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:B_Y,centerline:1,initializeFN:A$t.Studies.initPriceRelative,seriesFN:A$t.Studies.displayVsComparisonSymbol,calculateFN:A$t.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:y1t,Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!![]},Beta:{name:"Beta",centerline:1,initializeFN:A$t.Studies.initPriceRelative,seriesFN:A$t.Studies.displayVsComparisonSymbol,calculateFN:A$t.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!!({})}});}};e$=k90=>{var g1R=F$OMy;var g5d,V$b,j0p,M5O,F6V,v09,d5y,H8K;g5d="und";g5d+="e";g5d+="fine";g5d+="d";V$b=typeof _CIQ !== g5d?_CIQ:k90.CIQ;if(!V$b.Studies){j0p=-1584018185;M5O=1230205292;F6V=2;for(var Z$D=1;g1R.Q0B(Z$D.toString(),Z$D.toString().length,48273) !== j0p;Z$D++){console.error("");F6V+=2;}if(g1R.P12(F6V.toString(),F6V.toString().length,7041) !== M5O){v09="coppock feature requires f";v09+="irst activating studies feature.";console.error(v09);}}else {d5y="f";d5y+="i";d5y+="el";d5y+="d";H8K="Coppoc";H8K+="k Cur";H8K+="ve";V$b.Studies.calculateCoppock=function(K8Q,S_H){var U15,F6y,c50,q9E,b0E,v_C,l9U,N3K,S9X,R9U,p45;U15="Re";U15+="sul";U15+="t";g1R.b5b();F6y="_";F6y+="S";F6y+="um ";c50="we";c50+="ig";c50+="hted";q9E="L";q9E+="ong RoC";b0E=S_H.chart.scrubbed;v_C=S_H.inputs.Field;if(!v_C || v_C == "field"){v_C="Close";}l9U=parseInt(S_H.inputs[q9E],10);if(!l9U){l9U=14;}N3K=parseInt(S_H.inputs["Short RoC"],"10" ^ 0);if(!N3K){N3K=11;}S9X=S_H.days;if(!S9X){S9X=10;}if(l9U < N3K){return;}if(b0E.length < Math.max(N3K,l9U,S9X) + +"1"){S_H.error=!!({});return;}for(var F6e=Math.max(S_H.startFrom,l9U);F6e < b0E.length;F6e++){g1R.X6U(0);R9U=b0E[g1R.o$D(N3K,F6e)][v_C];g1R.X6L(0);p45=b0E[g1R.o$D(l9U,F6e)][v_C];if(R9U && p45){g1R.X6U(141);var k2g=g1R.w65(5,17,800,664,14);g1R.X6U(0);var A3O=g1R.o$D(13,14);b0E[F6e]["_Sum " + S_H.name]=k2g * (b0E[F6e][v_C] / R9U + b0E[F6e][v_C] / p45 - "2" * A3O);}}V$b.Studies.MA(c50,S9X,F6y + S_H.name,0,U15,K8Q,S_H);};V$b.Studies.studyLibrary=V$b.extend(V$b.Studies.studyLibrary,{Coppock:{name:H8K,calculateFN:V$b.Studies.calculateCoppock,inputs:{Period:10,Field:d5y,"Short RoC":11,"Long RoC":14}}});}};D3=d4s=>{var r$j=F$OMy;var A1F,n5Y,y2G,F8P,A9v;A1F="undefine";r$j.d9F();A1F+="d";n5Y=typeof _CIQ !== A1F?_CIQ:d4s.CIQ;if(!n5Y.Studies){y2G="darvasBox feature requir";y2G+="es first activat";y2G+="ing studies feature.";console.error(y2G);}else {F8P="a";F8P+="ut";F8P+="o";A9v="hi";A9v+="gh/l";A9v+="ow";n5Y.Studies.calculateDarvas=function(S5V,N54){var i9V,m2a,J8s,N2D,I5l,r9Y,Y$6,F_M,P6C,b83,Y_q,F4X,L5N,G0T,L0y,L16,H2N,q98,a5v,G05,l_2,E4c,a1X,u8p,w99,O3a,Q1G,y9O,B2S,A5P,m8a,p9d;i9V="A";i9V+="D";i9V+="V";m2a="Level";m2a+=" Off";m2a+="set";J8s=N54.chart.scrubbed;N2D=0;I5l=parseInt(N54.inputs["ATH Lookback Period"],10);if(N54.inputs["Volume Spike"]){r9Y="s";r9Y+="imple";n5Y.Studies.MA(r9Y,I5l,"Volume",0,"ADV",S5V,N54);}r$j.X6U(1);var S0k=r$j.o$D(92,8);Y$6=parseFloat(N54.inputs["Volume % of Avg"]) / S0k;F_M="none";P6C={};b83=null;Y_q=null;F4X=null;L5N=parseFloat(N54.inputs[m2a]);G0T=!!0;if(G0T){console.log("*****************");}L16={};["Darvas","Ghost","Profit","Loss","ATH",i9V,"Spike"].forEach(function(g5U){r$j.X6U(0);var g0I=r$j.w65(9,4869);r$j.X6L(142);var U9i=r$j.o$D(6510,9,6505,6505,1);r$j.X6U(1);var Y9s=r$j.w65(1,0);r$j.X6U(11);var v1q=r$j.o$D(3,32776,115680);r$j.X6L(135);var y9U=r$j.w65(70104,6,6,7,10089);r$j.X6L(124);var j_B=r$j.w65(34389,2,443262,13);r$j.X6L(143);r$j.b5b();var C4S=r$j.w65(15,12,9140,15,127929);L16[g5U]=g5U + (g0I <= 749.93?("X",U9i):("453.32" * Y9s,v1q) >= (y9U,j_B)?" ":C4S) + N54.name;});for(L0y=N54.startFrom - 1;L0y > 0;L0y--){H2N=J8s[L0y];if(H2N[L16.Darvas] || H2N[L16.Ghost]){for(var j5$ in L16){H2N[j5$]=null;}}else {N2D=H2N[L16.ATH] || 0;Y_q=H2N[L16.Profit];F4X=H2N[L16.Loss];break;}}for(L0y;L0y < J8s.length;L0y++){q98="Pric";q98+="e Minimum";a5v=J8s[L0y];if(!a5v)continue;if(parseFloat(N54.inputs[q98]) <= J8s[N2D].Close){G05="darv";G05+="a";G05+="s";l_2="h";l_2+="igh/";l_2+="low";if(b83 && (!b83.End || L0y == b83.End + ("1" | 0))){if(J8s[L0y - 1].Close > P6C.High){P6C={State:1,High:2 * P6C.High - P6C.Low,Low:P6C.High,Start:L0y,End:2 * P6C.End - P6C.Start + 1};}else {b83=null;;}if(b83){E4c="Ghost b";E4c+="egi";E4c+="n:";a5v[L16.Ghost]=n5Y.clone(P6C);if(G0T){console.log(E4c + a5v.DT);}P6C.State=0;if(J8s[P6C.End]){J8s[P6C.End][L16.Ghost]=n5Y.clone(P6C);if(G0T){console.log("Ghost end:" + J8s[P6C.End].DT);}}b83={Start:P6C.Start,End:P6C.End};Y_q=P6C.High + L5N;if(!F4X || F4X < P6C.Low - L5N){F4X=P6C.Low - L5N;}}}a5v[L16.Profit]=Y_q;a5v[L16.Loss]=F4X;if(a5v.Close >= Y_q){Y_q=null;}else if(N54.inputs["Exit Field"] == l_2 && a5v.High >= Y_q){Y_q=null;}if(F_M == "none"){if(L0y == N2D + +"3"){if(!J8s[N2D + 2][L16.Darvas] && !J8s[N2D + 1][L16.Darvas] && !J8s[N2D][L16.Darvas] && J8s[N2D].High > a5v.High){F_M="high";;}}}if(F_M == "high"){if(a5v.High > J8s[N2D].High){a1X="n";a1X+="o";a1X+="ne";F_M=a1X;}else if(J8s[L0y - +"3"].Low < J8s[L0y - 2].Low && J8s[L0y - 3].Low < J8s[L0y - 1].Low && J8s[L0y - 3].Low < a5v.Low){u8p="Darvas estab";u8p+="lished:";P6C={State:1,High:J8s[N2D].High,Low:J8s[L0y - 3].Low,Start:N2D};J8s[N2D][L16.Darvas]=n5Y.clone(P6C);F_M="darvas";if(G0T){console.log("Darvas begin:" + J8s[N2D].DT);}if(G0T){console.log(u8p + a5v.DT);}if(b83){w99="Gh";w99+="ost en";w99+="d:";if(b83.End > L0y && J8s[b83.Start]){a5v[L16.Ghost]=n5Y.clone(J8s[b83.Start][L16.Ghost]);a5v[L16.Ghost].End=L0y;if(J8s[b83.End]){delete J8s[b83.End][L16.Ghost];if(G0T){console.log("Ghost End removed:" + J8s[b83.End].DT);}}}a5v[L16.Ghost].State=0;J8s[b83.Start][L16.Ghost].End=L0y;if(G0T){console.log(w99 + a5v.DT);}b83=null;}Y_q=P6C.High + L5N;if(!F4X || F4X < P6C.Low - L5N){F4X=P6C.Low - L5N;}}}if(F_M == G05){O3a="n";O3a+="o";O3a+="n";O3a+="e";Q1G="Exit Fiel";Q1G+="d";if(a5v.Close > P6C.High){b83={};}else if(N54.inputs[Q1G] == "high/low" && a5v.High > P6C.High){b83={};}else if(a5v.Close < P6C.Low){F_M=O3a;}else if(N54.inputs["Exit Field"] == "high/low" && a5v.Low < P6C.Low){F_M="none";}if(b83){F_M="none";}else if(F_M == "none"){Y_q=null;F4X=null;}if(!N54.inputs["Ghost Boxes"]){b83=null;}if(F_M == "none"){for(var J3n=P6C.Start + 1;J3n < L0y;J3n++){J8s[J3n][L16.Darvas]=n5Y.clone(P6C);}P6C.State=0;P6C.End=L0y;a5v[L16.Darvas]=n5Y.clone(P6C);if(G0T){console.log("Darvas end:" + a5v.DT);}a5v[L16.ATH]=N2D;continue;}}if(F4X){if(a5v.Close < P6C.Low || N54.inputs["Exit Field"] == "high/low" && a5v.Low < P6C.Low){y9O="E";y9O+="xi";y9O+="t ";y9O+="Field";B2S="n";B2S+="o";B2S+="ne";if(F_M == "darvas"){F_M=B2S;}if(a5v.Close < F4X || N54.inputs[y9O] == "high/low" && a5v.Low < F4X){Y_q=null;F4X=null;}if(b83){if(b83.End > L0y && J8s[b83.Start]){a5v[L16.Ghost]=n5Y.clone(J8s[b83.Start][L16.Ghost]);a5v[L16.Ghost].End=L0y;if(J8s[b83.End]){A5P="G";A5P+="host End rem";A5P+="oved";A5P+=":";delete J8s[b83.End][L16.Ghost];if(G0T){console.log(A5P + J8s[b83.End].DT);}}}r$j.X6L(24);a5v[L16.Ghost].State=r$j.o$D(0,"0");J8s[b83.Start][L16.Ghost].End=L0y;if(G0T){console.log("Ghost end:" + a5v.DT);}b83=null;}}}}if(a5v.High >= J8s[N2D].High){N2D=L0y;if(G0T){console.log("All Time High:" + a5v.DT);}}if(L0y < 3 || a5v.High >= J8s[L0y - 1].High && a5v.High >= J8s[L0y - 2].High && a5v.High >= J8s[L0y - 3].High){if(L0y - N2D >= I5l){m8a="All Tim";m8a+="e High:";N2D=L0y;for(var W1c=0;W1c < I5l;W1c++){if(L0y - W1c < 0)break;if(J8s[L0y - W1c].High > J8s[N2D].High){r$j.X6L(0);N2D=r$j.o$D(W1c,L0y);}}if(G0T){console.log(m8a + a5v.DT);}}}if(N54.inputs["Volume Spike"] && L0y > I5l && L0y == N2D){if(a5v[L16.ADV] * Y$6 < a5v.Volume){p9d="V";p9d+="olume Spike:";a5v[L16.Spike]=1;if(G0T){console.log(p9d + a5v.DT);}}}a5v[L16.ATH]=N2D;}};n5Y.Studies.displayDarvas=function(Y8n,g9l,T64){var D0W,K2D,y_N,O2M,m03,T0c,h1v,R5h,f7X,p03,f4F,t1W,V3V,N9r,L9$,T$F,f4j,r6X,m$5,R9W,x1l,H3a,W$J,t1Q,h5t,a1v,N1R,u_w,h7U,q62,L2K,r7X;D0W=n5Y.Studies.determineColor(g9l.outputs.Levels);r$j.b5b();if(!D0W || D0W == "auto" || n5Y.isTransparent(D0W)){D0W=Y8n.defaultColor;}K2D=n5Y.Studies.determineColor(g9l.outputs.Darvas);if(!K2D || K2D == "auto" || n5Y.isTransparent(K2D)){K2D=Y8n.defaultColor;}y_N=n5Y.Studies.determineColor(g9l.outputs.Ghost);if(!y_N || y_N == "auto" || n5Y.isTransparent(y_N)){y_N=Y8n.defaultColor;}O2M=Y8n.panels[g9l.panel];m03=g9l.getContext(Y8n);p03=Y8n.layout.candleWidth - ("2" - 0);if(p03 < +"2"){p03=1;}Y8n.startClip(g9l.panel);if(g9l.inputs["Stop Levels"]){if(m03.setLineDash){m03.setLineDash([2,+"2"]);}m03.lineWidth=2;m03.strokeStyle=D0W;m03.beginPath();for(T0c=0;T0c < T64.length;T0c++){f4F="Lo";f4F+="ss ";t1W="Los";t1W+="s ";h1v=T64[T0c];r$j.X6L(0);V3V=T64[r$j.w65(1,T0c)];if(!h1v)continue;f7X=h1v["Loss " + g9l.name]?Math.floor(Y8n.pixelFromPrice(h1v[t1W + g9l.name],O2M)):null;N9r=V3V && V3V[f4F + g9l.name]?Math.floor(Y8n.pixelFromPrice(V3V["Loss " + g9l.name],O2M)):null;if(f7X){if(h1v.candleWidth){p03=Math.floor(Math.max(1,h1v.candleWidth));}L9$=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) + p03 / 2);T$F=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) - p03 / 2);if(N9r && N9r >= f7X){m03.lineTo(T$F,f7X);}else if(T0c === 0){m03.moveTo(Y8n.chart.left,f7X);}else {m03.moveTo(T$F,f7X);}m03.lineTo(L9$,f7X);}}m03.stroke();if(m03.setLineDash){m03.setLineDash([]);}m03.lineWidth=1;}r$j.X6L(0);f4j=-r$j.w65(0,"10");m$5=0;x1l=-10;W$J=0;h5t=!!0;a1v=!({});r$j.X6L(144);var r8H=r$j.o$D(24870,9,6,17,1333772);r$j.X6U(1);var w$m=r$j.w65(16,7824);N1R=m03.measureText(+"5661" == (r8H,w$m)?("r",!1):"\u25B2").width / ("2" | 0);r$j.X6U(37);u_w=r$j.o$D("0",0);for(T0c=0;T0c < T64.length;T0c++){h7U="G";h7U+="hos";h7U+="t Boxes";q62="Gh";q62+="ost";q62+=" ";if(!T64[T0c])continue;if(T64[T0c].Close || T64[T0c].Close === 0){u_w=T0c;}if(T64[T0c]["Spike " + g9l.name]){m03.fillStyle=K2D;m03.textBaseline="bottom";L2K=Y8n.pixelFromPrice(T64[T0c].High,Y8n.chart.panel);m03.fillText("\u25BC",Y8n.pixelFromBar(T0c) - N1R,L2K - 5);;}if(T64[T0c].candleWidth){p03=Math.floor(Math.max(1,T64[T0c].candleWidth));}if(T64[T0c]["Darvas " + g9l.name]){h1v=T64[T0c]["Darvas " + g9l.name];if(h1v.State == 1 && !h5t){f4j=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) - p03 / 2);r6X=Math.floor(Y8n.pixelFromPrice(h1v.High,O2M));R9W=Math.floor(Y8n.pixelFromPrice(h1v.Low,O2M)) - r6X;h5t=!!"1";}else if(h1v.State === 0){r$j.X6L(145);var W5z=r$j.w65(3,9,15,4,6);m$5=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) + p03 / W5z) - f4j;r6X=Math.floor(Y8n.pixelFromPrice(h1v.High,O2M));R9W=Math.floor(Y8n.pixelFromPrice(h1v.Low,O2M)) - r6X;m03.strokeStyle=K2D;m03.fillStyle=K2D;if(!g9l.inputs["Stop Levels"]){m03.strokeRect(f4j,r6X,m$5,R9W);m03.globalAlpha=0.2;}else {m03.globalAlpha=0.3;}m03.fillRect(f4j,r6X,m$5,R9W);r$j.X6L(40);m03.globalAlpha=r$j.w65("1",64);h5t=!1;}}if(T64[T0c][q62 + g9l.name] && g9l.inputs[h7U]){h1v=T64[T0c]["Ghost " + g9l.name];if(h1v.State == 1 && !a1v){x1l=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) - p03 / 2);H3a=Math.floor(Y8n.pixelFromPrice(h1v.High,O2M));W$J=Math.floor((h1v.End - h1v.Start + 1) * Y8n.layout.candleWidth + p03 / 2);t1Q=Math.floor(Y8n.pixelFromPrice(h1v.Low,O2M)) - H3a;a1v=!![];}else if(h1v.State === 0){if(h1v.Start == h1v.End){x1l=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) - p03 / +"2");}r$j.X6U(39);var m3w=r$j.o$D(4,6);W$J=Math.floor(Y8n.pixelFromBar(T0c,O2M.chart) + p03 / m3w) - x1l;H3a=Math.floor(Y8n.pixelFromPrice(h1v.High,O2M));t1Q=Math.floor(Y8n.pixelFromPrice(h1v.Low,O2M)) - H3a;m03.strokeStyle=y_N;m03.fillStyle=y_N;if(!g9l.inputs["Stop Levels"]){m03.strokeRect(x1l,H3a,W$J,t1Q);m03.globalAlpha=0.2;}else {m03.globalAlpha=0.3;}m03.fillRect(x1l,H3a,W$J,t1Q);m03.globalAlpha=1;a1v=!!0;}}}if(h5t){r$j.X6U(146);var u0_=r$j.o$D(3,1,2,1);m$5=Math.floor(Y8n.pixelFromBar(u_w,O2M.chart) + p03 / u0_) - f4j;m03.strokeStyle=K2D;m03.fillStyle=K2D;if(!g9l.inputs["Stop Levels"]){m03.beginPath();r$j.X6L(88);m03.moveTo(r$j.w65(m$5,2,f4j),r6X);m03.lineTo(f4j,r6X);r$j.X6L(1);m03.lineTo(f4j,r$j.o$D(R9W,r6X));r$j.X6U(88);m03.lineTo(r$j.o$D(m$5,2,f4j),r$j.o$D(R9W,r6X,r$j.X6L(1)));m03.stroke();m03.globalAlpha=+"0.2";}else {m03.globalAlpha=0.3;}r$j.X6L(9);m03.fillRect(f4j,r6X,r$j.o$D(m$5,2),R9W);m03.globalAlpha=1;}if(a1v){m03.strokeStyle=y_N;m03.fillStyle=y_N;if(!g9l.inputs["Stop Levels"]){m03.strokeRect(x1l,H3a,W$J,t1Q);m03.globalAlpha=0.2;}else {m03.globalAlpha=0.3;}m03.fillRect(x1l,H3a,W$J,t1Q);m03.globalAlpha=+"1";}if(h5t || a1v){if(g9l.inputs["Stop Levels"]){if(m03.setLineDash){m03.setLineDash([+"2",2]);}m03.lineWidth=2;m03.strokeStyle=D0W;r7X=Math.floor(Y8n.pixelFromBar(u_w - +"1",O2M.chart) + p03 / 2);if(R5h){m03.beginPath();m03.moveTo(r7X,R5h);m03.lineTo(h5t?f4j + 2 * m$5:x1l + W$J,R5h);m03.stroke();}if(f7X){m03.beginPath();m03.moveTo(r7X,f7X);m03.lineTo(h5t?f4j + 2 * m$5:x1l + W$J,f7X);m03.stroke();}if(m03.setLineDash){m03.setLineDash([]);}m03.lineWidth=+"1";}h5t=![];a1v=!1;}Y8n.endClip();};n5Y.Studies.studyLibrary=n5Y.extend(n5Y.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!!({}),calculateFN:n5Y.Studies.calculateDarvas,seriesFN:n5Y.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",A9v],"Ghost Boxes":!!"1","Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!!"","Volume % of Avg":"400" - 0},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:F8P},customRemoval:!![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!0},panelName:{hidden:!!({})},flippedEnabled:{hidden:!0}}}});}};u1=b2P=>{var B_L,Q6j,w00;B_L="undefine";B_L+="d";Q6j=typeof _CIQ !== B_L?_CIQ:b2P.CIQ;if(!Q6j.Studies){w00="detrended feature requires fir";w00+="st activating studies feature.";console.error(w00);}else {Q6j.Studies.calculateDetrendedPrice=function(Y8H,I2A){var s$_=F$OMy;var m3y,V3X,F4d,F8l,q2A,i_P,k1f,o2n,H7N,Z8_,e5L;m3y="M";m3y+="A";V3X=I2A.chart.scrubbed;s$_.b5b();if(V3X.length < I2A.days + 1){I2A.error=!!1;F4d=2130255242;s$_.X6U(0);F8l=-s$_.o$D(0,"1036068033");q2A=2;for(var k39=1;s$_.P12(k39.toString(),k39.toString().length,+"12924") !== F4d;k39++){return;}if(s$_.P12(q2A.toString(),q2A.toString().length,77253) !== F8l){return;}}i_P=I2A.inputs.Field;if(!i_P || i_P == "field"){i_P="Close";}k1f=Math.floor(I2A.days / 2 + 1);Q6j.Studies.MA(I2A.inputs["Moving Average Type"],I2A.days,i_P,-k1f,m3y,Y8H,I2A);for(var y8i=Math.max(I2A.days - k1f - 1,I2A.startFrom - k1f);y8i < V3X.length - k1f;y8i++){o2n="Resul";o2n+="t ";H7N="M";H7N+="A ";if(y8i < 0)continue;Z8_=V3X[y8i][i_P];if(Z8_ && typeof Z8_ == "object"){Z8_=Z8_[I2A.subField];}e5L=V3X[y8i][H7N + I2A.name];if((Z8_ || Z8_ === 0) && (e5L || e5L === 0)){s$_.X6U(0);V3X[y8i][o2n + I2A.name]=s$_.w65(e5L,Z8_);}}};Q6j.Studies.studyLibrary=Q6j.extend(Q6j.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:Q6j.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};w7=H8g=>{var n54,T_q,c7J;n54=typeof _CIQ !== "undefined"?_CIQ:H8g.CIQ;F$OMy.b5b();if(!n54.Studies){T_q="disparity feature requires first activating st";T_q+="udies feature.";console.error(T_q);}else {c7J="Dispari";c7J+="ty Index";n54.Studies.calculateDisparity=function(o_U,l2Z){var G9U,Y_o,I39,c62,C3B,X5n;G9U="_";G9U+="MA";Y_o="Cl";Y_o+="ose";I39=l2Z.chart.scrubbed;if(I39.length < l2Z.days + 1){l2Z.error=!!({});return;}c62=l2Z.inputs.Field;if(!c62 || c62 == "field"){c62=Y_o;}n54.Studies.MA(l2Z.inputs["Moving Average Type"],l2Z.days,c62,"0" | 0,G9U,o_U,l2Z);for(var p9x=Math.max(l2Z.startFrom,l2Z.days - 1);p9x < I39.length;p9x++){C3B="R";C3B+="esult ";if(!I39[p9x])continue;X5n=I39[p9x]["_MA " + l2Z.name];if(X5n){F$OMy.X6U(11);var u9u=F$OMy.w65(1,10,11);I39[p9x][C3B + l2Z.name]=+"100" * (I39[p9x][c62] / X5n - u9u);}}};n54.Studies.studyLibrary=n54.extend(n54.Studies.studyLibrary,{Disparity:{name:c7J,calculateFN:n54.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};D$=X7U=>{var H9d;H9d=typeof _CIQ !== "undefined"?_CIQ:X7U.CIQ;if(!H9d.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {H9d.Studies.calculateEaseOfMovement=function(b14,n15){var I4C=F$OMy;var C_6,g0L,h7G,j6G,b$m,s9y;I4C.d9F();C_6=n15.chart.scrubbed;if(C_6.length < n15.days){n15.error=!0;return;}for(var U1A=Math.max(1,n15.startFrom);U1A < C_6.length;U1A++){I4C.X6L(147);var B1T=I4C.w65(5,40,15,47,11);g0L=(C_6[U1A].High + C_6[U1A].Low) / B1T;I4C.X6L(148);var L8p=I4C.w65(19,12,9,16,112);I4C.X6U(0);var J04=I4C.w65(10,11);I4C.X6U(149);var K0X=I4C.w65(1,816,6,2,76);h7G=(C_6[U1A - L8p].High + C_6[U1A - J04].Low) / ("2" << K0X);I4C.X6U(0);j6G=I4C.o$D(h7G,g0L);I4C.X6L(72);var C_e=I4C.o$D(1,480,20,4800,30);b$m=C_6[U1A].Volume / ("100000000" >> C_e) / (C_6[U1A].High - C_6[U1A].Low);I4C.X6U(4);s9y=I4C.o$D(b$m,j6G);if(!isFinite(s9y)){C_6[U1A]["_EOM1 " + n15.name]=NaN;}else {C_6[U1A]["_EOM1 " + n15.name]=s9y;}}H9d.Studies.MA(n15.inputs["Moving Average Type"],n15.days,"_EOM1 " + n15.name,"0" >> 64,"Result",b14,n15);};H9d.Studies.studyLibrary=H9d.extend(H9d.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:H9d.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};W5=M_y=>{var f$F,v1r;f$F=typeof _CIQ !== "undefined"?_CIQ:M_y.CIQ;if(!f$F.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {v1r="Ehl";v1r+="er Fishe";v1r+="r Transform";f$F.Studies.calculateEhlerFisher=function(y0w,a07){var H7G=F$OMy;var a_p,s9s,v7p,e$o,B6r,z55,c5p;a_p=a07.chart.scrubbed;if(a_p.length < a07.days + 1){a07.error=!!({});return;}s9s=0;if(a07.startFrom > 1){H7G.X6L(89);var z0O=H7G.o$D(4,6,0,13,73);s9s=a_p[a07.startFrom - z0O]["_n " + a07.name];}for(var A0j=a07.startFrom;A0j < a_p.length;A0j++){v7p="E";v7p+="F";v7p+=" ";e$o=a_p[A0j];if(e$o.futureTick)break;if(A0j < a07.days - 1){B6r="E";B6r+="F";B6r+=" ";e$o[B6r + a07.name]=e$o["EF Trigger " + a07.name]=s9s;continue;}z55=U$J(a07.days,A0j);H7G.X6L(107);var a5u=H7G.o$D(17,8,9,18);H7G.X6L(150);var B_u=H7G.o$D(29,8,13,4,14);H7G.X6U(151);var P_j=H7G.o$D(18,17,9,145,2);s9s=("0.33" - 0) * a5u * (((a_p[A0j].High + a_p[A0j].Low) / ("2" << B_u) - z55[+"0"]) / Math.max(+"0.000001",z55[P_j] - z55[0]) - ("0.5" - 0)) + 0.67 * s9s;if(s9s > 0){s9s=Math.min(s9s,+"0.9999");}else if(s9s < 0){s9s=Math.max(s9s,-0.9999);}c5p=A0j?a_p[A0j - 1]["EF " + a07.name]:0;H7G.X6U(71);var V7Z=H7G.o$D(89,1,18,10,15);H7G.X6U(152);var s8b=H7G.w65(2,1,7,7);e$o[v7p + a07.name]=+"0.5" * Math.log((V7Z + s9s) / (s8b - s9s)) + 0.5 * c5p;e$o["EF Trigger " + a07.name]=c5p;e$o["_n " + a07.name]=s9s;}function U$J(O3A,Z3Q){var D0A,o2q,t8x;D0A=Number.MAX_VALUE;H7G.X6U(91);var x4j=H7G.o$D(5,19,2,15);o2q=Number.MAX_VALUE * x4j;for(var L5P=Z3Q - O3A + 1;L5P <= Z3Q;L5P++){H7G.X6L(146);var N_A=H7G.w65(17,8,16,8);t8x=(a_p[L5P].High + a_p[L5P].Low) / N_A;D0A=Math.min(D0A,t8x);o2q=Math.max(o2q,t8x);}return [D0A,o2q];}};f$F.Studies.studyLibrary=f$F.extend(f$F.Studies.studyLibrary,{"Ehler Fisher":{name:v1r,calculateFN:f$F.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};W7=t5H=>{var U2B,k0E,D0z;U2B=typeof _CIQ !== "undefined"?_CIQ:t5H.CIQ;if(!U2B.Studies){console.error("elder feature requires first activating studies feature.");}else {k0E="#00";k0E+="DD00";D0z="Elder";D0z+=" Ray Ind";D0z+="ex";U2B.Studies.calculateElderImpulse=function(e$A,g0H){var z0I,w4I,b1o,d$C,i$Z,p89,z8a;z0I=g0H.chart.scrubbed;w4I=g0H.outputs.Bullish;b1o=g0H.outputs.Bearish;d$C=g0H.outputs.Neutral;U2B.Studies.MA("exponential",13,"Close",+"0","_MA",e$A,g0H);g0H.macd=new U2B.Studies.StudyDescriptor("_" + g0H.name,"macd",g0H.panel);g0H.macd.chart=g0H.chart;g0H.macd.days=g0H.days;g0H.macd.startFrom=g0H.startFrom;g0H.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};g0H.macd.outputs={_MACD:null,_Signal:null};U2B.Studies.calculateMACD(e$A,g0H.macd);for(var u2d=g0H.startFrom;u2d < z0I.length;u2d++){p89="_hi";p89+="st";z8a="_";z8a+="M";z8a+="A";z8a+=" ";if(u2d === 0){i$Z=d$C;}else if(z0I[u2d]["_MA " + g0H.name] > z0I[u2d - 1][z8a + g0H.name] && z0I[u2d][(3910 < (2020,7808)?(+"8788",2120) > 570.53?"_":9311 <= (7510,+"133.23")?+"0x2209":("M","R"):(976.71,![])) + g0H.name + "_hist"] > z0I[u2d - 1]["_" + g0H.name + "_hist"]){i$Z=w4I;}else if(z0I[u2d]["_MA " + g0H.name] < z0I[u2d - 1]["_MA " + g0H.name] && z0I[u2d]["_" + g0H.name + p89] < z0I[u2d - +"1"][(240.11 > 292.68?6190 < (5720,+"9170")?177.40:(1.65e+3,!"1"):"_") + g0H.name + "_hist"]){i$Z=b1o;}else {i$Z=d$C;}z0I[u2d]["Result " + g0H.name]=i$Z;;}};U2B.Studies.calculateElderRay=function(i$E,y7s){var n8q,r50,v8_,k6y;n8q="C";n8q+="lose";r50="exponen";r50+="t";r50+="ial";v8_=y7s.chart.scrubbed;if(v8_.length < y7s.days){y7s.error=!![];return;}U2B.Studies.MA(r50,y7s.days,n8q,0,"_EMA",i$E,y7s);for(var n5u=Math.max(y7s.startFrom,y7s.days - ("1" >> 0));n5u < v8_.length;n5u++){k6y="_";k6y+="EMA ";v8_[n5u][y7s.name + "_hist1"]=v8_[n5u].High - v8_[n5u]["_EMA " + y7s.name];v8_[n5u][y7s.name + "_hist2"]=v8_[n5u].Low - v8_[n5u][k6y + y7s.name];}y7s.outputMap={};y7s.outputMap[y7s.name + "_hist1"]="";y7s.outputMap[y7s.name + "_hist2"]="";};U2B.Studies.calculateElderForce=function(Q5g,r3d){var M6g,m1G;M6g=r3d.chart.scrubbed;if(M6g.length < r3d.days){r3d.error=!![];return;}for(var P2Y=Math.max(1,r3d.startFrom);P2Y < M6g.length;P2Y++){m1G="_E";m1G+="F";m1G+="1";m1G+=" ";M6g[P2Y][m1G + r3d.name]=M6g[P2Y].Volume * (M6g[P2Y].Close - M6g[P2Y - +"1"].Close);}U2B.Studies.MA("exponential",r3d.days,"_EF1 " + r3d.name,0,"Result",Q5g,r3d);};U2B.Studies.initElderImpulse=function(e8i,y_9,A$e,c0X,u31,q5D){var H5D=F$OMy;var a_8;H5D.d9F();a_8=U2B.Studies.initializeFN(e8i,y_9,A$e,c0X,u31,q5D);if(!u31.calculateOnly){e8i.chart.customChart={chartType:"colored_bar",colorFunction:function(K96,i9M,k9K){var V$6,Z_M,E80,b29,d2W;V$6=-477371364;H5D.b5b();Z_M=1448032704;E80=2;for(var s4o=1;H5D.P12(s4o.toString(),s4o.toString().length,"89880" - 0) !== V$6;s4o++){b29="Resul";b29+="t ";d2W=i9M[b29 + a_8.name];if(d2W && typeof d2W == "object"){d2W=d2W.color;}return d2W;}if(H5D.P12(E80.toString(),E80.toString().length,34126) !== Z_M){d2W=i9M["Result " * a_8.name];if(d2W || -d2W !== "Result "){d2W=d2W.color;}return d2W;}}};e8i.setMainSeriesRenderer();}return a_8;};U2B.Studies.displayElderForce=function(y$g,M2q,I1E){var N4M,w$o,W7W,h54;U2B.Studies.displaySeriesAsLine(y$g,M2q,I1E);N4M=U2B.Studies.determineColor(M2q.outputs.Result);w$o=y$g.panels[M2q.panel];W7W=M2q.getYAxis(y$g);h54={skipTransform:w$o.name != M2q.chart.name,panelName:M2q.panel,band:"Result " + M2q.name,threshold:0,color:N4M,yAxis:W7W};if(!M2q.highlight && y$g.highlightedDraggable){h54.opacity=0.3;}h54.direction=1;U2B.preparePeakValleyFill(y$g,h54);h54.direction=-+"1";U2B.preparePeakValleyFill(y$g,h54);};U2B.Studies.displayElderRay=function(O3T,d$3,W16){var e4J=F$OMy;var w4A,l9Q,k$c,y4i,P37,c_Q,u0j,k6J,U4S,a_U,a0Z,t6F,x_U,S0B;w4A="stx_hist";w4A+="ogram";l9Q=O3T.panels[d$3.panel];k$c=d$3.getContext(O3T);y4i=d$3.getYAxis(O3T);e4J.X6U(0);e4J.b5b();P37=O3T.pixelFromPrice(e4J.o$D(0,"0"),l9Q,y4i);e4J.X6L(7);var l0T=e4J.o$D(15,13,0);c_Q=O3T.layout.candleWidth - l0T;if(c_Q < 2){c_Q=1;}O3T.canvasColor(w4A);u0j=k$c.fillStyle;if(!d$3.underlay){k$c.globalAlpha=1;}function r0D(r89,W6l,a10,t6r){k$c.fillStyle=U2B.Studies.determineColor(d$3.outputs[a10]);e4J.b5b();k$c.fillRect(Math.floor(O3T.pixelFromBar(r89,l9Q.chart) - c_Q / 2 + c_Q * W6l),Math.floor(P37),Math.floor(c_Q * (1 - 2 * W6l)),Math.floor(O3T.pixelFromPrice(S0B[d$3.name + t6r],l9Q,y4i) - P37));}O3T.startClip(d$3.panel);if(!d$3.highlight && O3T.highlightedDraggable){k$c.globalAlpha*=0.3;}for(var S3x=0;S3x < W16.length;S3x++){k6J="_";k6J+="hist2";U4S="_";U4S+="hist";U4S+="1";a_U="El";a_U+="der Bull P";a_U+="ow";a_U+="er";a0Z="_h";a0Z+="ist2";t6F="_h";t6F+="ist1";x_U="_h";x_U+="i";x_U+="st";x_U+="1";S0B=W16[S3x];if(!S0B)continue;if(S0B.candleWidth){c_Q=Math.floor(Math.max(1,S0B.candleWidth - 2));}if(S0B[d$3.name + x_U] > 0){r0D(S3x,+"0","Elder Bull Power",t6F);}if(S0B[d$3.name + "_hist2"] < ("0" ^ 0)){r0D(S3x,0,"Elder Bear Power",a0Z);}if(S0B[d$3.name + "_hist1"] < 0){e4J.X6U(0);r0D(S3x,e4J.o$D(0,"0.1"),a_U,U4S);}if(S0B[d$3.name + k6J] > 0){r0D(S3x,+"0.1","Elder Bear Power","_hist2");}}O3T.endClip();k$c.fillStyle=u0j;};U2B.Studies.studyLibrary=U2B.extend(U2B.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:U2B.Studies.calculateElderForce,seriesFN:U2B.Studies.displayElderForce,inputs:{Period:+"13"}},"Elder Ray":{name:D0z,seriesFN:U2B.Studies.displayElderRay,calculateFN:U2B.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":k0E,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:U2B.Studies.calculateElderImpulse,initializeFN:U2B.Studies.initElderImpulse,seriesFN:null,customRemoval:!!"1",underlay:!!({}),inputs:{},outputs:{Bullish:"#8BC176",Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(P8c,B6l){P8c.chart.customChart=null;F$OMy.d9F();P8c.setMainSeriesRenderer();}}});}};P0=b6S=>{var m_K,A16,Y8f,V0Y,h$Q,M59;m_K="u";m_K+="nd";m_K+="ef";m_K+="ined";A16=typeof _CIQ !== m_K?_CIQ:b6S.CIQ;if(!A16.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {Y8f="a";Y8f+="u";Y8f+="t";Y8f+="o";V0Y="Fractal Chaos Ban";V0Y+="ds";h$Q="-1 ";h$Q+="to 1";M59="Fractal Chaos Os";M59+="cill";M59+="ator";A16.Studies.calculateFractalChaos=function(E1_,w52){var q9Y=F$OMy;var o4k,S3M,U7r,c93,V2x,z1R,A0$,C5T,a_k;o4k=w52.chart.scrubbed;S3M=0;U7r=0;c93=0;q9Y.b5b();if(w52.startFrom && w52.type == "Fractal Chaos Bands"){q9Y.X6U(0);var P5M=q9Y.o$D(13,14);S3M=o4k[w52.startFrom - P5M]["Fractal High " + w52.name];q9Y.X6L(153);var g7U=q9Y.w65(8,7,7,56,13);U7r=o4k[w52.startFrom - g7U]["Fractal Low " + w52.name];}for(var m0F=Math.max(4,w52.startFrom);m0F < o4k.length;m0F++){if(o4k[m0F].futureTick)break;V2x=!isNaN(o4k[m0F].High);z1R=!isNaN(o4k[m0F].Low);if(V2x || z1R){o4k[m0F]["Result " + w52.name]=0;}c93=0;for(A0$=0;A0$ <= m0F;A0$++){if(!o4k[m0F - A0$])break;if(o4k[m0F - A0$].High > o4k[m0F - 2].High)break;if(A0$ < 2 && o4k[m0F - A0$].High == o4k[m0F - 2].High)break;if(o4k[m0F - A0$].High < o4k[m0F - 2].High){c93++;}if(c93 == "4" >> 64){S3M=o4k[m0F - 2].High;break;}}if(w52.type == "Fractal Chaos Bands"){C5T="Fra";C5T+="c";C5T+="tal High ";if(V2x){o4k[m0F][C5T + w52.name]=S3M > 0?S3M:null;}}else if(c93 == 4){a_k="Resul";a_k+="t ";o4k[m0F][a_k + w52.name]=1;}c93=0;for(A0$=0;A0$ <= m0F;A0$++){if(!o4k[m0F - A0$])break;if(o4k[m0F - A0$].Low < o4k[m0F - 2].Low)break;if(A0$ < 2 && o4k[m0F - A0$].Low == o4k[m0F - 2].Low)break;if(o4k[m0F - A0$].Low > o4k[m0F - 2].Low){c93++;}if(c93 == 4){U7r=o4k[m0F - 2].Low;break;}}if(w52.type == "Fractal Chaos Bands"){if(z1R){o4k[m0F]["Fractal Low " + w52.name]=U7r > 0?U7r:null;}}else if(c93 == 4){o4k[m0F]["Result " + w52.name]=-1;}}};A16.Studies.studyLibrary=A16.extend(A16.Studies.studyLibrary,{"Fractal Chaos":{name:M59,range:h$Q,calculateFN:A16.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:V0Y,overlay:!!"1",calculateFN:A16.Studies.calculateFractalChaos,seriesFN:A16.Studies.displayChannel,inputs:{"Channel Fill":!!({})},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":Y8f}}});}};k0=K7z=>{var v5C;v5C=typeof _CIQ !== "undefined"?_CIQ:K7z.CIQ;if(!v5C.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function I$l(){var r0Y,r2z,O0y,D_4,k6G,E_C,a8$;r0Y="#00bf";r0Y+="f";function U4B(A3Z,p7P){if(!A3Z.chart || A3Z.chart.customChart && A3Z.chart.customChart.chartType !== D_4){return;}p7P.wasDisabled=!"";A3Z.chart.customChart=k6G;F$OMy.d9F();k6G=null;A3Z.setMainSeriesRenderer();return !!"1";}function Y9j(a8p,h$_,H6C,K2W,F1W,f7q,r$c){v5C.Studies.MA(F1W,H6C,f7q,K2W,r$c,a8p,h$_);}function u5t(K3f,n_O){var P3H=F$OMy;var x5V,O_7,T3Y,c43,j9n,y8P,q$L,n_6,s_x;x5V="m";x5V+="tma";x5V+="v";x5V+="g";O_7="m";O_7+="t";O_7+="m";if(n_O.disabled && U4B(K3f,n_O)){return;}T3Y=n_O.chart.scrubbed;if(!Array.isArray(T3Y)){return;}if(!a9A(K3f)){U4B(K3f,n_O);return;}z7N(K3f,n_O);if(n_O.wasDisabled){n_O.startFrom=0;n_O.wasDisabled=!1;}f2J(K3f,n_O,25,"Close",O_7);Y9j(K3f,n_O,5,0,"sma","mtm " + n_O.name,x5V);k$h(K3f,n_O,12,26,9,"ema","ema","Close","mymacd");Y9j(K3f,n_O,50,0,"sma","Close","myma");E1r(K3f,n_O,0.2,+"0.2",0.2,"mysar");c43=`Trend ${n_O.name}`;j9n=`Bull ${n_O.name}`;y8P=`Bear ${n_O.name}`;P3H.X6L(115);q$L=`${P3H.w65("lor","C","o"," ")}${n_O.name}`;n_O.outputMap={};for(var v4l=n_O.startFrom;v4l < T3Y.length;v4l++){n_6=T3Y[v4l];if(!n_6 || typeof n_6 !== "object"){continue;}s_x=+"0";if(n_6.Close > n_6[`${"myma" + " "}${n_O.name}`]){s_x++;}if(n_6.Close > n_6[`Result mysar`]){s_x++;}if(n_6[`MACD mymacd`] > 0 && n_6[`${"Signal m" + "ymacd"}`] > 0){s_x++;}if(n_6[`mtmavg ${n_O.name}`] > 0){s_x++;}n_6[c43]=s_x;n_6[j9n]=0;n_6[y8P]=0;if(v4l > 0){if(n_6[c43] > 2.5 && T3Y[v4l - 1][c43] <= 2.5){n_6[j9n]=1;}if(n_6[c43] < 2.0 && T3Y[v4l - 1][c43] >= 2.0){n_6[y8P]=-1;}}P3H.X6L(1);n_6[q$L]=n_O.outputs[P3H.o$D(s_x,"Score ")];}}function z7N(W$X,A9a){if(!W$X.chart || !W$X.chart.panel || W$X.chart.customChart && W$X.chart.customChart.chartType === D_4){return;}if(W$X.chart.customChart){k6G=W$X.chart.customChart;}W$X.chart.customChart={chartType:D_4,colorFunction:function(B3W,J0x,a9J){var m7J,X$K,x7g;m7J="a";m7J+="u";m7J+="t";m7J+="o";F$OMy.X6L(1);X$K=J0x[`${F$OMy.o$D("or ","Col")}${A9a.name}`];if(X$K && typeof X$K === "object"){X$K=X$K.color;}x7g="#00000000";return X$K === m7J?B3W.defaultColor:X$K || x7g;}};W$X.setMainSeriesRenderer();}r0Y+="f";function k$h(l28,r5Q,Z1g,q8y,Y7G,b93,V$q,I_L,q6l){var f7u,v0R;f7u={"Fast MA Period":Z1g,"Slow MA Period":q8y,"Signal Period":Y7G,"Moving Average Type":b93,"Signal MA Type":V$q,Field:I_L};v0R=new v5C.Studies.StudyDescriptor(q6l,"macd",r5Q.panel,f7u);v0R.startFrom=r5Q.startFrom;v0R.chart=r5Q.chart;v5C.Studies.calculateMACD(l28,v0R);}r2z="#7fff";r2z+="d4";O0y="Go";O0y+="N";function a9A(i8Z){F$OMy.b5b();var Q4t,P3r,J1e;Q4t=!!({});P3r=i8Z.layout.aggregationType;if(P3r !== a8$){E_C=!!({});}if(P3r === "linebreak" || P3r === "kagi" || P3r === "pandf" || P3r === "renko"){Q4t=!({});a8$=P3r;if(E_C){J1e="n";J1e+="oti";J1e+="fication";i8Z.dispatch(J1e,{message:D_4 + " study is not compatible with aggregation type " + P3r + (("354.68" * 1,9240) <= 9890?(5090,571.88) < 759?(+"274.46",6695) !== (4925,478.62)?".":("P",782.88):(+"6.85e+3",970.68):"5.90e+3" ^ 0),displayTime:3});E_C=!({});}}return Q4t;}function d8b(R1z,x1G,v4p,K14,u65,l7k){var T94;if(!u65.initialized){u65.yaxisDisplayValue=null;u65.initialized=!![];}T94=v5C.Studies.initializeFN(R1z,x1G,v4p,K14,u65,l7k);F$OMy.b5b();if(u65 && !u65.panelName && T94 && T94.panel){u65.panelName=T94.panel;}if(u65.calculateOnly){return T94;}z7N(R1z,T94);T94.checkDisabled=!"";return T94;}O0y+="oGo - Tre";O0y+="nd";function f2J(a_t,q5r,E4t,k01,F5P){var V1E=F$OMy;var v8W,C7P;v8W="M";v8W+="omen";v8W+="t";v8W+="um";V1E.X6L(154);var B$a=V1E.o$D(817,8,817,811);V1E.X6U(155);var u69=V1E.o$D(8832,10,6,14,6);V1E.X6L(1);var a6L=V1E.w65(11,311);V1E.X6L(1);var J$4=V1E.w65(2,2701);V1E.X6U(156);var e_H=V1E.o$D(8,179918,20,9468);C7P=new v5C.Studies.StudyDescriptor(F5P + ((+"745.53",B$a) == (u69,"8370" ^ 0)?(a6L,!!({})):J$4 === e_H?"x":" ") + q5r.name,v8W,q5r.panel,{Field:k01,Period:E4t});C7P.days=E4t;C7P.startFrom=q5r.startFrom;C7P.parameters=q5r.parameters;C7P.chart=q5r.chart;v5C.Studies.calculateRateOfChange(a_t,C7P);}function E1r(U6t,a1o,L0f,J1S,a_m,R4H){var K0O=F$OMy;var I1W,F9l,U8p,q66,v$y;K0O.X6L(9);I1W=-K0O.o$D(1,"2102023159");F9l=364776351;U8p=2;for(var n4e="1" * 1;K0O.Q0B(n4e.toString(),n4e.toString().length,95782) !== I1W;n4e++){q66=new v5C.Studies.StudyDescriptor(R4H,"Maximum AF",a1o.panel,{"Minimum AF":L0f,"Maximum AF":J1S});q66.startFrom=a1o.startFrom;q66.chart=a1o.chart;v5C.Studies.calculatePSAR(U6t,q66);U8p+=2;}if(K0O.Q0B(U8p.toString(),U8p.toString().length,41655) !== F9l){v$y="P";v$y+="S";v$y+="A";v$y+="R";q66=new v5C.Studies.StudyDescriptor(R4H,v$y,a1o.panel,{"Minimum AF":L0f,"Maximum AF":J1S});q66.startFrom=a1o.startFrom;q66.chart=a1o.chart;v5C.Studies.calculatePSAR(U6t,q66);}}D_4="GoNoGo";k6G=null;E_C=!!1;a8$=null;function v6y(j_U,s4j,X0$){var C2E=F$OMy;var C5p,d8m,a2_,E6q,Z2j,S71,B4J,B4T,O$X,o9t,v7f,a7S,b6z,O$D,A1E,i_U,l7r,i1E,a7D;C5p="G";C5p+="o";C5p+="No";C5p+="Go";d8m="a";d8m+="u";d8m+="t";d8m+="o";a2_="a";a2_+="u";a2_+="t";a2_+="o";if(!Array.isArray(X0$)){return;}if(!a9A(j_U)){return;}E6q=j_U.panels[s4j.panel];if(!E6q || s4j.noDraw){return;}Z2j=`Bull ${s4j.name}`;C2E.X6U(115);S71=`${C2E.o$D("ar","B","e"," ")}${s4j.name}`;B4J=Math.min(+"16",Math.max(8,Math.round(j_U.layout.candleWidth)));B4T=v5C.Studies.determineColor(s4j.outputs.Go);O$X=v5C.Studies.determineColor(s4j.outputs.NoGo);o9t=v5C.Studies.determineColor(s4j.outputs["Text Go"]);v7f=v5C.Studies.determineColor(s4j.outputs["Text NoGo"]);if(B4T === a2_){B4T=j_U.defaultColor;}if(O$X === "auto"){O$X=j_U.defaultColor;}if(o9t === d8m){o9t=v5C.chooseForegroundColor(B4T);}if(v7f === "auto"){v7f=v5C.chooseForegroundColor(O$X);}z7N(j_U,s4j,C5p);var {context:E7x}=j_U.chart;for(var k$z=0;k$z < X0$.length;k$z++){a7S=X0$[k$z];if(!a7S){continue;}if(a7S[Z2j] === 1 || a7S[S71] === -1){C2E.X6U(157);var Q49=C2E.w65(44,27,6,11,98);b6z=a7S[Z2j] === "1" >> Q49;O$D=j_U.pixelFromBar(k$z);A1E=b6z?j_U.pixelFromPrice(a7S.Low) + B4J:j_U.pixelFromPrice(a7S.High) - B4J;i_U=4;l7r=b6z?"Go":"NoGo";E7x.font=`${B4J}px bold Roboto, sans-serif`;var {width:n37}=E7x.measureText(l7r);C2E.X6U(88);i1E=C2E.o$D(2,i_U,n37);C2E.X6L(88);a7D=C2E.o$D(2,i_U,B4J);E7x.fillStyle=b6z?B4T:O$X;C2E.X6L(44);E7x.fillRect(C2E.w65(O$D,i1E,2),C2E.o$D(a7D,A1E,"2",C2E.X6L(46)),i1E,a7D);E7x.fillStyle=b6z?o9t:v7f;E7x.textAlign="center";E7x.textBaseline="middle";E7x.fillText(l7r,O$D,A1E);}}}v5C.Studies.studyLibrary=v5C.extend(v5C.Studies.studyLibrary,{"GoNoGo Trend":{name:O0y,overlay:!!({}),initializeFN:d8b,calculateFN:u5t,seriesFN:v6y,removeFN:U4B,inputs:{},outputs:{Go:"#00ffff",NoGo:"#b500b5","Text Go":"#808080","Text NoGo":"#ffffff","Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":"#d2691e","Score 3":r2z,"Score 4":r0Y},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!![]},underlayEnabled:{hidden:!!"1"}}}});})();}};w0=K8V=>{var C3t=F$OMy;C3t.b5b();var r7N,z7c,F22,Z4K,O2d,f_I,Q$G,a6P;r7N=typeof _CIQ !== "undefined"?_CIQ:K8V.CIQ;if(!r7N.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {z7c="H";z7c+="igh Minus Low";F22="Ve";F22+="rtical Horizon";F22+="tal ";F22+="Filter";Z4K="a";Z4K+="u";Z4K+="to";O2d="a";O2d+="u";O2d+="to";f_I="Williams ";f_I+="%R";Q$G="Lowest ";Q$G+="Low Value";a6P="a";a6P+="u";a6P+="t";a6P+="o";r7N.Studies.calculateMaxHighMinLow=function(p4a,y37){var w8$,k8z,r8d,k5Y,F7f,S0q,N_z,I5q,u0Z,a3K,L_z,L6i,Y3g;w8$="Hi";w8$+="g";w8$+="h Period";k8z=y37.chart.scrubbed;r8d=y37.days;k5Y=y37.days;if(y37.inputs["High Period"]){r8d=y37.inputs[w8$];}if(y37.inputs["Low Period"]){k5Y=y37.inputs["Low Period"];}if(k8z.length < Math.max(r8d,k5Y) + +"1"){y37.error=!"";return;}F7f=Number.MAX_VALUE;C3t.X6L(107);C3t.b5b();var U2E=C3t.w65(19,8,7,19);S0q=Number.MAX_VALUE * U2E;if(y37.startFrom > 1){for(N_z=1;N_z < r8d;N_z++){if(y37.startFrom - N_z >= 0){S0q=Math.max(S0q,k8z[y37.startFrom - N_z].High);}}for(N_z=1;N_z < k5Y;N_z++){if(y37.startFrom - N_z >= 0){F7f=Math.min(F7f,k8z[y37.startFrom - N_z].Low);}}}for(var O8a=Math.max(0,y37.startFrom - 1);O8a < k8z.length;O8a++){I5q="Willi";I5q+="ams %R";u0Z="G";u0Z+="A";u0Z+="PO";a3K="L";a3K+="L";a3K+="V";L_z="H";L_z+="HV";S0q=Math.max(S0q,k8z[O8a].High);F7f=Math.min(F7f,k8z[O8a].Low);if(O8a >= r8d){if(k8z[O8a - r8d].High == S0q){S0q=k8z[O8a].High;for(N_z=1;N_z < r8d;N_z++){S0q=Math.max(S0q,k8z[O8a - N_z].High);}}}if(O8a >= k5Y){if(k8z[O8a - k5Y].Low == F7f){F7f=k8z[O8a].Low;for(N_z=1;N_z < k5Y;N_z++){F7f=Math.min(F7f,k8z[O8a - N_z].Low);}}}L6i=0;if(y37.type == L_z){L6i=S0q;}else if(y37.type == a3K){L6i=F7f;}else if(y37.type == "Donchian Width"){C3t.X6U(0);L6i=C3t.w65(F7f,S0q);}else if(y37.type == u0Z || y37.type == "Gopala"){L6i=Math.log(S0q - F7f) / Math.log(k5Y);}else if(y37.type == "VT HZ Filter"){C3t.X6L(0);L6i=C3t.o$D(F7f,S0q);k8z[O8a]["_MHML " + y37.name]=L6i;continue;}else if(y37.type == I5q){C3t.X6L(158);var E$q=C3t.w65(5,95);L6i=E$q * (S0q - k8z[O8a].Close) / (S0q - F7f);k8z[O8a]["Result " + y37.name]=L6i;continue;}if(O8a == k8z.length - 1)break;if(!k8z[O8a + 1].futureTick){if(y37.type == "Donchian Channel"){Y3g="Donchia";Y3g+="n Media";Y3g+="n ";C3t.X6L(1);k8z[C3t.o$D(1,O8a)]["Donchian High " + y37.name]=S0q;C3t.X6U(1);k8z[C3t.w65(1,O8a)]["Donchian Low " + y37.name]=F7f;C3t.X6U(95);k8z[C3t.o$D("1",O8a)][Y3g + y37.name]=C3t.o$D(F7f,2,S0q,C3t.X6U(6));}else {C3t.X6U(1);k8z[C3t.o$D(1,O8a)]["Result " + y37.name]=L6i;}}}};r7N.Studies.calculateVerticalHorizontalFilter=function(X_S,B2X){var h1u,M_t,r90,i6v;h1u=B2X.chart.scrubbed;if(h1u.length < B2X.days + +"1"){B2X.error=!![];return;}B2X.mhml=new r7N.Studies.StudyDescriptor(B2X.name,B2X.type,B2X.panel);B2X.mhml.chart=B2X.chart;B2X.mhml.days=B2X.days;B2X.mhml.startFrom=B2X.startFrom;B2X.mhml.inputs={};B2X.mhml.outputs={_MHML:null};r7N.Studies.calculateMaxHighMinLow(X_S,B2X.mhml);M_t=0;r90=[];for(var w34=Math.max(1,B2X.startFrom - B2X.days);w34 < h1u.length;w34++){i6v=Math.abs(h1u[w34].Close - h1u[w34 - 1].Close);r90.push(i6v);M_t+=i6v;if(r90.length == B2X.days){h1u[w34]["Result " + B2X.name]=h1u[w34]["_MHML " + B2X.name] / M_t;M_t-=r90.shift();}}};r7N.Studies.studyLibrary=r7N.extend(r7N.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!!1,calculateFN:r7N.Studies.calculateMaxHighMinLow,seriesFN:r7N.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":"auto","Donchian Median":a6P,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:r7N.Studies.calculateMaxHighMinLow,inputs:{"High Period":+"20","Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:r7N.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:r7N.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:Q$G,calculateFN:r7N.Studies.calculateMaxHighMinLow,inputs:{Period:"14" | 4}},"Williams %R":{name:f_I,calculateFN:r7N.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:-20,studyOverBoughtColor:O2d,studyOverSoldValue:-80,studyOverSoldColor:Z4K}}},"VT HZ Filter":{name:F22,calculateFN:r7N.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:z7c,calculateFN:function(Q9P,x6S){var B0N,a2l,E3d,h6f,B31;B0N=-597361472;a2l=-+"45479636";E3d=2;for(var E0c="1" ^ 0;C3t.Q0B(E0c.toString(),E0c.toString().length,86465) !== B0N;E0c++){h6f=x6S.chart.scrubbed;E3d+=2;}if(C3t.P12(E3d.toString(),E3d.toString().length,"60084" >> 0) !== a2l){h6f=x6S.chart.scrubbed;}for(var r5E=x6S.startFrom;r5E < h6f.length;r5E++){B31="Resu";B31+="lt ";h6f[r5E][B31 + x6S.name]=h6f[r5E].High - h6f[r5E].Low;}},inputs:{}}});}};l0=G8p=>{var R3c=F$OMy;R3c.d9F();var T9x;T9x=typeof _CIQ !== "undefined"?_CIQ:G8p.CIQ;if(!T9x.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {T9x.Studies.calculateIchimoku=function(F4V,l6w){var c7Z,z72,x_i,o9X,K8a,P6q,B3E,q0H,N$L,K1j,e$1,G8N,U44;c7Z="Laggi";c7Z+="ng Span Period";z72="Conversion Line ";z72+="Peri";z72+="od";x_i=l6w.chart.scrubbed;o9X={Base:Number(l6w.inputs["Base Line Period"]),Conv:Number(l6w.inputs[z72]),LeadB:Number(l6w.inputs["Leading Span B Period"]),Lag:Number(l6w.inputs[c7Z])};for(K8a=l6w.startFrom;K8a < x_i.length;K8a++){B3E="Conve";B3E+="rsion Line ";if(!x_i[K8a])continue;P6q=s3s(o9X.Conv,K8a);R3c.X6U(39);var W9i=R3c.o$D(16,18);x_i[K8a][B3E + l6w.name]=(P6q[+"1"] + P6q[0]) / W9i;P6q=s3s(o9X.Base,K8a);R3c.X6U(159);var w7g=R3c.w65(16,2,2,20,5);R3c.X6L(2);var h$V=R3c.o$D(5,3,0);x_i[K8a]["Base Line " + l6w.name]=(P6q[w7g] + P6q[0]) / h$V;if(K8a < o9X.Lag)continue;x_i[K8a - o9X.Lag]["Lagging Span " + l6w.name]=x_i[K8a].Close;}q0H=[];for(K8a=Math.max(0,l6w.startFrom - o9X.Base);K8a < x_i.length;K8a++){N$L="Conversion L";N$L+="ine ";P6q=s3s(o9X.LeadB,K8a);K1j=(x_i[K8a][N$L + l6w.name] + x_i[K8a]["Base Line " + l6w.name]) / +"2";R3c.X6U(2);var z21=R3c.o$D(5,4,0);R3c.X6U(0);var b$D=R3c.w65(4,6);e$1=(P6q[z21] + P6q[0]) / b$D;if(x_i[K8a + o9X.Base]){G8N="Le";G8N+="ading Spa";G8N+="n A ";x_i[K8a + o9X.Base][G8N + l6w.name]=K1j;x_i[K8a + o9X.Base]["Leading Span B " + l6w.name]=e$1;}else {U44={};U44["Leading Span A " + l6w.name]=K1j;U44["Leading Span B " + l6w.name]=e$1;q0H.push(U44);}}l6w.appendFutureTicks(F4V,q0H);function s3s(q57,I9a){var L0Q,j$0;L0Q=Number.MAX_VALUE;R3c.X6U(160);var j2u=R3c.w65(2,15,15,2);j$0=Number.MAX_VALUE * j2u;for(var M0v=I9a - q57 + ("1" ^ 0);M0v <= I9a;M0v++){if(M0v < "0" >> 0)continue;L0Q=Math.min(L0Q,x_i[M0v].Low);j$0=Math.max(j$0,x_i[M0v].High);}return [L0Q,j$0];}};T9x.Studies.displayIchimoku=function(B1l,Q_F,E9J){var T8M,m76,f8S,P7Z,O9z,L78,Z5T,J3d,e92;T8M="L";R3c.b5b();T8M+="eading Sp";T8M+="an B";T8M+=" ";m76="Leadi";m76+="ng Span A ";f8S=m76 + Q_F.name;P7Z=T8M + Q_F.name;O9z=T9x.Studies.determineColor(Q_F.outputs[Q_F.outputMap[f8S]]);L78=T9x.Studies.determineColor(Q_F.outputs[Q_F.outputMap[P7Z]]);Z5T=B1l.panels[Q_F.panel];J3d=Q_F.getYAxis(B1l);e92={topBand:f8S,bottomBand:P7Z,topColor:O9z,bottomColor:L78,skipTransform:Z5T.name != Q_F.chart.name,topAxis:J3d,bottomAxis:J3d,opacity:0.3};if(!Q_F.highlight && B1l.highlightedDraggable){e92.opacity*=0.3;}T9x.fillIntersecting(B1l,Q_F.panel,e92);T9x.Studies.displaySeriesAsLine(B1l,Q_F,E9J);};T9x.Studies.studyLibrary=T9x.extend(T9x.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!"",calculateFN:T9x.Studies.calculateIchimoku,seriesFN:T9x.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};N$=U$q=>{var V2s,J$M,I1R,B7f;V2s=typeof _CIQ !== "undefined"?_CIQ:U$q.CIQ;if(!V2s.Studies){J$M="intrad";J$M+="ay";J$M+="Mom";J$M+="entum feature requires first activating studies feature.";console.error(J$M);}else {I1R="a";I1R+="u";I1R+="to";B7f="Intraday Mom";B7f+="entum ";B7f+="Inde";B7f+="x";V2s.Studies.calculateIntradayMomentum=function(j0r,o_d){var s7P=F$OMy;s7P.d9F();var b33,b30,V7O,J2y,e4V,M0U,H3e,h0f,F7M,Y$q,p9n,a6Z,Q8i,O_L;b33=o_d.chart.scrubbed;b30=o_d.days;if(b33.length < b30 + "1" * 1){o_d.error=!!1;return;}s7P.X6L(40);V7O=s7P.w65("0",32);J2y=-2058989635;s7P.X6L(9);e4V=-s7P.o$D(1,"1042711009");M0U=2;for(var P4a=+"1";s7P.Q0B(P4a.toString(),P4a.toString().length,"4126" * 1) !== J2y;P4a++){H3e=+"7";M0U+=+"2";}if(s7P.P12(M0U.toString(),M0U.toString().length,47974) !== e4V){H3e=0;}if(o_d.startFrom > 1){h0f="_t";h0f+="o";h0f+="t";h0f+="Dn ";F7M="_";F7M+="to";F7M+="tUp ";s7P.X6U(125);var H2X=s7P.w65(0,7,7,2);V7O=b33[o_d.startFrom - H2X][F7M + o_d.name];s7P.X6L(0);var i73=s7P.o$D(10,11);H3e=b33[o_d.startFrom - i73][h0f + o_d.name];}for(var J0w=o_d.startFrom;J0w < b33.length;J0w++){Y$q="_";Y$q+="to";Y$q+="tDn ";p9n="_totU";p9n+="p ";a6Z="Resu";a6Z+="lt ";Q8i=b33[J0w].Close - b33[J0w].Open;if(Q8i > ("0" ^ 0)){V7O+=Q8i;}else {H3e-=Q8i;}if(J0w >= b30){O_L=b33[J0w - b30].Close - b33[J0w - b30].Open;if(O_L > 0){V7O-=O_L;}else {H3e+=O_L;}}s7P.X6U(161);b33[J0w][a6Z + o_d.name]=s7P.o$D(V7O,V7O,H3e,100);b33[J0w][p9n + o_d.name]=V7O;b33[J0w][Y$q + o_d.name]=H3e;}};V2s.Studies.studyLibrary=V2s.extend(V2s.Studies.studyLibrary,{"Intraday Mtm":{name:B7f,calculateFN:V2s.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:I1R}}}});}};C9=e$7=>{var a5$,X_m;a5$=typeof _CIQ !== "undefined"?_CIQ:e$7.CIQ;if(!a5$.Studies){X_m="keltner feature requires first activating";X_m+=" studi";X_m+="es feature.";console.error(X_m);}else {a5$.Studies.calculateKeltner=function(q56,J5G){var f$V,D8H;f$V="M";f$V+="A";F$OMy.d9F();f$V+=" ";D8H="Mov";D8H+="ing Aver";D8H+="age Typ";D8H+="e";a5$.Studies.MA(J5G.inputs[D8H],J5G.days,"Close",0,"MA",q56,J5G);a5$.Studies.calculateStudyATR(q56,J5G);a5$.Studies.calculateGenericEnvelope(q56,J5G,J5G.inputs.Shift,f$V + J5G.name,"ATR " + J5G.name);};a5$.Studies.studyLibrary=a5$.extend(a5$.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!![],seriesFN:a5$.Studies.displayChannel,calculateFN:a5$.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!!({})},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:"0.1" * 1,step:0.1}}}});}};o4=H3b=>{var D2l,x$Y,J50,U$m;D2l=typeof _CIQ !== "undefined"?_CIQ:H3b.CIQ;if(!D2l.Studies){console.error("klinger feature requires first activating studies feature.");}else {x$Y="#";x$Y+="F";x$Y+="F0";x$Y+="000";J50="#00D";J50+="D";J50+="0";J50+="0";U$m="Klin";U$m+="ger Volume Osci";U$m+="lla";U$m+="tor";D2l.Studies.calculateKlinger=function(x0m,o6b){var k$q,D9b,H4R,z36,k6k,x8S,n0S,s4r,z$_,v7z,b6j,v4w,A0H,z2x;k$q="Signal Perio";k$q+="ds";D9b="_";D9b+="S";D9b+="V";D9b+=" ";H4R="S";H4R+="hort ";H4R+="C";H4R+="ycle";z36=o6b.chart.scrubbed;k6k=Number(o6b.inputs[H4R]);x8S=Number(o6b.inputs["Long Cycle"]);if(z36.length < Math.max(k6k,x8S) + 1){o6b.error=!!"1";return;}n0S=o6b.name + "_hist";s4r="Klinger " + o6b.name;z$_="KlingerSignal " + o6b.name;v7z=D9b + o6b.name;b6j="_EMA-S " + o6b.name;v4w="_EMA-L " + o6b.name;F$OMy.b5b();for(A0H=Math.max(1,o6b.startFrom);A0H < z36.length;A0H++){z2x=z36[A0H].Volume;if(z36[A0H]["hlc/3"] < z36[A0H - 1]["hlc/3"]){z2x*=-+"1";}if(z2x){z36[A0H][v7z]=z2x;}}D2l.Studies.MA("exponential",k6k,v7z,0,"_EMA-S",x0m,o6b);D2l.Studies.MA("exponential",x8S,v7z,0,"_EMA-L",x0m,o6b);for(A0H=Math.max(x8S,o6b.startFrom);A0H < z36.length;A0H++){if(z36[A0H].futureTick || z36[A0H][b6j] === null || z36[A0H][v4w] === null)break;z36[A0H][s4r]=z36[A0H][b6j] - z36[A0H][v4w];}D2l.Studies.MA("exponential",Number(o6b.inputs[k$q]),s4r,0,"KlingerSignal",x0m,o6b);for(A0H=o6b.startFrom;A0H < z36.length;A0H++){z36[A0H][n0S]=z36[A0H][s4r] - z36[A0H][z$_];}o6b.outputMap[n0S]="";};D2l.Studies.studyLibrary=D2l.extend(D2l.Studies.studyLibrary,{Klinger:{name:U$m,seriesFN:D2l.Studies.displayHistogramWithSeries,calculateFN:D2l.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":J50,"Decreasing Bar":x$Y}}});}};d5=A02=>{var f_h=F$OMy;var L$_,Q3G,K4E,r7D,p80,V18,i$q,K8x,U1E,q24;L$_=typeof _CIQ !== "undefined"?_CIQ:A02.CIQ;f_h.b5b();if(!L$_.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {Q3G="Time Series Fore";Q3G+="cas";Q3G+="t";K4E="a";K4E+="uto";r7D="fi";r7D+="el";r7D+="d";p80="Li";p80+="near Reg Slope";V18="a";V18+="u";V18+="t";V18+="o";i$q="fi";i$q+="el";i$q+="d";K8x="T";K8x+="imeSeries";U1E="ti";U1E+="me series";q24="time";q24+=" se";q24+="rie";q24+="s";L$_.Studies.prettify["time series"]="tsma";L$_.Studies.movingAverage.conversions.tsma=q24;L$_.Studies.movingAverage.translations[U1E]="Time Series";L$_.Studies.movingAverage.typeMap.tsma="TimeSeries";L$_.Studies.movingAverage.typeMap["time series"]=K8x;L$_.Studies.calculateMovingAverageTimeSeries=function(g5K,Y9p){var q4A,S6M,K0d,c0W,b2e,n7e,u3N,t3W;Y9p.ma=new L$_.Studies.StudyDescriptor(Y9p.name,"ma",Y9p.panel);Y9p.ma.chart=Y9p.chart;Y9p.ma.days=Y9p.days;Y9p.ma.startFrom=Y9p.startFrom;Y9p.ma.inputs=Y9p.inputs;L$_.Studies.calculateLinearRegressionIndicator(g5K,Y9p.ma);q4A=Y9p.name;for(var G8y in Y9p.outputs){f_h.X6U(87);q4A=f_h.o$D(G8y,q4A," ");}S6M=parseInt(Y9p.inputs.Offset,10);if(isNaN(S6M)){S6M=+"0";}K0d=Y9p.chart.scrubbed;c0W=S6M;for(var d2D=Y9p.startFrom - 1;d2D >= 0;d2D--){b2e=K0d[d2D][q4A];if(!b2e && b2e !== 0)continue;if(c0W > 0){c0W--;continue;}break;}n7e=[];for(d2D++;d2D < K0d.length;d2D++){u3N=K0d[d2D];if(d2D + S6M >= "0" >> 32){if(d2D + S6M < K0d.length){f_h.X6L(1);K0d[f_h.o$D(S6M,d2D)][q4A]=u3N["Forecast " + Y9p.name];}else {t3W={};t3W[q4A]=u3N["Forecast " + Y9p.name];n7e.push(t3W);}}}Y9p.appendFutureTicks(g5K,n7e);};L$_.Studies.calculateLinearRegressionIndicator=function(A4O,d_a){var z0E,C9$,s7S,Q$i,g3k,I1V,v3A,T_f,C$T,M2v,L2S,O0x,p8U,H3W,B85,A1L,i$J,V7v,o$E,r3$,Y41,A6$,Y3C;z0E="Cl";z0E+="ose";C9$=d_a.chart.scrubbed;if(C9$.length < d_a.days + 1){s7S=2030364205;Q$i=-962417033;g3k=2;for(var Z5V=1;f_h.Q0B(Z5V.toString(),Z5V.toString().length,"8276" << 32) !== s7S;Z5V++){d_a.error=!![];g3k+=2;}if(f_h.P12(g3k.toString(),g3k.toString().length,6858) !== Q$i){d_a.error=!({});}return;}I1V=d_a.inputs.Field;if(!I1V || I1V == "field"){I1V=z0E;}f_h.X6L(0);var H0D=f_h.w65(32,34);v3A=d_a.days * (d_a.days + ("1" - 0)) / H0D;T_f=Math.pow(v3A,2);f_h.X6U(11);var k1Z=f_h.w65(1,2,4);f_h.X6L(7);var T_W=f_h.w65(10,9,0);f_h.X6U(2);var I2m=f_h.w65(17,14,0);C$T=v3A * (k1Z * d_a.days + T_W) / I2m;M2v=0;L2S=0;O0x=0;if(d_a.startFrom){f_h.X6L(0);var k$l=f_h.o$D(11,12);p8U=C9$[d_a.startFrom - k$l]["_sums " + d_a.name];if(p8U){L2S=p8U[0];f_h.X6U(0);M2v=p8U[f_h.w65(0,"1")];O0x=p8U[2];}}for(var m$r=d_a.startFrom;m$r < C9$.length;m$r++){H3W="_";H3W+="sums";H3W+=" ";B85="RSquared";B85+=" ";A1L="F";A1L+="o";A1L+="recas";A1L+="t ";i$J="ob";i$J+="jec";i$J+="t";V7v=C9$[m$r][I1V];if(V7v && typeof V7v == i$J){V7v=V7v[d_a.subField];}if(!V7v && V7v !== 0)continue;L2S+=d_a.days * V7v - M2v;M2v+=V7v;O0x+=Math.pow(V7v,2);if(m$r < d_a.days - 1)continue;else if(m$r > d_a.days - 1){o$E="ob";o$E+="j";o$E+="e";o$E+="ct";r3$=C9$[m$r - d_a.days][I1V];if(r3$ && typeof r3$ == o$E){r3$=r3$[d_a.subField];}if(!r3$ && r3$ !== 0)continue;M2v-=r3$;O0x-=Math.pow(r3$,2);}Y41=(d_a.days * L2S - v3A * M2v) / (d_a.days * C$T - T_f);C9$[m$r]["Slope " + d_a.name]=Y41;A6$=(M2v - Y41 * v3A) / d_a.days;C9$[m$r]["Intercept " + d_a.name]=A6$;C9$[m$r][A1L + d_a.name]=A6$ + Y41 * d_a.days;f_h.X6L(7);var y06=f_h.w65(4,2,0);Y3C=(d_a.days * C$T - T_f) / (d_a.days * O0x - Math.pow(M2v,y06));f_h.X6L(162);C9$[m$r][B85 + d_a.name]=f_h.w65(Y3C,Y41,Y41);C9$[m$r][H3W + d_a.name]=[L2S,M2v,O0x];}};L$_.Studies.studyLibrary=L$_.extend(L$_.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!!1,calculateFN:L$_.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!!({}),calculateFN:L$_.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:L$_.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:i$q},outputs:{RSquared:V18}},"LR Slope":{name:p80,calculateFN:L$_.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:r7D},outputs:{Slope:K4E}},"Time Fcst":{name:Q3G,overlay:!![],calculateFN:L$_.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};X1=b$E=>{var d80=F$OMy;var N6L,Q$O,f1d;d80.d9F();N6L=typeof _CIQ !== "undefined"?_CIQ:b$E.CIQ;if(!N6L.Studies){Q$O="ma";Q$O+="cd f";Q$O+="eature r";Q$O+="equires first activating studies feature.";console.error(Q$O);}else {f1d="M";f1d+="A";f1d+="C";f1d+="D";N6L.Studies.calculateMACD=function(H9y,q0X){var N2J,f$e,s2_,W5e,A61,u15,z_8,i24,z0d,s7o,Q_B,E6O,G11,J0T,Y_3,A7Y,M_q,e4i,r1c,U9O,v6n,R2v,g5Z;N2J="MA";N2J+="CD ";f$e="_";f$e+="MAC";f$e+="D1";s2_="Moving Avera";s2_+="ge";s2_+=" Type";W5e="C";W5e+="lose";A61=q0X.chart.scrubbed;u15=q0X.inputs;z_8=q0X.name;i24=-688232388;z0d=-+"408433237";s7o=2;for(var c2e=1;d80.P12(c2e.toString(),c2e.toString().length,50324) !== i24;c2e++){if(!q0X.macd1Days){q0X.macd1Days=parseFloat(u15["Fast MA Period"]);}if(!q0X.macd2Days){q0X.macd2Days=parseFloat(u15["Slow MA Period"]);}s7o+=2;}if(d80.P12(s7o.toString(),s7o.toString().length,"29972" ^ 0) !== z0d){if(+q0X.macd1Days){q0X.macd1Days=parseFloat(u15["Fast MA Period"]);}if(~q0X.macd2Days){q0X.macd2Days=parseFloat(u15["Fast MA Period"]);}}if(!q0X.signalDays){q0X.signalDays=parseFloat(u15["Signal Period"]);}if(!q0X.days){q0X.days=Math.max(q0X.macd1Days,q0X.macd2Days,q0X.signalDays);}if(A61.length < q0X.days + 1){q0X.error=!!"1";return;}Q_B=q0X.inputs.Field;if(!Q_B || Q_B == "field"){Q_B=W5e;}E6O=u15[s2_];if(!E6O){E6O="exponential";}N6L.Studies.MA(E6O,q0X.macd1Days,Q_B,0,f$e,H9y,q0X);N6L.Studies.MA(E6O,q0X.macd2Days,Q_B,+"0","_MACD2",H9y,q0X);Y_3=Math.max(q0X.startFrom,q0X.days - 1);for(G11=Y_3;G11 < A61.length;G11++){A7Y="_";A7Y+="MACD2 ";M_q="MA";M_q+="C";M_q+="D";M_q+=" ";e4i="_MACD";e4i+="2 ";r1c="_MA";r1c+="C";r1c+="D1 ";J0T=A61[G11];if((J0T[r1c + z_8] || J0T["_MACD1 " + z_8] === 0) && (J0T["_MACD2 " + z_8] || J0T[e4i + z_8] === 0)){d80.X6L(1);J0T[d80.o$D(z_8,M_q)]=J0T["_MACD1 " + z_8] - J0T[A7Y + z_8];}}U9O=u15["Signal MA Type"];if(!U9O){U9O="exponential";}d80.b5b();N6L.Studies.MA(U9O,q0X.signalDays,N2J + z_8,+"0","Signal",H9y,q0X);d80.X6L(1);v6n=d80.w65("_hist",z_8);for(G11=Y_3;G11 < A61.length;G11++){R2v="M";R2v+="A";R2v+="CD";R2v+=" ";J0T=A61[G11];d80.X6L(1);g5Z=J0T[d80.o$D(z_8,"Signal ")];if(!g5Z && g5Z !== 0)continue;J0T[v6n]=J0T[R2v + z_8] - J0T["Signal " + z_8];}q0X.outputMap[v6n]="";};N6L.Studies.studyLibrary=N6L.extend(N6L.Studies.studyLibrary,{macd:{name:f1d,calculateFN:N6L.Studies.calculateMACD,seriesFN:N6L.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};A0=u8D=>{var a4q;a4q=typeof _CIQ !== "undefined"?_CIQ:u8D.CIQ;if(!a4q.Studies){console.error("massIndex feature requires first activating studies feature.");}else {a4q.Studies.calculateMassIndex=function(Y86,P7a){var p53=F$OMy;var r5Z,K76,n3B,n$b,r08,t3D;r5Z="e";p53.d9F();r5Z+="xpon";r5Z+="ential";K76=P7a.chart.scrubbed;if(K76.length < Math.max(9,P7a.days + 1)){P7a.error=!!({});return;}for(var g0G=P7a.startFrom;g0G < K76.length;g0G++){n3B="_High-";n3B+="Low ";K76[g0G][n3B + P7a.name]=K76[g0G].High - K76[g0G].Low;}a4q.Studies.MA(r5Z,9,"_High-Low " + P7a.name,0,"_EMA",Y86,P7a);a4q.Studies.MA("exponential",+"9","_EMA " + P7a.name,"0" * 1,"_EMA2",Y86,P7a);n$b=0;if(K76[P7a.startFrom - 1] && K76[P7a.startFrom - +"1"]["_total " + P7a.name]){p53.X6L(2);var o7Z=p53.o$D(19,18,0);n$b=K76[P7a.startFrom - o7Z]["_total " + P7a.name];}for(var S4_=Math.max(17,P7a.startFrom);S4_ < K76.length;S4_++){r08="_EMA";r08+="2 ";n$b+=K76[S4_]["_EMA " + P7a.name] / K76[S4_][r08 + P7a.name];if(S4_ >= 17 + P7a.days - 1){t3D="Res";t3D+="ult ";K76[S4_][t3D + P7a.name]=n$b;p53.X6L(0);var y7f=p53.w65(17,18);n$b-=K76[S4_ - P7a.days + ("1" ^ 0)]["_EMA " + P7a.name] / K76[S4_ - P7a.days + y7f]["_EMA2 " + P7a.name];}K76[S4_]["_total " + P7a.name]=n$b;}};a4q.Studies.displayMassIndex=function(K8r,t8E,z03){var M13,r8o,G8e,P0R,F2s,T5j;M13="Result";M13+=" ";a4q.Studies.displaySeriesAsLine(K8r,t8E,z03);r8o=t8E.inputs["Bulge Threshold"];G8e=K8r.panels[t8E.panel];P0R=t8E.getYAxis(K8r);F2s=a4q.Studies.determineColor(t8E.outputs.Result);T5j={skipTransform:K8r.panels[t8E.panel].name != t8E.chart.name,panelName:t8E.panel,band:M13 + t8E.name,threshold:r8o,direction:1,color:F2s,yAxis:P0R,opacity:0.3};if(!t8E.highlight && K8r.highlightedDraggable){T5j.opacity*=0.3;}F$OMy.d9F();a4q.preparePeakValleyFill(K8r,T5j);a4q.Studies.drawHorizontal(K8r,t8E,null,r8o,P0R,F2s);};a4q.Studies.studyLibrary=a4q.extend(a4q.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:a4q.Studies.displayMassIndex,calculateFN:a4q.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};G1=J06=>{var L08=F$OMy;var p70,X0D,p4i,J5i;p70=-1014552436;X0D=+"440790212";p4i=2;for(var c_t=1;L08.P12(c_t.toString(),c_t.toString().length,70044) !== p70;c_t++){J5i=typeof _CIQ !== "undefined"?_CIQ:J06.CIQ;p4i+=+"2";}if(L08.Q0B(p4i.toString(),p4i.toString().length,63749) !== X0D){J5i=~_CIQ == ""?_CIQ:J06.CIQ;}if(!J5i.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {J5i.Studies.calculateMoneyFlowIndex=function(j1s,L_B){var Q7z,A9r,l42,z4T,i6S,G_7,g0D,M_j,x3P,l_W,x7_,O97;Q7z="Re";Q7z+="su";Q7z+="lt ";A9r=L_B.chart.scrubbed;if(A9r.length < L_B.days + 1){L_B.error=!![];return;}l42=+"0";z4T=0;L08.X6L(47);var v7v=L08.w65(11,14,4,5,14);i6S=A9r[L_B.startFrom - ("1" | v7v)];G_7="_rawMF " + L_B.name;g0D="_cumMF " + L_B.name;M_j=Q7z + L_B.name;if(i6S && i6S[g0D]){l42=i6S[g0D][0];z4T=i6S[g0D][1];}for(var F6l=L_B.startFrom;F6l < A9r.length;F6l++){x3P=A9r[F6l]["hlc/3"];if(F6l > 0 && !A9r[F6l].futureTick){L08.X6U(16);l_W=A9r[L08.o$D("1",F6l)]["hlc/3"];x7_=x3P * A9r[F6l].Volume;if(x3P > l_W){l42+=x7_;}else if(x3P < l_W){x7_*=-1;z4T-=x7_;}else {L08.X6L(0);x7_=L08.w65(0,"0");}if(F6l > L_B.days){O97=A9r[F6l - L_B.days][G_7];if(O97 > +"0"){l42-=O97;}else {z4T+=O97;}if(z4T === 0){A9r[F6l][M_j]=100;}else if(A9r[F6l].Volume){L08.X6L(163);A9r[F6l][M_j]=L08.o$D(z4T,1,100,l42,100);}}A9r[F6l][G_7]=x7_;A9r[F6l][g0D]=[l42,z4T];}}};J5i.Studies.studyLibrary=J5i.extend(J5i.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:J5i.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};I8=x2E=>{var I_g=F$OMy;var H9e,A9b,e1q,n2H,e$E,o0q,M7W,l3$,m9p,Q7g,E4B,X$V,s3j,a24;I_g.d9F();H9e=typeof _CIQ !== "undefined"?_CIQ:x2E.CIQ;if(!H9e.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {A9b="a";A9b+="u";A9b+="to";e1q="High Low";e1q+=" Bands";n2H="#";n2H+="00afed";e$E="Guppy Mul";e$E+="ti";e$E+="ple Moving Av";e$E+="erage";o0q="Moving ";o0q+="Average Deviation";M7W="a";M7W+="u";M7W+="to";l3$="pe";l3$+="rcent";m9p="Movin";m9p+="g Ave";m9p+="rage En";m9p+="velope";Q7g="DoubleExponen";Q7g+="tial";E4B="H";E4B+="u";E4B+="l";E4B+="l";X$V="h";X$V+="u";X$V+="l";X$V+="l";s3j="h";s3j+="m";s3j+="a";a24="t";a24+="e";a24+="ma";H9e.Studies.prettify=H9e.extend({"2-exponential":"dema","3-exponential":a24,hull:s3j},H9e.Studies.prettify);H9e.extend(H9e.Studies.movingAverage,{conversions:{hma:X$V,dema:"2-exponential",tema:"3-exponential"},translations:{hull:E4B,"2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:Q7g,"2-exponential":"DoubleExponential",tema:"TripleExponential","3-exponential":"TripleExponential"}});H9e.Studies.calculateMovingAverageHull=function(J8h,V3v){var F6n,W59,s$C,k0l,D_b,O4P,u1Y,U9w,U4I;F6n="w";F6n+="m";F6n+="a";W59=V3v.chart.scrubbed;s$C=V3v.inputs.Field;if(!s$C || s$C == "field"){s$C="Close";}H9e.Studies.MA("wma",V3v.days,s$C,+"0","_WMA1",J8h,V3v);H9e.Studies.MA(F6n,Math.ceil(V3v.days / 2),s$C,0,"_WMA2",J8h,V3v);for(k0l=V3v.startFrom - 1;k0l >= 0;k0l--){D_b=W59[k0l][s$C];if(D_b && typeof D_b == "object"){D_b=D_b[V3v.subField];}if(D_b || D_b === ("0" | 0))break;}for(k0l++;k0l < W59.length;k0l++){O4P=W59[k0l];O4P["_MMA " + V3v.name]=+"2" * O4P["_WMA2 " + V3v.name] - O4P["_WMA1 " + V3v.name];}u1Y=parseInt(V3v.inputs.Offset,10);if(isNaN(u1Y)){u1Y=+"0";}U9w=Math.floor(Math.sqrt(V3v.days));H9e.Studies.MA("wma",U9w,"_MMA " + V3v.name,u1Y,"_HMA",J8h,V3v);U4I=V3v.name;for(var A_a in V3v.outputs){I_g.X6U(87);U4I=I_g.w65(A_a,U4I,(8600,536.38) < (1090,2010)?(5213,9360) !== (1936,386.55)?" ":(1298,1162) < (164.94,5940)?706:0x6c4:0x196d);}for(k0l=Math.max(V3v.days + U9w - "1" * 1,V3v.startFrom);k0l < W59.length;k0l++){W59[k0l][U4I]=W59[k0l]["_HMA " + V3v.name];}};H9e.Studies.calculateMovingAverageDoubleExponential=function(K5G,b79){var G_G,c5I,b_L,O3S,Q_P,v3r,u5I,G9M,E13,s_I,V83,V7Y,P0z;G_G="_E";G_G+="M";G_G+="A";G_G+="2";c5I=b79.chart.scrubbed;b_L=b79.inputs.Field;if(!b_L || b_L == "field"){b_L="Close";}H9e.Studies.MA("ema",b79.days,b_L,0,"_EMA1",K5G,b79);H9e.Studies.MA("ema",b79.days,"_EMA1 " + b79.name,+"0",G_G,K5G,b79);O3S=parseInt(b79.inputs.Offset,+"10");I_g.d9F();if(isNaN(O3S)){O3S=0;}u5I=O3S;for(Q_P=b79.startFrom - +"1";Q_P >= 0;Q_P--){G9M="obj";G9M+="ect";v3r=c5I[Q_P][b_L];if(v3r && typeof v3r == G9M){v3r=v3r[b79.subField];}if(!v3r && v3r !== 0)continue;if(u5I > 0){u5I--;continue;}break;}E13=b79.name;for(var D3p in b79.outputs){I_g.X6L(87);E13=I_g.o$D(D3p,E13,(9100,9362) < (1880,5693)?7.68e+3:" ");}s_I=[];for(Q_P++;Q_P < c5I.length;Q_P++){if(Q_P < +"2" * (b79.days - 1))continue;V83=c5I[Q_P];I_g.X6L(39);var x8C=I_g.o$D(9,11);V7Y=x8C * V83["_EMA1 " + b79.name] - V83["_EMA2 " + b79.name];if(Q_P + O3S >= 0){if(Q_P + O3S < c5I.length){I_g.X6U(1);c5I[I_g.w65(O3S,Q_P)][E13]=V7Y;}else {P0z={};P0z[E13]=V7Y;s_I.push(P0z);}}}b79.appendFutureTicks(K5G,s_I);};H9e.Studies.calculateMovingAverageTripleExponential=function(N_Q,S6U){var G2w,u8u,o9y,R9n,u4i,J$L,t55,d69,V4y,Y0k,w8d,S_j,H7R;G2w="e";G2w+="ma";u8u=S6U.chart.scrubbed;o9y=S6U.inputs.Field;if(!o9y || o9y == "field"){o9y="Close";}H9e.Studies.MA("ema",S6U.days,o9y,0,"_EMA1",N_Q,S6U);H9e.Studies.MA("ema",S6U.days,"_EMA1 " + S6U.name,0,"_EMA2",N_Q,S6U);H9e.Studies.MA(G2w,S6U.days,"_EMA2 " + S6U.name,0,"_EMA3",N_Q,S6U);R9n=parseInt(S6U.inputs.Offset,10);if(isNaN(R9n)){R9n=0;}t55=R9n;for(u4i=S6U.startFrom - 1;u4i >= 0;u4i--){J$L=u8u[u4i][o9y];if(J$L && typeof J$L == "object"){J$L=J$L[S6U.subField];}if(!J$L && J$L !== ("0" ^ 0))continue;if(t55 > 0){t55--;continue;}break;}d69=S6U.name;for(var Z2U in S6U.outputs){I_g.X6U(87);d69=I_g.o$D(Z2U,d69," ");}V4y=[];for(u4i++;u4i < u8u.length;u4i++){Y0k="_EM";Y0k+="A2 ";if(u4i < +"3" * (S6U.days - 1))continue;w8d=u8u[u4i];I_g.X6L(39);var A4e=I_g.o$D(5,8);I_g.X6L(164);var n1N=I_g.w65(2,13,9,4,14);S_j=A4e * w8d["_EMA1 " + S6U.name] - n1N * w8d[Y0k + S6U.name] + w8d["_EMA3 " + S6U.name];if(u4i + R9n >= 0){if(u4i + R9n < u8u.length){I_g.X6U(1);u8u[I_g.w65(R9n,u4i)][d69]=S_j;}else {H7R={};H7R[d69]=S_j;V4y.push(H7R);}}}S6U.appendFutureTicks(N_Q,V4y);};H9e.Studies.calculateMAEnvelope=function(i5h,w6h){var q80,n4f,o4U,B4V;q80="f";q80+="i";q80+="el";q80+="d";n4f=w6h.inputs.Field;if(!n4f || n4f == q80){n4f="Close";}H9e.Studies.MA(w6h.inputs["Moving Average Type"],w6h.days,n4f,0,"MA",i5h,w6h);o4U=w6h.inputs["Shift Type"];B4V=w6h.inputs.Shift;if(!o4U){o4U="percent";B4V=w6h.inputs["Shift Percentage"];}if(o4U == "percent"){I_g.X6L(4);H9e.Studies.calculateGenericEnvelope(i5h,w6h,I_g.w65(100,B4V),"MA " + w6h.name);}else if(o4U == "points"){H9e.Studies.calculateGenericEnvelope(i5h,w6h,null,"MA " + w6h.name,null,Number(B4V));}};H9e.Studies.calculateMADev=function(J3L,X5Z){var s9u,A28,x2d,V9x,i4i,x4S,h5y,Q1R,k2K,f7e,n85,l5X,B2d,Z4P,D2_;s9u="_";s9u+="MA";A28="exp";A28+="onential";x2d="Moving Avera";x2d+="ge ";x2d+="Type";V9x="Po";V9x+="ints";i4i=X5Z.chart.scrubbed;if(i4i.length < X5Z.days + 1){X5Z.error=!![];return;}x4S=X5Z.inputs.Field;if(!x4S || x4S == "field"){x4S="Close";}h5y=X5Z.inputs["Points Or Percent"];if(!h5y){h5y=V9x;}Q1R=X5Z.inputs[x2d];if(!Q1R){Q1R=A28;}H9e.Studies.MA(Q1R,X5Z.days,x4S,0,s9u,J3L,X5Z);k2K=X5Z.name + "_hist";for(var F5B=Math.max(X5Z.startFrom,X5Z.days - 1);F5B < i4i.length;F5B++){f7e=i4i[F5B];n85=f7e[x4S];if(n85 && typeof n85 == "object"){n85=n85[X5Z.subField];}l5X=f7e["_MA " + X5Z.name];if(l5X || l5X === 0){if(h5y == "Points"){I_g.X6L(0);f7e[k2K]=I_g.o$D(l5X,n85);}else {I_g.X6L(165);f7e[k2K]=I_g.o$D(n85,"100",l5X,1);}}}B2d=1009955529;I_g.X6U(24);Z4P=I_g.w65(0,"1920863493");I_g.X6L(17);D2_=I_g.w65("2",32);for(var X6W=1;I_g.Q0B(X6W.toString(),X6W.toString().length,81293) !== B2d;X6W++){X5Z.outputMap={};D2_+=2;}if(I_g.Q0B(D2_.toString(),D2_.toString().length,2634) !== Z4P){X5Z.outputMap={};}X5Z.outputMap={};X5Z.outputMap[X5Z.name + "_hist"]="";};H9e.Studies.calculateGMMA=function(R40,D03){var C_4,R$o,L0B;C_4=D03.chart.scrubbed;R$o=[3,5,8,10,+"12",15];function d1Y(G_1){return function(T5L){var i_N;i_N="M";i_N+="A";i_N+=" ";I_g.X6L(0);H9e.Studies.MA("ema",T5L,"Close",I_g.w65(0,"0"),I_g.o$D(T5L,i_N,I_g.X6U(1)),R40,D03);I_g.X6L(15);var c13=I_g.w65(18408,3682,6);I_g.X6L(0);var O_9=I_g.w65(46000,55200);I_g.X6U(110);var P8S=I_g.o$D(6,4,9826);I_g.X6L(15);var B9w=I_g.w65(46436,4277,11);I_g.X6U(1);var J4v=I_g.w65(1,0);I_g.X6L(5);var J9R=I_g.w65(7,1502,94,15,94);I_g.X6L(139);I_g.b5b();var I3n=I_g.w65(2,8057,137038,4,9);I_g.X6L(125);var U6Q=I_g.o$D(4171,4166,5,4189);I_g.X6L(110);var t2q=I_g.o$D(13,6,9329);D03.outputMap["MA " + T5L + ((c13,+"161.89") === (O_9,P8S)?(B9w,!({})):(616.8,"1945" * J4v) <= (J9R,I3n)?" ":+"449.97" === (U6Q,t2q)?(30.04,"a"):!0) + D03.name]=G_1;};}L0B=[30,35,40,45,+"50",60];if(C_4.length < R$o[0]){D03.error=!![];return;}D03.outputMap={};R$o.forEach(d1Y("Short Term"));L0B.forEach(d1Y("Long Term"));};H9e.Studies.studyLibrary=H9e.extend(H9e.Studies.studyLibrary,{"MA Env":{name:m9p,overlay:!!1,seriesFN:H9e.Studies.displayChannel,calculateFN:H9e.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":[l3$,"points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!!1},outputs:{"MA Env Top":M7W,"MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:o0q,calculateFN:H9e.Studies.calculateMADev,seriesFN:H9e.Studies.displayHistogramWithSeries,inputs:{Period:+"12",Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:e$E,overlay:!0,calculateFN:H9e.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":n2H}},"High Low":{name:e1q,overlay:!!"1",seriesFN:H9e.Studies.displayChannel,calculateFN:function(g11,z9Y){z9Y.inputs["Moving Average Type"]="triangular";H9e.Studies.calculateMAEnvelope(g11,z9Y);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":A9b},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};G$=M4A=>{var m0B=F$OMy;var B2L,W2p;m0B.b5b();B2L=typeof _CIQ !== "undefined"?_CIQ:M4A.CIQ;if(!B2L.Studies){W2p="parabolicSAR feature require";W2p+="s first activating studies ";W2p+="feature.";console.error(W2p);}else {B2L.Studies.calculatePSAR=function(d7S,V_m){var J0i,B$0,d0L,o33,q7R,G9W,Z0S,H6I,N1N,M0d,K7L,X93;function T81(){B$0=0;m0B.d9F();d0L=null;o33=!o33;}J0i=V_m.chart.scrubbed;B$0=0;d0L=null;o33=!1;q7R=0;G9W=parseFloat(V_m.inputs["Minimum AF"]);Z0S=parseFloat(V_m.inputs["Maximum AF"]);m0B.d9F();if(V_m.startFrom > 0){m0B.X6L(15);var h_i=m0B.o$D(220,17,13);q7R=J0i[V_m.startFrom - h_i]["Result " + V_m.name];m0B.X6U(166);var E56=m0B.o$D(1,5,4,7,15);H6I=J0i[V_m.startFrom - E56]["_state " + V_m.name];if(H6I && H6I.length == 3){B$0=H6I[0];d0L=H6I[1];o33=H6I[+"2"];}}for(var C2y=V_m.startFrom - 1;C2y < J0i.length - 1;C2y++){N1N="_stat";N1N+="e ";if(C2y < 0)continue;if(J0i[C2y].futureTick)break;M0d=q7R;if(o33){if(!d0L || d0L < J0i[C2y].High){d0L=J0i[C2y].High;m0B.X6U(1);B$0=Math.min(m0B.o$D(G9W,B$0),Z0S);}m0B.X6U(167);q7R=m0B.o$D(M0d,M0d,B$0,d0L);K7L=Math.min(J0i[Math.max(+"1",C2y) - 1].Low,J0i[C2y].Low);if(q7R > J0i[C2y + 1].Low){q7R=d0L;T81();}else if(q7R > K7L){q7R=K7L;}}else {if(!d0L || d0L > J0i[C2y].Low){d0L=J0i[C2y].Low;m0B.X6U(1);B$0=Math.min(m0B.w65(G9W,B$0),Z0S);}m0B.X6L(167);q7R=m0B.o$D(M0d,M0d,B$0,d0L);X93=Math.max(J0i[Math.max(1,C2y) - 1].High,J0i[C2y].High);if(q7R < J0i[C2y + +"1"].High){q7R=d0L;T81();}else if(q7R < X93){q7R=X93;}}m0B.X6U(1);J0i[m0B.w65(1,C2y)][N1N + V_m.name]=[B$0,d0L,o33];if(!isNaN(J0i[C2y].High) || !isNaN(J0i[C2y].Low)){m0B.X6U(95);J0i[m0B.o$D("1",C2y)]["Result " + V_m.name]=q7R;}}};B2L.Studies.studyLibrary=B2L.extend(B2L.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!"",calculateFN:B2L.Studies.calculatePSAR,seriesFN:B2L.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};S5=T4G=>{var J4L,r2C,v_U,f6r;J4L=typeof _CIQ !== "undefined"?_CIQ:T4G.CIQ;if(!J4L.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {r2C="#";r2C+="e3646";r2C+="0";v_U="f";v_U+="ibo";v_U+="nacci";f6r="st";f6r+="an";f6r+="dar";f6r+="d";J4L.Studies.calculatePivotPoints=function(N_u,m6V){var R4A=F$OMy;var A55,H5M,b0g,q7B,A_O,U$A,N8H,Z78,y0E,o17,Q38,v_B,n0o,i88,L_v,z_0,K_J,p2w,u05,K0z,x$I,s2p,E4M,Z1J;A55="market.beginningDay";A55+="OfWeek";H5M="m";H5M+="illisecond";b0g="d";b0g+="a";b0g+="y";q7B="d";q7B+="a";q7B+="y";A_O=m6V.chart.scrubbed;U$A=q7B;N8H=N_u.layout.interval;Z78=N_u.layout.timeUnit;if(N8H == b0g){U$A="month";}else if(J4L.ChartEngine.isDailyInterval(N8H)){U$A="year";}else if(N8H == "second" || N8H == "millisecond" || Z78 == "second" || Z78 == H5M){U$A="15min";}else {y0E="we";y0E+="ek";o17=N_u.layout.periodicity;if(N8H != "minute"){o17*=N8H;}if(o17 >= 30){U$A=y0E;}}Q38=null;v_B=("7" >> 0) - J4L.getFromNS(N_u.chart,A55,0);n0o={pivotPoint:NaN,high:0,low:+"0",prevHigh:+"0",prevLow:+"0",hlSpread:0};function e3t(){R4A.X6U(51);var u4f=R4A.o$D(3,3,0,18);n0o.pivotPoint=(n0o.high + n0o.low + A_O[K$A - ("1" ^ 0)].Close) / u4f;n0o.prevHigh=n0o.high;n0o.prevLow=n0o.low;n0o.hlSpread=n0o.high - n0o.low;n0o.high=n0o.low=0;}if(m6V.startFrom > 1 && A_O[m6V.startFrom - 1]["_pointers " + m6V.name]){n0o=J4L.clone(A_O[m6V.startFrom - 1]["_pointers " + m6V.name]);}for(var K$A=Math.max(1,m6V.startFrom);K$A < A_O.length;K$A++){i88="_po";i88+="inter";i88+="s ";L_v="d";L_v+="ay";z_0="w";z_0+="e";z_0+="e";z_0+="k";K_J="ye";K_J+="ar";if(!A_O[K$A - 1])continue;n0o.high=Math.max(n0o.high,A_O[K$A - +"1"].High);n0o.low=Math.min(n0o.low > "0" * 1?n0o.low:A_O[K$A - 1].Low,A_O[K$A - 1].Low);if(m6V.inputs.Continuous){e3t();}else if(U$A == K_J && A_O[K$A].DT.getYear() != A_O[K$A - 1].DT.getYear()){e3t();}else if(U$A == "month" && A_O[K$A].DT.getMonth() != A_O[K$A - 1].DT.getMonth()){e3t();}else if(U$A == z_0 && (A_O[K$A].DT.getDay() + v_B) % ("7" | 1) < (A_O[K$A - ("1" - 0)].DT.getDay() + v_B) % 7){e3t();}else if(U$A == L_v){if(Q38 === null){Q38=J4L.Studies.getMarketOffset({stx:N_u,localQuoteDate:A_O[K$A].DT,shiftToDateBoundary:!![]});}p2w=new Date(new Date(+A_O[K$A].DT).setMilliseconds(A_O[K$A].DT.getMilliseconds() + Q38));u05=new Date(new Date(+A_O[K$A - 1].DT).setMilliseconds(A_O[K$A - 1].DT.getMilliseconds() + Q38));if(u05.getDate() !== p2w.getDate() && u05.getDay() !== 0 && N_u.chart.market.isMarketDate(p2w)){Q38=null;e3t();}}else if(U$A == "15min" && (A_O[K$A].DT.getHours() != A_O[K$A - +"1"].DT.getHours() || Math.floor(A_O[K$A].DT.getMinutes() / 15) != Math.floor(A_O[K$A - 1].DT.getMinutes() / 15))){e3t();}A_O[K$A]["Pivot " + m6V.name]=n0o.pivotPoint;if(m6V.inputs.Type.toLowerCase() == "fibonacci"){K0z="Su";K0z+="pport";K0z+=" ";K0z+="2 ";x$I="Su";x$I+="ppor";x$I+="t";x$I+=" 1 ";s2p="Re";s2p+="si";s2p+="sta";s2p+="nce 2 ";E4M="Res";E4M+="i";E4M+="stance 1";E4M+=" ";A_O[K$A][E4M + m6V.name]=n0o.pivotPoint + ("0.382" - 0) * n0o.hlSpread;A_O[K$A][s2p + m6V.name]=n0o.pivotPoint + 0.618 * n0o.hlSpread;A_O[K$A]["Resistance 3 " + m6V.name]=n0o.pivotPoint + n0o.hlSpread;A_O[K$A][x$I + m6V.name]=n0o.pivotPoint - 0.382 * n0o.hlSpread;A_O[K$A][K0z + m6V.name]=n0o.pivotPoint - 0.618 * n0o.hlSpread;A_O[K$A]["Support 3 " + m6V.name]=n0o.pivotPoint - n0o.hlSpread;}else {Z1J="Resistance ";Z1J+="3 ";R4A.X6L(168);var L_w=R4A.w65(4,7,5,4,18);A_O[K$A]["Resistance 1 " + m6V.name]=L_w * n0o.pivotPoint - n0o.prevLow;A_O[K$A]["Resistance 2 " + m6V.name]=n0o.pivotPoint + n0o.hlSpread;A_O[K$A][Z1J + m6V.name]=n0o.prevHigh + 2 * (n0o.pivotPoint - n0o.prevLow);R4A.X6L(7);var y4_=R4A.w65(15,13,0);A_O[K$A]["Support 1 " + m6V.name]=y4_ * n0o.pivotPoint - n0o.prevHigh;A_O[K$A]["Support 2 " + m6V.name]=n0o.pivotPoint - n0o.hlSpread;R4A.X6L(123);var Z6G=R4A.o$D(6,12,20);A_O[K$A]["Support 3 " + m6V.name]=n0o.prevLow - Z6G * (n0o.prevHigh - n0o.pivotPoint);}A_O[K$A][i88 + m6V.name]=J4L.clone(n0o);}};J4L.Studies.displayPivotPoints=function(l2v,P1p,A$H){var m9E,V4O,h5s,n4B,f34,U60,g_2,o_8,U5z,r1C,g5X,O2J;P1p.noSlopes=!P1p.inputs.Continuous;F$OMy.b5b();J4L.Studies.displaySeriesAsLine(l2v,P1p,A$H);if(P1p.inputs.Shading){m9E=l2v.panels[P1p.panel];V4O={noSlopes:P1p.noSlopes,opacity:P1p.parameters.opacity?P1p.parameters.opacity:"0.2" - 0,skipTransform:m9E.name != P1p.chart.name,yAxis:P1p.getYAxis(l2v)};h5s=1170164856;n4B=-1436438035;f34=2;for(var W0c=1;F$OMy.P12(W0c.toString(),W0c.toString().length,75261) !== h5s;W0c++){U60="P";U60+="i";U60+="vo";U60+="t ";g_2="Res";g_2+="istance 2";g_2+=" ";if(-P1p.highlight || l2v.highlightedDraggable){V4O.opacity+=272;}J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Resistance 2" / P1p.name,bottomBand:g_2 / P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Resistance 1 "])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Pivot " * P1p.name,bottomBand:U60 % P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Pivot "])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Pivot " / P1p.name,bottomBand:"Pivot " - P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Pivot "])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Resistance 1 " - P1p.name,bottomBand:"Resistance 2 " * P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Resistance 2 "])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Support 1 " / P1p.name,bottomBand:"Support 2" / P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Resistance 2 "])},V4O));f34+=2;}if(F$OMy.Q0B(f34.toString(),f34.toString().length,14904) !== n4B){o_8="P";o_8+="ivo";o_8+="t ";U5z="Resistan";U5z+="ce 1";r1C="P";r1C+="ivot";r1C+=" ";g5X="Resista";g5X+="nce ";g5X+="1 ";O2J="Resistan";O2J+="ce 1 ";if(!P1p.highlight && l2v.highlightedDraggable){V4O.opacity*=0.3;}J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Resistance 3 " + P1p.name,bottomBand:"Resistance 2 " + P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Resistance 3"])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Resistance 2 " + P1p.name,bottomBand:O2J + P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Resistance 2"])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:g5X + P1p.name,bottomBand:r1C + P1p.name,color:J4L.Studies.determineColor(P1p.outputs[U5z])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Support 1 " + P1p.name,bottomBand:o_8 + P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Support 1"])},V4O));J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Support 2 " + P1p.name,bottomBand:"Support 1 " + P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Support 2"])},V4O));}J4L.prepareChannelFill(l2v,J4L.extend({panelName:P1p.panel,topBand:"Support 3 " + P1p.name,bottomBand:"Support 2 " + P1p.name,color:J4L.Studies.determineColor(P1p.outputs["Support 3"])},V4O));}};J4L.Studies.studyLibrary=J4L.extend(J4L.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!({}),seriesFN:J4L.Studies.displayPivotPoints,calculateFN:J4L.Studies.calculatePivotPoints,inputs:{Type:[f6r,v_U],Continuous:!!0,Shading:!!""},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":"#699158","Resistance 2":r2C,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};k6=s1S=>{var R7C,V7B,h0R;F$OMy.b5b();R7C=typeof _CIQ !== "undefined"?_CIQ:s1S.CIQ;if(!R7C.Studies){V7B="prettyGoodOscillator feature re";V7B+="quires first activating st";V7B+="udies feature.";console.error(V7B);}else {h0R="a";h0R+="uto";R7C.Studies.calculatePrettyGoodOscillator=function(Z4k,p2m){var v0g,c47,b6Z,u81,C72;v0g="tr";v0g+="ueR";v0g+="ang";v0g+="e";c47="e";c47+="xpone";c47+="nt";c47+="ial";b6Z=p2m.chart.scrubbed;if(b6Z.length < p2m.days + +"1"){p2m.error=!![];return;}R7C.Studies.MA(c47,p2m.days,v0g,0,"_EMA",Z4k,p2m);R7C.Studies.MA("simple",p2m.days,"Close",0,"_SMA",Z4k,p2m);for(var h0P=Math.max(1,p2m.startFrom);h0P < b6Z.length;h0P++){u81="_EM";u81+="A ";C72="_";C72+="SM";C72+="A ";if(!b6Z[h0P]["_SMA " + p2m.name] || !b6Z[h0P]["_EMA " + p2m.name])continue;b6Z[h0P]["Result " + p2m.name]=(b6Z[h0P].Close - b6Z[h0P][C72 + p2m.name]) / b6Z[h0P][u81 + p2m.name];}};R7C.Studies.studyLibrary=R7C.extend(R7C.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:R7C.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:h0R,studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};O9=E8B=>{var E_g;E_g=typeof _CIQ !== "undefined"?_CIQ:E8B.CIQ;if(!E_g.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {E_g.Studies.calculatePMO=function(j18,n9C){var i7Z=F$OMy;var T7l,n7f,Z4F,g5B,E3L,t5B,a$s,q2G,w_F,y$s,s0M;T7l="PM";T7l+="O ";n7f="exp";n7f+="on";n7f+="ential";Z4F="Clos";Z4F+="e";g5B="fiel";g5B+="d";E3L="Double Smoo";E3L+="thing Peri";E3L+="od";i7Z.b5b();t5B="Smoothing";t5B+=" Perio";t5B+="d";a$s={Smooth:Number(n9C.inputs[t5B]) - "1" * 1,Double:Number(n9C.inputs[E3L]) - 1,Signal:Number(n9C.inputs["Signal Period"])};q2G=n9C.chart.scrubbed;if(q2G.length < a$s.Smooth + a$s.Double){n9C.error=!!1;return;}w_F=n9C.inputs.Field;if(!w_F || w_F == g5B){w_F=Z4F;}for(y$s=n9C.startFrom;y$s < q2G.length;y$s++){if(!q2G[y$s])continue;if(!q2G[y$s - 1])continue;i7Z.X6U(0);s0M=q2G[i7Z.o$D(1,y$s)][w_F];if(s0M){i7Z.X6U(169);var m8V=i7Z.w65(4,20,15,10);q2G[y$s]["_ROCx10 " + n9C.name]=("1000" ^ 0) * (q2G[y$s][w_F] / s0M - m8V);}}E_g.Studies.MA(n7f,a$s.Smooth,"_ROCx10 " + n9C.name,0,"_EMAx10",j18,n9C);E_g.Studies.MA("exponential",a$s.Double,"_EMAx10 " + n9C.name,0,"PMO",j18,n9C);E_g.Studies.MA("exponential",a$s.Signal,T7l + n9C.name,0,"PMOSignal",j18,n9C);n9C.zoneOutput="PMO";};E_g.Studies.studyLibrary=E_g.extend(E_g.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:E_g.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":"20" ^ 0,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:+"0",step:"0.05"}}}});}};K2=K3U=>{var v19=F$OMy;v19.d9F();var p2$,r$K,J0B,p_v,f0Y;p2$=typeof _CIQ !== "undefined"?_CIQ:K3U.CIQ;if(!p2$.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {r$K="#";r$K+="F";r$K+="F";r$K+="0000";J0B="Pe";J0B+="rc";J0B+="ent";p_v="P";p_v+="oin";p_v+="ts";f0Y="Per";f0Y+="cent";p2$.Studies.calculatePriceOscillator=function(u1W,j1x){var G9N,l9O,B8j,S3V,r$o,V4N,u51,a0N,k3Y,s6F,a9M,A_4,d1F,w82,I55;v19.b5b();G9N="Cl";G9N+="ose";l9O="fi";l9O+="e";l9O+="ld";B8j="M";B8j+="ov";B8j+="ing Average Typ";B8j+="e";S3V="Lo";S3V+="ng C";S3V+="ycle";r$o=j1x.chart.scrubbed;V4N=Number(j1x.inputs["Short Cycle"]);u51=Number(j1x.inputs[S3V]);if(r$o.length < Math.max(V4N,u51) + 1){j1x.error=!"";return;}a0N=j1x.inputs.Field;k3Y=j1x.inputs[B8j];if(!k3Y){k3Y="simple";}if(!a0N || a0N == l9O){a0N=G9N;}if(j1x.parameters.isVolume){a0N="Volume";k3Y="exponential";}s6F=j1x.inputs["Points Or Percent"];if(!s6F){s6F="Percent";}p2$.Studies.MA(k3Y,V4N,a0N,0,"_Short MA",u1W,j1x);p2$.Studies.MA(k3Y,u51,a0N,0,"_Long MA",u1W,j1x);for(var L4Z=Math.max(u51,j1x.startFrom);L4Z < r$o.length;L4Z++){a9M=r$o[L4Z];if(!a9M)continue;A_4=a9M["_Short MA " + j1x.name];d1F=a9M["_Long MA " + j1x.name];if((A_4 || A_4 === 0) && (d1F || d1F === 0)){w82="Incre";w82+="asing Bar";if(s6F == "Points"){v19.X6L(0);a9M["Result " + j1x.name]=v19.w65(d1F,A_4);}else {v19.X6L(170);a9M["Result " + j1x.name]=v19.o$D("1",d1F,A_4,"100");}if(j1x.outputs[w82]){I55="_hi";I55+="st";a9M[j1x.name + "_hist"]=a9M["Result " + j1x.name];j1x.outputMap={};j1x.outputMap[j1x.name + I55]="";}}}};p2$.Studies.displayRAVI=function(Y5C,g2J,Q3Q){var m5c,l_k,g7E,M5D,P_i,w6J,e20,A4R,F30,X_u,u0O,L02,c73,t8h,E6m,y2q;m5c="Increasing ";m5c+="Bar";l_k=Y5C.panels[g2J.panel];g7E=g2J.getContext(Y5C);M5D=g2J.getYAxis(Y5C);P_i=Y5C.pixelFromPrice(0,l_k,M5D);v19.X6U(171);var J$A=v19.w65(4,3,14,5);w6J=Y5C.layout.candleWidth - J$A;if(w6J < 2){w6J=+"1";}e20=p2$.Studies.determineColor(g2J.outputs[m5c]);A4R=p2$.Studies.determineColor(g2J.outputs["Decreasing Bar"]);Y5C.startClip(g2J.panel);Y5C.canvasColor("stx_histogram");if(!g2J.underlay){g7E.globalAlpha=1;}if(!g2J.highlight && Y5C.highlightedDraggable){g7E.globalAlpha*=0.3;}for(var k_S=0;k_S < Q3Q.length;k_S++){F30="#CC";F30+="CC";F30+="C";F30+="C";X_u="_";X_u+="hi";X_u+="st";u0O="_h";u0O+="i";u0O+="st";L02="_hi";L02+="s";L02+="t";c73=Q3Q[k_S];v19.X6L(0);t8h=Q3Q[v19.w65(1,k_S)];if(!t8h){t8h=Y5C.getPreviousBar(Y5C.chart,g2J.name + "_hist",k_S);}if(!c73)continue;E6m=0;y2q=0;if(g2J.parameters && g2J.parameters.studyOverZonesEnabled){E6m=parseFloat(g2J.parameters.studyOverBoughtValue);y2q=parseFloat(g2J.parameters.studyOverSoldValue);}if(!t8h){g7E.fillStyle="#CCCCCC";}else if(c73[g2J.name + L02] > E6m && t8h[g2J.name + "_hist"] < c73[g2J.name + u0O]){g7E.fillStyle=e20;}else if(c73[g2J.name + X_u] < y2q && t8h[g2J.name + "_hist"] > c73[g2J.name + "_hist"]){g7E.fillStyle=A4R;}else {g7E.fillStyle=F30;}if(c73.candleWidth){w6J=Math.floor(Math.max(+"1",c73.candleWidth - +"2"));}g7E.fillRect(Math.floor(Y5C.pixelFromBar(k_S,l_k.chart) - w6J / 2),Math.floor(P_i),Math.floor(w6J),Math.floor(Y5C.pixelFromPrice(c73[g2J.name + "_hist"],l_k,M5D) - P_i));}Y5C.endClip();};p2$.Studies.studyLibrary=p2$.extend(p2$.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:p2$.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":"12" - 0,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":["Points",f0Y]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:p2$.Studies.calculatePriceOscillator,inputs:{"Short Cycle":"12" ^ 0,"Long Cycle":26,"Points Or Percent":[p_v,J0B]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:p2$.Studies.displayRAVI,calculateFN:p2$.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":r$K},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" * 1),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:"0" << 64,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};m$=r5X=>{var x86,w1R;x86=typeof _CIQ !== "undefined"?_CIQ:r5X.CIQ;if(!x86.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {w1R="a";w1R+="u";w1R+="t";w1R+="o";x86.Studies.calculatePrimeNumber=function(w2s,T48){var n_L=F$OMy;var p0c,q$C,c1o,U9$,h43,Y54,u1L,Y7I,A8c,i4y;p0c=[];q$C=T48.chart.scrubbed;for(var L7d=T48.startFrom;L7d < q$C.length;L7d++){c1o=q$C[L7d];if(!c1o)continue;U9$=c1o.High;if(!isNaN(U9$)){for(var S7f=0;U9$ > 0 && U9$ <= "10" >> 64;S7f++){U9$*=10;}if(H4F(U9$)){U9$+=2;}U9$=Math.ceil(U9$);if(U9$ % 2 === 0){U9$++;}while(!H4F(U9$)){U9$+=+"2";}U9$/=Math.pow(10,S7f);}h43=c1o.Low;if(!isNaN(h43)){for(var O_s=0;h43 > 0 && h43 <= 10;O_s++){h43*=+"10";}if(H4F(h43)){h43-=2;}h43=Math.floor(h43);if(h43 % 2 === 0){h43--;}if(h43 > 0){while(!H4F(h43)){h43-=2;}h43/=Math.pow(10,O_s);}}if(T48.type == "Prime Number Bands"){Y54="Pri";Y54+="me Band";Y54+="s ";Y54+="Top ";if(!isNaN(U9$)){c1o[Y54 + T48.name]=U9$;}if(!isNaN(h43)){c1o["Prime Bands Bottom " + T48.name]=Math.max(0,h43);}}else {u1L="Tole";u1L+="rance Percen";u1L+="tage";Y7I=0;n_L.X6L(2);var C22=n_L.o$D(35,15,80);A8c=T48.inputs[u1L] * (U9$ - h43) / C22;n_L.X6U(172);var u_4=n_L.w65(17,138,8,1);i4y=U9$ + h43 - u_4 * c1o.Close;if(i4y < A8c){Y7I=+"1";}else if(i4y > A8c){Y7I=-+"1";}if(Y7I){c1o["Result " + T48.name]=Y7I;}}}n_L.d9F();function H4F(b2k){var B8F;if(b2k <= 0){return !({});}else if(b2k != Math.floor(b2k)){return !({});}else if(p0c[b2k] === !!({}) || p0c[b2k] === !1){return p0c[b2k];}B8F=parseInt(Math.sqrt(b2k),10);for(var A82=2;A82 <= B8F;A82++){if(b2k % A82 === 0){p0c[b2k]=!"1";return !({});}}n_L.b5b();p0c[b2k]=!!({});return !"";}};x86.Studies.studyLibrary=x86.extend(x86.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:x86.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!!({}),calculateFN:x86.Studies.calculatePrimeNumber,seriesFN:x86.Studies.displayChannel,inputs:{"Channel Fill":!0},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":w1R,"Prime Bands Channel":"auto"}}});}};D5=y2i=>{var H9c=F$OMy;H9c.b5b();var I6h,Q6Y,v9R;I6h=typeof _CIQ !== "undefined"?_CIQ:y2i.CIQ;if(!I6h.Studies){Q6Y="pri";Q6Y+="ng featu";Q6Y+="re requires first activating st";Q6Y+="udies feature.";console.error(Q6Y);}else {v9R="f";v9R+="ie";v9R+="l";v9R+="d";I6h.Studies.calculateKST=function(t1J,b6b){var k7E,N0D,j8I,N$Q,r47,L5D,Q5t,v1g,n73,Z4D,w6E,p3Y;k7E="Hea";k7E+="v";k7E+="iest";k7E+=" SMA Period";N0D="Light ";N0D+="SMA ";N0D+="Period";j8I="L";j8I+="i";j8I+="ghtest S";j8I+="MA Period";N$Q="Heavy Rate";N$Q+=" of Change Period";r47=b6b.chart.scrubbed;L5D=b6b.inputs.Field;if(!L5D || L5D == "field"){L5D="Close";}Q5t={};v1g={};Q5t[1]=Number(b6b.inputs["Lightest Rate of Change Period"]);Q5t[2]=Number(b6b.inputs["Light Rate of Change Period"]);Q5t[+"3"]=Number(b6b.inputs[N$Q]);Q5t[4]=Number(b6b.inputs["Heaviest Rate of Change Period"]);H9c.X6U(40);v1g[H9c.o$D("1",32)]=Number(b6b.inputs[j8I]);v1g[2]=Number(b6b.inputs[N0D]);v1g[3]=Number(b6b.inputs["Heavy SMA Period"]);H9c.b5b();v1g[4]=Number(b6b.inputs[k7E]);n73=Number(b6b.inputs["Signal Period"]);for(Z4D=b6b.startFrom;Z4D < r47.length;Z4D++){if(!r47[Z4D])continue;for(w6E=1;w6E <= 4;w6E++){if(Z4D >= Q5t[w6E] && r47[Z4D - Q5t[w6E]] && r47[Z4D - Q5t[w6E]][L5D]){H9c.X6U(173);var E3E=H9c.o$D(93,14,19,40);r47[Z4D]["_ROC" + w6E + " " + b6b.name]=E3E * (r47[Z4D][L5D] / r47[Z4D - Q5t[w6E]][L5D] - ("1" << 0));}}}for(w6E=+"1";w6E <= ("4" ^ 0);w6E++){I6h.Studies.MA("simple",v1g[w6E],"_ROC" + w6E + " " + b6b.name,0,"_SMA" + w6E,t1J,b6b);}for(Z4D=b6b.startFrom;Z4D < r47.length;Z4D++){r47[Z4D]["KST " + b6b.name]=null;for(w6E=1;w6E <= 4;w6E++){H9c.X6U(67);var p$9=H9c.w65(579,4050,15,1);H9c.X6L(58);var c6u=H9c.o$D(508,6,6,6092);H9c.X6L(137);var S_u=H9c.w65(9124,9120,4,9129);H9c.X6U(0);var M5Q=H9c.o$D(23040,26880);H9c.X6L(1);var Q9U=H9c.o$D(6,9904);p3Y=r47[Z4D]["_SMA" + w6E + (p$9 >= (938.71,276.85)?" ":c6u !== S_u?(M5Q,Q9U):("L",329.68)) + b6b.name];if(p3Y || p3Y === +"0"){H9c.X6L(9);r47[Z4D]["KST " + b6b.name]+=H9c.w65(p3Y,w6E);}}}I6h.Studies.MA("simple",n73,"KST " + b6b.name,0,"KSTSignal",t1J,b6b);};I6h.Studies.calculateSpecialK=function(V69,N8i){var n6K,V8O,H0J,H0f,Z9r,K6g,D4m,I2P,S8e,y3C,g8V;n6K=N8i.chart.scrubbed;V8O=N8i.inputs.Field;if(!V8O || V8O == "field"){V8O="Close";}H0J=N8i.inputs.Interval;if(!H0J){H0J="daily";}H0f={daily:[10,15,20,"30" << 0,+"50",+"65",75,100,"195" >> 32,265,390,+"530"],weekly:[4,5,"6" ^ 0,8,10,13,15,20,39,52,78,104]};Z9r={daily:[10,10,+"10",15,50,65,75,100,+"130",130,130,"195" * 1],weekly:[4,5,+"6",8,"10" >> 64,13,15,20,26,26,26,39]};for(K6g=N8i.startFrom;K6g < n6K.length;K6g++){if(!n6K[K6g])continue;for(D4m=0;D4m < H0f[H0J].length;D4m++){if(K6g >= H0f[H0J][D4m] && n6K[K6g - H0f[H0J][D4m]] && n6K[K6g - H0f[H0J][D4m]][V8O]){H9c.X6U(111);var y17=H9c.w65(9168,9160,1,4580);H9c.X6U(174);var x2n=H9c.o$D(2,0,0,1,2);n6K[K6g]["_ROC" + D4m + ((y17,+"317") === +"1180"?(!({}),"u"):" ") + N8i.name]=("100" | 0) * (n6K[K6g][V8O] / n6K[K6g - H0f[H0J][D4m]][V8O] - x2n);}}}for(D4m=0;D4m < Z9r[H0J].length;D4m++){I2P="e";I2P+="xp";I2P+="one";I2P+="ntial";S8e="dail";S8e+="y";I6h.Studies.MA(H0J == S8e?"simple":I2P,Z9r[H0J][D4m],"_ROC" + D4m + ((9250,4279) == 81.45?("b","v"):(938,2017) != 2140?" ":!!"") + N8i.name,+"0","_MA" + D4m,V69,N8i);}for(K6g=N8i.startFrom;K6g < n6K.length;K6g++){n6K[K6g]["Result " + N8i.name]=null;for(D4m=0;D4m < Z9r[H0J].length;D4m++){y3C="Resu";y3C+="lt ";H9c.X6U(64);var V6L=H9c.w65(44972,3210,1,15,15);H9c.X6L(175);var n3Q=H9c.w65(5,8508,8515,8508);H9c.X6L(1);var E6_=H9c.w65(2524,361);g8V=n6K[K6g]["_MA" + D4m + ((+"4070",V6L) == n3Q?("Q",E6_):" ") + N8i.name];if(g8V || g8V === 0){H9c.X6L(176);n6K[K6g][y3C + N8i.name]+=H9c.w65("4",64,D4m,g8V,1);}}}};I6h.Studies.studyLibrary=I6h.extend(I6h.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:I6h.Studies.calculateKST,inputs:{Field:v9R,"Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:I6h.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};S9=J8y=>{var B7v,i$a,G0t,K8K,U8W,C4y,v_Z,p4d,N8l,I81,g8u;B7v=typeof _CIQ !== "undefined"?_CIQ:J8y.CIQ;i$a=typeof _timezoneJS !== "undefined"?_timezoneJS:J8y.timezoneJS;if(!B7v.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!B7v.Studies.studyLibrary.PVAT){G0t="ste";G0t+="p";K8K="#8";K8K+="c";K8K+="c176";U8W="0";U8W+=" to max";C4y="#cf";C4y+="b";C4y+="d0";C4y+="e";v_Z="#";v_Z+="fe6";v_Z+="41c";p4d="-15";p4d+="0";p4d+="%";N8l="-1";N8l+="00%";I81="+";I81+="2";I81+="5";I81+="%";g8u="Pro";g8u+="jected Volume at Time";B7v.Studies.initProjectedVolume=function(s7s,w37,p98,i2g,M23,h8F){var K6i,F1H,W2x,m8B;K6i="Anch";K6i+="or Time";var {market:v4L}=s7s.chart;F1H="00:00";if(v4L){F1H=v4L.getNormalOpen();}if(F1H.match(/^[\d]{2}:[\d]{2}$/)){F1H+=":00";}if(!p98["Anchor Time"] || !p98[K6i].length){W2x="Anchor Ti";W2x+="me";p98[W2x]=F1H;}m8B=B7v.Studies.initializeFN(s7s,w37,p98,i2g,M23,h8F);if(!s7s.currentlyImporting){m8B.defaultAnchorTime=F1H;}F$OMy.b5b();return m8B;};B7v.Studies.validateProjectedVolumeLookback=function(k9E,g5P){F$OMy.d9F();var {interval:V1J, periodicity:A1H}=k9E.layout;var {"Lookback Days":a2J}=g5P.inputs;F$OMy.X6U(177);return F$OMy.o$D(a2J,"10",32,V1J,A1H);};B7v.Studies.calculateProjectedVolume=function(f3i,b$n){var Y4N=F$OMy;var h3B,I9I,g5z,E7j,a0R,J8Q,O5l,Y6y,v8w,u7X,d9a,t$J,f6o,R4Y,s45,w7U,C2m,J9s,F57,j1q,q63,E_m,W6v,T4E,V6W,U6A,w5h,S41,h5_,I91,R93,a8l,U$e,L$q,Y1Q,x0$,n3k,U3H,D1f,B_Q,N7$,v4M,I11,f9E,T1d,g9m,R$Y,m35,c9l,D02,I94,H2p,G_o,C3q,j5w,J$S;h3B="Average";h3B+=" ";h3B+="Line";function b8r(n50){console.error(`${"Expected d" + "ata" + " fo" + "r "}${d3b(n50).toDateString()}${" but found none. This m" + "ay be caused by gaps in your data or an improperly configured market definition."}`);}function y$y(X_Q){Y4N.d9F();return {hours:X_Q.getHours(),minutes:X_Q.getMinutes()};}I9I="PV";I9I+=" ";g5z="P";g5z+="V";g5z+=" ";E7j="Ancho";E7j+="r Select";function s78(b9$){return f3i.tickFromDate(b9$,null,null,!![],"scrubbed");}E7j+="o";E7j+="r";a0R="heikinash";a0R+="i";J8Q="o";J8Q+="h";J8Q+="l";J8Q+="c";O5l="t";O5l+="ick";Y6y="P";Y6y+="A";Y6y+="V";var {interval:s$H, timeUnit:I6p, aggregationType:I4L}=f3i.layout;var {symbol:W9F, scroll:D_m, scrubbed:S5R, market:D1E}=f3i.chart;v8w=b$n.type === Y6y;u7X=b$n.study?b$n.study.name:b$n.type;if(B7v.ChartEngine.isDailyInterval(s$H)){b$n.error=`${u7X} is Intraday Only`;}else if(I6p === O5l){b$n.error=`Tick mode not supported for ${u7X}`;}else if(I6p !== "minute"){b$n.error=`Sub-minute periodicities not supported for ${u7X}`;}else if(!I4L || ![J8Q,a0R].includes(I4L)){b$n.error=`Aggregation type not supported for ${u7X}`;}else if(!B7v.Studies.validateProjectedVolumeLookback(f3i,b$n)){b$n.error=`Selected lookback/periodicity combo not supported for ${u7X}`;}if(b$n.error){return;}if(b$n.inputs[E7j]){B7v.Studies.initAnchorHandle(f3i,b$n);}else {B7v.Studies.removeAnchorHandle(f3i,b$n);}d9a=D1E?D1E.getNormalOpen():"00:00";if(d9a.match(/^[\d]{2}:[\d]{2}$/)){d9a+=":00";}function b$a(K88){var A2B;K88.setHours(0);K88.setMinutes(0);A2B=B7v.Studies.getMarketOffset({stx:f3i,localQuoteDate:K88});return new Date(K88.getTime() + A2B);}if(!f3i.currentlyImporting){if(!b$n.defaultAnchorTime){b$n.defaultAnchorTime=d9a;}else if(d9a !== b$n.defaultAnchorTime){b$n.defaultAnchorTime=d9a;b$n.inputs["Anchor Time"]=d9a;B7v.Studies.repositionAnchor(f3i,b$n);return;}}var {"Lookback Days":O6e, "Anchor Time":S4z}=b$n.inputs;var [M50,f9h,W32 = 0]=S4z.split(391.22 > 664?(1140,+"2120") <= (1085,3027)?("p",0xf73):(0xe7d,+"5.18e+3"):":");t$J=B7v.getFn("Market.Symbology.isForexSymbol")(W9F);f6o=b$n.getDependents(f3i);R4Y=0;s45=[];f6o.forEach(({inputs:N1J, outputMap:e_o})=>{if(N1J.Period){R4Y=Math.max(parseInt(N1J.Period),R4Y);s45.push(...Object.keys(e_o));}});b$n.dependentsOutputMap=s45;C2m=u0i(S5R.length - +"1",!![]);J9s=Math.ceil(S5R.length - 1 - D_m);Y4N.X6U(0);F57=u0i(Y4N.w65(R4Y,J9s));if(t$J && S5R[F57] && B7v.dateToStr(S5R[F57].DT,"HH:mm") !== d9a){Y4N.X6U(0);F57=u0i(Y4N.o$D(1,F57));;}if(!t$J && b$n.startFrom > F57 && S5R[F57] && S5R[F57]["V " + b$n.name] !== undefined && s45.every(X$T=>{Y4N.b5b();return ![undefined,null].includes(S5R[F57][X$T]);}) && C2m !== !!0){w7U=C2m;;}else {w7U=F57;}j1q=l48(d3b(F57),O6e);function d3b(c_A){return f3i.dateFromTick(c_A,null,!!1,"scrubbed");}j1q.setHours(0,0,0);q63=u0i(+"0",!![]);E_m=(q63 || q63 === "0" * 1) && s78(l48(S5R[q63].DT,O6e,!0));if(S5R[+"0"].DT > j1q){if(f3i.quoteDriver){if(b$n.chart.endPoints.begin > j1q){f3i.quoteDriver.extendHistoricalData({from:j1q});}if(E_m > 0){w7U=E_m;}else {return;}}else {return b$n.error=`Not enough data to calculate ${u7X}`;}}if(w7U < 0 || w7U > S5R.length - 1){return;}W6v=S5R.length - b$n.startFrom === +"1" && b$n.cachedFutureTicks && b$n.cachedLastProjection && +b$n.cachedLastProjection.DT === +S5R[S5R.length - 1].DT && S5R[w7U]["PV " + b$n.name];if(W6v){S5R[S5R.length - +"1"]["PV " + b$n.name]=b$n.cachedLastProjection.projectedValue;b$n.appendFutureTicks(f3i,b$n.cachedFutureTicks);w7U=b$n.startFrom;}else {T4E="P";T4E+="V";T4E+=" ";b$n.cachedFutureTicks=null;b$n.cachedLastProjection=null;V6W=[C2m];U6A=[];for(var W5q=0;W5q < O6e;W5q++){w5h=u0i(V6W["0" | 0] - 1);V6W.unshift(w5h);;}while(V6W[O6e] >= w7U){S41=V6W.pop();if(!S5R[S41]){return b8r(S41);}h5_=y$y(S5R[S41].DT);var {hours:u3D, minutes:T7W}=h5_;I91=D1E.getClose(S5R[S41].DT);R93=void 0;if(!I91){R93={hours:24,minutes:0};}else {a8l=D1E.getNextClose(S5R[S41].DT);R93=y$y(I91);while(!(R93.hours === 0 && R93.minutes === 0) && I91.getDate() === a8l.getDate()){I91=a8l;a8l=D1E.getNextClose(a8l);}R93=y$y(I91);if(R93.hours === 0){R93.hours=24;}}U$e=V6W.slice();for(var F28=+"0";F28 < U$e.length;F28++){L$q=U$e[F28];if(!S5R[L$q]){return b8r(L$q);}var {hours:g4n, minutes:Z5M}=y$y(S5R[L$q].DT);if(g4n < u3D || g4n === u3D && Z5M < T7W){do {L$q++;({hours:g4n, minutes:Z5M}=y$y(S5R[L$q].DT));}while(!(g4n === u3D && Z5M === T7W));}U$e[F28]=L$q;}while(u3D < R93.hours || u3D === R93.hours && T7W < R93.minutes){Y1Q=!({});x0$=void +"0";n3k=void +"0";U3H=0;Y4N.X6L(17);D1f=Y4N.w65("0",32);for(var q5a=0;q5a < U$e.length;q5a++){B_Q=U$e[q5a];if(B_Q === null)continue;N7$=S5R[B_Q];if(!N7$){return b8r(B_Q);}var {hours:n8m, minutes:V_6}=y$y(N7$.DT);v4M=N7$.DT.getDate();if(n8m === u3D && V_6 === T7W){U3H+=N7$.Volume;D1f++;U$e[q5a]++;if(S5R[U$e[q5a]].DT.getDate() !== v4M){U$e[q5a]=null;}else if(!Y1Q){({hours:x0$, minutes:n3k}=y$y(S5R[U$e[q5a]].DT));Y1Q=!!({});;}}}u3D=x0$;T7W=n3k;if(D1f === 0)break;Y4N.X6L(4);I11=Y4N.w65(D1f,U3H);if(S5R[S41]){S5R[S41]["PV " + b$n.name]=I11;}else {U6A.push({["PV " + b$n.name]:I11});}S41++;}V6W.unshift(u0i(V6W[0] - +"1"));;}b$n.cachedLastProjection={DT:S5R[S5R.length - ("1" ^ 0)].DT,projectedValue:S5R[S5R.length - ("1" - 0)][T4E + b$n.name]};b$n.cachedFutureTicks=U6A;b$n.appendFutureTicks(f3i,U6A);}f9E=null;T1d=+"0";g9m=0;function u0i(K9b,g9F){var I3P,j2B,K1c;I3P=d3b(K9b);j2B=D1E.getOpen(I3P) || b$a(I3P);K1c=s78(j2B);if(!g9F){return K1c;}if(K1c < 0){K1c=s78(l48(j2B,1,!![]));}if(K1c >= S5R.length){return !!"";}return K1c;}if(W6v && v8w){while(w7U > 0){m35="V";m35+=" ";Y4N.X6U(178);c9l=S5R[Y4N.o$D(1,"1",w7U)][m35 + b$n.name];if(c9l || c9l === 0){T1d=c9l;break;}w7U--;}}for(var E$2=w7U;E$2 < S5R.length;E$2++){D02="P";D02+="V";D02+=" ";I94=S5R[E$2];H2p=I94.Volume;G_o=I94["PV " + b$n.name];if(!I94.futureTick){R$Y=E$2;}if(f9E === null){f9E=B7v.Studies.getMarketOffset({stx:f3i,localQuoteDate:S5R[E$2].DT,shiftToDateBoundary:!!({})});}C3q=new Date(new Date(I94.DT).getTime() + f9E);j5w=S5R[E$2 - 1] && new Date(new Date(S5R[E$2 - 1].DT).getTime() + f9E);J$S=new i$a.Date(I94.DT,D1E.market_def.market_tz || "America/New_York");J$S.setHours(M50,f9h,W32);Y4N.X6L(1);J$S=new Date(Y4N.w65(f9E,J$S));J$S.setDate(C3q.getDate());if(j5w && C3q.getDate() !== j5w.getDate()){f9E=null;T1d=0;g9m=0;}if(C3q < J$S){I94["V " + b$n.name]=0;I94["PV " + b$n.name]=0;continue;}if(v8w){T1d+=H2p;g9m+=G_o;}else {T1d=H2p;g9m=G_o;}I94["V " + b$n.name]=T1d;if(!W6v){I94[D02 + b$n.name]=g9m;}if([NaN,null,undefined].includes(T1d) && !I94.futureTick){Y4N.X6L(1);b$n.error=`${u7X}${Y4N.o$D("requires volume"," ")}`;return;}}b$n.cachedLastProjection.projectedValue=S5R[R$Y][g5z + b$n.name];Y4N.d9F();b$n.outputMap={};function l48(P4E,Z5t,z7o){while(Z5t){P4E=new Date(new Date(P4E).setDate(P4E.getDate() + (z7o?1:-1)));if(D1E.isMarketDate(P4E)){Z5t--;}}Y4N.d9F();return P4E;}b$n.outputMap["V " + b$n.name]="";b$n.outputMap[I9I + b$n.name]=h3B;f6o.forEach(Z9p=>{Z9p.startFrom=w7U;Y4N.d9F();Z9p.study.calculateFN(f3i,Z9p);});};B7v.Studies.displayProjectedVolume=function(r9Q,T6m,w3a){var R1Z=F$OMy;var Q1w,i3Y,u6N,o0N,J5R,z_O,V35,L6X,V9d,y3X,O9E,c4W,T07;if(T6m.error){return B7v.Studies.removeAnchorHandle(r9Q,T6m);}Q1w=-407504837;R1Z.X6L(24);i3Y=R1Z.w65(0,"1750312721");u6N=2;for(var f75=1;R1Z.Q0B(f75.toString(),f75.toString().length,71436) !== Q1w;f75++){o0N="V";o0N+=" ";J5R="Al";J5R+="ert Threshold";var {"Alert Threshold":U4k = "object"}=T6m.inputs;R1Z.X6U(125);var J5d=R1Z.o$D(12,1,11,7);R1Z.X6L(0);var k7t=R1Z.o$D(3,11);R1Z.X6U(0);var Z2Y=R1Z.o$D(2,34);R1Z.X6L(1);var u6S=R1Z.o$D(18,187);z_O=parseInt(U4k.slice(J5d,k7t),"49" << Z2Y) + u6S;V35=T6m.outputs[J5R];if(~V35 != o0N){V35=V35.color;}T6m.volumeField="Alert Threshold" / T6m.name;T6m.alignStepToSide=!({});T6m.extendToEndOfLastBar=!!"";u6N+=2;}R1Z.b5b();if(R1Z.Q0B(u6N.toString(),u6N.toString().length,"30921" * 1) !== i3Y){L6X="A";L6X+="le";L6X+="rt B";L6X+="ar";var {"Alert Threshold":U4k = ""}=T6m.inputs;R1Z.X6U(0);var W4t=R1Z.w65(1,0);R1Z.X6L(0);var S3c=R1Z.o$D(8,18);z_O=parseInt(U4k.slice(0,W4t),S3c) / ("100" - 0);V35=T6m.outputs[L6X];if(typeof V35 === "object"){V35=V35.color;}T6m.volumeField="V " + T6m.name;T6m.alignStepToSide=!!"1";T6m.extendToEndOfLastBar=!!"1";}T6m.lineWidth=2;V9d=r9Q.canvasStyle("stx_volume_underlay_up").opacity;y3X=r9Q.canvasStyle("stx_volume_underlay_down").opacity;T6m.colorFunction=function(n4N){var k$m,P2J,p3$,q$h,m9r,o8s,K7M;k$m="P";k$m+="V";k$m+=" ";var {Open:D_y, Close:T3o, iqPrevClose:k27}=n4N;P2J=r9Q.colorByCandleDirection?D_y:k27;R1Z.X6U(179);p3$=R1Z.o$D(T3o,P2J);q$h=n4N[k$m + T6m.name];m9r=n4N["V " + T6m.name];R1Z.X6L(180);o8s=R1Z.o$D(z_O,q$h,1);K7M=z_O < +"0"?m9r < o8s:m9r > o8s;return {fill_color:K7M && V35 || (p3$?this.fill_color_down:this.fill_color_up),border_color:p3$?this.border_color_down:this.border_color_up,opacity:K7M?1:p3$?y3X:V9d,border_opacity:p3$?y3X:V9d};};O9E=T6m.study?T6m.study.name:T6m.type;var {loadingMore:T_s}=r9Q.chart;c4W=w3a.some(v21=>{var y_L;y_L="P";y_L+="V";y_L+=" ";return v21 && v21[T6m.volumeField] && v21[y_L + T6m.name];});T07=w3a[0] && !w3a[0].futureTick && (w3a[0]["PV " + T6m.name] === undefined || (T6m.dependentsOutputMap || []).some(c0Z=>{return [undefined,null].includes(w3a[0][c0Z]);}));if(!c4W && T_s){return T6m.error=`Fetching data for ${O9E}`;}B7v.Studies.createVolumeChart(r9Q,T6m,w3a);B7v.Studies.displaySeriesAsLine(r9Q,T6m,w3a);if(T6m.anchorHandle){B7v.Studies.displayAnchorHandleAndLine(r9Q,T6m,w3a);}if(T07){B7v.Studies.calculateProjectedVolume(r9Q,T6m);}};B7v.Studies.studyLibrary=B7v.extend(B7v.Studies.studyLibrary,{PVAT:{name:g8u,range:"0 to max",yAxis:{ground:!!({})},calculateFN:B7v.Studies.calculateProjectedVolume,seriesFN:B7v.Studies.displayProjectedVolume,initializeFN:B7v.Studies.initProjectedVolume,removeFN:B7v.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%",I81,"None","-25%","-50%","-75%",N8l,"-125%",p4d],"Anchor Selector":!![]},outputs:{"Average Line":v_Z,"Alert Bar":C4y,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:U8W,yAxis:{ground:!![]},calculateFN:B7v.Studies.calculateProjectedVolume,seriesFN:B7v.Studies.displayProjectedVolume,initializeFN:B7v.Studies.initProjectedVolume,removeFN:B7v.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":!""},outputs:{"Average Line":"#fe641c","Up Volume":K8K,"Down Volume":"#b82c0c"},parameters:{plotType:G0t},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:+"1"}}}});}};K7=S$M=>{var V$S,k8S,t1O;V$S=typeof _CIQ !== "undefined"?_CIQ:S$M.CIQ;if(!V$S.Studies){k8S="psychologica";k8S+="lLine feature requires first activating studies feature.";console.error(k8S);}else {t1O="Psycho";t1O+="logical Line";V$S.Studies.calculatePsychologicalLine=function(v6F,V37){var V8M,R3p,P8w,F0N,Q98,B5D;V8M=V37.chart.scrubbed;if(V8M.length < V37.days + "1" * 1){V37.error=!0;return;}R3p=[];P8w=+"100" / V37.days;F$OMy.X6U(17);F$OMy.b5b();F0N=F$OMy.o$D("0",32);for(var I_b=Math.max(V37.startFrom - V37.days,1);I_b < V8M.length;I_b++){Q98="Res";Q98+="u";Q98+="l";Q98+="t ";if(V8M[I_b].futureTick)break;B5D=Number(V8M[I_b].Close > V8M[I_b - +"1"].Close);if(B5D){F0N+=P8w;}R3p.push(B5D);if(R3p.length > V37.days){F0N-=R3p.shift() * P8w;}if(I_b < V37.startFrom)continue;if(!isNaN(V8M[I_b].Close)){V8M[I_b][Q98 + V37.name]=F0N;}}};V$S.Studies.studyLibrary=V$S.extend(V$S.Studies.studyLibrary,{PSY:{name:t1O,range:"0 to 100",calculateFN:V$S.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};w4=z4L=>{var e7L,z5q,J9A;e7L="unde";F$OMy.d9F();e7L+="fined";z5q=typeof _CIQ !== e7L?_CIQ:z4L.CIQ;if(!z5q.Studies){J9A="q";J9A+="stick feature requires first";J9A+=" activating studies feature.";console.error(J9A);}else {z5q.Studies.calculateQStick=function(C3M,U_U){var m0P,j0v,H5r;m0P="Moving Avera";m0P+="ge Type";j0v=U_U.chart.scrubbed;if(j0v.length < U_U.days + 1){U_U.error=!!"1";return;}F$OMy.b5b();for(var T60=U_U.startFrom;T60 < j0v.length;T60++){H5r="_Cl";H5r+="ose-";H5r+="Ope";H5r+="n ";j0v[T60][H5r + U_U.name]=j0v[T60].Close - j0v[T60].Open;}z5q.Studies.MA(U_U.inputs[m0P],U_U.days,"_Close-Open " + U_U.name,0,"Result",C3M,U_U);};z5q.Studies.studyLibrary=z5q.extend(z5q.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:z5q.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});}};O$=u0q=>{var u2E=F$OMy;var r_m,a$X,f$G,x_T,X2S,P0u,q8D,Y4$;r_m=typeof _CIQ !== "undefined"?_CIQ:u0q.CIQ;u2E.d9F();if(!r_m.Studies){a$X="rainbow feature requires f";a$X+="irst activat";a$X+="ing studies feature.";console.error(a$X);}else {f$G="Rainbow O";f$G+="scillator";x_T="#F";x_T+="F00FF";X2S="#";X2S+="0";X2S+="0FFF";X2S+="F";P0u="#";P0u+="7FF";P0u+="F0";P0u+="0";q8D="#FF7";q8D+="F0";q8D+="0";Y4$="Rainbow Mov";Y4$+="ing";Y4$+=" Averag";Y4$+="e";r_m.Studies.calculateRainbow=function(N9V,a3Z){var Y0P,H7r,E5B,A5Q,m38,W6m,V4I,N4r,g_U,z6h,q5j,G1s,D_7;Y0P="Cl";Y0P+="o";Y0P+="se";H7r=a3Z.chart.scrubbed;if(H7r.length < a3Z.days + 1){a3Z.error=!!({});return;}E5B=a3Z.inputs.Field;if(!E5B || E5B == "field"){E5B=Y0P;}A5Q=E5B;function J14(N6m,b_J){var X4U,H1W;u2E.X6U(66);var f1o=u2E.w65(43,11,4);X4U=Number.MAX_VALUE * f1o;H1W=Number.MAX_VALUE;for(var P7x=b_J - N6m + 1;P7x <= b_J;P7x++){if(P7x < 0)continue;X4U=Math.max(X4U,H7r[P7x].Close);H1W=Math.min(H1W,H7r[P7x].Close);}return [H1W,X4U];}for(var b23=+"1";b23 <= +"10";b23++){m38="S";m38+="M";m38+="A";r_m.Studies.MA("simple",a3Z.days,A5Q,0,"SMA" + b23,N9V,a3Z);A5Q=m38 + b23 + " " + a3Z.name;}for(var s_8=Math.max(a3Z.startFrom,10);s_8 < H7r.length;s_8++){W6m="O";W6m+="s";W6m+="c";if(!H7r[s_8])continue;if(H7r[s_8].futureTick)break;V4I=0;u2E.X6L(40);N4r=u2E.w65("0",32);u2E.X6L(2);var J1w=u2E.w65(6,7,0);g_U=Number.MAX_VALUE * J1w;z6h=Number.MAX_VALUE;for(b23=1;b23 <= ("10" | 10);b23++){u2E.X6L(29);var A5f=u2E.o$D(15,499,4010,3992,3);u2E.X6L(0);var x2l=u2E.w65(50160,54340);u2E.X6U(125);var E27=u2E.o$D(224,106,12,670);q5j=H7r[s_8]["SMA" + b23 + ((77.23,995.58) < 538.29?(A5f,x2l):621.34 <= ("718.29" - 0,E27)?" ":"B") + a3Z.name];if(q5j || q5j === 0){V4I+=q5j;N4r++;g_U=Math.max(g_U,q5j);z6h=Math.min(z6h,q5j);}}if(a3Z.name.indexOf(W6m) > -("1" << 64)){G1s=J14(a3Z.inputs["HHV/LLV Lookback"],s_8);if(N4r){u2E.X6L(0);var P_l=u2E.o$D(18,118);u2E.X6U(0);var k6n=u2E.w65(16,17);H7r[s_8][a3Z.name + "_hist"]=P_l * (H7r[s_8][E5B] - V4I / N4r) / Math.max(0.000001,G1s[k6n] - G1s[0]);u2E.X6L(51);var c9T=u2E.w65(1,29,109,20);u2E.X6U(117);var U$5=u2E.o$D(0,46,9,20,3);H7r[s_8]["Over " + a3Z.name]=c9T * (g_U - z6h) / Math.max(0.000001,G1s[U$5] - G1s[0]);H7r[s_8]["Under " + a3Z.name]=-H7r[s_8]["Over " + a3Z.name];u2E.X6L(9);H7r[s_8]["Zero " + a3Z.name]=u2E.w65(1,"0");}}}if(a3Z.name.indexOf("Osc") > -1){D_7="_his";D_7+="t";a3Z.outputMap={};a3Z.outputMap["Over " + a3Z.name]="Positive Bar";a3Z.outputMap["Under " + a3Z.name]="Negative Bar";a3Z.outputMap["Zero " + a3Z.name]="";a3Z.outputMap[a3Z.name + D_7]="";}};r_m.Studies.displayRainbowMA=function(l2W,p6F,A38){var K6J;u2E.b5b();K6J=l2W.panels[p6F.panel];for(var e1a=10;e1a > ("0" | 0);e1a--){r_m.Studies.displayIndividualSeriesAsLine(l2W,p6F,K6J,"SMA" + e1a + (384.98 >= (2816,+"1250")?(0x2061,!"1"):" ") + p6F.name,A38);}};r_m.Studies.displayRainbowOsc=function(O93,i0p,g4u){var g_p,t25,B5T,E8J,W6t,a$T,j9Q,b9u,f9u,H9N,q8W,T70,O11,f_k,p7e,L6A,P1Q,F6M,D8C;g_p="stx_histog";g_p+="r";g_p+="am";t25="Z";t25+="ero";t25+=" ";B5T="U";B5T+="nder ";E8J="Ne";E8J+="ga";E8J+="t";E8J+="ive Bar";W6t="Positive";W6t+=" Bar";r_m.Studies.displaySeriesAsLine(O93,i0p,g4u);a$T=O93.panels[i0p.panel];j9Q=i0p.getContext(O93);b9u=i0p.getYAxis(O93);O93.startClip(i0p.panel);if(!i0p.highlight && O93.highlightedDraggable){j9Q.globalAlpha*=0.3;}u2E.X6U(37);f9u=O93.pixelFromPrice(u2E.w65("0",0),a$T,b9u);H9N=a$T.name != i0p.chart.name;q8W=r_m.Studies.determineColor(i0p.outputs[W6t]);j9Q.strokeStyle=q8W;O93.plotDataSegmentAsLine("Over " + i0p.name,a$T,{skipTransform:H9N,label:![],yAxis:b9u});T70=j9Q.createLinearGradient(0,f9u,0,b9u.flipped?b9u.bottom:b9u.top);T70.addColorStop(+"0",O93.containerColor);T70.addColorStop(1,q8W);r_m.prepareChannelFill(O93,{skipTransform:H9N,color:T70,opacity:!i0p.highlight && O93.highlightedDraggable?0.3:1,panelName:i0p.panel,topBand:"Over " + i0p.name,bottomBand:"Zero " + i0p.name,yAxis:b9u});O11=r_m.Studies.determineColor(i0p.outputs[E8J]);j9Q.strokeStyle=O11;O93.plotDataSegmentAsLine(B5T + i0p.name,a$T,{skipTransform:H9N,label:!!0,yAxis:b9u});f_k=j9Q.createLinearGradient(+"0",f9u,0,b9u.flipped?b9u.top:b9u.bottom);f_k.addColorStop(0,O93.containerColor);f_k.addColorStop(1,O11);r_m.prepareChannelFill(O93,{skipTransform:H9N,color:f_k,opacity:!i0p.highlight && O93.highlightedDraggable?0.3:"1" * 1,panelName:i0p.panel,topBand:t25 + i0p.name,bottomBand:"Under " + i0p.name,yAxis:b9u});u2E.X6L(181);var y$$=u2E.o$D(9,20,2894,16,16);p7e=O93.layout.candleWidth - y$$;if(p7e < "2" << 32){p7e=1;}O93.canvasColor(g_p);if(!i0p.underlay){j9Q.globalAlpha=1;}if(!i0p.highlight && O93.highlightedDraggable){j9Q.globalAlpha*=0.3;}j9Q.fillStyle="#CCCCCC";for(var P94=0;P94 < g4u.length;P94++){L6A="_h";L6A+="i";L6A+="s";L6A+="t";P1Q="_";P1Q+="h";P1Q+="ist";F6M="_";F6M+="his";F6M+="t";D8C=g4u[P94];if(!D8C)continue;if(D8C[i0p.name + F6M] > 0){j9Q.fillStyle=q8W;}else if(D8C[i0p.name + P1Q] < 0){j9Q.fillStyle=O11;}if(D8C.candleWidth){p7e=Math.floor(Math.max(1,D8C.candleWidth - 2));}j9Q.fillRect(Math.floor(O93.pixelFromBar(P94,a$T.chart) - p7e / +"2"),Math.floor(f9u),Math.floor(p7e),Math.floor(O93.pixelFromPrice(D8C[i0p.name + L6A],a$T,b9u) - f9u));}O93.endClip();};r_m.Studies.studyLibrary=r_m.extend(r_m.Studies.studyLibrary,{"Rainbow MA":{name:Y4$,overlay:!"",calculateFN:r_m.Studies.calculateRainbow,seriesFN:r_m.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:"#FF0000",SMA2:q8D,SMA3:"#FFFF00",SMA4:P0u,SMA5:"#00FF7F",SMA6:X2S,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:x_T}},"Rainbow Osc":{name:f$G,calculateFN:r_m.Studies.calculateRainbow,seriesFN:r_m.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:"2" << 32,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};B7=Q$3=>{var w9p,u7g,m_u,O0M;w9p="undefi";F$OMy.b5b();w9p+="ned";u7g=typeof _CIQ !== w9p?_CIQ:Q$3.CIQ;if(!u7g.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {m_u="#00";m_u+="0";m_u+="0F";m_u+="F";O0M="#";O0M+="FF";O0M+="000";O0M+="0";u7g.Studies.calculateRandomWalk=function(h1Q,f1p){var N6O,O_E,E4n,R_0,r$0,C9s,z4f,e6i,q9$,o0Q;N6O=f1p.chart.scrubbed;if(N6O.length < f1p.days + 1){f1p.error=!!({});return;}for(var j7E=Math.max(2,f1p.startFrom);j7E < N6O.length;j7E++){O_E=0;E4n=N6O[j7E].High;R_0=N6O[j7E].Low;r$0=0;C9s=0;for(var k_Q=1;k_Q <= f1p.days;k_Q++){if(N6O[j7E].futureTick)break;if(j7E <= k_Q){r$0=C9s=0;break;}O_E+=N6O[j7E - k_Q].trueRange;z4f=O_E / k_Q * Math.sqrt(k_Q);if(z4f){e6i=(E4n - N6O[j7E - k_Q].Low) / z4f;q9$=(N6O[j7E - k_Q].High - R_0) / z4f;r$0=Math.max(r$0,e6i);C9s=Math.max(C9s,q9$);}}if(!N6O[j7E].futureTick && (!isNaN(E4n) || !isNaN(R_0))){o0Q="Ra";o0Q+="ndom Wa";o0Q+="lk High ";N6O[j7E][o0Q + f1p.name]=r$0;N6O[j7E]["Random Walk Low " + f1p.name]=C9s;}}};u7g.Studies.studyLibrary=u7g.extend(u7g.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:u7g.Studies.calculateRandomWalk,outputs:{"Random Walk High":O0M,"Random Walk Low":m_u}}});}};E$=w$c=>{var n_J=F$OMy;var r9j,g2Y,g4m,u1t,y2N;r9j=typeof _CIQ !== "undefined"?_CIQ:w$c.CIQ;if(!r9j.Studies){g2Y=-1856556607;g4m=911716994;u1t=2;for(var b7U="1" ^ 0;n_J.Q0B(b7U.toString(),b7U.toString().length,58083) !== g2Y;b7U++){console.error("");u1t+=2;}if(n_J.Q0B(u1t.toString(),u1t.toString().length,48802) !== g4m){console.error("");}console.error("relativeVigor feature requires first activating studies feature.");}else {y2N="#";y2N+="F";y2N+="F0000";r9j.Studies.calculateRelativeVigor=function(U9U,e8y){var o0a,j6M,G1V,F_5,K2n,B4j,o9l,y0W,y8t,V$c,o4d,X6M,D2V;o0a="_h";o0a+="is";o0a+="t";j6M="t";j6M+="ria";n_J.d9F();j6M+="ngul";j6M+="ar";G1V=e8y.chart.scrubbed;if(G1V.length < e8y.days + 1){e8y.error=!!1;return;}for(F_5=e8y.startFrom;F_5 < G1V.length;F_5++){K2n="_Ran";K2n+="ge ";B4j="_Chang";B4j+="e ";o9l=G1V[F_5];if(!isNaN(o9l.Close) && !isNaN(o9l.Open)){o9l[B4j + e8y.name]=o9l.Close - o9l.Open;}if(!isNaN(o9l.High) && !isNaN(o9l.Low)){o9l[K2n + e8y.name]=o9l.High - o9l.Low;}}r9j.Studies.MA("triangular",+"4","_Change " + e8y.name,0,"_Numer",U9U,e8y);n_J.X6L(37);r9j.Studies.MA("triangular",n_J.w65("4",4),"_Range " + e8y.name,+"0","_Denom",U9U,e8y);y0W=[];y8t=[];for(F_5=Math.max(e8y.startFrom - e8y.days,0);F_5 < G1V.length;F_5++){if(G1V[F_5].futureTick)break;if(G1V[F_5]["_Numer " + e8y.name] === null && G1V[F_5]["_Denom " + e8y.name] === null)continue;y0W.push(G1V[F_5]["_Numer " + e8y.name]);y8t.push(G1V[F_5]["_Denom " + e8y.name]);if(y0W.length > e8y.days){y0W.shift();y8t.shift();}V$c=0;o4d=0;for(X6M=0;X6M < y0W.length;X6M++){V$c+=y0W[X6M];}for(X6M=0;X6M < y8t.length;X6M++){o4d+=y8t[X6M];}if(o4d === 0){o4d=0.00000001;}if(F_5 < e8y.startFrom)continue;n_J.X6L(4);G1V[F_5]["Rel Vig " + e8y.name]=n_J.w65(o4d,V$c);}r9j.Studies.MA(j6M,4,"Rel Vig " + e8y.name,+"0","RelVigSignal",U9U,e8y);for(F_5=e8y.startFrom;F_5 < G1V.length;F_5++){D2V="R";D2V+="elVigSi";D2V+="gnal ";G1V[F_5][e8y.name + "_hist"]=G1V[F_5]["Rel Vig " + e8y.name] - G1V[F_5][D2V + e8y.name];}e8y.outputMap[e8y.name + o0a]="";};r9j.Studies.studyLibrary=r9j.extend(r9j.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:r9j.Studies.displayHistogramWithSeries,calculateFN:r9j.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:y2N,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};A2=J7w=>{var X7L;X7L=typeof _CIQ !== "undefined"?_CIQ:J7w.CIQ;if(!X7L.Studies){console.error("rsi feature requires first activating studies feature.");}else {X7L.Studies.calculateRSI=function(x0i,v7D){var k56=F$OMy;var o40,c0I,Q5n,k0R,H4u,g5D,w$a,i7s,Q_S,T5l;o40="R";o40+="S";o40+="I";c0I=v7D.chart.scrubbed;k56.d9F();Q5n=v7D.inputs.Field;if(!Q5n || Q5n == "field"){Q5n="Close";}if(c0I.length < v7D.days + 1){v7D.error=!![];return;}for(var c4o=v7D.startFrom;c4o < c0I.length;c4o++){k0R="_";k0R+="av";k0R+="g";k0R+="G ";if(!c4o)continue;H4u=c0I[c4o];k56.X6U(0);g5D=c0I[k56.w65(1,c4o)];if(!H4u[Q5n] && H4u[Q5n] !== +"0")continue;if(!g5D[Q5n] && g5D[Q5n] !== 0)continue;w$a=H4u[Q5n] - g5D[Q5n];i7s=Math.min(c4o,v7D.days);Q_S=g5D["_avgG " + v7D.name];if(!Q_S){Q_S=0;}k56.X6L(4);Q_S-=k56.w65(i7s,Q_S);T5l=g5D["_avgL " + v7D.name];if(!T5l){T5l=0;}k56.X6U(4);T5l-=k56.w65(i7s,T5l);if(w$a > 0){k56.X6U(4);Q_S+=k56.w65(i7s,w$a);}else if(w$a <= "0" << 64){k56.X6U(4);T5l-=k56.w65(i7s,w$a);}else continue;if(c4o >= v7D.days){if((Q_S || Q_S !== 0) && (T5l || T5l !== "0" << 0)){H4u["RSI " + v7D.name]=A8j(Q_S,T5l);}}H4u[k0R + v7D.name]=Q_S;H4u["_avgL " + v7D.name]=T5l;}function A8j(a6h,l9w){var O6k;if(l9w === 0){return +"100";}k56.X6L(4);k56.d9F();O6k=k56.w65(l9w,a6h);k56.X6U(182);return k56.o$D("1",O6k,100,100);}v7D.zoneOutput=o40;};X7L.Studies.studyLibrary=X7L.extend(X7L.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:X7L.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};I5=w0W=>{var N_W=F$OMy;var t3K,a$9,G0e,Y69;N_W.d9F();t3K=typeof _CIQ !== "undefined"?_CIQ:w0W.CIQ;if(!t3K.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {a$9="a";a$9+="uto";G0e="0 t";G0e+="o ";G0e+="100";Y69="Scha";Y69+="ff Tre";Y69+="nd Cycle";t3K.Studies.calculateSchaff=function(W0T,o9q){var Q0T,m0$,V1T,A6w,W0A,m1g,s5H,j13,l4t,P4M,k9e,l5b,y6u,P1M,f08,T1Z,M9B,w6z,Y0V,e0k,s_D;Q0T="Long C";Q0T+="ycle";m0$=o9q.chart.scrubbed;V1T=o9q.days;A6w=Number(o9q.inputs["Short Cycle"]);W0A=Number(o9q.inputs[Q0T]);if(m0$.length < Math.max(V1T,A6w,W0A) + 1){o9q.error=!![];return;}m1g=o9q.inputs.Field;if(!m1g || m1g == "field"){m1g="Close";}s5H=0.5;t3K.Studies.MA(o9q.inputs["Moving Average Type"],A6w,m1g,0,"_MACD1",W0T,o9q);t3K.Studies.MA(o9q.inputs["Moving Average Type"],W0A,m1g,0,"_MACD2",W0T,o9q);j13=0;l4t=0;function i4x(j4o,p91,k5K){var s5M,s05,i$j;s5M=null;s05=null;N_W.b5b();for(var Z1l=p91 - j4o + 1;Z1l <= p91;Z1l++){N_W.X6L(55);var S46=N_W.o$D(9,35,17,7,187);N_W.X6L(1);var b_B=N_W.o$D(5042,458);N_W.X6U(53);var S2W=N_W.w65(17,8533,1);i$j=m0$[Z1l][k5K + (S46 === +"3879"?(b_B,S2W):" ") + o9q.name];if(!i$j)continue;s5M=s5M === null?i$j:Math.min(s5M,i$j);s05=s05 === null?i$j:Math.max(s05,i$j);}return [s5M,s05];}for(var B7s=o9q.startFrom;B7s < m0$.length;B7s++){P4M="_";P4M+="P";P4M+="F";k9e="_P";k9e+="F";k9e+=" ";l5b=m0$[B7s];if(B7s < W0A - 1)continue;y6u=l5b["_MACD1 " + o9q.name];P1M=l5b["_MACD2 " + o9q.name];if(y6u || y6u === 0 || P1M || P1M === "0" - 0){f08="_";f08+="MA";f08+="CD ";N_W.X6U(0);l5b[f08 + o9q.name]=N_W.w65(P1M,y6u);}T1Z=l5b["_MACD " + o9q.name];if(B7s < W0A + (V1T - 1))continue;M9B=i4x(V1T,B7s,"_MACD");j13=M9B[1] > M9B[0]?("100" ^ 0) * (T1Z - M9B[+"0"]) / (M9B[1] - M9B[0]):j13;if(T1Z || T1Z === 0){w6z="_";w6z+="P";w6z+="F";w6z+=" ";l5b["_PF " + o9q.name]=m0$[B7s - 1]["_PF " + o9q.name]?m0$[B7s - 1]["_PF " + o9q.name] + s5H * (j13 - m0$[B7s - 1][w6z + o9q.name]):j13;}Y0V=l5b[k9e + o9q.name];if(B7s < W0A + +"2" * (V1T - +"1"))continue;M9B=i4x(V1T,B7s,P4M);l4t=M9B[1] > M9B[0]?100 * (Y0V - M9B[0]) / (M9B[1] - M9B[0]):l4t;if(Y0V || Y0V === 0){e0k="Res";e0k+="u";e0k+="lt ";s_D="Resu";s_D+="lt ";l5b["Result " + o9q.name]=m0$[B7s - 1]["Result " + o9q.name]?m0$[B7s - ("1" | 1)][s_D + o9q.name] + s5H * (l4t - m0$[B7s - 1][e0k + o9q.name]):l4t;}}};t3K.Studies.studyLibrary=t3K.extend(t3K.Studies.studyLibrary,{Schaff:{name:Y69,range:G0e,calculateFN:t3K.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:75,studyOverBoughtColor:a$9,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};P9=l$2=>{var N$z,g4O,R6f,e39;N$z="unde";N$z+="fined";g4O=typeof _CIQ !== N$z?_CIQ:l$2.CIQ;if(!g4O.Studies){console.error("shinohara feature requires first activating studies feature.");}else {R6f="#E9";R6f+="9B54";e39="Sh";e39+="inohara Intensity ";e39+="Ratio";g4O.Studies.calculateShinohara=function(R2s,o_x){var O2i=F$OMy;var Z7T,Z0h,V_p,K3j,G5X;Z7T=o_x.chart.scrubbed;if(Z7T.length < o_x.days + 1){o_x.error=!!"1";return;}Z0h={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(o_x.startFrom > 1){V_p="_a";V_p+="c";V_p+="cu";V_p+="ms ";Z0h=g4O.clone(Z7T[o_x.startFrom - 1][V_p + o_x.name]);}for(var a5f=o_x.startFrom;a5f < Z7T.length;a5f++){K3j="_";K3j+="accu";K3j+="ms";K3j+=" ";Z0h.weakNum+=Z7T[a5f].High - Z7T[a5f].Close;Z0h.weakDen+=Z7T[a5f].Close - Z7T[a5f].Low;if(a5f > "0" << 64){O2i.X6L(91);var y_6=O2i.w65(0,7,3,2);Z0h.strongNum+=Z7T[a5f].High - Z7T[a5f - y_6].Close;O2i.X6L(123);var m82=O2i.o$D(13,6,20);Z0h.strongDen+=Z7T[a5f - m82].Close - Z7T[a5f].Low;}if(a5f >= o_x.days){Z0h.weakNum-=Z7T[a5f - o_x.days].High - Z7T[a5f - o_x.days].Close;Z0h.weakDen-=Z7T[a5f - o_x.days].Close - Z7T[a5f - o_x.days].Low;Z7T[a5f]["Weak Ratio " + o_x.name]=+"100" * Z0h.weakNum / Z0h.weakDen;if(a5f > o_x.days){G5X="Str";G5X+="on";G5X+="g Ratio ";O2i.X6U(126);var P_V=O2i.w65(13,11,17,10,35);Z0h.strongNum-=Z7T[a5f - o_x.days].High - Z7T[a5f - o_x.days - "1" * P_V].Close;O2i.X6L(183);var a8F=O2i.w65(19,11,20,11,18);Z0h.strongDen-=Z7T[a5f - o_x.days - a8F].Close - Z7T[a5f - o_x.days].Low;O2i.X6L(0);var q3y=O2i.w65(4,104);Z7T[a5f][G5X + o_x.name]=q3y * Z0h.strongNum / Z0h.strongDen;}}Z7T[a5f][K3j + o_x.name]=g4O.clone(Z0h);}};g4O.Studies.studyLibrary=g4O.extend(g4O.Studies.studyLibrary,{Shinohara:{name:e39,calculateFN:g4O.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":R6f,"Weak Ratio":"#5F7CB8"}}});}};G3=S7S=>{var d7R=F$OMy;var b36,C_V,Q0b,j$e,r4Y,v4t,d_6,j8S,U2p,R_Z;d7R.b5b();b36=typeof _CIQ !== "undefined"?_CIQ:S7S.CIQ;if(!b36.Studies){C_V="st";C_V+="ochastics feature requires first activating studies feature.";console.error(C_V);}else {Q0b="Stocha";Q0b+="stics";j$e="a";j$e+="u";j$e+="t";j$e+="o";r4Y="#";r4Y+="FF00";r4Y+="00";v4t="a";v4t+="u";v4t+="t";v4t+="o";d_6="f";d_6+="i";d_6+="e";d_6+="ld";j8S="#";j8S+="FF";j8S+="0000";U2p="aut";U2p+="o";R_Z="Sto";R_Z+="ch";R_Z+="astic Momentum Index";b36.Studies.calculateStochastics=function(U3Z,D4h){var t4g,J3X,a9f,o$A,D6B,T28,N5k,B9k,Z3f,K8n,L1H,m2M,o7T;t4g="%";t4g+="D";J3X="%";J3X+="K";J3X+=" ";a9f="si";a9f+="mple";o$A="_Fast%";o$A+="K ";D6B="s";D6B+="i";D6B+="mp";function W3T(d1W,c75,Q83){var D6e,i_l,C3H,G$X,y5V,C3x,T7b;d7R.X6U(2);D6e=d7R.o$D(1,Q83,d1W);d7R.X6L(169);var d26=d7R.w65(13,5,17,0);i_l=Number.MAX_VALUE * d26;C3H=Number.MAX_VALUE;for(var k1G=D6e;k1G <= d1W;k1G++){G$X="C";G$X+="l";G$X+="os";G$X+="e";y5V=Z3f[k1G][c75 == G$X?"Low":c75];C3x=Z3f[k1G][c75 == "Close"?"High":c75];if(!y5V && y5V !== 0)continue;if(!C3x && C3x !== 0)continue;C3H=Math.min(C3H,y5V);i_l=Math.max(i_l,C3x);}if(i_l == Number.MAX_VALUE * -1 || C3H == Number.MAX_VALUE){return null;}d7R.d9F();T7b=i_l == C3H?0:(Z3f[d1W][c75] - C3H) / (i_l - C3H) * 100;return T7b;}D6B+="le";T28="f";T28+="ie";T28+="l";T28+="d";if(!D4h.smooth){D4h.smooth=D4h.inputs.Smooth;}N5k=D4h.inputs.Field;d7R.b5b();if(!N5k || N5k == T28){N5k="Close";}B9k=D4h.inputs["%K Periods"];if(!B9k){B9k=D4h.days;}Z3f=D4h.chart.scrubbed;if(Z3f.length < Math.max(B9k,D4h.days) + +"1"){D4h.error=!![];return;}K8n=D4h.inputs["%K Smoothing Periods"];if(K8n && !D4h.inputs.Fast){D4h.smooth=!!({});}else if(D4h.smooth){K8n=3;}L1H=D4h.inputs["%D Periods"];if(!L1H){L1H=3;}if(D4h.outputs.Fast){m2M="S";m2M+="low";D4h.outputMap={};D4h.outputMap["%K " + D4h.name]="Fast";D4h.outputMap["%D " + D4h.name]=m2M;}for(var c8g=Math.max(B9k,D4h.startFrom);c8g < Z3f.length;c8g++){o7T=W3T(c8g,N5k,B9k);if(o7T !== null){Z3f[c8g]["_Fast%K " + D4h.name]=W3T(c8g,N5k,B9k);}}b36.Studies.MA(D6B,D4h.smooth?K8n:1,o$A + D4h.name,0,"%K",U3Z,D4h);b36.Studies.MA(a9f,L1H,J3X + D4h.name,0,t4g,U3Z,D4h);};b36.Studies.calculateStochMomentum=function(A6O,o3X){var A6E,F$H,Q$8,G2B,X1b,j$A,L0W,w1Y,e5j,h3t,L0X,q9R,e3A,c$u;A6E="%";A6E+="K";F$H="%";F$H+="K";function c$a(N9T,R$O){d7R.b5b();var g8_,n8K;g8_=null;n8K=null;for(var x5$=R$O - N9T + 1;x5$ <= R$O;x5$++){g8_=g8_ === null?L0X[x5$].Low:Math.min(g8_,L0X[x5$].Low);n8K=n8K === null?L0X[x5$].High:Math.max(n8K,L0X[x5$].High);}return [g8_,n8K];}F$H+=" ";Q$8="_DH";Q$8+="L2";G2B="_";G2B+="D";G2B+="HL";G2B+=" ";d7R.d9F();X1b="_H";X1b+="S1";X1b+=" ";j$A="%K Pe";j$A+="ri";j$A+="ods";L0W=Number(o3X.inputs[j$A]);w1Y=Number(o3X.inputs["%K Smoothing Periods"]);e5j=Number(o3X.inputs["%K Double Smoothing Periods"]);h3t=Number(o3X.inputs["%D Periods"]);L0X=o3X.chart.scrubbed;if(L0X.length < L0W + w1Y + e5j - 1 || L0X.length < h3t){o3X.error=!!1;return;}for(q9R=Math.max(L0W,o3X.startFrom) - 1;q9R < L0X.length;q9R++){e3A=L0X[q9R];c$u=c$a(L0W,q9R);d7R.X6L(65);var J4t=d7R.o$D(11,101,17,5);d7R.X6U(39);var Z98=d7R.o$D(11,13);e3A["_H " + o3X.name]=e3A.Close - (c$u[0] + c$u[J4t]) / Z98;d7R.X6U(1);var Z6S=d7R.w65(1,0);e3A["_DHL " + o3X.name]=c$u[Z6S] - c$u[0];}b36.Studies.MA("exponential",w1Y,"_H " + o3X.name,+"0","_HS1",A6O,o3X);b36.Studies.MA("exponential",e5j,X1b + o3X.name,0,"_HS2",A6O,o3X);b36.Studies.MA("exponential",w1Y,G2B + o3X.name,0,"_DHL1",A6O,o3X);b36.Studies.MA("exponential",e5j,"_DHL1 " + o3X.name,0,Q$8,A6O,o3X);for(q9R=L0W - 1;q9R < L0X.length;q9R++){d7R.X6L(1);var T1a=d7R.o$D(13,87);L0X[q9R]["%K " + o3X.name]=L0X[q9R]["_HS2 " + o3X.name] / (+"0.5" * L0X[q9R]["_DHL2 " + o3X.name]) * T1a;}b36.Studies.MA(o3X.inputs["%D Moving Average Type"],h3t,F$H + o3X.name,0,"%D",A6O,o3X);o3X.zoneOutput=A6E;};b36.Studies.studyLibrary=b36.extend(b36.Studies.studyLibrary,{"Stch Mtm":{name:R_Z,calculateFN:b36.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":U2p,"%D":j8S},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:b36.Studies.calculateStochastics,inputs:{Period:14,Field:d_6,Smooth:!""},outputs:{Fast:v4t,Slow:r4Y},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:j$e}}},Stochastics:{name:Q0b,range:"0 to 100",calculateFN:b36.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){return this.inputs.Fast;}}},centerline:50}});}};h$=S6T=>{var m9g,b3n;m9g="u";m9g+="ndefine";m9g+="d";b3n=typeof _CIQ !== m9g?_CIQ:S6T.CIQ;if(!b3n.Studies){console.error("supertrend feature requires first activating studies feature.");}else {b3n.Studies.calculateSupertrend=function(T9K,j_8){var S0Y=F$OMy;var M7Q,V2P,F_J,M22,m7h,e_t,S6S,U_s,J72,m55,V01,U$O,O5a,j3m,p2x,i0D,C0s,f5r;S0Y.d9F();M7Q="Tren";M7Q+="d ";V2P=j_8.chart.scrubbed;if(V2P.length < j_8.days + 1){F_J=-2048436240;M22=-1925034961;m7h=2;for(var V8l=1;S0Y.P12(V8l.toString(),V8l.toString().length,+"95092") !== F_J;V8l++){j_8.error=!!1;m7h+=2;}if(S0Y.Q0B(m7h.toString(),m7h.toString().length,80797) !== M22){j_8.error=!!0;}return;}b3n.Studies.calculateStudyATR(T9K,j_8);for(var O7r=j_8.startFrom;O7r < V2P.length;O7r++){e_t="T";e_t+="r";e_t+="end ";S6S="_Dow";S6S+="ntre";S6S+="nd ";U_s="_Uptrend";U_s+=" ";J72=V2P[O7r];if(!J72)continue;S0Y.X6U(71);var G_4=S0Y.w65(24,9,13,3,21);m55=(J72.High + J72.Low) / G_4;V01=j_8.inputs.Multiplier * J72["ATR " + j_8.name];S0Y.X6L(0);U$O=S0Y.o$D(V01,m55);S0Y.X6L(1);O5a=S0Y.o$D(V01,m55);if(O7r){j3m="_";j3m+="Dow";j3m+="ntren";j3m+="d ";p2x="_";p2x+="Uptr";p2x+="end";p2x+=" ";if(V2P[O7r - 1] && V2P[O7r - 1].Close && V2P[O7r - 1].Close > V2P[O7r - 1][p2x + j_8.name] && V2P[O7r - 1]["_Uptrend " + j_8.name] > U$O){S0Y.X6U(16);U$O=V2P[S0Y.o$D("1",O7r)]["_Uptrend " + j_8.name];}if(V2P[O7r - 1] && V2P[O7r - 1].Close && V2P[O7r - 1].Close < V2P[O7r - 1]["_Downtrend " + j_8.name] && V2P[O7r - 1]["_Downtrend " + j_8.name] < O5a){S0Y.X6U(0);O5a=V2P[S0Y.o$D(1,O7r)][j3m + j_8.name];}}J72["_Direction " + j_8.name]=1;if(O7r){i0D="_Uptr";i0D+="end";i0D+=" ";C0s="_";C0s+="Direct";C0s+="ion ";f5r="_Dire";f5r+="cti";f5r+="on ";S0Y.X6L(0);J72[f5r + j_8.name]=V2P[S0Y.o$D(1,O7r)][C0s + j_8.name];if(J72.Close > V2P[O7r - 1]["_Downtrend " + j_8.name]){S0Y.X6L(17);J72["_Direction " + j_8.name]=S0Y.o$D("1",0);}else if(J72.Close < V2P[O7r - 1][i0D + j_8.name]){J72["_Direction " + j_8.name]=-1;}}J72[U_s + j_8.name]=U$O;J72[S6S + j_8.name]=O5a;J72[e_t + j_8.name]=J72["_Direction " + j_8.name] > "0" * 1?U$O:O5a;if(!O7r)continue;}j_8.outputMap={};j_8.outputMap[M7Q + j_8.name]="";};b3n.Studies.displaySupertrend=function(H2g,K_N,w5C){var U6X,v1I,u1H,O9l,c0x,q6q,d3e,j2o,s0o,K4w,Y7n,U2$,J3b,N$_,W76;U6X=H2g.panels[K_N.panel];v1I=K_N.getContext(H2g);u1H=K_N.getYAxis(H2g);O9l={skipTransform:U6X.name != K_N.chart.name,skipProjections:!!({}),label:H2g.preferences.labels,yAxis:u1H,highlight:K_N.highlight};c0x="Trend " + K_N.name;for(var T1m=0;U6X.chart.transformFunc && u1H != U6X.chart.yAxis && T1m < w5C.length;T1m++){q6q=w5C[T1m];if(q6q && q6q.transform){q6q.transform[c0x]=U6X.chart.transformFunc(H2g,U6X.chart,q6q[c0x]);}}H2g.plotDataSegmentAsLine(c0x,U6X,O9l,W4w);v1I.lineWidth=+"1";v1I.globalAlpha=1;H2g.startClip(K_N.panel);if(!K_N.highlight && H2g.highlightedDraggable){v1I.globalAlpha*=0.3;}d3e=v1I.measureText("\u25B2").width / +"2";function W4w(D$i,A2k,e1l){if(A2k && A2k["_Direction " + K_N.name] < +"0"){return K_N.outputs.Downtrend;}return K_N.outputs.Uptrend;}F$OMy.b5b();for(j2o=+"0";j2o < w5C.length;j2o++){K4w="_Dire";K4w+="ctio";K4w+="n";K4w+=" ";Y7n="_D";Y7n+="irection ";if(!w5C[j2o] || !w5C[j2o - 1])continue;if(w5C[j2o - 1]["_Direction " + K_N.name] > w5C[j2o][Y7n + K_N.name]){U2$="a";U2$+="u";U2$+="to";s0o=b3n.Studies.determineColor(K_N.outputs.Downtrend);if(!s0o || s0o == U2$ || b3n.isTransparent(s0o)){s0o=H2g.defaultColor;}v1I.fillStyle=s0o;v1I.textBaseline="bottom";J3b=H2g.pixelFromPrice(w5C[j2o].High,U6X,u1H);for(var m6t=5;m6t <= 45;m6t+="10" | 10){if(u1H.flipped){v1I.fillText(5770 === (672.9,861)?(294.33,9170) === 9352?!!"1":8430 != 1175?(!![],0x1b3e):3.41e+3:"\u25B2",H2g.pixelFromBar(j2o) - d3e,J3b + m6t);}else {v1I.fillText(7180 > (2120,9250)?(0x2635,914.77):("852.98" - 0,931.71) <= "5723" * 1?"\u25BC":("5.74e+3" * 1,331.57),H2g.pixelFromBar(j2o) - d3e,J3b - m6t);}}}else if(w5C[j2o - +"1"]["_Direction " + K_N.name] < w5C[j2o][K4w + K_N.name]){N$_="a";N$_+="u";N$_+="t";N$_+="o";s0o=b3n.Studies.determineColor(K_N.outputs.Uptrend);if(!s0o || s0o == N$_ || b3n.isTransparent(s0o)){s0o=H2g.defaultColor;}v1I.fillStyle=s0o;v1I.textBaseline="top";W76=H2g.pixelFromPrice(w5C[j2o].Low,U6X,u1H);for(var G3X=5;G3X <= 45;G3X+=10){if(u1H.flipped){v1I.fillText((+"9080",+"7946") != 150?"\u25BC":4373 != +"5447"?(891.28,"A"):!({}),H2g.pixelFromBar(j2o) - d3e,W76 - G3X);}else {v1I.fillText("\u25B2",H2g.pixelFromBar(j2o) - d3e,W76 + G3X);}}}}H2g.endClip();};b3n.Studies.studyLibrary=b3n.extend(b3n.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:b3n.Studies.displaySupertrend,calculateFN:b3n.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};B6=Q$L=>{var b9m;b9m=typeof _CIQ !== "undefined"?_CIQ:Q$L.CIQ;if(!b9m.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {b9m.Studies.calculateSwingIndex=function(t9a,o6d){var b4Z=F$OMy;var y4z,s$f,s_Y,F2q,k_p,j9B,a0Y,G5K,V_N,g3H,g$I,T7T;y4z="Limit Move Va";y4z+="lue";b4Z.b5b();s$f=o6d.inputs[y4z];if(s$f === null || isNaN(s$f)){s$f=99999;}s_Y=o6d.chart.scrubbed;F2q=0;if(o6d.startFrom > +"1"){F2q=s_Y[o6d.startFrom - +"1"]["Result " + o6d.name];}for(var T2o=Math.max(1,o6d.startFrom);T2o < s_Y.length;T2o++){k_p=Math.abs(s_Y[T2o].High - s_Y[T2o - +"1"].Close);j9B=Math.abs(s_Y[T2o].Low - s_Y[T2o - 1].Close);a0Y=Math.abs(s_Y[T2o].High - s_Y[T2o].Low);G5K=Math.abs(s_Y[T2o - 1].Close - s_Y[T2o - 1].Open);V_N=Math.max(k_p,j9B);g3H=Math.max(a0Y,V_N);b4Z.X6L(88);g$I=b4Z.o$D(G5K,0.25,g3H);if(g3H == k_p){b4Z.X6L(9);g$I-=b4Z.o$D(j9B,0.5);}else if(g3H == j9B){b4Z.X6L(184);g$I-=b4Z.o$D("0.5",k_p);}b4Z.X6U(0);var n0I=b4Z.o$D(20,70);b4Z.X6L(91);var Z35=b4Z.w65(0,144,11,13);b4Z.X6L(32);var L$v=b4Z.w65(20,5,1,18,5);b4Z.X6L(185);var D88=b4Z.w65(9,1,10,2,1);T7T=n0I * (s_Y[T2o].Close - s_Y[T2o - Z35].Close + 0.5 * (s_Y[T2o].Close - s_Y[T2o].Open) + 0.25 * (s_Y[T2o - L$v].Close - s_Y[T2o - D88].Open)) / g$I * (V_N / s$f);if(g$I === 0 || s$f === 0){T7T=0;}if(o6d.type == "Swing"){b4Z.X6L(40);F2q=b4Z.o$D("0",64);}F2q+=T7T;s_Y[T2o]["Result " + o6d.name]=F2q;}};b9m.Studies.studyLibrary=b9m.extend(b9m.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:b9m.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:b9m.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};O0=l1M=>{var f0c=F$OMy;var t7v,N2P,h9e;t7v=typeof _CIQ !== "undefined"?_CIQ:l1M.CIQ;f0c.d9F();if(!t7v.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {N2P="f";N2P+="i";N2P+="e";N2P+="ld";h9e="Trend ";h9e+="Intensity I";h9e+="ndex";t7v.Studies.calculateTrendIntensity=function(b0G,X0f){var q2h,T2K,W5J,t1i,g8Z,A_8,S9L,K6Z,K6R,A4V,Z28,N1j,E5W,X$s,H3P,n_I;q2h="Sig";q2h+="na";q2h+="l";T2K="Signal";T2K+=" Perio";T2K+="d";W5J="m";W5J+="a";t1i=X0f.chart.scrubbed;if(t1i.length < X0f.days + 1){X0f.error=!0;g8Z=-186124284;A_8=718698914;S9L=2;for(var E3Q=1;f0c.P12(E3Q.toString(),E3Q.toString().length,33355) !== g8Z;E3Q++){return;}if(f0c.P12(S9L.toString(),S9L.toString().length,95903) !== A_8){return;}return;}K6Z=X0f.inputs.Field;if(!K6Z || K6Z == "field"){K6Z="Close";}t7v.Studies.MA(W5J,X0f.days,K6Z,0,"_SMA",b0G,X0f);f0c.X6U(9);K6R=f0c.w65(1,"0");A4V=0;E5W=[];X$s=Math.ceil(X0f.days / 2);for(Z28=Math.max(0,X0f.startFrom - X$s);Z28 < t1i.length;Z28++){H3P="_S";H3P+="MA ";n_I="_SMA";n_I+=" ";if(!t1i[Z28][n_I + X0f.name] && t1i[Z28][H3P + X0f.name] !== 0)continue;N1j=t1i[Z28][K6Z] - t1i[Z28]["_SMA " + X0f.name];if(N1j < 0){f0c.X6L(186);A4V+=f0c.w65(N1j,1);}else {K6R+=N1j;}E5W.push(N1j);if(E5W.length > X$s){N1j=E5W.shift();if(N1j < ("0" ^ 0)){f0c.X6U(186);A4V-=f0c.o$D(N1j,1);}else {K6R-=N1j;}}if(Z28 < X0f.startFrom)continue;t1i[Z28]["TII " + X0f.name]=k0f(K6R,A4V);}t7v.Studies.MA("ema",X0f.inputs[T2K],"TII " + X0f.name,0,q2h,b0G,X0f);function k0f(C$l,c9p){if(Math.abs(c9p) < 0.00000001){return +"100";}f0c.X6U(163);return f0c.w65(c9p,1,100,C$l,100);}};t7v.Studies.studyLibrary=t7v.extend(t7v.Studies.studyLibrary,{"Trend Int":{name:h9e,calculateFN:t7v.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:N2P,"Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}}});}};t3=e8I=>{var j1W,c_R,V_Y;j1W=typeof _CIQ !== "undefined"?_CIQ:e8I.CIQ;if(!j1W.Studies){c_R="trix feature requires first ";c_R+="activating studies feature.";console.error(c_R);}else {V_Y="T";V_Y+="R";V_Y+="I";V_Y+="X";j1W.Studies.calculateTRIX=function(X2R,g1q){var x2b=F$OMy;var L66,E3A,u_a,d5i,o3p,M_w,k_D,D3F,A4y;L66="_MA";L66+="3 ";E3A="_M";E3A+="A2 ";x2b.b5b();u_a="C";u_a+="lose";d5i=g1q.chart.scrubbed;if(d5i.length < g1q.days + 1){g1q.error=!![];return;}o3p=g1q.name;x2b.X6U(1);M_w=[u_a,x2b.o$D(o3p,"_MA1 "),x2b.w65(o3p,E3A),x2b.o$D(o3p,L66)];for(var j5T="0" * 1;j5T < M_w.length - 1;j5T++){j1W.Studies.MA("exponential",g1q.days,M_w[j5T],+"0","_MA" + (j5T + ("1" ^ 0)).toString(),X2R,g1q);}k_D=M_w[3];for(var Z2l=Math.max("1" | 1,g1q.startFrom);Z2l < d5i.length;Z2l++){x2b.X6U(16);D3F=d5i[x2b.w65("1",Z2l)][k_D];if(!D3F)continue;A4y=d5i[Z2l][k_D];if(A4y || A4y === 0){x2b.X6L(1);d5i[Z2l][x2b.w65(o3p,"Result ")]=x2b.w65(D3F,100,A4y,1,x2b.X6L(187));}}};j1W.Studies.studyLibrary=j1W.extend(j1W.Studies.studyLibrary,{TRIX:{name:V_Y,calculateFN:j1W.Studies.calculateTRIX}});}};r6=v4G=>{var Q9A=F$OMy;var C7e,S$F,j8o,L3T,A_w;C7e=typeof _CIQ !== "undefined"?_CIQ:v4G.CIQ;if(!C7e.Studies){S$F="twiggsMoneyFlow feature ";S$F+="requ";S$F+="ires first activating studies feature.";j8o=+"1474480446";L3T=-925403384;A_w=2;for(var k_i=+"1";Q9A.P12(k_i.toString(),k_i.toString().length,"17162" >> 32) !== j8o;k_i++){console.error("");A_w+=2;}if(Q9A.Q0B(A_w.toString(),A_w.toString().length,19482) !== L3T){console.error("");}console.error(S$F);}else {C7e.Studies.calculateTwiggsMoneyFlow=function(E6u,W_g){var S1A,G$H,d9I,m$W,n7z,M57,W7e,d_Y,v_h,V4S;Q9A.b5b();S1A=W_g.chart.scrubbed;if(S1A.length < W_g.days){G$H=-1305525347;Q9A.X6U(40);d9I=-Q9A.o$D("1474802814",64);m$W=2;for(var b0P=1;Q9A.Q0B(b0P.toString(),b0P.toString().length,96325) !== G$H;b0P++){W_g.error=![];return;}if(Q9A.P12(m$W.toString(),m$W.toString().length,7627) !== d9I){W_g.error=!0;return;}}n7z=0;M57=0;Q9A.X6L(0);var f6t=Q9A.o$D(19,20);W7e=S1A[W_g.startFrom - f6t];if(W7e){d_Y="_s";d_Y+="u";d_Y+="mV ";if(W7e["_sumMF " + W_g.name]){n7z=W7e["_sumMF " + W_g.name];}if(W7e["_sumV " + W_g.name]){M57=W7e[d_Y + W_g.name];}}for(var A7U=Math.max(1,W_g.startFrom);A7U < S1A.length;A7U++){v_h=Math.max(S1A[A7U - 1].Close,S1A[A7U].High);V4S=Math.min(S1A[A7U - 1].Close,S1A[A7U].Low);Q9A.X6U(11);var E7n=Q9A.o$D(1,19,21);Q9A.X6L(112);var s0d=Q9A.o$D(5,3,66667,1,933340);S1A[A7U]["_MFV " + W_g.name]=S1A[A7U].Volume * (E7n * S1A[A7U].Close - v_h - V4S) / (v_h - V4S === 0?s0d:v_h - V4S);if(A7U > W_g.days - ("1" << 32)){Q9A.X6L(188);var D$9=Q9A.o$D(15,17,3);n7z*=(W_g.days - D$9) / W_g.days;Q9A.X6L(189);var S$9=Q9A.w65(18,3,0,973,18);M57*=(W_g.days - S$9) / W_g.days;}n7z+=S1A[A7U]["_MFV " + W_g.name];M57+=S1A[A7U].Volume;if(A7U > W_g.days - 1){if(M57){Q9A.X6L(4);S1A[A7U]["Result " + W_g.name]=Q9A.o$D(M57 > 0?M57:999999,n7z);}}S1A[A7U]["_sumMF " + W_g.name]=n7z;S1A[A7U]["_sumV " + W_g.name]=M57;}};C7e.Studies.studyLibrary=C7e.extend(C7e.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:C7e.Studies.calculateTwiggsMoneyFlow,inputs:{Period:+"21"}}});}};k$=v7h=>{var a_Z,d8$,S_o;F$OMy.d9F();a_Z="und";a_Z+="efin";a_Z+="ed";d8$=typeof _CIQ !== a_Z?_CIQ:v7h.CIQ;if(!d8$.Studies){S_o="t";S_o+="ypical";S_o+="Price";S_o+=" feature requires first activating studies feature.";console.error(S_o);}else if(!d8$.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {d8$.Studies.studyLibrary=d8$.extend(d8$.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:d8$.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:d8$.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};U9=Z81=>{var b8b,b0M,f2D;F$OMy.d9F();b8b=typeof _CIQ !== "undefined"?_CIQ:Z81.CIQ;if(!b8b.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {b0M="fi";b0M+="eld";f2D="Ulce";f2D+="r Index";b8b.Studies.calculateUlcerIndex=function(s0$,V34){var e9m,w0k,F0r,q6S;F$OMy.d9F();e9m=V34.chart.scrubbed;if(e9m.length < +"2" * V34.days - 1){V34.error=!0;return;}function t1X(K2G,k4U,I24){var l7M;l7M=null;for(var F_k=k4U - K2G + 1;F_k <= k4U;F_k++){if(F_k < 0)continue;l7M=l7M === null?e9m[F_k][I24]:Math.max(l7M,e9m[F_k][I24]);}F$OMy.d9F();return l7M;}w0k=V34.inputs.Field;if(!w0k || w0k == "field"){w0k="Close";}for(F0r=Math.max(V34.startFrom,V34.days - "1" * 1);F0r < e9m.length;F0r++){e9m[F0r]["_PD2 " + V34.name]=Math.pow(100 * (e9m[F0r][w0k] / t1X(V34.days,F0r,w0k) - 1),2);}b8b.Studies.MA("simple",V34.days,"_PD2 " + V34.name,0,"_MA",s0$,V34);for(F0r=Math.max(V34.startFrom,2 * (V34.days - 1));F0r < e9m.length;F0r++){q6S=e9m[F0r]["_MA " + V34.name];if(q6S || q6S === 0){e9m[F0r]["Result " + V34.name]=Math.sqrt(q6S);}}};b8b.Studies.studyLibrary=b8b.extend(b8b.Studies.studyLibrary,{Ulcer:{name:f2D,calculateFN:b8b.Studies.calculateUlcerIndex,inputs:{Period:"14" ^ 0,Field:b0M}}});}};r7=r_p=>{var x_L=F$OMy;x_L.d9F();var o4X,F5v,n_B,A5H,L_y,W2X;o4X=typeof _CIQ !== "undefined"?_CIQ:r_p.CIQ;if(!o4X.Studies){F5v=1214031316;n_B=1193156979;A5H=2;for(var J3S=1;x_L.Q0B(J3S.toString(),J3S.toString().length,82471) !== F5v;J3S++){console.error("ultimateOscillator feature requires first activating studies feature.");A5H+=2;}if(x_L.Q0B(A5H.toString(),A5H.toString().length,+"58663") !== n_B){console.error("");}}else {L_y="a";L_y+="u";L_y+="to";W2X="Ultimate Osc";W2X+="ill";W2X+="ator";o4X.Studies.calculateUltimateOscillator=function(S3d,m5n){var L56,J4k,o6S,C8I,k4x,W2r,j9l,z_H,j1v,I8u,d7i,O7z,q3l,s1v,z6$,a42,C7h,f0z,P86;L56=m5n.chart.scrubbed;J4k=[m5n.inputs["Cycle 1"],m5n.inputs["Cycle 2"],m5n.inputs["Cycle 3"]];o6S=Math.max(J4k["0" | 0],J4k[+"1"],J4k[2]);if(L56.length < o6S + 1){m5n.error=!!({});return;}x_L.d9F();x_L.X6U(49);var O5c=x_L.o$D(8,5,24,3);C8I=J4k["0" >> 0] * J4k[O5c];x_L.X6U(2);var I8C=x_L.w65(6,15,11);k4x=J4k[+"0"] * J4k[I8C];x_L.X6U(34);var c9B=x_L.w65(17,424,2,20,3);x_L.X6L(190);var a5J=x_L.o$D(17,0,3,18);W2r=J4k[c9B] * J4k[a5J];j9l=[+"0",0,0];z_H=[0,0,0];if(m5n.startFrom){j1v="_acc";j1v+="t";j1v+="r";j1v+=" ";I8u="_a";I8u+="ccbp ";if(L56[m5n.startFrom - 1]["_accbp " + m5n.name]){j9l=L56[m5n.startFrom - 1][I8u + m5n.name].slice();}if(L56[m5n.startFrom - 1]["_acctr " + m5n.name]){z_H=L56[m5n.startFrom - 1][j1v + m5n.name].slice();}}for(var w$Y=Math.max(1,m5n.startFrom);w$Y < L56.length;w$Y++){d7i="_ac";d7i+="ctr";d7i+=" ";O7z=Math.min(L56[w$Y].Low,L56[w$Y - 1].Close);q3l=L56[w$Y].Close - O7z;s1v=Math.max(L56[w$Y].High,L56[w$Y - +"1"].Close) - O7z;for(var o3U=0;o3U < J4k.length;o3U++){j9l[o3U]+=q3l;z_H[o3U]+=s1v;if(w$Y > J4k[o3U]){z6$=Math.min(L56[w$Y - J4k[o3U]].Low,L56[w$Y - J4k[o3U] - +"1"].Close);a42=L56[w$Y - J4k[o3U]].Close - z6$;x_L.X6U(15);var U7o=x_L.o$D(228,26,10);C7h=Math.max(L56[w$Y - J4k[o3U]].High,L56[w$Y - J4k[o3U] - ("1" >> U7o)].Close) - z6$;j9l[o3U]-=a42;z_H[o3U]-=C7h;}}L56[w$Y]["_accbp " + m5n.name]=j9l.slice();L56[w$Y][d7i + m5n.name]=z_H.slice();if(w$Y < o6S)continue;x_L.X6L(38);var E4h=x_L.w65(13,5,98,8);x_L.X6U(1);var o98=x_L.w65(1,0);x_L.X6U(190);var o7Y=x_L.o$D(7,0,6,11);x_L.X6U(110);var A26=x_L.o$D(2,17,21);f0z=W2r * j9l[0] / z_H[0] + k4x * j9l[E4h] / z_H[o98] + C8I * j9l[o7Y] / z_H[A26];x_L.X6L(87);P86=x_L.o$D(W2r,C8I,k4x);x_L.X6L(102);L56[w$Y]["Result " + m5n.name]=x_L.w65(P86,100,f0z);}};o4X.Studies.studyLibrary=o4X.extend(o4X.Studies.studyLibrary,{Ultimate:{name:W2X,calculateFN:o4X.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":"28" << 32},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"70" ^ 0,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:L_y}}}});}};M9=I0k=>{var m75=F$OMy;var u1N,X7J,a3f,J3I,q7z;u1N="un";u1N+="d";u1N+="efi";u1N+="ned";X7J=typeof _CIQ !== u1N?_CIQ:I0k.CIQ;m75.d9F();if(!X7J.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {a3f="#";a3f+="fff69";a3f+="e";J3I="ha";J3I+="r";J3I+="monic";q7z="Valu";q7z+="a";q7z+="tion Lines";X7J.Studies.calculateValuationLines=function(z_6,X8v,R$E){var Q73,i$n,b7s,Y3V,m5T,H2Y,v_f,s8P,K_M,c8t,n06,h0_,M7z,N5L,O$R,B1o;Q73="Display 3";Q73+=" Stand";Q73+="ard Deviatio";Q73+="n (3\u03C3)";i$n="Di";i$n+="splay";i$n+=" 2 Sta";i$n+="ndard Deviation (2\u03C3)";b7s="Average T";b7s+="y";b7s+="pe";Y3V=X8v.inputs.Field == "field"?"Close":X8v.inputs.Field;m5T=X8v.inputs[b7s];H2Y=X8v.inputs["Display Average"];v_f=X8v.inputs["Display 1 Standard Deviation (1\u03C3)"];s8P=X8v.inputs[i$n];K_M=X8v.inputs[Q73];c8t=[];for(var g9y=0;g9y < R$E.length;++g9y){if(R$E[g9y] && !isNaN(R$E[g9y][Y3V])){c8t.push(R$E[g9y][Y3V]);}}m75.d9F();n06=(function(V5u,K4n){var x3O,J1k,p$U,Y8F,j1d,x8M;x3O=V5u.length;m75.b5b();J1k=0;p$U=+"0";Y8F=+"0";switch(K4n){case "mean":p$U=x3O;for(;Y8F < x3O;++Y8F){J1k+=V5u[Y8F];}break;case "harmonic":J1k=x3O;for(;Y8F < x3O;++Y8F){m75.X6L(191);var L4Y=m75.w65(12,8,1,19,14);p$U+=L4Y / V5u[Y8F];}break;case "median":m75.X6U(4);j1d=Math.floor(m75.w65(2,x3O));x8M=V5u.slice().sort(function(y96,T$j){if(y96 > T$j){return 1;}if(y96 < T$j){return -+"1";}return +"0";});if(x3O % 2 === 0){m75.X6U(173);var c1W=m75.o$D(15,14,9,9);J1k=x8M[j1d] + x8M[j1d - c1W];p$U=2;}else {J1k=x8M[j1d];p$U=1;}break;}m75.X6U(4);return m75.o$D(p$U,J1k);})(c8t,m5T);h0_=!(v_f || s8P || K_M) || (function(s3$,C6A){var e2n,x3a;e2n=s3$.length;x3a=0;for(var D8J=0;D8J < e2n;++D8J){x3a+=Math.pow(s3$[D8J] - C6A,2);}m75.X6U(4);return Math.sqrt(m75.o$D(e2n,x3a));})(c8t,n06);X8v.data={Average:H2Y?[n06]:null,"1 Standard Deviation (1\u03C3)":v_f?[n06 + h0_,n06 - h0_]:null,"2 Standard Deviation (2\u03C3)":s8P?[n06 + h0_ * 2,n06 - h0_ * ("2" << 32)]:null,"3 Standard Deviation (3\u03C3)":K_M?[n06 + h0_ * +"3",n06 - h0_ * 3]:null};M7z=h0_;if(!X8v.parameters){X8v.parameters={};}if(K_M){m75.X6U(192);X8v.parameters.range=[m75.w65(h0_,3,M7z,n06),m75.w65(3,M7z,h0_,n06,m75.X6U(193))];}else if(s8P){m75.X6L(192);X8v.parameters.range=[m75.w65(h0_,2,M7z,n06),m75.w65(0,"2",h0_,n06,M7z,m75.X6L(194))];}else if(v_f){m75.X6L(110);X8v.parameters.range=[m75.o$D(h0_,M7z,n06),m75.w65(n06,M7z,h0_,m75.X6U(87))];}else if(H2Y){m75.X6U(0);X8v.parameters.range=[m75.w65(M7z,n06),m75.o$D(M7z,n06,m75.X6U(1))];}if(X8v.panel){N5L=z_6.panels[X8v.panel];O$R=z_6.getYAxisByName(N5L,X8v.name);if(O$R){O$R.decimalPlaces=N5L.chart.yAxis.printDecimalPlaces;B1o={yAxis:O$R};z_6.calculateYAxisRange(N5L,O$R,X8v.parameters.range[0],X8v.parameters.range[1]);z_6.createYAxis(N5L,B1o);z_6.drawYAxis(N5L,B1o);}}};X7J.Studies.displayValuationLines=function(D9y,f0X){var p6z,L34,V1h,q2e,O2L,r8Y,P1_,E_M,P2C,c1w,t_3,E6X,O$j,o$c,Z3P,K2V,i1s,C1n,H$5,F8Z,c_$,b6d,C2W,x_$,O5$,H7_,S8f,A9L,h_k;p6z="ciq-val";p6z+="uatio";p6z+="n-deviation-line";L34="ciq";L34+="-va";L34+="l";L34+="uation-average-line";V1h="H";V1h+="A";V1h+="VG";q2e=D9y.panels[f0X.panel];O2L=f0X.getYAxis(D9y);r8Y=f0X.getContext(D9y);P1_=f0X.data;E_M=f0X.parameters.labels;P2C=f0X.inputs["Average Type"];m75.b5b();c1w={mean:"AVG",median:"MED",harmonic:V1h};t_3=D9y.canvasStyle(L34);E6X=D9y.canvasStyle(p6z);O$j=-399004660;o$c=1258000040;Z3P=2;for(var l4w=+"1";m75.Q0B(l4w.toString(),l4w.toString().length,26573) !== O$j;l4w++){K2V=3;Z3P+=2;}if(m75.P12(Z3P.toString(),Z3P.toString().length,"45037" >> 0) !== o$c){K2V=4;}m75.X6L(39);var E_0=m75.o$D(9,11);i1s=D9y.getCanvasFontSize("stx_yaxis") + K2V * E_0;for(var C7j in P1_){if(!P1_[C7j])continue;m75.X6L(195);C1n=m75.w65(C7j,"Average");H$5=X7J.Studies.determineColor(f0X.outputs[C7j]);F8Z=P1_[C7j];for(c_$=0;c_$ < F8Z.length;++c_$){S8f="d";S8f+="as";S8f+="hed";A9L="d";A9L+="ash";A9L+="e";A9L+="d";b6d=F8Z[c_$];C2W=D9y.pixelFromPrice(b6d,q2e,O2L);if(C2W <= q2e.top || C2W >= q2e.yAxis.bottom)continue;H7_=C1n?{pattern:t_3.borderStyle != "none"?t_3.borderStyle || "solid":"solid",lineWidth:parseFloat(t_3.borderWidth) || 1,opacity:parseFloat(t_3.opacity) || +"1",yAxis:O2L}:{pattern:E6X.borderStyle != "none"?E6X.borderStyle || A9L:S8f,lineWidth:parseFloat(E6X.borderWidth) || 1,opacity:parseFloat(E6X.opacity) || 1,yAxis:O2L};D9y.plotLine(q2e.left,q2e.right,C2W,C2W,H$5,"line",r8Y,q2e,H7_);if(E_M === "yaxis"){D9y.createYAxisLabel(q2e,D9y.formatYAxisPrice(b6d,q2e),C2W,H$5,null,r8Y,O2L);continue;}C2W+=Math.floor(H7_.lineWidth / 2);if(C2W + i1s >= q2e.yAxis.bottom)continue;x_$=(C1n?c1w[P2C] + ": ":C7j[0] + "\u03C3: ") + D9y.formatYAxisPrice(b6d,q2e);O5$=r8Y.measureText(x_$).width;h_k=q2e.right - O5$ - K2V;if(O2L && O2L.position == "left"){h_k=q2e.left + K2V;}m75.X6U(196);r8Y.strokeText(x_$,h_k,m75.w65(0.5,C2W,i1s,2));}}};X7J.Studies.studyLibrary=X7J.extend(X7J.Studies.studyLibrary,{"val lines":{name:q7z,calculateFN:function(){},seriesFN:function(h9K,Q1D,w8e){X7J.Studies.calculateValuationLines(h9K,Q1D,w8e);m75.b5b();X7J.Studies.displayValuationLines(h9K,Q1D);},overlay:!!"1",yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median",J3I],"Display Average":!0,"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!!"","Display 3 Standard Deviation (3\u03C3)":!({})},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":a3f}}});}};v8=m5G=>{var f74,J3g,m91,w_B,q1J;f74="undefine";f74+="d";J3g=typeof _CIQ !== f74?_CIQ:m5G.CIQ;if(!J3g.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {m91="imp";m91+="lied";w_B="a";w_B+="ut";w_B+="o";q1J="a";q1J+="uto";J3g.Studies.calculateRelativeVolatility=function(a0G,Q5A){var m_n=F$OMy;var J0b,a$A,D4F,l6K,u3T,g4x,o2c,E3c,k5z,N3l,K5l,F8D,S1f;J0b="fi";J0b+="e";J0b+="l";J0b+="d";a$A="S";a$A+="TD Period";Q5A.days=Number(Q5A.inputs["Smoothing Period"]);D4F=Number(Q5A.inputs[a$A]);function d1Q(t5k,X5v){m_n.d9F();if(t5k + X5v === 0){return 100;}m_n.X6L(161);return m_n.w65(t5k,t5k,X5v,100);}l6K=Q5A.chart.scrubbed;if(l6K.length < Q5A.days + D4F){Q5A.error=!!({});return;}u3T=Q5A.inputs.Field;if(!u3T || u3T == J0b){u3T="Close";}Q5A.std=new J3g.Studies.StudyDescriptor(Q5A.name,"sdev",Q5A.panel);Q5A.std.chart=Q5A.chart;Q5A.std.days=D4F;Q5A.std.startFrom=Q5A.startFrom;Q5A.std.inputs={Field:u3T,"Standard Deviations":1,Type:"ma"};Q5A.std.outputs={_STD:null};J3g.Studies.calculateStandardDeviation(a0G,Q5A.std);g4x=0;o2c=0;if(Q5A.startFrom > 1){E3c="_av";E3c+="gG ";g4x=l6K[Q5A.startFrom - 1][E3c + Q5A.name] || +"0";o2c=l6K[Q5A.startFrom - 1]["_avgL " + Q5A.name] || 0;}for(var V3O=Math.max(Q5A.startFrom,Q5A.days);V3O < l6K.length;V3O++){k5z="_";k5z+="a";k5z+="vgG ";N3l="_STD";N3l+=" ";K5l=l6K[V3O];m_n.X6L(0);F8D=l6K[m_n.o$D(1,V3O)];if(!K5l[u3T] && K5l[u3T] !== 0)continue;if(!F8D[u3T] && F8D[u3T] !== 0)continue;if(!K5l[N3l + Q5A.name] && K5l["_STD " + Q5A.name] !== 0)continue;if(K5l[u3T] > F8D[u3T]){m_n.X6U(0);var j4v=m_n.w65(19,20);g4x=(g4x * (Q5A.days - j4v) + K5l["_STD " + Q5A.name]) / Q5A.days;m_n.X6U(2);var T5F=m_n.o$D(8,7,0);o2c=o2c * (Q5A.days - T5F) / Q5A.days;}else {S1f="_S";S1f+="TD";S1f+=" ";m_n.X6U(66);var P9o=m_n.o$D(226,15,15);o2c=(o2c * (Q5A.days - P9o) + K5l[S1f + Q5A.name]) / Q5A.days;m_n.X6U(1);var A6Y=m_n.o$D(1,0);g4x=g4x * (Q5A.days - A6Y) / Q5A.days;}K5l["Rel Vol " + Q5A.name]=d1Q(g4x,o2c);K5l[k5z + Q5A.name]=g4x;K5l["_avgL " + Q5A.name]=o2c;}Q5A.zoneOutput="Rel Vol";};J3g.Studies.calculateHistoricalVolatility=function(R3E,b1k){var b9M=F$OMy;var M6U,E_9,u4r,P2n,l_c,b88,F8z,N2K,X7r,t0o,E75,b_n,m2O;M6U="Standa";M6U+="rd Dev";M6U+="iations";E_9="C";E_9+="l";E_9+="os";E_9+="e";u4r="f";u4r+="ie";u4r+="ld";P2n=b1k.chart.scrubbed;if(P2n.length < b1k.days + 1){b1k.error=!!"1";return;}l_c=b1k.inputs.Field;if(!l_c || l_c == u4r){l_c=E_9;}function f_i(U_V){b9M.b5b();var o4K,b2W;o4K="mont";o4K+="h";b2W="d";b2W+="a";b2W+="y";if(isNaN(U_V)){U_V=365;}if(R3E.layout.interval == b2W){return U_V;}else if(R3E.layout.interval == "week"){return 52;}else if(R3E.layout.interval == o4K){return 12;}return U_V;}b88=b1k.inputs[M6U];if(b88 < 0){b88=1;}b9M.X6L(0);var c9_=b9M.o$D(832,896);F8z=("100" >> c9_) * Math.sqrt(f_i(b1k.inputs["Days Per Year"])) * b88;b9M.b5b();N2K=[];X7r=0;if(b1k.startFrom > 1){b9M.X6L(7);var x4I=b9M.w65(11,27,17);X7r=P2n[b1k.startFrom - x4I]["_state " + b1k.name][0];N2K=P2n[b1k.startFrom - +"1"]["_state " + b1k.name]["1" | 0].slice();}for(var X46=Math.max(1,b1k.startFrom);X46 < P2n.length;X46++){b9M.X6U(0);t0o=P2n[b9M.o$D(1,X46)][l_c];if(t0o){E75=Math.log(P2n[X46][l_c] / t0o);N2K.push(E75);X7r+=E75;if(X46 >= b1k.days){b_n="Re";b_n+="su";b_n+="l";b_n+="t ";m2O=0;X7r/=b1k.days;for(var K73=+"0";K73 < N2K.length;K73++){m2O+=Math.pow(N2K[K73] - X7r,2);}X7r*=b1k.days;X7r-=N2K.shift();P2n[X46][b_n + b1k.name]=Math.sqrt(m2O / b1k.days) * F8z;}}P2n[X46]["_state " + b1k.name]=[X7r,N2K.slice()];}};J3g.Studies.calculateVolatilityCone=function(L_W,J6X){var p5v=F$OMy;var u6T,G8s,n5B,K7r,Q4l,T_5,X8H,G1h,A0A,g3K,D90,u7r,Z8B,o8i,v_n,Q76,G0a,h5r,H_o,m24;u6T="Cl";u6T+="o";u6T+="s";u6T+="e";G8s="fiel";G8s+="d";n5B="m";n5B+="on";n5B+="t";n5B+="h";K7r="Days";K7r+=" Per";K7r+=" ";K7r+="Year";var {periodicity:y$f, interval:R9H}=L_W.layout;Q4l=J6X.study?J6X.study.name:J6X.type;if(!J3g.ChartEngine.isDailyInterval(R9H)){J6X.error=`${Q4l} is not supported for intraday periodicities`;return;}T_5=Number(J6X.inputs["Projection Bars"]);X8H=Number(J6X.inputs[K7r]);if(R9H == "week"){X8H=52;}if(R9H == n5B){X8H=12;}T_5=Math.min(T_5,X8H);G1h=J6X.chart.scrubbed;A0A=J6X.inputs.Field;if(!A0A || A0A == G8s){A0A=u6T;}p5v.X6U(39);var D95=p5v.w65(12,13);g3K=G1h.length - D95;while(g3K > 0 && G1h[g3K][A0A] === undefined){g3K--;}D90=G1h[g3K].DT;u7r=G1h[g3K][A0A];Z8B=G1h[g3K].implVol;p5v.X6U(197);o8i=p5v.w65(24,60,"1000","60");v_n=J6X.inputs["Volatility source"] === "historical";p5v.b5b();if(!v_n && Z8B === undefined){J6X.error=`${Q4l} Study: Implied Volatility source data is not available`;return;}J6X._graphs=[68,95].filter((o2M,P8R)=>{p5v.X6U(1);return J6X.inputs[`Probability ${o2M}% (${p5v.o$D(1,P8R)})`];});Q76=[];if(!v_n && R9H === "day" && y$f === 1){G0a=G1h[g3K].expiryDates || Array.from(new Set(Object.values(G1h[g3K].optionChain || ({})).map(({expiration:z49})=>{return +(z49 && z49.value || z49 || +"0");}).filter(X4A=>{p5v.d9F();return X4A;})));J6X._expiryDates=G0a.map(S$m=>{p5v.d9F();return {dt:new Date(S$m)};});}else {J6X._expiryDates=null;}for(var u7F=0;u7F <= T_5;u7F++){h5r="Res";h5r+="ul";h5r+="t 68%";h5r+=" Upper ";if(G1h[u7F + g3K])continue;Q76.push({[J6X.inputs["Probability 68% (1)"] && h5r + J6X.name || undefined]:"0" ^ 0,[J6X.inputs["Probability 95% (2)"] && "Result 95% Upper " + J6X.name || undefined]:0});}J6X.appendFutureTicks(L_W,Q76);if(v_n){J3g.Studies.calculateHistoricalVolatility(L_W,J6X);}H_o=v_n?G1h[g3K][`${"Re" + "sult "}${J6X.name}`] / ("100" ^ 0):Z8B;m24=function(L7_){p5v.d9F();var Z8h,V0m,L$R;p5v.X6U(1);Z8h=G1h[p5v.o$D(g3K,L7_)];V0m=X8H < 365?L7_:Math.round((Z8h.DT - D90) / o8i);L$R=u7r * H_o * Math.sqrt(V0m / X8H);var {DT:v1b}=Z8h;J6X._graphs.forEach(function(w3B){var v0w,A$7;var {quote:o3N, diff:d0A, currentValue:g2N, sd:r2d}=this;p5v.X6U(88);v0w=p5v.w65(d0A,w3B < 95?"1" * 1:2,g2N);p5v.X6U(178);A$7=p5v.o$D(d0A,w3B < 95?1:"2" >> 64,g2N);p5v.X6L(115);o3N[`${p5v.o$D("ult","Re","s"," ")}${w3B}${p5v.w65("per ","% Up",p5v.X6U(1))}${r2d.name}`]=v0w;o3N[`Result ${w3B}% Lower ${r2d.name}`]=A$7;(r2d._expiryDates || []).forEach(L5A=>{p5v.d9F();var j$b;if(L5A.dt < D90){return;}j$b=Math.abs(L5A.dt - v1b);if(j$b < o8i){L5A.Upper=v0w;L5A.Lower=A$7;L5A.DT=v1b;}});},{quote:Z8h,diff:L$R,currentValue:u7r,sd:J6X});};for(var i2x=0;i2x <= T_5;i2x++){m24(i2x);}J6X.outputMap={};J6X._graphs.forEach(h9X=>{J6X.outputMap[`Result ${h9X}% Upper ${J6X.name}`]="Color";p5v.b5b();J6X.outputMap[`Result ${h9X}% Lower ${J6X.name}`]="Color";});};J3g.Studies.displayVolatilityCone=function(y5Y,G8c,m$1){var U4W,b1O,V6u,G1Y,l_U;if(G8c.error){return;}U4W=J3g.Studies.determineColor(G8c.outputs.Color);b1O=y5Y.panels[G8c.panel];if(!b1O || b1O.hidden){return;}V6u=G8c.getYAxis(y5Y);G1Y={topColor:U4W,bottomColor:U4W,skipTransform:b1O.name != G8c.chart.name,topAxis:V6u,bottomAxis:V6u,opacity:0.3};if(!G8c.highlight && y5Y.highlightedDraggable){G1Y.opacity*=0.3;}G8c._graphs.forEach(M45=>{F$OMy.X6U(1);G1Y.topBand=`${F$OMy.w65("ult ","Res")}${M45}${F$OMy.w65("er ","% Upp")}${G8c.name}`;G1Y.bottomBand=`Result ${M45}% Lower ${G8c.name}`;if(G8c.inputs.Fill){J3g.fillIntersecting(y5Y,G8c.panel,G1Y);}J3g.Studies.displayIndividualSeriesAsLine(y5Y,G8c,b1O,G1Y.topBand,m$1);J3g.Studies.displayIndividualSeriesAsLine(y5Y,G8c,b1O,G1Y.bottomBand,m$1);});if(G8c._expiryDates){l_U=y5Y.chart.context;y5Y.startClip();l_U.beginPath();G8c._expiryDates.forEach(r4f=>{var e17,B7d,D$e,X4j;F$OMy.b5b();e17="d";e17+="as";e17+="hed";if(!r4f.DT){return;}B7d=y5Y.pixelFromDate(r4f.DT);D$e=y5Y.pixelFromPrice(r4f.Upper,b1O);X4j=y5Y.pixelFromPrice(r4f.Lower,b1O);y5Y.plotLine({x0:B7d,x1:B7d,y0:D$e,y1:X4j,color:U4W,pattern:e17});l_U.moveTo(B7d,D$e);l_U.arc(B7d,D$e,+"3",0,Math.PI * +"2",!"1");l_U.moveTo(B7d,X4j);l_U.arc(B7d,X4j,3,0,Math.PI * 2,!!0);l_U.fillStyle=U4W;l_U.fill();});y5Y.endClip();}};J3g.Studies.studyLibrary=J3g.extend(J3g.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:J3g.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":["252" - 0,365],"Standard Deviations":+"1"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:J3g.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":"14" - 0},outputs:{"Rel Vol":q1J},centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:w_B}}},"Volatility Cone":{name:"Volatility Cone",overlay:!0,calculateFN:J3g.Studies.calculateVolatilityCone,seriesFN:J3g.Studies.displayVolatilityCone,inputs:{"Volatility source":["historical",m91],"Probability 68% (1)":!!({}),"Probability 95% (2)":![],"Projection Bars":20,"Days Per Year":[252,365],Field:"field",Period:10,"Standard Deviations":1,Fill:!![]},outputs:{Color:"#3a627d"},panelSelect:!!"",attributes:{"Volatility source":{hidden:function(){F$OMy.d9F();return !J3g.Studies.impliedVolatilityAvailable;}},Field:{hidden:function(){var q1U,w2K;q1U="Imp";q1U+="l";q1U+="ied";w2K="Volati";w2K+="lity sour";w2K+="ce";return this.inputs[w2K] === q1U;}},"Standard Deviations":{hidden:function(){return this.inputs["Volatility source"] === "Implied";}},yaxisDisplayValue:{hidden:!!"1"},panelName:{hidden:!!"1"},flippedEnabled:{hidden:!![]},underlayEnabled:{hidden:!0}}}});}};y8=v8N=>{var o3y,e5X,s7R;o3y="u";o3y+="ndefined";e5X=typeof _CIQ !== o3y?_CIQ:v8N.CIQ;if(!e5X.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {s7R="Volum";s7R+="e Profile";e5X.Studies.displayVolumeProfile=function(m6m,T8V,y34){var M4l=F$OMy;var p8p,J8E,I_T,G8B,V$5,Z8T,L80,S10,X$g,z0y,F5F,q59,b_8,U5F,O8r,l7e,E2y,d3X,S3R,S2s,k7f,Y3J;p8p="Disp";p8p+="lay V";p8p+="olum";p8p+="e";J8E="Displ";J8E+="ay";J8E+=" Border";if(!m6m || !m6m.chart.dataSet){return;}I_T="stx_volume_profile";G8B="stx-float-date";V$5=T8V.getContext(m6m);var {chart:Q6D}=m6m;var {panel:N7d}=Q6D;var {yAxis:I6t}=N7d;var {flipped:k$4}=I6t;var {highValue:n3O, lowValue:M5n}=Q6D;var {displayBorder:E05 = T8V.inputs[J8E], displayVolume:f$A = T8V.inputs[p8p], widthPercentage:n2K = T8V.inputs["Width Percentage"], numberBars:n8u = T8V.inputs["Price Buckets"]}=T8V.parameters;if(E05 !== !!""){E05=!![];}if(f$A !== !!({})){f$A=!({});}if(!n2K || n2K < "0" << 32){n2K=0.25;}if(!n8u || n8u < 0){n8u=30;}n8u=Math.ceil(n8u);M4l.X6U(100);Z8T=M4l.o$D(n3O,n8u,M5n);if(Z8T === 0){return;}function Q2n(N3q){var y0Y,T1t,f5c,s$k,Z3q,r_3,P8Z,n8z,c6O,E2w,E3n,j3o,o7p,v_b,j70,E6B;M4l.b5b();m6m.canvasColor(I_T);V$5.beginPath();y0Y=B6I=>{return Math.round(B6I);};T1t=e1L=>{M4l.d9F();return y0Y(m6m.pixelFromTransformedValue(e1L));};f5c=y0Y(Q6D.width * n2K);s$k=y0Y(Q6D.right) - 2.5;Z3q=s$k;var [l8e]=L80[0];for(var K5z=1;K5z < L80.length;K5z++){var [L6E,O$c]=L80[K5z];if(O$c){M4l.X6U(102);r_3=M4l.w65(X$g,O$c,f5c);P8Z=y0Y(s$k - r_3) + (N3q?-0.5:0);n8z=T1t(L6E) + (N3q?0.5:1);c6O=T1t(l8e) + (N3q?0.5:0);E2w=Math.max(n8z,I6t.top);E3n=Math.min(c6O,I6t.bottom);j3o=E2w <= I6t.bottom && E3n >= I6t.top;if(j3o){V$5.moveTo(s$k,E3n);V$5.lineTo(s$k,E2w);V$5.lineTo(P8Z,E2w);V$5.lineTo(P8Z,E3n);if(N3q){if(K5z == 1 || Z3q > P8Z){V$5.lineTo(Z3q,E3n);}}else {V$5.lineTo(s$k,E3n);if(f$A){o7p=e5X.condenseInt(O$c);M4l.X6U(0);v_b=M4l.w65(E2w,E3n);if(S2s <= v_b - 2){j70=void 0;try{({width:j70}=V$5.measureText(o7p));}catch(C$b){j70=0;}V$5.textBaseline="top";E6B=V$5.fillStyle;V$5.fillStyle=k7f;M4l.X6L(198);V$5.fillText(o7p,M4l.o$D("3",j70,P8Z),M4l.o$D(S2s,v_b,E2w,2,2,M4l.X6U(199)));V$5.fillStyle=E6B;}}}}Z3q=P8Z;}else {Z3q=s$k;;}l8e=L6E;}if(!T8V.highlight && m6m.highlightedDraggable){V$5.globalAlpha*=0.3;}if(!N3q){V$5.fill();}V$5.strokeStyle=k7f;if(N3q){V$5.stroke();}V$5.closePath();}L80=[];if(k$4){[n3O,M5n]=[M5n,n3O];}S10=k$4?-1:+"1";for(var T_S=M5n,S8u=+"0";S8u <= n8u;(T_S+=Z8T * S10,S8u++)){M4l.X6L(37);L80.push([T_S,M4l.o$D("0",0)]);}M4l.X6U(40);X$g=M4l.o$D("0",0);for(var I5g=0;I5g < y34.length;I5g++){z0y=y34[I5g];if(z0y === null)continue;var {Volume:k_G}=z0y;if(!k_G)continue;var {High:C2F, Low:O9m}=z0y.transform || z0y;F5F=[];q59=L80[0][0];b_8=null;for(var i0v="1" * 1;i0v < L80.length;i0v++){b_8=L80[i0v][0];U5F=O9m >= q59 && O9m <= b_8;O8r=C2F >= q59 && C2F <= b_8;l7e=O9m < q59 && C2F > b_8;if(U5F || O8r || l7e){F5F.push(i0v);}q59=b_8;}if(F5F.length){E2y=k_G / F5F.length;for(var C0C=0;C0C < F5F.length;C0C++){d3X=L80[F5F[C0C]][1]+=E2y;if(d3X > X$g){X$g=d3X;}}}}if(X$g === 0){S3R="Not enou";S3R+="gh";S3R+=" data t";S3R+="o render the Volume Profile";m6m.displayErrorAsWatermark("chart",m6m.translateIf(S3R));return;}m6m.setStyle(I_T,"color",e5X.Studies.determineColor(T8V.outputs["Bars Color"]));S2s=m6m.getCanvasFontSize(G8B);k7f=m6m.canvasStyle(I_T).borderTopColor;Y3J=E05 && !e5X.isTransparent(k7f);m6m.canvasFont(G8B,V$5);Q2n();if(Y3J){Q2n(!!({}));}M4l.X6U(24);V$5.globalAlpha=M4l.o$D(0,"1");};e5X.Studies.studyLibrary=e5X.extend(e5X.Studies.studyLibrary,{"vol profile":{name:s7R,underlay:!0,seriesFN:e5X.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!![],"Display Volume":!!0,"Price Buckets":30,"Width Percentage":0.25},outputs:{"Bars Color":"#b64a96"},customRemoval:!!1,attributes:{yaxisDisplayValue:{hidden:!""},panelName:{hidden:!0},flippedEnabled:{hidden:!!"1"}}}});}};P2=F7B=>{var k9a,k1j,o7C,Y2a,d_G,P_b,S7z;k9a=typeof _CIQ !== "undefined"?_CIQ:F7B.CIQ;if(!k9a.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {k1j="Volu";k1j+="me Rate of ";k1j+="Change";o7C="Trade Volu";o7C+="m";o7C+="e Ind";o7C+="ex";Y2a="Price Volume Tr";Y2a+="end";d_G="fi";d_G+="e";d_G+="l";d_G+="d";P_b="#FF0";P_b+="000";S7z="Negative";S7z+=" Volume I";S7z+="ndex";k9a.Studies.calculateOnBalanceVolume=function(g4c,w4C){var U8b=F$OMy;var G8P,w70,N6P,e2J,F1v,M4M,M8S,s1z,J5j;U8b.b5b();G8P="f";G8P+="ie";G8P+="l";G8P+="d";w70=w4C.inputs.Field;if(!w70 || w70 == G8P){w70="Close";}N6P=w4C.inputs["Min Tick Value"];e2J=![];if(!N6P && N6P !== +"0"){e2J=!!({});U8b.X6U(9);N6P=U8b.w65(1,"0");}F1v=w4C.chart.scrubbed;M4M=0;for(var V5W=w4C.startFrom;V5W < F1v.length;V5W++){M8S=F1v[V5W];if(!V5W || !M8S[w70])continue;if(F1v[V5W - "1" * 1][w70]){U8b.X6L(0);s1z=F1v[U8b.w65(1,V5W)];}if(!s1z)continue;if(M8S[w70] - s1z[w70] > N6P){M4M=1;}else if(s1z[w70] - M8S[w70] > N6P){M4M=-1;}else if(e2J){M4M=0;}J5j=s1z["Result " + w4C.name];if(!J5j){J5j=0;}J5j+=M8S.Volume * M4M;M8S["Result " + w4C.name]=J5j;}};k9a.Studies.calculatePriceVolumeTrend=function(x46,d1i){var V2T=F$OMy;var s14,V_7,U8g,t$v,j_C;s14="C";s14+="l";s14+="o";s14+="se";V_7="fiel";V_7+="d";U8g=d1i.inputs.Field;if(!U8g || U8g == V_7){U8g=s14;}t$v=d1i.chart.scrubbed;j_C=0;V2T.d9F();if(d1i.startFrom > 1){V2T.X6L(56);var e6w=V2T.o$D(12,8,16,3,186);j_C=t$v[d1i.startFrom - e6w]["Result " + d1i.name];}for(var n1d=Math.max(1,d1i.startFrom);n1d < t$v.length;n1d++){if(!t$v[n1d][U8g])continue;if(!t$v[n1d - +"1"][U8g])continue;V2T.X6L(5);var q1F=V2T.w65(2,8,1,17,3);j_C+=t$v[n1d].Volume * (t$v[n1d][U8g] - t$v[n1d - q1F][U8g]) / t$v[n1d - 1][U8g];t$v[n1d]["Result " + d1i.name]=j_C;}};k9a.Studies.calculateVolumeIndex=function(Q7w,Y0v){var l3t=F$OMy;var J_9,f6d,o0G,G53,w5W,j8u,m_x,Q8r;J_9=Y0v.inputs.Field;if(!J_9 || J_9 == "field"){J_9="Close";}f6d=Y0v.chart.scrubbed;if(f6d.length < Y0v.days + 1){Y0v.error=!!({});return;}o0G=100;if(Y0v.startFrom > 1){l3t.X6L(39);var f61=l3t.o$D(18,19);o0G=f6d[Y0v.startFrom - f61]["Index " + Y0v.name];}for(var f3c=Math.max(1,Y0v.startFrom);f3c < f6d.length;f3c++){G53="P";G53+="o";G53+="s Vo";G53+="l";w5W=f6d[f3c][J_9];j8u=f6d[f3c].Volume;if(w5W && typeof w5W == "object"){j8u=w5W.Volume;w5W=w5W[Y0v.subField];}l3t.X6L(0);m_x=f6d[l3t.w65(1,f3c)][J_9];Q8r=f6d[f3c - 1].Volume;if(m_x && typeof m_x == "object"){Q8r=m_x.Volume;m_x=m_x[Y0v.subField];}if(!w5W)continue;if(!m_x)continue;if(Y0v.type == G53 && j8u > Q8r || Y0v.type == "Neg Vol" && j8u < Q8r){l3t.X6U(4);o0G*=l3t.w65(m_x,w5W);}f6d[f3c]["Index " + Y0v.name]=o0G;}k9a.Studies.MA(Y0v.inputs["Moving Average Type"],Y0v.days,"Index " + Y0v.name,+"0","MA",Q7w,Y0v);};k9a.Studies.studyLibrary=k9a.extend(k9a.Studies.studyLibrary,{"Neg Vol":{name:S7z,calculateFN:k9a.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:P_b}},"On Bal Vol":{name:"On Balance Volume",calculateFN:k9a.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:k9a.Studies.calculateVolumeIndex,inputs:{Period:255,Field:d_G,"Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:Y2a,calculateFN:k9a.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:o7C,calculateFN:k9a.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:k1j,calculateFN:function(f05,y8g){if(k9a.Studies.calculateRateOfChange){k9a.Studies.calculateRateOfChange(f05,y8g);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");k9a.Studies.calculateRateOfChange=function(k7Q,K3G){};}},parameters:{init:{isVolume:!![]}}},"vol undr":{name:"Volume Underlay",underlay:!!({}),range:"0 to max",yAxis:{ground:!!"1",initialMarginTop:0,position:"none",heightFactor:0.25},seriesFN:k9a.Studies.createVolumeChart,calculateFN:k9a.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!"",removeFN:function(N03,j8X){N03.layout.volumeUnderlay=!!"";N03.changeOccurred("layout");},attributes:{panelName:{hidden:!![]}}}});}};O3=r42=>{var k$w=F$OMy;var f_7,A0C,p0S,S8Z,B0M;f_7="undef";f_7+="ined";k$w.b5b();A0C=typeof _CIQ !== f_7?_CIQ:r42.CIQ;if(!A0C.Studies){console.error("vortex feature requires first activating studies feature.");}else {p0S="0";p0S+=".01";S8Z="a";S8Z+="u";S8Z+="t";S8Z+="o";B0M="#FF000";B0M+="0";A0C.Studies.calculateVortex=function(v27,p66){var U01,Q3l,L2s,L9R,d9u,D27,n_q,x51,g5E,i7H;U01=p66.chart.scrubbed;Q3l=p66.days;if(U01.length < Q3l + 1){p66.error=!!1;return;}L2s={tr:0,vmPlus:0,vmMinus:0};if(p66.startFrom > 1){L9R="_t";L9R+="otal";L9R+="s ";L2s=A0C.clone(U01[p66.startFrom - +"1"][L9R + p66.name]);}for(var f1b=Math.max(p66.startFrom,1);f1b < U01.length;f1b++){d9u="_True R";d9u+="ange ";D27=U01[f1b];k$w.X6L(0);n_q=U01[k$w.w65(1,f1b)];x51=Math.abs(D27.High - n_q.Low);g5E=Math.abs(D27.Low - n_q.High);i7H=Math.max(D27.High,n_q.Close) - Math.min(D27.Low,n_q.Close);L2s.tr+=i7H;L2s.vmPlus+=x51;L2s.vmMinus+=g5E;if(f1b > Q3l){k$w.X6L(0);L2s.tr-=U01[k$w.w65(Q3l,f1b)]["_True Range " + p66.name];k$w.X6U(0);L2s.vmPlus-=U01[k$w.o$D(Q3l,f1b)]["_VMPlus " + p66.name];k$w.X6L(0);L2s.vmMinus-=U01[k$w.o$D(Q3l,f1b)]["_VMMinus " + p66.name];}D27[d9u + p66.name]=i7H;D27["_VMPlus " + p66.name]=x51;D27["_VMMinus " + p66.name]=g5E;if(f1b >= Q3l){D27["+VI " + p66.name]=L2s.vmPlus / L2s.tr;D27["-VI " + p66.name]=L2s.vmMinus / L2s.tr;}D27["_totals " + p66.name]=A0C.clone(L2s);}};A0C.Studies.studyLibrary=A0C.extend(A0C.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:A0C.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":B0M},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:1.1,studyOverBoughtColor:S8Z,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:p0S},studyOverSoldValue:{max:+"1",step:"0.01"}}}});}};k2=w2G=>{var m4U,v_d;m4U=typeof _CIQ !== "undefined"?_CIQ:w2G.CIQ;if(!m4U.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {v_d="#8";v_d+="bc17";v_d+="6";m4U.Studies.calculateMFI=function(K8y,e$G){var Q6R,b03,C6b,j81,e76,J1D,y3G;Q6R="S";Q6R+="c";Q6R+="ale Factor";b03=e$G.chart.scrubbed;j81=0;e76=e$G.inputs["Scale Factor"];if(!e76){e76=e$G.study.inputs[Q6R];}J1D=Math.pow(10,Number(e76));if(e$G.startFrom > 1){j81=b03[e$G.startFrom - +"1"]["_high " + e$G.name];}for(y3G=e$G.startFrom;y3G < b03.length;y3G++){if(!b03[y3G])continue;if(b03[y3G].Volume){b03[y3G][e$G.name + "_hist"]=C6b=J1D * (b03[y3G].High - b03[y3G].Low) / b03[y3G].Volume;b03[y3G]["_high " + e$G.name]=j81=Math.max(j81,C6b);}}e$G.outputMap={};e$G.outputMap[e$G.name + "_hist"]="";};m4U.Studies.displayMFI=function(t4R,Y2d,y_Y){var d9q=F$OMy;var g84,G2J,d4W,j6m,H06,M0I,K_H,s66,U5q,t32,R98,Y4P;g84=t4R.panels[Y2d.panel];G2J=Y2d.getContext(t4R);d4W=Y2d.getYAxis(t4R);j6m=d4W.flipped?d4W.top:d4W.bottom;d9q.X6L(160);var A7i=d9q.o$D(3,6,6,0);H06=t4R.layout.candleWidth - A7i;if(H06 < 2){H06=1;}M0I=m4U.Studies.determineColor(Y2d.outputs.Green);K_H=m4U.Studies.determineColor(Y2d.outputs.Fade);s66=m4U.Studies.determineColor(Y2d.outputs.Fake);U5q=m4U.Studies.determineColor(Y2d.outputs.Squat);t4R.canvasColor("stx_histogram");if(!Y2d.underlay){G2J.globalAlpha=1;}G2J.fillStyle="#CCCCCC";t4R.startClip(Y2d.panel);if(!Y2d.highlight && t4R.highlightedDraggable){G2J.globalAlpha*=+"0.3";}for(var T8p=0;T8p < y_Y.length;T8p++){t32="_";t32+="h";t32+="ist";R98=y_Y[T8p];d9q.X6L(0);Y4P=y_Y[d9q.o$D(1,T8p)];if(!Y4P){Y4P=t4R.getPreviousBar(t4R.chart,Y2d.name + "_hist",T8p);}if(!R98)continue;if(!Y4P);else if(Y4P[Y2d.name + t32] < R98[Y2d.name + "_hist"]){if(Y4P.Volume < R98.Volume){G2J.fillStyle=M0I;}else if(Y4P.Volume > R98.Volume){G2J.fillStyle=s66;}}else if(Y4P[Y2d.name + "_hist"] > R98[Y2d.name + "_hist"]){if(Y4P.Volume < R98.Volume){G2J.fillStyle=U5q;}else if(Y4P.Volume > R98.Volume){G2J.fillStyle=K_H;}}if(R98.candleWidth){H06=Math.floor(Math.max(+"1",R98.candleWidth - 2));}G2J.fillRect(Math.floor(t4R.pixelFromBar(T8p,g84.chart) - H06 / 2),Math.floor(j6m),Math.floor(H06),Math.floor(t4R.pixelFromPrice(R98[Y2d.name + "_hist"],g84,d4W) - j6m));}t4R.endClip();};m4U.Studies.studyLibrary=m4U.extend(m4U.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:m4U.Studies.displayMFI,calculateFN:m4U.Studies.calculateMFI,yAxis:{ground:!""},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:v_d,Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};b6={CIQ:J0,SplinePlotter:w8,timezoneJS:t1,$$:Y3,$$$:E0};export {Z as aggregations};export {W as drawingAdvanced};export {Y as equationsAdvanced};export {F as highPerformanceMarkers};export {X as renderersAdvanced};export {U as accumulationDistribution};export {N as adx};export {S as alligator};export {g as aroon};export {Q as atr};export {I as awesomeOscillator};export {E as balanceOfPower};export {G as bollinger};export {o as cci};export {T_ as centerOfGravity};export {r3 as chaikin};export {Q3 as chande};export {Z$ as choppiness};export {X2 as comparisonStudies};export {e$ as coppock};export {D3 as darvasBox};export {u1 as detrended};export {w7 as disparity};export {D$ as easeOfMovement};export {W5 as ehlerFisher};export {W7 as elder};export {P0 as fractalChaos};export {k0 as goNoGo};export {w0 as highLowStudies};export {l0 as ichimoku};export {N$ as intradayMomentum};export {C9 as keltner};export {o4 as klinger};export {d5 as linearRegression};export {X1 as macd};export {A0 as massIndex};export {G1 as moneyFlow};export {I8 as movingAverages};export {G$ as parabolicSAR};export {S5 as pivotPoints};export {k6 as prettyGoodOscillator};export {O9 as priceMomentumOscillator};export {K2 as priceVolumeOscillator};export {m$ as primeNumber};export {D5 as pring};export {S9 as projectedVolume};export {K7 as psychologicalLine};export {w4 as qstick};export {O$ as rainbow};export {B7 as randomWalk};export {E$ as relativeVigor};export {A2 as rsi};export {I5 as schaffTrendCycle};export {P9 as shinohara};export {G3 as stochastics};export {h$ as supertrend};export {B6 as swingIndex};export {O0 as trendIntensity};export {t3 as trix};export {r6 as twiggsMoneyFlow};export {k$ as typicalPrice};export {U9 as ulcerIndex};export {r7 as ultimateOscillator};export {M9 as valuationLines};export {v8 as volatilityIndex};export {y8 as volumeProfile};export {P2 as volumeStudies};export {O3 as vortex};export {k2 as williamsMFI};export {J0 as CIQ, w8 as SplinePlotter, t1 as timezoneJS, Y3 as $$, E0 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){b6.CIQ.activateImports(Z,W,Y,F,X,U,N,S,g,Q,I,E,G,o,T_,r3,Q3,Z$,X2,e$,D3,u1,w7,D$,W5,W7,P0,k0,w0,l0,N$,C9,o4,d5,X1,A0,G1,I8,G$,S5,k6,O9,K2,m$,D5,S9,K7,w4,O$,B7,E$,A2,I5,P9,G3,h$,B6,O0,t3,r6,k$,U9,r7,M9,v8,y8,P2,O3,k2,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

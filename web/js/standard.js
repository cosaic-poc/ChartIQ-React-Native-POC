/**
 *	8.7.0
 *	Generation date: 2022-06-10T18:37:49.036Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis e98f22c
 *	License type: trial
 *	Expiration date: "2022/12/31"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
W99Ps[370198]=(function(){var G=2;for(;G !== 9;){switch(G){case 5:var S;try{var N=2;for(;N !== 6;){switch(N){case 9:delete S['\x66\x67\x34\x38\u0033'];var A=Object['\x70\u0072\u006f\u0074\u006f\u0074\x79\u0070\x65'];N=7;break;case 3:throw "";N=9;break;case 4:N=typeof fg483 === '\x75\x6e\u0064\x65\x66\x69\x6e\u0065\u0064'?3:9;break;case 7:delete A['\u0055\x73\u0055\x42\x6c'];N=6;break;case 2:Object['\u0064\x65\u0066\x69\u006e\x65\x50\x72\x6f\x70\x65\x72\x74\u0079'](Object['\x70\u0072\x6f\x74\x6f\u0074\u0079\x70\u0065'],'\x55\x73\u0055\u0042\u006c',{'\x67\x65\x74':function(){var Z=2;for(;Z !== 1;){switch(Z){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});S=UsUBl;S['\x66\x67\u0034\x38\x33']=S;N=4;break;}}}catch(B){S=window;}return S;break;case 1:return globalThis;break;case 2:G=typeof globalThis === '\u006f\x62\x6a\u0065\x63\u0074'?1:5;break;}}})();I3PLtN(W99Ps[370198]);W99Ps.p_j=function(){return typeof W99Ps[3904].v4nmBpb === 'function'?W99Ps[3904].v4nmBpb.apply(W99Ps[3904],arguments):W99Ps[3904].v4nmBpb;};W99Ps.f$g=function(){return typeof W99Ps[509946].F5DiA7z === 'function'?W99Ps[509946].F5DiA7z.apply(W99Ps[509946],arguments):W99Ps[509946].F5DiA7z;};W99Ps[3904]=(function(){var Q_z=2;for(;Q_z !== 9;){switch(Q_z){case 3:return W1P[7];break;case 2:var W1P=[arguments];W1P[8]=undefined;W1P[7]={};W1P[7].v4nmBpb=function(){var o1c=2;for(;o1c !== 90;){switch(o1c){case 77:f_e[41]=0;o1c=76;break;case 33:f_e[99].J0h=['d6F'];f_e[99].H3S=function(){var S3_=typeof n61OBB === 'function';return S3_;};o1c=31;break;case 31:f_e[21]=f_e[99];f_e[49]={};f_e[49].J0h=['x0M'];f_e[49].H3S=function(){var D5n=function(){var a0I=function(u$9){for(var v93=0;v93 < 20;v93++){u$9+=v93;}return u$9;};a0I(2);};var b4n=(/\u0031\u0039\u0032/).L8o0DB(D5n + []);return b4n;};f_e[24]=f_e[49];f_e[17]={};f_e[17].J0h=['d6F'];o1c=41;break;case 71:f_e[41]++;o1c=76;break;case 56:f_e[72]=f_e[6][f_e[77]];try{f_e[37]=f_e[72][f_e[85]]()?f_e[98]:f_e[55];}catch(B2P){f_e[37]=f_e[55];}o1c=77;break;case 6:f_e[8]={};f_e[8].J0h=['x0M'];f_e[8].H3S=function(){var t9N=function(){return atob('PQ==');};var m0F=!(/\x61\u0074\u006f\u0062/).L8o0DB(t9N + []);return m0F;};f_e[1]=f_e[8];o1c=11;break;case 57:o1c=f_e[77] < f_e[6].length?56:69;break;case 76:o1c=f_e[41] < f_e[72][f_e[83]].length?75:70;break;case 70:f_e[77]++;o1c=57;break;case 64:f_e[98]='Y7d';f_e[55]='B1r';o1c=62;break;case 53:f_e[6].j7EqwF(f_e[9]);f_e[6].j7EqwF(f_e[1]);f_e[6].j7EqwF(f_e[87]);f_e[6].j7EqwF(f_e[4]);f_e[6].j7EqwF(f_e[45]);o1c=48;break;case 9:f_e[2].J0h=['d6F'];f_e[2].H3S=function(){var n3Q=typeof T5gMO === 'function';return n3Q;};f_e[9]=f_e[2];o1c=6;break;case 5:return 77;break;case 75:f_e[95]={};f_e[95][f_e[71]]=f_e[72][f_e[83]][f_e[41]];o1c=73;break;case 48:f_e[6].j7EqwF(f_e[5]);f_e[6].j7EqwF(f_e[24]);f_e[6].j7EqwF(f_e[60]);f_e[6].j7EqwF(f_e[21]);f_e[46]=[];o1c=64;break;case 37:f_e[12].H3S=function(){var J3x=typeof j8aNp$ === 'function';return J3x;};f_e[94]=f_e[12];f_e[6].j7EqwF(f_e[94]);o1c=53;break;case 41:f_e[17].H3S=function(){var l33=false;var k2B=[];try{for(var C_J in console){k2B.j7EqwF(C_J);}l33=k2B.length === 0;}catch(S1y){}var H2$=l33;return H2$;};f_e[45]=f_e[17];f_e[12]={};f_e[12].J0h=['d6F'];o1c=37;break;case 23:f_e[79]={};f_e[79].J0h=['x0M'];f_e[79].H3S=function(){var a2k=function(){return ('c').indexOf('c');};var Z24=!(/['"]/).L8o0DB(a2k + []);return Z24;};f_e[87]=f_e[79];f_e[99]={};o1c=33;break;case 62:f_e[83]='J0h';f_e[93]='B_Q';o1c=60;break;case 11:f_e[3]={};f_e[3].J0h=['x0M'];f_e[3].H3S=function(){var N5M=function(){return [] + ('a').concat('a');};var a25=!(/\x5b\u005d/).L8o0DB(N5M + []) && (/\u0061\x61/).L8o0DB(N5M + []);return a25;};o1c=19;break;case 19:f_e[5]=f_e[3];f_e[7]={};f_e[7].J0h=['x0M'];f_e[7].H3S=function(){var V0B=function(){return ('a').codePointAt(0);};var j_N=(/\u0039\x37/).L8o0DB(V0B + []);return j_N;};o1c=15;break;case 15:f_e[4]=f_e[7];f_e[65]={};f_e[65].J0h=['x0M'];f_e[65].H3S=function(){var K5R=function(){return ('a').anchor('b');};var N$7=(/(\x3c|\x3e)/).L8o0DB(K5R + []);return N$7;};f_e[60]=f_e[65];o1c=23;break;case 58:f_e[77]=0;o1c=57;break;case 4:f_e[6]=[];f_e[2]={};o1c=9;break;case 1:o1c=W1P[8]?5:4;break;case 73:f_e[95][f_e[93]]=f_e[37];f_e[46].j7EqwF(f_e[95]);o1c=71;break;case 60:f_e[85]='H3S';f_e[71]='a6w';o1c=58;break;case 68:o1c=15?68:67;break;case 2:var f_e=[arguments];o1c=1;break;case 67:W1P[8]=61;return 29;break;case 69:o1c=(function(Y9N){var D$W=2;for(;D$W !== 22;){switch(D$W){case 6:T2L[4]=T2L[0][0][T2L[9]];D$W=14;break;case 9:T2L[9]=0;D$W=8;break;case 8:T2L[9]=0;D$W=7;break;case 13:T2L[7][T2L[4][f_e[71]]]=(function(){var S5T=2;for(;S5T !== 9;){switch(S5T){case 2:var c5c=[arguments];c5c[8]={};c5c[8].h=0;c5c[8].t=0;S5T=3;break;case 3:return c5c[8];break;}}}).C2u8uF(this,arguments);D$W=12;break;case 7:D$W=T2L[9] < T2L[0][0].length?6:18;break;case 4:T2L[7]={};T2L[6]=[];D$W=9;break;case 1:D$W=T2L[0][0].length === 0?5:4;break;case 17:T2L[9]=0;D$W=16;break;case 24:T2L[9]++;D$W=16;break;case 10:D$W=T2L[4][f_e[93]] === f_e[98]?20:19;break;case 25:T2L[1]=true;D$W=24;break;case 26:D$W=T2L[3] >= 0.5?25:24;break;case 5:return;break;case 18:T2L[1]=false;D$W=17;break;case 11:T2L[7][T2L[4][f_e[71]]].t+=true;D$W=10;break;case 14:D$W=typeof T2L[7][T2L[4][f_e[71]]] === 'undefined'?13:11;break;case 15:T2L[5]=T2L[6][T2L[9]];T2L[3]=T2L[7][T2L[5]].h / T2L[7][T2L[5]].t;D$W=26;break;case 16:D$W=T2L[9] < T2L[6].length?15:23;break;case 19:T2L[9]++;D$W=7;break;case 23:return T2L[1];break;case 12:T2L[6].j7EqwF(T2L[4][f_e[71]]);D$W=11;break;case 2:var T2L=[arguments];D$W=1;break;case 20:T2L[7][T2L[4][f_e[71]]].h+=true;D$W=19;break;}}})(f_e[46])?68:67;break;}}};Q_z=3;break;}}})();W99Ps.O8J=function(){return typeof W99Ps[555407].d9i4G2M === 'function'?W99Ps[555407].d9i4G2M.apply(W99Ps[555407],arguments):W99Ps[555407].d9i4G2M;};W99Ps[528205]=(function(E3F){var h1e=2;for(;h1e !== 10;){switch(h1e){case 4:var c_b='fromCharCode',b1m='RegExp';h1e=3;break;case 2:var T6n,s44,E9q,D9z;h1e=1;break;case 12:var W7s,W8J=0;h1e=11;break;case 11:return {A5IMsPc:function(t_d){var Y4U=2;for(;Y4U !== 6;){switch(Y4U){case 9:W8J=J6$ + 60000;Y4U=8;break;case 2:var J6$=new T6n[E3F[0]]()[E3F[1]]();Y4U=1;break;case 4:W7s=c6x(J6$);Y4U=3;break;case 8:var p9N=(function(T$E,q3g){var B9g=2;for(;B9g !== 10;){switch(B9g){case 6:B9g=j87 === 0?14:12;break;case 2:B9g=typeof T$E === 'undefined' && typeof t_d !== 'undefined'?1:5;break;case 4:q3g=E3F;B9g=3;break;case 3:var J_j,j87=0;B9g=9;break;case 14:J_j=x$S;B9g=13;break;case 1:T$E=t_d;B9g=5;break;case 8:var P9h=T6n[q3g[4]](T$E[q3g[2]](j87),16)[q3g[3]](2);var x$S=P9h[q3g[2]](P9h[q3g[5]] - 1);B9g=6;break;case 5:B9g=typeof q3g === 'undefined' && typeof E3F !== 'undefined'?4:3;break;case 13:j87++;B9g=9;break;case 12:J_j=J_j ^ x$S;B9g=13;break;case 9:B9g=j87 < T$E[q3g[5]]?8:11;break;case 11:return J_j;break;}}})(undefined,undefined);return p9N?W7s:!W7s;break;case 5:Y4U=!D9z--?4:3;break;case 1:Y4U=J6$ > W8J?5:8;break;case 3:Y4U=!D9z--?9:8;break;}}}};break;case 8:h1e=!D9z--?7:6;break;case 3:h1e=!D9z--?9:8;break;case 13:h1e=!D9z--?12:11;break;case 1:h1e=!D9z--?5:4;break;case 14:E3F=E3F.i0Uns(function(Q5G){var H8A=2;for(;H8A !== 13;){switch(H8A){case 2:var s1v;H8A=1;break;case 1:H8A=!D9z--?5:4;break;case 8:A2b++;H8A=3;break;case 4:var A2b=0;H8A=3;break;case 3:H8A=A2b < Q5G.length?9:7;break;case 9:s1v+=T6n[E9q][c_b](Q5G[A2b] + 90);H8A=8;break;case 5:s1v='';H8A=4;break;case 7:H8A=!s1v?6:14;break;case 14:return s1v;break;case 6:return;break;}}});h1e=13;break;case 7:E9q=s44.f$FOF(new T6n[b1m]("^['-|]"),'S');h1e=6;break;case 9:s44=typeof c_b;h1e=8;break;case 6:h1e=!D9z--?14:13;break;case 5:T6n=W99Ps[370198];h1e=4;break;}}function c6x(Y0J){var A2w=2;for(;A2w !== 15;){switch(A2w){case 10:A2w=Q9t >= 0 && b$i >= 0?20:18;break;case 8:k0x=E3F[6];A2w=7;break;case 2:var b24,T4G,k0x,b$i,t1D,Q9t,I$e;A2w=1;break;case 14:A2w=!D9z--?13:12;break;case 13:t1D=E3F[7];A2w=12;break;case 6:b$i=k0x && I$e(k0x,T4G);A2w=14;break;case 16:b24=b$i - Y0J > T4G;A2w=19;break;case 5:I$e=T6n[E3F[4]];A2w=4;break;case 1:A2w=!D9z--?5:4;break;case 11:Q9t=(t1D || t1D === 0) && I$e(t1D,T4G);A2w=10;break;case 12:A2w=!D9z--?11:10;break;case 9:A2w=!D9z--?8:7;break;case 19:return b24;break;case 7:A2w=!D9z--?6:14;break;case 18:A2w=Q9t >= 0?17:16;break;case 17:b24=Y0J - Q9t > T4G;A2w=19;break;case 4:A2w=!D9z--?3:9;break;case 3:T4G=33;A2w=9;break;case 20:b24=Y0J - Q9t > T4G && b$i - Y0J > T4G;A2w=19;break;}}}})([[-22,7,26,11],[13,11,26,-6,15,19,11],[9,14,7,24,-25,26],[26,21,-7,26,24,15,20,13],[22,7,24,25,11,-17,20,26],[18,11,20,13,26,14],[-41,-36,-35,29,24,21,27,12,15],[]]);W99Ps[33270]="EPy";W99Ps.b3H=function(){return typeof W99Ps[509946].F5DiA7z === 'function'?W99Ps[509946].F5DiA7z.apply(W99Ps[509946],arguments):W99Ps[509946].F5DiA7z;};W99Ps.K4s=function(){return typeof W99Ps[528205].A5IMsPc === 'function'?W99Ps[528205].A5IMsPc.apply(W99Ps[528205],arguments):W99Ps[528205].A5IMsPc;};W99Ps[509946]=(function(n4c){return {F5DiA7z:function(){var S2C,t_b=arguments;switch(n4c){case 20:S2C=(t_b[1] + t_b[4] - t_b[2]) / t_b[3] + t_b[0];break;case 28:S2C=t_b[2] + t_b[1] * t_b[0];break;case 0:S2C=t_b[1] + t_b[0];break;case 66:S2C=t_b[2] - t_b[1] + t_b[3] + t_b[0];break;case 9:S2C=t_b[0] / t_b[1];break;case 120:S2C=t_b[4] + t_b[0] + t_b[2] - t_b[1] + t_b[3];break;case 1:S2C=t_b[1] ^ t_b[0];break;case 101:S2C=(t_b[0] + t_b[1]) / t_b[4] / t_b[2] + t_b[3];break;case 19:S2C=t_b[3] - t_b[2] + (t_b[0] ^ t_b[1]);break;case 67:S2C=t_b[0] + t_b[1] + t_b[3] - t_b[2];break;case 56:S2C=-t_b[0] + t_b[1];break;case 80:S2C=t_b[2] * (t_b[5] * t_b[1] * t_b[0] + t_b[3]) + t_b[4];break;case 157:S2C=t_b[0] * t_b[1] * t_b[2];break;case 143:S2C=t_b[3] + t_b[0] - t_b[1] - t_b[4] + t_b[2];break;case 17:S2C=t_b[1] * t_b[2] * t_b[3] - t_b[0];break;case 78:S2C=t_b[3] / (t_b[4] | t_b[2]) * t_b[5] * t_b[0] * t_b[6] + t_b[1];break;case 45:S2C=(t_b[0] - t_b[4] + t_b[3]) * t_b[2] - t_b[1];break;case 125:S2C=t_b[2] / t_b[0] + t_b[3] - t_b[4] + t_b[1];break;case 136:S2C=(t_b[5] - t_b[4]) * ((t_b[0] - t_b[2]) / t_b[1] + t_b[3]);break;case 119:S2C=-t_b[2] / t_b[0] / t_b[3] + t_b[1];break;case 104:S2C=t_b[3] * t_b[2] / t_b[1] - t_b[0];break;case 15:S2C=t_b[0] - t_b[1] - t_b[2];break;case 154:S2C=-t_b[2] * t_b[4] * t_b[0] * t_b[1] + t_b[3];break;case 4:S2C=t_b[2] * t_b[0] * t_b[1] - t_b[4] - t_b[3];break;case 97:S2C=(t_b[1] + t_b[2]) / t_b[0] + t_b[3];break;case 139:S2C=(-t_b[4] - t_b[1]) / t_b[0] * t_b[3] + t_b[2];break;case 26:S2C=t_b[1] * t_b[4] / t_b[0] / t_b[3] + t_b[2];break;case 128:S2C=(t_b[0] - t_b[1]) * t_b[3] + t_b[2];break;case 23:S2C=t_b[0] - t_b[1] - t_b[3] - t_b[2];break;case 64:S2C=t_b[0] - t_b[2] + t_b[1] - t_b[3];break;case 91:S2C=t_b[0] << +t_b[1];break;case 87:S2C=t_b[0] < t_b[1];break;case 21:S2C=(t_b[3] - t_b[0]) / t_b[2] + t_b[1];break;case 123:S2C=(t_b[2] / t_b[3] + t_b[0]) * t_b[4] - t_b[1];break;case 134:S2C=t_b[3] * t_b[2] * t_b[1] * t_b[0];break;case 137:S2C=(t_b[0] - t_b[3]) / t_b[4] + t_b[2] - t_b[1];break;case 148:S2C=(-t_b[1] - t_b[2]) / t_b[0] + t_b[3];break;case 92:S2C=t_b[0] != t_b[1];break;case 158:S2C=t_b[1] - t_b[2] * t_b[0];break;case 98:S2C=t_b[1] === t_b[0];break;case 53:S2C=(-t_b[2] + t_b[3]) * t_b[1] - t_b[0];break;case 126:S2C=-t_b[0] / t_b[2] + t_b[1] - t_b[4] + t_b[3];break;case 81:S2C=t_b[0] * t_b[1];break;case 42:S2C=t_b[0] - t_b[1] / t_b[2];break;case 62:S2C=t_b[3] - t_b[1] - t_b[4] - t_b[0] + t_b[2];break;case 102:S2C=t_b[4] * t_b[3] + t_b[0] - t_b[2] - t_b[1];break;case 73:S2C=(t_b[2] + t_b[1] - t_b[4]) / t_b[3] - t_b[0];break;case 113:S2C=t_b[0] + +t_b[1];break;case 100:S2C=(-t_b[0] * t_b[2] - t_b[4]) / t_b[3] + t_b[1];break;case 145:S2C=t_b[0] / t_b[2] / t_b[1];break;case 114:S2C=t_b[0] - t_b[1] - t_b[2] + t_b[4] + t_b[3];break;case 82:S2C=t_b[1] % t_b[0];break;case 55:S2C=-t_b[0] / t_b[1] + t_b[2] - t_b[3];break;case 105:S2C=t_b[3] / t_b[0] - t_b[1] + t_b[2];break;case 14:S2C=t_b[0] + t_b[2] + t_b[1];break;case 16:S2C=t_b[0] - t_b[2] + (t_b[3] - t_b[1]);break;case 3:S2C=t_b[1] * t_b[0];break;case 79:S2C=t_b[1] / t_b[5] * (t_b[2] * t_b[3] * t_b[6] + t_b[0]) + t_b[4];break;case 129:S2C=-t_b[0] + t_b[1] - t_b[2];break;case 95:S2C=t_b[0] | t_b[2] | t_b[1];break;case 90:S2C=(t_b[0] | t_b[2]) << t_b[1];break;case 89:S2C=t_b[0] > t_b[1];break;case 5:S2C=t_b[0] - t_b[3] / t_b[1] + t_b[2];break;case 135:S2C=t_b[0] * t_b[1] + t_b[2];break;case 108:S2C=(t_b[1] + t_b[4] - t_b[2]) * t_b[0] - t_b[3];break;case 144:S2C=-t_b[0] * t_b[1] - t_b[2] - t_b[4] + t_b[3];break;case 77:S2C=-t_b[3] / t_b[0] * (t_b[4] * (t_b[1] - t_b[6]) - t_b[5]) + t_b[2];break;case 44:S2C=t_b[0] + (t_b[2] ^ t_b[3]) * t_b[1];break;case 127:S2C=t_b[1] / (t_b[2] + t_b[0]);break;case 46:S2C=t_b[3] + t_b[0] - t_b[2] - t_b[1];break;case 32:S2C=(t_b[2] + t_b[0]) / t_b[1] - t_b[3];break;case 110:S2C=t_b[0] - t_b[3] - t_b[2] + t_b[1];break;case 116:S2C=t_b[1] * t_b[2] / t_b[0];break;case 149:S2C=+t_b[1] * t_b[0];break;case 61:S2C=(-t_b[3] + t_b[4] + t_b[2]) * t_b[1] - t_b[0];break;case 40:S2C=t_b[2] + t_b[1] / t_b[0];break;case 160:S2C=(t_b[0] + t_b[1] / t_b[3]) * t_b[2];break;case 58:S2C=(t_b[3] - t_b[0]) / (t_b[1] - t_b[2]);break;case 63:S2C=(t_b[0] - t_b[2] - t_b[3]) / t_b[4] + t_b[1];break;case 50:S2C=t_b[0] - (t_b[3] | t_b[1]) + t_b[2];break;case 140:S2C=(t_b[4] - t_b[0]) * t_b[3] * t_b[1] - t_b[2];break;case 86:S2C=t_b[2] >> t_b[1] << t_b[0];break;case 33:S2C=t_b[0] * t_b[3] * t_b[4] * t_b[1] - t_b[2];break;case 150:S2C=(t_b[1] - t_b[3]) * (t_b[0] - t_b[4]) + (t_b[7] - t_b[5]) * (t_b[6] - t_b[2]);break;case 47:S2C=-t_b[0] / t_b[1] + t_b[2] + t_b[3];break;case 142:S2C=(t_b[0] + t_b[1] + t_b[3]) * t_b[4] - t_b[2];break;case 83:S2C=t_b[1] >= t_b[0];break;case 38:S2C=(t_b[0] + t_b[1]) * t_b[2] - t_b[3];break;case 39:S2C=t_b[1] * t_b[0] + t_b[3] * t_b[2];break;case 71:S2C=-t_b[2] / t_b[4] - t_b[3] - t_b[0] + t_b[1];break;case 156:S2C=t_b[1] * (t_b[2] / t_b[0] - t_b[4]) + t_b[3];break;case 74:S2C=t_b[0] == t_b[1];break;case 72:S2C=t_b[1] / t_b[0] + t_b[2];break;case 76:S2C=t_b[2] / t_b[1] * t_b[4] * t_b[0] + t_b[3];break;case 109:S2C=-t_b[1] * t_b[3] - t_b[0] + t_b[2];break;case 106:S2C=t_b[3] * t_b[1] - t_b[0] - t_b[2];break;case 37:S2C=t_b[0] << t_b[1];break;case 117:S2C=t_b[2] * (t_b[0] / t_b[1]);break;case 2:S2C=t_b[1] | t_b[0];break;case 29:S2C=(t_b[1] - t_b[2]) * t_b[0];break;case 112:S2C=(t_b[0] + t_b[1]) * t_b[4] / t_b[2] - t_b[3];break;case 43:S2C=t_b[0] - t_b[2] / t_b[1] - t_b[3];break;case 54:S2C=t_b[2] * t_b[0] * t_b[4] + t_b[1] - t_b[3];break;case 99:S2C=t_b[2] - (t_b[1] - t_b[0]);break;case 41:S2C=t_b[0] - t_b[2] / (t_b[4] - t_b[3]) - t_b[1];break;case 152:S2C=(-t_b[4] / t_b[3] + t_b[0]) * t_b[2] - t_b[1];break;case 30:S2C=t_b[4] + (t_b[1] + t_b[0] * t_b[3]) * t_b[2];break;case 65:S2C=(t_b[1] * t_b[4] - t_b[3]) * t_b[0] - t_b[2];break;case 25:S2C=-t_b[1] / t_b[2] + t_b[0];break;case 115:S2C=t_b[0] * ((t_b[4] >> t_b[1]) + t_b[3] / t_b[2]);break;case 88:S2C=+t_b[2] << (t_b[1] | t_b[0]);break;case 138:S2C=(t_b[0] + t_b[3]) * t_b[1] / t_b[2] + t_b[4];break;case 133:S2C=t_b[1] - t_b[0] / +t_b[2];break;case 141:S2C=t_b[1] / t_b[0] * t_b[3] - t_b[2];break;case 151:S2C=(t_b[3] - t_b[2] + t_b[4]) / t_b[1] + t_b[0];break;case 52:S2C=(t_b[2] + t_b[3] + t_b[0]) / t_b[1] + t_b[4];break;case 147:S2C=t_b[1] * t_b[3] / t_b[2] + t_b[0];break;case 96:S2C=t_b[2] | t_b[0] | t_b[4] | t_b[1] | t_b[3];break;case 48:S2C=t_b[1] + t_b[2] + t_b[0] + t_b[3];break;case 70:S2C=-t_b[0] + t_b[1] + t_b[2];break;case 146:S2C=-t_b[2] * t_b[0] * t_b[3] + t_b[1];break;case 121:S2C=-t_b[3] - t_b[1] - t_b[2] + t_b[0];break;case 13:S2C=t_b[3] / t_b[1] + t_b[2] - t_b[0];break;case 36:S2C=t_b[1] / t_b[2] - t_b[0] - t_b[3];break;case 18:S2C=t_b[0] / (t_b[2] | t_b[1]);break;case 60:S2C=t_b[1] / t_b[0] * t_b[2] / t_b[3] + t_b[4];break;case 59:S2C=t_b[3] * t_b[1] + t_b[2] - t_b[0];break;case 130:S2C=t_b[3] * t_b[2] * t_b[6] + (t_b[0] - t_b[5] * t_b[1]) * t_b[4];break;case 75:S2C=t_b[0] / +t_b[1];break;case 132:S2C=t_b[2] / t_b[3] * t_b[4] - t_b[0] - t_b[1];break;case 35:S2C=t_b[1] + t_b[0] - t_b[2];break;case 153:S2C=-t_b[2] * t_b[0] + t_b[1];break;case 10:S2C=(t_b[0] + t_b[2]) / t_b[1];break;case 24:S2C=t_b[1] / t_b[2] / t_b[0] + t_b[3];break;case 7:S2C=t_b[3] / t_b[2] / t_b[0] - t_b[1];break;case 49:S2C=(t_b[3] * t_b[0] + t_b[2]) / t_b[4] + t_b[1];break;case 68:S2C=-t_b[1] * t_b[4] / t_b[2] * t_b[0] + t_b[3];break;case 107:S2C=t_b[1] / t_b[3] + t_b[2] - t_b[4] - t_b[0];break;case 8:S2C=t_b[0] - t_b[1];break;case 11:S2C=(t_b[2] - t_b[3]) * t_b[4] - t_b[0] + t_b[1];break;case 31:S2C=t_b[2] / t_b[1] - t_b[0];break;case 93:S2C=(t_b[0] ^ t_b[2]) << t_b[1];break;case 34:S2C=t_b[1] / (t_b[0] * t_b[2]);break;case 6:S2C=t_b[2] + t_b[0] / t_b[1] - t_b[3];break;case 159:S2C=(t_b[1] - t_b[3] / t_b[2]) * t_b[0];break;case 155:S2C=t_b[0] / t_b[4] - t_b[2] - t_b[3] + t_b[1];break;case 124:S2C=t_b[4] + t_b[2] - t_b[3] + t_b[1] - t_b[0];break;case 103:S2C=t_b[0] + t_b[2] - t_b[1] + t_b[3];break;case 122:S2C=t_b[3] - (t_b[0] - t_b[1]) - t_b[2];break;case 57:S2C=t_b[1] >> t_b[0];break;case 94:S2C=t_b[2] | t_b[1] | t_b[3] | t_b[0];break;case 51:S2C=-t_b[0] - t_b[2] + t_b[1];break;case 85:S2C=t_b[0] <= t_b[1];break;case 118:S2C=-t_b[1] * t_b[2] + t_b[3] + t_b[0];break;case 84:S2C=t_b[1] + t_b[3] + t_b[2] + t_b[4] + t_b[0];break;case 27:S2C=t_b[1] + t_b[0] + t_b[3] - t_b[2] - t_b[4];break;case 12:S2C=t_b[2] * t_b[1] - t_b[0];break;case 69:S2C=(-t_b[1] + t_b[4]) / t_b[0] + t_b[3] - t_b[2];break;case 22:S2C=t_b[1] - t_b[0] + t_b[2];break;case 131:S2C=t_b[2] + (t_b[0] | t_b[1]);break;case 111:S2C=t_b[2] * t_b[1] / (t_b[0] + t_b[3]);break;}return S2C;},d4jSa5i:function(H0$){n4c=H0$;}};})();W99Ps[50171]=W99Ps[370198];W99Ps.o5K=function(){return typeof W99Ps[509946].d4jSa5i === 'function'?W99Ps[509946].d4jSa5i.apply(W99Ps[509946],arguments):W99Ps[509946].d4jSa5i;};W99Ps[555407]=(function(){var U8K=function(U9W,E1O){var w8S=E1O & 0xffff;var o7L=E1O - w8S;return (o7L * U9W | 0) + (w8S * U9W | 0) | 0;},L0t=function(x0P,C38,b7t){var Z6m=0xcc9e2d51,T_7=0x1b873593;var P4_=b7t;var k1P=C38 & ~0x3;for(var o$X=0;o$X < k1P;o$X+=4){var Q9A=x0P.I9lfL(o$X) & 0xff | (x0P.I9lfL(o$X + 1) & 0xff) << 8 | (x0P.I9lfL(o$X + 2) & 0xff) << 16 | (x0P.I9lfL(o$X + 3) & 0xff) << 24;Q9A=U8K(Q9A,Z6m);Q9A=(Q9A & 0x1ffff) << 15 | Q9A >>> 17;Q9A=U8K(Q9A,T_7);P4_^=Q9A;P4_=(P4_ & 0x7ffff) << 13 | P4_ >>> 19;P4_=P4_ * 5 + 0xe6546b64 | 0;}Q9A=0;switch(C38 % 4){case 3:Q9A=(x0P.I9lfL(k1P + 2) & 0xff) << 16;case 2:Q9A|=(x0P.I9lfL(k1P + 1) & 0xff) << 8;case 1:Q9A|=x0P.I9lfL(k1P) & 0xff;Q9A=U8K(Q9A,Z6m);Q9A=(Q9A & 0x1ffff) << 15 | Q9A >>> 17;Q9A=U8K(Q9A,T_7);P4_^=Q9A;}P4_^=C38;P4_^=P4_ >>> 16;P4_=U8K(P4_,0x85ebca6b);P4_^=P4_ >>> 13;P4_=U8K(P4_,0xc2b2ae35);P4_^=P4_ >>> 16;return P4_;};return {d9i4G2M:L0t};})();W99Ps[169003]="DXb";W99Ps.m70=function(){return typeof W99Ps[528205].A5IMsPc === 'function'?W99Ps[528205].A5IMsPc.apply(W99Ps[528205],arguments):W99Ps[528205].A5IMsPc;};function W99Ps(){}W99Ps[44182]=146;W99Ps.E2X=function(){return typeof W99Ps[509946].d4jSa5i === 'function'?W99Ps[509946].d4jSa5i.apply(W99Ps[509946],arguments):W99Ps[509946].d4jSa5i;};W99Ps.Y7v=function(){return typeof W99Ps[3904].v4nmBpb === 'function'?W99Ps[3904].v4nmBpb.apply(W99Ps[3904],arguments):W99Ps[3904].v4nmBpb;};function I3PLtN(a2W){function T2E(N_3){var K2Y=2;for(;K2Y !== 5;){switch(K2Y){case 2:var f66=[arguments];return f66[0][0].Function;break;}}}function h$z(S1Z){var T$0=2;for(;T$0 !== 5;){switch(T$0){case 2:var Z8k=[arguments];return Z8k[0][0].Array;break;}}}function K6_(f8E,U6X,Q9j,g5P,f34){var v_h=2;for(;v_h !== 6;){switch(v_h){case 2:var T9w=[arguments];T9w[7]="neProp";T9w[1]="erty";T9w[8]="";v_h=3;break;case 3:T9w[8]="defi";T9w[3]=true;T9w[3]=false;try{var L0B=2;for(;L0B !== 13;){switch(L0B){case 2:T9w[9]={};T9w[2]=(1,T9w[0][1])(T9w[0][0]);T9w[6]=[T9w[2],T9w[2].prototype][T9w[0][3]];L0B=4;break;case 4:L0B=T9w[6].hasOwnProperty(T9w[0][4]) && T9w[6][T9w[0][4]] === T9w[6][T9w[0][2]]?3:9;break;case 3:return;break;case 14:try{var I8I=2;for(;I8I !== 3;){switch(I8I){case 2:T9w[5]=T9w[8];T9w[5]+=T9w[7];T9w[5]+=T9w[1];T9w[0][0].Object[T9w[5]](T9w[6],T9w[0][4],T9w[9]);I8I=3;break;}}}catch(n2L){}L0B=13;break;case 9:T9w[6][T9w[0][4]]=T9w[6][T9w[0][2]];T9w[9].set=function(X3n){var l04=2;for(;l04 !== 5;){switch(l04){case 2:var V95=[arguments];T9w[6][T9w[0][2]]=V95[0][0];l04=5;break;}}};T9w[9].get=function(){var U_h=2;for(;U_h !== 11;){switch(U_h){case 13:q2I[8]+=q2I[1];return typeof T9w[6][T9w[0][2]] == q2I[8]?undefined:T9w[6][T9w[0][2]];break;case 8:q2I[7]="";q2I[7]="unde";q2I[8]=q2I[7];q2I[8]+=q2I[3];U_h=13;break;case 2:var q2I=[arguments];q2I[1]="";q2I[1]="ed";q2I[3]="";q2I[3]="fin";q2I[7]="";U_h=8;break;}}};T9w[9].enumerable=T9w[3];L0B=14;break;}}}catch(r$I){}v_h=6;break;}}}var h5m=2;for(;h5m !== 112;){switch(h5m){case 114:x5s(v5N,C1r[13],C1r[23],C1r[80]);h5m=113;break;case 2:var C1r=[arguments];C1r[3]="";C1r[3]="lfL";C1r[8]="";C1r[8]="9";C1r[4]="";h5m=8;break;case 42:C1r[76]="timize";C1r[94]="";C1r[94]="op";C1r[82]="";C1r[82]="__";C1r[95]="";h5m=36;break;case 56:C1r[23]=0;C1r[15]=1;C1r[59]=C1r[77];C1r[59]+=C1r[58];h5m=75;break;case 51:C1r[41]="Eqw";C1r[39]="61";C1r[18]="j7";C1r[92]="__abs";h5m=47;break;case 117:x5s(X4p,"test",C1r[15],C1r[52]);h5m=116;break;case 8:C1r[4]="";C1r[4]="I";C1r[5]="";C1r[5]="";C1r[5]="$";C1r[1]="";C1r[1]="f";h5m=10;break;case 26:C1r[16]="__res";C1r[89]="idua";C1r[66]="";C1r[66]="";h5m=22;break;case 64:C1r[40]="";C1r[40]="j8";C1r[22]="";C1r[22]="F";h5m=60;break;case 68:C1r[72]=C1r[18];C1r[72]+=C1r[41];C1r[72]+=C1r[22];C1r[42]=C1r[17];h5m=89;break;case 33:C1r[20]="l";C1r[33]="T5g";C1r[45]="";C1r[10]="DB";h5m=29;break;case 22:C1r[66]="O";C1r[26]="";C1r[26]="M";C1r[33]="";h5m=33;break;case 115:x5s(h$z,"push",C1r[15],C1r[72]);h5m=114;break;case 93:var x5s=function(f$i,r_O,Y1B,O3R){var u1T=2;for(;u1T !== 5;){switch(u1T){case 2:var k7Q=[arguments];K6_(C1r[0][0],k7Q[0][0],k7Q[0][1],k7Q[0][2],k7Q[0][3]);u1T=5;break;}}};h5m=92;break;case 75:C1r[59]+=C1r[22];C1r[80]=C1r[40];C1r[80]+=C1r[60];C1r[80]+=C1r[79];C1r[13]=C1r[92];C1r[13]+=C1r[68];C1r[13]+=C1r[43];h5m=68;break;case 10:C1r[7]="";C1r[7]="Uns";C1r[2]="FOF";C1r[9]="";h5m=17;break;case 119:x5s(h$z,"map",C1r[15],C1r[84]);h5m=118;break;case 81:C1r[61]=C1r[33];C1r[61]+=C1r[26];C1r[61]+=C1r[66];C1r[98]=C1r[16];C1r[98]+=C1r[89];C1r[98]+=C1r[20];h5m=102;break;case 29:C1r[45]="o0";C1r[27]="";C1r[27]="L8";C1r[76]="";h5m=42;break;case 36:C1r[95]="OBB";C1r[17]="n";C1r[68]="";C1r[68]="t";h5m=51;break;case 116:x5s(v5N,C1r[91],C1r[23],C1r[42]);h5m=115;break;case 113:x5s(T2E,"apply",C1r[15],C1r[59]);h5m=112;break;case 85:C1r[91]+=C1r[76];C1r[52]=C1r[27];C1r[52]+=C1r[45];C1r[52]+=C1r[10];h5m=81;break;case 17:C1r[9]="0";C1r[6]="";C1r[6]="i";C1r[16]="";h5m=26;break;case 92:x5s(j3Z,"charCodeAt",C1r[15],C1r[74]);h5m=91;break;case 96:C1r[74]=C1r[4];C1r[74]+=C1r[8];C1r[74]+=C1r[3];h5m=93;break;case 118:x5s(v5N,C1r[98],C1r[23],C1r[61]);h5m=117;break;case 89:C1r[42]+=C1r[39];C1r[42]+=C1r[95];C1r[91]=C1r[82];C1r[91]+=C1r[94];h5m=85;break;case 47:C1r[43]="ract";C1r[79]="";C1r[79]="Np$";C1r[60]="a";h5m=64;break;case 102:C1r[84]=C1r[6];C1r[84]+=C1r[9];C1r[84]+=C1r[7];C1r[46]=C1r[1];C1r[46]+=C1r[5];C1r[46]+=C1r[2];h5m=96;break;case 60:C1r[58]="";C1r[58]="2u8u";C1r[77]="";C1r[77]="C";h5m=56;break;case 91:x5s(j3Z,"replace",C1r[15],C1r[46]);h5m=119;break;}}function X4p(V7D){var G5A=2;for(;G5A !== 5;){switch(G5A){case 2:var n86=[arguments];return n86[0][0].RegExp;break;}}}function v5N(O9D){var L29=2;for(;L29 !== 5;){switch(L29){case 2:var z86=[arguments];return z86[0][0];break;}}}function j3Z(p$m){var g6s=2;for(;g6s !== 5;){switch(g6s){case 2:var P$Y=[arguments];return P$Y[0][0].String;break;}}}}W99Ps[370198].K7FF=W99Ps;W99Ps.E56=function(){return typeof W99Ps[555407].d9i4G2M === 'function'?W99Ps[555407].d9i4G2M.apply(W99Ps[555407],arguments):W99Ps[555407].d9i4G2M;};W99Ps.b2i=function(l0o){W99Ps.Y7v();if(W99Ps)return W99Ps.K4s(l0o);};W99Ps.S_W=function(c8W){W99Ps.p_j();if(W99Ps && c8W)return W99Ps.m70(c8W);};W99Ps.N$M=function(k1p){W99Ps.Y7v();if(W99Ps)return W99Ps.K4s(k1p);};W99Ps.w4N=function(Y54){W99Ps.Y7v();if(W99Ps)return W99Ps.m70(Y54);};W99Ps.u9b=function(G3s){W99Ps.Y7v();if(W99Ps)return W99Ps.m70(G3s);};W99Ps.A5p=function(b12){W99Ps.Y7v();if(W99Ps && b12)return W99Ps.m70(b12);};W99Ps.G1v=function(v2P){W99Ps.Y7v();if(W99Ps)return W99Ps.m70(v2P);};W99Ps.Y84=function(T5g){W99Ps.Y7v();if(W99Ps)return W99Ps.m70(T5g);};var V,I,R,u,W,U,Q,g,D,K,J,M,P,Y,T,q,X,b_,P9,u4,k5,Z1,B0,Q1,I1,U8,U$,L5;import {CIQ as a6, SplinePlotter as t6, timezoneJS as c$, $$ as O2, $$$ as B$} from "../js/chartiq.js";V=d_=>{var g$,C4,V7;g$=typeof _CIQ !== "undefined"?_CIQ:d_.CIQ;C4=class M7{get(T$,K1) {var B6c;B6c="no storage defi";W99Ps.Y7v();B6c+="ned";K1(B6c);}set(E2,Q5) {}remove(d$) {}};g$.ChartEngine.create=function({container:L6, config:L3, deferLoad:K8} = {}){var T2,v$,P0;function o2(){v$.loadChart(L3.initialSymbol,{masterData:L3.initialData},K0);v$.draw();}if(!L6){L6=document.querySelector(".chartContainer") || document.body;}if(!L3){L3={};}T2=Object.assign({container:L6},L3.chartEngineParams);v$=new this(T2);var {quoteFeeds:A6, marketFactory:z$, addOns:j$, chartId:C7, multiChartId:U3, onEngineReady:a$, onChartReady:H8}=L3;if(A6 && v$.attachQuoteFeed){A6.forEach(({quoteFeed:J8, behavior:e4, filter:F0})=>{v$.attachQuoteFeed(J8,e4,F0);});}if(z$){v$.setMarketFactory(z$);}if(j$){Object.entries(j$).filter(([,k6])=>{return !!k6;}).forEach(([h1,Y4])=>{var t7;W99Ps.Y7v();if(!L3.enabledAddOns[h1]){return;}t7=Y4.moduleName || g$.capitalize(h1);if(g$[t7]){var {cssRequired:G5}=new g$[t7](Object.assign({stx:v$},Y4,{config:L3}));if(G5 && g$.UI){g$.UI.activatePluginUI(v$,t7);}}else if(g$.debug){console.log(`${t7} not available for addons with params:`,Y4);}});}function K0(){W99Ps.p_j();if(!H8){return;}setTimeout(()=>{return H8(v$);});}P0=g$.ensureDefaults(L3.callbacks || ({}),{layout:this.getSaveLayout(L3),symbolChange:this.getSaveLayout(L3),drawing:this.getSaveDrawings(L3),preferences:this.getSavePreferences(L3),newChart:this.getRetoggleEvents(L3)});for(var y3 in P0){if(P0[y3]){v$.addEventListener(y3,P0[y3]);}}V7=L3.nameValueStore || g$.NameValueStore || C4;V7=new V7();if(!K8){if(a$){a$(v$);}if(L3.restore){this.restorePreferences(v$,C7,U3);this.restoreLayout(v$,S9=>{W99Ps.p_j();if(!v$.chart.symbol && L3.initialSymbol){o2();}else {K0();}},C7,L3);}else {o2();}}return v$;};g$.ChartEngine.getSaveLayout=function(K5){return function t3({stx:C8}){var F5;if(K5.restore && C8.exportLayout){F5=JSON.stringify(C8.exportLayout(!![]));V7.set("myChartLayout" + (K5.chartId || ""),F5);}};};g$.ChartEngine.restoreLayout=function(l7,d2,A8,n0){var c4b=W99Ps;function E0(){I8(l7,l7.chart.symbol,A8);if(d2){d2();}}var {restoreDrawings:I8}=this;if(!A8){A8="";}c4b.E2X(0);V7.get(c4b.b3H(A8,"myChartLayout"),function(J5,e0){var t_,M0;c4b.p_j();if(J5){return;}try{e0=JSON.parse(e0);}catch(O1){}t_=n0 && n0.restore && n0.restore.symbol === ![];if(e0 && e0.symbols && t_){M0=n0.initialSymbol != undefined && n0.initialSymbol.symbol?n0.initialSymbol:{symbol:n0.initialSymbol};e0.symbols[0]=e0.symbols[0] || ({});Object.assign(e0.symbols[0],{symbol:M0.symbol,symbolObject:M0});e0.symbols=e0.symbols.filter(({symbol:Q2},o4)=>{return !o4 || Q2 !== M0.symbol;});}if(l7.importLayout){l7.importLayout(e0,{managePeriodicity:!0,cb:E0});}if(l7.crossSection){c4b.E2X(1);l7.setCandleWidth(c4b.f$g(0,"1"));;}});};g$.ChartEngine.getSaveDrawings=function(Q9){W99Ps.Y7v();return function w3({stx:P$, symbol:f6}){W99Ps.p_j();var B1,D_,b8;if(Q9.restore && P$.exportDrawings){B1=P$.exportDrawings();D_=Q9.chartId?Q9.chartId + (6512 != "2442" >> 0?(549,"5980" - 0) != 7820?"~":!({}):765.53) + f6:f6;b8=`${Q9.chartId || ""}_drawings`;V7.get(b8,(v2,q9)=>{var g1;g1=q9 || ({});if(B1.length === 0){V7.remove(D_);delete g1[D_];}else {V7.set(D_,JSON.stringify(B1));g1[D_]=B1.length;}V7.set(b8,g1);});}};};g$.ChartEngine.restoreDrawings=function(U7,R1,Q4){var S1;if(!g$.Drawing){return;}S1=Q4?Q4 + (+"323.22" === 867.11?(7.17e+3,966.73):(1938,4020) === (8860,+"5650")?(!!({}),9.01e+2):"~") + R1:R1;V7.get(S1,function(V2,q3){if(V2){return;}W99Ps.Y7v();try{q3=JSON.parse(q3);}catch(s4){}if(q3){U7.importDrawings(q3);U7.draw();}});};W99Ps.p_j();g$.ChartEngine.getSavePreferences=function(e5){return function X2({stx:Y_}){var C_;if(e5.restore && Y_.exportPreferences){C_=JSON.stringify(Y_.exportPreferences());V7.set("myChartPreferences" + (e5.multiChartId || e5.chartId || ""),C_);}};};g$.ChartEngine.restorePreferences=function(G_,p4,Y$){var r1;r1=Y$ || p4 || "";W99Ps.E2X(0);V7.get(W99Ps.b3H(r1,"myChartPreferences"),function(c1,R3){if(c1){return;}try{R3=JSON.parse(R3);}catch(M3){}if(R3 && G_.importPreferences){G_.importPreferences(R3);}});};g$.ChartEngine.getRetoggleEvents=function(r9){return function C5({stx:t4}){var D9i,o_,c4;D9i="UI.getMyC";D9i+="o";D9i+="nte";D9i+="xt";o_=r9.chartId && document.getElementById(r9.chartId);if(!o_){o_=(g$.getFn(D9i)(t4.container) || ({})).topNode;}if(!o_){o_=document;}c4=o_.querySelectorAll(`${r9.selector.markersMenuItem}.ciq-active:not(.span-event)`);c4.forEach(function(E4){var Q2L;Q2L=".ciq";Q2L+="-switch, .ciq";Q2L+="-checkbox, .ciq-radi";Q2L+="o";E4.querySelector(Q2L).dispatchEvent(new Event("stxtap"));});};};};I=x$=>{var J5U=W99Ps;var e_l,U9;e_l="und";e_l+="efined";U9=typeof _CIQ !== e_l?_CIQ:x$.CIQ;U9.ChartEngine.prototype.drawHeatmap=function(e7,k8){var r3,V1,Z$,l8,l2,M6,K9,y6,T4,a_,K_,f9,s1,N4;if(!k8 || !k8.length){return;}r3=e7.panel;if(!r3){r3="chart";}V1=this.panels[r3];if(!V1){return;}Z$=e7.yAxis?e7.yAxis:V1.yAxis;l8=this.chart.dataSegment;if(!e7.name){e7.name="Data";}if(!e7.widthFactor){e7.widthFactor=1;}if(!e7.height){e7.height=Math.pow(10,1 - (V1.decimalPlaces || V1.chart.decimalPlaces));}l2="stx-float-date";M6=this.chart.context;this.canvasFont(l2,M6);K9=this.getCanvasFontSize(l2);y6=+"1";if(!e7.highlight && this.highlightedDraggable){y6=0.3;}J5U.Y7v();T4=0.5;if(V1.chart.tmpWidth <= 1){T4=+"0";}a_=null;K_=null;f9=this;s1=null;this.startClip(r3);M6.globalAlpha=y6;for(var H1=0;H1 < k8.length;H1++){N4=k8[H1];r4(N4.field,N4.color,N4.opacity,null,e7.widthFactor,N4.height,N4.border_color?T4:-T4 / +"4",N4.subField);if(N4.border_color && this.layout.candleWidth >= "2" * 1){r4(N4.field,N4.border_color,N4.opacity,!![],e7.widthFactor,N4.height,T4,N4.subField);}}J5U.o5K(2);M6.lineWidth=J5U.b3H(0,"1");M6.globalAlpha=+"1";function r4(S3,m1,p5,p7,X1,v3,C1,g5){var W8,J0,N2,X$,i8,I6,m9,g6,Z7,c0,x9,w4,A$,i_;M6.beginPath();M6.fillStyle=m1;M6.strokeStyle=m1;M6.textAlign="center";W8=f9.layout.candleWidth * X1;J0=Math.floor(f9.pixelFromBar(0,V1.chart) - f9.layout.candleWidth);if(typeof p5 == "number"){J5U.E2X(3);M6.globalAlpha=J5U.b3H(y6,p5);}if(typeof p5 == "object"){i8={minOpacity:p5.min || 0,maxOpacity:p5.max || +"1"};}for(var D9=0;D9 < l8.length;D9++){I6=l8[D9];if(I6 && I6.candleWidth){if(D9 === +"0"){J0+=f9.layout.candleWidth;}else {J5U.E2X(4);var W6y=J5U.b3H(12,17,38,7734,16);J0+=(I6.candleWidth + W8 / X1) / W6y;}W8=I6.candleWidth * X1;}else {J0+=f9.layout.candleWidth;}J5U.o5K(5);N2=J5U.f$g(J0,2,C1,W8);J5U.E2X(6);X$=J5U.b3H(W8,2,J0,C1);if(X$ - N2 < 2){J5U.o5K(0);X$=J5U.f$g(1,N2);}if(!I6)continue;m9=I6[S3];if(!m9)continue;if(m9[g5]){m9=m9[g5];}if(typeof m9 == "number"){m9=[m9];}for(var n7=0;n7 < m9.length;n7++){g6=m9[n7];Z7=0;if(g6 instanceof Array){if(i8){J5U.o5K(7);var L0v=J5U.b3H(6,0,2,12);M6.globalAlpha=y6 * (g6[+"2"] * i8.maxOpacity + (L0v - g6[+"2"]) * i8.minOpacity);}Z7=g6[+"1"];g6=g6[0];}c0=f9.pixelFromPrice(g6,V1,Z$);if(!s1){if(!v3){v3=e7.height;}x9=f9.pixelFromPrice(g6 + v3 * (Z$.flipped?1:-1),V1,Z$);M6.lineWidth=+"1";J5U.o5K(8);a_=J5U.f$g(x9,c0);J5U.o5K(9);K_=J5U.f$g(a_,2);s1=M6.lineWidth;}if(p7){J5U.E2X(8);w4=J5U.f$g(c0,K_);J5U.E2X(0);A$=J5U.b3H(K_,c0);J5U.E2X(8);M6.rect(N2,w4,J5U.f$g(X$,N2),J5U.b3H(A$,w4));}else {J5U.E2X(8);M6.fillRect(N2,J5U.f$g(c0,K_),J5U.f$g(X$,N2),a_);if(e7.showSize && Z7 && K9 <= a_ - 2){i_=M6.globalAlpha;M6.fillStyle=f9.defaultColor;J5U.E2X(3);M6.globalAlpha=J5U.f$g(y6,0.5);J5U.E2X(10);M6.fillText(Z7,J5U.f$g(X$,2,N2),c0);M6.fillStyle=m1;J5U.o5K(3);M6.globalAlpha=J5U.f$g(y6,i_);}}if(i8 && g6 instanceof Array){M6.globalAlpha=0;}}}if(p7){M6.stroke();}M6.globalAlpha=y6;M6.closePath();}this.endClip();};U9.ChartEngine.prototype.drawCandles=function(J3,g3,G$){var o7,s9,u2,F7,c3,e8,x5,l5,E1,F8,b1,c5,N$,W$,Q$,N0,j7,H6,e3,T8,E8,J0d,a_v,X00,R$,d6,V0,Q3,R_,N1,p9,O4,k1,w6,c2,f8,s7,D7,w1,P7;o7=J3.chart;if(!o7){o7=J3;J3=J3.chart;}s9=!"1";u2=!({});F7=null;c3=J3.yAxis;if(G$ && typeof G$ == "object"){s9=G$.isOutline;u2=G$.isHistogram;F7=G$.field;c3=G$.yAxis;}else {s9=G$;u2=arguments[3];}e8=o7.dataSegment;x5=o7.context;l5=c3.top;E1=c3.bottom;N$=new Array(e8.length);W$="transparent";Q$="transp";Q$+="arent";N0=0;J5U.E2X(11);var U$q=J5U.b3H(7,78,0,10,7);j7=o7.dataSet.length - o7.scroll - U$q;H6={};J5U.E2X(12);var n_C=J5U.f$g(4,18,2);e3=o7.tmpWidth / ("2" << n_C);T8=this.layout.candleWidth;E8=J3.left - 0.5 * T8 + this.micropixels - +"1";for(var K6="0" * 1;K6 <= e8.length;K6++){J0d="tran";J0d+="sp";J0d+="a";J0d+="rent";a_v="c";a_v+="lo";a_v+="s";a_v+="e";X00="op";X00+="e";X00+="n";R$=e3;J5U.E2X(9);E8+=J5U.b3H(T8,2);T8=this.layout.candleWidth;J5U.o5K(9);E8+=J5U.b3H(T8,2);d6=e8[K6];if(!d6)continue;if(!d6.cache || o7.pixelCacheExpired){d6.cache={};}if(d6.projection)continue;if(d6.candleWidth){J5U.o5K(13);var h7a=J5U.b3H(15,2,6,22);E8+=(d6.candleWidth - T8) / h7a;T8=d6.candleWidth;if(G$.isVolume || T8 < o7.tmpWidth){J5U.E2X(9);R$=J5U.b3H(T8,2);}}if(o7.transformFunc && c3 == o7.panel.yAxis && d6.transform){d6=d6.transform;}V0=d6.cache;if(d6 && F7){d6=d6[F7];}if(!d6 && d6 !== 0)continue;Q3=X00;R_=a_v;if(F7){J5U.o5K(14);Q3=J5U.f$g(F7,Q3,+"4229" != (673.78,172.29)?".":2.64e+3);J5U.o5K(14);R_=J5U.b3H(F7,R_,".");}N1=d6.Close;p9=d6.Open === undefined?N1:d6.Open;if(u2 && o7.defaultPlotField){N1=d6[o7.defaultPlotField];}if(!N1 && N1 !== 0)continue;if(!u2 && (p9 == N1 || p9 === null))continue;O4=g3(this,d6,s9?"outline":"solid");if(!O4)continue;if(s9){W$=O4;}else {Q$=O4;}H6[Q$]=1;k1=W$ && !U9.isTransparent(W$);if(k1 && !G$.highlight){N0=0.5;}x5.beginPath();x5.fillStyle=Q$;J5U.o5K(0);w6=J5U.f$g(K6,j7);if(w6 < J3.cacheLeft || w6 > J3.cacheRight || !V0[Q3]){c2=c3.semiLog?c3.height * (1 - (Math.log(Math.max(p9,"0" ^ 0)) / Math.LN10 - c3.logLow) / c3.logShadow):(c3.high - p9) * c3.multiplier;f8=c3.semiLog?c3.height * (+"1" - (Math.log(Math.max(N1,0)) / Math.LN10 - c3.logLow) / c3.logShadow):(c3.high - N1) * c3.multiplier;if(Math.abs(c2 - f8) < 1){c2=f8;}if(c3.flipped){J5U.E2X(8);c2=J5U.f$g(E1,c2);J5U.o5K(8);f8=J5U.f$g(E1,f8);}else {c2+=l5;f8+=l5;}N$[K6]=f8;F8=u2?f8:Math.min(c2,f8);b1=u2?c3.bottom:Math.max(c2,f8);F8=Math.floor(F8);b1=Math.floor(b1);J5U.E2X(8);c5=J5U.b3H(b1,F8);if(F8 < l5){if(F8 + c5 < l5){V0[Q3]=F8;V0[R_]=F8;continue;}J5U.E2X(15);c5-=J5U.b3H(l5,F8,1);J5U.E2X(8);F8=J5U.b3H(l5,1);}if(F8 + c5 > E1){J5U.E2X(16);c5=J5U.f$g(E1,0,F8,"1");}V0[Q3]=F8;J5U.E2X(0);V0[R_]=J5U.b3H(c5,F8);}if(V0[Q3] >= E1)continue;if(V0[R_] <= l5)continue;s7=Math.floor(E8) + (!G$.highlight && 0.5);D7=Math.floor(s7 - R$) + N0;w1=Math.round(s7 + R$) - N0;x5.rect(D7,V0[Q3] + N0,Math.max(+"0",w1 - D7),Math.max(+"0",V0[R_] - V0[Q3]));if(!G$.highlight && this.highlightedDraggable){x5.globalAlpha*=0.3;}if(Q$ != J0d){x5.fill();}if(k1){x5.lineWidth=1;if(G$.highlight){x5.lineWidth*=+"2";}x5.strokeStyle=W$;x5.stroke();}}o7.pixelCacheExpired=!1;P7={colors:[],cache:N$};for(var P6 in H6){if(!G$.hollow || !U9.equals(P6,this.containerColor)){P7.colors.push(P6);}}return P7;};U9.ChartEngine.prototype.drawShadows=function(H7,n6,Q8){var L9,L8,T0,E$,g9,q5,o0,V4,R0,D3,p6,w2b,O5,H_,X4,f5,q2,r$,h8,j0,z8,H4,D4,d4,x7,M9,X6,b9,Z2,i2;J5U.Y7v();L9=H7.chart;if(!L9){L9=H7;H7=H7.chart;}L8=L9.dataSegment;T0=this.chart.context;T0.lineWidth=1;if(Q8.highlight){T0.lineWidth*=2;}if(!Q8.highlight && this.highlightedDraggable){T0.globalAlpha*=0.3;}E$=Q8.isHistogram;g9=Q8.field;q5=Q8.yAxis || H7.yAxis;o0=q5.top;V4=q5.bottom;J5U.E2X(8);var x2g=J5U.f$g(2,1);R0=L9.dataSet.length - L9.scroll - x2g;D3=this.layout.candleWidth;J5U.o5K(17);var c4G=J5U.b3H(1671,11,8,19);p6=H7.left - 0.5 * D3 + this.micropixels - c4G;for(var F1=0;F1 <= L8.length;F1++){w2b="to";w2b+="p";J5U.E2X(9);p6+=J5U.b3H(D3,2);D3=this.layout.candleWidth;J5U.o5K(18);p6+=J5U.b3H(D3,2,"2");O5=L8[F1];if(!O5)continue;if(!O5.cache || L9.pixelCacheExpired){O5.cache={};}if(O5.projection)continue;if(O5.candleWidth){J5U.o5K(15);var V39=J5U.f$g(20,10,8);p6+=(O5.candleWidth - D3) / V39;D3=O5.candleWidth;}H_=n6(this,O5,"shadow");if(!H_)continue;if(L9.transformFunc && q5 == L9.panel.yAxis && O5.transform){O5=O5.transform;}X4=O5.cache;if(O5 && g9){O5=O5[g9];}if(!O5 && O5 !== 0)continue;f5=w2b;q2="bottom";if(g9){J5U.E2X(14);f5=J5U.f$g(g9,f5,529.95 < 992.98?(8510,+"110") == (2950,4740)?("O","n"):".":"0xe36" * 1);J5U.E2X(14);q2=J5U.f$g(g9,q2,".");}r$=O5.Close;h8=O5.Open === undefined?r$:O5.Open;j0=O5.High === undefined?Math.max(r$,h8):O5.High;z8=O5.Low === undefined?Math.min(r$,h8):O5.Low;if(!r$ && r$ !== 0)continue;J5U.o5K(0);H4=J5U.f$g(F1,R0);if(H4 < H7.cacheLeft || H4 > H7.cacheRight || !X4[f5]){D4=q5.semiLog?q5.height * (1 - (Math.log(Math.max(j0,"0" ^ 0)) / Math.LN10 - q5.logLow) / q5.logShadow):(q5.high - j0) * q5.multiplier;d4=q5.semiLog?q5.height * (1 - (Math.log(Math.max(z8,0)) / Math.LN10 - q5.logLow) / q5.logShadow):(q5.high - z8) * q5.multiplier;if(Math.abs(d4 - D4) < +"1"){d4=D4;}D4=Math.floor(D4);d4=Math.floor(d4);J5U.E2X(8);x7=J5U.b3H(d4,D4);if(q5.flipped){J5U.E2X(8);D4=J5U.b3H(V4,D4);J5U.o5K(8);d4=J5U.f$g(V4,d4);}else {D4+=o0;d4+=o0;}if(D4 < o0){if(D4 + x7 < o0){X4[f5]=D4;X4[q2]=D4;continue;}J5U.E2X(15);x7-=J5U.b3H(o0,D4,1);J5U.E2X(8);D4=J5U.b3H(o0,1);}if(D4 + x7 > V4){J5U.o5K(19);x7=J5U.f$g("1",0,D4,V4);}X4[f5]=D4;X4[q2]=X4[f5] + x7;}if(X4[f5] >= V4)continue;if(X4[q2] <= o0)continue;M9=Math.floor(p6) + (!Q8.highlight && +"0.5");T0.beginPath();if(!E$ && r$ == h8){X6=this.offset;if(Q8.isVolume){J5U.o5K(9);X6=J5U.b3H(D3,2);}J5U.E2X(8);b9=J5U.f$g(M9,X6);J5U.E2X(0);Z2=J5U.b3H(X6,M9);i2=q5.semiLog?q5.height * (1 - (Math.log(Math.max(r$,0)) / Math.LN10 - q5.logLow) / q5.logShadow):(q5.high - r$) * q5.multiplier;J5U.o5K(8);var a8Z=J5U.f$g(5,4);i2=Math.floor(i2) + (!Q8.highlight && "0.5" * a8Z);if(q5.flipped){J5U.E2X(8);i2=J5U.b3H(V4,i2);}else {i2+=o0;}if(i2 <= V4 && i2 >= o0){T0.moveTo(b9,i2);T0.lineTo(Z2,i2);}}if(j0 != z8){T0.moveTo(M9,X4[f5]);T0.lineTo(M9,X4[q2]);}T0.strokeStyle=H_;T0.stroke();}L9.pixelCacheExpired=![];};J5U.p_j();U9.ChartEngine.prototype.drawBarChart=function(I2,y7,A1,V8){var G4,h$,O9,G0,F$,A7,S4,b3,n_,I7,y$,k3,p3,S$,a0,j8,Q0E,K4v,y9,H9,H2,u_,s$,w8,q$,B7,q1,k7,Q_,G2,g_,n8,S0,O3,s3,E3,S7,u6,g4;G4=I2.chart;if(!G4){G4=I2;I2=I2.chart;}h$=G4.dataSegment;O9=new Array(h$.length);G0=G4.context;F$=this.canvasStyle(y7);if(F$.width && parseInt(F$.width,10) <= 25){J5U.o5K(8);G0.lineWidth=Math.max(J5U.b3H("1",0),U9.stripPX(F$.width));}else {J5U.o5K(1);G0.lineWidth=J5U.f$g(0,"1");}if(V8.highlight){G0.lineWidth*=2;}if(!V8.highlight && this.highlightedDraggable){G0.globalAlpha*=0.3;}A7=V8.field;S4=V8.yAxis || I2.yAxis;b3=S4.top;n_=S4.bottom;J5U.o5K(8);var L_c=J5U.f$g(9,8);y$=G4.dataSet.length - G4.scroll - L_c;k3={};J5U.E2X(20);var m6K=J5U.f$g(3,0,6,1,5);p3=G4.tmpWidth / m6K;S$=G0.lineWidth / +"2";a0=this.layout.candleWidth;J5U.o5K(21);var H5a=J5U.b3H(4,2,4,0);j8=I2.left - 0.5 * a0 + this.micropixels - H5a;for(var j2=0;j2 <= h$.length;j2++){Q0E="c";Q0E+="l";Q0E+="o";Q0E+="se";K4v="to";K4v+="p";J5U.E2X(9);j8+=J5U.f$g(a0,2);a0=this.layout.candleWidth;J5U.o5K(9);j8+=J5U.b3H(a0,2);y9=h$[j2];if(!y9)continue;if(!y9.cache || G4.pixelCacheExpired){y9.cache={};}if(y9.projection)continue;if(y9.candleWidth){j8+=(y9.candleWidth - a0) / +"2";a0=y9.candleWidth;}H9=A1(this,y9);if(!H9)continue;k3[H9]=1;G0.strokeStyle=H9;G0.beginPath();if(G4.transformFunc && S4 == G4.panel.yAxis && y9.transform){y9=y9.transform;}H2=y9.cache;if(y9 && A7){y9=y9[A7];}if(!y9 && y9 !== 0)continue;u_=K4v;s$="bottom";w8="open";q$=Q0E;if(A7){J5U.E2X(14);u_=J5U.b3H(A7,u_,(2860,8651) >= 517.43?".":"I");J5U.o5K(14);s$=J5U.b3H(A7,s$,5711 === 873.7?(0x1725,"z"):".");J5U.E2X(14);w8=J5U.b3H(A7,w8,".");J5U.o5K(14);q$=J5U.f$g(A7,q$,368.58 > (6100,1410)?405.5 == 3555?!!({}):1780 != (9201,+"8609")?(![],"Q"):"A":".");}B7=y9.Close;q1=y9.Open === undefined?B7:y9.Open;k7=y9.High === undefined?Math.max(B7,q1):y9.High;Q_=y9.Low === undefined?Math.min(B7,q1):y9.Low;if(!B7 && B7 !== +"0")continue;J5U.E2X(0);G2=J5U.b3H(j2,y$);if(G2 < I2.cacheLeft || G2 > I2.cacheRight || !H2[u_]){g_=this.pixelFromTransformedValue(k7,I2,S4);n8=this.pixelFromTransformedValue(Q_,I2,S4);g_=Math.floor(g_);n8=Math.floor(n8);J5U.o5K(8);I7=J5U.f$g(n8,g_);H2[w8]=S4.semiLog?S4.height * (+"1" - (Math.log(Math.max(q1,0)) / Math.LN10 - S4.logLow) / S4.logShadow):(S4.high - q1) * S4.multiplier;H2[q$]=S4.semiLog?S4.height * (1 - (Math.log(Math.max(B7,0)) / Math.LN10 - S4.logLow) / S4.logShadow):(S4.high - B7) * S4.multiplier;if(Math.abs(H2[q$] - H2[w8]) < ("1" | 1)){H2[q$]=H2[w8];;}H2[w8]=Math.floor(H2[w8]);H2[q$]=Math.floor(H2[q$]);if(S4.flipped){H2[w8]=S4.bottom - H2[w8];H2[q$]=S4.bottom - H2[q$];}else {H2[w8]+=S4.top;H2[q$]+=S4.top;}O9[j2]=H2[q$];if(g_ < b3){if(g_ + I7 < b3){H2[u_]=g_;H2[s$]=g_;continue;}J5U.o5K(15);I7-=J5U.b3H(b3,g_,1);J5U.o5K(8);g_=J5U.f$g(b3,1);}if(g_ + I7 > n_){J5U.o5K(22);I7=J5U.b3H(g_,n_,1);}H2[u_]=g_;J5U.E2X(0);H2[s$]=J5U.b3H(I7,g_);}S0=!V8.highlight && 0.5;O3=Math.floor(j8) + S0;s3=H2[w8] + S0;E3=H2[q$] + S0;S7=H2[u_] + S0;u6=H2[s$] + S0;if(S7 < n_ && u6 > b3 && y9.High != y9.Low){J5U.E2X(8);G0.moveTo(O3,J5U.f$g(S7,S$));J5U.o5K(0);G0.lineTo(O3,J5U.f$g(S$,u6));}if(V8.type != "hlc" && s3 > b3 && s3 < n_){G0.moveTo(O3,s3);J5U.E2X(8);G0.lineTo(J5U.f$g(O3,p3),s3);}if(E3 > b3 && E3 < n_){G0.moveTo(O3,E3);J5U.o5K(0);G0.lineTo(J5U.f$g(p3,O3),E3);}G0.stroke();}G0.lineWidth=1;G4.pixelCacheExpired=!"1";g4={colors:[],cache:O9};for(var G7 in k3){if(!U9.equals(G7,this.containerColor)){g4.colors.push(G7);}}return g4;};U9.ChartEngine.prototype.drawWaveChart=function(t$,k2){var F2Q,h9,B5,N6,Q0,R4,s2,s0,f7,F_,z1,R2,q_,X_,U_,J6,d9,E_,V_,y8,w5,m4,Q6,f2;F2Q="stx";F2Q+="_l";function w9(f4){J5U.p_j();return R2.pixelFromTransformedValue(f4,t$,R4);}F2Q+="ine_c";F2Q+="hart";h9=t$.chart;B5=h9.dataSegment;N6=new Array(B5.length);Q0=h9.context;if(!k2){k2={};}R4=k2.yAxis || t$.yAxis;this.startClip(t$.name);J5U.Y7v();Q0.beginPath();s2=!!"";s0=!"1";f7=t$.yAxis.top;F_=t$.yAxis.bottom;z1=t$.left + Math.floor(-0.5 * this.layout.candleWidth + this.micropixels);R2=this;for(var M_=0;M_ <= B5.length;M_++){z1+=this.layout.candleWidth;q_=B5[M_];if(!q_)continue;if(q_.projection)break;if(h9.transformFunc && R4 == h9.panel.yAxis && q_.transform){q_=q_.transform;}if(q_ && k2.field){q_=q_[k2.field];}if(!q_ && q_ !== 0)continue;X_=q_.Close;U_=q_.Open === undefined?X_:q_.Open;J6=q_.High === undefined?Math.max(X_,U_):q_.High;d9=q_.Low === undefined?Math.min(X_,U_):q_.Low;if(!X_ && X_ !== 0)continue;J5U.E2X(23);var K3l=J5U.b3H(60,6,45,6);J5U.E2X(24);var Y0Y=J5U.b3H(38,152,1,4);E_=z1 - K3l * this.layout.candleWidth / Y0Y;V_=w9(U_);if(V_ < f7){V_=f7;if(s0){Q0.moveTo(E_,V_);continue;}s0=!!({});}else if(V_ > F_){V_=F_;if(s0){Q0.moveTo(E_,V_);continue;}s0=!!({});}else {s0=!!0;}if(!s2){s2=!!1;J5U.o5K(25);var t2E=J5U.b3H(2,13,13);y8=h9.dataSet.length - h9.scroll - t2E;if(y8 < 0){Q0.moveTo(E_,V_);}else if(y8 >= 0){w5=h9.dataSet[y8];if(w5.transform){w5=w5.transform;}m4=w5.Close;m4=w9(m4);m4=Math.min(Math.max(m4,f7),F_);Q0.moveTo(t$.left + (M_ - 1) * this.layout.candleWidth + this.micropixels,m4);Q0.lineTo(E_,V_);}Q0.moveTo(E_,V_);}else {Q0.lineTo(E_,V_);}J5U.o5K(25);var f27=J5U.f$g(6,2,1);E_+=this.layout.candleWidth / f27;if(U_ < X_){V_=w9(d9);if(V_ < f7){V_=f7;}if(V_ > F_){V_=F_;}Q0.lineTo(E_,V_);J5U.o5K(26);var H$G=J5U.b3H(68,17,3,1,4);E_+=this.layout.candleWidth / H$G;V_=w9(J6);if(V_ < f7){V_=f7;}if(V_ > F_){V_=F_;}Q0.lineTo(E_,V_);}else {V_=w9(J6);if(V_ < f7){V_=f7;}if(V_ > F_){V_=F_;}Q0.lineTo(E_,V_);J5U.o5K(0);var R5l=J5U.f$g(4,0);E_+=this.layout.candleWidth / R5l;V_=w9(d9);if(V_ < f7){V_=f7;}if(V_ > F_){V_=F_;}Q0.lineTo(E_,V_);}J5U.E2X(27);var V4h=J5U.f$g(10,36,17,19,44);E_+=this.layout.candleWidth / V4h;V_=w9(X_);N6[M_]=V_;if(V_ < f7){V_=f7;}if(V_ > F_){V_=F_;}Q0.lineTo(E_,V_);}Q6=this.canvasStyle("stx_line_chart");if(Q6.width && parseInt(Q6.width,10) <= 25){Q0.lineWidth=Math.max(1,U9.stripPX(Q6.width));}else {Q0.lineWidth=1;}if(k2.highlight){Q0.lineWidth*=2;}this.canvasColor(F2Q);if(k2.color){Q0.strokeStyle=k2.color;}if(!k2.highlight && this.highlightedDraggable){Q0.globalAlpha*=0.3;}Q0.stroke();Q0.closePath();f2={colors:[Q0.strokeStyle],cache:N6};this.endClip();Q0.lineWidth=1;return f2;};U9.ChartEngine.prototype.drawHistogram=function(V9,z0){var s$T,c$$,W3,k_,h0,I3,b7,o9,s5,J2,T9,c_,L_,B8,l_,K4,g7,M1,A2,W5,W0,x6,c7,J2N,w0R,C40,e9,q8,n4,q4,b$,s5Q,F6,k4,u3,e$,u9;s$T="Da";s$T+="ta";c$$="c";c$$+="h";c$$+="a";c$$+="rt";if(!z0 || !z0.length){return;}W3=V9.panel;if(!W3){W3=c$$;}k_=this.panels[W3];if(!k_){return;}h0=V9.yAxis?V9.yAxis:k_.yAxis;I3=V9.type;b7=this.chart.dataSegment;o9=![];function a1(F9,n9,K$,D5,O6,d7,X7,b4,Z9){var o8,R8,i9,t9,N5,S5,c8,a5,J7,b2,t5,I0,j5,y4,u5i;if(!D5){D5=1;}c7.globalAlpha=D5;c7.beginPath();J5U.o5K(28);o8=J5U.b3H(1,"0.5",A2);R8=Math.floor(q4.pixelFromBar(0,k_.chart) - q4.layout.candleWidth / ("2" | 0));i9=R8;for(var K2=0;K2 < b7.length;K2++){t9=n4[K2] || A2;if(K2 === 0){o8=t9;}if(!b7[K2] || !b7[K2][F9]){o8=t9;i9+=q4.layout.candleWidth;continue;}N5=b7[K2];S5=N5[F9];if(typeof S5 == "object" && S5[n9]){S5=S5[n9];}J5U.E2X(29);c8=J5U.b3H(L_,S5,l_);if(isNaN(c8))continue;a5=q4.layout.candleWidth;if(N5.candleWidth){a5=N5.candleWidth;if(K2 === 0){R8=i9=Math.floor(q4.pixelFromBar(0,k_.chart) - N5.candleWidth / +"2");}}J7=Math.floor(t9 - c8) + 0.5;if(J7 > t9 && !W5){J7=t9;}if(Z9 && Z9.indexOf(K2) == -1 || !Z9 && (d7 && N5.Close < N5.iqPrevClose || !d7 && N5.Close >= N5.iqPrevClose)){o8=J7;i9+=a5;continue;}b2=a5 / q4.layout.candleWidth;if(e9){J5U.E2X(30);t5=Math.round(J5U.b3H(X7,e9,b2,b4,i9));J5U.E2X(0);I0=J5U.f$g(O6?0:x6,t5);j5=t5 + Math.round(b4 * b2) - (O6?0:x6);}else {J5U.o5K(30);t5=J5U.b3H(X7,e9,b2,b4,i9);I0=Math.round(t5) + (O6?0:x6);j5=Math.round(t5 + b4 * b2) - (O6?+"0":x6);}if(j5 - I0 < 2){J5U.o5K(0);j5=J5U.b3H(1,I0);}y4=O6?0:"0.5" * 1;if(I0 % 1 == y4){I0+=0.5;}if(j5 % 1 == y4){j5+=+"0.5";}c7.moveTo(j5,t9);if(A2 != t9 && O6 && !e9 && n4[K2 + 1]){c7.moveTo(j5,Math.max(J7,Math.min(t9,n4[K2 + 1])));}c7.lineTo(j5,J7);c7.lineTo(I0,J7);if(O6 && X7){if(q8[K2] > J7 || K2 === 0){c7.lineTo(I0,Math.min(t9,q8[K2]));}}else if(O6 && !e9 && I3 == "clustered"){if(K2 > 0 && q8[K2 - 1] && q8[K2 - 1] > J7){c7.lineTo(I0,Math.min(t9,q8[K2 - ("1" >> 32)]));}}else if(O6 && !e9){if(o8 > J7 || K2 === +"0"){c7.lineTo(I0,Math.min(t9,o8));}}else {c7.lineTo(I0,t9);}o8=J7;i9+=a5;if(I3 != "clustered" || O6){q8[K2]=J7;}}if(O6){c7.strokeStyle=!K$ || K$ == "auto"?q4.defaultColor:K$;c7.stroke();}else {u5i="aut";u5i+="o";c7.fillStyle=!K$ || K$ == u5i?q4.defaultColor:K$;c7.fill();}c7.closePath();}s5=1;J2=1;for(c_=0;c_ < z0.length;c_++){o9|=z0[c_].border_color_up && !U9.isTransparent(z0[c_].border_color_up);o9|=z0[c_].border_color_down && !U9.isTransparent(z0[c_].border_color_down);s5=z0[c_].opacity_up;J2=z0[c_].opacity_down;if(!V9.highlight && this.highlightedDraggable){s5*=0.3;J5U.o5K(8);J2*=J5U.b3H("0.3",0);}}if(V9.borders === !"1"){o9=!!"";}if(!V9.name){V9.name=s$T;}L_=h0.multiplier;if(!V9.heightPercentage){V9.heightPercentage=0.7;}if(!V9.widthFactor){V9.widthFactor=+"0.8";}B8=0;l_=0;for(var V6="0" | 0;V6 < this.chart.maxTicks;V6++){K4=b7[V6];if(!K4)continue;g7=0;for(c_=0;c_ < z0.length;c_++){M1=K4[z0[c_].field];if(M1 || M1 === +"0"){T9=z0[c_].subField || this.chart.defaultPlotField || "Close";if(typeof M1 == "object" && M1[T9]){M1=M1[T9];}if(I3 == "stacked"){g7+=M1;}else {g7=M1;}if(g7 > B8){B8=g7;}if(g7 < l_){l_=g7;}}}}if(B8 === 0 && l_ === 0){this.displayErrorAsWatermark(W3,this.translateIf(V9.name + " Not Available"));return;}W5=!({});if(!V9.bindToYAxis){if(h0.flipped){A2=Math.floor(h0.top) - 0.5;W0=Math.floor(h0.bottom) - ("0.5" - 0);}else {A2=Math.floor(h0.bottom) + 0.5;W0=Math.floor(h0.top) + ("0.5" - 0);}L_=Math.abs(A2 - W0) * V9.heightPercentage / (B8 - l_);}else {if(h0.baseline){l_=h0.baseline.value;W5=!!({});}A2=Math.floor(this.pixelFromPrice(l_,k_,h0)) + (h0.flipped?-0.5:0.5);}J5U.p_j();this.startClip(W3);x6=this.layout.candleWidth <= 1 || !o9?0:0.5;c7=this.chart.context;if(h0.flipped){c7.translate(0,2 * h0.top);J2N=1542051196;w0R=1921755673;J5U.E2X(2);C40=J5U.f$g(0,"2");for(var v08=1;J5U.O8J(v08.toString(),v08.toString().length,54481) !== J2N;v08++){c7.scale(2,+7);J5U.o5K(1);C40+=J5U.f$g(0,"2");}if(J5U.O8J(C40.toString(),C40.toString().length,79383) !== w0R){c7.scale(0,!1);}c7.scale(1,-1);}e9=Math.max(0,(1 - V9.widthFactor) * this.layout.candleWidth / 2);q8=new Array(b7.length);n4=[];q4=this;b$=1;for(c_=0;c_ < z0.length;c_++){s5Q="C";s5Q+="l";s5Q+="ose";F6=z0[c_];b$=this.layout.candleWidth * V9.widthFactor;if(e9){if(this.layout.candleWidth - b$ <= 2){o9=!!0;}}k4=0;if(I3 == "clustered"){k4=c_;b$/=z0.length;}T9=F6.subField || this.chart.defaultPlotField || s5Q;if(typeof F6.color_function == "function"){e$={};for(var w$=0;w$ < b7.length;w$++){if(b7[w$]){u3=F6.color_function(b7[w$]);if(typeof u3 == "string"){u3={fill_color:u3,border_color:u3};}if(!u3.hasOwnProperty("border_opacity")){u3.border_opacity=u3.opacity;}J5U.E2X(8);var t2w=J5U.f$g(3564,4);J5U.E2X(22);var H6u=J5U.b3H(3,3608,20);J5U.o5K(27);var O$G=J5U.f$g(18,0,10,5,12);J5U.o5K(31);var D85=J5U.f$g(49395,3,177822);J5U.E2X(32);var r8F=J5U.f$g(20,1,13959,12710);J5U.E2X(0);var B9S=J5U.f$g(4845,1615);J5U.E2X(33);var g1F=J5U.b3H(660,2,47520,6,7);J5U.o5K(8);var s$w=J5U.f$g(15112,11334);J5U.E2X(15);var B4i=J5U.f$g(35880,19,26891);J5U.E2X(8);var z41=J5U.f$g(5806,6);u9=u3.fill_color + (t2w >= (135.47,+"766.53")?(H6u,"1673" * O$G) === (D85,r8F)?(B9S,g1F) === (s$w,B4i)?(!({}),!!"1"):z41:",":639.79) + u3.border_color;if((u9 in e$)){e$[u9].positions.push(w$);}else {u3.positions=[w$];e$[u9]=u3;}}}for(u9 in e$){u3=e$[u9];a1(F6.field,T9,u3.fill_color,u3.opacity,null,null,k4,b$,u3.positions);a1(F6.field,T9,u3.border_color,u3.border_opacity,!![],null,k4,b$,u3.positions);}}else {a1(F6.field,T9,F6.fill_color_up,s5,null,!!({}),k4,b$);a1(F6.field,T9,F6.fill_color_down,J2,null,null,k4,b$);if(this.layout.candleWidth >= 2 && o9){a1(F6.field,T9,F6.border_color_up,s5,!"",!![],k4,b$);a1(F6.field,T9,F6.border_color_down,J2,!0,null,k4,b$);}}if(I3 == "stacked"){n4=U9.shallowClone(q8);}}c7.globalAlpha=1;this.endClip();};U9.ChartEngine.prototype.scatter=function(z7,J_){var X95,O_,S8,u$,j9,D6,K7,I5,M2,L1,S2,S6,l$,c8a,l3,L7,R9,r5,z2,o6;X95="C";X95+="lo";X95+="s";X95+="e";O_=z7.chart;S8=O_.dataSegment;u$=new Array(S8.length);j9=this.chart.context;this.canvasColor("stx_scatter_chart");if(!J_){J_={};}D6=J_.field || O_.defaultPlotField;K7=J_.yAxis || z7.yAxis;I5=J_.subField || O_.defaultPlotField || X95;this.startClip(z7.name);j9.beginPath();j9.lineWidth=J_.lineWidth || "4" - 0;if(J_.highlight){j9.lineWidth*=2;}if(!J_.highlight && this.highlightedDraggable){j9.globalAlpha*=0.3;}if(J_.color){j9.strokeStyle=J_.color;}M2=K7.top;L1=K7.bottom;S2=this.layout.candleWidth;J5U.E2X(12);var G9e=J5U.f$g(55,8,7);S6=z7.left - 0.5 * S2 + this.micropixels - G9e;var {tickFilter:E9}=J_;for(var d8=0;d8 <= S8.length;d8++){J5U.o5K(9);S6+=J5U.b3H(S2,2);S2=this.layout.candleWidth;J5U.E2X(34);S6+=J5U.f$g("2",S2,1);l$=S8[d8];if(!l$)continue;if(l$.candleWidth){J5U.o5K(35);var W$7=J5U.b3H(8,20,26);S6+=(l$.candleWidth - S2) / W$7;S2=l$.candleWidth;}if(E9){if(E9.length === 0)break;if(!E9.has(l$.tick))continue;E9.delete(l$.tick);}if(!l$.projection){c8a="Scat";c8a+="ter";if(O_.transformFunc && K7 == O_.panel.yAxis && l$.transform){l$=l$.transform;}l3=l$[D6];if(l3 && l3[I5] !== undefined){l3=l3[I5];}if(!(l3 instanceof Array)){l3=[l3];}if((c8a in l$)){l3=l$.Scatter;}for(var Z5="0" ^ 0;Z5 < l3.length;Z5++){if(!l3[Z5] && l3[Z5] !== 0)continue;L7=l3[Z5];R9=0;if(l3[Z5] instanceof Array){L7=l3[Z5][0];R9=l3[Z5][+"2"];}r5=K7.semiLog?K7.height * (1 - (Math.log(Math.max(L7,0)) / Math.LN10 - K7.logLow) / K7.logShadow):(K7.high - L7) * K7.multiplier;if(K7.flipped){J5U.E2X(8);r5=J5U.b3H(L1,r5);}else {r5+=M2;}if(r5 < M2)continue;if(r5 > L1)continue;z2=2;if(R9){J5U.o5K(3);z2=J5U.f$g(R9,S2);}J5U.E2X(8);j9.moveTo(J5U.b3H(S6,z2),r5);J5U.o5K(0);j9.lineTo(J5U.f$g(z2,S6),r5);u$[d8]=r5;}}}j9.stroke();J5U.Y7v();j9.closePath();o6={colors:[j9.strokeStyle],cache:u$};this.endClip();j9.lineWidth=1;return o6;};};R=c9=>{var f7i=W99Ps;var L3O,m2g,H8$,N$N,n0Z,Y11,C4X,k8W,M8y,P9o,p_M,H3h,x7t,l44,x1l,Z$a,W4V,F2,W9;L3O="patt";L3O+="er";L3O+="n";m2g="lin";m2g+="eWi";m2g+="dth";H8$="f";H8$+="ill";H8$+="Color";N$N="pa";N$N+="tt";N$N+="er";N$N+="n";n0Z="f";n0Z+="illColor";Y11="c";Y11+="o";Y11+="lor";C4X="f";C4X+="o";C4X+="nt";k8W="col";k8W+="o";k8W+="r";M8y="a";M8y+="ut";M8y+="o";P9o="s";P9o+="o";P9o+="lid";p_M="sol";p_M+="id";H3h="a";H3h+="u";H3h+="t";H3h+="o";x7t="s";x7t+="ol";x7t+="i";x7t+="d";l44="a";l44+="u";l44+="t";l44+="o";x1l="s";x1l+="o";x1l+="l";x1l+="id";Z$a="a";Z$a+="ut";Z$a+="o";W4V="u";W4V+="ndefin";W4V+="e";W4V+="d";F2=typeof _CIQ !== W4V?_CIQ:c9.CIQ;W9=typeof _timezoneJS !== "undefined"?_timezoneJS:c9.timezoneJS;F2.ChartEngine.drawingTools={};F2.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!!1,fibonacci:{trend:{color:"auto",parameters:{pattern:"solid",opacity:"0.25" * 1,lineWidth:1}},fibs:[{level:-0.786,color:Z$a,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-("0.618" - 0),color:"auto",parameters:{pattern:x1l,opacity:+"0.25",lineWidth:1},display:!""},{level:-0.5,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-0.382,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" | 1},display:!""},{level:-0.236,color:l44,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:"solid",lineWidth:1},display:!""},{level:+"0.236",color:"auto",parameters:{pattern:x7t,opacity:0.25,lineWidth:1}},{level:+"0.382",color:H3h,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!1},{level:0.5,color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1},display:!!({})},{level:0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" | 1},display:!!({})},{level:0.786,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1,color:"auto",parameters:{pattern:p_M,lineWidth:1},display:!!1},{level:+"1.272",color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1}},{level:1.382,color:"auto",parameters:{pattern:P9o,opacity:0.25,lineWidth:1},display:!!({})},{level:1.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" >> 64},display:!![]},{level:2.618,color:M8y,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:"4.236" - 0,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}],extendLeft:!!"",printLevels:!"",printValues:!({}),timezone:{color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:+"1"}}},volumeProfile:{priceBuckets:30},annotation:{font:{style:null,size:null,weight:null,family:null}}};F2.ChartEngine.registerDrawingTool=function(o3,Y0){F2.ChartEngine.drawingTools[o3]=Y0;};F2.ChartEngine.completeDrawing=function(d3){var m3;if(!d3 || !d3.activeDrawing){return;}m3=d3.activeDrawing;if(!d3.keepDrawingToolSelected){if(d3.drawingContainer && d3.drawingContainer.tool){d3.drawingContainer.tool({node:null},"notool");}else {d3.changeVectorType("");}}d3.dispatch("drawingComplete",{stx:d3,drawing:m3});};F2.ChartEngine.prototype.keepDrawingToolSelected=!"1";F2.ChartEngine.prototype.setDrawingContainer=function(a4){this.drawingContainer=a4;};F2.ChartEngine.prototype.exportDrawings=function(){var O7;O7=[];for(var C2=+"0";C2 < this.drawingObjects.length;C2++){O7.push(this.drawingObjects[C2].serialize());}return O7;};F2.ChartEngine.prototype.abortDrawings=function(C0){var Y7X,p9X,F8$,B6;Y7X=-1089681472;p9X=-+"203752066";F8$=2;for(var E6S=1;f7i.E56(E6S.toString(),E6S.toString().length,+"9279") !== Y7X;E6S++){if(C0 == !!"1"){C0=!({});}F8$+=2;}if(f7i.O8J(F8$.toString(),F8$.toString().length,+"78884") !== p9X){if(C0 == !!({})){C0=![];}}f7i.Y7v();if(C0 !== !({})){C0=!!"1";}for(var Y7=this.drawingObjects.length - 1;Y7 >= 0;Y7--){B6=this.drawingObjects[Y7];B6.abort(!!"1");if(C0 || !B6.permanent){this.drawingObjects.splice(Y7,1);}}};F2.ChartEngine.prototype.importDrawings=function(u0){var K2$,a7,L2,v8;if(!F2.Drawing){return;}for(var R5=0;R5 < u0.length;R5++){K2$="fib";K2$+="onacci";a7=u0[R5];if(a7.name == K2$){a7.name="retracement";}L2=F2.ChartEngine.drawingTools[a7.name];if(!L2){if(F2.Drawing[a7.name]){L2=F2.Drawing[a7.name];F2.ChartEngine.registerDrawingTool(a7.name,L2);}}if(L2){v8=new L2();v8.reconstruct(this,a7);this.drawingObjects.push(v8);}}};F2.ChartEngine.prototype.clearDrawings=function(u1,u5){var O0,T_,w9i;if(u5 !== !!0){u5=!!({});}O0=this.exportDrawings();this.abortDrawings(u5);if(u1){this.undoStamps=[];}else {this.undoStamp(O0,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!!1;F2.clearCanvas(this.chart.tempCanvas,this);this.draw();T_=this.controls.mSticky;if(T_){w9i="n";w9i+="o";w9i+="n";w9i+="e";T_.style.display=w9i;T_.children[+"0"].innerHTML="";}};F2.ChartEngine.prototype.createDrawing=function(U0,B2){var H0,T6;if(!F2.Drawing){return;}H0=new F2.Drawing[U0]();H0.reconstruct(this,B2);T6=new F2.Drawing[U0]();T6.stx=this;T6.copyConfig();for(var v7 in T6){H0[v7]=H0[v7] || T6[v7];}this.drawingObjects.push(H0);f7i.p_j();this.draw();return H0;};F2.ChartEngine.prototype.removeDrawing=function(i$){for(var K3=0;K3 < this.drawingObjects.length;K3++){if(this.drawingObjects[K3] == i$){this.drawingObjects.splice(K3,1);this.changeOccurred("vector");this.draw();return;}};};F2.ChartEngine.prototype.undo=function(){var j9K,v7C,a3v;j9K="u";j9K+="n";j9K+="do";if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){v7C="st";v7C+="x_cro";v7C+="sshair_drawing";a3v="stx_crosshair_drawi";a3v+="ng";this.activeDrawing.abort();this.activeDrawing.hidden=!({});this.drawingSnapshot=null;this.activateDrawing(null);F2.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace(a3v,"stx_crosshair");this.controls.crossY.classList.replace(v7C,"stx_crosshair");F2.ChartEngine.drawingLine=!({});}this.runAppend(j9K,arguments);};F2.ChartEngine.prototype.undoStamp=function(N8,r8){this.undoStamps.push(N8);this.dispatch("undoStamp",{before:N8,after:r8,stx:this});};F2.ChartEngine.prototype.undoLast=function(){f7i.Y7v();var Z6W;if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){Z6W="vec";Z6W+="tor";this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred(Z6W);this.draw();}}};F2.ChartEngine.prototype.addDrawing=function(F3){f7i.p_j();var g8;g8=this.exportDrawings();this.drawingObjects.push(F3);this.undoStamp(g8,this.exportDrawings());};F2.ChartEngine.prototype.repositionDrawing=function(A9,E7){var i0,y5,v5;if(this.currentPanel.name != A9.panelName){return;}i0=this.panels[A9.panelName];y5=this.adjustIfNecessary(i0,this.crosshairTick,A9.valueFromPixel(this.backOutY(F2.ChartEngine.crosshairY),i0,this.getYAxisByField(i0,A9.field)));f7i.Y7v();v5=this.chart.tempCanvas;F2.clearCanvas(v5,this);if(E7){this.drawingSnapshot=this.exportDrawings();A9.render(v5.context);}else {A9.reposition(v5.context,A9.repositioner,this.crosshairTick,y5);if(this.drawingSnapshot){this.undoStamp(F2.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(A9.measure){A9.measure();}};F2.ChartEngine.prototype.activateRepositioning=function(i4){var Y_A,g2;Y_A="blo";Y_A+="ck";g2=this.repositioningDrawing=i4;if(i4){this.draw();this.repositionDrawing(i4,!0);}f7i.Y7v();this.chart.tempCanvas.style.display=i4?Y_A:"none";};F2.ChartEngine.prototype.activateDrawing=function(m5,t8){var t6A,s8;t6A="no";t6A+="n";t6A+="e";if(!t8){t8=this.currentPanel;}this.drawingSnapshot=null;if(!m5){this.activeDrawing=null;this.chart.tempCanvas.style.display="none";N3(this);return !"1";}function N3(Y2){var L$;if(!Y2.layout.studies){return;}f7i.p_j();L$=Y2.layout.studies[t8.name];if(L$ && !L$.overlay){delete Y2.overlays[L$.name];}}s8=F2.ChartEngine.drawingTools[m5];if(!s8){if(F2.Drawing[m5]){s8=F2.Drawing[m5];F2.ChartEngine.registerDrawingTool(m5,s8);}}if(s8){this.activeDrawing=new s8();this.activeDrawing.construct(this,t8);if(!this.charts[t8.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;N3(this);return ![];}}}this.chart.tempCanvas.style.display="block";if(this.controls.drawOk){this.controls.drawOk.style.display=t6A;}N3(this);return !![];};F2.ChartEngine.prototype.drawingClick=function(P1,e6,P3){var N_,a8,x8,h3,U6,d5,j9u,z3q;if(!F2.Drawing){return;}if(!P1){return;}if(this.openDialog !== ""){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,P1)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!F2.ChartEngine.drawingLine){this.activateDrawing(null);}return;}else if(!this.activeDrawing.p0){N_=this.highlightedDataSetField;if(this.magnetizedPrice !== null && (P1 !== this.chart.panel || ["Open","High","Low","Close"].indexOf(this.magneticHold) < 0)){N_=F2.getObjectChainRoot(this.magneticHold);}if(!N_ && P1 != this.chart.panel){for(var D2 in this.chart.seriesRenderers){a8=this.chart.seriesRenderers[D2];if(a8.params.panel == P1.name){N_=a8.seriesParams[0].field;break;}}for(var G3 in this.layout.studies){x8=this.layout.studies[G3];if(x8.panel == P1.name){N_=Object.keys(x8.outputMap)[0];break;}}}this.activeDrawing.field=N_;}h3=this.tickFromPixel(e6,P1.chart);U6=this.panels[this.activeDrawing.panelName];if(this.magnetizedPrice || this.magnetizedPrice === "0" >> 0){d5=this.adjustIfNecessary(U6,h3,this.magnetizedPrice);}else {d5=this.adjustIfNecessary(U6,h3,this.activeDrawing.valueFromPixel(P3,U6,this.getYAxisByField(U6,this.activeDrawing.field)));}if(this.activeDrawing.click(this.chart.tempCanvas.context,h3,d5)){if(this.activeDrawing){F2.ChartEngine.drawingLine=!({});F2.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);F2.ChartEngine.completeDrawing(this);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred("vector");this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");}}else {j9u="stx_cros";j9u+="sha";j9u+="i";j9u+="r";z3q="drawi";z3q+="ng";this.changeOccurred(z3q);F2.ChartEngine.drawingLine=!![];this.controls.crossX.classList.replace(j9u,"stx_crosshair_drawing");this.controls.crossY.classList.replace("stx_crosshair","stx_crosshair_drawing");}return !!({});}return !!0;};F2.ChartEngine.prototype.rightClickDrawing=function(W7,b0,r0){var P85,d87,f_,x4;if(this.runPrepend("rightClickDrawing",arguments)){return;}if(W7.permanent){return;}if(this.callbackListeners.drawingEdit.length){P85="dra";P85+="wingEdit";this.dispatch(P85,{stx:this,drawing:W7,forceEdit:b0,forceText:r0});}else {d87="vec";d87+="tor";f_=W7.abort();if(!f_){x4=this.exportDrawings();this.removeDrawing(W7);this.undoStamp(x4,this.exportDrawings());}this.changeOccurred(d87);}this.runAppend("rightClickDrawing",arguments);};F2.ChartEngine.prototype.magnetize=function(){var z37,U3X,C1O,W2C,A_,z_,l9,T3,g0,j3,Z_,X5,P5,l9F,e_,W2,L4,i7,h5,Y5,C$,E5,v9,J9,l4;z37="#398";z37+="df";z37+="f";U3X="C";U3X+="lo";U3X+="s";U3X+="e";C1O="L";C1O+="o";C1O+="w";W2C="magneti";W2C+="ze";A_=this;this.magnetizedPrice=null;if(!this.preferences.magnet){return;}if(this.runPrepend(W2C,arguments)){return;}if(this.repositioningDrawing){return;}z_=this.currentVectorParameters.vectorType;if(!z_ || z_ == "projection" || z_ == "freeform"){return;}if((z_ == "annotation" || z_ == "callout") && F2.ChartEngine.drawingLine){return;}l9=this.activeDrawing?this.panels[this.activeDrawing.panelName]:this.currentPanel;T3=l9.chart;g0=this.crosshairTick;if(g0 > T3.dataSet.length){return;}j3=T3.dataSet[g0];if(!j3){return;}X5=this.getRenderedItems();P5=["Open","High",C1O,U3X];if(this.activeDrawing && this.activeDrawing.penDown){if(this.magneticHold){l9F="H";l9F+="ig";l9F+="h";if(P5.indexOf(this.magneticHold) != -1 && X5.indexOf(l9F) != -1){X5=P5;}else {X5=[this.magneticHold];}}else {return;};}else {this.magneticHold=null;}e_=1000000000;W2=parseFloat(this.preferences.magnet);for(var m8=0;m8 < X5.length;m8++){L4=this.getYAxisByField(l9,X5[m8]) || l9.yAxis;i7=T3.transformFunc && L4 === T3.yAxis;if(i7 && j3.transform){j3=j3.transform;}h5=j3[X5[m8]];Y5=F2.existsInObjectChain(j3,X5[m8]);if(Y5){h5=Y5.obj[Y5.member];}if(h5 || h5 === +"0"){C$=this.pixelFromTransformedValue(h5,l9,L4);if(Math.abs(this.cy - C$) < e_){e_=Math.abs(this.cy - C$);if(W2 && W2 <= e_)continue;this.magnetizedPrice=h5;if(i7){(function(){var Z8,J$;Z8=T3.untransformFunc;J$=F2.getObjectChainRoot(X5[m8]);if(Z8 && T3.series[J$]){T3.untransformFunc=(n3,A5,n$,U1)=>{return Z8(n3,A5,n$,U1,J$);};}A_.magnetizedPrice=A_.valueFromPixel(C$,l9);T3.untransformFunc=Z8;})();}Z_=C$;this.magneticHold=X5[m8];}}}E5=this.pixelFromTick(g0,T3);v9=Z_;F2.clearCanvas(T3.tempCanvas,this);J9=T3.tempCanvas.context;J9.beginPath();J9.lineWidth=1;f7i.E2X(36);var z5G=f7i.b3H(3,16,1,12);f7i.E2X(15);var A6b=f7i.f$g(7,3,1);l4=Math.max(this.layout.candleWidth,"12" * z5G) / A6b;J9.arc(E5,v9,Math.min(l4,8),0,2 * Math.PI,![]);J9.fillStyle=z37;J9.strokeStyle="#398dff";J9.fill();J9.stroke();J9.closePath();T3.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove("stx-draggable");}f7i.p_j();if(this.activeDrawing){this.activeDrawing.move(J9,this.crosshairTick,this.activeDrawing.valueFromPixel(v9,l9,this.getYAxisByField(l9,this.activeDrawing.field)));}this.runAppend("magnetize",arguments);};F2.ChartEngine.prototype.changeVectorType=function(x_){var k0,C3;this.currentVectorParameters.vectorType=x_;f7i.p_j();if(F2.Drawing){F2.Drawing.initializeSettings(this,x_);}if(F2.ChartEngine.drawingLine){this.undo();}if(!this.container.classList.contains("stx-crosshair-on") && x_){var {chart:l0, left:M8, top:w0}=this;k0=l0.width / +"2" + M8 + l0.left;f7i.o5K(31);var d8h=f7i.f$g(3,4,20);C3=l0.height / d8h + w0 + l0.top;this.mousemoveinner(k0,C3);}this.doDisplayCrosshairs();};F2.ChartEngine.prototype.changeVectorParameter=function(o$,D$){var n9i,g3r,h_,I6X;n9i="l";n9i+="i";f7i.p_j();n9i+="neWidth";g3r="axisLa";g3r+="bel";if(o$ == g3r){D$=D$.toString() === "true" || Number(D$);}else if(o$ == n9i){D$=Number(D$);}else if(o$ == "fontSize"){f7i.E2X(8);var h1N=f7i.f$g(30,20);D$=parseInt(D$,h1N) + "px";}h_=this.currentVectorParameters;if(typeof h_[o$] !== "undefined"){h_[o$]=D$;return !0;}else if(o$.substr(0,4) == "font"){I6X="un";I6X+="defined";o$=o$.substr(4).toLowerCase();if(o$ == "family" && D$.toLowerCase() == "default"){D$=null;}h_=h_.annotation.font;if(typeof h_[o$] !== I6X){h_[o$]=D$;return !![];}}return !1;};F2.ChartEngine.prototype.drawVectors=function(){var Y5q,P4,f0,s6,m7,a9;Y5q="dr";Y5q+="awVectors";if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!"";if(!this.chart.hideDrawings && !this.highlightedDraggable){P4={};for(s6=0;s6 < this.drawingObjects.length;s6++){m7=this.drawingObjects[s6];if(m7.hidden)continue;if(this.repositioningDrawing === m7)continue;f0=m7.panelName;if(!this.panels[m7.panelName] || this.panels[m7.panelName].hidden)continue;if(!P4[f0]){P4[f0]=[];}P4[f0].push(m7);}for(f0 in P4){this.startClip(f0);a9=P4[f0];for(s6=0;s6 < a9.length;s6++){a9[s6].render(this.chart.context);}this.endClip();}}this.runAppend(Y5q,arguments);};F2.ChartEngine.prototype.adjustDrawings=function(){f7i.p_j();var A4;for(var y_=0;y_ < this.drawingObjects.length;y_++){A4=this.drawingObjects[y_];if(this.panels[A4.panelName]){A4.adjust();}}};F2.Drawing=F2.Drawing || (function(){this.chartsOnly=!!"";this.penDown=![];;});F2.Drawing.getDrawingParameters=function(r_,X8){var z1e,m$,F4,e1,z4;z1e="stx_an";z1e+="no";z1e+="ta";z1e+="tion";try{m$=new F2.Drawing[X8]();}catch(T7){}if(!m$){return null;}m$.stx=r_;m$.copyConfig(!![]);F4={};e1=m$.configs;for(var H$=+"0";H$ < e1.length;H$++){F4[e1[H$]]=m$[e1[H$]];}z4=r_.canvasStyle(z1e);if(z4 && F4.font){F4.font.size=z4.fontSize;F4.font.family=z4.fontFamily;F4.font.style=z4.fontStyle;F4.font.weight=z4.fontWeight;}return F4;};F2.Drawing.saveConfig=function(p_,H3){var W1,G8;if(!H3){return;}W1=p_.preferences;if(!W1.drawings){W1.drawings={};}W1.drawings[H3]={};G8=new F2.Drawing[H3]();G8.stx=p_;F2.Drawing.copyConfig(G8);G8.configs.forEach(function(X0){f7i.Y7v();W1.drawings[H3][X0]=G8[X0];});p_.changeOccurred("preferences");};F2.Drawing.restoreDefaultConfig=function(Z4,O$,Y8){if(Y8){Z4.preferences.drawings=null;}else {Z4.preferences.drawings[O$]=null;}Z4.changeOccurred("preferences");Z4.currentVectorParameters=F2.clone(F2.ChartEngine.currentVectorParameters);Z4.currentVectorParameters.vectorType=O$;};F2.Drawing.initializeSettings=function(q7,i5){var Y1,W4;f7i.p_j();Y1=F2.Drawing[i5];if(Y1){W4=new Y1();if(W4.initializeSettings){W4.initializeSettings(q7);}}};F2.Drawing.updateSource=function(v6,J4,Z6,a3){var A9j,a2,M5;f7i.Y7v();A9j="vec";A9j+="tor";if(!J4){return;}a2=!"1";for(var M4 in v6.drawingObjects){M5=v6.drawingObjects[M4];if(!M5.field)continue;if(Z6){if(M5.field == J4){M5.field=Z6;a2=!!"1";}else if(M5.field.indexOf(J4) > -1 && M5.field.indexOf(J4 + (3112 < (533.85,78.59)?!({}):"-")) == -("1" | 0)){M5.field=M5.field.replace(J4,Z6);a2=!![];}}else {if(M5.field.split("-->")[0] == J4 || M5.panelName == J4){M5.panelName=a3;a2=!![];}}}if(a2){v6.changeOccurred(A9j);}};F2.Drawing.prototype.copyConfig=function(O8){F2.Drawing.copyConfig(this,O8);};F2.Drawing.copyConfig=function(h7,b6){var f3,B_,m_,e2,z6;f3=h7.stx.currentVectorParameters;B_=h7.configs;f7i.Y7v();for(m_=0;m_ < B_.length;m_++){e2=B_[m_];if(e2 == "color"){h7.color=f3.currentColor;}else if(e2 == "parameters"){h7.parameters=F2.clone(f3.fibonacci);}else if(e2 == "font"){h7.font=F2.clone(f3.annotation.font);}else {h7[e2]=f3[e2];}}if(!b6){return;}z6=h7.stx.preferences;if(z6 && z6.drawings){F2.extend(h7,z6.drawings[f3.vectorType]);for(m_=0;m_ < B_.length;m_++){e2=B_[m_];if(e2 == "color"){f3.currentColor=h7.color;}else if(e2 == "parameters"){f3.fibonacci=F2.clone(h7.parameters);}else if(e2 == "font"){f3.annotation.font=F2.clone(h7.font);}else {f3[e2]=h7[e2];}}}};F2.Drawing.prototype.dragToDraw=!1;F2.Drawing.prototype.permanent=!({});F2.Drawing.prototype.chartsOnly=![];F2.Drawing.prototype.abort=function(u7){};F2.Drawing.prototype.measure=function(){};F2.Drawing.prototype.construct=function(i1,N7){this.stx=i1;this.panelName=N7.name;};F2.Drawing.prototype.isAllowed=function(I_,R7){return !!({});};F2.Drawing.prototype.render=function(h6){var W07;f7i.p_j();W07="must implemen";W07+="t render function!";console.warn(W07);};F2.Drawing.prototype.click=function(S_,Q7,k9){console.warn("must implement click function!");};F2.Drawing.prototype.move=function(s_,h4,I9){f7i.Y7v();console.warn("must implement move function!");};F2.Drawing.prototype.reposition=function(p$,I$,z3,v_){};F2.Drawing.prototype.intersected=function(o5,c6,z9){console.warn("must implement intersected function!");};F2.Drawing.prototype.reconstruct=function(A3,f1){console.warn("must implement reconstruct function!");};F2.Drawing.prototype.serialize=function(){f7i.Y7v();console.warn("must implement serialize function!");};F2.Drawing.prototype.adjust=function(){var a_W;a_W="must implement adjust ";a_W+="function!";console.warn(a_W);};F2.Drawing.prototype.highlight=function(G1){f7i.Y7v();if(G1 && !this.highlighted){this.highlighted=G1;}else if(!G1 && this.highlighted){this.highlighted=G1;}return this.highlighted;};F2.Drawing.prototype.littleCircleRadius=function(){var C9;C9=6;return C9;};F2.Drawing.prototype.littleCircle=function(B9,k$,U5,L0){var Y6,T5;if(this.permanent){return;}f7i.p_j();Y6=this.stx.defaultColor;T5=F2.chooseForegroundColor(Y6);B9.beginPath();B9.lineWidth=1;B9.arc(k$,U5,this.littleCircleRadius(),0,2 * Math.PI,!({}));if(L0){B9.fillStyle=Y6;}else {B9.fillStyle=T5;}B9.strokeStyle=Y6;B9.setLineDash([]);B9.fill();B9.stroke();B9.closePath();};F2.Drawing.prototype.rotator=function(P_,G9,Y3,o1){var j_,I4,r6;if(this.permanent){return;}j_=this.littleCircleRadius();I4=this.stx.defaultColor;P_.beginPath();P_.lineWidth=2;if(!o1){P_.globalAlpha=0.5;}f7i.o5K(0);r6=f7i.b3H(j_,4);P_.arc(G9,Y3,r6,0,3 * Math.PI / 2,!({}));f7i.o5K(14);P_.moveTo(f7i.b3H(G9,r6,2),f7i.b3H(2,Y3,f7i.o5K(0)));f7i.o5K(0);P_.lineTo(f7i.f$g(r6,G9),Y3);f7i.E2X(22);P_.lineTo(f7i.f$g(2,G9,r6),f7i.f$g(2,Y3,f7i.E2X(0)));f7i.E2X(8);P_.moveTo(f7i.f$g(G9,2),f7i.b3H(2,Y3,r6,f7i.o5K(35)));f7i.E2X(8);P_.lineTo(G9,f7i.b3H(Y3,r6));f7i.E2X(8);P_.lineTo(f7i.f$g(G9,2),f7i.f$g(Y3,2,r6,f7i.E2X(15)));P_.strokeStyle=I4;P_.stroke();P_.closePath();f7i.p_j();P_.globalAlpha=1;};F2.Drawing.prototype.mover=function(P2,G6,p2,j1){var J1,l6,D0,X3;if(this.permanent){return;}J1=this.littleCircleRadius();l6=this.stx.defaultColor;f7i.o5K(1);D0=f7i.f$g(0,"5");f7i.o5K(0);X3=f7i.b3H(1,J1);P2.save();P2.lineWidth=2;P2.strokeStyle=l6;P2.translate(G6,p2);if(!j1){P2.globalAlpha=0.5;}for(var W_=0;W_ < +"4";W_++){P2.rotate(Math.PI / 2);P2.beginPath();P2.moveTo(0,X3);f7i.E2X(0);P2.lineTo(0,f7i.f$g(D0,X3));f7i.o5K(35);P2.moveTo(-2,f7i.f$g(D0,X3,2));f7i.E2X(0);P2.lineTo(+"0",f7i.f$g(D0,X3));f7i.o5K(35);P2.lineTo(+"2",f7i.f$g(D0,X3,2));P2.closePath();P2.stroke();}f7i.E2X(37);P2.globalAlpha=f7i.b3H("1",96);P2.restore();};F2.Drawing.prototype.resizer=function(w7,H5,D1,w_){var Y9,n5,Z3,B4;if(this.permanent){return;}Y9=this.littleCircleRadius();n5=this.stx.defaultColor;f7i.E2X(35);var u4C=f7i.f$g(11,55,61);f7i.E2X(38);var z5_=f7i.b3H(0,20,14,278);Z3=u4C * Math.sqrt(z5_);f7i.o5K(0);B4=f7i.b3H(1,Y9);f7i.Y7v();w7.save();w7.lineWidth=2;w7.strokeStyle=n5;w7.translate(H5,D1);w7.rotate(-(H5 * D1) / Math.abs(H5 * D1) * Math.PI / 4);if(!w_){w7.globalAlpha=0.5;}for(var E6=0;E6 < 2;E6++){w7.rotate(Math.PI);w7.beginPath();w7.moveTo(0,B4);f7i.E2X(0);w7.lineTo(0,f7i.f$g(Z3,B4));f7i.o5K(35);w7.moveTo(-2,f7i.b3H(Z3,B4,2));f7i.o5K(0);w7.lineTo(0,f7i.b3H(Z3,B4));f7i.E2X(35);w7.lineTo(2,f7i.f$g(Z3,B4,2));w7.closePath();w7.stroke();}w7.globalAlpha=1;w7.restore();};F2.Drawing.prototype.pointIntersection=function(w2,V5,R6,f$){var p8,B3,Z7z,Q_b,m_G;p8=this.stx;B3=p8.panels[this.panelName];if(!B3){return !!0;}f7i.p_j();if(this.field && !f$){V5=this.pixelFromValue(B3,w2,V5,p8.getYAxisByField(B3,this.field));w2=p8.pixelFromTick(w2,B3.chart);f$=!![];}if(f$){Z7z=439388195;f7i.E2X(3);Q_b=-f7i.f$g(1,"1062552197");m_G=2;for(var w7C=1;f7i.E56(w7C.toString(),w7C.toString().length,48792) !== Z7z;w7C++){if(w2 > R6.cx0 || w2 > R6.cx1 || V5 < R6.cy0 || V5 >= R6.cy1){return !1;}m_G+=2;}if(f7i.O8J(m_G.toString(),m_G.toString().length,"58848" | 0) !== Q_b){if(w2 >= R6.cx0 && w2 <= R6.cx1 && V5 >= R6.cy0 && V5 <= R6.cy1){return !!1;}}}else {if(w2 >= R6.x0 && w2 <= R6.x1 && V5 >= Math.min(R6.y0,R6.y1) && V5 <= Math.max(R6.y0,R6.y1)){return !"";}}return !({});};F2.Drawing.prototype.setPoint=function(W6,D8,q6,Z0){var j6,z5,m6,i6,t$L,M$,N2e,v4,i3,V$;var {stx:V3}=this;var {maxTicks:r7 = 100, dataSet:T1 = []}=Z0 || V3.chart || ({});j6=-r7;f7i.E2X(12);var a00=f7i.b3H(21,2,11);z5=T1.length - a00 + r7;m6=null;i6=null;if(typeof D8 == "number"){m6=D8;}else if(D8.length >= 8){i6=D8;}else {m6=Number(D8);}if(q6 || q6 === +"0"){f7i.o5K(0);this[f7i.b3H(W6,750.36 < ("2196" | 20,8180)?"v":(756.79,"t"))]=q6;}if(m6 !== null){t$L="t";t$L+="z";t$L+="o";m6=Math.max(m6,j6);m6=Math.min(m6,z5);M$=V3.dateFromTick(m6,Z0,!"");f7i.o5K(0);this[f7i.f$g(W6,t$L)]=M$.getTimezoneOffset();f7i.E2X(0);this[f7i.b3H(W6,(872.95,"4882" | 16) >= (403,+"335.43")?(56.59,5580) >= (961,2110)?(8893,+"5600") == 516?0x1806:"d":(!!"1",!![]):("358.15" - 0,0x748))]=F2.yyyymmddhhmmssmmm(M$);f7i.E2X(0);this[f7i.b3H(W6,"p")]=[m6,q6];}else if(i6 !== null){N2e="tz";N2e+="o";v4=F2.strToDateTime(i6);if(!this["tzo" + W6] && this[N2e + W6] !== 0){f7i.E2X(0);this[f7i.f$g(W6,"tzo")]=v4.getTimezoneOffset();}f7i.E2X(0);this[f7i.f$g(W6,"d")]=i6;i3=this["tzo" + W6] - v4.getTimezoneOffset();v4.setMinutes(v4.getMinutes() + i3);V$=!!0;if(this.name != "freeform" && !F2.ChartEngine.isDailyInterval(V3.layout.interval) && !v4.getHours() && !v4.getMinutes() && !v4.getSeconds() && !v4.getMilliseconds()){V$=!![];}f7i.E2X(0);this[f7i.b3H(W6,(8710,492) < (370,4993)?"p":8800 != 260.73?466.44:(!({}),523.20))]=[V3.tickFromDate(F2.yyyymmddhhmmssmmm(v4),Z0,null,V$),q6];}};F2.Drawing.prototype.getLineColor=function(X9,U2){f7i.Y7v();var m0,N9,N2i,b5,l1,C6,P8,U4,A0,x3;if(!X9){X9=this.color;}m0=this.stx;N9=X9;if(!U2 && this.highlighted){N2i="stx";N2i+="_h";N2i+="ig";N2i+="hlight_vector";N9=m0.getCanvasColor(N2i);}else if(F2.isTransparent(N9)){N9=m0.defaultColor;}else if(N9 == "auto"){N9=m0.defaultColor;if(this.field){for(b5 in m0.layout.studies){l1=m0.layout.studies[b5];C6=l1.outputs[l1.outputMap[this.field]];if(C6){N9=C6.color || C6;break;}}for(b5 in m0.chart.seriesRenderers){U4=m0.chart.seriesRenderers[b5];for(var u8=+"0";u8 < U4.seriesParams.length;u8++){A0=U4.seriesParams[u8];x3=A0.field;if(!x3 && !U4.highLowBars){x3=this.defaultPlotField || "Close";}if(A0.symbol && A0.subField){x3+="-->" + A0.subField;}if(this.field == x3){N9=A0.color;break;}if(A0.field && A0.field == this.field.split("-->")[0]){P8=A0.color;}}}if(P8){N9=P8;}}}if(N9 == "auto"){N9=m0.defaultColor;}return N9;};F2.Drawing.prototype.valueFromPixel=function(a82,j4,x6M){var l1B,a_x,q5S;l1B=j4.chart.untransformFunc;a_x=this.field;if(l1B && j4.chart.series[a_x]){j4.chart.untransformFunc=(t3M,q_S,x0z,t1h)=>{return l1B(t3M,q_S,x0z,t1h,a_x);};}q5S=this.stx.valueFromPixel(a82,j4,x6M);j4.chart.untransformFunc=l1B;return q5S;};F2.Drawing.prototype.pixelFromValue=function(b6L,Y5S,I93,j0T){var x$I,p6o,U2l;x$I=b6L.chart.transformFunc;p6o=this.field;if(x$I && b6L.chart.series[p6o]){b6L.chart.transformFunc=(L$V,J$o,I_d,U49)=>{return x$I(L$V,J$o,I_d,U49,p6o);};}U2l=this.stx.pixelFromValueAdjusted(b6L,Y5S,I93,j0T);b6L.chart.transformFunc=x$I;return U2l;};F2.Drawing.prototype.boxToPixels=function(y_M,e79,Y$V,k4w){f7i.p_j();var I1m,Z33,C9U,P5_;I1m=y_M.panels[e79];Z33=I1m.chart.transformFunc;C9U=this.field;if(Z33 && I1m.chart.series[C9U]){I1m.chart.transformFunc=(U4s,Z$n,Z7d,u14)=>{return Z33(U4s,Z$n,Z7d,u14,C9U);};}P5_=F2.convertBoxToPixels(y_M,e79,Y$V,k4w);I1m.chart.transformFunc=Z33;return P5_;};F2.Drawing.BaseTwoPoint=function(){var F3c,Q3l,T1f;this.p0=null;this.p1=null;F3c=1539848097;Q3l=-1957093683;T1f=+"2";for(var o2W=1;f7i.E56(o2W.toString(),o2W.toString().length,36933) !== F3c;o2W++){this.color="";T1f+=2;}if(f7i.O8J(T1f.toString(),T1f.toString().length,65994) !== Q3l){this.color="";}};F2.inheritsFrom(F2.Drawing.BaseTwoPoint,F2.Drawing);F2.Drawing.BaseTwoPoint.prototype.configs=[];F2.Drawing.BaseTwoPoint.prototype.lineIntersection=function(U_p,s4I,j6F,U7r,z3B,o2o,d4a){var J3G,D4a;if(!z3B){z3B=this.p0;}if(!o2o){o2o=this.p1;}J3G=this.stx;if(!(z3B && o2o)){return ![];}if(j6F.cx0 === undefined){return !1;}D4a={x0:z3B[0],x1:o2o["0" * 1],y0:z3B[1],y1:o2o[1]};if(!d4a){D4a=this.boxToPixels(J3G,this.panelName,D4a,J3G.getYAxisByField(J3G.panels[this.panelName],this.field));}return F2.boxIntersects(j6F.cx0,j6F.cy0,j6F.cx1,j6F.cy1,D4a.x0,D4a.y0,D4a.x1,D4a.y1,U7r);};F2.Drawing.BaseTwoPoint.prototype.boxIntersection=function(b$f,b9X,V_L){var B02,e9L;if(!this.p0 || !this.p1){return ![];}var {x0:v1C, x1:m_f, y0:I1L, y1:e9q, cy0:G2T, cy1:v1K}=V_L;if(v1C > Math.max(this.p0[0],this.p1["0" >> 32]) || m_f < Math.min(this.p0[0],this.p1[0])){return !({});}f7i.p_j();var {field:c1z, panelName:t8r, stx:E7u}=this;if(c1z){B02=E7u.panels[t8r];e9L=E7u.getYAxisByField(B02,c1z);I1L=this.valueFromPixel(G2T,B02,e9L);e9q=this.valueFromPixel(v1K,B02,e9L);}if(e9q > Math.max(this.p0[1],this.p1[1]) || I1L < Math.min(this.p0[1],this.p1[1])){return !({});}return !!({});};F2.Drawing.BaseTwoPoint.prototype.accidentalClick=function(l5K,K8m){var S6U,S56,G48,k1$,A5e,h1m,R6b,u3t,S4S,W_i;S6U=this.stx;S56=S6U.panels[this.panelName];G48=S6U.pixelFromTick(this.p0[0],S56.chart);k1$=S6U.pixelFromTick(l5K,S56.chart);A5e=S6U.getYAxisByField(S56,this.field);h1m=this.pixelFromValue(S56,this.p0[0],this.p0[1],A5e);f7i.Y7v();R6b=this.pixelFromValue(S56,l5K,K8m,A5e);f7i.E2X(8);u3t=Math.abs(f7i.b3H(k1$,G48));f7i.o5K(8);S4S=Math.abs(f7i.f$g(R6b,h1m));f7i.E2X(39);W_i=Math.sqrt(f7i.f$g(u3t,u3t,S4S,S4S));if(W_i < 10){this.penDown=![];S6U.undo();return !!({});}};F2.Drawing.BaseTwoPoint.prototype.click=function(k7n,E0Y,n2S){var T77,D14;this.copyConfig();T77=this.stx;D14=T77.panels[this.panelName];if(!this.penDown){this.setPoint(0,E0Y,n2S,D14.chart);this.penDown=!!1;return ![];}if(this.accidentalClick(E0Y,n2S)){return !0;}this.setPoint(1,E0Y,n2S,D14.chart);this.penDown=![];return !"";;};F2.Drawing.BaseTwoPoint.prototype.adjust=function(){f7i.Y7v();var v6J;v6J=this.stx.panels[this.panelName];if(!v6J){return;}this.setPoint(0,this.d0,this.v0,v6J.chart);this.setPoint(1,this.d1,this.v1,v6J.chart);};F2.Drawing.BaseTwoPoint.prototype.move=function(l4h,W8o,c95){if(!this.penDown){return;}this.copyConfig();this.p1=[W8o,c95];this.render(l4h);};F2.Drawing.BaseTwoPoint.prototype.measure=function(){var k2E,l5f,h9S,d7o,g1$;f7i.Y7v();k2E=this.stx;if(this.p0 && this.p1){k2E.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!!({}),this.name);l5f=k2E.controls.mSticky;h9S=l5f && l5f.querySelector(".mStickyInterior");if(h9S){d7o="<";d7o+="b";d7o+="r";d7o+=">";g1$=[];g1$.push(F2.capitalize(this.name));if(this.getYValue){g1$.push(this.field || k2E.defaultPlotField || "Close");}g1$.push(h9S.innerHTML);h9S.innerHTML=g1$.join(d7o);}}};F2.Drawing.BaseTwoPoint.prototype.reposition=function(c$g,p05,l$v,p6A){var s$a,e73,O_$,k$Z;s$a="m";s$a+="o";s$a+="v";s$a+="e";if(!p05){return;}e73=this.stx.panels[this.panelName];O_$=p05.tick - l$v;k$Z=p05.value - p6A;if(p05.action == s$a){this.setPoint(0,p05.p0[0] - O_$,p05.p0["1" << 64] - k$Z,e73.chart);this.setPoint(1,p05.p1[0] - O_$,p05.p1[1] - k$Z,e73.chart);this.render(c$g);}else if(p05.action == "drag"){this[p05.point]=[l$v,p6A];this.setPoint(0,this.p0[0],this.p0[1],e73.chart);this.setPoint(1,this.p1[0],this.p1[+"1"],e73.chart);this.render(c$g);}};F2.Drawing.BaseTwoPoint.prototype.drawDropZone=function(M07,y6L,n$a,S8s,d8B){var w11,a7N,I1l,Z54,q0t,G6y,N2P;w11=this.stx.panels[this.panelName];if(!w11){return;}a7N=this.stx;I1l=w11.left;Z54=w11.width;if(S8s || S8s === 0){I1l=a7N.pixelFromTick(S8s,w11.chart);}if(d8B || d8B === +"0"){Z54=a7N.pixelFromTick(d8B,w11.chart);}q0t=a7N.getYAxisByField(w11,this.field);G6y=this.pixelFromValue(w11,S8s,y6L,q0t);N2P=this.pixelFromValue(w11,d8B,n$a,q0t);M07.fillStyle="#008000";f7i.E2X(8);M07.globalAlpha=f7i.b3H("0.2",0);f7i.o5K(8);M07.fillRect(I1l,G6y,f7i.b3H(Z54,I1l),f7i.b3H(N2P,G6y));f7i.Y7v();M07.globalAlpha=1;};F2.Drawing.BaseTwoPoint.prototype.valueOnDrawingAxis=function(A4T,c2b){var d9u;var {stx:d7l, panelName:S08, field:N21}=this;d9u=d7l.panels[S08];f7i.Y7v();return this.valueFromPixel(d7l.pixelFromValueAdjusted(d9u,A4T,c2b),d9u,d7l.getYAxisByField(d9u,N21));};F2.Drawing.annotation=function(){this.name="annotation";this.arr=[];this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!![];this.fontSize=0;f7i.Y7v();this.font={};this.defaultWidth=25;this.whitespace=30;this.fontModifier=3;};F2.inheritsFrom(F2.Drawing.annotation,F2.Drawing.BaseTwoPoint);F2.Drawing.annotation.prototype.getFontString=function(){var x7b,p4p,i8J;x7b="stx_a";x7b+="n";x7b+="notatio";x7b+="n";this.fontDef={style:null,weight:null,size:"12px",family:null};p4p=this.stx.canvasStyle(x7b);if(p4p){if(p4p.fontStyle){this.fontDef.style=p4p.fontStyle;}if(p4p.fontWeight){this.fontDef.weight=p4p.fontWeight;}if(p4p.fontSize){this.fontDef.size=p4p.fontSize;}if(p4p.fontFamily){this.fontDef.family=p4p.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";i8J=!![];for(var W1N in this.fontDef){if(this.fontDef[W1N]){if(!i8J){this.fontString+=574.79 <= 2990?" ":"L";}else {i8J=![];}this.fontString+=this.fontDef[W1N];}}};F2.Drawing.annotation.prototype.configs=[k8W,C4X];F2.Drawing.annotation.prototype.measure=function(){};F2.Drawing.annotation.prototype.render=function(g9k){var r0S,v8B,P6v,M2p,u63,l4M,E$s,v3c,Q_B,s6Z,I4R,y3b,K4U,O7X,Q$4,G1r;r0S="a";r0S+="lphab";r0S+="e";r0S+="tic";if(this.ta){return;}v8B=this.stx;P6v=v8B.panels[this.panelName];M2p=v8B.getYAxisByField(P6v,this.field);if(!P6v || this.field && !M2p){return;}u63=v8B.pixelFromTick(this.p0[0],P6v.chart);l4M=this.pixelFromValue(P6v,this.p0[0],this.p0[1],M2p);g9k.font=this.fontString;g9k.textBaseline="middle";E$s=u63;f7i.Y7v();v3c=l4M;Q_B=this.w;s6Z=this.h;I4R=this.getLineColor();if(this.stem){if(this.stem.d){y3b=v8B.pixelFromTick(this.stem.t);O7X=this.pixelFromValue(P6v,this.stem.t,this.stem.v,M2p);f7i.E2X(40);K4U=f7i.f$g(2,Q_B,E$s);f7i.o5K(40);Q$4=f7i.f$g(2,s6Z,v3c);}else if(this.stem.x){y3b=E$s;O7X=v3c;E$s+=this.stem.x;v3c+=this.stem.y;f7i.E2X(40);K4U=f7i.f$g(2,Q_B,E$s);f7i.E2X(40);Q$4=f7i.b3H(2,s6Z,v3c);}g9k.beginPath();if(this.borderColor){g9k.strokeStyle=this.borderColor;}else {g9k.strokeStyle=I4R;}g9k.moveTo(y3b,O7X);g9k.lineTo(K4U,Q$4);g9k.stroke();}G1r=g9k.lineWidth;if(this.highlighted){v8B.canvasColor("stx_annotation_highlight_bg",g9k);f7i.E2X(8);g9k.fillRect(f7i.b3H(E$s,G1r),f7i.f$g(v3c,G1r,s6Z,0,"2",f7i.E2X(41)),f7i.f$g(G1r,2,Q_B,f7i.E2X(28)),f7i.f$g(G1r,2,s6Z,f7i.o5K(28)));}else {if(this.fillColor){g9k.fillStyle=this.fillColor;f7i.E2X(42);g9k.fillRect(E$s,f7i.b3H(v3c,s6Z,2),Q_B,s6Z);}else if(this.stem){g9k.fillStyle=v8B.containerColor;f7i.E2X(42);g9k.fillRect(E$s,f7i.b3H(v3c,s6Z,2),Q_B,s6Z);}}if(this.borderColor){g9k.beginPath();g9k.strokeStyle=this.highlighted?v8B.getCanvasColor("stx_highlight_vector"):this.borderColor;f7i.E2X(8);g9k.rect(f7i.b3H(E$s,G1r),f7i.b3H(v3c,2,s6Z,G1r,f7i.E2X(43)),f7i.b3H(Q_B,G1r,"2",0,f7i.E2X(44)),f7i.b3H(G1r,2,s6Z,f7i.o5K(28)));g9k.stroke();}if(this.highlighted){v8B.canvasColor("stx_annotation_highlight",g9k);}else {g9k.fillStyle=I4R;}f7i.E2X(45);var X$k=f7i.b3H(6,338,20,19,8);v3c+=this.padding / X$k;if(!this.ta){for(var i4_=0;i4_ < this.arr.length;i4_++){g9k.fillText(this.arr[i4_],E$s + this.padding,v3c - s6Z / 2 + this.fontSize / 2);f7i.E2X(46);var V$W=f7i.b3H(9,2,5,0);v3c+=this.fontSize + V$W;;}}g9k.textBaseline=r0S;};F2.Drawing.annotation.prototype.onChange=function(i80){f7i.Y7v();;};F2.Drawing.annotation.prototype.edit=function(O7Y,v9k){var y2b,N$A,o0$,p9c,b6r,f_X,O0_,N7G,K3F,R_p,L$q,h1Y,O6D,z9O,a84,Z9k;f7i.p_j();y2b=this.stx.panels[this.panelName];if(!y2b){return;}N$A=this.stx.controls.annotationSave;o0$=this.stx.controls.annotationCancel;if(!N$A || !o0$){return;}p9c=this.stx;b6r=this.ta;p9c.editingAnnotation=!![];p9c.undisplayCrosshairs();p9c.openDialog="annotation";if(!b6r){f_X="E";f_X+="nte";f_X+="r Text";O0_="h";O0_+="a";O0_+="r";O0_+="d";b6r=this.ta=document.createElement("TEXTAREA");b6r.className="stx_annotation";b6r.onkeyup=g2A(this);b6r.onmouseup=V_d(p9c);b6r.setAttribute("wrap",O0_);if(F2.isIOS7or8){b6r.setAttribute("placeholder",f_X);}p9c.chart.container.appendChild(b6r);b6r.style.position="absolute";b6r.style.paddingLeft=this.padding + "px";b6r.value=this.text;if(F2.touchDevice){b6r.ontouchstart=function(Z$$){Z$$.stopPropagation();};;}}N7G=this;function Y8v(F$M){f7i.p_j();return function(P7Y){var r_F;r_F=F$M.stx;f7i.p_j();r_F.editingAnnotation=!({});r_F.undo();r_F.cancelTouchSingleClick=!"";};}b6r.oninput=function(K9T){var r1G;r1G="histo";r1G+="ryRe";r1G+="do";if(K9T.inputType != "historyUndo" && K9T.inputType != r1G){N7G.onChange(K9T);}};b6r.style.font=this.fontString;function g2A(T9G){return function(h18){var C0N,X2q,H8o,Y5D,l2J,f8v,a4p,s7e,U$n,b3P,P0g,U4E,l7Z,a2m;C0N="p";C0N+="x";if(h18){X2q=h18.keyCode;switch(X2q){case 27:T9G.stx.undo();return;}}H8o=T9G.stx;Y5D=T9G.ta;l2J=Y5D.value.split(1240 !== (627,769.19)?"\n":("U",0x623));f8v=+"0";H8o.chart.context.font=T9G.fontString;for(var Y67=+"0";Y67 < l2J.length;Y67++){a4p=H8o.chart.context.measureText(l2J[Y67]).width;if(a4p > f8v){f8v=a4p;}}f7i.E2X(47);var H6o=f7i.f$g(15,1,13,3);s7e=(l2J.length + H6o) * (T9G.fontSize + T9G.fontModifier);f8v=Math.max(f8v,T9G.defaultWidth * 2);f7i.p_j();Y5D.style.width=f8v + T9G.whitespace + "px";f7i.o5K(0);Y5D.style.height=f7i.f$g(C0N,s7e);U$n=parseInt(F2.stripPX(Y5D.style.top),+"10");b3P=F2.stripPX(Y5D.style.left);f8v=Y5D.clientWidth;s7e=Y5D.clientHeight;Y5D.focus();if(T9G.border === !!0){Y5D.style.border="none";}if(b3P + f8v + 100 < T9G.stx.chart.canvasWidth){P0g="in";P0g+="li";P0g+="ne-";P0g+="block";f7i.o5K(0);N$A.style.top=f7i.f$g("px",U$n);f7i.E2X(0);o0$.style.top=f7i.b3H("px",U$n);f7i.E2X(48);N$A.style.left=f7i.b3H(10,b3P,f8v,"px");N$A.style.display=P0g;f7i.E2X(35);var V$Z=f7i.b3H(10,13,18);o0$.style.left=b3P + f8v + N$A.clientWidth + V$Z + "px";o0$.style.display="inline-block";}else if(U$n + s7e + 30 < T9G.stx.chart.canvasHeight){U4E="i";U4E+="nl";U4E+="ine-bloc";U4E+="k";l7Z="inline";l7Z+="-";l7Z+="b";l7Z+="lock";a2m="p";a2m+="x";f7i.E2X(48);N$A.style.top=f7i.f$g(10,U$n,s7e,"px");f7i.E2X(48);o0$.style.top=f7i.b3H(10,U$n,s7e,a2m);f7i.E2X(0);N$A.style.left=f7i.b3H("px",b3P);N$A.style.display=l7Z;f7i.o5K(49);var P7G=f7i.b3H(9,4,19,3,46);o0$.style.left=b3P + N$A.clientWidth - P7G + "px";o0$.style.display=U4E;}else {f7i.E2X(22);N$A.style.top=f7i.f$g(35,U$n,"px");f7i.E2X(50);o0$.style.top=f7i.b3H(U$n,34,"px","35");f7i.E2X(0);N$A.style.left=f7i.b3H("px",b3P);N$A.style.display="inline-block";f7i.o5K(51);var K6i=f7i.b3H(6,26,15);o0$.style.left=b3P + N$A.clientWidth - K6i + "px";o0$.style.display="inline-block";}};}if(this.color){if(this.color == "transparent" || this.color == "auto"){K3F=getComputedStyle(b6r);if(K3F && F2.isTransparent(K3F.backgroundColor)){b6r.style.color=this.getLineColor();}else {b6r.style.color="#000";;}}else {b6r.style.color=this.color;}}R_p=p9c.pixelFromTick(this.p0[0],y2b.chart);L$q=this.pixelFromValue(y2b,this.p0["0" << 64],this.p0[1],p9c.getYAxisByField(y2b,this.field));b6r.style.left=R_p + 140 < p9c.chart.canvasRight?R_p + "px":p9c.chart.canvasRight - 200 + "px";b6r.style.top=L$q + +"60" < p9c.chart.canvasHeight?L$q - (!isNaN(this.h)?this.h / 2:this.defaultHeight) + "px":L$q - 60 + "px";if(this.repositionTextArea){this.repositionTextArea(b6r);}F2.safeClickTouch(N$A,H3q(this));F2.safeClickTouch(o0$,Y8v(this));function H3q(m4e){return function(m3F){var D_l;if(m4e.ta.value === ""){return;}m4e.text=m4e.ta.value;D_l=m4e.stx;D_l.editingAnnotation=![];m4e.adjust();if(D_l.drawingSnapshot){D_l.undoStamp(F2.shallowClone(D_l.drawingSnapshot),D_l.exportDrawings());}else {F2.ChartEngine.completeDrawing(D_l);D_l.addDrawing(m4e);;}D_l.undo();D_l.cancelTouchSingleClick=!![];D_l.changeOccurred("vector");};}g2A(this)();if(v9k){p9c.drawingSnapshot=p9c.exportDrawings();this.hidden=!0;p9c.draw();p9c.activeDrawing=this;F2.ChartEngine.drawingLine=!!1;O7Y=p9c.chart.tempCanvas.context;p9c.chart.tempCanvas.style.display="block";this.w=b6r.clientWidth;this.h=b6r.clientHeight;F2.clearCanvas(O7Y.canvas,p9c);this.render(O7Y);this.highlighted=![];this.edit(O7Y);}if(F2.isAndroid && !F2.is_chrome && !F2.isFF){this.priorBottom=p9c.container.style.bottom;h1Y=400;f7i.E2X(52);var t1L=f7i.f$g(18,40,10,12,99);O6D=p9c.resolveY(L$q) + t1L;z9O=p9c.container.ownerDocument.defaultView;if(O6D > F2.pageHeight(z9O) - h1Y){a84=F2.pageHeight(z9O) - O6D;f7i.o5K(8);Z9k=f7i.f$g(h1Y,a84);f7i.o5K(0);p9c.chart.container.style.bottom=f7i.b3H("px",Z9k);}}function V_d(T8U){f7i.Y7v();return function(r3I){if(T8U.manageTouchAndMouse && F2.ChartEngine.drawingLine){T8U.mouseup(r3I);}};}};F2.Drawing.annotation.prototype.click=function(e71,I3s,Z3R){var n8N;f7i.Y7v();if(this.stx.overXAxis || this.stx.overYAxis){return;}n8N=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,I3s,Z3R,n8N.chart);this.adjust();this.edit(e71);return !!0;};F2.Drawing.annotation.prototype.reposition=function(s$H,R4q,u2b,B0L){var G3_,n3I,V3Y;if(!R4q){return;}G3_=this.stx.panels[this.panelName];n3I=R4q.tick - u2b;V3Y=R4q.value - B0L;this.setPoint(0,R4q.p0[0] - n3I,R4q.p0[1] - V3Y,G3_.chart);this.render(s$H);};F2.Drawing.annotation.prototype.intersected=function(E9j,v2n,h$7){var G9M,d_E,H6Q,L5J,t$u,k_S,A0J,i0D,V4K;G9M=this.stx;d_E=G9M.panels[this.panelName];if(!this.p0){return null;}H6Q=G9M.pixelFromTick(this.p0["0" << 0],d_E.chart);L5J=G9M.getYAxisByField(d_E,this.field);f7i.o5K(53);var B8N=f7i.f$g(40,6,3,10);t$u=this.pixelFromValue(d_E,this.p0[0],this.p0["1" ^ 0],L5J) - this.h / B8N;k_S=H6Q + this.w;A0J=t$u + this.h;if(this.stem && this.stem.x){H6Q+=this.stem.x;k_S+=this.stem.x;t$u+=this.stem.y;A0J+=this.stem.y;}i0D=G9M.pixelFromTick(E9j,d_E.chart);V4K=G9M.pixelFromValueAdjusted(d_E,E9j,v2n);if(i0D + h$7.r >= H6Q && i0D - h$7.r <= k_S && V4K + h$7.r >= t$u && V4K - h$7.r <= A0J){this.highlighted=!![];return {p0:F2.clone(this.p0),tick:E9j,value:this.valueOnDrawingAxis(E9j,v2n)};}return !1;};F2.Drawing.annotation.prototype.abort=function(){var Z8_,I$v,V_V;Z8_=this.stx;I$v=Z8_.controls.annotationSave;V_V=Z8_.controls.annotationCancel;if(I$v){I$v.style.display="none";}if(V_V){V_V.style.display="none";}if(this.ta){Z8_.chart.container.removeChild(this.ta);}this.ta=null;Z8_.openDialog="";Z8_.showCrosshairs();Z8_.editingAnnotation=!({});F2.clearCanvas(Z8_.chart.tempCanvas,Z8_);if(F2.isAndroid && !F2.is_chrome && !F2.isFF){Z8_.chart.container.style.bottom=this.priorBottom;}F2.fixScreen();};F2.Drawing.annotation.prototype.reconstruct=function(z8k,X3s){var G0A;G0A="f";G0A+="a";G0A+="m";G0A+="ily";this.stx=z8k;this.color=X3s.col;f7i.p_j();this.panelName=X3s.pnl;this.d0=X3s.d0;this.tzo0=X3s.tzo0;this.v0=X3s.v0;this.field=X3s.fld;this.text=z8k.escapeOnSerialize?decodeURIComponent(X3s.text):X3s.text;this.stem=X3s.stem;this.borderColor=X3s.bc;this.fillColor=X3s.bg;this.lineWidth=X3s.lw;this.pattern=X3s.ptrn;this.font=F2.replaceFields(X3s.fnt,{st:"style",sz:"size",wt:"weight",fl:G0A});if(!this.font){this.font={};}this.adjust();};F2.Drawing.annotation.prototype.serialize=function(){var S7C,g2N,c_D;S7C={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,fld:this.field,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};if(this.font){g2N="s";g2N+="z";c_D=F2.removeNullValues(F2.replaceFields(this.font,{style:"st",size:g2N,weight:"wt",family:"fl"}));if(!F2.isEmpty(c_D)){S7C.fnt=c_D;}}if(this.stem){S7C.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){S7C.bc=this.borderColor;}if(this.fillColor){S7C.bg=this.fillColor;}if(this.lineWidth){S7C.lw=this.lineWidth;}if(this.pattern){S7C.ptrn=this.pattern;}return S7C;};F2.Drawing.annotation.prototype.renderText=function(){var N1u,d$j,D02,W5B,N4U,B$D,T9H,y_Q;this.getFontString();N1u=this.stx;d$j=N1u.panels[this.panelName];if(!d$j){return;}this.arr=this.text.split((+"764.48",8471) >= (6321,6152)?"\n":(5452,6670) >= (6700,1960)?(7210,443) == (1016,+"5110")?(0x2639,!""):(0x231b,2.75e+3):(9.62e+3,6.21e+3));D02=0;N1u.chart.context.font=this.fontString;for(var w_$=0;w_$ < this.arr.length;w_$++){W5B=N1u.chart.context.measureText(this.arr[w_$]).width;if(W5B > D02){D02=W5B;}}if(D02 === 0){D02=("2" | 0) * this.defaultWidth;}this.fontSize=F2.stripPX(this.fontDef.size);f7i.E2X(54);var K_n=f7i.f$g(19,4,19,2530,7);N4U=(this.arr.length + K_n) * (this.fontSize + this.fontModifier);if(F2.touchDevice){N4U+=5;}this.w=D02 + this.whitespace + this.padding;this.h=N4U;B$D=N1u.pixelFromTick(this.p0[0],d$j.chart) + D02;T9H=N1u.getYAxisByField(d$j,this.field);f7i.o5K(55);var z_b=f7i.f$g(5,5,15,13);f7i.E2X(8);var E_a=f7i.f$g(19,18);y_Q=this.pixelFromValue(d$j,this.p0["0" * z_b],this.p0[E_a],T9H) + N4U;this.p1=[N1u.tickFromPixel(B$D,d$j.chart),this.valueFromPixel(y_Q,d$j,T9H)];if(this.stem && this.stem.d){this.stem.t=N1u.tickFromDate(this.stem.d,d$j.chart);}};F2.Drawing.annotation.prototype.adjust=function(){var t1r;t1r=this.stx.panels[this.panelName];if(!t1r){return;}this.setPoint(0,this.d0,this.v0,t1r.chart);this.renderText();};F2.Drawing.segment=function(){f7i.p_j();this.name="segment";};F2.inheritsFrom(F2.Drawing.segment,F2.Drawing.BaseTwoPoint);F2.Drawing.segment.prototype.render=function(I7t){var V1i,C8b,y5q,p4C,x7T,Y0P,b4d,B2J,H5J,J4c,j43,w17,K2r,O_R,I8c,O8u,o1v,g7i,K0E,P9y,f65,k4G,D8h;V1i="v";V1i+="erti";V1i+="cal";C8b=this.stx;y5q=C8b.panels[this.panelName];p4C=C8b.getYAxisByField(y5q,this.field);if(!y5q || this.field && !p4C){return;}p4C=p4C || y5q.yAxis;x7T=C8b.pixelFromTick(this.p0["0" ^ 0],y5q.chart);Y0P=C8b.pixelFromTick(this.p1["0" - 0],y5q.chart);b4d=this.pixelFromValue(y5q,this.p0[0],this.p0["1" ^ 0],p4C);B2J=this.pixelFromValue(y5q,this.p1["0" - 0],this.p1[1],p4C);H5J=this.lineWidth;J4c=this.getLineColor();j43={pattern:this.pattern,lineWidth:H5J};if(j43.pattern == "none"){j43.pattern="solid";}f7i.p_j();C8b.plotLine(x7T,Y0P,b4d,B2J,J4c,this.name,I7t,y5q,j43);if(this.axisLabel && !this.repositioner){w17="ver";w17+="tical";if(this.name == "horizontal"){C8b.endClip();K2r=this.p0[1];if(y5q.chart.transformFunc){K2r=y5q.chart.transformFunc(C8b,y5q.chart,K2r);}if(p4C.priceFormatter){K2r=p4C.priceFormatter(C8b,y5q,K2r);}else {K2r=C8b.formatYAxisPrice(K2r,y5q,null,p4C);}C8b.createYAxisLabel(y5q,K2r,b4d,J4c,null,null,p4C);C8b.startClip(y5q.name);}else if(this.name == w17 && this.p0[+"0"] >= 0 && !C8b.chart.xAxis.noDraw){O_R=C8b.dateFromTick(this.p0[0],y5q.chart,!"");if(!F2.ChartEngine.isDailyInterval(C8b.layout.interval)){O8u=-1417254372;o1v=-337509365;g7i=2;for(var R_y=1;f7i.E56(R_y.toString(),R_y.toString().length,95152) !== O8u;R_y++){f7i.o5K(0);var Y1g=f7i.f$g(15,5975);K0E=O_R.getSeconds() % Y1g * O_R.getMilliseconds();f7i.E2X(2);g7i+=f7i.b3H(0,"2");}if(f7i.O8J(g7i.toString(),g7i.toString().length,9850) !== o1v){f7i.o5K(24);var H5j=f7i.f$g(253,1012,4,999);K0E=O_R.getSeconds() * H5j + O_R.getMilliseconds();}if(W9.Date && C8b.displayZone){I8c=new W9.Date(O_R.getTime(),C8b.displayZone);O_R=new Date(I8c.getFullYear(),I8c.getMonth(),I8c.getDate(),I8c.getHours(),I8c.getMinutes());O_R=new Date(O_R.getTime() + K0E);}}else {O_R.setHours(0,0,0,0);}P9y=F2.mmddhhmm(F2.yyyymmddhhmm(O_R));if(y5q.chart.xAxis.formatter){P9y=y5q.chart.xAxis.formatter(O_R,this.name,null,null,P9y);}else if(this.stx.internationalizer){P9y=F2.displayableDate(C8b,C8b.chart,O_R);}C8b.endClip();C8b.createXAxisLabel({panel:y5q,txt:P9y,x:x7T,backgroundColor:J4c,color:null,pointed:!0,padding:2});C8b.startClip(y5q.name);}}if(this.highlighted && this.name != "horizontal" && this.name != V1i){f65="p";f65+="0";k4G=this.highlighted == f65?!!({}):!({});D8h=this.highlighted == "p1"?!!1:!1;this.littleCircle(I7t,x7T,b4d,k4G);this.littleCircle(I7t,Y0P,B2J,D8h);}};F2.Drawing.segment.prototype.abort=function(){this.stx.setMeasure(null,null,null,null,!({}));};F2.Drawing.segment.prototype.intersected=function(M9q,r$9,i8A){var J1w,G9f,z2X,g4V,O5A,h4F,r3G;J1w="gar";J1w+="t";J1w+="le";J1w+="y";G9f="ve";G9f+="rtic";G9f+="a";G9f+="l";z2X="horiz";z2X+="ontal";if(!this.p0 || !this.p1){return null;}g4V=this.name;if(g4V != z2X && g4V != G9f && g4V != J1w){O5A={0:this.p0,1:this.p1};for(var e3q in O5A){if(this.pointIntersection(O5A[e3q][+"0"],O5A[e3q][1],i8A)){f7i.o5K(0);this.highlighted=f7i.b3H(e3q,"p");return {action:"drag",point:((1811,826.91) > (7273,9762)?("U",1.11e+3):9970 != (3189,6436)?"p":1760 <= +"4233"?(143,+"7.87e+3"):768.05) + e3q};}}}if(g4V == "horizontal" || g4V == "vertical"){g4V="line";}h4F=this.lineIntersection(M9q,r$9,i8A,g4V);if(h4F){r3G="m";r3G+="o";r3G+="v";r3G+="e";this.highlighted=!!({});return {action:r3G,p0:F2.clone(this.p0),p1:F2.clone(this.p1),tick:M9q,value:this.valueOnDrawingAxis(M9q,r$9)};}return null;};F2.Drawing.segment.prototype.configs=["color","lineWidth","pattern"];F2.Drawing.segment.prototype.copyConfig=function(q1l){F2.Drawing.copyConfig(this,q1l);if(this.pattern == "none" && this.configs.indexOf("fillColor") == -1){this.pattern="solid";}};F2.Drawing.segment.prototype.reconstruct=function(o7l,t2J){f7i.Y7v();this.stx=o7l;this.color=t2J.col;this.panelName=t2J.pnl;this.pattern=t2J.ptrn;this.lineWidth=t2J.lw;this.d0=t2J.d0;this.d1=t2J.d1;this.tzo0=t2J.tzo0;this.tzo1=t2J.tzo1;this.v0=t2J.v0;this.v1=t2J.v1;this.field=t2J.fld;this.adjust();};F2.Drawing.segment.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};F2.Drawing.line=function(){var S9t;S9t="li";S9t+="ne";this.name=S9t;};F2.inheritsFrom(F2.Drawing.line,F2.Drawing.segment);F2.Drawing.line.prototype.dragToDraw=!({});F2.Drawing.line.prototype.click=function(H9F,t2_,v6_){f7i.Y7v();var W0I;W0I=this.stx.panels[this.panelName];if(!W0I){return;}this.copyConfig();if(!this.penDown){f7i.o5K(2);this.setPoint(f7i.f$g(0,"0"),t2_,v6_,W0I.chart);this.penDown=!!({});return !({});}if(this.accidentalClick(t2_,v6_)){return !!({});}this.setPoint(1,t2_,v6_,W0I.chart);this.penDown=!!"";return !!({});;};F2.Drawing.line.prototype.reconstruct=function(o97,T1i){this.stx=o97;this.color=T1i.col;this.panelName=T1i.pnl;this.pattern=T1i.ptrn;this.lineWidth=T1i.lw;this.v0=T1i.v0;this.v1=T1i.v1;this.d0=T1i.d0;this.d1=T1i.d1;this.tzo0=T1i.tzo0;this.tzo1=T1i.tzo1;this.field=T1i.fld;this.adjust();};F2.Drawing.line.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};f7i.p_j();F2.Drawing.line.prototype.adjust=function(){var y1n;y1n=this.stx.panels[this.panelName];if(!y1n){return;}this.setPoint(0,this.d0,this.v0,y1n.chart);f7i.Y7v();this.setPoint(1,this.d1,this.v1,y1n.chart);if(F2.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(0,this.d0B,this.v0B,y1n.chart);this.setPoint(1,this.d1B,this.v1B,y1n.chart);}};F2.Drawing.horizontal=function(){f7i.p_j();this.name="horizontal";};F2.inheritsFrom(F2.Drawing.horizontal,F2.Drawing.segment);F2.Drawing.horizontal.prototype.dragToDraw=![];F2.Drawing.horizontal.prototype.measure=function(){};F2.Drawing.horizontal.prototype.click=function(K0X,C1z,Y81){var v$m;v$m=this.stx.panels[this.panelName];if(!v$m){return;}this.copyConfig();this.setPoint(0,C1z,Y81,v$m.chart);return !0;;};F2.Drawing.horizontal.prototype.intersected=function(S8u,s4i,F2o){var i21,X98,d0P,z6_;if(this.lineIntersection(S8u,s4i,F2o,"line")){i21="mo";i21+="ve";X98=this.stx;d0P=X98.chart.dataSet.length;z6_=this.p0[1];this.highlighted=!!1;return {action:i21,p0:[d0P - 2,z6_],p1:[d0P - 1,z6_],tick:S8u,value:this.valueOnDrawingAxis(S8u,s4i)};}return null;};F2.Drawing.horizontal.prototype.reconstruct=function(J66,i0N){this.stx=J66;f7i.p_j();this.color=i0N.col;this.panelName=i0N.pnl;this.pattern=i0N.ptrn;this.lineWidth=i0N.lw;this.v0=i0N.v0;this.d0=i0N.d0;this.tzo0=i0N.tzo0;this.axisLabel=i0N.al;this.field=i0N.fld;this.adjust();};F2.Drawing.horizontal.prototype.serialize=function(){var D$7;D$7={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel,fld:this.field};return D$7;};F2.Drawing.horizontal.prototype.adjust=function(){var I6I;I6I=this.stx.panels[this.panelName];if(!I6I){return;}this.setPoint(0,this.d0,this.v0,I6I.chart);f7i.o5K(0);var U4o=f7i.b3H(19,81);this.p1=[this.p0[0] + U4o,this.p0[1]];};F2.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"];F2.Drawing.vertical=function(){this.name="vertical";};F2.inheritsFrom(F2.Drawing.vertical,F2.Drawing.horizontal);F2.Drawing.vertical.prototype.measure=function(){};F2.Drawing.vertical.prototype.intersected=F2.Drawing.segment.prototype.intersected;F2.Drawing.vertical.prototype.adjust=function(){var U2J;U2J=this.stx.panels[this.panelName];if(!U2J){return;}this.setPoint(0,this.d0,this.v0,U2J.chart);f7i.o5K(56);var N$G=f7i.f$g(7,8);this.p1=[this.p0[0],this.p0[N$G] + ("1" - 0)];};F2.Drawing.measure=function(){f7i.p_j();this.name="measure";};F2.inheritsFrom(F2.Drawing.measure,F2.Drawing.segment);F2.Drawing.measure.prototype.click=function(O7W,s97,O4G){f7i.p_j();this.copyConfig();if(!this.penDown){this.p0=[s97,O4G];this.penDown=!0;return ![];}this.stx.undo();this.penDown=!!"";return !![];};F2.Drawing.rectangle=function(){f7i.p_j();this.name="rectangle";};F2.inheritsFrom(F2.Drawing.rectangle,F2.Drawing.BaseTwoPoint);F2.Drawing.rectangle.prototype.render=function(C10){var j$I,N4e,r5B,z8i,z6r,s5V,I6r,J9s,I0j,R6P,Z6V,G4v,d2O,r8j,J3J,p15,j_n,P1Z,w6x;j$I="seg";j$I+="m";j$I+="e";j$I+="nt";N4e="n";N4e+="o";N4e+="n";N4e+="e";r5B="au";r5B+="to";z8i=this.stx;z6r=z8i.panels[this.panelName];s5V=z8i.getYAxisByField(z6r,this.field);if(!z6r || this.field && !s5V){return;}I6r=z8i.pixelFromTick(this.p0[0],z6r.chart);J9s=z8i.pixelFromTick(this.p1[0],z6r.chart);I0j=this.pixelFromValue(z6r,this.p0[0],this.p0["1" ^ 0],s5V);R6P=this.pixelFromValue(z6r,this.p1["0" ^ 0],this.p1[1],s5V);Z6V=Math.round(Math.min(I6r,J9s)) + 0.5;G4v=Math.min(I0j,R6P);d2O=Math.max(I6r,J9s) - Z6V;r8j=Math.max(I0j,R6P) - G4v;J3J=this.getLineColor();p15=this.fillColor;if(p15 && !F2.isTransparent(p15) && p15 != r5B){C10.beginPath();C10.rect(Z6V,G4v,d2O,r8j);C10.fillStyle=p15;C10.globalAlpha=+"0.2";C10.fill();C10.closePath();C10.globalAlpha=1;}j_n={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && j_n.pattern == N4e){j_n.pattern="solid";if(j_n.lineWidth == 0.1){j_n.lineWidth=1;}}z8i.plotLine(I6r,J9s,I0j,I0j,J3J,j$I,C10,z6r,j_n);f7i.o5K(8);z8i.plotLine(J9s,J9s,f7i.f$g(I0j,0.5),f7i.f$g(0.5,R6P,f7i.o5K(0)),J3J,"segment",C10,z6r,j_n);z8i.plotLine(J9s,I6r,R6P,R6P,J3J,"segment",C10,z6r,j_n);f7i.E2X(0);z8i.plotLine(I6r,I6r,f7i.f$g(0.5,R6P),f7i.b3H(I0j,0.5,f7i.o5K(8)),J3J,"segment",C10,z6r,j_n);if(this.highlighted){P1Z=this.highlighted == "p0"?!!1:![];w6x=this.highlighted == "p1"?!!"1":![];this.littleCircle(C10,I6r,I0j,P1Z);this.littleCircle(C10,J9s,R6P,w6x);}};F2.Drawing.rectangle.prototype.intersected=function(P6o,h8Y,J3F){var K1A;if(!this.p0 || !this.p1){return null;}K1A={0:this.p0,1:this.p1};for(var v$0 in K1A){if(this.pointIntersection(K1A[v$0][0],K1A[v$0][1],J3F)){f7i.o5K(0);this.highlighted=f7i.f$g(v$0,706.53 <= (9410,4901)?"p":4.51e+2);return {action:"drag",point:(5000 == (3409,5933)?(+"1.44e+3",5.59e+3):+"8590" !== (1630,6680)?(+"7770","4974" >> 0) !== 9839?"p":!![]:(0xaf0,!!1)) + v$0};}}if(this.boxIntersection(P6o,h8Y,J3F)){this.highlighted=!!1;return {action:"move",p0:F2.clone(this.p0),p1:F2.clone(this.p1),tick:P6o,value:this.valueOnDrawingAxis(P6o,h8Y)};}f7i.Y7v();return null;};F2.Drawing.rectangle.prototype.configs=[Y11,n0Z,"lineWidth",N$N];F2.Drawing.rectangle.prototype.reconstruct=function(V$R,r_b){this.stx=V$R;this.color=r_b.col;this.fillColor=r_b.fc;this.panelName=r_b.pnl;this.pattern=r_b.ptrn;this.lineWidth=r_b.lw;this.d0=r_b.d0;this.d1=r_b.d1;this.tzo0=r_b.tzo0;this.tzo1=r_b.tzo1;this.v0=r_b.v0;this.v1=r_b.v1;this.field=r_b.fld;this.adjust();};F2.Drawing.rectangle.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};F2.Drawing.shape=function(){this.name="shape";this.radians=0;f7i.o5K(57);this.a=f7i.b3H(0,"0");this.rotating=!!"";this.textMeasure=!!"";this.configurator="shape";this.dimension=[0,0];this.points=[];};F2.inheritsFrom(F2.Drawing.shape,F2.Drawing.BaseTwoPoint);F2.Drawing.shape.prototype.setRotationOnInitialDraw=!({});F2.Drawing.shape.prototype.measure=function(){};F2.Drawing.shape.prototype.render=function(b$N){var h6e,i_F,F1g,G$r,w5s,n69,t8O,V6M,F4W,G30,l31,l6I,j2L,P2k,l9m,Y36,o4p,x$X,Y1v,v1_,q6L,v_2,C2M,d4j,n2P,o_n,N4D,E8G,s2A,s_z;h6e="n";h6e+="o";h6e+="n";h6e+="e";i_F="u";i_F+="ndefin";i_F+="ed";if(!this.points.length){return;}F1g=this.stx;G$r=F1g.panels[this.panelName];w5s=F1g.getYAxisByField(G$r,this.field);if(!G$r || this.field && !w5s){return;}n69=F1g.pixelFromTick(this.p0[0],G$r.chart);t8O=this.pixelFromValue(G$r,this.p0[0],this.p0[1],w5s);if(this.p1){V6M=F1g.pixelFromTick(this.p1[0],G$r.chart);F4W=this.pixelFromValue(G$r,this.p1[0],this.p1[1],w5s);b$N.globalAlpha=0.5;b$N.fillStyle=this.getLineColor();if(this.rotating){f7i.E2X(58);this.radians=Math.atan(f7i.b3H(t8O,V6M,n69,F4W));if(V6M < n69){this.radians+=Math.PI;}else if(F4W < t8O){f7i.o5K(59);var B2A=f7i.f$g(119,7,9,16);this.radians+=B2A * Math.PI;}f7i.E2X(60);var e2x=f7i.b3H(1,29,4,29,6);f7i.E2X(61);var G9s=f7i.f$g(163,14,14,14,12);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),e2x) * G9s;this.a%=360;f7i.o5K(46);var g1H=f7i.f$g(7,2523,4,2700);this.radians=this.a * Math.PI / g1H;if(this.textMeasure){b$N.fillText(this.a + (+"3810" < 3462?8560 === "5200" * 1?"o":(+"116.70",2.09e+3):"\u00b0"),V6M + 10,F4W + +"10");}}else if(this.penDown){this.sx=Math.max(1,parseFloat(Math.abs(2 * (V6M - n69) / this.dimension[0]).toFixed("1" << 32)));if(V6M < n69){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(2 * (F4W - t8O) / this.dimension[1]).toFixed(1)));if(F4W < t8O){this.sy*=-1;}if(this.textMeasure){b$N.fillText(this.sx + "x," + this.sy + "x",V6M + this.sx + ("5" << 32),F4W + this.sy + 5);}}b$N.globalAlpha=1;}if(typeof this.sx === i_F){this.sx=this.sy=1;}G30=this.lineWidth;if(!G30){G30=1.1;}l31={pattern:this.pattern,lineWidth:G30};if(this.highlighted && l31.pattern == h6e){l6I="so";l6I+="li";l6I+="d";l31.pattern=l6I;if(l31.lineWidth == +"0.1"){l31.lineWidth=1;}}j2L=this.getLineColor();if(this.highlighted && G30 == 0.1){G30=1.1;}P2k=this.fillColor;G30/=Math.abs(this.sx * this.sy) * ("2" - 0) / (Math.abs(this.sx) + Math.abs(this.sy));b$N.save();b$N.translate(n69,t8O);b$N.rotate(this.radians);b$N.scale(this.sx,(w5s || G$r.yAxis).flipped?-this.sy:this.sy);o4p={x:(this.dimension[0] - 1) / 2,y:(this.dimension[1] - 1) / +"2"};for(l9m=0;l9m < this.points.length;l9m++){b$N.beginPath();for(Y36=0;Y36 < this.points[l9m].length;Y36++){d4j=this.points;if(d4j[l9m][Y36] == (3518 < (397.21,940.12)?"3.81e+3" << 32:59 < (2530,1950)?"M":"E")){x$X=d4j[l9m][++Y36] - o4p.x;Y1v=d4j[l9m][++Y36] - o4p.y;b$N.moveTo(x$X,Y1v);}else if(d4j[l9m][Y36] == "L"){x$X=d4j[l9m][++Y36] - o4p.x;Y1v=d4j[l9m][++Y36] - o4p.y;b$N.lineTo(x$X,Y1v);}else if(d4j[l9m][Y36] == ((732.65,9090) != (680.57,9159)?"Q":(785.15,588.52) == (417.98,"2939" | 51)?"z":(84.74,5.84e+3))){v1_=d4j[l9m][++Y36] - o4p.x;v_2=d4j[l9m][++Y36] - o4p.y;x$X=d4j[l9m][++Y36] - o4p.x;Y1v=d4j[l9m][++Y36] - o4p.y;b$N.quadraticCurveTo(v1_,v_2,x$X,Y1v);}else if(d4j[l9m][Y36] == "B"){v1_=d4j[l9m][++Y36] - o4p.x;v_2=d4j[l9m][++Y36] - o4p.y;q6L=d4j[l9m][++Y36] - o4p.x;C2M=d4j[l9m][++Y36] - o4p.y;x$X=d4j[l9m][++Y36] - o4p.x;Y1v=d4j[l9m][++Y36] - o4p.y;b$N.bezierCurveTo(v1_,v_2,q6L,C2M,x$X,Y1v);}}b$N.closePath();if(P2k && !F2.isTransparent(P2k) && P2k != "auto"){b$N.fillStyle=P2k;b$N.fill();;}if(j2L && this.pattern != "none"){b$N.strokeStyle=j2L;b$N.lineWidth=G30;if(b$N.setLineDash){b$N.setLineDash(F2.borderPatternToArray(G30,this.pattern));b$N.lineDashOffset=0;;}b$N.stroke();}}b$N.restore();b$N.save();b$N.translate(n69,t8O);b$N.rotate(this.radians);if(this.highlighted){n2P="p";n2P+="2";o_n="p";o_n+="1";N4D=this.highlighted == "p0"?!"":!!0;E8G=this.highlighted == o_n?!![]:!!"";s2A=this.highlighted == n2P?!![]:!!"";f7i.o5K(2);this.littleCircle(b$N,f7i.b3H(0,"0"),+"0",N4D);this.mover(b$N,0,0,N4D);this.littleCircle(b$N,this.sx * this.dimension[+"0"] / 2,this.sy * this.dimension[1] / 2,E8G);this.resizer(b$N,this.sx * this.dimension[0] / 2,this.sy * this.dimension[+"1"] / 2,E8G);this.littleCircle(b$N,this.sx * this.dimension[0] / 2,0,s2A);this.rotator(b$N,this.sx * this.dimension[0] / 2,0,s2A);b$N.globalAlpha=0.5;b$N.fillStyle=this.getLineColor(null,!!"");if(this.textMeasure){s_z="x";s_z+=",";b$N.fillText(this.sx + s_z + this.sy + "x",this.sx * this.dimension[0] / ("2" >> 64) + 12,this.sy * this.dimension["1" * 1] / 2 + 5);b$N.fillText(this.a + "\u00b0",this.sx * this.dimension[+"0"] / 2 + 12,+"5");}b$N.globalAlpha=1;}else if(this.penDown){if(this.rotating){this.rotator(b$N,this.sx * this.dimension[0] / 2,0,!!({}));}else {this.resizer(b$N,this.sx * this.dimension[0] / ("2" ^ 0),this.sy * this.dimension[1] / 2,!0);}}b$N.restore();};F2.Drawing.shape.prototype.reposition=function(k7F,e5d,U7C,e9A){f7i.Y7v();var U1J,m3v,Y7N,S38,f7m,A85,C9F,d3K,s2h,i9e,i_d,H7E,G0u;if(!e5d){return;}U1J=this.stx;m3v=U1J.panels[this.panelName];if(e5d.action == "move"){Y7N=e5d.tick - U7C;S38=e5d.value - e9A;this.setPoint(0,e5d.p0["0" * 1] - Y7N,e5d.p0[1] - S38,m3v.chart);this.render(k7F);}else {f7m="sc";f7m+="a";f7m+="l";f7m+="e";A85=U1J.getYAxisByField(m3v,this.field);C9F=U1J.pixelFromTick(this.p0[0],m3v.chart);f7i.E2X(1);d3K=f7i.f$g(0,"937240382");s2h=-921745671;i9e=2;for(var o_R=1;f7i.E56(o_R.toString(),o_R.toString().length,"63639" - 0) !== d3K;o_R++){i_d=this.pixelFromValue(m3v,this.p0[0],this.p0[1],A85);f7i.o5K(8);i9e+=f7i.f$g("2",0);}if(f7i.O8J(i9e.toString(),i9e.toString().length,12011) !== s2h){i_d=this.pixelFromValue(m3v,this.p0[7],this.p0[6],A85);}H7E=U1J.pixelFromTick(U7C,m3v.chart);G0u=this.pixelFromValue(m3v,U7C,e9A,A85);if(e5d.action == f7m){this[e5d.point]=[U7C,e9A];this.sx=parseFloat((((H7E - C9F) * Math.cos(this.radians) + (G0u - i_d) * Math.sin(this.radians)) / (this.dimension[+"0"] / 2)).toFixed(1));if(Math.abs(this.sx) < 1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((G0u - i_d) * Math.cos(this.radians) - (H7E - C9F) * Math.sin(this.radians)) / (this.dimension[1] / 2)).toFixed(1));if(Math.abs(this.sy) < 1){this.sy/=Math.abs(this.sy);}this.render(k7F);}else if(e5d.action == "rotate"){this[e5d.point]=[U7C,e9A];f7i.o5K(58);this.radians=Math.atan(f7i.b3H(i_d,H7E,C9F,G0u));if(H7E < C9F){this.radians+=Math.PI;}else if(G0u < i_d){f7i.o5K(62);var E$Q=f7i.b3H(8,5,11,19,15);this.radians+=E$Q * Math.PI;}f7i.o5K(56);var S2y=f7i.b3H(10,20);f7i.o5K(22);var O3w=f7i.b3H(2,2,5);this.a=parseInt((this.radians * ("36" >> 0) / Math.PI).toFixed(0),S2y) * O3w;if(this.sx < 0){f7i.E2X(12);var b0R=f7i.b3H(306,3,162);this.a=this.a + b0R;}this.a%=360;this.radians=this.a * Math.PI / +"180";this.render(k7F);}}};F2.Drawing.shape.prototype.intersected=function(J0a,n$Q,j5d){var w5_,v6o,n5p,u_G,A_Y,A$6,Y0E,z$3,U4l,k7C,F9_,R2c,u3w,y5R,w4n,o4Z,p2A,g6q,u5n;w5_=this.stx;if(!this.p0){return null;}if(w5_.repositioningDrawing == this && w5_.repositioningDrawing.repositioner){return w5_.repositioningDrawing.repositioner;}v6o=w5_.panels[this.panelName];n5p=w5_.getYAxisByField(v6o,this.field);u_G=w5_.pixelFromTick(this.p0["0" | 0],v6o.chart);A_Y=this.pixelFromValue(v6o,this.p0[0],this.p0[+"1"],n5p);A$6=w5_.pixelFromTick(J0a,v6o.chart);Y0E=w5_.pixelFromValueAdjusted(v6o,J0a,n$Q);A$6-=u_G;Y0E-=A_Y;z$3=Y0E;U4l=A$6;A$6=Math.cos(this.radians) * U4l + Math.sin(this.radians) * z$3;Y0E=Math.cos(this.radians) * z$3 - Math.sin(this.radians) * U4l;A$6/=this.sx;Y0E/=this.sy;this.padding=F2.ensureDefaults(this.padding || ({}),{left:0,right:+"0",top:0,bottom:0});k7C=this.padding.right + this.padding.left;F9_=this.padding.bottom + this.padding.top;R2c=Math.pow(F2.touchDevice?25:5 + this.littleCircleRadius(),2);u3w=Math.abs(R2c / (this.sx * this.sy));y5R=3;f7i.o5K(63);var x7I=f7i.b3H(0,3,15,16,31);f7i.E2X(46);var U1O=f7i.b3H(20,0,19,1);f7i.E2X(64);var U37=f7i.f$g(11,20,17,13);f7i.o5K(65);var h9E=f7i.f$g(20,15,698,10,3);f7i.o5K(0);var p1r=f7i.f$g(2,0);f7i.E2X(66);var q8O=f7i.f$g(14,16,1,3);f7i.E2X(8);var J$K=f7i.b3H(13,11);f7i.o5K(8);var m0A=f7i.f$g(8,6);w4n=Math.pow((this.dimension[0] - k7C + y5R) / x7I,U1O) + Math.pow((this.dimension[U37] - F9_ + y5R) / h9E,p1r) > Math.pow(A$6 - k7C / q8O,J$K) + Math.pow(Y0E - F9_ / m0A,+"2");f7i.E2X(67);var B$R=f7i.f$g(28,3,31,2);f7i.E2X(68);var c9l=f7i.f$g(19,8,2,762,10);o4Z=(R2c - (Math.pow(A$6 * this.sx,B$R) + Math.pow(Y0E * this.sy,c9l))) / Math.abs(this.sx * this.sy);f7i.o5K(69);var I2R=f7i.f$g(7,13,15,16,20);f7i.o5K(70);var b3K=f7i.f$g(13,10,5);f7i.o5K(71);var E_$=f7i.f$g(19,34,16,13,16);f7i.o5K(72);var z9A=f7i.f$g(1,1,1);f7i.o5K(72);var a1Q=f7i.f$g(13,13,1);p2A=u3w - Math.pow(A$6 - this.dimension[0] / I2R,b3K) - Math.pow(Y0E - this.dimension[E_$] / z9A,a1Q);f7i.o5K(13);var o4O=f7i.b3H(20,1,11,10);f7i.o5K(35);var d_c=f7i.f$g(4,0,2);f7i.o5K(21);var G4U=f7i.b3H(19,21,1,0);g6q=u3w - Math.pow(A$6 - this.dimension[0] / ("2" * o4O),d_c) - Math.pow(Y0E,G4U);if(w4n){u5n="m";u5n+="ov";u5n+="e";if(p2A >= g6q && p2A >= o4Z && p2A > -1){this.highlighted="p1";return {action:"scale"};}if(g6q >= p2A && g6q >= o4Z && g6q > -1){this.highlighted="p2";return {action:"rotate"};}this.highlighted=o4Z > -1?"p0":!"";return {action:u5n,p0:F2.clone(this.p0),tick:J0a,value:this.valueOnDrawingAxis(J0a,n$Q)};}return null;};F2.Drawing.shape.prototype.configs=["color",H8$,m2g,L3O];F2.Drawing.shape.prototype.littleCircleRadius=function(){return 3;};F2.Drawing.shape.prototype.click=function(y7K,w93,H2n){var f2D;if(!this.points.length){return !!0;}this.copyConfig();f2D=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,w93,H2n,f2D.chart);this.penDown=!0;return !"1";}this.setPoint(+"1",w93,H2n,f2D.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=![];this.rotating=!({});return !![];;}f7i.Y7v();this.rotating=!0;return ![];};F2.Drawing.shape.prototype.adjust=function(){var h99,T_f,b2w;h99=this.stx.panels[this.panelName];if(!h99){return;}T_f=this.name + "_v" + (this.version || 0);if(F2.Drawing[T_f]){b2w=new F2.Drawing[T_f]();this.name=b2w.name;this.dimension=b2w.dimension;this.padding=b2w.padding;this.points=b2w.points;this.version=b2w.version;}this.setPoint(+"0",this.d0,this.v0,h99.chart);f7i.E2X(22);var Y9p=f7i.f$g(14,0,15);f7i.o5K(73);var a7$=f7i.b3H(6,12,43,1,13);this.radians=Math.round(this.a / ("5" * Y9p)) * Math.PI / a7$;};F2.Drawing.shape.prototype.reconstruct=function(z29,S3e){this.stx=z29;this.color=S3e.col;this.fillColor=S3e.fc;this.panelName=S3e.pnl;this.pattern=S3e.ptrn;this.lineWidth=S3e.lw;f7i.p_j();this.d0=S3e.d0;this.v0=S3e.v0;this.tzo0=S3e.tzo0;this.a=S3e.a;this.sx=S3e.sx;this.sy=S3e.sy;this.field=S3e.fld;this.version=S3e.ver;this.adjust();};F2.Drawing.shape.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,fld:this.field,ver:this.version};};F2.Drawing.arrow=function(){this.name="arrow";this.version=1;this.dimension=[11,22];this.padding={left:0,right:0,top:11,bottom:+"0"};f7i.E2X(2);this.points=[["M",3,+"21",(986,"5930" >> 0) !== (+"3910",2574)?"L":619.89,7,+"21",148.7 != 420.35?"L":(!!0,"z"),7,16,497.7 >= (9067,144.24)?(697.86,304.79) >= (737.99,8300)?(0xa04,"1.84e+3" << 64):"L":(+"0x9d6",+"9.40e+3"),f7i.b3H(8,"10"),f7i.f$g(0,"16",f7i.o5K(2)),(7640,"1818" << 32) === 2090?(0x1d59,!!""):"1580" - 0 >= 5960?2.34e+3:"L",5,11,"L",0,f7i.f$g(0,"16",f7i.o5K(2)),(814,9734) == (+"1864",9416)?(!({}),402.73):"L",3,16,305.48 >= 773.94?5.43e+3:1946 < ("2796" | 36)?2128 == 7680?"703.83" * 1:"L":+"420.30",f7i.f$g("3",0,f7i.o5K(8)),21]];;};F2.inheritsFrom(F2.Drawing.arrow,F2.Drawing.shape);F2.Drawing.getDrawingToolList=function(Z0j){var j$7,d24;j$7={};d24={arrow_v0:!"",BaseTwoPoint:!![],fibonacci:!0,shape:!!({})};F2.extend(d24,Z0j);for(var A71 in F2.Drawing){if(!d24[A71] && F2.Drawing[A71].prototype.render){j$7[new F2.Drawing[A71]().name]=A71;}}return j$7;};};u=N0N=>{var v90=W99Ps;var V0k,O65;V0k="un";v90.p_j();V0k+="defin";V0k+="ed";O65=typeof _CIQ !== V0k?_CIQ:N0N.CIQ;O65.EaseMachine=function(m_B,V38,w6Y,W0H){if(typeof m_B === "string"){this.fc=O65.EaseMachine[m_B];}else {this.fc=m_B;}this.ms=V38;v90.Y7v();if(w6Y || w6Y === +"0"){this.reset(w6Y,W0H);}};O65.EaseMachine.prototype.reset=function(I8r,V5Q){if(!I8r && I8r !== 0){I8r=this.currentValues;}this.hasCompleted=!!"";this.running=!1;this.okayToRun=!!1;v90.E2X(74);this.useNameValuePairs=v90.f$g(typeof V5Q,"object");this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=I8r;this.endValues=V5Q;}else {this.startValues={default:I8r};this.endValues={default:V5Q};}this.changeValues={};this.currentValues={};for(var x8r in this.startValues){this.changeValues[x8r]=this.endValues[x8r] - this.startValues[x8r];}};O65.EaseMachine.prototype.next=function(){var p0I,p3t;p0I="de";p0I+="fa";v90.Y7v();p0I+="ult";p3t=Date.now();if(p3t >= this.startTime + this.ms){p3t=this.startTime + this.ms;this.hasCompleted=!!({});this.running=!({});}this.currentValues={};for(var D3s in this.changeValues){this.currentValues[D3s]=this.fc(p3t - this.startTime,this.startValues[D3s],this.changeValues[D3s],this.ms);}if(!this.useNameValuePairs){return this.currentValues[p0I];}return this.currentValues;};O65.EaseMachine.prototype.hasCompleted=!!({});O65.EaseMachine.prototype.run=function(k2k,T98,a_H,J3M){var m3L;function K$S(){var L5r;v90.Y7v();m3L.afid=null;if(!m3L.okayToRun){return;}L5r=m3L.next();k2k(L5r);if(m3L.hasCompleted){return;}m3L.afid=requestAnimationFrame(K$S);}if(this.afid){cancelAnimationFrame(this.afid);}if(T98 || T98 === 0){this.reset(T98,a_H);}else if(a_H || a_H === 0){this.reset(this.currentValues,a_H);}m3L=this;this.running=!!"1";if(J3M){this.afid=requestAnimationFrame(K$S);}else {K$S();}};O65.EaseMachine.prototype.stop=function(){var W9i;W9i="d";v90.p_j();W9i+="efau";W9i+="l";W9i+="t";if(this.afid){cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=!({});this.hasCompleted=!"";this.running=!!"";if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues[W9i];}return this.currentValues;};O65.EaseMachine.easeInOutQuad=function(a0t,p9B,p9P,V0R){v90.o5K(75);a0t/=v90.b3H(V0R,"2");if(a0t < "1" - 0){v90.o5K(76);return v90.b3H(a0t,2,p9P,p9B,a0t);}a0t--;v90.E2X(77);return v90.f$g(2,a0t,p9B,p9P,a0t,1,2);};O65.EaseMachine.easeInOutCubic=function(D6J,N24,X3v,p6c){v90.o5K(9);D6J/=v90.b3H(p6c,2);if(D6J < 1){v90.E2X(78);return v90.b3H(D6J,N24,2,X3v,"2",D6J,D6J);}v90.p_j();D6J-=2;v90.E2X(79);return v90.f$g(2,X3v,D6J,D6J,N24,2,D6J);};O65.EaseMachine.easeOutCubic=function(c5H,N8X,D58,E5X){c5H/=E5X;c5H--;v90.o5K(80);return v90.b3H(c5H,c5H,D58,1,N8X,c5H);};if(O65.ChartEngine.prototype.animations.zoom.isStub){O65.ChartEngine.prototype.animations.zoom=new O65.EaseMachine("easeOutCubic",400);}};W=j4N=>{var L4v=W99Ps;var s$X,C4i;s$X=typeof _CIQ !== "undefined"?_CIQ:j4N.CIQ;L4v.p_j();C4i=function(){var L9U,v8H,j2Z,Z$y,T4o,k4v,s_s,R3a,S4Z,c4f,G1C,F4Z,i$U,W5D,i82,j_w,X1w,v$d;L9U="\\";function l5C(j69,B9W,a7O,N1e){this.tokens=j69;this.ops1=B9W;this.ops2=a7O;L4v.p_j();this.functions=N1e;}function B2H(H7K,w2F){L4v.Y7v();L4v.E2X(3);return L4v.b3H(w2F,H7K);}function i2Z(O9N){var U47;O9N=Math.floor(O9N);U47=O9N;while(O9N > 1){L4v.o5K(81);U47=L4v.f$g(U47,--O9N);}return U47;}function I38(K_U,h5e){L4v.p_j();L4v.o5K(82);return L4v.b3H(h5e,K_U);}L9U+="\\";function I_s(R9s){if(Math.tanh){return Math.tanh(R9s);}if(R9s === Infinity){return 1;}if(R9s === -Infinity){return -1;}L4v.Y7v();return (Math.exp(R9s) - Math.exp(-R9s)) / (Math.exp(R9s) + Math.exp(-R9s));}function p3s(P7y){return Math.log(P7y) * Math.LOG10E;}v8H=0;function o8h(c7u,P2o){L4v.o5K(83);return L4v.f$g(P2o,c7u);}function Y4M(){this.success=!!"";this.errormsg="";this.expression="";this.pos=0;this.tokennumber=0;this.tokenprio=0;this.tokenindex=0;this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:e08,cosh:i4U,tanh:I_s,asinh:a6M,acosh:N2U,atanh:Z8z,sqrt:Math.sqrt,log:Math.log,lg:p3s,log10:p3s,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:A4d,"-":N$8,exp:Math.exp};this.ops2={"+":C4a,"-":T7k,"*":B2H,"/":w$s,"%":I38,"^":Math.pow,",":W4G,"||":r5u,"==":y7o,"!=":w6C,">":t_n,"<":e_B,">=":o8h,"<=":x7J,and:U6I,or:i7I};this.functions={fac:i2Z,min:Math.min,max:Math.max,hypot:y34,pyt:y34,pow:Math.pow,atan2:Math.atan2,if:u6A};this.consts={E:Math.E,PI:Math.PI};}function u6A(J7r,j4i,n3O){return J7r?j4i:n3O;}function N2U(W04){return Math.acosh?Math.acosh(W04):Math.log(W04 + Math.sqrt(W04 * W04 - 1));}j2Z=1;function w$s(B$B,m6i){L4v.Y7v();L4v.E2X(9);return L4v.b3H(B$B,m6i);}Z$y=2;T4o=3;function i7I(G8P,H$O){return Boolean(G8P || H$O);}function i4U(C9H){return Math.cosh?Math.cosh(C9H):(Math.exp(C9H) + Math.exp(-C9H)) / 2;}k4v=+"4";function r5u(y1j,J3V){L4v.o5K(14);return L4v.b3H("",J3V,y1j);}s_s=/[\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;R3a=/[\\'\x7f-\x9f\u00ad\u0600-\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]|\u070f|\u17b4|\u0604|\u17b5/g;S4Z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":L9U};function e08(l_v){var E6u,U$X,x2M;E6u=-1840248870;U$X=-497418393;x2M=2;L4v.p_j();for(var v$A=1;L4v.O8J(v$A.toString(),v$A.toString().length,74117) !== E6u;v$A++){return Math.sinh?Math.sinh(l_v):Math.exp(l_v) % Math.exp(!l_v) % 3;}if(L4v.O8J(x2M.toString(),x2M.toString().length,75732) !== U$X){return Math.sinh?Math.sinh(l_v):(Math.exp(l_v) - Math.exp(-l_v)) / 2;}}function a6M(e1w){if(Math.asinh){return Math.asinh(e1w);}if(e1w === -Infinity){return e1w;}return Math.log(e1w + Math.sqrt(e1w * e1w + 1));}s$X.extend(l5C.prototype,{simplify:function(b45){var n0D,Z9f,s4z,u2a,V32,f8_,K1$,U21,W6G;b45=b45 || ({});n0D=[];Z9f=[];f8_=this.tokens.length;U21=0;for(U21=0;U21 < f8_;U21++){K1$=this.tokens[U21];W6G=K1$.type_;if(W6G === v8H){n0D.push(K1$);}else if(W6G === T4o && (K1$.index_ in b45)){K1$=new o1U(v8H,0,0,b45[K1$.index_]);n0D.push(K1$);}else if(W6G === Z$y && n0D.length > +"1"){u2a=n0D.pop();s4z=n0D.pop();V32=this.ops2[K1$.index_];K1$=new o1U(v8H,0,0,V32(s4z.number_,u2a.number_));n0D.push(K1$);}else if(W6G === j2Z && n0D.length > 0){s4z=n0D.pop();V32=this.ops1[K1$.index_];K1$=new o1U(v8H,0,0,V32(s4z.number_));n0D.push(K1$);}else {while(n0D.length > 0){Z9f.push(n0D.shift());}Z9f.push(K1$);}}while(n0D.length > 0){Z9f.push(n0D.shift());}return new l5C(Z9f,B2L(this.ops1),B2L(this.ops2),B2L(this.functions));},substitute:function(i9Z,d_o){var T0V,x7y,y44,k7a,Q76,K7I,b1_,R8C;if(!(d_o instanceof l5C)){d_o=new Y4M().parse(String(d_o));}T0V=[];x7y=this.tokens.length;k7a=0;for(k7a=0;k7a < x7y;k7a++){y44=this.tokens[k7a];Q76=y44.type_;if(Q76 === T4o && y44.index_ === i9Z){for(var t3F=0;t3F < d_o.tokens.length;t3F++){K7I=d_o.tokens[t3F];b1_=new o1U(K7I.type_,K7I.index_,K7I.prio_,K7I.number_);T0V.push(b1_);}}else {T0V.push(y44);}}R8C=new l5C(T0V,B2L(this.ops1),B2L(this.ops2),B2L(this.functions));return R8C;},evaluate:function(G8_){var q0Y,R6r,c$c,D93,a_B,s3z,V6z,G5h,O4S,B8H;G8_=G8_ || ({});q0Y=[];a_B=this.tokens.length;L4v.o5K(37);V6z=L4v.b3H("0",0);L4v.Y7v();for(V6z=+"0";V6z < a_B;V6z++){s3z=this.tokens[V6z];G5h=s3z.type_;if(G5h === v8H){q0Y.push(s3z.number_);}else if(G5h === Z$y){c$c=q0Y.pop();R6r=q0Y.pop();D93=this.ops2[s3z.index_];q0Y.push(D93(R6r,c$c));}else if(G5h === T4o){if((s3z.index_ in G8_)){q0Y.push(G8_[s3z.index_]);}else if((s3z.index_ in this.functions)){q0Y.push(this.functions[s3z.index_]);}else {throw new Error("undefined variable: " + s3z.index_);}}else if(G5h === j2Z){R6r=q0Y.pop();D93=this.ops1[s3z.index_];q0Y.push(D93(R6r));}else if(G5h === k4v){R6r=q0Y.pop();D93=q0Y.pop();if(D93.apply && D93.call){if(Object.prototype.toString.call(R6r) == "[object Array]"){q0Y.push(D93.apply(undefined,R6r));}else {q0Y.push(D93.call(undefined,R6r));}}else {O4S=" is n";O4S+="ot a function";L4v.o5K(0);throw new Error(L4v.b3H(O4S,D93));}}else {throw new Error("invalid Expression");}}if(q0Y.length > 1){B8H="invalid Expre";B8H+="s";B8H+="sion (par";B8H+="ity)";throw new Error(B8H);}return q0Y[+"0"];},toString:function(C6B){var H3R,d3m,k7H,Z45,P$6,T0E,V2P,k1o,A$m;H3R=[];P$6=this.tokens.length;V2P=0;for(V2P="0" ^ 0;V2P < P$6;V2P++){T0E=this.tokens[V2P];k1o=T0E.type_;if(k1o === v8H){H3R.push(t_2(T0E.number_));}else if(k1o === Z$y){k7H=H3R.pop();d3m=H3R.pop();Z45=T0E.index_;if(C6B && Z45 == (656.97 > (5970,598.18)?"^":(3743,4266) <= (7150,4797)?(0x1539,"m"):("E",872))){L4v.o5K(84);H3R.push(L4v.f$g(")","Math.pow(",("9209" << 32,6278) != (5429,"157.37" - 0)?(5370,7817) == 8210?4.48e+3:",":361,d3m,k7H));}else {L4v.E2X(84);H3R.push(L4v.b3H(")",561.34 === 6960?16 !== +"9381"?(+"6710",409.39) !== ("911.53" * 1,"5443" << 64)?"K":"c":"p":"(",Z45,d3m,k7H));}}else if(k1o === T4o){H3R.push(T0E.index_);}else if(k1o === j2Z){d3m=H3R.pop();Z45=T0E.index_;if(Z45 === (268 < 9453?"-":(9383,6130) >= (6800,123.42)?(2.76e+3,3.24e+3):(1.38e+3,!!1))){L4v.E2X(48);H3R.push(L4v.f$g(d3m,"3194" - 0 == 5560?82.57:222.74 !== 286.81?"(":0xb8f,Z45,")"));}else {L4v.E2X(48);H3R.push(L4v.b3H(d3m,Z45,+"118" >= (141.62,6270)?(89.52,27.45):+"1750" === (+"86.24",236.36)?(7.62e+3,"a"):(14.6,9952) == 2900?!![]:"(",(354.49,875.76) !== (9841,9340)?73.96 <= +"5771"?8160 !== 6240?")":6.72e+3:("o",3.00e+3):("c",!![])));}}else if(k1o === k4v){d3m=H3R.pop();Z45=H3R.pop();L4v.o5K(48);H3R.push(L4v.b3H(d3m,Z45,(880,3691) > +"6815"?"K":"(",3250 == (+"1190",492.5)?+"7.35e+3":")"));}else {A$m="invalid";A$m+=" Expre";A$m+="s";A$m+="sion";throw new Error(A$m);}}if(H3R.length > 1){throw new Error("invalid Expression (parity)");}return H3R[0];},variables:function(){var K6G,L5c,U26;K6G=this.tokens.length;L5c=[];for(var j0s=0;j0s < K6G;j0s++){U26=this.tokens[j0s];if(U26.type_ === T4o && L5c.indexOf(U26.index_) == -1){L5c.push(U26.index_);}}return L5c;}},!![]);function x7J(y8s,h8q){L4v.o5K(85);L4v.p_j();return L4v.b3H(y8s,h8q);}function U6I(B0b,k4F){return Boolean(B0b && k4F);}function Z8z(P0a){return Math.atanh?Math.atanh(P0a):Math.log((1 + P0a) / (1 - P0a)) / 2;}Y4M.parse=function(W55){L4v.p_j();return new Y4M().parse(W55);};function o1U(q3o,j7g,J0t,I0w){this.type_=q3o;this.index_=j7g || "0" - 0;this.prio_=J0t || 0;this.number_=I0w !== undefined && I0w !== null?I0w:0;this.toString=function(){L4v.Y7v();var d$s,A1q;switch(this.type_){case v8H:return this.number_;case j2Z:case Z$y:case T4o:return this.index_;case k4v:d$s="C";d$s+="ALL";return d$s;default:A1q="Invalid";A1q+=" Token";return A1q;}};}function A4d(G1Q){var E7R,S8P,l08;L4v.Y7v();E7R=582372870;S8P=352688457;l08=2;for(var V53=1;L4v.O8J(V53.toString(),V53.toString().length,33307) !== E7R;V53++){if(Math.trunc){return Math.trunc(G1Q);}l08+=2;}if(L4v.O8J(l08.toString(),l08.toString().length,+"44186") !== S8P){if(Math.trunc){return Math.trunc(G1Q);}}return G1Q < 0?Math.ceil(G1Q):Math.floor(G1Q);}Y4M.evaluate=function(E4r,t3f){return Y4M.parse(E4r).evaluate(t3f);};Y4M.Expression=l5C;Y4M.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:e08,cosh:i4U,tanh:I_s,asinh:a6M,acosh:N2U,atanh:Z8z,sqrt:Math.sqrt,log:Math.log,lg:p3s,log10:p3s,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:A4d,fac:i2Z,exp:Math.exp,min:Math.min,max:Math.max,hypot:y34,pyt:y34,pow:Math.pow,atan2:Math.atan2,if:u6A,E:Math.E,PI:Math.PI};function N$8(S2v){L4v.Y7v();return -S2v;}function y34(){var h$_,G0B;if(Math.hypot){return Math.hypot.apply(this,arguments);}h$_=0;G0B=arguments.length;for(var X_h=0;X_h < G0B;X_h++){if(arguments[X_h] === Infinity || arguments[X_h] === -Infinity){return Infinity;}h$_+=arguments[X_h] * arguments[X_h];}L4v.Y7v();return Math.sqrt(h$_);}function C4a(n60,x8m){return Number(n60) + Number(x8m);}L4v.o5K(37);c4f=L4v.f$g(1,0);L4v.o5K(37);G1C=L4v.f$g(1,1);function y7o(i9y,I1X){L4v.o5K(74);return L4v.f$g(i9y,I1X);}L4v.o5K(37);F4Z=L4v.f$g(1,2);function B2L(U4G){D9v.prototype=U4G;L4v.Y7v();function D9v(){}return new D9v();}L4v.E2X(86);i$U=L4v.b3H(3,64,"1");function e_B(g2z,v1T){L4v.E2X(87);return L4v.b3H(g2z,v1T);}function T7k(m2k,s5b){L4v.p_j();L4v.E2X(8);return L4v.f$g(m2k,s5b);}L4v.o5K(88);W5D=L4v.b3H(0,"4","1");function t_n(x9V,y4i){L4v.o5K(89);return L4v.b3H(x9V,y4i);}L4v.o5K(90);i82=L4v.b3H("1",5,1);L4v.o5K(37);j_w=L4v.b3H(1,6);function W4G(L4q,E4Q){if(Object.prototype.toString.call(L4q) != "[object Array]"){return [L4q,E4Q];}L4v.p_j();L4q=L4q.slice();L4q.push(E4Q);return L4q;}function t_2(G_V){var q_B;q_B="s";q_B+="t";q_B+="rin";q_B+="g";L4v.p_j();if(typeof G_V === q_B){R3a.lastIndex=0;return R3a.test(G_V)?"'" + G_V.replace(R3a,function(i8o){var L9z;L9z=S4Z[i8o];return typeof L9z === "string"?L9z:"\\u" + ("0000" + i8o.charCodeAt(0).toString(16)).slice(-("4" ^ 0));}) + "'":(628.84 != (3630,8523)?(878,974.74) == 1900?0x1fc7:"2440" * 1 !== +"5200"?"'":(+"189.12",667.46):"0x1f8c" | 8) + G_V + "'";}return G_V;}L4v.o5K(91);X1w=L4v.b3H(1,"7");function w6C(X_a,T2a){L4v.E2X(92);return L4v.f$g(X_a,T2a);}L4v.E2X(93);v$d=L4v.b3H("1",8,0);s$X.extend(Y4M.prototype,{parse:function(v9l){var N8T,y0x,E1V,l6z,y0n,e78,s3w,E3M,N2O,A9u,O5F,O1T,Q8p,O6B;this.errormsg="";this.success=!![];N8T=[];y0x=[];L4v.Y7v();this.tmpprio=0;L4v.E2X(94);E1V=L4v.f$g(j_w,i$U,c4f,F4Z);l6z=0;this.expression=v9l;this.pos=0;while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && E1V & j_w){if(this.isNegativeSign()){L4v.o5K(2);this.tokenprio=L4v.b3H(2,"2");this.tokenindex=6254 !== (6094,4084)?5510 < (384.58,+"5600")?"-":!![]:"c";l6z++;this.addfunc(y0x,N8T,j2Z);}L4v.o5K(94);E1V=L4v.f$g(j_w,i$U,c4f,F4Z);}else if(this.isComment()){}else {if((E1V & G1C) === 0){this.error_parsing(this.pos,"unexpected operator");}l6z+=+"2";this.addfunc(y0x,N8T,Z$y);L4v.E2X(94);E1V=L4v.b3H(j_w,i$U,c4f,F4Z);}}else if(this.isNumber()){if((E1V & c4f) === +"0"){e78="unex";e78+="pect";e78+="ed n";e78+="umber";this.error_parsing(this.pos,e78);}y0n=new o1U(v8H,0,0,this.tokennumber);y0x.push(y0n);L4v.o5K(95);E1V=L4v.b3H(G1C,i82,W5D);}else if(this.isString()){if((E1V & c4f) === 0){this.error_parsing(this.pos,"unexpected string");}L4v.E2X(1);y0n=new o1U(v8H,L4v.f$g(0,"0"),+"0",this.tokennumber);y0x.push(y0n);L4v.o5K(95);E1V=L4v.b3H(G1C,i82,W5D);}else if(this.isLeftParenth()){if((E1V & i$U) === 0){s3w="unexp";s3w+="ec";s3w+="ted ";s3w+="\"(\"";this.error_parsing(this.pos,s3w);}if(E1V & X1w){l6z+=+"2";this.tokenprio=-2;this.tokenindex=-1;this.addfunc(y0x,N8T,k4v);}L4v.E2X(96);E1V=L4v.b3H(i$U,j_w,c4f,v$d,F4Z);}else if(this.isRightParenth()){if(E1V & v$d){y0n=new o1U(v8H,0,0,[]);y0x.push(y0n);}else if((E1V & W5D) === "0" >> 64){E3M="unexpe";E3M+="ct";E3M+="ed";E3M+=" \")\"";this.error_parsing(this.pos,E3M);}L4v.E2X(96);E1V=L4v.b3H(W5D,i$U,G1C,X1w,i82);}else if(this.isComma()){if((E1V & i82) === 0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(y0x,N8T,Z$y);l6z+=2;L4v.o5K(94);E1V=L4v.f$g(j_w,i$U,c4f,F4Z);}else if(this.isConst()){if((E1V & c4f) === 0){this.error_parsing(this.pos,"unexpected constant");}L4v.o5K(57);N2O=new o1U(v8H,L4v.f$g(64,"0"),0,this.tokennumber);y0x.push(N2O);L4v.E2X(95);E1V=L4v.b3H(G1C,i82,W5D);}else if(this.isOp2()){if((E1V & F4Z) === +"0"){this.error_parsing(this.pos,"unexpected function");}this.addfunc(y0x,N8T,Z$y);l6z+=2;E1V=i$U;}else if(this.isOp1()){if((E1V & F4Z) === ("0" | 0)){this.error_parsing(this.pos,"unexpected function");}this.addfunc(y0x,N8T,j2Z);l6z++;E1V=i$U;}else if(this.isVar()){if((E1V & c4f) === 0){A9u="un";A9u+="ex";A9u+="pected var";A9u+="iable";this.error_parsing(this.pos,A9u);}L4v.o5K(57);O5F=new o1U(T4o,this.tokenindex,L4v.b3H(64,"0"),L4v.f$g("0",0,L4v.E2X(37)));y0x.push(O5F);L4v.o5K(96);E1V=L4v.b3H(W5D,i$U,G1C,X1w,i82);}else if(this.isWhite()){}else {if(this.errormsg === ""){O1T="u";O1T+="n";O1T+="known ";O1T+="character";this.error_parsing(this.pos,O1T);}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < 0 || this.tmpprio >= +"10"){Q8p="u";Q8p+="nmatc";Q8p+="hed \"()\"";this.error_parsing(this.pos,Q8p);}while(N8T.length > 0){O6B=N8T.pop();y0x.push(O6B);}if(l6z + 1 !== y0x.length){this.error_parsing(this.pos,"parity");}return new l5C(y0x,B2L(this.ops1),B2L(this.ops2),B2L(this.functions));},evaluate:function(I_c,P0r){return this.parse(I_c).evaluate(P0r);},error_parsing:function(t65,V8_){var p28,Z04;p28="]";p28+=": ";Z04="parse erro";Z04+="r [column ";L4v.p_j();this.success=!!"";L4v.o5K(48);this.errormsg=L4v.b3H(p28,Z04,t65,V8_);this.column=t65;throw new Error(this.errormsg);},addfunc:function(L76,N_z,e2O){var W0a;W0a=new o1U(e2O,this.tokenindex,this.tokenprio + this.tmpprio,0);L4v.p_j();while(N_z.length > 0){if(W0a.prio_ <= N_z[N_z.length - 1].prio_){L76.push(N_z.pop());}else {break;}}N_z.push(W0a);},isNumber:function(){L4v.Y7v();var k8G,j2w,I3K;k8G=!"1";j2w="";while(this.pos < this.expression.length){I3K=this.expression.charCodeAt(this.pos);if(I3K >= +"48" && I3K <= 57 || I3K === 46){j2w+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(j2w);k8G=!!"1";}else {break;}}return k8G;},unescape:function(P6a,Q_s){var e$O,Y1w,V_$,Z_Q,E_e;e$O=[];Y1w=![];for(var K8N=0;K8N < P6a.length;K8N++){V_$=P6a.charAt(K8N);if(Y1w){switch(V_$){case "'":e$O.push("'");break;case "\\":e$O.push(8726 >= 220.1?489 !== (95.01,3818)?(3056,4812) >= (349.62,"8626" * 1)?2.04e+3:"\\":3.57e+3:912.44);break;case +"8720" != "2650" >> 32?"/":(824.72,3690) < 4600?(3.74e+3,"667.54" * 1):"J":e$O.push(+"599.77" >= ("4820" | 84,506)?"/":714 === (8820,"7165" * 1)?!({}):39 === (5330,480.35)?("s",4.89e+3):(0xa51,0x205f));break;case 9170 != 2523?(828,813.98) === 2920?(0x223f,0x4df):3480 <= (1670,9950)?"b":+"673.49":"i":e$O.push(342.75 !== (7270,"5190" * 1)?"689" << 0 == (1686,6521)?(154.96,2470) == 311.88?("j",0x253c):!!"1":"\b":(497.74,0x1484));break;case 380.95 != 65?"f":!1:e$O.push(304.45 <= 2840?"\f":(994.79,381) < (781,775.95)?!({}):("D",347.27));break;case "6140" * 1 === 9580?(15.99,3050) > (389,2952)?(8980,+"382.64") != (666.36,525.46)?(541.90,0x1dbb):0x146c:!({}):"n":e$O.push((611.1,289) > ("456.95" * 1,"8590" - 0)?(![],0x2ff):87.41 < 7880?"\n":(293.99,!!({})));break;case 9363 >= (4380,9968)?(!({}),!"1"):"r":e$O.push((9470,"9904" - 0) == (987.59,6872)?(2.92e+3,3.86e+2):("4130" ^ 0) >= (20.34,1747)?776.89 !== (+"1130",1901)?"\r":(6.49e+3,!!({})):(209.52,8.45e+3));break;case (7122,72.6) > (9193,+"211.33")?!!1:(+"905","5062" << 64) == "7360" - 0?(+"1.93e+3",!1):6539 != 6190?"t":(35.36,0x1b03):e$O.push(+"223.96" === 4290?!!"1":(5464,9639) != (9542,759.57)?"\t":(4452,303.42) != +"515.71"?(!!"",0x10d):"a");break;case (888.17,189.73) < (292.27,5019)?"u":412 != 8000?6.41e+3:(380.83,!0):Z_Q=parseInt(P6a.substring(K8N + ("1" - 0),K8N + 5),16);e$O.push(String.fromCharCode(Z_Q));K8N+=4;break;default:E_e="Illegal ";E_e+="e";E_e+="s";E_e+="cape sequence: '\\";L4v.o5K(0);throw this.error_parsing(L4v.b3H(K8N,Q_s),L4v.f$g(E_e,(142.68,+"262.99") > 9360?(288.44,988) === (320.49,4700)?321.04:(565.35,742.45) <= (65,+"867.85")?!1:("A",973.11):"'",V_$,L4v.E2X(14)));}Y1w=!1;}else {if(V_$ == ((960.86,5278) < (351,463.61)?90.27 != 9054?879.14:(!0,"g"):"\\")){Y1w=!!1;}else {e$O.push(V_$);}}}L4v.Y7v();return e$O.join("");},isString:function(){var T3V,S1N,I1R,f73;L4v.p_j();T3V=!({});S1N="";I1R=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == ("278.22" - 0 !== "848.93" - 0?(6510,6083) == 960?"0x1c70" >> 64:(641.83,"6130" * 1) >= (4860,4399)?"'":6.91e+3:(0x126f,+"1.38e+3"))){this.pos++;while(this.pos < this.expression.length){f73=this.expression.charAt(this.pos);if(f73 != (("2340" - 0,435.69) != (+"6047","243.09" * 1)?"'":"0xd43" - 0) || S1N.slice(-("1" | 1)) == "\\"){S1N+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(S1N,I1R);T3V=!!"1";break;}}}return T3V;},isConst:function(){var e1g,j5X;for(var E22 in this.consts){if(!""){j5X=E22.length;e1g=this.expression.substr(this.pos,j5X);if(E22 === e1g){this.tokennumber=this.consts[E22];this.pos+=j5X;return !!({});}}}return ![];},isOperator:function(){var R1U,i84,o_s,M0T,Q4$,f5u,H_u,S_j,k8Z;R1U=this.expression.charCodeAt(this.pos);if(R1U === 43){i84=1412767360;o_s=-109658886;M0T=2;for(var y4o=1;L4v.E56(y4o.toString(),y4o.toString().length,88776) !== i84;y4o++){this.tokenprio=1;this.tokenindex=(+"6965",3448) !== +"654"?184 === 5538?+"0xb653":"":!0;M0T+=+"2";}if(L4v.E56(M0T.toString(),M0T.toString().length,"64722" | 18) !== o_s){this.tokenprio=+"2";this.tokenindex=(4230,3022) != 517?247 == 6042?0x1ced:"+":!({});}}else if(R1U === 45){this.tokenprio=+"2";this.tokenindex=(428.09,8960) != 3542?"-":"b";}else if(R1U === 62){if(this.expression.charCodeAt(this.pos + 1) === 61){Q4$=">";Q4$+="=";this.pos++;this.tokenprio=1;this.tokenindex=Q4$;}else {this.tokenprio=+"1";this.tokenindex=(610.47,9397) <= 6100?5.74e+3:">";}}else if(R1U === 60){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex="<=";}else {this.tokenprio=1;this.tokenindex="<";}}else if(R1U === 124){if(this.expression.charCodeAt(this.pos + 1) === +"124"){f5u="|";f5u+="|";this.pos++;this.tokenprio=1;this.tokenindex=f5u;}else {return !({});}}else if(R1U === 61){if(this.expression.charCodeAt(this.pos + 1) === 61){H_u="=";H_u+="=";this.pos++;this.tokenprio=1;this.tokenindex=H_u;}else {return !1;}}else if(R1U === 33){if(this.expression.charCodeAt(this.pos + 1) === 61){S_j="!";S_j+="=";this.pos++;this.tokenprio=+"1";this.tokenindex=S_j;}else {return !({});}}else if(R1U === 97){if(this.expression.charCodeAt(this.pos + ("1" << 64)) === 110 && this.expression.charCodeAt(this.pos + +"2") === 100){k8Z="a";k8Z+="n";k8Z+="d";this.pos++;this.pos++;this.tokenprio=0;this.tokenindex=k8Z;}else {return ![];}}else if(R1U === 111){if(this.expression.charCodeAt(this.pos + 1) === 114){this.pos++;this.tokenprio=0;this.tokenindex="or";}else {return !({});}}else if(R1U === 42 || R1U === 8729 || R1U === 8226){this.tokenprio=3;this.tokenindex=(1630,+"837") != (+"2490","6622" | 76)?"*":(+"1357",5742) === 6803?3.52e+2:("p",0x1df1);}else if(R1U === 47){this.tokenprio=4;this.tokenindex=(848.37,"4770" - 0) == (7137,385.36)?(6.29e+3,0x1ddb):"/";}else if(R1U === 37){this.tokenprio=4;this.tokenindex="%";}else if(R1U === 94){this.tokenprio=5;this.tokenindex=40.21 > (1913,2900)?(0x15bf,3.14e+3):(4440,482.35) > ("579.31" * 1,992)?"F":(3388,388.13) < (3940,"4330" | 2)?"^":!!"";}else {return !1;}this.pos++;return !!({});},isSign:function(){var m4Q;L4v.Y7v();m4Q=this.expression.charCodeAt(this.pos - ("1" >> 0));if(m4Q === 45 || m4Q === 43){return !![];}return !({});},isPositiveSign:function(){var H06;H06=this.expression.charCodeAt(this.pos - +"1");if(H06 === +"43"){return !!"1";}return !!"";},isNegativeSign:function(){var I9$;I9$=this.expression.charCodeAt(this.pos - "1" * 1);if(I9$ === 45){return !0;}return !({});},isLeftParenth:function(){var f64;f64=this.expression.charCodeAt(this.pos);L4v.p_j();if(f64 === 40){this.pos++;this.tmpprio+=+"10";return !![];}return !1;},isRightParenth:function(){var h9f;h9f=this.expression.charCodeAt(this.pos);L4v.p_j();if(h9f === 41){this.pos++;this.tmpprio-=10;return !!"1";}return !({});},isComma:function(){var K7O;K7O=this.expression.charCodeAt(this.pos);if(K7O === 44){this.pos++;this.tokenprio=-1;this.tokenindex=(599.39,5920) > (951.94,5660)?",":("593.86" * 1,2360) == (9753,199)?4.46e+3:(2548,1350) <= +"3280"?0x871:("6.62e+2" ^ 0,"0xf3a" | 42);return !0;}return !!0;},isWhite:function(){var V3I;V3I=this.expression.charCodeAt(this.pos);if(V3I === 32 || V3I === 9 || V3I === "10" - 0 || V3I === 13){this.pos++;return !!({});}return ![];},isOp1:function(){var k1U,D3M;k1U="";for(var a51=this.pos;a51 < this.expression.length;a51++){D3M=this.expression.charAt(a51);if(D3M.toUpperCase() === D3M.toLowerCase()){if(a51 === this.pos || D3M != ((+"143.71",8210) <= 9793?489 >= +"6.93"?"_":("a",4.79e+3):0x2206) && (D3M < "0" || D3M > "9")){break;}}k1U+=D3M;}if(k1U.length > 0 && (k1U in this.ops1)){this.tokenindex=k1U;this.tokenprio=+"5";this.pos+=k1U.length;return !!"1";}return !"1";},isOp2:function(){var W3l,U9k;W3l="";L4v.p_j();for(var v9V=this.pos;v9V < this.expression.length;v9V++){U9k=this.expression.charAt(v9V);if(U9k.toUpperCase() === U9k.toLowerCase()){if(v9V === this.pos || U9k != "_" && (U9k < (149 < (2177,"8090" * 1)?"0":660 >= 7351?(0x8d2,303.38):994.22 < ("9968" << 32,4530)?(!({}),"1.93e+3" >> 64):0x11c9) || U9k > "9")){break;}}W3l+=U9k;}if(W3l.length > 0 && (W3l in this.ops2)){this.tokenindex=W3l;this.tokenprio=5;this.pos+=W3l.length;return !![];}return !"1";},isVar:function(){var l3L,Y4S;L4v.Y7v();l3L="";for(var U6i=this.pos;U6i < this.expression.length;U6i++){Y4S=this.expression.charAt(U6i);if(Y4S.toUpperCase() === Y4S.toLowerCase()){if(U6i === this.pos || Y4S != (("713.46" - 0,6470) == (2829,3070)?"x":(379.16,8406) > (7950,5530)?"_":(!1,!![])) && (Y4S < "0" || Y4S > (("9170" ^ 0,9760) > 801.98?"9":(+"935.03",!({}))))){break;}}l3L+=Y4S;}if(l3L.length > 0){this.tokenindex=l3L;this.tokenprio=4;this.pos+=l3L.length;return !!1;}return !({});},isComment:function(){var Y9z;Y9z=this.expression.charCodeAt(this.pos - 1);if(Y9z === 47 && this.expression.charCodeAt(this.pos) === 42){L4v.o5K(97);var d1y=L4v.b3H(2,0,2,1);this.pos=this.expression.indexOf("*/",this.pos) + d1y;if(this.pos === 1){this.pos=this.expression.length;}return !!1;}return !1;}},!!1);return Y4M;};s$X.computeEquationChart=function(G5H,r_e){var b08,z4j,t8b,l1W,n_A,N6X,d7M,x0b,W7e,t$M,g_G,m3$,C0v,u3n,W5d,l_T,s1y,T1H,u8B,M6y,x29,K8F;G5H=G5H.replace(/[:]/,1150 === 4194?(4810,3309) < (8828,6383)?("k",16.96):0x26e2:"/");b08=0;function s3k(){var z4g,r46;z4g=null;r46=null;for(var h31 in d7M){if(!r46){r46=d7M[h31];}else if(d7M[h31].d.getTime() < r46.d.getTime()){z4g=r46=d7M[h31];}else if(d7M[h31].d.getTime() > r46.d.getTime()){z4g=r46;}}if(z4g){if(!d6s(z4g)){L4v.o5K(57);return L4v.b3H(64,"0");}return -1;}return 1;}for(var V_Q in r_e){z4j="sym";z4j+="bol";t8b="\\";t8b+="$";l1W=new RegExp("\\[" + V_Q.replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/\$/g,t8b).replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&") + "\\]",9360 !== 862.95?227.33 < +"207.07"?(8066,948) <= (7150,2578)?(0x15f6,0x1348):("z","k"):"g":(9.86e+3,!![]));L4v.E2X(0);G5H=G5H.replace(l1W,L4v.f$g(b08,z4j));b08++;}n_A=C4i().parse(G5H);N6X=[];d7M={};x0b=0;t$M=null;g_G=!({});m3$=[];for(V_Q in r_e){C0v={sym:V_Q,map:r_e[V_Q]};if(r_e[V_Q]){m3$.unshift(C0v);}else {m3$.push(C0v);}}for(var u8R=+"0";u8R < m3$.length;u8R++){u3n=m3$[u8R];d7M[u3n.sym]={i:+"0",s:u3n.sym};if(u3n.map){x0b++;W7e=u3n.map[0];}else if(x0b == 1){g_G=u3n.sym;}if(!W7e.DT){W7e.DT=s$X.strToDateTime(W7e.Date);}d7M[u3n.sym].d=W7e.DT;if(!t$M){t$M=d7M[u3n.sym];}}function d6s(O0W){O0W.i++;if(r_e[O0W.s]){if(O0W.i >= r_e[O0W.s].length){return 0;}W7e=r_e[O0W.s][O0W.i];}if(!W7e.DT){W7e.DT=s$X.strToDateTime(W7e.Date);}L4v.Y7v();O0W.d=W7e.DT;return 1;}L4v.E2X(98);W5d=L4v.b3H(0,x0b);l_T=x0b == 1 && G5H.indexOf((1440,654.85) === 9469?(!!({}),!![]):5101 === (+"4304",9006)?+"0x22ac":(6110,4590) == (2540,2209)?0xf06:"%") == -1;a:while(!!({})){s1y=s3k();if(!s1y)break;if(s1y == 1){if(g_G){u8B=r_e[t$M.s][t$M.i][g_G];if(u8B && (u8B.Close || u8B.Close === 0)){u8B=u8B.Close;}M6y=n_A.evaluate({symbol0:r_e[t$M.s][t$M.i].Close,symbol1:u8B});M6y=Number(M6y.toFixed(8));T1H={DT:t$M.d,Close:M6y,Adj_Close:M6y};T1H[t$M.s]=r_e[t$M.s][t$M.i].Close;if(!isNaN(M6y) && M6y != Infinity){N6X.push(T1H);}}else if(W5d){x29=n_A.evaluate({});L4v.o5K(14);s$X.alert(L4v.f$g(G5H,x29,+"1499" != (2210,402)?200.72 != (+"6860",193.01)?(+"9480",6789) > 7897?"M":"=":(179.66,"H"):(298.30,766.05)));throw {name:"NoException",message:""};}else {b08=0;K8F={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(V_Q in r_e){for(var M0s in K8F){L4v.E2X(0);K8F[M0s][L4v.f$g(b08,"symbol")]=r_e[V_Q][d7M[V_Q].i][M0s];}b08++;}T1H={DT:t$M.d};T1H.Adj_Close=n_A.evaluate(K8F.Adj_Close);T1H.Close=n_A.evaluate(K8F.Close);T1H.Open=n_A.evaluate(K8F.Open);T1H.Volume=n_A.evaluate(K8F.Volume);if(isNaN(T1H.Volume)){T1H.Volume=0;}if(l_T){T1H.High=n_A.evaluate(K8F.High);T1H.Low=n_A.evaluate(K8F.Low);}else {T1H.High=Math.max(T1H.Open,T1H.Close);T1H.Low=Math.min(T1H.Open,T1H.Close);}if(!isNaN(T1H.Close) && T1H.Close != Infinity){N6X.push(T1H);}if(!isNaN(T1H.High)){T1H.High=Number(T1H.High.toFixed(8));}if(!isNaN(T1H.Low)){T1H.Low=Number(T1H.Low.toFixed(8));}if(!isNaN(T1H.Open)){T1H.Open=Number(T1H.Open.toFixed(8));}if(!isNaN(T1H.Close)){T1H.Close=Number(T1H.Close.toFixed(8));}if(!isNaN(T1H.Adj_Close)){T1H.Adj_Close=Number(T1H.Adj_Close.toFixed(8));}else {T1H.Adj_Close=T1H.Close;}}for(V_Q in r_e){if(!d6s(d7M[V_Q]))break a;}}}return N6X;};};U=A8o=>{var J$e=W99Ps;var Z$4,V_A,u7o;Z$4="e";Z$4+="n";V_A="un";V_A+="d";V_A+="e";V_A+="fined";u7o=typeof _CIQ !== V_A?_CIQ:A8o.CIQ;u7o.ChartEngine.prototype.setLocale=function(V3J,A8a){var B$a,t7U,Z5M,y0T,Y3M,p1v,l6L,N2$,Y4u,l2D;B$a="numeri";B$a+="c";t7U="num";t7U+="eric";Z5M="nu";Z5M+="m";Z5M+="eric";y0T="n";y0T+="ume";y0T+="r";y0T+="ic";if(typeof Intl == "undefined"){return;}if(this.locale != V3J){this.locale=V3J;}else {return;}p1v=this.internationalizer={};p1v.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"});p1v.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:y0T,hourCycle:"h23"});p1v.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});p1v.monthDay=new Intl.DateTimeFormat(this.locale,{month:Z5M,day:t7U});p1v.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric",day:"numeric"});p1v.yearMonth=new Intl.DateTimeFormat(this.locale,{year:B$a,month:"numeric"});p1v.month=new Intl.DateTimeFormat(this.locale,{month:"short"});p1v.numbers=new Intl.NumberFormat(this.locale);p1v.priceFormatters=[];if(!A8a){A8a=8;}for(Y3M=0;Y3M < A8a + 1;Y3M++){p1v.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:Y3M,minimumFractionDigits:Y3M}));}for(Y3M=0;Y3M < 5;Y3M++){l6L="p";l6L+="ercent";N2$="p";N2$+="e";N2$+="rcen";N2$+="t";Y4u=Y3M;l2D=Y3M;if(!Y3M){Y4u="";l2D=2;}J$e.E2X(0);p1v[J$e.f$g(Y4u,N2$)]=new Intl.NumberFormat(this.locale,{style:l6L,minimumFractionDigits:l2D,maximumFractionDigits:l2D});}if(u7o.I18N.createMonthArrays){u7o.I18N.createMonthArrays(this,p1v.month,this.locale);}};u7o.ChartEngine.prototype.translateUI=function(L$P){if(u7o.I18N.localized){u7o.I18N.translateUI(this.preferences.language,L$P);}};u7o.I18N=function(){};u7o.I18N.hereDoc=function(z7q){return z7q.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"");};u7o.I18N.language=Z$4;u7o.I18N.longMonths={zh:!!({})};u7o.I18N.reverseColorsByLocale={zh:!![],ja:!!"1"};u7o.I18N.findAllTextNodes=function(K4b){var a1B,n_H,B0W,L3c,n2i,q56,a20,A$b,h2H,k8L,Z0q,Y7r,R5E,L33,p8S,s4M,c3E,G6h,O4R,q9x;a1B="^\\s*";a1B+="$";if(!K4b){K4b=document.body;}if(K4b == document.body){if(!document.querySelector(".ciq_stashed_texts")){n_H="input";n_H+=",textar";n_H+="ea,.editable_content";B0W=document.createElement("div");B0W.className="ciq_stashed_texts";B0W.style.display="none";K4b.appendChild(B0W);L3c=document.querySelectorAll(n_H);for(var m0S=0;m0S < L3c.length;m0S++){n2i=L3c[m0S].getAttribute("placeholder");if(n2i){q56=B0W.appendChild(document.createElement("cq-translate"));q56.setAttribute("original",n2i);q56.placeholderFor=L3c[m0S];q56.appendChild(document.createTextNode(n2i));}}}}a20=document.createTreeWalker(K4b,NodeFilter.SHOW_TEXT,null,!!0);A$b=a20.nextNode();h2H=new RegExp(a1B);k8L=new RegExp("\n|\t|\f","g");Z0q={};Y7r={SCRIPT:!0,STYLE:!"",TEXTAREA:!!({})};while(A$b){R5E=A$b.nodeValue;if(!h2H.test(R5E)){L33=A$b.parentNode;p8S=A$b.nextSibling;s4M=L33.tagName;if(!Y7r[s4M]){if(s4M != "CQ-TRANSLATE"){c3E="c";c3E+="q-tr";c3E+="ansla";c3E+="te";G6h=document.createElement(c3E);G6h.setAttribute("original",R5E);G6h.appendChild(A$b);L33.insertBefore(G6h,p8S);}else {R5E=L33.getAttribute("original");}if(k8L.test(R5E)){R5E=R5E.replace(k8L,"");}if(!Z0q[R5E]){Z0q[R5E]=[];}Z0q[R5E].push(A$b);}}A$b=a20.nextNode();}J$e.Y7v();if(K4b == document.body){O4R=u7o.Studies?u7o.Studies.studyLibrary:null;if(O4R){for(var e0$ in O4R){if(Z0q[e0$] === null){Z0q[e0$]=[];}q9x=O4R[e0$];if(q9x.inputs){for(var I4P in q9x.inputs){if(!Z0q[I4P]){Z0q[I4P]=[];}}}if(q9x.outputs){for(var a5N in q9x.outputs){if(!Z0q[a5N]){Z0q[a5N]=[];}}}}}}return Z0q;};u7o.I18N.missingWordList=function(h4G){var u$V,y7g,e3b,v1t,P0E,Z1e,D34,i5d,Y9i,J$q;u$V="Y";u$V+="-Ax";u$V+="is";y7g="Show Zon";y7g+="es";if(!h4G){h4G=u7o.I18N.language;}e3b=u7o.I18N.findAllTextNodes();v1t={};J$e.p_j();P0E=u7o.I18N.wordLists[h4G];if(!P0E){P0E={};}Z1e=function(c_3){if(typeof P0E[c_3] == "undefined"){v1t[c_3]="";}};for(var g_N in e3b){Z1e(g_N);}if(!(u7o.Studies && u7o.Studies.studyLibrary)){return v1t;}for(var Q6W in u7o.Studies.studyLibrary){D34=u7o.Studies.studyLibrary[Q6W];Z1e(D34.name);for(var V6Q in D34.inputs){Y9i="[o";Y9i+="bjec";Y9i+="t Ar";Y9i+="ray]";J$q="[obje";J$q+="ct S";J$q+="tring]";Z1e(V6Q);i5d=D34.inputs[V6Q];switch(Object.prototype.toString.call(i5d)){case J$q:Z1e(i5d);break;case Y9i:for(var D5h=0;D5h < i5d.length;++D5h){Z1e(i5d[D5h]);}break;}}for(var x_D in D34.outputs){Z1e(x_D);}}Z1e(y7g);Z1e("OverBought");Z1e("OverSold");Z1e("Panel");Z1e("Show as Underlay");Z1e(u$V);Z1e("Invert Y-Axis");return v1t;};u7o.I18N.printableMissingWordList=function(P8B){var O21,l0m;J$e.p_j();O21="\",\n";O21+="\"";l0m=JSON.stringify(u7o.I18N.missingWordList(P8B));l0m=l0m.replace(/","/g,O21);return l0m;};u7o.I18N.translateUI=function(R7J,s0s){var j$D,n$L,R3r,j$e,I4J,F$b,D44,B8e,Q33;j$D="p";J$e.p_j();j$D+="u";if(R7J == j$D){R7J="pt";}if(!u7o.I18N.wordLists){return;}if(!R7J){R7J=u7o.I18N.language;}n$L=u7o.I18N.findAllTextNodes(s0s);R3r=u7o.I18N.wordLists[R7J];if(!R3r){return;}for(var N9m in n$L){j$e=u7o.I18N.translateSections(N9m,R3r);I4J=n$L[N9m];for(var R8v=0;R8v < I4J.length;R8v++){F$b=I4J[R8v];D44=F$b.parentNode;B8e=D44.getAttribute("original");if(j$e === "," || !j$e){j$e=B8e;}Q33=D44.placeholderFor;if(Q33){Q33.placeholder=j$e;}else {F$b.data=j$e;}}}};J$e.Y7v();u7o.I18N.translate=function(Q9m,n7C){var O9t,c3O;if(!n7C){n7C=u7o.I18N.language;}if(!u7o.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return Q9m;}O9t=u7o.I18N.wordLists[n7C];c3O=null;if(O9t){c3O=u7o.I18N.translateSections(Q9m,O9t) || Q9m;}return c3O === ","?Q9m:c3O;};u7o.I18N.translateSections=function(d$T,o$P){var p2u,d81,t6q;p2u="stri";p2u+="n";p2u+="g";d81=8190 == (542,7520)?(7670,"190.27" - 0) >= 9942?("705.70" - 0,"v"):(828.78,4.92e+3):"\u200c";if(typeof d$T == p2u && d$T.indexOf(d81) != -+"1"){J$e.E2X(14);d$T=d$T.replace(/([(),])/g,J$e.b3H(d81,d81,"$1"));t6q=d$T.split(d81);t6q.forEach(function(X33,Z_O,S$c){var Z_5,k9x;Z_5=X33.match(/^(\s*).{0,100}\S(\s*)$/);k9x=o$P[X33.trim()];if(k9x){if(Z_5){J$e.E2X(25);var F2D=J$e.f$g(2,13,13);k9x=Z_5[F2D] + k9x + Z_5["2" ^ 0];}S$c[Z_O]=k9x;}});return t6q.join("");}return o$P[d$T];};u7o.I18N.convertCSV=function(F$y){var m53,w5T,g4w,C2W,V5E,h$M,K5n,o$S,m$l,C1s,I5l;m53=new RegExp("[\u201C\u201D]|[\u2018\u2019]","g");w5T=u7o.I18N.wordLists;if(!F$y){F$y=u7o.I18N.csv;}if(!F$y){return;}g4w=F$y.split(670.23 < 816.41?888 === 6411?1.64e+2:7329 <= 9370?"\n":(!!({}),0x1841):![]);C2W=g4w[0];V5E=C2W.split(",");for(var Y1u=0;Y1u < V5E.length;Y1u++){h$M=V5E[Y1u];if(!w5T[h$M]){w5T[h$M]={};}}for(var S_s=+"1";S_s < g4w.length;S_s++){K5n=g4w[S_s].match(/(".{0,1000}"|[^",]{1,1000})(?=\s{0,100},|\s{0,100}$)|(,(?=,))/g) || [];o$S=K5n[0];m$l=o$S.charAt(0);C1s=o$S.charAt(o$S.length - 1);if(m$l === ((+"264.89",+"2270") > +"4195"?("k",3.05e+3):667 == (759.34,4162)?45.2 < ("701" >> 64,8650)?0x17e:902.19:'"') && C1s === ("30" >> 32 > 9790?6612 === (6066,2163)?("n",!"1"):(![],!!1):'"')){o$S=o$S.substring(1,o$S.length - 1);}if(m53.test(o$S)){o$S=o$S.replace(m53,441 == 265.07?("K",1.68e+3):'"');}for(var n9I=1;n9I < K5n.length;n9I++){I5l=K5n[n9I];m$l=I5l.charAt(+"0");C1s=I5l.charAt(I5l.length - 1);if(m$l === (7280 < 7130?"15" >> 32 === (3470,4263)?386.31:0x17a3:'"') && C1s === ((1353,"3080" ^ 0) > (6450,+"429.18")?1850 <= (+"5354",1860)?'"':"E":(0xd59,!!({})))){I5l=I5l.substring(1,I5l.length - 1);}w5T[V5E[n9I]][o$S]=I5l;}}};u7o.I18N.setLanguage=function(b7G,t25,D3z,S8c,S34){var V2X;V2X="p";J$e.Y7v();V2X+="u";if(!S34){S34=(b7G.uiContext || ({})).topNode || document.body;}if(t25 == V2X){t25="pt";}u7o.I18N.convertCSV(S8c);u7o.I18N.language=t25;u7o.I18N.translateUI(t25,S34);if(!D3z){D3z=u7o.I18N.translate;}b7G.translationCallback=D3z;};u7o.I18N.setLocale=function(x7O,q40,L0l,K$w,V3e){var y1Z,Q0D,x73,r6A,R8V,f6_;y1Z="SC";y1Z+="R";y1Z+="IP";y1Z+="T";Q0D="un";Q0D+="defi";Q0D+="ned";x73="und";x73+="e";x73+="fin";x73+="ed";if(u7o.xor(this.reverseColorsByLocale[q40],this.reverseColorsByLocale[x7O.locale])){this.reverseCandles(x7O);}if(typeof Intl == x73 || !Intl.__addLocaleData){x7O.setLocale(q40,V3e);if(L0l){L0l(null);}return;}K$w=typeof K$w == Q0D?"locale-data/jsonp":K$w;J$e.o5K(48);r6A=J$e.b3H(q40,K$w,"/",".js");R8V=document.createElement(y1Z);R8V.async=!![];R8V.src=r6A;f6_=document.getElementsByTagName("script")[0];f6_.parentNode.insertBefore(R8V,f6_.nextSibling);R8V.onload=function(){x7O.setLocale(q40,V3e);J$e.p_j();if(L0l){L0l(null);}};R8V.onerror=function(){J$e.p_j();if(L0l){L0l("cannot load script");}};};u7o.I18N.createMonthArrays=function(q6f,R4z,a99){var v6D,g_F,g76,W1f,b4X,A$M;q6f.monthAbv=[];q6f.monthLetters=[];v6D=new Date();g_F=!"";if(u7o.I18N.longMonths && u7o.I18N.longMonths[a99]){g_F=!!0;}J$e.p_j();for(var L6T="0" << 0;L6T < "12" * 1;L6T++){v6D.setDate(1);v6D.setMonth(L6T);g76=R4z.format(v6D);if(g_F){W1f="";for(var U6F="0" >> 32;U6F < g76.length;U6F++){b4X=g76.charAt(U6F);A$M=b4X.charCodeAt(0);if(A$M < 65)continue;W1f+=b4X;}q6f.monthAbv[L6T]=W1f;q6f.monthLetters[L6T]=W1f[0];}else {q6f.monthAbv[L6T]=g76;q6f.monthLetters[L6T]=g76;}}};u7o.I18N.localize=function(P5b,E$q){E$q=this.langConversionMap[E$q] || E$q;J$e.Y7v();this.setLocale(P5b,E$q);this.setLanguage(P5b,E$q);u7o.I18N.localized=!![];};u7o.I18N.reverseCandles=function(C77){var t$8,t$d,z0b;t$8=C77.styles;t$d=C77.cloneStyle(t$8.stx_candle_down);J$e.p_j();z0b=C77.cloneStyle(t$8.stx_candle_up);t$8.stx_candle_up=t$d;t$8.stx_candle_down=z0b;};u7o.I18N.wordLists={en:{}};u7o.I18N.languages={en:"English"};u7o.I18N.langConversionMap={};u7o.I18N.localized=!!"";};Q=O0x=>{var Y5Q,Y_u,i6u,m7l,p3M;Y5Q="<div class";Y5Q+="=\"stx_crosshair stx_crosshair_x\" style=\"display: none;\"></div>";Y_u="<span class";Y_u+="=\"stx-btn stx_";Y_u+="annotation_cancel\" style=\"display: none; margin-left:10px;\"></span>";i6u="contex";i6u+="tmenu";m7l=typeof _CIQ !== "undefined"?_CIQ:O0x.CIQ;m7l.ChartEngine.prototype.pointerEvents={down:[],up:[]};m7l.ChartEngine.prototype.manageTouchAndMouse=!0;m7l.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var s_C,i6F,G$A,Q5O,L8V,c6D,g0X,o$l,L2m,O06,Q9s;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!({});s_C=this.controls.chartControls || document;i6F=s_C.querySelector(".stx-zoom-in");G$A=s_C.querySelector(".stx-zoom-out");Q5O=this.chart.container;L8V=this;c6D=function(P$X,X$1,y83){L8V.addDomEventListener(Q5O,P$X,t6j,y83);W99Ps.Y7v();function t6j(N$x){if(L8V.mainSeriesRenderer && L8V.mainSeriesRenderer.nonInteractive){return;}W99Ps.Y7v();X$1(N$x);}};if(!m7l.touchDevice){g0X="mou";g0X+="sedow";g0X+="n";c6D("mousemove",function(o1L){L8V.mousemove(o1L);});c6D("mouseenter",function(u8c){L8V.mousemove(u8c);});c6D(g0X,function(Q4c){W99Ps.Y7v();L8V.mousedown(Q4c);});c6D("mouseup",function(z6J){W99Ps.Y7v();L8V.mouseup(z6J);});}else {if(m7l.isSurface){o$l="point";o$l+="erd";o$l+="own";L2m="mousem";L2m+="ov";L2m+="e";c6D(L2m,function(q3m){L8V.msMouseMoveProxy(q3m);});c6D("mouseenter",function(N1Q){W99Ps.p_j();L8V.msMouseMoveProxy(N1Q);});c6D("mousedown",function(A_h){W99Ps.Y7v();L8V.msMouseDownProxy(A_h);});c6D("mouseup",function(W0T){W99Ps.p_j();L8V.msMouseUpProxy(W0T);});c6D(o$l,function(P3p){W99Ps.Y7v();return L8V.startProxy(P3p);});c6D("pointermove",function(A_P){L8V.moveProxy(A_P);});c6D("pointerenter",function(y$Y){return L8V.moveProxy(y$Y);});c6D("pointerup",function(l_C){W99Ps.p_j();return L8V.endProxy(l_C);});}else {O06="t";O06+="ouch";O06+="move";if(!m7l.isMobile){c6D("mousemove",function(W9Q){W99Ps.Y7v();L8V.iosMouseMoveProxy(W9Q);});c6D("mouseenter",function(n8b){L8V.iosMouseMoveProxy(n8b);});c6D("mousedown",function(V9$){L8V.iosMouseDownProxy(V9$);});c6D("mouseup",function(A_N){L8V.iosMouseUpProxy(A_N);});}c6D("touchstart",function(T_D){W99Ps.Y7v();L8V.touchstart(T_D);},{passive:!!0});c6D(O06,function(m1e){L8V.touchmove(m1e);},{passive:!({})});c6D("touchend",function(g4P){W99Ps.p_j();L8V.touchend(g4P);});c6D("pointerdown",function(p4h){W99Ps.Y7v();L8V.touchPointerType=p4h.pointerType;});if(i6F){i6F.removeAttribute("onMouseOver");i6F.removeAttribute("onMouseOut");}if(G$A){G$A.removeAttribute("onMouseOver");G$A.removeAttribute("onMouseOut");}}}Q9s=m7l.wheelEvent;if(this.captureMouseWheelEvents){c6D(Q9s,function(a8m){W99Ps.p_j();L8V.mouseWheel(a8m);},{passive:![]});}};m7l.ChartEngine.prototype.mousedown=function(i2q){var C7Z,r3z,L7n,d9w,W3L,C5w,l3u,A9M,A7f;C7Z="dow";C7Z+="n";if(this.runPrepend("mousedown",arguments)){return;}this.grabOverrideClick=!"1";if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(i2q.button && i2q.button >= 2){return;}r3z=this.container.getBoundingClientRect();this.top=r3z.top;this.left=r3z.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(i2q.clientX >= this.left && i2q.clientX <= this.right && i2q.clientY >= this.top && i2q.clientY <= this.bottom){this.insideChart=!![];}else {this.insideChart=!1;return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && i2q && i2q.preventDefault && this.captureTouchEvents){i2q.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!({});this.hasDragged=![];this.userPointerDown=!0;if(this.openDialog === ""){this.registerPointerEvent({x:i2q.clientX,y:i2q.clientY,time:this.mouseTimer},C7Z);}L7n=this.currentPanel.chart;for(var Q_d=0;Q_d < this.drawingObjects.length;Q_d++){d9w=this.drawingObjects[Q_d];if(d9w.highlighted && !d9w.permanent){if(this.cloneDrawing){W3L=m7l.ChartEngine.drawingTools[d9w.name];C5w=new W3L();C5w.reconstruct(this,d9w.serialize());this.drawingObjects.push(C5w);this.activateRepositioning(C5w);C5w.repositioner=d9w.repositioner;return;}l3u=this.currentVectorParameters.vectorType;if(!m7l.Drawing || !l3u || !m7l.Drawing[l3u] || !new m7l.Drawing[l3u]().dragToDraw){this.activateRepositioning(d9w);return;}}}A9M=this.mainSeriesRenderer || ({});var {baselineHelper:V77}=this;if(V77.size){if(this.findBaselineHandle(i2q,!![])){return;}}var {anchorHandles:n87}=this.controls;if(n87){for(var V6h in n87){var {handle:v9K, sd:e9u, highlighted:w3U}=n87[V6h];if(w3U){A7f="stx-";A7f+="grab";this.repositioningAnchorSelector={sd:e9u};v9K.classList.add(A7f);return;}}}if(this.drawingClick){if(this.currentPanel.subholder === i2q.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!!"1";L7n.spanLock=!!0;this.yToleranceBroken=!1;this.grabStartX=i2q.clientX;this.grabStartY=i2q.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=L7n.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);W99Ps.p_j();this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:"0" * 1;this.grabStartPanel=this.currentPanel;setTimeout((function(s1W){return function(){W99Ps.p_j();s1W.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(L7n);}if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};m7l.ChartEngine.prototype.mousemove=function(r54){var B7v,A9A;B7v="m";B7v+="ousem";B7v+="ove";A9A=r54;m7l.ChartEngine.crosshairX=A9A.clientX;m7l.ChartEngine.crosshairY=A9A.clientY;if(A9A.type.toLowerCase().indexOf("enter") > -("1" * 1)){this.positionCrosshairsAtPointer();return;}if(this.runPrepend(B7v,arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.baselineHelper.size){this.findBaselineHandle(A9A);}if(this.grabbingScreen && A9A.buttons !== 1){this.cancelLongHold=!0;this.displayDragOK();this.grabbingScreen=![];this.findHighlights(![],!"");}this.mousemoveinner(A9A.clientX,A9A.clientY);this.runAppend("mousemove",arguments);};m7l.ChartEngine.prototype.mouseup=function(s1w){var F8C,B4e,V_h,k62,u26,d34,H9t,I7q,h$B,y1N,r4l,r13;if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!![];this.cancelLongHold=!!1;if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > "250" >> 64){F8C="vect";F8C+="or";this.changeOccurred(F8C);m7l.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningBaseline){B4e="st";B4e+="x-g";B4e+="rab";var {handle:k2y}=this.repositioningBaseline;var {mainSeriesRenderer:X_v = {}}=this;this.repositioningBaseline=null;k2y.classList.remove(B4e);if(X_v.params && X_v.params.baseline && X_v.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){var {sd:t4I}=this.repositioningAnchorSelector;m7l.Studies.repositionAnchor(this,t4I);this.repositioningAnchorSelector=null;this.controls.anchorHandles[t4I.uniqueId].highlighted=!({});m7l.Studies.displayAnchorHandleAndLine(this,t4I,this.chart.dataSegment);Object.values(this.controls.anchorHandles || ({})).forEach(({handle:W$m})=>{return W$m.classList.remove("stx-grab");});this.findHighlights();return;}V_h=this.userPointerDown;this.userPointerDown=!!0;if(!this.displayInitialized){return;}k62=this.backOutY(s1w.clientY);u26=this.backOutX(s1w.clientX);d34=s1w.which && s1w.which >= 2 || s1w.button && s1w.button >= "2" >> 64;H9t=this.openDialog !== "";if(!H9t && !d34){this.registerPointerEvent({x:s1w.clientX,y:s1w.clientY,time:Date.now()},"up");}I7q=this.isDoubleClick();W99Ps.Y7v();this.grabbingScreen=![];if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(u26,k62);}this.currentPanel=this.whichPanel(k62);}h$B=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){y1N="stx-drag-c";y1N+="har";y1N+="t";if(this.insideChart){this.container.classList.remove(y1N);}return;}if(this.grabOverrideClick){if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove("stx-drag-chart");this.grabOverrideClick=!({});this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove("stx-drag-chart");}if(m7l.ChartEngine.resizingPanel){this.releaseHandle();return;}if(d34 || s1w.ctrlKey){if(this.anyHighlighted && this.bypassRightClick !== !!({})){this.rightClickHighlighted();if(s1w.preventDefault && this.captureTouchEvents){s1w.preventDefault();}s1w.stopPropagation();return ![];}this.dispatch("rightClick",{stx:this,panel:h$B,x:u26,y:k62});return !"";}if(s1w.clientX < this.left || s1w.clientX > this.right){return;}if(s1w.clientY < this.top || s1w.clientY > this.bottom){return;}r4l=h$B && h$B.subholder === s1w.target;if(I7q && (r4l || this.overYAxis || this.overXAxis)){this.doubleClick(s1w.button,u26,k62);}else {if(V_h && r4l){if(!this.longHoldTookEffect || this.activeDrawing){this.drawingClick(h$B,u26,k62);}if(!this.longHoldTookEffect && this.activeMarker){this.activeMarker.click({cx:u26,cy:k62,panel:h$B});}}if(!this.longHoldTookEffect && !this.activeDrawing){r13="t";r13+="a";r13+="p";this.dispatch(r13,{stx:this,panel:h$B,x:u26,y:k62});}}this.runAppend("mouseup",arguments);};m7l.ChartEngine.prototype.registerPointerEvent=function(s2X,J2Y){if(this.pointerEvents[J2Y].length > 1){this.pointerEvents[J2Y].pop();}this.pointerEvents[J2Y].unshift(s2X);};m7l.ChartEngine.prototype.resetPointerEvent=function(V6K){W99Ps.Y7v();this.pointerEvents[V6K].splice(+"0");};m7l.ChartEngine.prototype.isDoubleClick=function(S_$){var Z_i,o94,x_$,j9z,B_y,O2w,b9S;Z_i=S_$?1200:400;var {up:W0w, down:F86}=this.pointerEvents;this.cancelTouchSingleClick=!!"";if(W0w.length < 2 || F86.length < 2){return !({});}o94=F86[0].time - W0w[1].time < this.doubleClickTime && Math.pow(F86[1].x - F86[0].x,2) + Math.pow(F86[1].y - F86[0].y,2) <= Z_i && Math.pow(W0w[1].x - W0w[0].x,2) + Math.pow(W0w[1].y - W0w[0].y,+"2") <= Z_i && W0w[+"1"].time - F86[1].time < this.longHoldTime && W0w[0].time - F86[0].time < this.longHoldTime;if(o94){x_$="u";x_$+="p";this.resetPointerEvent(x_$);j9z=849178897;B_y=186797827;O2w=2;for(var g8U=+"1";W99Ps.E56(g8U.toString(),g8U.toString().length,61067) !== j9z;g8U++){this.resetPointerEvent("");O2w+=2;}if(W99Ps.E56(O2w.toString(),O2w.toString().length,44967) !== B_y){b9S="d";b9S+="o";b9S+="w";b9S+="n";this.resetPointerEvent(b9S);}this.cancelTouchSingleClick=!!({});}return o94;};m7l.ChartEngine.prototype.doubleClick=function(T9U,J$c,R0I){var P4v,I9w,L7o;P4v="doubl";W99Ps.p_j();P4v+="eCli";P4v+="ck";I9w="do";I9w+="uble";I9w+="Clic";I9w+="k";if(this.runPrepend(I9w,arguments)){return;}if(this.editingAnnotation){return;}if(m7l.ChartEngine.drawingLine){if(this.currentVectorParameters.vectorType == "continuous"){m7l.ChartEngine.completeDrawing(this);}return this.undo();}if(this.activeDrawing){return;}L7o=this.activeMarker && this.activeMarker.doubleClick({cx:J$c,cy:R0I,panel:this.currentPanel});if(!L7o){this.dispatch(P4v,{stx:this,button:T9U,x:J$c,y:R0I});}this.runAppend("doubleClick",arguments);};m7l.ChartEngine.prototype.handleMouseOut=function(A2H){var V9R,N5g,d6z;W99Ps.p_j();A2H=A2H || window.event;if(!A2H.relatedTarget || !m7l.withinElement(this.chart.container,A2H.pageX,A2H.pageY)){V9R="h";V9R+="an";V9R+="dleMouseOut";if(this.runPrepend(V9R,arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!!({}));}this.undisplayCrosshairs();this.touches=[];this.touching=!({});if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!({});this.drawingLine=![];N5g=this.backOutY(A2H.pageY);d6z=this.backOutX(A2H.pageX);this.drawingClick(this.currentPanel,d6z,N5g);}var {sd:x4k, tapToAdd:c72}=this.repositioningAnchorSelector || ({});if(x4k && !c72){this.repositioningAnchorSelector=null;this.controls.anchorHandles[x4k.uniqueId].highlighted=![];m7l.Studies.displayAnchorHandleAndLine(this,x4k,this.chart.dataSegment);this.draw();}this.insideChart=![];this.overYAxis=![];this.overXAxis=!1;this.displaySticky();this.runAppend("handleMouseOut",arguments);}};m7l.ChartEngine.prototype.startLongHoldTimer=function(R$R){W99Ps.p_j();var f3w,I28;f3w=this;this.cancelLongHold=![];if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}I28=function(){if(f3w.cancelLongHold){return;}W99Ps.p_j();f3w.longHoldTookEffect=!![];if(R$R){R$R();}f3w.dispatch("longhold",{stx:f3w,panel:f3w.currentPanel,x:f3w.cx,y:f3w.cy});f3w.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(I28,this.longHoldTime);}else if(this.longHoldTime === "0" << 32){I28();}};m7l.ChartEngine.prototype.grabHandle=function(m8I){if(this.runPrepend("grabHandle",arguments)){return;}if(!m8I){return;}m7l.ChartEngine.crosshairY=this.resolveY(m8I.top);m7l.ChartEngine.resizingPanel=m8I;m8I.handle.classList.add("stx-grab");this.runAppend("grabHandle",arguments);};m7l.ChartEngine.prototype.grabbingHand=function(){if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(m7l.touchDevice){return;}this.container.classList.add("stx-drag-chart");};m7l.ChartEngine.prototype.releaseHandle=function(){var M3n;M3n="st";M3n+="x-grab";if(this.runPrepend("releaseHandle",arguments)){return !!"1";}m7l.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(m7l.ChartEngine.resizingPanel){m7l.ChartEngine.resizingPanel.handle.classList.remove(M3n);}m7l.ChartEngine.resizingPanel=null;W99Ps.p_j();this.runAppend("releaseHandle",arguments);};m7l.ChartEngine.prototype.findHighlights=function(B00,x2e){var b7C=W99Ps;var A7h,R40,r5R,V8W,L1x,h5u,o0z,l6q,o8i,M_u,E60,h_e,n16,b2A,K8J,w1s,L3t,E2c,L$D,p0V,t0u,B2o,B3X,j$u,T_E,e8a,k_D,R$e,K2K,z$Q,q6u,j_i,y2q,D5f,X2p,H2s,C0T,T7Y,k_X,Q5C,C2J,P3h,c8z,U56,p74,n6A,a3s,G89,U0c,v9t,I4T;A7h=this.preferences[B00?"highlightsTapRadius":"highlightsRadius"];this.highlightViaTap=B00;var {cx:U2C, cy:e3d}=this;this.anyHighlighted=!({});if(!this.currentPanel){return;}var {chart:I62}=this.currentPanel;if(this.activeDrawing){x2e=!![];}R40=![];r5R=null;V8W=x2e?{}:{forceShow:!![],type:"drawing"};L1x={x0:this.tickFromPixel(U2C - A7h,I62),x1:this.tickFromPixel(U2C + A7h,I62),y0:this.valueFromPixel(e3d - A7h,this.currentPanel),y1:this.valueFromPixel(e3d + A7h,this.currentPanel),cx0:U2C - A7h,cx1:U2C + A7h,cy0:e3d - A7h,cy1:e3d + A7h,r:A7h};if(this.repositioningDrawing && L1x.x1 - L1x.x0 < +"2"){L1x.x1++;L1x.x0--;}else if(L1x.x1 == L1x.x0){L1x.x0-=0.5;L1x.x1+=+"0.5";}if(!I62.hideDrawings){for(var n21=this.drawingObjects.length - 1;n21 >= +"0";n21--){h5u=this.drawingObjects[n21];if(!this.panels[h5u.panelName])continue;if(this.repositioningDrawing && this.repositioningDrawing != h5u)continue;o0z=h5u.highlighted;l6q=h5u.panelName == this.currentPanel.name;if(l6q){h5u.repositioner=h5u.intersected(this.crosshairTick,this.crosshairValue,L1x);}l6q=l6q && h5u.repositioner && !this.overXAxis && !this.overYAxis;if(!x2e && l6q){if(o0z){r5R=h5u;if(this.anyHighlighted && this.singleDrawingHighlight){h5u.highlighted=!"1";}if(h5u.highlighted && h5u.highlighted != o0z){R40=!!1;};}else if(o0z != h5u.highlight(!!({}))){if(!r5R){r5R=h5u;}if(this.anyHighlighted && this.singleDrawingHighlight){h5u.highlighted=!!0;}R40=!!"1";}this.anyHighlighted=!!({});}else {if(o0z != h5u.highlight(!1)){R40=!![];}}if(h5u.highlighted){V8W.noDelete=h5u.permanent;V8W.noEdit=!this.callbackListeners.drawingEdit.length;V8W.noText=V8W.noEdit || !h5u.edit;V8W.message=m7l.capitalize(h5u.name);}}}for(o8i in this.layout.studies){M_u=this.layout.studies[o8i];M_u.prev=M_u.highlight;M_u.highlight=this.yaxisMatches(M_u,this.grabStartYAxis);}for(o8i in I62.seriesRenderers){b2A=I62.seriesRenderers[o8i];b2A.params.highlight=this.yaxisMatches(b2A,this.grabStartYAxis);for(var x4h=0;x4h < b2A.seriesParams.length;x4h++){n16=b2A.seriesParams[x4h];n16.prev=n16.highlight;n16.highlight=b2A.params.highlight;}}var {anchorHandles:b6o}=this.controls;if(b6o){for(var y$x in b6o){b6o[y$x].highlighted=!"1";}}K8J=this.markerHelper && this.markerHelper.visibleCanvasMarkers;if(K8J){for(E60=0;E60 < K8J.length;E60++){h_e=K8J[E60];this.activeMarker=null;h_e.prev=K8J[E60].highlight;h_e.highlight=!"1";}}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedDraggable=null;if(!x2e && !this.anyHighlighted && b6o){for(var h71 in b6o){w1s=b6o[h71];if(m7l.getFromNS(w1s,"sd.signalData.reveal") === ![])continue;if(!this.anyHighlighted){var {sd:D6y, currentPixel:S9C}=w1s;b7C.o5K(8);L3t=b7C.f$g(S9C,A7h);b7C.E2X(0);E2c=b7C.b3H(A7h,S9C);L$D=this.panels[D6y.panel];var {top:b5S, bottom:e9H}=L$D.yAxis;p0V=m7l.boxIntersects(L3t,b5S,E2c,e9H,U2C,e3d,U2C,e3d);if(p0V){this.anyHighlighted=!"";w1s.highlighted=!![];R40=!"";V8W={message:D6y.name,type:"anchorHandle",noDelete:!![]};continue;}}if(w1s.highlighted === !""){w1s.highlighted=!!0;R40=!![];}}}if(!x2e && !this.anyHighlighted && I62.dataSegment){t0u=this.barFromPixel(U2C);if(t0u >= 0 && t0u < I62.dataSegment.length){B3X=m7l.convertBoxToPixels(this,this.currentPanel.name,L1x);j$u=Number.MAX_VALUE;if(K8J){for(E60=0;E60 < K8J.length;E60++){h_e=K8J[E60];T_E=h_e.params.box;if(!T_E)continue;if(h_e.params.panelName !== this.currentPanel.name)continue;if(m7l.boxIntersects(B3X.x0,B3X.y0,B3X.x1,B3X.y1,T_E.x0,T_E.y0,T_E.x1,T_E.y1)){b7C.E2X(0);var r9Y=b7C.b3H(2,0);b7C.E2X(56);var v4U=b7C.f$g(17,19);b7C.o5K(7);var c5a=b7C.f$g(2,2,4,32);b7C.E2X(12);var H3K=b7C.b3H(117,17,7);e8a=Math.pow(e3d - (T_E.y1 + T_E.y0) / r9Y,v4U) + Math.pow(U2C - (T_E.x1 + T_E.x0) / c5a,H3K);if(e8a <= j$u){j$u=e8a;this.activeMarker=h_e;}h_e.highlight=!!1;this.markerHelper.highlighted.push(h_e);}if(h_e.prev != h_e.highlight){R40=!!1;}}}j$u=Number.MAX_VALUE;k_D=null;for(o8i in this.overlays){if(K8J && this.markerHelper.highlighted.length)break;M_u=this.overlays[o8i];if(M_u.signalData && !M_u.signalData.reveal)continue;if(M_u.panel != this.currentPanel.name)continue;if(M_u.study.isHighlighted === !({}))continue;else if(typeof M_u.study.isHighlighted == "function"){if(M_u.study.isHighlighted(this,U2C,e3d)){k_D={o:M_u,out:n45};j$u=0;break;}continue;}R$e=I62.dataSegment[t0u];if(!R$e)continue;for(var n45 in M_u.outputMap){K2K=X3a.call(this,t0u,L1x,n45,M_u.getYAxis(this));if(K2K !== !1 && K2K <= j$u){k_D={o:M_u,out:n45};j$u=K2K;}}}for(o8i in I62.seriesRenderers){if(this.highlightedDataSetField)break;z$Q=I62.seriesRenderers[o8i];q6u=z$Q.params.panel;if(z$Q == this.mainSeriesRenderer)continue;if(!z$Q.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(q6u != this.currentPanel.name)continue;for(E60=0;E60 < z$Q.seriesParams.length;E60++){j_i="-";j_i+="-";j_i+=">";y2q="Cl";y2q+="o";y2q+="se";n16=z$Q.seriesParams[E60];D5f=n16.field;if(!D5f && !z$Q.highLowBars){D5f=this.defaultPlotField || y2q;}if(n16.symbol && n16.subField){D5f+=j_i + n16.subField;}X2p=z$Q.params.yAxis;if(!X2p && q6u){X2p=this.panels[q6u].yAxis;}if(z$Q.params.step && t0u > +"0"){if(!z$Q.caches[n16.id])continue;B2o=z$Q.caches[n16.id][t0u];if(!B2o && B2o !== 0)continue;b7C.E2X(8);H2s=z$Q.caches[n16.id][b7C.f$g(t0u,1)];if((H2s || H2s === 0) && e3d + A7h >= B2o && e3d - A7h <= H2s || e3d - A7h <= B2o && e3d + A7h >= H2s){k_D={s:n16,fullField:D5f};break;}}else {C0T=X3a.call(this,t0u,L1x,D5f,X2p,z$Q,n16.id);if(C0T !== !!0 && C0T <= j$u){k_D={s:n16,fullField:D5f};j$u=C0T;}}}}if(k_D){M_u=k_D.o;if(M_u){if(M_u.name != M_u.panel){this.anyHighlighted=!![];}M_u.highlight=k_D.out;this.highlightedDataSetField=k_D.out;}else {this.anyHighlighted=!!({});k_D.s.highlight=!![];this.highlightedDataSetField=k_D.fullField;}}}}k_X=this.preferences.dragging;function X3a(F1s,d76,d7p,x6H,D9S,C1H){var g7Q,l6E,a8d,o3P,L6_,C1K,x6j,X5d,D2a,z62,N2Y,F99,B9B,c$t,Z6p,G1S,n$1,e31,q3v,N_I,q7s,r$H,z_5,B4t,M6_,Q5$,n92;g7Q="segm";g7Q+="ent";l6E=this;a8d=l6E.chart;o3P=l6E.currentPanel;function x03(z0w){var Q84;if(!z0w){return null;}Q84=z0w[C1K];if(Q84 && (Q84[x6j] || Q84[x6j] === +"0")){Q84=Q84[x6j];}if(D9S && D9S.getBasis){Q84+=D9S.getBasis(z0w,C1K,x6j);}if(!a8d.transformFunc || x6H != a8d.yAxis){return Q84;}else if(z0w.transform && (C1K in z0w.transform)){Q84=z0w.transform[C1K];if(Q84 && (Q84[x6j] || Q84[x6j] === 0)){Q84=Q84[x6j];}return Q84;}return a8d.transformFunc(l6E,a8d,Q84);}if(!x6H){x6H=o3P.yAxis;}L6_=d7p.split("-->");C1K=L6_[+"0"];x6j=L6_[1];if(!x6j){x6j="Close";}X5d=a8d.dataSegment[t0u];c$t=null;Z6p=null;G1S=null;n$1=new Array(3);e31=D9S && D9S.caches[C1H];if(X5d && e31){N2Y=e31[t0u];q3v=550132784;N_I=48119723;q7s=2;for(var v45=1;b7C.E56(v45.toString(),v45.toString().length,67446) !== q3v;v45++){c$t=X5d.tick;if(N2Y && N2Y != 5){n$1[+"5"]=4;}q7s+=+"2";}if(b7C.O8J(q7s.toString(),q7s.toString().length,30296) !== N_I){c$t=X5d.tick;if(N2Y || N2Y === 0){n$1[0]=1;}}for(r$H=t0u - 1;r$H >= 0;r$H--){if(e31[r$H] || e31[r$H] === +"0"){F99=e31[r$H];b7C.o5K(99);Z6p=b7C.b3H(r$H,t0u,c$t);n$1[+"1"]=1;break;}}for(r$H=t0u + 1;r$H < a8d.dataSegment.length;r$H++){if(e31[r$H] || e31[r$H] === 0){B9B=e31[r$H];b7C.o5K(99);G1S=b7C.f$g(r$H,t0u,c$t);n$1[2]=1;break;}}}if(Z6p === null){D2a=l6E.getPreviousBar.call(l6E,a8d,d7p,t0u);if(D2a){Z6p=D2a.tick;F99=x03(D2a);}}if(G1S === null){z62=l6E.getNextBar.call(l6E,a8d,d7p,t0u);if(z62){G1S=z62.tick;B9B=x03(z62);}}if(Z6p === null && G1S === null){return !({});}if(!e31){N2Y=x03(X5d);F99=x03(D2a);B9B=x03(z62);c$t=X5d.tick;if(D2a){Z6p=D2a.tick;}if(z62){G1S=z62.tick;}}if(!F99 && F99 !== 0){F99=0;Z6p=0;}if(!B9B && B9B !== 0){if(N2Y || N2Y === 0){B9B=N2Y;n$1[2]=n$1[0];}else {B9B=F99;b7C.E2X(3);n$1[+"2"]=n$1[b7C.f$g(1,"1")];}if(C1H && a8d.series[C1H].parameters.extendToEndOfDataSet){b7C.o5K(31);var R9x=b7C.b3H(0,5,5);G1S=a8d.dataSet.length - R9x;}else {G1S=Z6p;}}if(!N2Y && N2Y !== 0){N2Y=B9B;c$t=G1S;n$1[0]=n$1[+"2"];if(F99 === "0" >> 32 && Z6p === 0){F99=N2Y;Z6p=c$t;b7C.o5K(37);n$1[b7C.f$g("1",64)]=n$1[0];}}b7C.Y7v();z_5=l6E.pixelFromTransformedValue.bind(l6E);B4t=l6E.valueFromPixel.bind(l6E);N2Y=B4t(n$1[0]?N2Y:z_5(N2Y,o3P,x6H),o3P);F99=B4t(n$1[1]?F99:z_5(F99,o3P,x6H),o3P);B9B=B4t(n$1["2" - 0]?B9B:z_5(B9B,o3P,x6H),o3P);M6_=m7l.convertBoxToPixels(l6E,o3P.name,d76);Q5$=m7l.convertBoxToPixels(l6E,o3P.name,{x0:Z6p,y0:F99,x1:c$t,y1:N2Y});n92=m7l.convertBoxToPixels(l6E,o3P.name,{x0:c$t,y0:N2Y,x1:G1S,y1:B9B});if(m7l.boxIntersects(M6_.x0,M6_.y0,M6_.x1,M6_.y1,Q5$.x0,Q5$.y0,Q5$.x1,Q5$.y1,g7Q) || m7l.boxIntersects(M6_.x0,M6_.y0,M6_.x1,M6_.y1,n92.x0,n92.y0,n92.x1,n92.y1,"segment")){return Math.min(Math.pow(e3d - (Q5$.y1 + Q5$.y0) / 2,2) + Math.pow(U2C - (Q5$.x1 + Q5$.x0) / 2,2),Math.pow(e3d - (n92.y1 + n92.y0) / ("2" | 0),"2" >> 64) + Math.pow(U2C - (n92.x1 + n92.x0) / 2,2));}return !({});}for(o8i in this.overlays){M_u=this.overlays[o8i];if(M_u.highlight){this.anyHighlighted=!"";C2J=M_u.inputs.display || M_u.name;C2J=this.translateIf(C2J);V8W={message:C2J,noDelete:M_u.permanent,noEdit:!M_u.editFunction,noText:!M_u.textFunction,type:"study"};r5R=null;if(k_X === !0 || k_X && k_X.study){if(!M_u.undraggable(this)){T7Y=M_u;}}Q5C=M_u.getYAxis(this);}if(M_u.prev != M_u.highlight){R40=!!1;}}for(o8i in I62.seriesRenderers){P3h=I62.seriesRenderers[o8i];c8z=P3h.params.yAxis?P3h.params.yAxis.textStyle:null;for(var R6x=0;R6x < P3h.seriesParams.length;R6x++){n16=P3h.seriesParams[R6x];if(P3h.params.highlightable && n16.highlight){U56="aut";U56+="o";this.anyHighlighted=!!1;p74=n16.color || c8z;if(p74 == U56){p74=this.defaultColor;}if(n16.opacity && n16.opacity !== 1){p74=m7l.hexToRgba(m7l.colorToHex(p74),parseFloat(n16.opacity));}V8W={message:n16.display || n16.symbol,backgroundColor:p74,noDelete:n16.permanent,type:"series"};r5R=null;if(k_X === !0 || k_X && k_X.series){T7Y=P3h;P3h.params.highlight=!"";}Q5C=P3h.getYAxis(this);}if(n16.prev != n16.highlight){R40=!!1;}}}for(o8i in this.plugins){n6A=this.plugins[o8i];a3s={};if(n6A.findHighlights){a3s=n6A.findHighlights(this,B00,x2e);if(a3s.somethingChanged){R40=!!({});}if(a3s.anyHighlighted){this.anyHighlighted=!![];V8W=a3s.stickyArgs || ({});}}}G89=this.whichPanel(e3d);U0c=this.whichYAxis(G89,U2C);if(!Q5C){Q5C=U0c;}if(this.currentBaseline){Q5C=this.currentBaseline.getYAxis(this);}if(Q5C){if(!Q5C.highlight){R40=!!({});}Q5C.highlight=!![];}v9t=[];for(var u$p in this.panels){v9t=v9t.concat(this.panels[u$p].yaxisLHS).concat(this.panels[u$p].yaxisRHS);}for(o8i=0;o8i < v9t.length;o8i++){if(Q5C == v9t[o8i] && !x2e)continue;if(v9t[o8i].highlight){R40=!"";}v9t[o8i].highlight=!1;}if((k_X === !"" || k_X && k_X.yaxis) && U0c && !U0c.noDraw){this.anyHighlighted=!!1;T7Y=U0c;V8W={};}if(R40){this.draw();V8W.panel=G89;if(this.anyHighlighted && !this.grabStartYAxis){V8W.panel=G89;}else {V8W={};}this.displaySticky(V8W);this.clearMeasure();if(r5R){r5R.measure();}}if(!this.anyHighlighted){this.setMeasure();}else if(this.controls.mSticky){if(V8W && V8W.positioner){V8W.positioner.call(this,this.controls.mSticky);}else {this.positionSticky(this.controls.mSticky);}}if(T7Y && G89 && !G89.noDrag){if(this.longHoldTookEffect && !this.cancelLongHold){if(T7Y.params){if(T7Y.params.dependentOf){T7Y=I62.seriesRenderers[T7Y.params.dependentOf];T7Y.params.highlight=!!1;}for(o8i in I62.seriesRenderers){if(I62.seriesRenderers[o8i].params.dependentOf == T7Y.params.name){I62.seriesRenderers[o8i].params.highlight=!![];}}}this.highlightedDraggable=T7Y;if(T7Y.getDependents){I4T=T7Y.getDependents(this,!0);for(o8i in this.overlays){M_u=this.overlays[o8i];if(I4T.indexOf(M_u) > -1){M_u.highlight=!!"1";}}}}this.container.classList.add("stx-draggable");}else {this.container.classList.remove("stx-draggable");}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};m7l.ChartEngine.prototype.rightClickHighlighted=function(){if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!0);this.runAppend("rightClickHighlighted",arguments);};m7l.ChartEngine.prototype.deleteHighlighted=function(G9g,b28,z0p){var u9Z,Q1l,p9w,Z_f,u01,u_f,e0n,h_R,H1E,T1F,s0V,H8q;if(this.runPrepend("deleteHighlighted",arguments)){return;}this.cancelTouchSingleClick=!!"1";m7l.clearCanvas(this.chart.tempCanvas,this);W99Ps.Y7v();u9Z=this.bypassRightClick === !({});if(u9Z || !this.bypassRightClick.drawing){for(var y$L=this.drawingObjects.length - 1;y$L >= +"0";y$L--){Q1l=this.drawingObjects[y$L];if(!Q1l.highlighted)continue;if(G9g){this.rightClickDrawing(Q1l,b28,z0p);}else if(!Q1l.permanent){p9w=Q1l.abort();if(!p9w){Z_f=this.exportDrawings();this.drawingObjects.splice(y$L,+"1");this.undoStamp(Z_f,this.exportDrawings());}this.changeOccurred("vector");}}}if(u9Z || !this.bypassRightClick.study){for(var K4S in this.overlays){u01=this.overlays[K4S];if((u01.overlay || u01.underlay) && u01.highlight && !u01.permanent){if(G9g || b28){this.rightClickOverlay(K4S,b28);}else {this.removeOverlay(K4S);}}}}u_f=this.currentPanel && this.currentPanel.chart;if(u_f && (u9Z || !this.bypassRightClick.series)){for(var s1m in u_f.seriesRenderers){e0n=u_f.seriesRenderers[s1m];if(e0n.params.highlightable){h_R=this.panels[e0n.params.panel];H1E=h_R && h_R.yAxis.name;for(var O17=e0n.seriesParams.length - +"1";O17 >= 0;O17--){T1F=e0n.seriesParams[O17];if((e0n.params.highlight || T1F.highlight) && !T1F.permanent){e0n.removeSeries(T1F.id);if(e0n.seriesParams.length < 1){this.removeSeriesRenderer(e0n);if(e0n.params.name == H1E){this.electNewPanelOwner(e0n.params.panel);}else {this.checkForEmptyPanel(e0n.params.panel);s0V=this.getYAxisByName(h_R,e0n.params.name);if(s0V){s0V.name=s0V.studies["0" >> 0] || s0V.renderers[1];}}}}}}}}this.draw();this.resizeChart();this.clearMeasure();H8q=this.controls.mSticky;if(H8q){H8q.style.display="none";H8q.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};m7l.ChartEngine.prototype.displayDragOK=function(B6U){var V5$=W99Ps;var O0H,V79,P2Z,d75,L7Y,v$g,z8V,i7G,d06,x7G,R22,Q$A,w0n,X3K,K_4,I_R,N1v;O0H=this;V5$.p_j();V79=this.controls.dragOk;if(V79){if(!B6U){if(!this.tapForHighlighting || !this.touching || this.anyHighlighted){this.findHighlights(this.highlightViaTap);;}}P2Z=this.highlightedDraggable;d75=P2Z && P2Z.undraggable && P2Z.undraggable(this);L7Y=this.cx;v$g=this.cy;if(!B6U){if(P2Z && !d75 && this.longHoldTookEffect && !this.cancelLongHold){z8V="stx-dra";z8V+="g-s";z8V+="er";z8V+="ies";i7G="stx-drag-a";i7G+="xis";d06="t";d06+="e";d06+="x";d06+="t";x7G=P2Z.inputs && P2Z.inputs.display || P2Z.params && (P2Z.params.display || P2Z.params.name) || P2Z.name;V79.querySelector(".field").setAttribute(d06,x7G);S$4.call(this,V79);V79.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace("stx-drag-chart",i7G);}else {this.container.classList.replace("stx-drag-chart",z8V);}}else {V79.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var Y$c in this.panels){R22="righ";R22+="t";Q$A="dr";Q$A+="opzone";w0n=this.panels[Y$c].subholder.classList;w0n.remove(Q$A);w0n.remove("all");w0n.remove("left");w0n.remove(R22);w0n.remove("top");w0n.remove("bottom");for(X3K=0;X3K < this.panels[Y$c].yaxisLHS.length;X3K++){this.panels[Y$c].yaxisLHS[X3K].dropzone=null;}for(X3K=0;X3K < this.panels[Y$c].yaxisRHS.length;X3K++){this.panels[Y$c].yaxisRHS[X3K].dropzone=null;}}}this.draw();}if(P2Z){K_4="p";K_4+="x";I_R=v$g + V79.offsetHeight;N1v=Math.max(0,L7Y - V79.offsetWidth);V5$.E2X(0);V79.style.top=V5$.f$g(K_4,I_R);V5$.E2X(0);V79.style.left=V5$.b3H("px",N1v);S$4.call(this,V79);}}function S$4(g1A){var R_w,v4f,h8E,Z0Q;R_w=".";R_w+="f";V5$.p_j();R_w+="iel";R_w+="d";v4f="a";v4f+="l";v4f+="l";h8E=O0H.translateIf(g1A.querySelector(".field").getAttribute("text"));Z0Q=O0H.whichYAxis(O0H.whichPanel(O0H.cy),O0H.cx,O0H.cy);if(Z0Q && Z0Q.dropzone == v4f){h8E+="-->" + O0H.translateIf(Z0Q.name);}g1A.querySelector(R_w).innerHTML=h8E;}};m7l.ChartEngine.prototype.displayDrawOK=function(){var d6k=W99Ps;var Z9o,y$j,M3E,F4k,U4H;Z9o=this.controls.drawOk;d6k.p_j();if(Z9o && m7l.Drawing){y$j=m7l.Drawing[this.currentVectorParameters.vectorType];if(y$j){y$j=new y$j();}if(this.highlightedDataSetField && y$j && y$j.isAllowed(this,this.highlightedDataSetField)){M3E="inline-";M3E+="block";Z9o.style.display=M3E;F4k=this.cy + Z9o.offsetHeight;U4H=this.cx - Z9o.offsetWidth;d6k.E2X(0);Z9o.style.top=d6k.b3H("px",F4k);d6k.E2X(0);Z9o.style.left=d6k.f$g("px",U4H);Z9o.querySelector(".field").innerHTML=this.translateIf(this.highlightedDataSetField);}else {Z9o.style.display="none";}}};m7l.ChartEngine.prototype.mouseWheel=function(O3u){var o14=W99Ps;var F$R,d2s,E9X,J5I,c5t,j7b,I6N,M2j;F$R="mou";F$R+="s";F$R+="eWh";F$R+="eel";if(this.runPrepend(F$R,arguments)){return;}if(O3u.preventDefault){O3u.preventDefault();}if(this.openDialog !== ""){return;}d2s=O3u.deltaX;E9X=O3u.deltaY;if(Math.abs(E9X) > Math.abs(d2s)){d2s=0;}else {E9X=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(d2s) === 0 && Math.abs(E9X) === 0){return;}if(O3u.shiftKey && E9X){d2s=E9X;E9X=0;}if(this.allowSideswipe && d2s !== 0){this.lastMove="horizontal";c5t=d2s;this.grabbingScreen=!!1;if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=m7l.ChartEngine.crosshairX;this.grabStartY=m7l.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;if(this.mouseWheelAcceleration){J5I=Math.max(Math.pow(Math.abs(c5t),0.3),"1" ^ 0);c5t*=J5I;}this.mousemoveinner(m7l.ChartEngine.crosshairX - c5t,m7l.ChartEngine.crosshairY);this.updateChartAccessories();this.grabbingScreen=!!0;return;}this.lastMove="vertical";if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayInitialized){return;}if(!E9X){if(m7l.wheelEvent == "mousewheel"){o14.E2X(100);var A23=o14.f$g(11,153,13,1,11);o14.E2X(22);var g7u=o14.b3H(12,29,23);E9X=A23 / g7u * O3u.wheelDelta;if(O3u.wheelDeltaX){o14.E2X(101);var y9C=o14.b3H(20,11,31,39,1);d2s=-("1" ^ 0) / y9C * O3u.wheelDeltaX;}}else {E9X=O3u.detail;}}if(typeof O3u.deltaMode == "undefined"){O3u.deltaMode=O3u.type == "MozMousePixelScroll"?"0" * 1:+"1";}j7b=-E9X;if(O3u.deltaMode == 1){j7b*=33;}I6N=null;M2j=null;if(this.mouseWheelAcceleration){J5I=Math.max(Math.pow(Math.abs(j7b),0.3),1);I6N=Math.max(Number.MIN_VALUE,1 - +"0.1" * J5I);o14.o5K(9);M2j=o14.f$g(1,I6N);}this.zoomInitiatedByMouseWheel=!!({});if(j7b > 0){if(this.reverseMouseWheel){this.zoomOut(null,M2j);}else {this.zoomIn(null,I6N);}}else if(j7b < 0){if(this.reverseMouseWheel){this.zoomIn(null,I6N);}else {this.zoomOut(null,M2j);}}if(this.runAppend("mouseWheel",arguments)){return;}return !({});};m7l.ChartEngine.handleContextMenu=function(d1$){var L_J,U2V;L_J=m7l.ChartEngine.registeredContainers;for(var K2i=0;K2i < L_J.length;K2i++){if(d1$.target.ownerDocument !== L_J[K2i].ownerDocument)continue;U2V=L_J[K2i].stx;if(U2V){if(U2V.anyHighlighted){if(d1$.preventDefault){d1$.preventDefault();}return !({});}}}};m7l.ChartEngine.registerGlobalEvent(i6u,m7l.ChartEngine.handleContextMenu);m7l.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;"></span>',annotationCancel:Y_u,mSticky:`
		<div class="stx_sticky">
			<span class="mStickyInterior"></span>
			<span class="mStickyRightClick">
				<span class="overlayText stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayEdit stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="overlayTrashCan stx-btn" style="display:none">
					<span>&nbsp;</span>
				</span>
				<span class="mouseDeleteInstructions">
					<span>(</span>
					<span class="mouseDeleteText">right-click to delete</span>
					<span class="mouseManageText">right-click to manage</span>
					<span>)</span>
				</span>
			</span>
			<span class="stickyLongPressText">(long-press to drag)</span>
			<span class="customInstructions">
				<span>(</span>
				<span class="dragAnchorText" type="anchorHandle">
					drag to change anchor time
				</span>
				<span>)</span>
			</span>
		</div>
	`,drawOk:'<div class="stx_draw_ok"><div class="icon"></div><div class="field"></div></div>',dragOk:'<div class="stx_drag_ok"><div class="icon"></div><div class="field"></div></div>',crossX:Y5Q,crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'};m7l.ChartEngine.prototype.registerChartControl=function(O75,I26,B08){var u2y=W99Ps;var m0M,E2S,r_p,t61,e$U;m0M=this.controls;if(!m0M || !m0M.chartControls){return;}if(m0M.chartControls.querySelector("." + O75)){return;}u2y.p_j();E2S=null;r_p=m0M.chartControls.querySelector(".stx-zoom-in");if(r_p){t61="</s";t61+="pa";t61+="n>";e$U="<span class";e$U+="=\"stx-tooltip\">";E2S=document.createElement("span");u2y.o5K(14);E2S.innerHTML=u2y.f$g(e$U,t61,I26);u2y.o5K(0);E2S.className=u2y.b3H(O75,"stx-chart-control-button ");r_p.parentNode.appendChild(E2S);if(B08){m7l.safeClickTouch(E2S,B08);}if(!m7l.touchDevice){this.makeModal(E2S);}return E2S;}};m7l.ChartEngine.prototype.zoomOut=function(r5F,d80){var B2n,f5V,V8n,F4y,F4E;B2n="z";B2n+="o";B2n+="omO";B2n+="ut";if(this.runPrepend(B2n,arguments)){return;}if(this.preferences.zoomOutSpeed){d80=this.preferences.zoomOutSpeed;}else if(!d80){W99Ps.E2X(9);d80=W99Ps.f$g(1,0.7);}if(r5F && r5F.preventDefault){r5F.preventDefault();}function L0O(x18){return function(P0$){f5V.zoomSet(P0$,x18);if(f5V.animations.zoom.hasCompleted){if(f5V.runAppend("zoomOut",arguments)){return;}f5V.changeOccurred("layout");if(f5V.continuousZoom){f5V.continuousZoom.execute(!![]);}}};}this.cancelTouchSingleClick=!0;f5V=this;for(var i7Z in this.charts){V8n=this.charts[i7Z];F4y=V8n.width * d80 / this.layout.candleWidth;if(V8n.allowScrollFuture === !"1" && V8n.allowScrollPast === !!"" && F4y > V8n.dataSet.length){F4y=V8n.dataSet.length;}F4E=this.chart.width / F4y;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(L0O(V8n),this.layout.candleWidth,F4E);}};m7l.ChartEngine.prototype.zoomIn=function(Z$P,D0W){var f7L,f4$,j$g,w80,U2r;f7L="zoom";function f0U(R7L){return function(Z4E){W99Ps.Y7v();f4$.zoomSet(Z4E,R7L);if(f4$.animations.zoom.hasCompleted){if(f4$.runAppend("zoomIn",arguments)){return;}f4$.changeOccurred("layout");if(f4$.continuousZoom){f4$.continuousZoom.execute();}}};}f7L+="In";if(this.runPrepend(f7L,arguments)){return;}if(this.preferences.zoomInSpeed){D0W=this.preferences.zoomInSpeed;}else if(!D0W){D0W=0.7;}if(Z$P && Z$P.preventDefault){Z$P.preventDefault();}this.cancelTouchSingleClick=!![];f4$=this;for(var H_n in this.charts){j$g=this.charts[H_n];w80=j$g.width * D0W / this.layout.candleWidth;if(j$g.maxTicks - w80 < 1){w80=j$g.maxTicks - ("1" - 0);}if(w80 < this.minimumZoomTicks){w80=this.minimumZoomTicks;}U2r=this.chart.width / w80;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(f0U(j$g),this.layout.candleWidth,U2r);}};m7l.ChartEngine.prototype.createCrosshairs=function(){var l7c,Q8D;if(this.runPrepend("createCrosshairs",arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer && this.mainSeriesRenderer.nonInteractive){return;}l7c=this.controls.crossX;Q8D=this.controls.crossY;if(l7c){if(!l7c.onmousedown){l7c.onmousedown=function(l5A){var z3d=W99Ps;var D6z,l9e,Z4M;z3d.E2X(2);D6z=-z3d.b3H(18,"1922240287");l9e=-+"216142432";Z4M=+"2";for(var h0k=+"1";z3d.E56(h0k.toString(),h0k.toString().length,96806) !== D6z;h0k++){if(l5A.preventDefault){l5A.preventDefault();}Z4M+=2;}if(z3d.O8J(Z4M.toString(),Z4M.toString().length,"29936" | 0) !== l9e){if(l5A.preventDefault){l5A.preventDefault();}}if(l5A.preventDefault){l5A.preventDefault();}return !!"";};}}if(Q8D){if(!Q8D.onmousedown){Q8D.onmousedown=function(W$B){if(W$B.preventDefault){W$B.preventDefault();}return !({});};}}this.runAppend("createCrosshairs",arguments);};p3M=![];m7l.ChartEngine.prototype.mousemoveinner=m7l.ChartEngine.prototype.mousemoveinner || (function(z_T,h5h){W99Ps.Y7v();if(!p3M){console.error("interaction feature requires activating movement feature.");}p3M=!![];});};g=W57=>{var z3Q,l_Y;z3Q="undefi";z3Q+="ned";l_Y=typeof _CIQ !== z3Q?_CIQ:W57.CIQ;if(!l_Y.Marker){l_Y.ChartEngine.helpersToRegister.push(function(x6y){W99Ps.p_j();x6y.markerHelper={chartMap:{},classMap:{},domMarkers:[],visibleCanvasMarkers:[],highlighted:[],placementMap:{}};});l_Y.ChartEngine.prototype.addToHolder=function(q25){var V64,l7H,R3o,c76;V64=this.panels[q25.params.panelName];if(!V64){return;}l7H=q25.params;R3o=q25.node;c76=q25.stxNodeCreator;if(c76 && c76.prepareForHolder){R3o=c76.prepareForHolder(q25);}if(l7H.chartContainer){this.container.appendChild(q25.node);}else if(l7H.includeAxis){V64.holder.appendChild(q25.node);}else {V64.subholder.appendChild(R3o);}q25.chart=V64.chart;if(c76 && c76.addToHolder){c76.addToHolder(q25);}if(c76 && c76.expand){l_Y.Marker.initializeScrollBehavior(c76);}};l_Y.ChartEngine.prototype.getMarkerArray=function(I99,Q4U){var b3t,U6_,n38;W99Ps.p_j();b3t=[];for(var n$j in this.markers){for(var m6T=0;m6T < this.markers[n$j].length;m6T++){U6_="a";U6_+="l";U6_+="l";n38=this.markers[n$j][m6T];if(I99 == "panelName"){if(n38.params.panelName == Q4U){b3t.push(n38);}}else if(I99 == "label"){if(n$j == Q4U){b3t.push(n38);}}else if(I99 == U6_){b3t.push(n38);}}}return b3t;};l_Y.ChartEngine.prototype.removeFromHolder=function(w8b){W99Ps.Y7v();var R23,t6_,T6j,y_6,F1u,j0W;R23=this.panels[w8b.params.panelName];if(R23){if(w8b.node.parentNode == R23.holder){R23.holder.removeChild(w8b.node);}else if(w8b.node.parentNode == R23.subholder){R23.subholder.removeChild(w8b.node);}else if(w8b.node.parentNode == this.container){this.container.removeChild(w8b.node);}}t6_=this.markers[w8b.params.label];if(!t6_){return;}for(T6j=+"0";T6j < t6_.length;T6j++){if(t6_[T6j] === w8b){t6_.splice(T6j,1);break;}}y_6=this.markerHelper.chartMap[w8b.chart.name];if(y_6){for(T6j=0;T6j < y_6.markers.length;T6j++){if(y_6.markers[T6j] === w8b){y_6.markers.splice(T6j,1);break;}}}F1u=this.markerHelper.classMap[w8b.className];if(F1u){j0W=F1u[w8b.params.panelName];if(j0W){for(T6j=0;T6j < j0W.length;T6j++){if(j0W[T6j] === w8b){j0W.splice(T6j,1);break;}}}}};l_Y.ChartEngine.prototype.moveMarkers=function(J9m,I9M){var P98,C0p;P98=this.getMarkerArray("panelName",J9m);for(var P9s=0;P9s < P98.length;P9s++){P98[P9s].params.panelName=I9M;}for(var p3z in this.markerHelper.classMap){C0p=this.markerHelper.classMap[p3z][J9m];if(C0p){this.markerHelper.classMap[p3z][I9M]=C0p;delete this.markerHelper.classMap[p3z][J9m];}}};l_Y.ChartEngine.prototype.establishMarkerTicks=function(){var q4V,w99;q4V=this.markerHelper.chartMap;for(var X2u in q4V){w99=q4V[X2u];for(var j7k=0;j7k < w99.markers.length;j7k++){this.setMarkerTick(w99.markers[j7k]);}}};l_Y.ChartEngine.prototype.futureTickIfDisplayed=function(A5a){var k$i=W99Ps;var v4F,f7B,o8a,Q2h,Q7n,j0J,Z8q,f77,D_m;v4F=A5a.chart;if(v4F.dataSet.length < 1){return;}f7B=v4F.xaxis[v4F.xaxis.length - 1].DT;k$i.o5K(102);var B15=k$i.f$g(13,839924,14,15,59995);k$i.Y7v();f7B=new Date(f7B.getTime() - this.timeZoneOffset * B15);if(A5a.params.x > f7B){return;}o8a=v4F.maxTicks - v4F.dataSegment.length;Q2h=v4F.dataSet.length + o8a;Z8q=new Date(+v4F.dataSet[v4F.dataSet.length - 1].DT);f77=this.standardMarketIterator(Z8q,null,v4F);D_m=A5a.params.x.getTime();for(var J9z=v4F.dataSet.length;J9z < Q2h;J9z++){Q7n=Z8q.getTime();Z8q=f77.next();j0J=Z8q.getTime();if(j0J == D_m){A5a.tick=J9z;return;}else if(j0J > D_m && Q7n < D_m){k$i.E2X(8);A5a.tick=Math.max(k$i.b3H(J9z,1),0);return;}}};l_Y.ChartEngine.prototype.setMarkerTick=function(P4j){var n7p=W99Ps;var K5d,n2F,Y6h,I3w,V3V,O2d,G72,J4s,y7D,S31;K5d="d";K5d+="a";K5d+="t";K5d+="e";n2F=P4j.chart;if(P4j.params.xPositioner == "master" && P4j.params.x){Y6h=237454603;I3w=2945697;V3V=2;for(var h4m=1;n7p.E56(h4m.toString(),h4m.toString().length,10164) !== Y6h;h4m++){P4j.tick=Math.floor(P4j.params.x / this.layout.periodicity);V3V+=2;}if(n7p.O8J(V3V.toString(),V3V.toString().length,46646) !== I3w){P4j.tick=Math.floor(P4j.params.x - this.layout.periodicity);}}else if(P4j.params.xPositioner == "tick" && P4j.params.x){P4j.tick=P4j.params.x;}else if(P4j.params.xPositioner == K5d && P4j.params.x){J4s=P4j.params.x.getTime();for(var l_F=0;l_F < n2F.dataSet.length;l_F++){y7D=n2F.dataSet[l_F];G72=y7D.DT.getTime();O2d=G72;if(l_F > 0){O2d=n2F.dataSet[l_F - ("1" ^ 0)].DT.getTime();}if(G72 == J4s){P4j.tick=l_F;return;}else if(G72 > J4s && O2d < J4s){n7p.o5K(8);P4j.tick=Math.max(n7p.b3H(l_F,1),0);return;}else if(J4s < G72){P4j.tick=null;return;}}if(n2F.dataSet.length < 1){return;}S31=new Date(+n2F.dataSet[l_F - 1].DT);if(S31.getTime() < J4s){P4j.params.future=!![];}P4j.tick=null;;}};l_Y.ChartEngine.prototype.positionMarkers=function(){var C8E,G9O,W2t,S$t,O7b,J7h,b1j;C8E=this;G9O=this.chart;W99Ps.p_j();if(!C8E.markerHelper){return;}this.markerHelper.placementMap={};if(this.markerDelay || this.markerDelay === 0){if(!this.markerTimeout){this.markerTimeout=setTimeout(B6T,this.markerDelay);}}else {B6T();}W2t=this.getFirstLastDataRecord(G9O.dataSegment,"tick");S$t=this.getFirstLastDataRecord(G9O.dataSegment,"tick",!0);if(!W2t || !S$t){return;}function B6T(){var L0p,C8S,Y6M,F6e;W99Ps.p_j();if(C8E.runPrepend("positionMarkers",arguments)){return;}C8E.markerTimeout=null;for(var T1k in C8E.markerHelper.classMap){for(var d7Q in C8E.markerHelper.classMap[T1k]){L0p=C8E.markerHelper.classMap[T1k][d7Q];C8S=C8E.panels[d7Q];if(L0p.length){Y6M={stx:C8E,arr:L0p,panel:C8S};Y6M.firstTick=C8S.chart.dataSet.length - C8S.chart.scroll;Y6M.lastTick=Y6M.firstTick + C8S.chart.dataSegment.length;F6e=L0p[0].constructor.placementFunction;if(F6e){F6e(Y6M);}else {C8E.defaultMarkerPlacement(Y6M);}}}}C8E.runAppend("positionMarkers",arguments);}O7b=this.getMarkerArray("all");this.markerHelper.visibleCanvasMarkers=[];for(var q1H=0;q1H < O7b.length;q1H++){J7h=O7b[q1H];b1j=J7h.stxNodeCreator;if(W2t.tick <= J7h.tick && J7h.tick <= S$t.tick){this.markerHelper.visibleCanvasMarkers.push(J7h);if(b1j && b1j.drawMarker){b1j.drawMarker(J7h);}}else {J7h.highlight=!({});J7h.params.box=null;if(J7h.attached && b1j && b1j.expand){b1j.expand.style.visibility="hidden";}}}};l_Y.Marker=l_Y.Marker || (function(e4D){var T3c,G6S,n3Y,q7t,s23,b5t,n6s,u1Y,d_g,F2s,A1Q;T3c="CIQ";T3c+=".Marker";G6S="g";G6S+="ene";G6S+="ri";G6S+="c";n3Y="c";n3Y+="hart";q7t="d";q7t+="ate";s23=this instanceof l_Y.Marker?this:Object.create(l_Y.Marker.prototype);s23.params={xPositioner:q7t,yPositioner:"value",panelName:n3Y,permanent:!1,label:G6S,includeAxis:![]};l_Y.extend(s23.params,e4D);if(!s23.params.node){b5t="D";b5t+="I";b5t+="V";s23.params.node=document.createElement(b5t);}n6s=s23.params.stx;if(!n6s){console.log("Marker created without specifying stx");return;}if(!s23.className){s23.className=T3c;}if(l_Y.derivedFrom(s23.params.node,l_Y.Marker.NodeCreator)){s23.stxNodeCreator=s23.params.node;s23.node=s23.stxNodeCreator.node;}else {s23.node=s23.params.node;}u1Y=s23.params.label;if(!n6s.markers[u1Y]){n6s.markers[u1Y]=[];}n6s.markers[u1Y].push(s23);d_g=n6s.panels[s23.params.panelName];s23.chart=d_g.chart;if(!n6s.markerHelper.chartMap[s23.chart.name]){n6s.markerHelper.chartMap[s23.chart.name]={markers:[]};}n6s.markerHelper.chartMap[s23.chart.name].markers.push(s23);F2s=n6s.markerHelper.classMap[s23.className];if(!F2s){F2s=n6s.markerHelper.classMap[s23.className]={};}if(!F2s[s23.params.panelName]){F2s[s23.params.panelName]=[];}F2s[s23.params.panelName].push(s23);A1Q=s23.stxNodeCreator && s23.stxNodeCreator.deferAttach;if(!A1Q){n6s.addToHolder(s23);}n6s.setMarkerTick(s23);if(s23.stxNodeCreator && s23.stxNodeCreator.drawMarker){s23.stxNodeCreator.drawMarker(s23);}return s23;});l_Y.Marker.prototype.remove=function(){W99Ps.p_j();this.params.stx.removeFromHolder(this);if(this.stxNodeCreator && this.stxNodeCreator.remove){this.stxNodeCreator.remove(this);}};l_Y.Marker.prototype.click=function(i5C){W99Ps.Y7v();var F1V;if(typeof arguments[0] === "number"){i5C={cx:arguments[+"0"],cy:arguments["1" << 64],panel:arguments[3]};}var {cx:F22, cy:J$k, panel:J4Y}=i5C;if(!this.params.stx){return;}F1V=this.params.node;if(F1V.click){F1V.click(F22,J$k,this,J4Y);}};l_Y.Marker.prototype.doubleClick=function({cx:X5U, cy:K5Z, panel:R_W}){W99Ps.Y7v();return !"1";};l_Y.Marker.prototype.render=function(){var f7H,S3D;f7H=[this];S3D={stx:this.params.stx,arr:f7H,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(S3D);};l_Y.Marker.removeByLabel=function(h8D,o6U){var b8Y,G0Y;b8Y=h8D.getMarkerArray("label",o6U);for(var s5T=0;s5T < b8Y.length;s5T++){G0Y=b8Y[s5T];h8D.removeFromHolder(G0Y);if(G0Y.stxNodeCreator && G0Y.stxNodeCreator.remove){G0Y.stxNodeCreator.remove(G0Y);}}h8D.draw();};l_Y.Marker.positionContentVerticalAndHorizontal=function(K69,Y_E){var p_J=W99Ps;var j1o,h4K,x9G,d$t,p1L,K4u,B4Y,Y6O,P7F,W_8,L4K,u5Y,P1w;j1o=".stx-marker-ex";j1o+="pand";h4K=K69.querySelector(j1o);if(!(Y_E || h4K && h4K.isConnected && l_Y.trulyVisible(h4K))){return;}x9G=h4K.offsetHeight;d$t=h4K.style;d$t.left=d$t.right="";d$t.bottom=d$t.top="";p1L=getComputedStyle(h4K);K4u=p1L.left;B4Y=p1L.bottom;p_J.E2X(68);var o4r=p_J.f$g(14,10,30,80,15);Y6O=K69.offsetLeft + parseInt(K4u,o4r);P7F=parseInt(B4Y,10);W_8=K69.offsetTop - (P7F + x9G - K69.offsetHeight);L4K=K69.parentNode.offsetWidth;u5Y=K69.parentNode.offsetHeight;if(Y6O + h4K.offsetWidth > L4K){d$t.right=K4u;d$t.left="auto";}if(K69.offsetTop <= u5Y){if(W_8 > u5Y - x9G){d$t.top=u5Y - K69.offsetTop - x9G + "px";d$t.bottom="auto";}}else {p_J.o5K(0);d$t.top=p_J.b3H("px",u5Y);}if(K69.offsetTop + K69.offsetHeight >= 0){if(W_8 < 0){P1w="p";P1w+="x";d$t.top=-K69.offsetTop + P1w;d$t.bottom="auto";}}else {d$t.bottom="0px";}};l_Y.Marker.initializeScrollBehavior=function(c3r){var C5f;C5f=".";C5f+="m";C5f+="arker_c";C5f+="ontent";var {expand:o7B}=c3r;if(!o7B || o7B.scrollInitialized){return;}if(!o7B.querySelector(C5f)){o7B.innerHTML='<div class="marker_content">' + o7B.innerHTML + "</div>";}o7B.addEventListener(l_Y.wheelEvent,A_8=>{return A_8.stopPropagation();},{passive:!!""});o7B.addEventListener("touchmove",R9$=>{W99Ps.p_j();return R9$.stopPropagation();},{passive:![]});var {scrollbarStyling:s$b}=l_Y.UI || ({});if(s$b){s$b.refresh(o7B);}else {o7B.style.overflowY="scroll";}o7B.scrollInitialized=!!1;};l_Y.ChartEngine.prototype.getBarBounds=function(b4A,w4c){var X1R,j5p,d2b,A4P,V6b,J3O;X1R=this.layout.chartType;j5p=this.layout.aggregationType;if(!w4c && j5p == "pandf"){d2b={high:Math.max(b4A.pfOpen,b4A.pfClose),low:Math.min(b4A.pfOpen,b4A.pfClose)};}else {d2b={high:b4A.High,low:b4A.Low};}if(b4A.markerHigh){d2b.high=b4A.markerHigh;}if(b4A.markerLow){d2b.low=b4A.markerLow;}if(b4A.Open === undefined){A4P=b4A.Close;}if(b4A.High === undefined){V6b=Math.max(b4A.Open || A4P,b4A.Close);}if(b4A.Low === undefined){J3O=Math.min(b4A.Open || A4P,b4A.Close);}if(!d2b.high && d2b.high !== 0){d2b.high=V6b;}if(!d2b.low && d2b.low !== 0){d2b.low=J3O;}return d2b;};l_Y.ChartEngine.prototype.defaultMarkerPlacement=function(P54){var h_u=W99Ps;var r8f,G4O,b9V,o2z,w0k,U27,a83,b4W,i_0,S06,o5O,o73,K3K,o_3,E4u,e9Q,m9A,a7r,A2l,g8G,S3U,q3T,r7L,k4t,J5j,i$A,o6n,S_l,a0U,l4a,J5L,N3M,m9j,j3x,p9T,j_B,N5q,t0s;r8f=P54.panel;G4O=r8f.chart;b9V=P54.stx;o2z=b9V.chart.highLowBars;w0k=G4O.defaultPlotField;if(!w0k || o2z){w0k="Close";}h_u.p_j();for(var C7L=0;C7L < P54.arr.length;C7L++){U27="a";U27+="u";U27+="t";U27+="o";a83=P54.arr[C7L];b4W=a83.params;if(a83.params.box)continue;i_0=a83.node;if(!a83.clientWidth){a83.clientWidth=i_0.clientWidth;}if(!a83.clientHeight){a83.clientHeight=i_0.clientHeight;}S06=null;o5O=b4W.xPositioner;o73=b4W.yPositioner;K3K=b4W.yAxis || r8f.yAxis;o_3=b4W.field;E4u=a83.tick;e9Q=G4O.dataSet;m9A=a83.clientWidth;if(o5O != "none"){if(o5O == "bar" && b4W.x){if(b4W.x < G4O.xaxis.length){a7r=G4O.xaxis[b4W.x];if(a7r){S06=a7r.data;}}h_u.E2X(103);var w45=h_u.b3H(0,11,5,8);h_u.o5K(62);var k$d=h_u.f$g(9,15,14,20,9);i_0.style.left=Math.round(b9V.pixelFromBar(b4W.x,G4O) - m9A / w45) + k$d + "px";}else {if(!E4u && E4u !== 0){if(b4W.future && G4O.scroll < G4O.maxTicks){b9V.futureTickIfDisplayed(a83);E4u=a83.tick;if(!E4u && E4u !== 0){i_0.style.left="-1000px";continue;}}else {A2l="-";A2l+="100";A2l+="0px";i_0.style.left=A2l;continue;}}if(E4u < e9Q.length){S06=e9Q[E4u];}a83.leftpx=Math.round(b9V.pixelFromTick(E4u,G4O) - G4O.left - m9A / +"2");a83.rightEdge=a83.leftpx + m9A;i_0.style.left=a83.leftpx + "px";if(E4u < P54.firstTick && a83.rightEdge < G4O.left - 50)continue;;}if(!S06){S06=e9Q[e9Q.length - +"1"];};}else if(o73.indexOf("candle") > -1){g8G=getComputedStyle(i_0).left;if(g8G){S3U=b9V.barFromPixel(parseInt(g8G,10),G4O);if(S3U >= 0){S06=G4O.xaxis[S3U].data;if(!S06){h_u.E2X(8);var E21=h_u.b3H(13,12);S06=e9Q[e9Q.length - E21];};}}}i_0.style.top=U27;q3T=b4W.y;r7L=a83.clientHeight;J5j=0;if(o73 != "none"){i$A="be";i$A+="l";i$A+="o";i$A+="w_candle";o6n="v";o6n+="alue";S_l="nu";S_l+="mbe";S_l+="r";h_u.E2X(104);var j0o=h_u.f$g(6,39,13,15);a0U=o73.indexOf("_lane") > j0o;l4a=b9V.markerHelper.placementMap;h_u.o5K(105);var S$u=h_u.b3H(1414,3,9891,9898);h_u.o5K(22);var m3q=h_u.b3H(6,1325,17);h_u.E2X(106);var G$L=h_u.f$g(20,14,95562,7353);h_u.E2X(54);var P5H=h_u.b3H(20,4,3833,1146056,15);h_u.E2X(12);var w3d=h_u.b3H(39035,15,2787);h_u.o5K(107);var B9v=h_u.f$g(9,899,7,1,6);h_u.o5K(0);var R9g=h_u.f$g(11,2379);h_u.o5K(23);var s_L=h_u.f$g(36544,9,27386,13);J5L=o73 + ((S$u,m3q) > (187.63,+"7883")?G$L == (P5H,w3d)?B9v:R9g <= s_L?!({}):"E":"|") + r8f.name;if(a0U && typeof l4a[J5L] == "undefined"){l4a[J5L]=2;}h_u.E2X(72);var Q$C=h_u.f$g(9713,9713,9699);h_u.o5K(12);var v3o=h_u.f$g(38491,9,4809);N3M=J5L + (Q$C == 466.76?v3o:"-") + (a0U?a83.params.label:i_0.style.left);m9j=b4W.chartContainer?b9V.height:r8f.yAxis.bottom;j3x=0;if(typeof l4a[N3M] == "undefined"){l4a[N3M]=a0U?l4a[J5L]:0;h_u.o5K(0);l4a[J5L]+=h_u.b3H(2,r7L);}J5j=l4a[N3M];if(!a0U){l4a[N3M]+=r7L;}if(S06 && o_3){S06=S06[o_3];}if(typeof S06 === S_l){S06={Close:S06};S06[w0k]=S06.Close;o2z=!1;}if(o73 == o6n && (q3T || q3T === 0)){p9T="p";p9T+="x";h_u.o5K(108);var T$A=h_u.b3H(14,0,3,138,13);j3x=Math.round(m9j - b9V.pixelFromPrice(q3T,r8f,K3K) - r7L / T$A) + p9T;}else if((o73 == i$A || o73 == "under_candle") && S06){k4t=S06[w0k];if(o2z){k4t=b9V.getBarBounds(S06,!!o_3)[K3K.flipped?"high":"low"];}j3x=Math.round(m9j - b9V.pixelFromPrice(k4t,r8f,K3K) - r7L - J5j) + "px";}else if(o73 == "on_candle" && S06){k4t=S06[w0k];if(o2z){k4t=b9V.getBarBounds(S06,!!o_3);h_u.o5K(109);var g_s=h_u.f$g(11,5,73,12);k4t=(k4t.high + k4t.low) / g_s;}h_u.o5K(102);var z7u=h_u.b3H(13,396,15,20,20);j3x=Math.round(m9j - b9V.pixelFromPrice(k4t,r8f,K3K) - r7L / z7u - J5j) + "px";}else if(o73 == "top" || o73 == "top_lane"){j3x=Math.round(m9j - r7L - J5j - r8f.top) + "px";}else if(o73 == "bottom" || o73 == "bottom_lane"){j3x=Math.round(J5j) + "px";}else if(S06){j_B="p";j_B+="x";N5q="h";N5q+="i";N5q+="gh";t0s="l";t0s+="o";t0s+="w";k4t=S06[w0k];if(o2z){k4t=b9V.getBarBounds(S06,!!o_3)[K3K.flipped?t0s:N5q];}j3x=Math.round(m9j - b9V.pixelFromPrice(k4t,r8f,K3K) + J5j) + j_B;}if(i_0.style.bottom != j3x){i_0.style.bottom=j3x;}}l_Y.Marker.positionContentVerticalAndHorizontal(i_0);}};l_Y.Marker.NodeCreator=function(){};l_Y.Marker.NodeCreator.toNode=function(){W99Ps.Y7v();return this.node;};l_Y.Marker.Simple=function(I9T){var f3W,B4j,o8o,y7c,B82,O_6,K2D,c0W;f3W="d";f3W+="i";f3W+="v";B4j=this.node=document.createElement("div");B4j.className="stx-marker";B4j.classList.add(I9T.type);if(I9T.category){B4j.classList.add(I9T.category);}o8o=l_Y.newChild(B4j,"div","stx-visual");l_Y.newChild(B4j,f3W,"stx-stem");if(I9T.type == "callout"){B82="stx-marker-ex";B82+="pan";B82+="d";O_6="d";O_6+="i";O_6+="v";K2D=l_Y.newChild(o8o,O_6,"stx-marker-content");l_Y.newChild(K2D,"h4",null,I9T.headline);y7c=l_Y.newChild(K2D,"div",B82);l_Y.newChild(y7c,"p",null,I9T.story);}else {c0W="h";c0W+="4";y7c=l_Y.newChild(B4j,"div","stx-marker-expand");l_Y.newChild(y7c,c0W,null,I9T.headline);l_Y.newChild(y7c,"p",null,I9T.story);l_Y.safeClickTouch(y7c,function(i8q){var j8F;j8F="hi";W99Ps.p_j();j8F+="ghlight";B4j.classList.toggle(j8F);});}l_Y.safeClickTouch(o8o,function(z2v){B4j.classList.toggle("highlight");W99Ps.p_j();l_Y.Marker.positionContentVerticalAndHorizontal(B4j,!![]);});this.nodeType="Simple";this.expand=y7c;};l_Y.inheritsFrom(l_Y.Marker.Simple,l_Y.Marker.NodeCreator,!({}));}};D=U4L=>{var r9B=W99Ps;var x3y,w$8,m5S,p2h,Z$i,e04,V2B,N2H,y39;x3y="u";x3y+="ndefined";w$8=typeof _CIQ !== x3y?_CIQ:U4L.CIQ;m5S=typeof _timezoneJS !== "undefined"?_timezoneJS:U4L.timezoneJS;p2h=60000 * +"60";Z$i=p2h * 24;e04=!0;V2B=w$8.Market;w$8.Market=function(V99){var t26;this.market_def=!1;this.rules=!1;this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!m5S.Date){this.tz_lib=Date;;}else {this.tz_lib=m5S.Date;}this.market_tz="";this.hour_aligned=!"1";this.convertOnDaily=!!0;this.enabled_by_default=!({});if(typeof V99 != "undefined" && V99 && !w$8.isEmpty(V99)){t26="und";t26+="efined";if(V99.market_definition){V99=V99.market_definition;}if(V99.rules){this.rules=V99.rules;}if(V99.market_tz){this.market_tz=V99.market_tz;}if(V99.convertOnDaily){this.convertOnDaily=V99.convertOnDaily;}if(typeof V99.hour_aligned){this.hour_aligned=V99.hour_aligned;}if(typeof V99.beginningDayOfWeek !== t26){this.beginningDayOfWeek=V99.beginningDayOfWeek;}if(typeof V99.minimum_session_length !== "undefined"){this.minimumSessionLength=V99.minimum_session_length;}if(typeof V99.enabled_by_default !== "undefined"){if(V99.enabled_by_default instanceof Array){this.enabled_by_default=V99.enabled_by_default;}}this.market_def=V99;if(this.market_def.name === undefined){this.market_def.name="no market name specified";}}else {this.hour_aligned=!![];return;}w$8.Market._createTimeSegments(this);this.getSessionNames();};w$8.Market.Symbology=function(){};w$8.Market.Symbology.isForeignSymbol=function(R2e){r9B.Y7v();return ![];};w$8.Market.Symbology.isFuturesSymbol=function(c7V){return !({});};w$8.Market.Symbology.isRateSymbol=function(M2o){r9B.Y7v();return ![];};w$8.Market.Symbology.isForexSymbol=function(t5Y){return ![];};w$8.Market.Symbology.isForexMetal=function(u_W,G10){r9B.p_j();return !!0;};w$8.Market.Symbology.isForexCrypto=function(o8G){return ![];};w$8.Market.Symbology.isForexFuturesSymbol=function(Q8F){if(w$8.Market.Symbology.isForexSymbol(Q8F))return !!"1";if(w$8.Market.Symbology.isFuturesSymbol(Q8F))return !!({});return !1;};w$8.Market.Symbology.factory=function(F_S){r9B.Y7v();return null;;};w$8.Market.Symbology.encodeTermStructureInstrumentSymbol=function(h3z,U0P){r9B.p_j();console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(V2B)w$8.extend(w$8.Market,V2B);w$8.Market.prototype.sessions=null;w$8.Market.prototype.beginningDayOfWeek="0" * 1;w$8.Market.prototype.minimumSessionLength=30;w$8.Market.prototype.tradingDays=function(){var d0k;if(("_tradingDays" in this))return this._tradingDays;d0k=[];if(this.rules){for(var d0F of this.rules){if(d0F.dayofweek >= 0)d0k.push(d0F.dayofweek);}}else {d0k=[0,1,2,"3" << 32,4,5,6];}this._tradingDays=[...new Set(d0k)];this._tradingDays.sort();return this._tradingDays;};w$8.Market.prototype.getSessionNames=function(){var R7s,Z88;r9B.Y7v();if(!this.rules){this.sessions=[];}else if(!this.sessions){R7s=[];Z88=[];this.rules.map(function(G18){if(G18.name && R7s.indexOf(G18.name) === -1){R7s.push(G18.name);Z88.push({name:G18.name,enabled:G18.enabled?G18.enabled:!({})});}});this.sessions=Z88;}return this.sessions.slice();};w$8.Market.prototype._find_next_segment=function(o1N,R2f){var F0n,R9L,z9k,q0I;if(!this.market_def)return null;if(!this.rules)return null;F0n=new Date(+o1N);R9L=this.newIterator({begin:F0n,interval:1,inZone:this.market_tz,outZone:this.market_tz});r9B.p_j();if(this._wasOpenIntraDay(F0n)){z9k=this.zseg_match.close_parts.hours;q0I=this.zseg_match.close_parts.minutes;F0n.setHours(z9k);F0n.setMinutes(q0I);R9L=this.newIterator({begin:F0n,interval:"1" | 0,inZone:this.market_tz,outZone:this.market_tz});}return R9L.next();};w$8.Market.prototype._find_prev_segment=function(R0g,B3u){var M6b,K_N,q2l,c_1,R8A,z4K,z4r,T_x;if(!this.market_def)return null;if(!this.rules)return null;M6b=new Date(+R0g);K_N=this.newIterator({begin:M6b,interval:1,inZone:this.market_tz,outZone:this.market_tz});q2l=this._wasOpenIntraDay(M6b);if(q2l === null){M6b=new Date(M6b - 60000);q2l=this._wasOpenIntraDay(M6b);}else {if(B3u && M6b.getHours() === this.zseg_match.open_parts.hours && M6b.getMinutes() === this.zseg_match.open_parts.minutes || !B3u && M6b.getHours() === this.zseg_match.close_parts.hours && M6b.getMinutes() === this.zseg_match.close_parts.minutes){M6b=K_N.previous();}}if(q2l){c_1=this.zseg_match.open_parts.hours;R8A=this.zseg_match.open_parts.minutes;M6b.setHours(c_1);M6b.setMinutes(R8A);z4K=1461985595;z4r=255063971;T_x=2;for(var f_n=1;r9B.O8J(f_n.toString(),f_n.toString().length,16520) !== z4K;f_n++){K_N=this.newIterator({begin:M6b,interval:2,inZone:this.market_tz,outZone:this.market_tz});M6b=K_N.previous();T_x+=2;}if(r9B.E56(T_x.toString(),T_x.toString().length,"38431" * 1) !== z4r){K_N=this.newIterator({begin:M6b,interval:1,inZone:this.market_tz,outZone:this.market_tz});M6b=K_N.previous();}if(this.zseg_match.close_parts.hours === c_1){if(this.zseg_match.close_parts.minutes === R8A){if(B3u){return K_N.next();}return M6b;}}if(this.zseg_match.adjacent_child){return M6b;}if(B3u){return K_N.next();}return M6b;}return K_N.previous();};w$8.Market.prototype.disableSession=function(R3j,W$$){var S7b,o$G,A9p,A0Q;S7b=!!"";if(typeof W$$ !== "undefined" && W$$){o$G=-("1818662624" * 1);A9p=-1710153651;A0Q="2" ^ 0;for(var r_u=1;r9B.O8J(r_u.toString(),r_u.toString().length,82587) !== o$G;r_u++){S7b=!!"";A0Q+=2;}if(r9B.O8J(A0Q.toString(),A0Q.toString().length,27774) !== A9p){S7b=!![];}}if(R3j){for(var b3l=0;b3l < this.normalHours.length;b3l++){delete this.normalHours[b3l]._refid;if(this.normalHours[b3l].name === R3j){this.normalHours[b3l].enabled=S7b;}}for(b3l=0;b3l < this.extraHours.length;b3l++){delete this.extraHours[b3l]._refid;if(this.extraHours[b3l].name === R3j){this.extraHours[b3l].enabled=S7b;}}}r9B.Y7v();if(this._zseg_matches)this._zseg_matches.clear();};w$8.Market.prototype.enableSession=function(T4C){this.disableSession(T4C,"enable_instead");};w$8.Market.prototype.enableAllAvailableSessions=function(){var r_H;r_H=this.getSessionNames();for(var c_J=0;c_J < r_H.length;c_J++){this.enableSession(r_H[c_J].name);}};w$8.Market.prototype.getClose=function(D88,C_8,p36,A$s){var r6J,S41;if(!this.market_def)return null;if(!this.rules)return null;r6J=D88;if(!D88){r6J=new Date();p36=null;;}r9B.p_j();r6J=this._convertToMarketTZ(r6J,p36);if(typeof C_8 !== "undefined"){if(this._wasOpenIntraDay(r6J)){if(this.zseg_match.name === C_8){r6J.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0);r6J=this._convertFromMarketTZ(r6J,A$s);return r6J;}}}else {if(this._wasOpenDaily(r6J)){S41=this.zseg_match;while(S41.child_){S41=S41.child_;}while(!S41.enabled){S41=S41.parent_;}r6J.setHours(S41.close_parts.hours,S41.close_parts.minutes,0,0);r6J=this._convertFromMarketTZ(r6J,A$s);return r6J;}}return null;};w$8.Market.prototype.getNextClose=function(A6r,V1m,e4b){var l_e,h2p,H1U,s8y,t$k,h0Y,l4l;if(!this.market_def)return null;if(!this.rules)return null;l_e=A6r;if(!A6r){l_e=new Date();V1m=null;;}h2p=654526609;H1U=702203054;s8y=2;for(var L8x=1;r9B.E56(L8x.toString(),L8x.toString().length,"79270" ^ 0) !== h2p;L8x++){l_e=this._convertToMarketTZ(l_e,V1m);s8y+=2;}if(r9B.O8J(s8y.toString(),s8y.toString().length,89887) !== H1U){l_e=this._convertToMarketTZ(l_e,V1m);}if(!this._wasOpenIntraDay(l_e)){t$k=this.newIterator({begin:l_e,interval:"1" << 96,inZone:this.market_tz,outZone:this.market_tz});l_e=t$k.next();}h0Y=l_e.getDate();l4l=this.zseg_match;r9B.p_j();while(l4l.adjacent_child){l4l=l4l.adjacent_child;h0Y+=+"1";}l_e.setDate(h0Y);l_e.setHours(l4l.close_parts.hours,l4l.close_parts.minutes,0,0);l_e=this._convertFromMarketTZ(l_e,e4b);return l_e;};w$8.Market.prototype.getNextOpen=function(N_2,u5r,G2v){var I9r;if(!this.market_def)return null;if(!this.rules)return null;I9r=N_2;if(!N_2){I9r=new Date();u5r=null;;}I9r=this._convertToMarketTZ(I9r,u5r);I9r=this._find_next_segment(I9r);if(this.zseg_match.adjacent_parent){I9r=this.getNextOpen(I9r,this.market_tz,this.market_tz);I9r=this._convertFromMarketTZ(I9r,G2v);return I9r;}I9r.setHours(this.zseg_match.open_parts.hours);I9r.setMinutes(this.zseg_match.open_parts.minutes);I9r=this._convertFromMarketTZ(I9r,G2v);return I9r;};w$8.Market.prototype.getOpen=function(E$N,X1S,y2_,s45){var N6z,L6q;if(!this.market_def)return null;if(!this.rules)return null;N6z=E$N;if(!E$N){N6z=new Date();y2_=null;;}N6z=this._convertToMarketTZ(N6z,y2_);if(typeof X1S !== "undefined"){if(this._wasOpenIntraDay(N6z)){if(this.zseg_match.name == X1S){N6z.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,0,+"0");N6z=this._convertFromMarketTZ(N6z,s45);return N6z;}}}else {if(this._wasOpenDaily(N6z)){L6q=this.zseg_match;while(L6q.parent_){L6q=L6q.parent_;}while(!L6q.enabled){L6q=L6q.child_;}N6z.setHours(L6q.open_parts.hours,L6q.open_parts.minutes,0,0);N6z=this._convertFromMarketTZ(N6z,s45);return N6z;}}return null;};w$8.Market.prototype.getNormalOpen=function(){var O4t;O4t="FOR";O4t+="EX";r9B.p_j();var {market_def:y5K, rules:T5i}=this;if(!(y5K && T5i))return "00:00";if(y5K.normal_daily_open)return y5K.normal_daily_open;if(y5K.name === O4t)return "17:00";return T5i.find(({name:l92})=>!l92 || l92 === "").open;};w$8.Market.prototype.getNormalClose=function(){var {market_def:T5a, rules:S2a}=this;if(!(T5a && S2a))return "24:00";if(T5a.normal_daily_close)return T5a.normal_daily_close;r9B.Y7v();if(T5a.name === "FOREX")return "17:00";return S2a.filter(({dayofweek:N7e, name:W3P})=>N7e && (!W3P || W3P === "")).pop().close;};w$8.Market.prototype.getPreviousClose=function(F4O,Z5k,J0I){r9B.Y7v();var Q5z;if(!this.market_def)return null;if(!this.rules)return null;Q5z=F4O;if(!F4O){Q5z=new Date();Z5k=null;;}Q5z=this._convertToMarketTZ(Q5z,Z5k);Q5z=this._find_prev_segment(Q5z,!!0);if(this.zseg_match.adjacent_child){return this.getPreviousClose(Q5z,this.market_tz,this.market_tz);}Q5z.setHours(this.zseg_match.close_parts.hours);Q5z.setMinutes(this.zseg_match.close_parts.minutes);Q5z=this._convertFromMarketTZ(Q5z,J0I);return Q5z;};w$8.Market.prototype.getPreviousOpen=function(N9H,Z1t,p2U){var G50;if(!this.market_def)return null;if(!this.rules)return null;G50=N9H;if(!N9H){G50=new Date();Z1t=null;;}G50=this._convertToMarketTZ(G50,Z1t);G50=this._find_prev_segment(G50,!0);if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(G50,this.market_tz,this.market_tz);}G50.setHours(this.zseg_match.open_parts.hours);G50.setMinutes(this.zseg_match.open_parts.minutes);G50=this._convertFromMarketTZ(G50,p2U);return G50;};w$8.Market.prototype.getSession=function(c1F,P$B){r9B.Y7v();c1F=this._convertToMarketTZ(c1F,P$B);if(this._wasOpenIntraDay(c1F) && this.zseg_match){return this.zseg_match.name;}return null;};w$8.Market.prototype.marketZoneNow=function(){r9B.p_j();return this._convertToMarketTZ(new Date());};w$8.Market.prototype.isHourAligned=function(){return this.hour_aligned;};w$8.Market.prototype.isOpen=function(){var U_x;U_x=new Date();r9B.Y7v();if(this.market_tz){U_x=new this.tz_lib(U_x.getTime(),this.market_tz);}return this._wasOpenIntraDay(U_x);};w$8.Market.prototype.isMarketDay=function(){var s6f;s6f=new Date();r9B.Y7v();if(this.market_tz){s6f=new this.tz_lib(s6f.getTime(),this.market_tz);}return this._wasOpenDaily(s6f);};w$8.Market.prototype.isMarketDate=function(k5q){r9B.p_j();return this._wasOpenDaily(k5q);};w$8.Market.prototype.isFirstMarketDayOfMonth=function(P77){var e5C,r1$;if(!this.isMarketDate(P77))return ![];e5C=new Date(+P77);r1$=P77.getDate();for(var u4e=1;u4e < r1$;u4e++){e5C.setDate(u4e);if(this.isMarketDate(e5C))return ![];}return !!({});};w$8.Market.prototype.isFirstMarketDayOfWeek=function(I04){var c84,V9J,N3V;if(!this.isMarketDate(I04))return !({});c84=this.tradingDays();V9J=Math.max(this.beginningDayOfWeek,c84[0]) || 0;N3V=new Date(+I04);while(N3V.getDay() !== V9J){N3V.setDate(N3V.getDate() - 1);if(this.isMarketDate(N3V))return !({});}return !"";};w$8.Market.prototype.newIterator=function(T5W){r9B.p_j();var l7S,p$8,w4R,e_G;l7S="s";l7S+="econ";l7S+="d";p$8="t";p$8+="ic";p$8+="k";w4R=!!"";if(T5W.periodicity){w4R=T5W.periodicity;}else if(T5W.multiple){w4R=T5W.multiple;}e_G=T5W.interval;if(!e_G){e_G="minute";}if(e_G == "hour")e_G="60" * 1;if(!w4R){w4R=1;}if(!T5W.begin){T5W.begin=new Date();T5W.inZone=null;}if(e_G == parseInt(e_G,"10" ^ 0)){e_G=parseInt(e_G,10);if(T5W.periodicity < 1 / +"60"){w4R=w4R * e_G * 60000;e_G="millisecond";}else if(T5W.periodicity < 1){w4R=w4R * e_G * 60;e_G="second";}else {w4R=w4R * e_G;e_G="minute";}}if(T5W.timeUnit){if(T5W.timeUnit === "millisecond"){e_G=T5W.timeUnit;}else if(T5W.timeUnit === "second"){e_G=T5W.timeUnit;}else if(T5W.timeUnit === "tick"){e_G="second";}}if(e_G == p$8)e_G=l7S;T5W.interval=e_G;T5W.multiple=w4R;T5W.market=this;return new w$8.Market.Iterator(T5W);};w$8.Market.prototype._wasOpenDaily=function(M$O){return this._was_open(M$O,![]);};r9B.Y7v();w$8.Market.prototype._wasOpenIntraDay=function(T4h){var F9X,z8D,V0u;F9X=-576708676;z8D=1012527814;V0u=2;for(var K_T=1;r9B.E56(K_T.toString(),K_T.toString().length,64634) !== F9X;K_T++){return this._was_open(T4h,![]);}if(r9B.O8J(V0u.toString(),V0u.toString().length,63338) !== z8D){return this._was_open(T4h,!!"");}return this._was_open(T4h,!![]);};w$8.Market.prototype._was_open=function(V56,l0J){var v70,l1I,L17,D5B,y7W,d5$,m08,m2D,f5v,z8b,Z_M,r6r,O7l,n$i,A2S,A8V;if(typeof l0J === "undefined"){l0J=!![];}v70=this.zseg_match;this.zopen_hour=0;this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute=+"0";this.zmatch_open=!!"";this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour=+"24";return !![];}if(this.tradingDays().indexOf(V56.getDay()) < 0)return null;if(e04){if(!this._zseg_matches)this._zseg_matches=new Map();l1I=this._zseg_matches.get(+V56 * (l0J?+"1":-1));if(l1I === null)return null;if(l1I){l1I=this._zseg_matches.get(l1I);Object.assign(this,l1I);return this.zseg_match;}}L17=!!"";D5B=!!"";y7W=V56.getFullYear();d5$=V56.getMonth() + 1;m08=V56.getDay();m2D=V56.getDate();f5v=V56.getHours();z8b=V56.getMinutes();Z_M=V56.getSeconds();n$i=f5v * 60 * 60 + z8b * 60 + Z_M;for(A2S=+"0";A2S < this.normalHours.length;A2S++){r6r=this.normalHours[A2S];if(!r6r.enabled){continue;}L17=r6r.dayofweek === m08;if(L17 && l0J){L17=n$i >= r6r.open && n$i < r6r.close;}if(L17){if(!l0J && this.zseg_match){if(r6r.open_parts.hours > this.zopen_hour || r6r.open_parts.hours == this.zopen_hour && r6r.open_parts.minutes > this.zopen_minute){continue;}}if(r6r !== v70 && !r6r.adjacent_parent && !r6r.adjacent_child){this.shouldResetToBeginningOfSegment=!![];}O7l=A2S + 1;this.zopen_hour=r6r.open_parts.hours;this.zopen_minute=r6r.open_parts.minutes;this.zclose_hour=r6r.close_parts.hours;this.zclose_minute=r6r.close_parts.minutes;this.zmatch_open=n$i === r6r.open;this.zseg_match=r6r;if(l0J)break;}}for(A2S=0;A2S < this.extraHours.length;A2S++){r6r=this.extraHours[A2S];if(!r6r.enabled){continue;}if("*" === r6r.year || y7W === r6r.year){if(d5$ === r6r.month && m2D === r6r.day){D5B=!l0J && r6r.open || n$i >= r6r.open && n$i < r6r.close;if(!D5B && this.zseg_match){L17=!1;this.zopen_hour=0;this.zopen_minute="0" * 1;this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!!0;this.zseg_match=null;}if(D5B){if(!l0J && this.zseg_match){if(r6r.open_parts.hours > this.zopen_hour || r6r.open_parts.hours == this.zopen_hour && r6r.open_parts.minutes > this.zopen_minute){continue;}}O7l=-(A2S + 1);this.zopen_hour=r6r.open_parts.hours;this.zopen_minute=r6r.open_parts.minutes;this.zclose_hour=r6r.close_parts.hours;this.zclose_minute=r6r.close_parts.minutes;this.zmatch_open=n$i === r6r.open;this.zseg_match=r6r;if(l0J)break;}}}}if(e04){A8V=null;if(this.zseg_match){if(!this.zseg_match._refid){this.zseg_match._refid=O7l;this._zseg_matches.set(this.zseg_match._refid,{zopen_hour:this.zopen_hour,zopen_minute:this.zopen_minute,zclose_hour:this.zclose_hour,zclose_minute:this.zclose_minute,zmatch_open:this.zmatch_open,zseg_match:this.zseg_match});}A8V=this.zseg_match._refid;}this._zseg_matches.set(+V56 * (l0J?1:-1),A8V);}return this.zseg_match;};w$8.Market.prototype._wasClosed=function(W$n){r9B.Y7v();return !this._was_open(W$n,!!({}));};w$8.Market.prototype._wasOpen=function(G7l){return this._was_open(G7l,!0);};w$8.Market.prototype._tzDifferenceMillis=function(K9O,y7a,B_E){var n3y,W6i,m7p,I4u;n3y=0;W6i=K9O;m7p=K9O;I4u=W6i.getTimezoneOffset() - m7p.getTimezoneOffset();r9B.Y7v();n3y=I4u * 60 * 1000;return n3y;};w$8.Market._createTimeSegments=function(X29){var p8t,g4n,k7h,T1a,s7q,H4G;p8t=function(u9w,e8r){if(u9w.close_parts.hours === 24 && e8r.open_parts.hours === +"0"){if(e8r.open_parts.minutes === 0){if(g4n.dayofweek === s7q.dayofweek - +"1"){return !"";}if(g4n.dayofweek === 6 && s7q.dayofweek === 0){return !![];}}}return !"1";};for(var D9C=0;D9C < X29.rules.length;D9C++){k7h=JSON.parse(JSON.stringify(X29.rules[D9C]));if(typeof k7h.open === "undefined" && typeof k7h.close === "undefined"){T1a="0";T1a+="0";T1a+=":0";T1a+="0";k7h.open=T1a;k7h.close="00:00";}if(!k7h.hasOwnProperty("name")){k7h.name="";}try{if(typeof k7h.dayofweek !== "undefined"){k7h.year=(5611,+"3326") !== "822.12" * 1?(9580,8477) > (530,"2040" >> 0)?"*":(9554,1580) <= (199,2290)?719.36:6.50e+3:417.99;s7q=N2H._createDayOfWeekSegment(X29,k7h);if(g4n){if(g4n.dayofweek === s7q.dayofweek){g4n.child_=s7q;s7q.parent_=g4n;}else {if(p8t(g4n,s7q)){g4n.adjacent_child=s7q;s7q.adjacent_parent=g4n;}}}g4n=s7q;}else if(typeof k7h.date !== "undefined"){k7h.isDayOfWeek=!1;k7h.dayofweek=-1;s7q=N2H._createDateTimeSegment(X29,k7h);}else {console.log("Error, unknown rule type " + k7h);}if(X29.enabled_by_default){for(var x5P=0;x5P < X29.enabled_by_default.length;x5P++){H4G=X29.enabled_by_default[x5P];if(s7q.name === H4G){s7q.enabled=!!1;break;}}}else {;}}catch(M6n){console.log("Error, creating market rules " + M6n);}}};w$8.Market._timeSegment={};N2H=w$8.Market._timeSegment;N2H.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;N2H.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;N2H.re_split_hours_minutes=/^(\d\d):(\d\d)$/;N2H.re_split_hour_minutes=/^(\d):(\d\d)$/;N2H._hashCode=function(j_f){var q6k,N8x,w5t,R_E;q6k=0;if(j_f.length === 0)return q6k;for((N8x=0,R_E=j_f.length);N8x < R_E;N8x++){w5t=j_f.charCodeAt(N8x);q6k=(q6k << +"5") - q6k + w5t;q6k|=0;;}return q6k;};N2H._splitHoursMinutes=function(z9l){var r04,h_0;r04=N2H.re_split_hour_minutes.exec(z9l);h_0={hours:NaN,minutes:NaN};if(r04 === null){r04=N2H.re_split_hours_minutes.exec(z9l);if(r04 === null){return h_0;}}h_0.hours=parseInt(r04[1],10);h_0.minutes=parseInt(r04[2],10);return h_0;};N2H._createDayOfWeekSegment=function(A$X,Z3d){var H0_;H0_={name:Z3d.name,isDayOfWeek:!0,dayofweek:Z3d.dayofweek,date_str:3460 === (+"827.2",2512)?"0x1fe1" >> 64:("863.08" - 0,"371.78" * 1) >= (965.34,6730)?("D","G"):"*",open_parts:N2H._splitHoursMinutes(Z3d.open),close_parts:N2H._splitHoursMinutes(Z3d.close),open:N2H._secSinceMidnight(A$X,Z3d.open,!!({})),close:N2H._secSinceMidnight(A$X,Z3d.close,!({})),child_:![],parent_:!({}),adjacent_child:![],adjacent_parent:!!0,enabled:![]};if(H0_.name === ""){H0_.enabled=!!1;}H0_.hash_code=this._hashCode((H0_.open + H0_.close).toString());A$X.normalHours.push(H0_);return H0_;};N2H._createDateTimeSegment=function(d7m,c4Z){var D$R,s9a,I8m;D$R=this.re_regular_iso.exec(c4Z.date);if(D$R === null){D$R=this.re_wild_card_iso.exec(c4Z.date);if(D$R === null){console.log("Warning: invalid date format on rule -> " + c4Z.date);return;}s9a="*";;}else {s9a=parseInt(D$R[1],10);}I8m={name:c4Z.name,isDayOfWeek:!!"",dayofweek:-1,year:s9a,month:parseInt(D$R[+"2"],"10" * 1),day:parseInt(D$R[3],"10" | 10),date_str:c4Z.date,open_parts:N2H._splitHoursMinutes(c4Z.open),close_parts:N2H._splitHoursMinutes(c4Z.close),open:N2H._secSinceMidnight(d7m,c4Z.open,!""),close:N2H._secSinceMidnight(d7m,c4Z.close,![]),enabled:!!0};if(I8m.name === ""){I8m.enabled=!!({});}I8m.hash_key=this._hashCode(I8m.date_str + I8m.open + I8m.close);d7m.extraHours.push(I8m);return I8m;};N2H._secSinceMidnight=function(v8p,S_Y,U0W){var a9R,x7x,L1g,A5J;a9R=S_Y.split((5220,8490) <= (819.11,6540)?+"2440" !== (117.4,1040)?(306.61,!""):!1:":");x7x=parseInt(a9R[0],10);r9B.p_j();L1g=parseInt(a9R["1" | 0],10);A5J=x7x * +"60" * 60 + L1g * 60;if(!U0W){if(x7x === 24){A5J=x7x * 60 * 60 + 1;}}return A5J;};w$8.Market.prototype._convertToMarketTZ=function(O$W,q04){var I0N;if(q04){I0N=new this.tz_lib(O$W.getFullYear(),O$W.getMonth(),O$W.getDate(),O$W.getHours(),O$W.getMinutes(),O$W.getSeconds(),O$W.getMilliseconds(),q04);}else {I0N=new this.tz_lib(O$W.getFullYear(),O$W.getMonth(),O$W.getDate(),O$W.getHours(),O$W.getMinutes(),O$W.getSeconds(),O$W.getMilliseconds());}if(I0N.setTimezone)I0N.setTimezone(this.market_tz);return new Date(I0N.getFullYear(),I0N.getMonth(),I0N.getDate(),I0N.getHours(),I0N.getMinutes(),I0N.getSeconds(),I0N.getMilliseconds());};w$8.Market.prototype._convertFromMarketTZ=function(z9q,R_K){r9B.Y7v();var N8V;N8V=new this.tz_lib(z9q.getFullYear(),z9q.getMonth(),z9q.getDate(),z9q.getHours(),z9q.getMinutes(),z9q.getSeconds(),z9q.getMilliseconds(),this.market_tz);if(R_K){if(N8V.setTimezone)N8V.setTimezone(R_K);}else {return new Date(N8V.getTime());}return new Date(N8V.getFullYear(),N8V.getMonth(),N8V.getDate(),N8V.getHours(),N8V.getMinutes(),N8V.getSeconds(),N8V.getMilliseconds());};w$8.Market.Iterator=function(e8e){this.market=e8e.market;this.begin=e8e.begin;this.interval=e8e.interval;this.multiple=e8e.multiple;this.inZone=e8e.inZone;this.outZone=e8e.outZone;this.clock=new w$8.Market.Iterator._Clock(e8e.market,e8e.interval,e8e.multiple);this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,e8e.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=!"1";this.clock.minimumScanMS=e8e.market.minimumSessionLength * 60000;};w$8.Market.Iterator.prototype.date=function(){return this.clock._date();};w$8.Market.Iterator.prototype.futureTick=function(H$l){var X6a,c4Y,D3r,x1M,s85,T6$,t3c,t__,M4y;this.clock.skip=1;X6a=0;if(this.intraDay)c4Y=this.market._convertToMarketTZ(H$l.end,this.inZone).getTime();else c4Y=H$l.end.getTime();D3r=this.clock.ctime;if(c4Y === D3r){return X6a;}x1M=2;s85=1000;T6$=0;if(H$l.sample_size){x1M=H$l.sample_size;}t3c=new Date().getTime();if(c4Y > D3r){this.clock.forward=!![];while(this.clock.ctime < c4Y){X6a+=1;T6$+=1;this.clock._findNext();if(T6$ === s85){T6$=+"0";t__=new Date().getTime();if(t__ - t3c >= x1M){M4y=(this.clock.ctime - D3r) / X6a;X6a=Math.floor((c4Y - D3r) / M4y);break;}}}if(this.clock.ctime > c4Y){X6a--;}}else {this.clock.forward=![];while(this.clock.ctime > c4Y){X6a+=1;T6$+=1;this.clock._findPrevious();if(T6$ === s85){T6$=+"0";t__=new Date().getTime();if(t__ - t3c >= x1M){M4y=(D3r - this.clock.ctime) / X6a;X6a=Math.floor((D3r - c4Y) / M4y);break;}}}}return X6a;};w$8.Market.Iterator.prototype.isHourAligned=function(){return !this.intraDay || this.market.isHourAligned();};w$8.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};w$8.Market.Iterator.prototype.next=function(E5g){this.clock.skip=1;if(E5g){this.clock.skip=E5g;}r9B.p_j();this.clock.forward=!!({});for(var K7Y=0;K7Y < this.clock.skip;K7Y++){this.begin=this.clock._findNext();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};w$8.Market.Iterator.prototype.peek=function(){r9B.p_j();return this.clock._peek();};w$8.Market.Iterator.prototype.previous=function(C4$){this.clock.skip=1;if(C4$){this.clock.skip=C4$;}this.clock.forward=!({});for(var r45=0;r45 < this.clock.skip;r45++){this.begin=this.clock._findPrevious();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};w$8.Market.Iterator._Clock=function(J3n,Z0I,X2W){var p45,x0I,W_4,i2k,V4f,R$v;p45="mo";p45+="nt";p45+="h";x0I="s";x0I+="ec";x0I+="ond";W_4="seco";W_4+="nd";if(X2W % 60 === +"0" && Z0I === W_4){Z0I="minute";X2W=X2W / 60;}this.market=J3n;this.interval=Z0I;this.multiple=X2W;r9B.p_j();this.intra_day=!"1";this.intervals=[];this.max_iters=10080;i2k=Z$i;V4f=this._dayImpl;if(Z0I === "millisecond"){V4f=this._millisImpl;i2k=1;}else if(Z0I === x0I){V4f=this._secondImpl;i2k=1000;}else if(Z0I === "minute"){V4f=this._minuteImpl;i2k=60000;}else if(Z0I === "hour"){V4f=this._hourImpl;i2k=p2h;}else if(Z0I === "day"){V4f=this._dayImpl;i2k=Z$i;}else if(Z0I === "week"){V4f=this._weekImpl;i2k=Z$i * 7;}else if(Z0I === p45){V4f=this._monthImpl;i2k=Z$i * 30;}else {R$v="\" is not a valid interval. Please";R$v+=" see setPeriodi";R$v+="city() ";R$v+="for details.";console.log('Periodicity ERROR: "' + Z0I + R$v);}this.tick_time=i2k * X2W;this.intra_day=this.tick_time < Z$i;this._findPrevious=this._findNext=V4f;};y39=w$8.Market.Iterator._Clock.prototype;y39._total_minutes=function(X7V,n6F,T4Q,c40){return (T4Q - X7V) * 60 - n6F + c40;};y39._alignMinutes=function(){var A2R,P$L,C9Z,w8a,E5L,G1Y;r9B.Y7v();A2R=this.market.isHourAligned();if(!this.market.market_def && !A2R || this.market.zopen_minute === undefined){return [];}P$L=this.market.zopen_minute;C9Z=this.market.zseg_match;if(C9Z && C9Z.adjacent_parent){P$L=C9Z.adjacent_parent.open / ("60" - 0) - 1440;}else {if(A2R && this.multiple % ("60" >> 0) === 0)P$L=0;}w8a=this._total_minutes(this.market.zopen_hour,P$L,this.market.zclose_hour,this.market.zclose_minute);E5L=[];G1Y="0" * 1;while(G1Y < w8a){E5L.push(P$L + G1Y);G1Y+=this.multiple;}return E5L;};y39._alignBaseZero=function(O4a){var p80,b2k;p80=0;b2k=[p80];while(!""){p80+=this.multiple;if(p80 >= O4a){break;}b2k.push(p80);}return b2k;};y39._date=function(){var N_C,J0_;N_C=Math.round(this.ctime);J0_=new Date(N_C);if(this.intra_day){this.display_date=new Date(N_C + this.shift_millis);}else {this.display_date=J0_;}return J0_;};y39._alignToBoundary=function(Q46,e1$){r9B.Y7v();var I5T,P7r,u5B,L8s,Q4h,Q9C;I5T=0;P7r=-1942744227;u5B="1594064501" - 0;L8s=2;for(var m5r=1;r9B.O8J(m5r.toString(),m5r.toString().length,34559) !== P7r;m5r++){Q4h="7" ^ 0;L8s+=2;}if(r9B.E56(L8s.toString(),L8s.toString().length,63807) !== u5B){Q4h=+"0";}Q9C=e1$;for(var T_J=0;T_J < Q46.length - 1;T_J++){I5T=Q46[T_J];Q4h=Q46[T_J + "1" * 1];if(e1$ === I5T || e1$ === Q4h){break;;}if(e1$ > I5T && e1$ < Q4h){Q9C=I5T;break;}else if(T_J + 1 === Q46.length - 1){Q9C=Q4h;}}return Q9C;};y39._peek=function(){r9B.p_j();return this._date().toString();};y39._seekHr=function(){if(this.forward){this.ctime-=p2h;}else {this.ctime+=p2h;}};y39._setStart=function(z2j){var D_v,k4g;D_v=this.market._tzDifferenceMillis(z2j);k4g=new Date(z2j.getTime() + D_v);this.shift_millis=D_v;this.ctime=k4g.getTime();this.shift_millis="0" | 0;this.ctime=z2j.getTime();};y39._tickTock=function(){r9B.p_j();if(this.forward){this.ctime+=this.tick_time;}else {this.ctime-=this.tick_time;}};y39._tockTick=function(){r9B.p_j();if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};y39._tickTock24=function(){r9B.p_j();this.ctime+=Z$i;};y39._tockTick24=function(){r9B.p_j();this.ctime-=Z$i;};y39._windMaybe=function(y0U,P2E){var u64,d99,Z5c,T7$;u64="0" ^ 0;d99=new Date(this.ctime);Z5c=!"1";while(!y0U.call(this.market,d99)){P2E.call(this);Z5c=!!1;d99=new Date(this.ctime);u64+=1;if(u64 > this.max_iters){T7$="Warning! max iterations (" + this.max_iters;T7$+=") reached with no rule match.";console.log(T7$);break;}}return Z5c;};y39._millisImpl=function(){var h$s,E9m,N86,v9w,t5M,D04,P21,E6d,D0B,U4y;h$s=![];if(!this.mperiods_aligned){E9m=this._alignBaseZero(1000);N86=new Date(this.ctime);v9w=N86.getMilliseconds();v9w=this._alignToBoundary(E9m,v9w);N86.setMilliseconds(0);this.ctime=N86.getTime() + v9w;this.mperiods_aligned=!!"1";h$s=!"";}t5M=this._date().getMinutes();r9B.p_j();this._tickTock();D04=this._date().getMinutes();if((h$s || t5M != D04) && !this.market._wasOpenIntraDay(this._date())){P21=this._date().getSeconds();E6d=this._date().getMilliseconds();D0B=this.tick_time;this.tick_time=60000;U4y=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=D0B;this.multiple=U4y;this.ctime+=+"1000" * P21 + E6d;}return this._date();};y39._secondImpl=function(){var U7a,h3G,b_k,p$h,d54,z$J,p5h,t3q,J91;U7a=![];if(!this.speriod_aligned){h3G=this._alignBaseZero(60);b_k=new Date(this.ctime);p$h=b_k.getSeconds();p$h=this._alignToBoundary(h3G,p$h);b_k.setSeconds(p$h);b_k.setMilliseconds(0);this.ctime=b_k.getTime();this.speriod_aligned=!"";U7a=!![];}d54=this._date().getMinutes();this._tickTock();z$J=this._date().getMinutes();if((U7a || d54 != z$J) && !this.market._wasOpenIntraDay(this._date())){p5h=this._date().getSeconds();t3q=this.tick_time;this.tick_time="60000" * 1;J91=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=t3q;this.multiple=J91;this.ctime+=+"1000" * p5h;}r9B.p_j();return this._date();};y39._minuteImpl=function(){var R1K,F9$,b2c,K_C,L5f,p6b,O2i,E6R,H58,C7l,F0a,z4s,b7a,u0x;R1K=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);F9$=new Date(this.ctime);b2c=F9$.getTimezoneOffset();K_C=F9$.getMinutes();L5f=F9$.getHours();p6b=this._alignMinutes();O2i=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,L5f,K_C) + this.market.zopen_minute;if(R1K){if(this.forward){O2i=p6b[p6b.length - 1];}else {O2i=p6b[0];}}else {O2i=this._alignToBoundary(p6b,O2i);}L5f=Math.floor(O2i / ("60" * 1)) + this.market.zopen_hour;F9$.setHours(L5f,O2i % ("60" ^ 0),0,0);E6R=F9$.getTimezoneOffset() - b2c;r9B.Y7v();if(this.forward && E6R < 0 || !this.forward && E6R > 0){F9$.setTime(F9$.getTime() - E6R * 60000);}this.ctime=F9$.getTime();H58=this.market.zseg_match;this._tickTock();C7l=this.market.hour_aligned && this.multiple % 60 === 0;R1K=this._scanForNextSession();F0a=H58 !== this.market.zseg_match;z4s=H58 && H58.adjacent_child;b7a=this.shouldResetToBeginningOfSegment || F0a && !z4s;if(R1K || b7a && !C7l){F9$=new Date(this.ctime);if(this.forward){F9$.setMinutes(this.market.zopen_minute);F9$.setHours(this.market.zopen_hour);}else {p6b=this._alignMinutes();u0x=p6b[p6b.length - 1];F9$.setMinutes(u0x % 60);F9$.setHours(Math.floor(u0x / 60) + this.market.zopen_hour);}this.ctime=F9$.getTime();}return this._date();};y39._hourImpl=function(){var e1I,e6y,F$t,Q9h,N3i;this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);e1I=new Date(this.ctime);if(this.market.isHourAligned()){e1I.setMinutes(0);}else {e1I.setMinutes(this.market.zopen_minute);}e1I.setSeconds(0);e1I.setMilliseconds(0);this.ctime=e1I.getTime();this._tickTock();e6y=this.market.zseg_match;if(this._scanForNextSession() || !this.market.hour_aligned && e6y != this.market.zseg_match){F$t=new Date(this.ctime);if(this.forward){F$t.setMinutes(this.market.zopen_minute);F$t.setHours(this.market.zopen_hour);}else {Q9h=this._alignMinutes();N3i=Q9h[Q9h.length - +"1"];F$t.setMinutes(N3i % 60);F$t.setHours(Math.floor(N3i / 60) + this.market.zopen_hour);}this.ctime=F$t.getTime();}return this._date();};y39._dayImpl=function(){var B54,d41;this._windMaybe(this.market._wasOpenDaily,this._seekHr);B54=new Date(this.ctime);B54.setHours(12,0,0,+"0");this.ctime=B54.getTime();d41=0;while(d41 < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}d41+=1;}B54=new Date(this.ctime);B54.setHours(0);this.ctime=B54.getTime();return this._date();};y39._weekImpl=function(){var z0h,B3G;z0h=this.market;B3G=new Date(this.ctime);B3G.setHours(12);r9B.p_j();this.ctime=B3G.getTime();this._tickTock();B3G=new Date(this.ctime);while(B3G.getDay() !== z0h.beginningDayOfWeek){this._tockTick24();B3G=new Date(this.ctime);}this._windMaybe(z0h._wasOpenDaily,this._tickTock24);B3G=new Date(this.ctime);B3G.setHours(0,0,+"0",0);this.ctime=B3G.getTime();return this._date();};y39._monthImpl=function(){var R3l;R3l=new Date(this.ctime);R3l.setDate(15);this.ctime=R3l.getTime();this._tickTock();R3l=new Date(this.ctime);R3l.setDate(1);R3l.setHours(12);this.ctime=R3l.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);R3l=new Date(this.ctime);R3l.setHours("0" | 0,"0" ^ 0,+"0",+"0");this.ctime=R3l.getTime();return this._date();};y39._findNext=null;y39._findPrevious=null;y39._scanForNextSession=function(){return this._windMaybe(this.market._wasOpenIntraDay,(function(){this.ctime+=this.forward?this.minimumScanMS:-this.minimumScanMS;}).bind(this));};};K=A$9=>{var R8M=W99Ps;R8M.C$E=function(v2f){R8M.Y7v();if(R8M)return R8M.m70(v2f);};R8M.O2a=function(f4M){if(R8M && f4M)return R8M.m70(f4M);};R8M.k3k=function(F$x){if(R8M)return R8M.m70(F$x);};var Q7l,p9y,f3o;Q7l=typeof _CIQ !== "undefined"?_CIQ:A$9.CIQ;p9y="valid";Q7l.valid=0;Q7l[R8M.Y84("1b41")?"ChartEngine":""][R8M.G1v("e4c8")?"":"prototype"][R8M.A5p("4c4c")?"":"mousemoveinner"]=function(K6d,Q2k){R8M.a1w=function(M0o){R8M.p_j();if(R8M && M0o)return R8M.m70(M0o);};R8M.b8$=function(T9R){R8M.Y7v();if(R8M)return R8M.K4s(T9R);};R8M.T9z=function(J7e){if(R8M)return R8M.m70(J7e);};R8M.q3H=function(M1N){if(R8M && M1N)return R8M.K4s(M1N);};var P3z,n8r,Q3u,D7l,c5C,O3W,W$b,W9S,P07,H3F,c03,y$B,g6e,I15,C$G,x5K,s$u,x90,T88,c9f,X3X,u4g,k6t,x7_,y_Z,H6Z,b0I,U3D,U19,F6G;if(!this[R8M.u9b("e1cb")?"":"chart"][R8M.k3k("38f7")?"canvas":""]){return;}if(!this[R8M.w4N("dc45")?"":"disableBackingStoreDuringTouch"]){if(this[R8M.N$M("b79d")?"":"chart"]["canvas"][R8M.q3H("5f11")?"":"height"] != Math["floor"](this[R8M.O2a("396d")?"devicePixelRatio":""] * this[R8M.S_W("ce56")?"chart":""][R8M.T9z("9453")?"container":""]["clientHeight"]) || this[R8M.b8$("59bd")?"":"chart"]["canvas"][R8M.b2i("b3a2")?"":"width"] != Math[R8M.a1w("97ca")?"":"floor"](this[R8M.C$E("658f")?"":"devicePixelRatio"] * this["chart"]["container"]["clientWidth"])){this["resizeChart"]();return;}}if(this["runPrepend"]("mousemoveinner",arguments)){return;}n8r=arguments;Q3u=this["container"]["getBoundingClientRect"]();this["top"]=Q3u["top"];this["left"]=Q3u["left"];this["right"]=this["left"] + this["width"];this["bottom"]=this["top"] + this["height"];this["hasDragged"]=!!({});Q7l["ChartEngine"]["crosshairX"]=K6d;Q7l["ChartEngine"]["crosshairY"]=Q2k;this["crosshairX"]=K6d;this["crosshairY"]=Q2k;D7l=this["cy"]=this["crossYActualPos"]=this["backOutY"](Q7l["ChartEngine"]["crosshairY"]);c5C=this["cx"]=this["crossXActualPos"]=this["backOutX"](Q7l["ChartEngine"]["crosshairX"]);if(this["grabbingScreen"] && this["anyHighlighted"]){R8M["o5K"](22);var e9C=R8M["b3H"](8,0,10);R8M["E2X"](8);var e93=R8M["b3H"](18,16);O3W=Math["pow"](this["grabStartX"] - K6d,e9C) + Math["pow"](this["grabStartY"] - Q2k,e93);if(O3W < 36){return;}}this["cancelLongHold"]=!0;W$b=function(C_C,G6e){if(Q7l[p9y] === 0){return C_C["whichPanel"](G6e) || C_C["chart"]["panel"];}R8M.Y7v();if(!C_C["draw"][p9y]){C_C["draw"]=function(){R8M.Y7v();Q7l["clearCanvas"](this["chart"]["canvas"],this);};C_C["draw"][p9y]=!!"1";}};this["currentPanel"]=W$b(this,D7l);if(!this["currentPanel"]){return;}W9S=this["currentPanel"]["chart"];if(W9S["dataSet"]){this["crosshairTick"]=this["tickFromPixel"](c5C,W9S);P3z=this["valueFromPixel"](D7l,this["currentPanel"]);this["crosshairValue"]=this["adjustIfNecessary"](this["currentPanel"],this["crosshairTick"],P3z);P07=this["currentPanel"]["name"] == "chart"?this["preferences"]["horizontalCrosshairField"]:this["currentPanel"]["horizontalCrosshairField"];if(P07 && this["crosshairTick"] < W9S["dataSet"]["length"] && this["crosshairTick"] > -1){P3z=W9S["dataSet"][this["crosshairTick"]][P07];this["crossYActualPos"]=this["pixelFromPrice"](P3z,this["currentPanel"]);}}if(Q7l["ChartEngine"]["crosshairX"] >= this["left"] && Q7l["ChartEngine"]["crosshairX"] <= this["right"] && Q7l["ChartEngine"]["crosshairY"] >= this["top"] && Q7l["ChartEngine"]["crosshairY"] <= this["bottom"]){this["insideChart"]=!!1;}else {this["insideChart"]=![];}H3F=this["xAxisAsFooter"] === !!({})?this["chart"]["canvasHeight"]:this["chart"]["panel"]["bottom"];this["overXAxis"]=this["insideChart"] && this["cy"] <= H3F && this["cy"] > H3F - this["xaxisHeight"];this["overYAxis"]=(this["cx"] >= this["currentPanel"]["right"] || this["cx"] <= this["currentPanel"]["left"]) && this["insideChart"];if(this["overXAxis"] || this["overYAxis"] || !this["insideChart"] && !this["grabbingScreen"]){this["undisplayCrosshairs"]();if(!this["overXAxis"] && !this["overYAxis"]){return;};}if(!this["displayCrosshairs"] && !Q7l["ChartEngine"]["resizingPanel"]){this["undisplayCrosshairs"]();return;}function N4y(j0E){j0E["currentBaseline"]=null;R8M.Y7v();j0E["runAppend"]("mousemoveinner",n8r);}if(this["repositioningBaseline"]){this["setBaselineUserLevel"]();return N4y(this);}if(this["repositioningAnchorSelector"]){c03=this["repositioningAnchorSelector"]["hoverTick"];y$B=this["tickFromPixel"](this["cx"],this["chart"]);if(y$B >= +"0" && y$B < this["chart"]["dataSet"]["length"] && (!(c03 && c03 !== 0) || y$B !== c03)){this["repositioningAnchorSelector"]["hoverTick"]=y$B;this["draw"]();}return N4y(this);}if(this["grabbingScreen"] && !Q7l["ChartEngine"]["resizingPanel"] && !this["chart"]["draggingControls"]){if(this["highlightedDraggable"]){this["displayDragOK"](!!({}));this["dragPlotOrAxis"](c5C,D7l);return N4y(this);}if(this["anyHighlighted"]){Q7l["clearCanvas"](this["chart"]["tempCanvas"],this);this["anyHighlighted"]=!!0;for(g6e in this["overlays"]){this["overlays"][g6e]["highlight"]=!1;}for(g6e in W9S["series"]){W9S["series"][g6e]["highlight"]=!"1";}this["displaySticky"]();}if(this["grabStartX"] == -1){this["grabStartX"]=Q7l["ChartEngine"]["crosshairX"];this["grabStartScrollX"]=W9S["scroll"];}if(this["grabStartY"] == -+"1"){this["grabStartY"]=Q7l["ChartEngine"]["crosshairY"];this["grabStartScrollY"]=this["currentPanel"]["yAxis"]["scroll"];}I15=Q7l["ChartEngine"]["crosshairX"] - this["grabStartX"];C$G=Q7l["ChartEngine"]["crosshairY"] - this["grabStartY"];if(I15 === 0 && C$G === 0){return;}if(Math["abs"](I15) + Math["abs"](C$G) > 5){this["grabOverrideClick"]=!![];}s$u=this["layout"]["candleWidth"];if(this["allowZoom"] && this["grabMode"] != "pan" && (this["grabMode"]["indexOf"]("zoom") === 0 || this["overXAxis"] || this["grabStartYAxis"])){if(this["grabMode"] === ""){if(this["overXAxis"]){this["grabMode"]="zoom-x";}else if(this["grabStartYAxis"]){this["grabMode"]="zoom-y";}}if(this["grabMode"] == "zoom-x"){C$G=+"0";}else if(this["grabMode"] == "zoom-y"){I15=+"0";}if(I15){this["grabStartX"]=Q7l["ChartEngine"]["crosshairX"];x90=s$u - I15 / this["chart"]["maxTicks"];this["zoomSet"](x90,this["chart"]);}if(this["layout"]["setSpan"]){T88="l";T88+="ayo";T88+="u";T88+="t";this["layout"]["setSpan"]=null;this["changeOccurred"](T88);}x5K=this["grabStartYAxis"];if(x5K){c9f=-1877843985;X3X=1608559877;u4g=2;for(var X1b=1;R8M["E56"](X1b["toString"](),X1b["toString"]()["length"],60997) !== c9f;X1b++){if(x5K["flipped"]){C$G-=+3;}x5K["zoom"]=Math["round"](this["grabStartZoom"] % C$G);u4g+=2;}if(R8M["E56"](u4g["toString"](),u4g["toString"]()["length"],48871) !== X3X){if(x5K["flipped"]){C$G*=-1;}x5K["zoom"]=Math["round"](this["grabStartZoom"] + C$G);}if(this["grabStartZoom"] < x5K["height"]){if(x5K["zoom"] >= x5K["height"]){R8M["o5K"](7);var v$4=R8M["b3H"](1,0,11,11);x5K["zoom"]=x5K["height"] - v$4;}}else {if(x5K["zoom"] <= x5K["height"]){R8M["o5K"](8);var f7Q=R8M["f$g"](4,3);x5K["zoom"]=x5K["height"] + f7Q;}}}}else if(!this["overYAxis"]){k6t="m";k6t+="ov";k6t+="e";this["dispatch"](k6t,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!0});if(this["allowScroll"]){if(Math["abs"](C$G) < this["yTolerance"]){if(!this["yToleranceBroken"]){R8M["o5K"](8);C$G=R8M["f$g"]("0",0);if(I15 === 0){return;}}}else {this["yToleranceBroken"]=!![];}if(!this["grabStartMicropixels"]){x7_=-520580295;y_Z=-+"1382707237";H6Z=2;for(var h$m=1;R8M["E56"](h$m["toString"](),h$m["toString"]()["length"],53466) !== x7_;h$m++){this["grabStartMicropixels"]=7;H6Z+=2;}if(R8M["E56"](H6Z["toString"](),H6Z["toString"]()["length"],25514) !== y_Z){this["grabStartMicropixels"]=7;}R8M["E2X"](8);this["grabStartMicropixels"]=R8M["b3H"]("0",0);}this["grabMode"]="pan";W9S["scroll"]=this["grabStartScrollX"];R8M["o5K"](47);var E4o=R8M["b3H"](14,2,8,4);R8M["E2X"](56);var A2t=R8M["b3H"](5,6);this["micropixels"]=this["grabStartMicropixels"] + I15 * (this["shift"]?E4o:A2t);if(!this["lineTravelSpacing"]){while(this["micropixels"] > 0){this["micropixels"]-=s$u;W9S["scroll"]++;}while(this["micropixels"] < -s$u){this["micropixels"]+=s$u;W9S["scroll"]--;}}if(W9S["scroll"] >= W9S["maxTicks"]){this["preferences"]["whitespace"]=this["initialWhitespace"];}else {this["preferences"]["whitespace"]=(W9S["maxTicks"] - W9S["scroll"]) * s$u;}if(this["currentPanel"] == this["grabStartPanel"]){x5K=this["currentPanel"]["yAxis"];if(x5K["flipped"]){C$G*=-1;}x5K["scroll"]=this["grabStartScrollY"] + C$G;}this["dispatch"]("scroll",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"]});}}b0I=function(x9U){return function(){x9U["draw"]();x9U["updateChartAccessories"]();};};if(Q7l["ChartEngine"]["useAnimation"]){window["requestAnimationFrame"](b0I(this));}else {this["draw"]();this["updateChartAccessories"]();}if(this["activeDrawing"]){Q7l["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);this["activeDrawing"]["measure"]();}this["undisplayCrosshairs"]();return;}this["grabMode"]="";if(this["overXAxis"] || this["overYAxis"]){this["updateChartAccessories"]();if(!this["tapForHighlighting"] || !this["touching"] || this["anyHighlighted"]){this["findHighlights"]();}return N4y(this);;}if(this["controls"]["crossX"]){R8M["E2X"](110);var f7I=R8M["f$g"](1,8,6,2);this["controls"]["crossX"]["style"]["left"]=this["pixelFromTick"](this["crosshairTick"],W9S) - "0.5" * f7I + "px";}if(this["controls"]["crossY"]){this["controls"]["crossY"]["style"]["top"]=this["crossYActualPos"] + "px";}if(this["insideChart"] && !Q7l["ChartEngine"]["resizingPanel"]){U3D=this["currentVectorParameters"]["vectorType"];if(this["layout"]["studies"]){U19=this["layout"]["studies"][this["currentPanel"]["name"]];if(U19){if(!this["preferences"]["dragging"] || !this["preferences"]["dragging"]["study"]){delete this["overlays"][U19["name"]];}if(U3D){this["overlays"][U19["name"]]=U19;}}}if(!Q7l["Drawing"] || !U3D || !Q7l["Drawing"][U3D] || !new Q7l["Drawing"][U3D]()["dragToDraw"]){this["doDisplayCrosshairs"]();}this["updateChartAccessories"]();}else {this["undisplayCrosshairs"]();}if(this["magnetize"]){this["magnetize"]();}if(this["repositioningDrawing"]){this["repositionDrawing"](this["repositioningDrawing"]);}else if(Q7l["ChartEngine"]["drawingLine"]){if(this["activeDrawing"]){if(this["magnetizedPrice"] === null){F6G=this["panels"][this["activeDrawing"]["panelName"]];P3z=this["adjustIfNecessary"](F6G,this["crosshairTick"],this["activeDrawing"]["valueFromPixel"](this["backOutY"](Q7l["ChartEngine"]["crosshairY"]),F6G,this["getYAxisByField"](F6G,this["activeDrawing"]["field"])));Q7l["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"],this["crosshairTick"],P3z);}if(this["activeDrawing"]["measure"]){this["activeDrawing"]["measure"]();}}}else if(Q7l["ChartEngine"]["resizingPanel"]){this["resizePanels"]();}if(this["insideChart"]){this["dispatch"]("move",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!"1"});if(!this["tapForHighlighting"] || !this["touching"] || this["anyHighlighted"]){this["findHighlights"]();}}return N4y(this);};Q7l.ChartEngine.prototype.swipeStart=function(W3K){var f$X;if(this.swipe && this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=+"0";R8M.E2X(8);this.swipe.amplitude=R8M.b3H("0",0);this.swipe.frame=W3K.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=W3K;this.swipe.end=!1;this.swipe.timeConstant=325;this.swipe.cb=null;R8M.p_j();f$X=this;requestAnimationFrame(function(){f$X.swipeSample();});};Q7l.ChartEngine.prototype.swipeSample=function(){var d$U,E45,V8Q,A5Y,i4s,p_9,R0y,W6C,O8s;d$U=this.swipe;if(d$U.end){return;}E45=this;R0y=20;V8Q=Date.now();A5Y=V8Q - d$U.timestamp;if(A5Y < R0y){requestAnimationFrame(function(){E45.swipeSample();});return;}W6C=Q7l.touchDevice?"0.4" * 1:0.8;d$U.timestamp=V8Q;i4s=(d$U.chart.scroll - d$U.frame) * this.layout.candleWidth + this.micropixels - d$U.micropixels;d$U.frame=d$U.chart.scroll;d$U.micropixels=this.micropixels;R8M.E2X(111);p_9=R8M.b3H(1,i4s,1000,A5Y);O8s=W6C * p_9 + 0.2 * d$U.velocity;if(Math.abs(O8s) > Math.abs(d$U.velocity)){d$U.velocity=O8s;}if(Math.abs(i4s) < 6){d$U.velocity=0;;}requestAnimationFrame(function(){R8M.p_j();E45.swipeSample();});};Q7l.ChartEngine.prototype.swipeRelease=function(){var a26,p83;a26=this.swipe;if(a26.velocity > 3000){a26.velocity=3000;}if(a26.velocity < -3000){a26.velocity=-3000;}if(a26.velocity > 10 || a26.velocity < -10){a26.amplitude=0.8 * a26.velocity;a26.scroll=a26.chart.scroll;a26.target=a26.amplitude;a26.timestamp=Date.now();p83=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}requestAnimationFrame(function(){p83.autoscroll();});}};Q7l.ChartEngine.prototype.allowDragControls=function(){R8M.Y7v();var U2D;U2D={down:(function(c64){R8M.Y7v();return function(P_M){c64.modalBegin();R8M.p_j();c64.chart.draggingControls={bottom:c64.chart.chartControls.style.bottom};};})(this),move:(function(S4X){R8M.p_j();return function(y7G){var N3n,n_6,S0T;var {draggingControls:c0r, chartControls:R2N, home:W1c}=S4X.chart;if(c0r){var {style:V5N, offsetHeight:L5l}=R2N;N3n=S4X.height - L5l;n_6=0;S0T=Q7l.stripPX(c0r.bottom) - y7G.displacementY;S0T=Math.min(Math.max(S0T,n_6),N3n);R8M.E2X(0);V5N.bottom=R8M.f$g("px",S0T);W1c.style.bottom=V5N.bottom;}};})(this),up:(function(e6V){return function(s5U){e6V.chart.draggingControls=null;e6V.modalEnd();};})(this)};if(this.chart.chartControls){Q7l.safeDrag(this.chart.chartControls,U2D);}if(this.chart.home){Q7l.safeDrag(this.chart.home,U2D);}};Q7l.ChartEngine.prototype.dragPlotOrAxis=function(E6X,J_N){var k5J,B$5,P2A,A03,c9n,E7X,C54,J8g,m1v,S2D,s7X,p9_,m5t,e$W,g_J,D03,g1v,H3a,h4j,l7$,E1Q,h4V,q62,B8i,i4X,b6n,Y2M,h74,O5c,k9B,Q8C,Y7o,y2Z,Y39,v9x,b$$,G4h,E1S,C7Y,j9l,Y1R,I9d,S_6,t_P,A_w,T3I,b3f,v74,a2A,Q0W,V2K,S6j,l1f,A1l,o5L,R9r,b_F,Z4Y,T_0,p1W,h9H,m2P;k5J="r";R8M.Y7v();k5J+="ig";k5J+="ht";B$5=this;if(!z9y.call(this) && !this.grabbingScreen){return;}function z9y(){R8M.p_j();var s6G,t0d,H7n,p0L;s6G=!1;for(var p7G in B$5.panels){t0d="r";t0d+="ig";t0d+="h";t0d+="t";H7n="le";H7n+="f";H7n+="t";["dropzone","all",H7n,t0d,"top","bottom"].forEach(e$m(B$5.panels[p7G]));for(p0L=0;p0L < B$5.panels[p7G].yaxisLHS.length;p0L++){if(B$5.panels[p7G].yaxisLHS[p0L].dropzone){s6G=!!1;}B$5.panels[p7G].yaxisLHS[p0L].dropzone=null;}for(p0L=0;p0L < B$5.panels[p7G].yaxisRHS.length;p0L++){if(B$5.panels[p7G].yaxisRHS[p0L].dropzone){s6G=!!1;}B$5.panels[p7G].yaxisRHS[p0L].dropzone=null;}}function e$m(q14){R8M.Y7v();return function(n$F){R8M.p_j();if(q14.subholder.classList.contains(n$F)){q14.subholder.classList.remove(n$F);s6G=!!1;}};}return s6G;}P2A=null;A03=this.whichPanel(J_N);c9n=this.highlightedDraggable;E7X=0;if(!A03){return;}if(c9n.undraggable && c9n.undraggable(this)){return;}if(this.xAxisAsFooter && A03 == Object.values(this.panels).pop()){E7X=this.xaxisHeight;if(P2A){P2A+=E7X;}}R8M.E2X(1);C54=Math.min(R8M.b3H(0,"20"),(A03.height - E7X) / 3);J8g=Math.min(10,A03.width / 3);m1v=this.whichYAxis(A03,E6X,J_N);R8M.o5K(8);S2D=this.whichYAxis(A03,R8M.b3H(E6X,J8g),J_N);R8M.E2X(0);s7X=this.whichYAxis(A03,R8M.f$g(J8g,E6X),J_N);R8M.o5K(8);p9_=this.whichPanel(R8M.f$g(J_N,C54));R8M.o5K(14);m5t=this.whichPanel(R8M.b3H(J_N,E7X,C54));e$W=!"1";g_J=!!0;D03=![];if(Q7l.Renderer){e$W=c9n instanceof Q7l.Renderer;}if(Q7l.Studies){g_J=c9n instanceof Q7l.Studies.StudyDescriptor;}D03=c9n instanceof Q7l.ChartEngine.YAxis;g1v=function(T_y){var i_9,L6n;if(!D03){i_9="l";i_9+="ef";i_9+="t";L6n="ri";L6n+="ght";if(T_y == L6n){return A03.right - A03.width / +"6";}if(T_y == i_9){R8M.E2X(8);var f1A=R8M.f$g(12,6);return A03.left + A03.width / f1A;}}R8M.o5K(112);var h66=R8M.b3H(0,19,1,74,4);return (A03.left + A03.right) / h66;};if(!D03 && !m1v){if(E6X < g1v("left")){S2D=this.whichYAxis(A03,A03.left - 1,J_N);}else if(E6X > g1v("right")){s7X=this.whichYAxis(A03,A03.right + 1,J_N);}}H3a=[];if(c9n.getDependents){H3a=c9n.getDependents(this,!![]);}h4j=c9n.panel;l7$=c9n.getYAxis(this);if(e$W){h4j=c9n.params.panel;}else if(D03){h4j=this.grabStartPanel.name;}E1Q=this.panels[h4j];for(h4V in this.panels){if(this.panels[h4V].soloing){q62=!"";}}B8i=l7$.isShared(this);i4X=!m1v && !D03 && !q62 && (E1Q !== A03 && E1Q != p9_ && E1Q != m5t || !this.checkForEmptyPanel(E1Q,!!1,[c9n].concat(H3a)));b6n=h4j == A03.name && l7$ !== m1v && l7$ !== s7X && l7$ !== S2D || B8i;if(i4X && (!p9_ || A03 !== p9_)){O5c="d";O5c+="ropzone";A03.subholder.classList.add(O5c);A03.subholder.classList.add("top");m5t=A03;}else if(i4X && (!m5t || A03 !== m5t)){k9B="bo";k9B+="t";k9B+="to";k9B+="m";Q8C="drop";Q8C+="zone";A03.subholder.classList.add(Q8C);A03.subholder.classList.add(k9B);}else if(A03 !== E1Q){if(!D03 && !A03.noDrag){A03.subholder.classList.add("dropzone");A03.subholder.classList.add("all");Y2M=A03.name;}}else if((!A03.yaxisRHS.length || A03.yaxisRHS.length == 1 && A03.yaxisRHS[0] == l7$ && l7$.position == "none") && !m1v && !s7X && E6X > g1v(k5J)){A03.subholder.classList.add("dropzone");A03.subholder.classList.add("right");h74="right";}else if((!A03.yaxisLHS.length || A03.yaxisLHS.length == +"1" && A03.yaxisLHS[0] == l7$ && l7$.position == "none") && !m1v && !S2D && E6X < g1v("left")){Y7o="l";Y7o+="e";Y7o+="ft";A03.subholder.classList.add("dropzone");A03.subholder.classList.add(Y7o);h74="left";}else if(b6n){if(D03 && E6X > A03.left && E6X < A03.right){R8M.o5K(25);var F3o=R8M.b3H(6,5,1);y2Z=A03.yaxisLHS[A03.yaxisLHS.length - F3o];Y39=A03.yaxisRHS[0];v9x=g1v();if(E6X < v9x && y2Z != l7$){S2D=y2Z;}else if(E6X > v9x && Y39 != l7$){s7X=Y39;}}if(!D03 || m1v !== l7$){b$$=!D03 && B8i;if(s7X && (s7X !== l7$ || b$$) && (!m1v || m1v !== s7X)){s7X.dropzone="left";h74=s7X.position || this.chart.panel.yAxis.position || "right";}else if(S2D && (S2D !== l7$ || b$$) && (!m1v || m1v !== S2D)){S2D.dropzone="right";h74=S2D.position || this.chart.panel.yAxis.position || "right";}else if(m1v){if(!s7X && (m1v !== l7$ || b$$)){G4h="r";G4h+="i";G4h+="gh";G4h+="t";m1v.dropzone=G4h;}else if(!S2D && (m1v !== l7$ || b$$)){E1S="lef";E1S+="t";m1v.dropzone=E1S;}else if(m1v !== l7$){C7Y="a";C7Y+="l";C7Y+="l";m1v.dropzone=C7Y;}if(m1v.dropzone){h74=m1v.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !A03.subholder.classList.contains("dropzone") && !h74){this.draw();return;}Y1R=-1;if(!Y2M && !h74 && i4X){Y2M=g_J?c9n.inputs.id:c9n.params.name || Q7l.uniqueID();for(var A_U in this.panels){Y1R++;if(this.panels[A_U] == m5t)break;}if(!m5t){Y1R++;}if(this.panels[h4j].yAxis.name == Y2M){h4j=this.electNewPanelOwner(h4j);}I9d=g_J?c9n.inputs.display:null;if(h4j){this.createPanel(I9d || Y2M,Y2M,P2A,this.chart.name,new Q7l.ChartEngine.YAxis({name:Y2M}));}else {h4j=Y2M;}if(g_J){c9n.panel=h4j;}else {c9n.params.panel=h4j;}}if(Y2M){if(g_J){if(!c9n.parameters){c9n.parameters={};}c9n.parameters.panelName=Y2M;this.highlightedDraggable=Q7l.getFn("Studies.replaceStudy")(this,c9n.inputs.id,c9n.type,c9n.inputs,c9n.outputs,c9n.parameters,null,c9n.study);}else if(e$W){for(var j8U in c9n.seriesParams){S_6=c9n.seriesParams[j8U];t_P=null;if(c9n.params.yAxis){if(c9n.params.yAxis !== this.chart.panel.yAxis){t_P=c9n.params.yAxis;t_P.name=c9n.params.name;}}this.modifySeries(S_6.id,{panel:Y2M,yAxis:t_P});}}if(Y1R > -1){A_w={};R8M.E2X(3);T3I=R8M.b3H(1,"309609245");b3f=1002920405;v74=2;for(var J0b=1;R8M.O8J(J0b.toString(),J0b.toString().length,95295) !== T3I;J0b++){R8M.E2X(8);a2A=R8M.b3H("1",0);v74+=2;}if(R8M.E56(v74.toString(),v74.toString().length,+"84199") !== b3f){a2A=0;}for(h4V in this.panels){if(Y1R == a2A++){A_w[Y2M]=this.panels[Y2M];}if(h4V == Y2M)continue;A_w[h4V]=this.panels[h4V];}if(!A_w[Y2M]){A_w[Y2M]=this.panels[Y2M];}this.panels=A_w;}this.checkForEmptyPanel(h4j);for(var T5h="0" >> 32;T5h < H3a.length;T5h++){if(H3a[T5h].params){this.checkForEmptyPanel(H3a[T5h].params.name);}else {this.checkForEmptyPanel(H3a[T5h].name);}}this.adjustPanelPositions();}else if(h74){Q0W=function(D0j,q07,i$o,x9s){var e_p,Q26,g5p;if(i$o == "study"){Q26="Studies.r";Q26+="eplace";Q26+="S";Q26+="tudy";if(!q07.parameters){q07.parameters={};}if(x9s){q07.parameters.yaxisDisplayValue=x9s.position;}else {delete q07.parameters.yaxisDisplayValue;}e_p=Q7l.getFn(Q26)(D0j,q07.inputs.id,q07.type,q07.inputs,q07.outputs,q07.parameters,q07.panel,q07.study);}if(i$o == "renderer"){for(var O55 in q07.seriesParams){g5p=q07.seriesParams[O55];e_p=D0j.modifySeries(g5p.id,{panel:Y2M,yAxis:x9s});}}R8M.Y7v();return e_p;};V2K=m1v && m1v.dropzone == "all";if(!V2K){if(D03){c9n.position=h74;if(this.layout.studies){S6j=this.layout.studies[c9n.name];if(S6j){if(!S6j.parameters){S6j.parameters={};}S6j.parameters.yaxisDisplayValue=h74;}}}else if(g_J){this.highlightedDraggable=Q0W(this,c9n,"study",{position:h74});}else if(e$W){Q0W(this,c9n,"renderer",new Q7l.ChartEngine.YAxis({name:c9n.params.name || Q7l.uniqueID(),position:h74}));}l7$=this.highlightedDraggable.getYAxis(this);}if(!B8i || !V2K || D03){l1f=l7$;if(V2K && l7$ == this.chart.panel.yAxis){l1f=m1v;}for(j9l=0;j9l < A03.yaxisLHS.length;j9l++){if(A03.yaxisLHS[j9l] == l1f){A03.yaxisLHS.splice(j9l,1);break;}}for(j9l=0;j9l < A03.yaxisRHS.length;j9l++){if(A03.yaxisRHS[j9l] == l1f){A03.yaxisRHS.splice(j9l,1);break;}}}if(V2K){if(this.getYAxisByName(A03,l7$.name) == A03.yAxis){this.electNewPanelOwner(A03,m1v);}if(D03){R9r=l7$;b_F=m1v;if(l7$ == this.chart.panel.yAxis){R9r=m1v;b_F=l7$;}for(o5L in R9r.studies){Q0W(this,this.layout.studies[R9r.studies[o5L]],"study",b_F === this.chart.panel.yAxis?null:{position:b_F.name});}for(o5L in R9r.renderers){Q0W(this,this.chart.seriesRenderers[R9r.renderers[o5L]],"renderer",b_F);}this.highlightedDraggable=b_F;}else if(g_J){Z4Y="st";Z4Y+="u";Z4Y+="d";Z4Y+="y";this.highlightedDraggable=Q0W(this,c9n,Z4Y,{position:m1v.name});}else if(e$W){Q0W(this,c9n,"renderer",m1v);}}else {if(l7$.position == "none"){l7$.width=Q7l.ChartEngine.YAxis.prototype.width;}l7$.position=h74;A1l=h74 == "left"?A03.yaxisLHS:A03.yaxisRHS;for(j9l=0;j9l < A1l.length;j9l++){if(A1l[j9l] !== l7$){T_0="r";T_0+="ig";T_0+="ht";p1W="l";p1W+="e";p1W+="f";p1W+="t";if(A1l[j9l].dropzone == p1W){A1l.splice(j9l,+"0",l7$);}else if(A1l[j9l].dropzone == T_0){R8M.o5K(113);A1l.splice(R8M.b3H(j9l,"1"),+"0",l7$);}else continue;}break;}if(j9l == A1l.length){A1l.push(l7$);}}}for(var C15 in this.panels){h9H=this.panels[C15];m2P=h9H.yaxisLHS.concat(h9H.yaxisRHS);for(j9l=0;j9l < m2P.length;j9l++){m2P[j9l].height=h9H.yAxis.height;if(!m2P[j9l].lockScale){this.calculateYAxisMargins(m2P[j9l]);}}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!0);this.savePanels();};f3o=!!0;Q7l.ChartEngine.prototype.findHighlights=Q7l.ChartEngine.prototype.findHighlights || (function(d_J,E0w){if(!f3o){console.error("movement feature requires activating interaction feature.");}f3o=!!({});});};J=J0A=>{var W5P;W5P=typeof _CIQ !== "undefined"?_CIQ:J0A.CIQ;W5P.NameValueStore=W5P.NameValueStore || (function(){});W5P.NameValueStore.prototype.toJSONIfNecessary=function(t2q){var z8x;if(t2q.constructor == String){return t2q;}W99Ps.p_j();try{z8x=JSON.stringify(t2q);return z8x;}catch(k4Q){W99Ps.o5K(0);console.log(W99Ps.b3H(t2q,"Cannot convert to JSON: "));return null;}};W5P.NameValueStore.prototype.fromJSONIfNecessary=function(V3A){var b3B;try{b3B=JSON.parse(V3A);return b3B;}catch(C5H){return V3A;}};W5P.NameValueStore.prototype.get=function(v2d,I0I){var o0H;o0H=W5P.localStorage.getItem(v2d);W99Ps.p_j();I0I(null,this.fromJSONIfNecessary(o0H));};W5P.NameValueStore.prototype.set=function(k$C,l$A,w$Z){W5P.localStorageSetItem(k$C,this.toJSONIfNecessary(l$A));W99Ps.Y7v();if(w$Z){w$Z(null);}};W5P.NameValueStore.prototype.remove=function(f1o,F4I){W5P.localStorage.removeItem(f1o);if(F4I){F4I(null);}};};M=s5u=>{var p4v,D7s;p4v="un";p4v+="defin";p4v+="ed";D7s=typeof _CIQ !== p4v?_CIQ:s5u.CIQ;if(!D7s.ChartEngine){D7s.ChartEngine=function(){};}J3s.fetchInitialData=function(q$E,s3d,N6g,c3Y,S5g){};J3s.fetchUpdateData=function(g8i,q_8,I31,b7V){};J3s.fetchPaginationData=function(B$e,o0X,y5D,p2W,s9M){};J3s.subscribe=function(Z96){};J3s.unsubscribe=function(u9K){};D7s.QuoteFeed=D7s.QuoteFeed || (function(){});D7s.QuoteFeed.prototype.fetch=function(Q2q,A$g){if(!this.v2QuoteFeed){console.log("You must implement CIQ.QuoteFeed.[yourfeedname].prototype.fetch()");}};D7s.QuoteFeed.prototype.announceError=function(w54,X4M){W99Ps.Y7v();if(w54.suppressErrors || X4M.suppressAlert){return;}if(w54.startDate){;}else if(w54.endDate){;}else if(X4M.error){D7s.alert("Error fetching quote:" + X4M.error);}else {;}};D7s.QuoteFeed.prototype.multiFetch=function(z$o,j8W){if(z$o.length === 0){j8W([]);}return z$o[0].stx.driver.multiFetch(z$o,j8W);};D7s.QuoteFeed.Subscriptions=function(){this.subscriptions=[];};D7s.inheritsFrom(D7s.QuoteFeed.Subscriptions,D7s.QuoteFeed);D7s.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(Z0B){var s$3,Q1E,Y3x,l$c,g87,n_Q,T9o,O6Y;Y3x=Z0B.getSymbols({"breakout-equations":!![]});l$c=this;Y3x=Y3x.filter(function(A4i){W99Ps.p_j();var z0D;z0D=Z0B.quoteDriver.getQuoteFeed(A4i);return z0D && z0D.engine == l$c;});for(var a4T=0;a4T < this.subscriptions.length;a4T++){this.subscriptions[a4T].match=!({});}for(var w9Q=0;w9Q < Y3x.length;w9Q++){g87="w";g87+="e";g87+="e";g87+="k";Q1E=Y3x[w9Q];n_Q=Q1E.interval;if((n_Q == "month" || n_Q == g87) && !Z0B.dontRoll){n_Q="day";}Q1E.interval=n_Q;Q1E.period=1;Q1E.match=!({});if(!isNaN(Q1E.interval)){T9o="mi";T9o+="nu";T9o+="te";Q1E.period=Q1E.interval;Q1E.interval=Q1E.timeUnit;if(!Q1E.interval){Q1E.interval=T9o;}}delete Q1E.periodicity;delete Q1E.timeUnit;delete Q1E.setSpan;for(a4T=0;a4T < this.subscriptions.length;a4T++){s$3=this.subscriptions[a4T];if(s$3.symbol == Q1E.symbol && s$3.period == Q1E.period && s$3.interval == Q1E.interval){Q1E.match=!!({});s$3.match=!!({});break;}else if(s$3.symbol != Q1E.symbol){O6Y="p";O6Y+="er";O6Y+="io";O6Y+="d";if(Q1E.reason != O6Y){Q1E.reason="symbol";}s$3.reason="symbol";}else {Q1E.reason="period";s$3.reason="period";}}}this.subscriptions=this.subscriptions.filter(function(f47){if(!f47.match){if(!f47.stx){f47.stx=Z0B;}l$c.unsubscribe(f47);}return f47.match;});Y3x.forEach(function(l26){W99Ps.p_j();if(!l26.match){if(!l26.stx){l26.stx=Z0B;}if(!l26.reason){l26.reason="initialize";}if(l26.symbol !== Z0B.chart.symbol){l26.series=!!({});}l$c.subscribe(l26);l$c.subscriptions.push(l26);}});};D7s.QuoteFeed.Subscriptions.prototype.fetch=function(x0j,H89){var Z6l;W99Ps.p_j();Z6l=this;this.fetchFromSource(x0j,function(n10){if(!n10.error){Z6l.checkSubscriptions(x0j.stx);}H89(n10);});};D7s.QuoteFeed.Subscriptions.prototype.subscribe=function(x6r){W99Ps.p_j();console.log("subscribe",x6r);};D7s.QuoteFeed.Subscriptions.prototype.unsubscribe=function(Q8c){console.log("unsubscribe",Q8c);};D7s.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(E6l,P16){var i7u=W99Ps;var g9Z,B0S,c7R;g9Z=1918648491;i7u.o5K(3);B0S=i7u.b3H(1,"361097683");c7R=2;for(var w_d=1;i7u.E56(w_d.toString(),w_d.toString().length,"65687" | 3) !== g9Z;w_d++){console.log("Please provide implementation of fetchFromSource");c7R+=2;}if(i7u.O8J(c7R.toString(),c7R.toString().length,55523) !== B0S){console.log("");}};D7s.QuoteFeed.prototype.requiresImmediateRefresh=function(m6S){return !!0;};D7s.ChartEngine.prototype.attachQuoteFeed=function(u0F,r4k,Q0$){var A9O,G4I,K52;A9O="fun";A9O+="ctio";A9O+="n";if(!r4k){r4k={};}if(typeof u0F.fetchInitialData === "function" || typeof u0F.fetchUpdateData === "function" || typeof u0F.fetchPaginationData === A9O){G4I="ann";G4I+="ounceError";if(typeof u0F.fetchPaginationData !== "function" && typeof u0F.fetchUpdateData !== "function"){r4k.noLoadMore=!!({});}u0F.v2QuoteFeed=!!"1";["multiFetch",G4I,"requiresImmediateRefresh"].forEach(function(r93){if(!u0F[r93] && u0F[r93] !== !"1"){u0F[r93]=D7s.QuoteFeed.prototype[r93];}W99Ps.p_j();;});if(typeof u0F.subscribe === "function"){u0F.checkSubscriptions=D7s.QuoteFeed.Subscriptions.prototype.checkSubscriptions;u0F.subscriptions=[];}}if(!r4k.maximumTicks){r4k.maximumTicks=u0F.maxTicks?u0F.maxTicks:20000;}if(!r4k.bufferSize || r4k.bufferSize < 0){r4k.bufferSize=0;}r4k.bufferSize=Math.round(r4k.bufferSize);u0F.intervalTimer=null;if(this.quoteDriver){if(!Q0$ && this.quoteDriver.hasUnfilteredQuoteFeed){this.detachQuoteFeed();}else {K52=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:u0F,behavior:r4k,filter:Q0$});if(K52){this.quoteDriver.quoteFeeds.push(K52);}this.quoteDriver.updateChartLoop(null,r4k,u0F);}}if(!this.quoteDriver){this.quoteDriver=new D7s.ChartEngine.Driver(this,u0F,r4k,Q0$);}W99Ps.Y7v();if(!Q0$){this.quoteDriver.hasUnfilteredQuoteFeed=!0;}};D7s.ChartEngine.prototype.detachQuoteFeed=function(b3x){var c4M,j5r,H0s,q0D;c4M=this.quoteDriver;if(!c4M){return;}for(var q_$=c4M.quoteFeeds.length - 1;q_$ >= 0;q_$--){if(!b3x || c4M.quoteFeeds[q_$].engine == b3x){c4M.die(c4M.quoteFeeds[q_$]);c4M.quoteFeeds.splice(q_$,1);}}W99Ps.p_j();if(!c4M.quoteFeeds.length){j5r=-274286486;H0s=-95904922;q0D=+"2";for(var e7S=1;W99Ps.O8J(e7S.toString(),e7S.toString().length,24563) !== j5r;e7S++){c4M=this.quoteDriver=1;q0D+=2;}if(W99Ps.O8J(q0D.toString(),q0D.toString().length,74750) !== H0s){c4M=this.quoteDriver=1;}c4M=this.quoteDriver=null;}else if(b3x == c4M.quoteFeed){c4M.quoteFeed=c4M.quoteFeeds[0].quoteFeed;c4M.behavior=c4M.quoteFeeds[0].behavior;}};D7s.ChartEngine.Driver=function(R7z,U1_,K1R,C5C){this.stx=R7z;if(!K1R){K1R={};}this.quoteFeeds=[{engine:U1_,behavior:K1R,filter:C5C}];this.id=D7s.uniqueID(!![]);this.behavior=K1R;this.quoteFeed=U1_;this.loadingNewChart=![];this.updatingChart=![];if(!C5C){this.hasUnfilteredQuoteFeed=!!"1";}this.updateChartLoop();};D7s.ChartEngine.Driver.prototype.die=function(m69){var S_4;for(var L$l=+"0";L$l < this.quoteFeeds.length;L$l++){if(!m69 || this.quoteFeeds[L$l] == m69){S_4=this.quoteFeeds[L$l];clearInterval(S_4.intervalTimer);S_4.intervalTimer=-1;;}}};D7s.ChartEngine.Driver.prototype.getQuoteFeed=function(L_C){W99Ps.p_j();var q8$;if(!L_C.symbolObject){L_C.symbolObject={symbol:L_C.symbol};}for(var J7N=0;J7N < this.quoteFeeds.length;J7N++){q8$=this.quoteFeeds[J7N];if(q8$.behavior.generator != L_C.symbolObject.generator)continue;if(!q8$.filter || q8$.filter(L_C)){return q8$;}}return null;;};D7s.ChartEngine.Driver.prototype.multiFetch=function(a$j,e8b){var z5t,b5B,B6y;if(a$j.length === 0){e8b([]);}function o2J(I1r,m$h,J65){W99Ps.Y7v();return function(Y1z){var i$4;m$h.results.push({dataCallback:Y1z,params:I1r});m$h.counter++;W99Ps.p_j();if(m$h.counter >= m$h.finished){i$4=m$h.results;m$h.results=[];J65(i$4);}};}z5t={counter:"0" * 1,finished:a$j.length,results:[]};for(var h9A="0" << 96;h9A < a$j.length;h9A++){b5B=a$j[h9A];if(b5B.stx.isEquationChart(b5B.symbol)){D7s.fetchEquationChart(b5B,o2J(b5B,z5t,e8b));}else {B6y=this.getQuoteFeed(b5B);if(B6y){D7s.ChartEngine.Driver.fetchData(D7s.QuoteFeed.SERIES,B6y.engine,b5B,o2J(b5B,z5t,e8b));}}}};D7s.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var G1G=0;G1G < this.quoteFeeds.length;G1G++){if(this.quoteFeeds[G1G].checkSubscriptions){this.quoteFeeds[G1G].checkSubscriptions(this.stx);}}};D7s.ChartEngine.Driver.prototype.loadDependents=function(z4p,z7g,N3W,O3Z){var r6Q=W99Ps;r6Q.p_j();var h_K,J8P,y_O,D_6,A$L,N4T,b_X,q$z,A9a,v_U,u4j,h6z,Z14,o7k,P0x,L3f,k9J,K7x,y4l,z7P,m7S,K4J,g4Y,j_X,n9n;function t9t(N39){return function(J4t){var i7D,q1E,f_t,y01,g81,p7r,Q5P,f8p,D37,N7P;i7D=null;for(var I6q="0" >> 32;I6q < J4t.length;I6q++){q1E=J4t[I6q];f_t=q1E.dataCallback.error;if(!f_t && f_t !== +"0"){y01=q1E.params.symbolObject;g81=q1E.dataCallback;p7r=g81.quotes;Q5P=g81.moreAvailable;f8p=g81.upToDate;D37=[];if(A9a.getSeries){D37=A9a.getSeries({symbolObject:y01});}N7P=!"1";for(var v5r="0" ^ 0;v5r < D37.length;v5r++){Z14=D37[v5r];if(!N39){if(!z4p.future){Z14.moreAvailable=Q5P === !"1"?![]:Q5P || p7r.length > (q1E.params.endDate?1:+"0");}else {Z14.upToDate=f8p === !!({})?!0:f8p || p7r.length <= (q1E.params.startDate?1:0);if(A9a.isHistoricalModeSet && p7r.length < 2){Z14.mostRecentForwardAttempt=new Date();}}Z14.loading=!!"";}N7P=Z14.parameters.fillGaps || N7P;}p7r=h_K.cleanup(A9a,Z14,p7r,N3W,z4p,N7P);A9a.updateChartData(p7r,v_U,{secondarySeries:y01.symbol,noCreateDataSet:!!"1",noCleanupDates:!![],allowReplaceOHL:!![]});if(p7r && p7r.length && (!i7D || i7D > p7r[0].DT)){i7D=p7r[0].DT;}}}if(J4t.length){A9a.createDataSet(null,null,{appending:z4p.originalState.update || z4p.future,appendToDate:i7D});if(!z4p.nodraw){A9a.draw();}if(N3W == D7s.QuoteFeed.INITIAL){h_K.resetRefreshInterval(O3Z.refreshInterval,O3Z);}}r6Q.p_j();if(z7g){z7g(null);}};}h_K=this;if(!O3Z){J8P=0;y_O=[];D_6=[];A$L=function(w7f){r6Q.p_j();if(z7g && ++J8P >= h_K.quoteFeeds.length){z7g(null);}};N4T=function(H10){if(++J8P < y_O.length){return;}if(!D_6.length){A$L(H10);}D_6.forEach(function(c3j){h_K.loadDependents(z4p,A$L,N3W,c3j.behavior);});};h_K.quoteFeeds.forEach(function(W$D){r6Q.Y7v();if(W$D.behavior.generator){D_6.push(W$D);}else {y_O.push(W$D);}});y_O.forEach(function(I1E){h_K.loadDependents(z4p,N4T,N3W,I1E.behavior);});return;}q$z={};A9a=z4p.stx;v_U=z4p.chart;u4j=v_U.series;h6z=A9a.masterData;P0x=[];L3f={};k9J=N3W == D7s.QuoteFeed.UPDATE;K7x=N3W == D7s.QuoteFeed.PAGINATION;y4l=D7s.shallowClone(z4p);for(b_X in u4j){Z14=u4j[b_X];z7P=Z14.parameters;if(!k9J){if(!z4p.future && Z14.moreAvailable === !"1")continue;if(z4p.future && Z14.upToDate === !0)continue;;}if(Z14.loading)continue;if(z7P.loadData === !!"")continue;if(k9J || K7x){if(!Z14.endPoints || !Object.keys(Z14.endPoints).length)continue;;}if(z7P.data && !z7P.data.useDefaultQuoteFeed)continue;o7k=z7P.symbolObject;if(!o7k.symbol)continue;if(o7k.generator != O3Z.generator)continue;y4l.symbolObject=o7k;y4l.symbol=o7k.symbol;m7S=this.getQuoteFeed(y4l);if(O3Z != (m7S && m7S.behavior))continue;K4J=!!({});if(!k9J){Z14.loading=!![];}for(var y_x=+"0";y_x < P0x.length;y_x++){if(D7s.symbolEqual(P0x[y_x],o7k)){K4J=!({});}}if(K4J){P0x.push(o7k);L3f[o7k.symbol]=Z14.endPoints;}}g4Y=[];for(var q43=0;q43 < P0x.length;q43++){o7k=P0x[q43];j_X=D7s.shallowClone(z4p.originalState);j_X.symbol=o7k.symbol;j_X.symbolObject=o7k;if(j_X.update || j_X.future){if(!j_X.endDate){j_X.endDate=z4p.endDate;}j_X.startDate=L3f[o7k.symbol].end;}else {if(!j_X.startDate){j_X.startDate=z4p.startDate;}j_X.endDate=K7x && !z4p.future?L3f[o7k.symbol].begin:z4p.endDate;j_X.ticks=z4p.ticks;}g4Y.push(j_X);}if(!g4Y.length && k9J){n9n={appending:z4p.appending || z4p.originalState.update};if(n9n.appending){n9n.appendToDate=z4p.startDate;}A9a.createDataSet(null,null,n9n);if(!z4p.nodraw){A9a.draw();}if(z7g){z7g(null);}return;}this.multiFetch(g4Y,t9t(k9J));};D7s.ChartEngine.Driver.prototype.cleanup=function(O6C,S1W,x$_,B28,s$c,b2g){var H0R,j7q,W2W,C5Q,w5Z,k7u;O6C.doCleanupDates(x$_,O6C.layout.interval);if(!s$c.missingBarsCreated && x$_ && x$_.length && O6C.cleanupGaps && b2g !== !({})){W2W=s$c.chart;if(!S1W){j7q=W2W.defaultPlotField;}else {W2W=S1W;j7q=S1W.parameters.symbol || S1W.id;}if(B28 == D7s.QuoteFeed.PAGINATION && !s$c.loadMoreReplace){if(W2W.endPoints.begin && W2W.endPoints.begin > x$_[x$_.length - 1].DT){C5Q=O6C.getFirstLastDataRecord(O6C.masterData,j7q,!!"");if(S1W){C5Q=C5Q[j7q];}x$_.push(C5Q);H0R="pop";}}else if(B28 == D7s.QuoteFeed.UPDATE){if(W2W.endPoints.end && W2W.endPoints.end < x$_[0].DT){w5Z="s";w5Z+="hi";w5Z+="f";w5Z+="t";k7u=O6C.getFirstLastDataRecord(O6C.masterData,j7q,!![]);if(S1W){k7u=k7u[j7q];}x$_.unshift(k7u);H0R=w5Z;}}x$_=O6C.doCleanupGaps(x$_,s$c.chart,{cleanupGaps:b2g,noCleanupDates:!![]});if(H0R){x$_[H0R]();}}return x$_;};D7s.ChartEngine.Driver.prototype.updateChart=function(S_L){var d1o,t6l,L1$,Z6t,N0f,q93,w8y,Z$q,F66;if(this.updatingChart){return;}if(this.loadingNewChart){return;}d1o=Object.keys(this.stx.charts).length;t6l=0;L1$=this.stx;Z6t=L1$.layout.interval;function Z4H(U3r,e_m,v8Z,V4t){if(e_m.behavior.prefetchAction){e_m.behavior.prefetchAction("updateChart");}W99Ps.Y7v();return function(W8V){var B7N,q8z,N37;W99Ps.Y7v();t6l++;B7N=e_m.chart;q8z=B7N.masterData;if(v8Z == B7N.symbol && Z6t == L1$.layout.interval && N0f == L1$.layout.timeUnit && !L1$.isHistoricalMode()){if(V4t === U3r.getQuoteFeed(e_m) && !W8V.error){N37=W8V.quotes;N37=U3r.cleanup(L1$,null,N37,D7s.QuoteFeed.UPDATE,e_m);L1$.updateChartData(N37,B7N,{noCreateDataSet:!!({}),noCleanupDates:!!"1"});B7N.attribution=W8V.attribution;}else if(V4t){V4t.engine.announceError(e_m.originalState,W8V);}}else {U3r.updatingChart=!!0;return;}if(t6l == d1o){U3r.updatingChart=!1;}if(e_m.behavior.callback){e_m.behavior.callback(e_m);}U3r.loadDependents(e_m,null,D7s.QuoteFeed.UPDATE,e_m.behavior);;};}N0f=L1$.layout.timeUnit;for(var V1S in L1$.charts){q93=L1$.charts[V1S];if(!q93.symbol)continue;w8y=this.makeParams(q93.symbol,q93.symbolObject,q93);Z$q=this.getQuoteFeed(w8y);if(q93.masterData && q93.masterData.length){w8y.startDate=q93.endPoints.end;;}w8y.update=!0;w8y.originalState=D7s.shallowClone(w8y);if(S_L && S_L != w8y.behavior){this.loadDependents(w8y,null,D7s.QuoteFeed.UPDATE,S_L);continue;}this.updatingChart=!0;F66=Z4H(this,w8y,q93.symbol,Z$q);if(L1$.isEquationChart(w8y.symbol)){D7s.fetchEquationChart(w8y,F66);}else if(Z$q){D7s.ChartEngine.Driver.fetchData(D7s.QuoteFeed.UPDATE,Z$q.engine,w8y,F66);}}};D7s.ChartEngine.Driver.prototype.updateChartLoop=function(T_z,G7f,O8a){var y5Y,X0q;if(!G7f){G7f=this.behavior;}if(!O8a){this.quoteFeeds.forEach(function(s8d){if(s8d.behavior === G7f){O8a=s8d;}});if(!O8a){O8a=this.quoteFeed;}}if(O8a.intervalTimer === -("1" - 0)){return;}clearInterval(O8a.intervalTimer);O8a.intervalTimer=null;y5Y=function(O2X,q4a){W99Ps.p_j();return function(){if(q4a.noUpdate){return;}W99Ps.p_j();O2X.updateChart(q4a);};};for(var N6i=0;N6i < this.quoteFeeds.length;N6i++){X0q=this.quoteFeeds[N6i].behavior;if(G7f == X0q && !X0q.noUpdate){if(!T_z && T_z !== 0){T_z=X0q.refreshInterval;}if(T_z){O8a.intervalTimer=setInterval(y5Y(this,X0q),T_z * +"1000");}}}};D7s.ChartEngine.Driver.prototype.resetRefreshInterval=function(L34,n1u){(n1u || this.behavior).refreshInterval=L34;this.updateChartLoop(null,n1u);;};D7s.ChartEngine.Driver.prototype.pause=function(R_t){this.paused={symbol:R_t,interval:this.behavior.refreshInterval};this.resetRefreshInterval(0);};D7s.ChartEngine.Driver.prototype.resume=function(){var {interval:F90, symbol:o6v}=this.paused;if(D7s.symbolEqual(o6v,this.stx.chart.symbol)){return;}this.resetRefreshInterval(F90);this.paused=null;};D7s.ChartEngine.Driver.prototype.loadAll=function(i0T,z5E){var i6f,J6S;i6f=this;function b$P(){return function(Z9x){W99Ps.p_j();if(Z9x){z5E(Z9x);}else if(i6f.stx.currentlyImporting || !i0T.moreAvailable && i0T.upToDate){z5E(null);}else if(++J6S > 20){console.warn("moreAvailable and upToDate not implemented correctly in quotefeed");z5E();}else {i0T.loadingMore=![];i6f.checkLoadMore(i0T,!0,!!"1",b$P(),!!({}));}};}J6S=0;b$P()();};D7s.ChartEngine.Driver.prototype.checkLoadMore=function(K8p,d8Z,P0w,B9X,K3d){var W5k=W99Ps;var r6w,y0H,s92,K8a,A_i,M1j,s$1,S4V,I9a,R0v,W0Q,U6q,G57,Z_F,x$0,i54,N9J,Z2s,E1l,Y$q,w3s,l6w,r8S;r6w=this.stx;y0H=this;if(K8p.loadingMore || this.loadingNewChart){K8p.initialScroll=K8p.scroll;if(B9X){B9X(null);}return;}s92=r6w.isHistoricalMode();if(!s92){r6w.isHistoricalModeSet=!!0;}K8a=this.makeParams(K8p.symbol,K8p.symbolObject,K8p);function p33(Y_L,S8i){if(A_i.prefetchAction){A_i.prefetchAction("checkLoadMore");}return function(u$7){var S5G,n0r,q5$,o6b,G56,G2l,I3b,J0H,P36;S5G=Y_L.stx;n0r=S8i.chart;W5k.p_j();if(S8i.symbol == n0r.symbol && N9J == S5G.layout.interval && Z2s == S5G.layout.timeUnit){if(!S8i.loadMore){S8i.chart.loadingMore=![];}if(M1j === Y_L.getQuoteFeed(S8i) && !u$7.error){if(!u$7.quotes){u$7.quotes=[];}q5$=u$7.quotes;o6b=n0r.masterData;q5$=Y_L.cleanup(S5G,null,q5$,D7s.QuoteFeed.PAGINATION,S8i);if(q5$.length && n0r.masterData && n0r.masterData.length){if(S8i.future){G56=q5$[0];if(G56.DT && G56.DT == n0r.masterData[n0r.masterData.length - 1].DT){o6b.pop();}}else {W5k.o5K(35);var b5O=W5k.f$g(11,0,10);G2l=q5$[q5$.length - b5O];if(G2l.DT && +G2l.DT == +n0r.masterData[0].DT){q5$.pop();}}}if(!S8i.future){if(u$7.moreAvailable){n0r.moreAvailable=!![];}else if(u$7.moreAvailable === !"1" || !q5$.length){n0r.moreAvailable=![];}else {n0r.moreAvailable=!"";}}else {n0r.maximumForwardPagination=null;if(u$7.upToDate){n0r.upToDate=!"";}else if(u$7.upToDate === !"1" || q5$.length > 1){n0r.upToDate=!({});}else if(!q5$.length || q5$.length === 1 && +S8i.startDate === +u$7.quotes[0].DT){if(S8i.fetchMaximumBars){n0r.upToDate=!![];}else {n0r.maximumForwardPagination=!![];}}if(S5G.isHistoricalModeSet && q5$.length < 2){n0r.mostRecentForwardAttempt=new Date();};}Y_L.tickMultiplier=q5$.length?2:Y_L.tickMultiplier * 2;I3b=q5$[0]?q5$["0" >> 32].DT:S8i.startDate;J0H=q5$["0" >> 0]?q5$[q5$.length - 1].DT:S8i.endDate;if(!n0r.endPoints.begin || n0r.endPoints.begin > I3b){n0r.endPoints.begin=I3b;}if(!n0r.endPoints.end || n0r.endPoints.end < J0H){n0r.endPoints.end=J0H;}n0r.loadingMore=!!0;if(S8i.loadMoreReplace){S5G.setMasterData(q5$,n0r,{noCleanupDates:!!({})});}else if(S8i.future){S5G.updateChartData(q5$,n0r,{noCreateDataSet:!![],noCleanupDates:!0});}else {D7s.addMemberToMasterdata({stx:S5G,chart:n0r,data:q5$,fields:["*"],noCleanupDates:!!1});}if(S8i.future){P36={appending:!0,appendToDate:q5$["0" >> 64] && q5$[0].DT};}S5G.createDataSet(undefined,undefined,P36);if(!K3d){S5G.draw();}if(A_i.callback){A_i.callback(S8i);}Y_L.loadDependents(S8i,B9X,D7s.QuoteFeed.PAGINATION);}else {Y_L.quoteFeed.announceError(S8i.originalState,u$7);S8i.chart.loadingMore=!!"";if(B9X){B9X(u$7.error);}}}else {return;}};}if(r6w.currentlyImporting){if(B9X){B9X(null);}return;}A_i=K8a.behavior;s$1=K8p.dataSet;W5k.E2X(24);var G2o=W5k.b3H(169,1014,6,999);W5k.E2X(72);var v6U=W5k.b3H(8,16,3);I9a=G2o * (A_i.forwardPaginationRetryInterval || v6U);R0v=!({});W0Q=![];W5k.p_j();if(K8p.dataSet.length){for(var k6T in K8p.series){U6q=K8p.series[k6T];if(U6q.loading)continue;if(U6q.parameters.loadData === !!"")continue;S4V=!U6q.mostRecentForwardAttempt || U6q.mostRecentForwardAttempt.getTime() + I9a < Date.now();if(U6q.moreAvailable !== !!"" && U9z(U6q)){R0v=!"";}if(S4V && !U6q.upToDate && b88(U6q)){W0Q=!![];}}}S4V=!K8p.mostRecentForwardAttempt || K8p.mostRecentForwardAttempt.getTime() + I9a < Date.now();G57=(U9z(K8p) || d8Z) && K8p.moreAvailable !== !!0;function U9z(J3e){if(y0H.paused){return !({});}W5k.p_j();return !J3e.endPoints.begin || s$1.length - K8p.scroll < A_i.bufferSize || s$1.length - K8p.scroll - r6w.tickFromDate(J3e.endPoints.begin,K8p) < A_i.bufferSize;}Z_F=(b88(K8p) || d8Z) && !K8p.upToDate && S4V;x$0=G57 || R0v;i54=(r6w.isHistoricalModeSet || !K8p.upToDate) && !x$0 && (Z_F || W0Q);N9J=r6w.layout.interval;Z2s=r6w.layout.timeUnit;E1l=!({});function p_d(g8O){W5k.Y7v();K8p.loadingMore=!({});if(B9X){B9X(g8O);}}Y$q=A_i.findHeadOfData || K8p.masterData && K8p.masterData.length;if(!A_i.noLoadMore && Y$q){if(i54 || !r6w.maxDataSetSize || K8p.dataSet.length < r6w.maxDataSetSize){if(x$0 || i54){K8p.initialScroll=K8p.scroll;K8p.loadingMore=!![];K8a=this.makeParams(K8p.symbol,K8p.symbolObject,K8p);K8a.pagination=!"";K8a.future=i54;if(K8p.masterData && K8p.masterData.length){if(i54){K8a.startDate=K8p.endPoints.end;}else {K8a.endDate=K8p.endPoints.begin;}if(i54 && !K8a.startDate){w3s=r6w.getFirstLastDataRecord(K8p.masterData,"DT",!!({}));if(w3s){K8a.startDate=w3s.DT;}}else if(x$0 && !K8a.endDate){l6w="D";l6w+="T";w3s=r6w.getFirstLastDataRecord(K8p.masterData,l6w);if(w3s){K8a.endDate=w3s.DT;}}}else {K8a.endDate=new Date();}K8a.originalState=D7s.shallowClone(K8a);K8a.nodraw=K3d;if(!G57 && (R0v || !Z_F && W0Q)){this.loadingMore=!![];this.loadDependents(K8a,p_d,D7s.QuoteFeed.PAGINATION);if(B9X){B9X(null);}return;}if(K8p.maximumForwardPagination || r6w.fetchMaximumBars[r6w.layout.aggregationType]){K8a.fetchMaximumBars=!!({});if(!r6w.maxMasterDataSize || A_i.maximumTicks < r6w.maxMasterDataSize){K8a.ticks=A_i.maximumTicks;}else {K8a.ticks=r6w.maxMasterDataSize;}}r8S=p33(this,K8a);if(r6w.isEquationChart(K8a.symbol)){D7s.fetchEquationChart(K8a,r8S);}else {if(i54){K8a.appending=!![];}M1j=y0H.getQuoteFeed(K8a);if(M1j){D7s.ChartEngine.Driver.fetchData(D7s.QuoteFeed.PAGINATION,M1j.engine,K8a,r8S);}}E1l=!![];}}}if(!E1l && B9X){B9X(null);}function b88(o30){if(y0H.paused){return !!0;}W5k.Y7v();return !o30.endPoints.end || K8p.scroll - K8p.maxTicks + +"1" < A_i.bufferSize || r6w.tickFromDate(o30.endPoints.end,K8p,null,!!({})) - s$1.length + K8p.scroll - K8p.maxTicks + 2 < A_i.bufferSize;}};D7s.ChartEngine.Driver.prototype.extendHistoricalData=function({from:d6j},A0m = ()=>{}){var C7z,z0S;var {stx:w4r}=this;var {chart:J8S, layout:F2x}=w4r;var {masterData:n6k, dataSet:B4w}=J8S;function O02(Q_$,c$p){return function({quotes:c7M, moreAvailable:x4A, error:L0d}){if(c$p.symbol !== J8S.symbol || G_S !== F2x.interval || w1K !== F2x.timeUnit){return;;}J8S.loadingMore=![];if(L0d){return A0m(L0d);}c7M=Q_$.cleanup(w4r,null,c7M,D7s.QuoteFeed.PAGINATION,c$p);if(typeof x4A === "boolean"){J8S.moreAvailable=x4A;}else {J8S.moreAvailable=!!c7M.length;}J8S.endPoints.begin=d6j;D7s.addMemberToMasterdata({stx:w4r,chart:J8S,data:c7M,fields:[("565.61" * 1,4978) !== (2610,4054)?"*":3560 <= (+"2280","5455" ^ 0)?(3270,81.02) != (6830,908.31)?("713.53" * 1,!!({})):(!![],538.71):("9.85e+3" | 34,0x258b)],noCleanupDates:!![]});w4r.createDataSet();w4r.draw();};}var {interval:G_S, timeUnit:w1K}=F2x;C7z=this.makeParams(J8S.symbol,J8S.symbolObject,J8S);z0S=this.getQuoteFeed(C7z);if(J8S.loadingMore || this.loadingNewChart || w4r.currentlyImporting || !n6k.length || !z0S || w4r.maxDataSetSize && B4w.length > w4r.maxDataSetSize){return A0m(null);}J8S.loadingMore=!"";C7z.originalState=Object.assign({},C7z);C7z.startDate=d6j;C7z.endDate=n6k[0].DT;D7s.ChartEngine.Driver.fetchData(D7s.QuoteFeed.PAGINATION,z0S.engine,C7z,O02(this,C7z));};function J3s(){}D7s.ChartEngine.Driver.prototype.barsToFetch=function(o7e){var z1F,p0W,c2e,u61,E3N;z1F="w";W99Ps.Y7v();z1F+="e";z1F+="e";z1F+="k";if(!D7s.isValidNumber(this.tickMultiplier)){W99Ps.o5K(1);this.tickMultiplier=W99Ps.f$g(0,"2");}p0W=this.stx.layout.interval;c2e=o7e.stx.layout.periodicity;if((p0W == "month" || p0W == z1F) && !this.stx.dontRoll){u61="we";u61+="ek";c2e*=p0W == u61?7:30;}E3N=o7e.stx.chart.maxTicks * c2e;return E3N * this.tickMultiplier;};D7s.ChartEngine.Driver.determineStartDate=function(F3W,p5K,N8y){return this.determineStartOrEndDate(F3W,p5K,N8y,!!({}));};D7s.ChartEngine.Driver.determineStartOrEndDate=function(q$r,S9$,b8v,R2v){var e_a,h6b,a0b,v5Z;if(R2v){e_a=q$r.startDate || S9$.previous(b8v);}else {h6b=-1645971354;a0b=+"1638716571";v5Z=2;for(var j6v="1" ^ 0;W99Ps.E56(j6v.toString(),j6v.toString().length,25260) !== h6b;j6v++){e_a=q$r.future?S9$.next(b8v):new Date();v5Z+=2;}if(W99Ps.E56(v5Z.toString(),v5Z.toString().length,99333) !== a0b){e_a=q$r.future?S9$.next(b8v):new Date();}}return e_a;};D7s.ChartEngine.Driver.prototype.makeParams=function(U_f,f4C,X2S){var U1V,m51,L4O,C7i,O$T,Q6$,H3$,C8U,U0x;W99Ps.Y7v();U1V=this.stx;m51=U1V.layout.interval;L4O=this.barsToFetch({stx:U1V});if((m51 == "month" || m51 == "week") && !U1V.dontRoll){C7i="d";C7i+="a";C7i+="y";m51=C7i;}O$T=this.getQuoteFeed({interval:m51,symbol:U_f,symbolObject:f4C});Q6$=O$T && O$T.behavior;H3$=D7s.shallowClone(Q6$) || ({});H3$.behavior=Q6$;C8U=!!"";U0x=[];if(X2S.market && X2S.market.getSessionNames){U0x=X2S.market.getSessionNames();}if(U1V.extendedHours){if(U1V.extendedHours.filter){C8U=!"";}else {C8U=U1V.layout.extended;U0x=U0x.filter(function(X6L){return X6L.enabled || U1V.layout.marketSessions[X6L.name];});}}else {U0x=U0x.filter(function(k$E){return k$E.enabled;});}for(var C3A=+"0";C3A < U0x.length;C3A++){U0x[C3A]=U0x[C3A].name;;}D7s.extend(H3$,{stx:U1V,symbol:U_f,symbolObject:f4C,chart:X2S,interval:m51,extended:C8U,period:1,ticks:L4O,additionalSessions:U0x,quoteDriverID:this.id},!!({}));if(!H3$.symbolObject){H3$.symbolObject={symbol:U_f};}if(!isNaN(H3$.interval)){H3$.period=parseInt(H3$.interval,10);H3$.interval=U1V.layout.timeUnit;if(!H3$.interval){H3$.interval="minute";}}return H3$;};D7s.ChartEngine.Driver.prototype.newChart=function(U11,X_B){var D0X,P6O,N9y,n04,O61,P_8,J15,V0T,O2B,g_8,O$H,f$O;D0X=this.stx;P6O=U11.symbol;N9y=D0X.layout.interval;n04=D0X.layout.timeUnit;O61=U11.chart;O61.moreAvailable=null;O61.upToDate=null;O61.loadingMore=!1;O61.attribution=null;P_8=this.makeParams(P6O,U11.symbolObject,O61);function y6n(t5Z,e4q){var i8U;i8U="new";i8U+="Char";i8U+="t";if(V0T.prefetchAction){V0T.prefetchAction(i8U);}W99Ps.p_j();return function(Z76){var C8D,P7a,o$b,e24;C8D=e4q.chart;P7a=Z76.quotes;o$b=![];if(P6O == C8D.symbol && N9y == D0X.layout.interval && n04 == D0X.layout.timeUnit){t5Z.loadingNewChart=!({});if(J15 === t5Z.getQuoteFeed(e4q) && !Z76.error){P7a=t5Z.cleanup(D0X,null,P7a,D7s.QuoteFeed.INITIAL,e4q);D0X.setMasterData(P7a,C8D,{noCleanupDates:!![]});C8D.endPoints={};C8D.endPoints.begin=P7a[0]?P7a[0].DT:e4q.startDate;C8D.endPoints.end=P7a[0]?P7a[P7a.length - ("1" - 0)].DT:e4q.endDate;if(!P7a){C8D.moreAvailable=!"1";C8D.upToDate=!0;}else {C8D.moreAvailable=Z76.moreAvailable === !({})?![]:!!({});C8D.upToDate=Z76.upToDate;}C8D.attribution=Z76.attribution;if(U11.initializeChart){D0X.initializeChart();}D0X.createDataSet();o$b=!![];}else {J15.engine.announceError(e4q.originalState,Z76);}}else {if(X_B){X_B("orphaned");}return;}for(var o0G in C8D.series){C8D.series[o0G].endPoints={};C8D.series[o0G].moreAvailable=null;C8D.series[o0G].upToDate=null;}e24=C8D.masterData;if(e24 && e24.length){e4q.startDate=e24[+"0"].DT;e4q.endDate=e24[e24.length - 1].DT;}if(V0T.callback){V0T.callback(e4q);}t5Z.loadDependents(e4q,function(){if(o$b && !e4q.nodraw){t5Z.stx.home();}W99Ps.p_j();if(X_B){X_B(Z76.error);}t5Z.stx.dispatch("newChart",{stx:t5Z.stx,symbol:t5Z.stx.chart.symbol,symbolObject:t5Z.stx.chart.symbolObject,moreAvailable:t5Z.stx.chart.moreAvailable,upToDate:t5Z.stx.chart.upToDate,quoteDriver:t5Z});t5Z.resetRefreshInterval(V0T.refreshInterval,V0T);},D7s.QuoteFeed.INITIAL);};}D7s.extend(P_8,U11,!"");J15=this.getQuoteFeed(P_8);V0T=P_8.behavior;if(D0X.fetchMaximumBars[D0X.layout.aggregationType] || U11.fetchMaximumBars){if(!D0X.maxMasterDataSize || V0T.maximumTicks < D0X.maxMasterDataSize){P_8.ticks=V0T.maximumTicks;}else {P_8.ticks=D0X.maxMasterDataSize;}O2B=-157137834;g_8=1926864889;O$H=2;for(var f00="1" | 1;W99Ps.E56(f00.toString(),f00.toString().length,+"22664") !== O2B;f00++){P_8.fetchMaximumBars=!!"1";O$H+=2;}if(W99Ps.E56(O$H.toString(),O$H.toString().length,24486) !== g_8){P_8.fetchMaximumBars=!({});}}this.loadingNewChart=!![];this.updatingChart=!!0;P_8.originalState=D7s.shallowClone(P_8);f$O=y6n(this,P_8);if(this.stx.isEquationChart(P_8.symbol)){D7s.fetchEquationChart(P_8,f$O);}else if(J15){D7s.ChartEngine.Driver.fetchData(D7s.QuoteFeed.INITIAL,J15.engine,P_8,f$O);}};D7s.QuoteFeed.INITIAL=1;D7s.QuoteFeed.UPDATE=2;D7s.QuoteFeed.PAGINATION=3;D7s.QuoteFeed.SERIES=4;D7s.ChartEngine.Driver.fetchData=function(v8o,B8E,n96,P8r){if(!n96.symbol){return P8r({quotes:[]});}if(B8E.v2QuoteFeed){if(typeof B8E.subscribe !== "function"){D7s.ChartEngine.Driver.fetchDataInContext(v8o,B8E,n96,P8r);}else {D7s.ChartEngine.Driver.fetchDataInContext(v8o,B8E,n96,(function(a1R){if(!a1R.error){this.checkSubscriptions(n96.stx);}W99Ps.p_j();P8r(a1R);}).bind(B8E));}}else {n96.stx.convertToDataZone(n96.startDate);n96.stx.convertToDataZone(n96.endDate);B8E.fetch(n96,P8r);}};D7s.ChartEngine.Driver.fetchDataInContext=function(L5i,N03,K2s,E9r){var V9D=W99Ps;var S_B,L4T,Y06,I8e,V5j,u4S,I6l,A42,N7_,t6S,d__,F4z,g6J;V5j=K2s.stx;V9D.p_j();if(!V5j.chart.market.newIterator){u4S="quoteFeed feature requires first ";u4S+="activating market";u4S+=" feature.";console.error(u4S);return;}if(L5i === D7s.QuoteFeed.SERIES){K2s.series=!![];L5i=D7s.QuoteFeed.INITIAL;if(K2s.endDate && !K2s.startDate || K2s.future){L5i=D7s.QuoteFeed.PAGINATION;}else if(K2s.startDate && !K2s.endDate){L5i=D7s.QuoteFeed.UPDATE;}}I6l=Math.min(K2s.ticks,K2s.maximumTicks);if(N03.maxTicks){I6l=Math.min(I6l,N03.maxTicks);}A42=K2s.symbolObject.masterSymbol || K2s.symbol;switch(L5i){case D7s.QuoteFeed.UPDATE:if(V5j.isHistoricalModeSet){V5j.quoteDriver.updatingChart=![];return;}if(K2s.startDate){N7_=K2s.startDate;}else {N7_=new Date();V9D.E2X(8);N7_.setHours(V9D.b3H("0",0),0,0,0);}if(typeof N03.fetchUpdateData === "function"){N03.fetchUpdateData(A42,V5j.convertToDataZone(N7_),K2s,E9r);}break;case D7s.QuoteFeed.INITIAL:I8e=K2s.endDate || new Date();S_B={begin:I8e,interval:K2s.interval,periodicity:K2s.interval == "tick"?V5j.chart.xAxis.futureTicksInterval:K2s.period,outZone:V5j.dataZone};L4T=V5j.chart.market.newIterator(S_B);Y06=D7s.ChartEngine.Driver.determineStartDate(K2s,L4T,I6l);if(K2s.endDate){I8e=K2s.endDate;}if(typeof N03.fetchInitialData === "function"){N03.fetchInitialData(A42,Y06,V5j.convertToDataZone(I8e),K2s,E9r);}break;case D7s.QuoteFeed.PAGINATION:S_B={begin:K2s.endDate || K2s.startDate,interval:K2s.interval,periodicity:K2s.interval == "tick"?V5j.chart.xAxis.futureTicksInterval:K2s.period,outZone:V5j.dataZone};L4T=V5j.chart.market.newIterator(S_B);t6S=D7s.ChartEngine.Driver.determineStartOrEndDate(K2s,L4T,I6l,!K2s.future);Y06=K2s.startDate || t6S;I8e=K2s.endDate || t6S;if(!K2s.startDate){K2s.stx.convertToDataZone(I8e);}else {K2s.stx.convertToDataZone(Y06);}if(typeof N03.fetchPaginationData === "function"){d__=-+"585300509";F4z=1150665411;g6J=2;for(var S3P="1" << 32;V9D.E56(S3P.toString(),S3P.toString().length,84989) !== d__;S3P++){if(V5j.maxMasterDataSize || V5j.maxMasterDataSize > V5j.masterData.length){return;}g6J+=2;}if(V9D.O8J(g6J.toString(),g6J.toString().length,60652) !== F4z){if(V5j.maxMasterDataSize && V5j.maxMasterDataSize <= V5j.masterData.length){return;}}N03.fetchPaginationData(A42,Y06,I8e,K2s,function(p3_){V9D.Y7v();if(I8e >= Date.now()){V5j.isHistoricalModeSet=!"1";}if(E9r){E9r(p3_);}});}break;default:console.error("Illegal fetchData constant");}};};P=e$7=>{var H3P;H3P=typeof _CIQ !== "undefined"?_CIQ:e$7.CIQ;H3P.ChartEngine.prototype.addSeries=function(y_W,V_7,A49){var A5_=W99Ps;var x$D,v9M,q3f,I1Y,a4S,F2E,P_j,v8Y,W40,p7k,b4v,A$C,m1j,v_7,X9R,E_b,d5I,L8h,D1U,v3y,R8E,o1s,Y4P,n0l,A3r,l5I,r79,I9e,b0Q;x$D="ad";x$D+="dSer";x$D+="ie";x$D+="s";v9M="ad";v9M+="d-s";v9M+="e";v9M+="ries";q3f="addSe";q3f+="ries";I1Y=this.runPrepend(q3f,arguments);if(I1Y){return I1Y;}a4S=y_W?y_W:null;F2E=y_W;if(!y_W){y_W=H3P.uniqueID();}if(V_7 && V_7.panel === !!1){V_7.panel=y_W;}P_j={parameters:V_7?H3P.clone(V_7):{},yValueCache:[],display:a4S,id:y_W,loading:V_7?V_7.loadData !== !({}):!!"1"};P_j.parameters.yAxis=V_7 && V_7.yAxis;V_7=P_j.parameters;if(V_7.symbol){F2E=V_7.symbol;}if(V_7.isComparison){V_7.shareYAxis=!![];}if(V_7.yAxis && !(V_7.yAxis instanceof H3P.ChartEngine.YAxis)){v8Y=513827322;W40=+"121547028";p7k=2;for(var n4a=1;A5_.O8J(n4a.toString(),n4a.toString().length,14956) !== v8Y;n4a++){V_7.yAxis=new H3P.ChartEngine.YAxis(V_7.yAxis);;p7k+=2;}if(A5_.E56(p7k.toString(),p7k.toString().length,18785) !== W40){V_7.yAxis=new H3P.ChartEngine.YAxis(V_7.yAxis);;}V_7.yAxis=new H3P.ChartEngine.YAxis(V_7.yAxis);;}H3P.ensureDefaults(V_7,{chartName:this.chart.name,symbolObject:{symbol:F2E},panel:this.chart.panel.name,fillGaps:!!"",action:v9M});if(("display" in V_7)){P_j.display=V_7.display;}b4v=this.charts[V_7.chartName];A$C=V_7.symbolObject;F2E=V_7.symbol=A$C.symbol;if(!P_j.display){P_j.display=F2E || V_7.field;}P_j.endPoints={};if(!V_7.gapDisplayStyle && V_7.gapDisplayStyle !== !1){V_7.gapDisplayStyle=V_7.gaps;}if(V_7.isComparison){m1j=-237224575;v_7=-1377829520;X9R=2;for(var L0M=1;A5_.O8J(L0M.toString(),L0M.toString().length,"31629" >> 0) !== m1j;L0M++){if(V_7.gapDisplayStyle != undefined){V_7.gapDisplayStyle="";}X9R+=2;}if(A5_.E56(X9R.toString(),X9R.toString().length,84662) !== v_7){if(V_7.gapDisplayStyle === undefined){V_7.gapDisplayStyle="transparent";}}}function a$w(T13,k93){var C_I,T5G,l_L,D5I;C_I=V_7.renderer || "Lines";T5G=V_7.name || y_W;if(V_7.yAxis && !(V_7.yAxis instanceof H3P.ChartEngine.YAxis) && !Y4P){V_7.yAxis.name=T5G;}if(!V_7.renderer && !V_7.name && !V_7.color && !V_7.chartType){return;}l_L=T13.getSeriesRenderer(T5G);if(!l_L){D5I={name:T5G,overChart:V_7.overChart !== !1,useChartLegend:!!({})};if(V_7.chartType){l_L=H3P.Renderer.produce(V_7.chartType,H3P.extend({highlightable:V_7.highlightable,dependentOf:V_7.dependentOf,panel:V_7.panel,yAxis:V_7.yAxis,baseline:V_7.baseline},D5I));}else {H3P.ensureDefaults(V_7,D5I);l_L=new H3P.Renderer[C_I]({params:V_7});}if(!l_L){return;}T13.setSeriesRenderer(l_L);}l_L.attachSeries(y_W,V_7);if(V_7.loadData !== !({})){l_L.ready();}T13.layout.symbols=T13.getSymbols({"include-parameters":!![],"exclude-studies":!!({})});}E_b=this.getSeries({symbolObject:A$C,chart:b4v,includeMaster:!""});d5I=V_7.panel;if(!this.panels[d5I]){L8h=V_7.yAxis || new H3P.ChartEngine.YAxis();L8h.name=y_W;this.createPanel(y_W,d5I,null,null,L8h);if(!this.preferences.dragging || !this.preferences.dragging.series){V_7.highlightable=!"1";}}else {if(!V_7.yAxis && !V_7.shareYAxis){D1U=-1970192303;v3y=-1909889209;R8E=2;for(var e4R=1;A5_.E56(e4R.toString(),e4R.toString().length,+"84536") !== D1U;e4R++){V_7.yAxis=new H3P.ChartEngine.YAxis({name:y_W,position:""});R8E+=2;}if(A5_.E56(R8E.toString(),R8E.toString().length,22399) !== v3y){V_7.yAxis=new H3P.ChartEngine.YAxis({name:y_W,position:""});}V_7.yAxis=new H3P.ChartEngine.YAxis({name:y_W,position:"none"});}}b4v.series[y_W]=P_j;function A_a(j8Y){A5_.p_j();return function(V0z){var H3p,e7U;if(!V0z.error){H3p=V0z.quotes;e7U=V_7.fillGaps;if(!o1s.cleanupGaps){e7U=![];}H3p=o1s.doCleanupGaps(H3p,o1s.chart,{cleanupGaps:e7U});o1s.updateChartData(H3p,o1s.chart,{secondarySeries:F2E,noCreateDataSet:!![],noCleanupDates:!"",allowReplaceOHL:!!"1"});P_j.loading=!({});P_j.moreAvailable=V0z.moreAvailable;P_j.upToDate=V0z.upToDate;a$w(o1s,P_j);}A5_.p_j();if(V_7.action !== null && !E_b.length){o1s.dispatch(Y4P?"symbolImport":"symbolChange",{stx:o1s,symbol:j8Y.symbol,symbolObject:j8Y.symbolObject,action:V_7.action,id:P_j.id,parameters:V_7});}if(A49){A49.call(o1s,V0z.error,P_j);}};}o1s=this;Y4P=this.currentlyImporting;if(V_7.isComparison && b4v.forcePercentComparison && V_7.panel == b4v.panel.name && (!V_7.yAxis || V_7.yAxis == b4v.yAxis)){this.setChartScale("percent");}n0l=b4v.masterData;if(!n0l){n0l=b4v.masterData=this.masterData=[];}A3r=n0l.length;A5_.p_j();if(V_7.data && !V_7.data.useDefaultQuoteFeed){l5I={symbol:F2E,symbolObject:A$C,action:V_7.action};A_a(l5I)({quotes:V_7.data});}else if(E_b.length){P_j.endPoints=E_b[0].endPoints;P_j.loading=E_b[0].loading;a$w(this,P_j);if(A49){setTimeout(function(){A5_.p_j();A49.call(o1s,null,P_j);},0);}}else if(this.quoteDriver && V_7.loadData !== !"1"){r79=this.quoteDriver;I9e=r79.makeParams(F2E,A$C,b4v);if(A3r){I9e.startDate=n0l[0].DT;I9e.endDate=this.isHistoricalMode()?n0l[n0l.length - 1].DT:new Date();}if(I9e.stx.isEquationChart(I9e.symbol)){H3P.fetchEquationChart(I9e,A_a(I9e));}else {b0Q=r79.getQuoteFeed(I9e);if(b0Q){H3P.ChartEngine.Driver.fetchData(4,b0Q.engine,I9e,A_a(I9e));}}}else {a$w(this,P_j);if(V_7.action !== null && !E_b.length){o1s.dispatch(Y4P?"symbolImport":"symbolChange",{stx:o1s,symbol:F2E,symbolObject:A$C,action:V_7.action,id:P_j.id,parameters:V_7});}if(A49){A49.call(this,null,P_j);}}this.runAppend(x$D,arguments);return P_j;};H3P.ChartEngine.prototype.getSeries=function(w4i){var z8u,v9y,U9n,T$L,t69;z8u=w4i.chart?w4i.chart:this.chart;v9y=z8u.series;U9n=w4i.symbolObject;if(!U9n){U9n={symbol:w4i.symbol};}T$L=[];for(var Y_Q in v9y){t69=v9y[Y_Q];if(H3P.symbolEqual(U9n,t69.parameters.symbolObject)){T$L.push(t69);}}if(w4i.includeMaster){if(H3P.symbolEqual(U9n,z8u.symbolObject)){T$L.push({});}}return T$L;};H3P.ChartEngine.prototype.modifySeries=function(J4S,b5y,M5B){var I55,l3U,V_j,x8d,S7R,o4f,A4U,h7e,y6h,y5X,c2R,N4V,l4i,C85;if(this.runPrepend("modifySeries",arguments)){return;}if(!b5y){return;}if(typeof J4S === "string"){V_j=b5y.chartName?this.charts[b5y.chartName]:this.chart;l3U=J4S;I55=V_j.series[l3U];}else {I55=J4S;l3U=I55.id;V_j=this.charts[I55.parameters.chartName];}if(!I55){return;}H3P.extend(I55.parameters,b5y,!!"1");this.getRendererFromSeries(l3U).modifyRenderer(b5y);x8d=I55.parameters;for(var o5y in V_j.seriesRenderers){o4f=V_j.seriesRenderers[o5y];A4U=o4f.params;h7e=o4f.seriesParams;for(var k5h=0;k5h < h7e.length;++k5h){y6h=h7e[k5h];y5X=this.panels[y6h.panel];c2R=y5X && y5X.yAxis.name;if(y6h.id === I55.id){if(x8d.panel === !![]){x8d.panel=x8d.dependentOf || x8d.name;}A4U.panel=x8d.panel;if(b5y.yAxis){if(!(b5y.yAxis instanceof H3P.ChartEngine.YAxis)){b5y.yAxis=new H3P.ChartEngine.YAxis(b5y.yAxis);;}A4U.yAxis=b5y.yAxis;}if(x8d.panel != y6h.panel && A4U.name == c2R){this.electNewPanelOwner(y6h.panel);;}else {N4V=this.getYAxisByName(x8d.panel,A4U.name);if(N4V && x8d.yAxis && N4V.name !== x8d.yAxis.name){N4V.name=this.electNewYAxisOwner(N4V);}}if(!x8d.field){x8d.field=null;}o4f.attachSeries(l3U,H3P.ensureDefaults(x8d,y6h));if(!x8d.field){x8d.field=x8d.subField;}delete x8d.subField;if(x8d.isComparison && V_j.forcePercentComparison && x8d.panel == V_j.panel.name && (!I55.parameters.yAxis || x8d.yAxis.name == V_j.yAxis.name)){this.setChartScale("percent");}S7R=o4f;break;}}}H3P.getFn("Drawing.updateSource")(this,I55.parameters.symbol || l3U,null,I55.parameters.panel);this.runAppend("modifySeries",arguments);if(M5B !== !0){l4i=S7R.getDependents(this);for(var k6Z=0;k6Z < l4i.length;k6Z++){this.modifySeries(l4i[k6Z].params.name,{panel:S7R.params.panel,yAxis:I55.parameters.yAxis},!0);}C85=V_j.seriesRenderers[S7R.params.dependentOf];if(C85){if(C85.params.yAxis != I55.parameters.yAxis || C85.params.panel != S7R.params.panel){this.modifySeries(S7R.params.dependentOf,{panel:S7R.params.panel,yAxis:I55.parameters.yAxis},!![]);}}}this.draw();return I55;};H3P.ChartEngine.prototype.deleteSeries=function(T0B,t2K,T3L){var i7L,M3O,U_1,S03,V$o,c6L,R_4,q1Y,f50;i7L="s";i7L+="ym";i7L+="bol";i7L+="Import";M3O="dele";M3O+="teS";M3O+="eries";if(this.runPrepend(M3O,arguments)){return;}T3L=T3L?T3L:{};U_1=T3L.action?T3L.action:"remove-series";if(typeof T0B === "object"){S03=T0B.id;t2K=t2K || this.charts[T0B.parameters.chartName];}else {S03=T0B;t2K=t2K || this.chart;}V$o=t2K.series[S03];if(!V$o){return;}c6L=V$o.parameters.loadData;R_4=V$o.parameters.symbolObject;delete t2K.series[S03];this.layout.symbols=this.getSymbols({"include-parameters":!!"1","exclude-studies":!!1});q1Y=this.getSeries({symbolObject:R_4,includeMaster:!0});if(c6L !== !({}) && !q1Y.length){this.cleanMasterData(R_4,t2K);}f50=this.panels[V$o.parameters.panel];if(f50){this.checkForEmptyPanel(f50);}this.createDataSet();if(!q1Y.length){this.dispatch(this.currentlyImporting?i7L:"symbolChange",{stx:this,symbol:R_4.symbol,symbolObject:R_4,id:S03,action:U_1});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};H3P.ChartEngine.prototype.removeSeries=function(M0i,u11){var k7U,K2L,B7R,M9Y,I2y,P$0,D33,T4A;k7U="obj";k7U+="e";k7U+="ct";if(this.runPrepend("removeSeries",arguments)){return;}B7R=!"1";if(typeof M0i === k7U){K2L=M0i.id;u11=u11 || this.charts[M0i.parameters.chartName];}else {K2L=M0i;u11=u11 || this.chart;}for(var Y_m in u11.seriesRenderers){M9Y=u11.seriesRenderers[Y_m];I2y=this.panels[M9Y.params.panel];P$0=I2y && I2y.yAxis.name;for(var n0L=M9Y.seriesParams.length - ("1" ^ 0);n0L >= 0;n0L--){D33=M9Y.seriesParams[n0L];if(D33.id === K2L){M9Y.removeSeries(K2L);if(M9Y.seriesParams.length < 1){this.removeSeriesRenderer(M9Y);if(M9Y.params.name == P$0){this.electNewPanelOwner(M9Y.params.panel);}else {if(!this.checkForEmptyPanel(M9Y.params.panel)){T4A=this.getYAxisByName(I2y,M9Y.params.name);if(T4A){T4A.name=T4A.studies[0] || T4A.renderers["1" | 1];}}}}B7R=!0;}}}if(!B7R){this.deleteSeries(K2L,u11);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend("removeSeries",arguments);};H3P.Comparison=H3P.Comparison || (function(){});H3P.Comparison.initialPrice=100;H3P.Comparison.getInitialPrice=function(Q6I){var K24,N0d,l1S,T9W,T5X,M3j,J6q;K24="nu";K24+="m";K24+="ber";if(Q6I.initialComparisonPrice){return Q6I.initialComparisonPrice;}Q6I.initialComparisonPrice=100;N0d=H3P.Comparison.initialPrice;if(typeof N0d == K24){Q6I.initialComparisonPrice=N0d;}if(typeof N0d == "string"){if(Q6I.series[N0d] || N0d === ""){l1S="Close";if(Q6I.defaultPlotField){if(!Q6I.highLowBars){l1S=Q6I.defaultPlotField;}}for(var U7L=Q6I.dataSet.length - Q6I.scroll - ("1" << 0);U7L < Q6I.dataSet.length;U7L++){T9W=Q6I.dataSet[U7L];if(T9W){if(T9W[N0d] && T9W[N0d][l1S]){Q6I.initialComparisonPrice=T9W[N0d][l1S];break;}else if(N0d === "" && T9W[l1S]){Q6I.initialComparisonPrice=T9W[l1S];break;}}}}}T5X=170023030;M3j=-348334550;J6q=2;for(var P_V=1;W99Ps.O8J(P_V.toString(),P_V.toString().length,28372) !== T5X;P_V++){return Q6I.initialComparisonPrice;}if(W99Ps.O8J(J6q.toString(),J6q.toString().length,74952) !== M3j){return Q6I.initialComparisonPrice;}};H3P.Comparison.priceToPercent=function(T4L,c5G,h91,r0o,p7S){var A_f=W99Ps;var s6M,z65,m$3;s6M="C";s6M+="l";s6M+="os";s6M+="e";z65="o";z65+="bject";m$3=T4L.comparisonBaseline;if(m$3 && (p7S in m$3)){m$3=m$3[p7S];}if(m$3 && typeof m$3 === z65){m$3=m$3[c5G.defaultPlotField || s6M];}m$3=m$3 || h91;A_f.E2X(22);var s8O=A_f.f$g(4,97,7);A_f.E2X(114);var v7l=A_f.f$g(9998,4,10,6,10);A_f.o5K(22);var Q14=A_f.f$g(16,9991,25);return Math.round((h91 - m$3) / m$3 * s8O * v7l) / Q14;};H3P.Comparison.percentToPrice=function(z6V,b_A,W8H,S_u,R$A){W99Ps.p_j();var L_O;L_O=z6V.comparisonBaseline;if(L_O && (R$A in L_O)){L_O=L_O[R$A];}if(L_O && typeof L_O === "object"){L_O=L_O[b_A.defaultPlotField || "Close"];}L_O=L_O || 1;W99Ps.o5K(115);return W99Ps.f$g(L_O,32,100,W8H,"1");};H3P.Comparison.priceToRelative=function(u2w,j3t,p88,J05,E17){var L7u,H_2,g48,C_B;L7u="C";L7u+="lo";L7u+="s";L7u+="e";H_2="o";H_2+="b";H_2+="je";H_2+="ct";g48=u2w.comparisonBaseline;C_B=H3P.Comparison.getInitialPrice(j3t);if(g48 && (E17 in g48)){g48=g48[E17];}if(g48 && typeof g48 === H_2){g48=g48[j3t.defaultPlotField || L7u];}W99Ps.E2X(116);return W99Ps.f$g(g48 || p88,C_B,p88);};H3P.Comparison.relativeToPrice=function(J$H,q2v,Y7C,D1S,g5O){var u_F,T1p,u9E;u_F="C";u_F+="lose";T1p=J$H.comparisonBaseline;u9E=H3P.Comparison.getInitialPrice(q2v);if(T1p && (g5O in T1p)){T1p=T1p[g5O];}if(T1p && typeof T1p === "object"){T1p=T1p[q2v.defaultPlotField || u_F];}W99Ps.E2X(116);return W99Ps.f$g(u9E,T1p || +"1",Y7C);};H3P.Comparison.createComparisonSegmentInner=function(L8B,p6Z){var u72=W99Ps;var k9M,s2m,P_4,G1W,C0M,c5k,p2J,e$s,m1F,z2G,S87,v$o,G_g,I51,A6F,W3U,r0P,k0N,D$s,x3Y,Z4Z,g5N,p1x,z18,o7E,w_S;k9M=[];for(s2m in p6Z.series){C0M=p6Z.series[s2m].parameters;if(!C0M.yAxis && C0M.shareYAxis || C0M.yAxis === p6Z.yAxis){k9M.push(C0M.symbol);}}c5k=["Close","Open","High","Low","iqPrevClose"];p2J=L8B.chart.highLowBars;if(p6Z.defaultPlotField && !p2J){c5k.unshift(p6Z.defaultPlotField);}e$s=c5k[0];m1F=L8B.layout.studies;for(var g6C in m1F){z2G=m1F[g6C];P_4=L8B.panels[z2G.panel];G1W=z2G.getYAxis(L8B);if(!P_4 || P_4.yAxis != G1W)continue;for(s2m in z2G.outputMap){c5k.push(s2m);}for(var Z6O=0;Z6O <= "2" - 0;Z6O++){S87="_";S87+="hi";S87+="st";c5k.push(z2G.name + S87 + (Z6O?Z6O:""));}if(z2G.referenceOutput){c5k.push(z2G.referenceOutput + (30 <= 8209?" ":"C") + z2G.name);}}for(var r73 in L8B.plugins){v$o=L8B.plugins[r73];if(!v$o.transformOutputs)continue;for(s2m in v$o.transformOutputs){c5k.push(s2m);}}p6Z.initialComparisonPrice=null;p6Z.dataSegment=[];G_g=null;u72.o5K(8);var H0W=u72.b3H(11,10);I51=p6Z.dataSet.length - p6Z.scroll - ("1" | H0W);if(L8B.startComparisonsAtFirstVisibleBar){I51+=1;}u72.o5K(0);var P5$=u72.b3H(3,0);A6F=p6Z.maxTicks + P5$;for(var v9C=0;v9C <= A6F;v9C++){if(v9C == A6F){v9C=-1;}u72.o5K(0);W3U=u72.b3H(v9C,I51);if(W3U < p6Z.dataSet.length && W3U >= 0){r0P=p6Z.dataSet[W3U];k0N=r0P[e$s];if(!G_g){if(k0N === 0 || k0N === null){if(v9C < "0" - 0)break;else continue;;}G_g=H3P.clone(r0P);}if(!r0P.transform){r0P.transform={cache:{},DT:r0P.DT,Date:r0P.Date};}if(!(G_g && G_g[e$s]) && k0N){G_g=H3P.clone(r0P);}L8B.comparisonBaseline=G_g;for(D$s=0;D$s < c5k.length;D$s++){s2m=c5k[D$s];x3Y=r0P[s2m];if(x3Y || x3Y === 0){r0P.transform[s2m]=p6Z.transformFunc(L8B,p6Z,x3Y);}}for(D$s=0;D$s < k9M.length;D$s++){s2m=k9M[D$s];Z4Z=p6Z.series[s2m];if(v9C == -1 && Z4Z && Z4Z.parameters.isComparison){delete r0P.transform[s2m];continue;}g5N=r0P[s2m];if(!g5N)continue;for(var F_F=0;F_F < c5k.length;F_F++){p1x=g5N[c5k[F_F]];if(p1x || p1x === 0){z18=G_g[s2m] && G_g[s2m][c5k[0]];if(!z18 && z18 !== 0){if(!G_g[s2m]){G_g[s2m]={};}G_g[s2m][c5k[F_F]]=z18=p1x * G_g[e$s] / r0P[e$s];}if(z18 !== 0){o7E=G_g[e$s] || 1;u72.E2X(117);w_S=u72.b3H(o7E,z18,p1x);if(!r0P.transform[s2m]){r0P.transform[s2m]={};}r0P.transform[s2m][c5k[F_F]]=p6Z.transformFunc(L8B,p6Z,w_S);}}}}p6Z.dataSegment.push(r0P);}else if(W3U < +"0"){p6Z.dataSegment.push(null);}if(v9C < 0)break;;}};H3P.Comparison.priceFormat=function(c4Q,U5D,G6J){var h$9=W99Ps;var v8h,o_k;if(G6J === null || typeof G6J == "undefined" || isNaN(G6J)){return "";}v8h=U5D.yAxis.priceTick;o_k=c4Q.internationalizer;if(o_k){if(v8h >= 5){h$9.E2X(9);G6J=o_k.percent.format(h$9.f$g(G6J,100));}else if(v8h >= 0.5){h$9.E2X(9);G6J=o_k.percent1.format(h$9.b3H(G6J,100));}else if(v8h >= 0.05){h$9.o5K(9);G6J=o_k.percent2.format(h$9.f$g(G6J,100));}else if(v8h >= 0.005){h$9.E2X(9);G6J=o_k.percent3.format(h$9.b3H(G6J,100));}else {h$9.E2X(9);G6J=o_k.percent4.format(h$9.b3H(G6J,100));}}else {if(v8h >= +"5"){G6J=G6J.toFixed(0) + "%";}else if(v8h >= 0.5){h$9.o5K(118);var w0m=h$9.b3H(63,7,10,8);G6J=G6J.toFixed(w0m) + "%";}else if(v8h >= 0.05){h$9.o5K(114);var r3a=h$9.b3H(0,18,12,21,11);h$9.o5K(8);var D0l=h$9.f$g(4729,16);h$9.o5K(8);var F5F=h$9.f$g(11736,10758);h$9.o5K(0);var f1Y=h$9.f$g(6960,870);h$9.o5K(72);var Y9$=h$9.b3H(845,845,7605);h$9.E2X(72);var u$L=h$9.b3H(4653,4653,4639);h$9.o5K(65);var s$A=h$9.f$g(14,4941,825067,7,12);G6J=G6J.toFixed(r3a) + (D0l == (367.68,644.47)?("378" << 0,F5F) != f1Y?(Y9$,241.58) !== u$L?![]:("r",!0):s$A:"%");}else if(v8h >= 0.005){h$9.E2X(119);var K89=h$9.f$g(10,4,10,1);h$9.o5K(12);var e_X=h$9.f$g(2168,3,1076);h$9.o5K(108);var o4l=h$9.b3H(10,75,17,688,19);h$9.o5K(72);var X4l=h$9.f$g(4810,9620,9628);h$9.E2X(67);var e1M=h$9.f$g(0,7,19,13);h$9.E2X(0);var Q4J=h$9.b3H(12,3290);h$9.E2X(38);var L8w=h$9.f$g(1448,19,11,14691);h$9.E2X(120);var g5g=h$9.b3H(18,10,14,6461,405);h$9.E2X(35);var k1M=h$9.f$g(11,18590,17171);G6J=G6J.toFixed(K89) + (e_X != ("1150" | o4l)?X4l <= (353.88,+"1190")?527.38 != ("44.72" * e1M,Q4J)?L8w:g5g:"%":(!!({}),k1M));}else {h$9.E2X(121);var f9p=h$9.f$g(32,12,7,9);G6J=G6J.toFixed(f9p) + "%";}}if(parseFloat(G6J) === 0 && G6J.charAt(0) == ((821.52,5310) == (6415,4294)?0xada:"-")){G6J=G6J.substring(1);}return G6J;};H3P.ChartEngine.prototype.setComparison=function(s20,H6m,L4R){var v83=W99Ps;var f$P,v7n,E4X,P74,R_i,C2q,K4K;f$P="p";f$P+="er";f$P+="cen";f$P+="t";v7n=1284491803;v83.E2X(37);E4X=v83.b3H("1751747062",96);v83.o5K(8);P74=v83.f$g("2",0);for(var M7w=1;v83.E56(M7w.toString(),M7w.toString().length,"66332" ^ 0) !== v7n;M7w++){if(+H6m){H6m=this.chart;}if(+H6m != ""){H6m=this.charts[H6m];}if(L4R && L4R != ""){H3P.Comparison.initialPrice=L4R;}P74+=2;}if(v83.O8J(P74.toString(),P74.toString().length,87854) !== E4X){if(!H6m){H6m=this.chart;}if(typeof H6m == "string"){H6m=this.charts[H6m];}if(L4R || L4R === ""){H3P.Comparison.initialPrice=L4R;}}if(s20 === !![]){if(H6m.isComparison){return;}s20="percent";}this.resetDynamicYAxis();R_i=H6m.panel.yAxis;C2q=R_i.priceFormatter == H3P.Comparison.priceFormat;switch(s20){case "relative":K4K="data";K4K+="Segme";K4K+="nt";this.setTransform(H6m,H3P.Comparison.priceToRelative,H3P.Comparison.relativeToPrice);if(C2q){R_i.priceFormatter=R_i.originalPriceFormatter?R_i.originalPriceFormatter.func:null;R_i.originalPriceFormatter=null;}R_i.whichSet=K4K;H6m.isComparison=!0;break;case f$P:this.setTransform(H6m,H3P.Comparison.priceToPercent,H3P.Comparison.percentToPrice);if(!C2q){R_i.originalPriceFormatter={func:R_i.priceFormatter};R_i.priceFormatter=H3P.Comparison.priceFormat;}R_i.whichSet="dataSegment";H6m.isComparison=!0;break;default:this.unsetTransform(H6m);if(C2q){R_i.priceFormatter=R_i.originalPriceFormatter?R_i.originalPriceFormatter.func:null;R_i.originalPriceFormatter=null;}R_i.whichSet="dataSet";H6m.isComparison=!!0;break;}};H3P.ChartEngine.prototype.setChartScale=function(M86){var D4_,v43,C3z;D4_=this.chart;v43={percent:!![],relative:!![]};if(!M86){M86="linear";}if(v43[M86]){this.setComparison(M86,D4_,H3P.Comparison.initialPrice);}else if(v43[this.layout.chartScale]){this.setComparison(!!"",D4_);}W99Ps.Y7v();C3z=this.layout.chartScale !== M86;this.layout.chartScale=M86;if(D4_.canvas){this.draw();}if(C3z){this.changeOccurred("layout");}};};Y=P4F=>{var J59,j58;J59=typeof _CIQ !== "undefined"?_CIQ:P4F.CIQ;function y$C(){W99Ps.p_j();var t8V,L7Z,e$r,O9o;if(J59.Share.html2canvasLocation){return J59.Share.html2canvasLocation;}t8V=document.getElementsByTagName("script");for(var J0f=0;J0f < t8V.length;J0f++){L7Z="sh";L7Z+="are.js";e$r=t8V[J0f];if(e$r.src && e$r.src.indexOf(L7Z) > -1){O9o="t";O9o+="hirdpart";O9o+="y/";return e$r.src.replace(/standard\/share\.js/,"") + O9o;}}return "js/thirdparty/";}function L7d(Q0J){W99Ps.Y7v();var L8F;if(typeof html2canvas === "undefined"){if(typeof requirejs !== "undefined"){try{L8F="htm";L8F+="l2canva";L8F+="s.min.js";return requirejs([L8F],function(P8i){j58=P8i;return Q0J();});}catch(g9O){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}J59.loadScript(y$C() + "html2canvas.min.js",function(){j58=html2canvas;return Q0J();});}else {j58=html2canvas;return Q0J();}}function q0c(o4y){var s$r,B2s,e2k;s$r="dominant-ba";s$r+="seline";if(!o4y.style){return;}B2s=getComputedStyle(o4y);e2k=["alignment-baseline",s$r,"fill","fill-opacity","font-family","font-size","font-variant","font-weight","text-align","text-anchor"];e2k.forEach(function(J8F){W99Ps.Y7v();if(!o4y.style[J8F] && B2s[J8F]){o4y.style[J8F]=B2s[J8F];}});for(var P82 in o4y.children){q0c(o4y.children[P82]);}}function h8I(h5D,A2i,G47){var Q1T,r$Q,G4m,C1J,E6E,Q5r,B73,x1g,b6b,T5D,K6h,C3Y;Q1T="s";Q1T+="v";Q1T+="g";r$Q="bo";r$Q+="dy";if(!A2i){A2i={};}G4m=[];C1J="ciq-no-share";E6E=h5D.container.ownerDocument.querySelector(r$Q);if(A2i.hide && A2i.hide instanceof Array){Q5r=",";Q5r+=" ";B73=A2i.hide.join(Q5r);x1g=E6E.querySelectorAll(B73);for(var V5t=+"0";V5t < x1g.length;V5t++){x1g[V5t].classList.add(C1J);}}E6E.classList.add("sharing");W99Ps.Y7v();h5D.draw();b6b=h5D.chart.container.getElementsByTagName(Q1T);T5D=[];W99Ps.E2X(57);K6h=W99Ps.b3H(32,"0");for(;K6h < b6b.length;K6h++){C3Y=b6b[K6h];T5D.push(C3Y.innerHTML);q0c(C3Y);}j58(h5D.chart.container,{allowTaint:!!"",logging:!({}),width:A2i.width || null,height:A2i.height || null,backgroundColor:A2i.background || null,useCORS:!![]}).then(function(M6g){if(G47){G47(null,A2i.data?M6g.toDataURL("image/png"):M6g);}for(K6h=0;K6h < b6b.length;K6h++){b6b[K6h].innerHTML=T5D[K6h];}E6E.classList.remove("sharing");}).catch(function(w6K){if(G47){G47(w6K);}for(K6h="0" ^ 0;K6h < b6b.length;K6h++){b6b[K6h].innerHTML=T5D[K6h];}E6E.classList.remove("sharing");});}J59.Share=J59.Share || (function(){});J59.Share.fullChart2PNG=function(T7f,T_s,A8c){if(!T7f || !T7f.chart){return;}if(typeof html2canvas === "undefined"){return L7d(function(){return h8I(T7f,T_s,A8c);});}W99Ps.Y7v();j58=html2canvas;h8I(T7f,T_s,A8c);};J59.Share.createImage=function(i74,H7v,t8B){var S4N=W99Ps;var Z7C,P8y,x7s,M37,i$a,O1H,k2g,F4L;Z7C=[].slice.call(arguments);t8B=Z7C.pop();if(H7v === null || typeof H7v != "object"){H7v={widthPX:Z7C[1],heightPX:Z7C["2" - 0],imageType:Z7C[3]};}P8y=H7v.widthPX;x7s=H7v.heightPX;M37=H7v.imageType;i$a=i74.chart.canvas.height;O1H=i74.chart.canvas.width;if(i74.chart.canvas.style.height){i$a=J59.stripPX(i74.chart.canvas.style.height);O1H=J59.stripPX(i74.chart.canvas.style.width);}S4N.p_j();if(P8y && x7s){i$a=x7s;O1H=P8y;}else if(x7s){O1H=i74.chart.canvas.width * (i$a / i74.chart.canvas.height);}else if(P8y){O1H=P8y;i$a=i74.chart.canvas.height * (P8y / i74.chart.canvas.width);}k2g=M37?"image/" + M37:"image/png";F4L=document.createElement("img");F4L.onload=function(){J59.Share.fullChart2PNG(i74,{image:this,width:O1H,height:i$a,hide:H7v.hide},function(b33,q8F){S4N.p_j();if(b33){S4N.E2X(0);console.warn(S4N.b3H(b33,"Error producing canvas snapshot: "));}else {try{t8B(q8F.toDataURL(k2g));;}catch(f2J){var B38;B38="Safari devices do not handle CORS enabled images. Using th";B38+="e charts' canvas as a fallback.";console.warn(B38);t8B(F4L.src);}}});};F4L.src=i74.chart.canvas.toDataURL(k2g);};J59.Share.uploadImage=function(r5P,e$n,J1H,j2J){var s9E;if(!J1H){J1H={};}J1H.image=r5P;s9E=J59.postAjax(e$n,JSON.stringify(J1H),function(e6R,i3i){var e_v,z2o,X8A;W99Ps.p_j();if(e6R != 200){j2J(e6R,null);return;}e_v=-1631477929;z2o=-+"901128534";X8A=2;for(var p5t=1;W99Ps.E56(p5t.toString(),p5t.toString().length,+"51935") !== e_v;p5t++){j2J(1,i3i);X8A+=2;}if(W99Ps.E56(X8A.toString(),X8A.toString().length,58285) !== z2o){j2J(null,i3i);}});W99Ps.p_j();if(!s9E){j2J(0,null);}};J59.Share.shareChart=function(I7U,V57,f$3){var o7w=W99Ps;o7w.p_j();J59.Share.createImage(I7U,{},function(H7X){var R$H,X94,V$e,L1E,g51,d9a,i7W;R$H="/up";o7w.Y7v();R$H+="lo";R$H+="a";R$H+="d/";X94=J59.uniqueID();V$e="https://share.chartiq.com";o7w.o5K(14);L1E=o7w.b3H(V$e,X94,R$H);if(V57){if(V57.host){V$e=V57.host;}if(V57.path){L1E=V$e + V57.path + "/" + X94;}}g51=I7U.getStartDateOffset();d9a={layout:I7U.exportLayout(),drawings:I7U.exportDrawings(),xOffset:g51,startDate:I7U.chart.dataSegment[g51].Date,endDate:I7U.chart.dataSegment[I7U.chart.dataSegment.length - 1].Date,id:X94,symbol:I7U.chart.symbol};i7W={id:X94,image:H7X,config:d9a};J59.Share.uploadImage(H7X,L1E,i7W,function(C3D,q5a){o7w.Y7v();var O8D;if(C3D !== null){O8D="error ";O8D+="sh";O8D+="aring chart: ";J59.alert(O8D,C3D);}else {o7w.E2X(0);f$3(o7w.f$g(q5a,V$e));}});;});};};T=P$q=>{var h_C=W99Ps;var z4f,S$2;z4f="und";z4f+="efined";S$2=typeof _CIQ !== z4f?_CIQ:P$q.CIQ;S$2.ChartEngine.prototype.setRange=function(n9E,n1q){var I45,U1d,g8W,W91,d8$,x$$,F2m,V$S,w0i,P6e,F63,M_Q,f9l,j9m,G3q,b7A,M6p,e8l,b6q,S4L,j2Q,N0$,B8w,l42,C$J,j6M,q_1,Z5K,W1Y,w3M,D8y,Z28,j4n,f5Y,b1J,i6o;function q3k(j_T,d$p,e_Y,W1J,i_o,B50){var F4M,b$a;h_C.E2X(37);F4M=h_C.f$g("0",64);h_C.o5K(8);b$a=h_C.f$g(j_T,d$p);if(S$2.ChartEngine.isDailyInterval(e_Y)){if(e_Y == "month"){F4M=b$a / S$2.MONTH / W1J;}else if(e_Y == "week"){F4M=b$a / S$2.WEEK / W1J;}else {F4M=b$a / S$2.DAY / W1J;}}else {if(!isNaN(e_Y)){if(i_o == "millisecond"){h_C.E2X(34);F4M=h_C.f$g(W1J,b$a,e_Y);}else if(i_o == "second"){F4M=b$a / S$2.SECOND / (W1J * e_Y);}else {F4M=b$a / S$2.MINUTE / (W1J * e_Y);}}}return Math.round(F4M);;}if(S$2.isEmpty(n9E)){n9E={dtLeft:arguments["0" - 0],dtRight:arguments[+"1"],padding:arguments[2],chart:arguments[3]};n1q=arguments[4];}function H_m(k07){if(k07 && F2m === "0" * 1){U1d.scroll=j2Q;x$$.setCandleWidth(N0$);x$$.layout.interval=B8w;x$$.layout.periodicity=l42;x$$.layout.timeUnit=C$J;if(n1q){n1q(k07);}return;}F2m++;h_C.Y7v();if(F2m > 10){console.log("CIQ.ChartEngine.setRange(): Too many loads (10) from server. Stopping. Check periodicity logic.");E1f();return;}E1f();;}if(this.staticRange){n9E.goIntoPast=n9E.goIntoFuture=!![];}if(!n9E.chart){n9E.chart=this.chart;}function E1f(p5w){h_C.p_j();var T4Z,r2f,K_o,W11,a60,d3b,B$H,g8r,O1B,h9h,O9s,L2p,d4H,e$F,L68,B48,q8m,I78,Z4z,y5h;T4Z="da";T4Z+="y";r2f="u";r2f+="n";r2f+="define";r2f+="d";if(typeof p5w == r2f){p5w=null;}K_o=0;W11=0;a60=new Date();d3b=n9E.base;B$H=n9E.periodicity;g8r=x$$.layout;if(n9E.goIntoFuture && (!U1d.masterData.length || g8W > U1d.masterData[U1d.masterData.length - 1].DT)){O1B="g";O1B+="ap";h9h=U1d.masterData.length?U1d.masterData.pop():{DT:g8W};O9s=x$$.doCleanupGaps([h9h,{DT:W91}],U1d,{cleanupGaps:O1B,noCleanupDates:!!1});x$$.setMasterData(U1d.masterData.concat(O9s),U1d,{noCleanupDates:!!({})});x$$.createDataSet(null,null,{appending:!!"1"});}L2p=U1d.dataSet;d4H=L2p.length;if(!L2p || d4H === 0){if(n1q){n1q(p5w);}return;}if(d3b === T4Z && B$H && B$H.interval === "day"){L68=n9E.multiplier;K_o=d4H < L68?0:d4H - L68;h_C.o5K(8);W11=h_C.f$g(d4H,1);}else if(d3b === "today" && L2p[d4H - 1].DT.getDate() < a60.getDate()){B48=new Date(L2p[d4H - 1].DT.getTime());q8m=B48.getTime();e$F=0;for(var N25=d4H - ("1" << 32);N25 >= 0;N25--){if(L2p[N25] && L2p[N25].DT.getDate() != B48.getDate()){B48=new Date(+L2p[N25 + 1].DT);h_C.E2X(0);e$F=h_C.b3H(1,N25);break;}}K_o=e$F;h_C.o5K(8);W11=h_C.f$g(d4H,1);}else {if(n9E.base != "all" && (g8W.getTime() >= L2p[+"0"].DT.getTime() || n9E.goIntoPast)){K_o=x$$.tickFromDate(g8W,U1d,null,!![]);}else {K_o=0;}if(n9E.base != "all" && (W91.getTime() <= L2p[d4H - +"1"].DT.getTime() || n9E.goIntoFuture)){W11=x$$.tickFromDate(W91,U1d);if(W11 > d4H - 1){W11--;};}else {h_C.E2X(8);W11=h_C.b3H(d4H,1);}}h_C.o5K(22);I78=h_C.f$g(K_o,W11,1);if(I78 < ("1" ^ 0)){if(n1q){n1q(p5w);}return;}Z4z=n9E.padding || 0;if(W11 < d4H - 1){Z4z=0;}y5h=(U1d.width - Z4z) / I78;x$$.setCandleWidth(y5h,U1d);h_C.o5K(122);U1d.scroll=h_C.f$g(W11,d4H,1,I78);x$$.micropixels=1;for(var v_G in x$$.panels){x$$.calculateYAxisMargins(x$$.panels[v_G].yAxis);}if(!n9E.dontSaveRangeToLayout){delete n9E.chart;delete g8r.setSpan;g8r.range=n9E;;}else {delete g8r.range;}x$$.draw();x$$.changeOccurred("layout");if(!I45){x$$.dispatch("periodicity",{stx:x$$,differentData:j6M,prevPeriodicity:{interval:B8w,periodicity:l42,timeUnit:C$J}});}if(n1q){n1q(p5w);}}if(typeof n9E.padding == "undefined"){n9E.padding=0;}I45=!"1";U1d=n9E.chart;g8W=typeof n9E.dtLeft === "string"?new Date(n9E.dtLeft):n9E.dtLeft;W91=new Date();if(n9E.dtRight){W91=typeof n9E.dtRight === "string"?new Date(n9E.dtRight):n9E.dtRight;}if(!g8W){d8$=this.standardMarketIterator(W91,null,U1d);g8W=d8$.previous(U1d.maxTicks);if(!n9E.periodicity){I45=!![];}}U1d.inflectionPoint=g8W;this.layout.range={dtLeft:g8W,dtRight:W91};h_C.p_j();x$$=this;F2m=0;if(this.quoteDriver){if(I45){V$S=this.layout.interval;P6e=this.layout.timeUnit;w0i=this.layout.periodicity;}else if(n9E.periodicity){F63=S$2.cleanPeriodicity(n9E.periodicity.period,n9E.periodicity.interval,n9E.periodicity.timeUnit);V$S=F63.interval;P6e=F63.timeUnit;w0i=F63.period;}else {M_Q=W91.getTime() - g8W.getTime();if(!this.autoPickCandleWidth.turnOn){f9l=this.staticRangePeriodicityMap;j9m=null;for(var c7v=0;c7v < f9l.length;c7v++){G3q=f9l[c7v];if(M_Q / G3q.rangeInMS < 1.001){j9m=G3q;break;}}V$S=j9m.interval;w0i=j9m.periodicity;P6e=j9m.timeUnit;}else {b7A=0;if(this.autoPickCandleWidth.candleWidth){b7A=this.autoPickCandleWidth.candleWidth;}else {b7A=this.chart.barsHaveWidth?5:2;}M6p=U1d.width / b7A;e8l=this.dynamicRangePeriodicityMap;V$S=e8l[0].interval;w0i=1;for(var V28=0;V28 < e8l.length;V28++){S4L=M_Q / e8l[V28].rangeInMS;if(S4L < M6p){if(e8l[V28 - +"1"]){V$S=e8l[V28 - 1].interval;P6e=e8l[V28 - 1].timeUnit;h_C.E2X(9);w0i=Math.ceil(h_C.f$g(b6q,M6p));}else {V$S=e8l[V28].interval;P6e=e8l[V28].timeUnit;w0i=1;}break;}b6q=S4L;}}}j2Q=this.chart.scroll;N0$=this.layout.candleWidth;B8w=this.layout.interval;l42=this.layout.periodicity;C$J=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=q3k(W91.getTime(),g8W.getTime(),V$S,w0i,P6e,this.dontRoll);this.layout.candleWidth=this.chart.width / this.chart.maxTicks;j6M=this.needDifferentData({period:w0i,interval:V$S,timeUnit:P6e});if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > g8W || this.chart.endPoints.end < W91)){j6M=!!({});}if(!this.chart.masterData || !this.chart.masterData.length || j6M || n9E.forceLoad){q_1="we";q_1+="ek";Z5K="mo";Z5K+="nth";W1Y="ti";W1Y+="c";W1Y+="k";this.layout.interval=V$S;this.layout.periodicity=w0i;this.layout.timeUnit=P6e;if(!this.layout.timeUnit){w3M="minut";w3M+="e";D8y="t";D8y+="ic";D8y+="k";Z28="sec";Z28+="on";Z28+="d";if(S$2.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == Z28){this.layout.timeUnit="second";}else if(this.layout.interval != D8y){this.layout.timeUnit=w3M;}}j4n={symbol:U1d.symbol,symbolObject:U1d.symbolObject,chart:U1d,nodraw:!!"1"};if(this.layout.interval == W1Y){j4n.startDate=g8W;j4n.endDate=W91;}if(!this.displayInitialized){j4n.initializeChart=!!({});}f5Y={symbol:U1d.symbol,symbolObject:U1d.symbolObject,interval:this.layout.interval};if((f5Y.interval == Z5K || f5Y.interval == q_1) && !this.dontRoll){b1J="d";b1J+="a";b1J+="y";f5Y.interval=b1J;}i6o=Math.max(this.quoteDriver.getQuoteFeed(f5Y).behavior.bufferSize + 50,200);d8$=this.standardMarketIterator(g8W,null,U1d);j4n.startDate=new Date(d8$.previous(i6o).getTime());d8$=this.standardMarketIterator(W91,null,U1d);j4n.endDate=new Date(d8$.next(i6o).getTime());if(j4n.endDate < Date.now()){this.isHistoricalModeSet=!![];}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(j4n,H_m);}else {if(this.layout.interval != V$S || this.layout.periodicity != w0i || this.layout.timeUnit != P6e || !this.chart.dataSegment || !this.chart.dataSegment[0] || this.chart.dataSegment[+"0"].DT != U1d.inflectionPoint){this.layout.interval=V$S;this.layout.periodicity=w0i;this.layout.timeUnit=P6e;this.createDataSet();}H_m();}}else {E1f();}};h_C.p_j();S$2.ChartEngine.prototype.setSpan=function(X4E,T3P){var a2h,P22,P0m,J08,j_A,e6t,W6m,a98,D7o,H2B,q2B,C9Q,S2H,v8c,L1c,i0R,w3a,X4k,K_O,W9d,L3X,X5X,k45;a2h="w";a2h+="e";a2h+="e";a2h+="k";P22="y";P22+="t";P22+="d";P0m="a";P0m+="l";P0m+="l";function o9F(Z_s,j17){var p4W;h_C.p_j();if(!w3a){return Z_s;}p4W=+"7";if(j17){Z_s.setHours(Z_s.getHours() + p4W);}else {Z_s.setHours(Z_s.getHours() - p4W);if(!D7o.isMarketDate(Z_s)){Z_s.setDate(Z_s.getDate() - 2);};}return Z_s;}J08="o";J08+="bje";J08+="ct";j_A=arguments[0];e6t=arguments[1];W6m=arguments[2];a98=arguments[3];if(typeof X4E == J08){j_A=X4E.period?X4E.period:X4E.multiplier?X4E.multiplier:1;e6t=X4E.interval?X4E.interval:X4E.base?X4E.base:X4E.span?X4E.span:X4E.period;W6m=X4E.padding;a98=X4E.chart;}else {X4E={period:j_A,interval:e6t,padding:W6m,chart:a98};T3P=arguments[5];}if(!a98){a98=this.chart;}D7o=a98.market;e6t=e6t.toLowerCase();if(e6t == P0m){X4E.dontSaveRangeToLayout=!0;this.displayAll(X4E,T3P);return;}q2B=e6t;h_C.o5K(3);C9Q=h_C.b3H(1,"1");if(e6t == "today"){S2H="d";S2H+="ay";q2B=S2H;}else if(e6t == "year"){q2B="month";C9Q=12;}v8c=S$2.shallowClone(X4E);L1c={begin:D7o.marketZoneNow(),interval:q2B,period:C9Q};i0R=L1c.begin;w3a=S$2.Market.Symbology.isForexSymbol(a98.symbol);function L9b(W9E){W9E.setHours(+"0");W9E.setMinutes(0);W9E.setSeconds(0);W9E.setMilliseconds(0);return W9E;}if(e6t === P22){i0R=L9b(i0R);i0R.setMonth(0);i0R.setDate(+"1");}else if(e6t === "month"){i0R=L9b(new Date());i0R.setMonth(i0R.getMonth() - j_A);}else if(e6t === "year"){i0R=L9b(new Date());i0R.setFullYear(i0R.getFullYear() - j_A);}else if(e6t === a2h){i0R=L9b(new Date());i0R.setDate(i0R.getDate() - j_A * 7);}else if(e6t === "day" && j_A == 1 && D7o.isMarketDay()){X4k=i0R.getHours();K_O=i0R.getMinutes();W9d=i0R.getSeconds();L3X=i0R.getMilliseconds();H2B=D7o.newIterator(L1c);i0R=H2B.previous();i0R.setHours(X4k,K_O,W9d,L3X);i0R=D7o._convertFromMarketTZ(i0R);}else if(e6t === "today"){L1c.begin=o9F(i0R,!"");H2B=D7o.newIterator(L1c);if(D7o.isOpen() || D7o.getPreviousOpen().getDate() == i0R.getDate()){H2B.next();}i0R=H2B.previous();o9F(i0R);v8c.goIntoFuture=!![];v8c.dtRight=new Date(+i0R);v8c.dtRight.setDate(i0R.getDate() + 1);v8c.dtRight=D7o._convertFromMarketTZ(v8c.dtRight);if(!w3a){i0R.setHours(H2B.market.zopen_hour);i0R.setMinutes(H2B.market.zopen_minute);i0R.setSeconds(0);}i0R=D7o._convertFromMarketTZ(i0R);}else {X5X="d";X5X+="a";X5X+="y";if(e6t == X5X){L1c.begin=o9F(i0R,!0);}H2B=D7o.newIterator(L1c);if(j_A == 1){j_A++;}h_C.o5K(8);i0R=H2B.previous(h_C.f$g(j_A,1));if(e6t == "day"){i0R=D7o._convertFromMarketTZ(o9F(i0R));}}v8c.dtLeft=i0R;if(v8c.maintainPeriodicity){v8c.periodicity={};v8c.periodicity.interval=this.layout.interval;v8c.periodicity.period=this.layout.periodicity;}a98.spanLock=!({});v8c.dontSaveRangeToLayout=!![];k45=this;this.setRange(v8c,function(F3$){k45.layout.setSpan=X4E;k45.changeOccurred("layout");if(e6t == "today"){a98.spanLock=!![];;}if(T3P){T3P(F3$);}});};S$2.ChartEngine.prototype.getSpanCandleWidth=function(t8s){var U7M,r9r,X3o,x4N,J_y,A27;if(!t8s || !t8s.base || !t8s.multiplier){return;}U7M=parseFloat(t8s.multiplier);r9r=t8s.base;X3o=new Date();x4N=new Date();if(r9r == "year"){x4N.setFullYear(x4N.getFullYear() - U7M);}else if(r9r == "month"){x4N.setMonth(x4N.getMonth() - U7M);}else if(r9r == "day"){x4N.setDate(x4N.getDate() - U7M);}else if(r9r == "week"){x4N.setDate(x4N.getDate() - 7 * U7M);}else if(r9r == "YTD"){x4N.setMonth(0);x4N.setDate(1);}h_C.o5K(59);var e8c=h_C.f$g(215004,12,4,18000);h_C.E2X(72);var v3s=h_C.b3H(6,6,59);h_C.o5K(0);var r4n=h_C.f$g(20,40);h_C.o5K(0);var b8S=h_C.b3H(4,20);J_y=(X3o.getTime() - x4N.getTime()) / e8c / v3s / r4n / b8S;h_C.E2X(116);J_y=h_C.b3H(7,J_y,5);A27=this.chart.width / J_y;return A27;};S$2.ChartEngine.prototype.displayAll=function(s$h,l47){h_C.p_j();var F16,T50,S8C,p0Z,Y2J,f9M;var {chart:J21, layout:h_S}=this;function c_M(){var V3p;if(!J21.masterData || !J21.masterData.length){return;}V3p=S$2.clone(s$h);V3p.dtLeft=J21.endPoints.begin;V3p.dtRight=J21.endPoints.end;V3p.periodicity={};V3p.periodicity.interval=h_S.interval;V3p.periodicity.period=h_S.periodicity;V3p.periodicity.timeUnit=h_S.timeUnit;p0Z.setRange(V3p,function(V8w){p0Z.layout.setSpan={base:s$h.base,multiplier:s$h.multiplier};p0Z.changeOccurred("layout");h_C.Y7v();for(var Q0N in p0Z.panels){p0Z.calculateYAxisMargins(p0Z.panels[Q0N].yAxis);}p0Z.draw();if(l47){l47(V8w);}});}F16=-553591314;T50=-1064840718;S8C=2;for(var u9C=1;h_C.O8J(u9C.toString(),u9C.toString().length,77744) !== F16;u9C++){if(s$h && s$h.chart){J21=s$h.chart;}p0Z=this;S8C+=2;}if(h_C.E56(S8C.toString(),S8C.toString().length,45654) !== T50){if(s$h || s$h.chart){J21=s$h.chart;}p0Z=this;}if(!this.quoteDriver){c_M();return;}Y2J=s$h.maintainPeriodicity?{period:h_S.periodicity,interval:h_S.interval,timeUnit:h_S.timeUnit}:{period:1,interval:"month",timeUnit:null};function I_b(J5D){if(!J5D){p0Z.quoteDriver.loadAll(J21,c_M);}}Y2J=s$h.periodicity?s$h.periodicity:Y2J;Y2J=S$2.cleanPeriodicity(Y2J.period,Y2J.interval,Y2J.timeUnit);f9M=this.needDifferentData(Y2J);this.layout.periodicity=Y2J.period;this.layout.interval=Y2J.interval;this.layout.timeUnit=Y2J.timeUnit;if(s$h.forceLoad || f9M){this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({nodraw:!!({}),symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!!1,fetchMaximumBars:!!({})},I_b);}else {if(J21.moreAvailable || !J21.upToDate){I_b();}else {this.createDataSet();c_M();}}};};q=D5q=>{var D6F;D6F=typeof _CIQ !== "undefined"?_CIQ:D5q.CIQ;D6F.ChartEngine.prototype.importLayout=function(d$3,z0q){var t5G=W99Ps;var v5S,e34,p0v,M7r,g0V,u_m,q23,M3M,x6F,g9u,E$8,e5I,A5r,m$T,y2W,I4L,N9c,C2K,P1F,S4r,a$V,h70,L8C,Y14,V7x,U7q,l2A,I_8,t5j,q7e,m0p,o3Z,s_U,U1W,L1s,R9N,l_J,R6m,e1a,f$4;v5S="u";v5S+="ndefi";v5S+="ned";e34="o";e34+="b";e34+="jec";e34+="t";if(!d$3){if(z0q.cb){z0q.cb();}return;}p0v=this;M7r=[];function B6h(x$c){var s1Q,f01,g6i,n84;if(e5I){p0v.importDrawings(e5I);}function k8y(){p0v.createDataSet();M5Q(p0v.panels);p0v.calculateYAxisPositions();t5G.p_j();p0v.draw();}p0v.currentlyImporting=![];if(x$c){return;}t5G.p_j();g6i=[];for(var u9j in p0v.chart.series){n84="stud";n84+="y";if(!p0v.removeSeries)break;f01=p0v.chart.series[u9j];if(f01.parameters.bucket == n84){s1Q=!![];p0v.removeSeries(f01);g6i.push(f01);}}for(var q3M=+"0";q3M < g6i.length;q3M++){f01=g6i[q3M];p0v.addSeries(f01.id,f01.parameters,k8y);}if(!s1Q){p0v.draw();}p0v.updateListeners("layout");p0v.changeOccurred("layout");;}if(typeof z0q !== e34){z0q={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}g0V=this.layout;u_m=D6F.shallowClone(g0V);q23=z0q.managePeriodicity;M3M=z0q.cb;x6F=z0q.seriesCB;g9u=z0q.noDataLoad;E$8=z0q.preserveTicksAndCandleWidth;e5I=null;if(this.exportDrawings){e5I=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!![];for(var u9Q in g0V.studies){A5r="St";A5r+="udies.remo";A5r+="veStudy";m$T=g0V.studies[u9Q];D6F.getFn(A5r)(this,m$T);}this.overlays={};y2W=D6F.shallowClone(this.panels);this.panels={};I4L=D6F.clone(d$3);g0V.periodicity=u_m.periodicity;g0V.interval=u_m.interval;g0V.timeUnit=u_m.timeUnit;g0V.setSpan=u_m.setSpan;g0V.range=u_m.range;if(E$8){N9c=-1016388203;C2K=-473946152;P1F=2;for(var g6h=1;t5G.E56(g6h.toString(),g6h.toString().length,71225) !== N9c;g6h++){g0V.candleWidth=u_m.candleWidth;P1F+=2;}if(t5G.O8J(P1F.toString(),P1F.toString().length,"20151" - 0) !== C2K){g0V.candleWidth=u_m.candleWidth;}}else {if(!g0V.candleWidth){g0V.candleWidth=8;}}this.setCandleWidth(g0V.candleWidth);if(g0V.flipped){this.flipChart(g0V.flipped);}function D8W(){p0v.calculateYAxisPositions();M5Q(p0v.panels);if(x6F){x6F();}}S4r=I4L.panels;Y14=function(X_E,H4n){t5G.p_j();return X_E.index < H4n.index?-1:1;};for(a$V in S4r){if(!(("index" in S4r[a$V]))){Y14=null;}h70=S4r[a$V];h70.name=a$V;M7r.push(h70);}g0V.panels={};V7x=null;if(M7r.length > ("0" ^ 0)){if(Y14){M7r.sort(Y14);}for(var k5U=0;k5U < M7r.length;++k5U){h70=M7r[k5U];L8C=h70.yAxis?new D6F.ChartEngine.YAxis(h70.yAxis):null;this.stackPanel(h70.display,h70.name,h70.percent,h70.chartName,L8C);if(h70.soloing){V7x=this.panels[h70.name];}}}if(D6F.isEmpty(S4r)){U7q="char";U7q+="t";l2A="c";l2A+="h";l2A+="a";l2A+="rt";this.stackPanel(l2A,"chart",+"1",U7q);}this.resizeCanvas();for(var T6J in y2W){I_8=y2W[T6J];t5j=this.panels[T6J];if(t5j){this.container.removeChild(t5j.holder);if(I_8.handle){this.container.removeChild(I_8.handle);}q7e={holder:!"",subholder:!!1,display:!![],icons:!![]};for(var Q38 in q7e){t5j[Q38]=I_8[Q38];}this.configurePanelControls(t5j);if(I_8.chart.panel == I_8){I_8.chart.panel=t5j;};}else {this.privateDeletePanel(I_8);}}this.chart.panel=this.panels.chart;M5Q(this.panels);D6F.extend(g0V,D6F.clone(I4L));m0p=D6F.clone(g0V.studies);t5G.Y7v();delete g0V.studies;for(var k9u in m0p){o3Z=m0p[k9u];s_U=D6F.getFn("Studies.addStudy")(this,o3Z.type,o3Z.inputs,o3Z.outputs,o3Z.parameters,o3Z.panel);s_U.disabled=o3Z.disabled;if(o3Z.signalData){s_U.signalData=o3Z.signalData;U1W=this.panels[s_U.panel];if(this.checkForEmptyPanel(U1W,!!"1",s_U)){U1W.hidden=!!({});t5G.E2X(1);U1W.percent=t5G.f$g(0,"0");}}}if(this.extendedHours){this.extendedHours.prepare(g0V.extended,g0V.marketSessions);}if(typeof g0V.chartType == v5S){g0V.chartType="line";}this.setMainSeriesRenderer();if(V7x){this.panelSolo(V7x);}this.adjustPanelPositions();M5Q(this.panels);this.storePanels();if(!g9u){if(I4L.symbols && I4L.symbols.length){L1s={chart:this.chart};if(!E$8 && q23 && I4L.range && Object.keys(I4L.range).length){L1s.range=I4L.range;}else if(!E$8 && q23 && I4L.setSpan && Object.keys(I4L.setSpan).length){L1s.span=I4L.setSpan;}else if(q23 && I4L.interval){L1s.periodicity={interval:I4L.interval,period:I4L.periodicity,timeUnit:I4L.timeUnit};}else {L1s.periodicity={interval:u_m.interval,period:u_m.periodicity,timeUnit:u_m.timeUnit};}R9N=I4L.symbols[0].symbolObject || I4L.symbols["0" | 0].symbol;this.loadChart(R9N,L1s,function(h7M){var r9l,m6N;if(!h7M){for(var V_5,S1V=1;S1V < I4L.symbols.length;++S1V){if(!p0v.addSeries)break;V_5=I4L.symbols[S1V];if(!V_5.parameters){V_5.parameters={};}r9l=D6F.clone(V_5.parameters);if(this.panels[r9l.panel]){p0v.addSeries(V_5.id,r9l,D8W);}else {m6N="\" could not be imported due to ";m6N+="a missin";m6N+="g corresponding panel \"";console.warn('Warning: Series "' + V_5.id + m6N + r9l.panel + '"');}}if(I4L.chartScale){p0v.setChartScale(I4L.chartScale);}}B6h(h7M);if(M3M){M3M.apply(null,arguments);}});return;}if(q23){if(!E$8 && this.setRange){l_J=I4L.range;if(l_J && Object.keys(l_J).length && this.chart.symbol){this.setRange(l_J,function(){B6h();if(M3M){M3M();}});return;}else if(I4L.setSpan && Object.keys(I4L.setSpan).length && this.chart.symbol){this.setSpan(I4L.setSpan,function(){t5G.p_j();B6h();if(M3M){M3M();}});return;}}R6m=I4L.interval;e1a=I4L.periodicity;f$4=I4L.timeUnit;if(isNaN(e1a)){e1a=1;}if(!R6m){R6m="day";}this.setPeriodicity({period:e1a,interval:R6m,timeUnit:f$4},function(){t5G.Y7v();B6h();if(M3M){M3M();}});return;}}if(q23){g0V.periodicity=I4L.periodicity;g0V.interval=I4L.interval;g0V.timeUnit=I4L.timeUnit;g0V.setSpan=I4L.setSpan;}this.createDataSet();if(!E$8){this.home();}B6h();function M5Q(m4u){var W7O,c21;for(var h80=0;h80 < M7r.length;h80++){W7O="yaxi";W7O+="s";W7O+="LH";W7O+="S";c21=M7r[h80];i_k(c21,W7O);i_k(c21,"yaxisRHS");}p0v.chart.yAxis=p0v.chart.panel.yAxis;function w7g(f_3){t5G.p_j();return !!f_3;}function i_k(F$0,v_Q){var H9s,r7E,j1p,A4f;if(!F$0[v_Q] || !F$0[v_Q].length){return;}H9s=m4u[F$0.name];if(!H9s){return;}r7E=H9s[v_Q];t5G.p_j();j1p=new Array(r7E.length);for(var F2$=0;F2$ < r7E.length;F2$++){A4f=F$0[v_Q].indexOf(r7E[F2$].name);if(A4f > -1){j1p[A4f]=r7E[F2$];}else {j1p.push(r7E[F2$]);}}if(j1p.length){H9s[v_Q]=j1p.filter(w7g);}}}if(M3M){M3M();}};D6F.ChartEngine.prototype.exportLayout=function(W5l){var o6l=W99Ps;var L0W,H7Z,c0T,D8t,h$U,V$c,p4d,n1v,H0e,S_K;L0W={};function T5n(o5D){var M4u;o6l.Y7v();M4u=[];for(var g4o="0" - 0;g4o < o5D.length;g4o++){M4u.push(o5D[g4o].name);}return M4u;}for(var h8L in this.layout){H7Z="st";H7Z+="udi";H7Z+="es";if(h8L != "studies" && h8L != "panels" && h8L != "drawing"){L0W[h8L]=D6F.clone(this.layout[h8L]);}else if(h8L == H7Z){L0W.studies={};}else if(h8L == "panels"){L0W.panels={};}}c0T=0;for(var P7w in this.panels){D8t=this.panels[P7w];if(D8t.exportable === !({}))continue;h$U=L0W.panels[P7w]={};h$U.percent=D8t.percent;h$U.display=D8t.display;h$U.chartName=D8t.chart.name;h$U.soloing=D8t.soloing;h$U.index=c0T++;h$U.yAxis={name:D8t.yAxis.name,position:D8t.yAxis.position};if(D8t.yaxisLHS){h$U.yaxisLHS=T5n(D8t.yaxisLHS);}if(D8t.yaxisRHS){h$U.yaxisRHS=T5n(D8t.yaxisRHS);}}for(var D7D in this.layout.studies){V$c=L0W.studies[D7D]={};p4d=this.layout.studies[D7D];V$c.type=p4d.type;V$c.inputs=D6F.clone(p4d.inputs);V$c.outputs=D6F.clone(p4d.outputs);V$c.panel=p4d.panel;V$c.parameters=D6F.clone(p4d.parameters);V$c.disabled=p4d.disabled;if(p4d.signalData){if(p4d.signalData.cloneForExport){V$c.signalData=p4d.signalData.cloneForExport();}else {V$c.signalData=D6F.clone(p4d.signalData);}}}if(W5l){L0W.symbols=this.getSymbols({"include-parameters":!!1,"exclude-studies":!![],"exclude-generated":!!({})});o6l.o5K(2);n1v=-o6l.b3H(72,"901752271");H0e=-1201332064;S_K=2;for(var a0q=1;o6l.E56(a0q.toString(),a0q.toString().length,51525) !== n1v;a0q++){if(L0W.symbols.length || L0W.symbols[1].symbolObject || L0W.symbols[1].symbolObject.static){~L0W.symbols[8].symbolObject.static;}S_K+=2;}if(o6l.E56(S_K.toString(),S_K.toString().length,88341) !== H0e){if(L0W.symbols.length && L0W.symbols[3].symbolObject && L0W.symbols[6].symbolObject.static){-L0W.symbols[0].symbolObject.static;}}if(L0W.symbols.length && L0W.symbols[0].symbolObject && L0W.symbols[0].symbolObject.static){delete L0W.symbols[0].symbolObject.static;}}else {delete L0W.symbols;}return L0W;};D6F.ChartEngine.prototype.importPreferences=function(l0I){var A_S;W99Ps.p_j();A_S="pref";A_S+="erences";D6F.extend(this.preferences,l0I);if(l0I.timeZone){this.setTimeZone(this.dataZone,l0I.timeZone);}if(l0I.language && D6F.I18N){D6F.I18N.localize(this,l0I.language);}this.changeOccurred(A_S);};D6F.ChartEngine.prototype.exportPreferences=function(){W99Ps.Y7v();return this.preferences;};};X=C8j=>{var b8V=W99Ps;var m3c,G5F,P20,i_1,j0$,f8c,E7E,U8_,J_i,n1D,n5r,Y7W,m42,H$9,o2E,w$a,n7s;m3c="Moving Average ";m3c+="Cross";G5F="0 t";G5F+="o max";P20="Volume Ch";P20+="art";i_1="au";i_1+="to";j0$="m";j0$+="a";f8c="Standar";f8c+="d Deviation";E7E="#";E7E+="FF0";E7E+="000";U8_="fiel";U8_+="d";J_i="Wei";J_i+="ght";J_i+="ed";n1D="Exponenti";n1D+="a";n1D+="l";n5r="Tri";n5r+="an";n5r+="gu";n5r+="lar";Y7W="si";Y7W+="mpl";Y7W+="e";m42="v";m42+="dma";H$9="t";H$9+="m";H$9+="a";o2E="u";o2E+="nde";o2E+="fine";o2E+="d";w$a=typeof _CIQ !== o2E?_CIQ:C8j.CIQ;n7s=typeof _timezoneJS !== "undefined"?_timezoneJS:C8j.timezoneJS;if(w$a.ChartEngine){w$a.ChartEngine.prototype.rightClickOverlay=function(r9w,R6k){var k5X,z0i;k5X="ri";b8V.Y7v();k5X+="ghtClickOverlay";if(this.runPrepend("rightClickOverlay",arguments)){return;}z0i=this.overlays[r9w];if(z0i.editFunction){z0i.editFunction(R6k);}else {this.removeOverlay(r9w);}this.runAppend(k5X,arguments);};w$a.ChartEngine.prototype.addOverlay=function(c6h){b8V.Y7v();if(this.runPrepend("addOverlay",arguments)){return;}this.overlays[c6h.name]=c6h;this.runAppend("addOverlay",arguments);};w$a.ChartEngine.prototype.removeOverlay=function(T9B){var t0X,D3K,J0W,t9q,l5b;t0X="r";t0X+="emoveOverlay";b8V.Y7v();if(this.runPrepend("removeOverlay",arguments)){return;}D3K=this.overlays[T9B];if(D3K){for(var C0$ in this.overlays){J0W=this.overlays[C0$];t9q=["Field"];if(w$a.Studies){t9q=w$a.Studies.getFieldInputs(J0W);}for(var G7s=0;G7s < t9q.length;G7s++){if(D3K.outputMap[J0W.inputs[t9q[G7s]]]){this.removeOverlay(J0W.name);}}}this.cleanupRemovedStudy(D3K);l5b=this.panels[D3K.panel];delete this.overlays[T9B];this.checkForEmptyPanel(D3K.panel);}if(!this.currentlyImporting){this.displaySticky();this.createDataSet();this.changeOccurred("layout");}this.resetDynamicYAxis();this.runAppend(t0X,arguments);};w$a.ChartEngine.prototype.cleanupRemovedStudy=function(h2T){if(!h2T){return;}if(h2T.study.removeFN){h2T.study.removeFN(this,h2T);}for(var o1g in this.plugins){if(o1g.indexOf((608.2 > "609.4" - 0?(!!"1",3.82e+3):7200 > 3538?"{":!!"1") + h2T.id + "}") > -1){delete this.plugins[o1g];}}if(h2T.removeSignals){h2T.removeSignals();}if(this.layout.studies){delete this.layout.studies[h2T.name];}this.chart.state.studies.sorted=null;delete this.overlays[h2T.name];var {sd:x13}=this.repositioningAnchorSelector || ({});if(x13 && x13 === h2T){this.repositioningAnchorSelector=null;var {anchorHandles:d1A}=this.controls;if(d1A && d1A[h2T.uniqueId]){d1A[h2T.uniqueId].highlighted=!!0;w$a.Studies.displayAnchorHandleAndLine(this,h2T,this.chart.dataSegment);}}b8V.p_j();if(w$a.Studies){w$a.Studies.removeStudySymbols(h2T,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};}w$a.Studies=w$a.Studies || (function(){});w$a.Studies.DEFAULT_INPUTS={Period:"14" - 0};w$a.Studies.DEFAULT_OUTPUTS={Result:"auto"};w$a.Studies.impliedVolatilityAvailable=!!"";w$a.Studies.sortForProcessing=a2M=>{var q4t,D6u;q4t=[];b8V.p_j();D6u=a2M.layout.studies;function g2Z(G6w,k1V){G6w.forEach(B5H=>{b8V.p_j();var i1T;if(k1V.indexOf(B5H) == -+"1"){i1T=B5H.getDependents(a2M);if(i1T.length){g2Z(i1T,k1V);}k1V.unshift(B5H);}});}if(D6u){g2Z(Object.values(D6u),q4t);}return q4t;};w$a.Studies.StudyDescriptor=function(c2l,H05,k$j,E91,m4o,D5M){var o4x,a$G;this.name=c2l;this.disabled=!({});this.type=H05;this.panel=k$j;this.inputs=E91;this.outputs=m4o;this.parameters=D5M;this.outputMap={};this.min=null;this.max=null;this.startFrom=0;this.subField="Close";o4x=w$a.Studies.studyLibrary[H05];if(!o4x){a$G="c";a$G+="hart";o4x={};if(k$j == "chart" || !k$j && D5M && D5M.chartName == a$G){this.overlay=!!({});}}if(typeof o4x.inputs == "undefined"){o4x.inputs=w$a.clone(w$a.Studies.DEFAULT_INPUTS);}if(typeof o4x.outputs == "undefined"){o4x.outputs=w$a.clone(w$a.Studies.DEFAULT_OUTPUTS);}this.study=o4x;this.libraryEntry=o4x;;};w$a.Studies.StudyDescriptor.prototype.toggleDisabledState=function(c5f){var r_Y,o_Z,W_o,g0D,K8K;var {disabled:u5K, study:r4O, signalData:A$2}=this;this.disabled=u5K=!u5K;if(!u5K){this.startFrom=0;this.error=null;if(r4O && r4O.calculateFN){r4O.calculateFN(c5f,this);}if(this.flagSignals){this.flagSignals();}c5f.draw();}r_Y=-76559910;o_Z=424026460;b8V.E2X(8);W_o=b8V.f$g("2",0);for(var l0M=1;b8V.E56(l0M.toString(),l0M.toString().length,+"18834") !== r_Y;l0M++){g0D="sh";g0D+="ow";if(A$2){A$2[u5K?g0D:"show"]();}W_o+=2;}if(b8V.O8J(W_o.toString(),W_o.toString().length,"32092" - 0) !== o_Z){K8K="hi";K8K+="d";K8K+="e";if(A$2){A$2[u5K?K8K:"show"]();}}};w$a.Studies.StudyDescriptor.prototype.getYAxis=function(m8T){var v_x,W2s,b1h;v_x=this.yAxis;if(this.parameters){W2s=this.parameters.yaxisDisplayValue;}if(!v_x){b1h=m8T.panels[this.panel];if(b1h){v_x=m8T.getYAxisByName(b1h,W2s) || m8T.getYAxisByName(b1h,this.name) || b1h.yAxis;}}if(!v_x){v_x=m8T.getYAxisByName(m8T.chart.panel,W2s) || m8T.chart.panel.yAxis;}return v_x;};w$a.Studies.StudyDescriptor.prototype.getContext=function(r36){return r36.chart.context;};w$a.Studies.StudyDescriptor.prototype.getDependents=function(b4f,a5$){var F4h,e8S,Q5k;F4h=[];for(var e8g in b4f.layout.studies){e8S=b4f.layout.studies[e8g];if(e8S == this)continue;Q5k=w$a.Studies.getFieldInputs(e8S);for(var E9k=0;E9k < Q5k.length;E9k++){if(e8S.inputs[Q5k[E9k]].includes(this.name)){if(a5$ && e8S.parameters && e8S.parameters.panelName)continue;F4h.push(e8S);F4h=F4h.concat(e8S.getDependents(b4f,a5$));break;}}}return F4h;};w$a.Studies.StudyDescriptor.prototype.undraggable=function(U1H){var O8n;if(this.signalData){return !![];}O8n=this.study.attributes;if(O8n){if(O8n.panelName && O8n.panelName.hidden){return !!1;}if(O8n.yaxisDisplayValue && O8n.yaxisDisplayValue.hidden){return !!1;}}return !!"";};w$a.Studies.StudyDescriptor.prototype.appendFutureTicks=function(m_l,A7T){var L3H,s1G,i4T,i4Z;L3H=m_l.chart.scrubbed;if(!L3H.length){return;}s1G=m_l.standardMarketIterator(L3H[L3H.length - 1].DT);for(i4T=A7T.length - 1;i4T >= 0;i4T--){i4Z=A7T[i4T];for(var r75 in i4Z){if(i4Z[r75] || i4Z[r75] === 0){i4T=-1;break;}}if(i4T == -1)break;A7T.pop();}for(i4T=0;i4T < A7T.length;i4T++){i4Z=A7T[i4T];if(!i4Z.DT){i4Z.DT=s1G.next();}if(!i4Z.displayDate){m_l.setDisplayDate(i4Z);}i4Z.futureTick=!!1;L3H.push(i4Z);}};w$a.Studies.generateID=function(U7b,Y0W,f93,o7$,K1Y){var Y0X,i$u,L5V,q1W,y_P,I3x,L6O;Y0X=w$a.Studies.studyLibrary[Y0W];b8V.E2X(14);i$u=b8V.f$g((7080,943) <= 220.57?(5.65e+3,"C"):"\u200c",(598.74,+"891") !== 447.17?(2480,819.72) != 8700?"\u200c":("f","F"):("F",0x24cb),K1Y || Y0W);L5V=i$u;if(Y0X){if(Y0X.customRemoval){return L5V;}}if(!w$a.isEmpty(f93)){q1W=!!({});for(var C9R in f93){y_P="An";y_P+="c";y_P+="hor Selector";if(["id","display","Shading",y_P].includes(C9R)){continue;}I3x=f93[C9R];if(I3x == "field")continue;I3x=I3x.toString();if(w$a.Studies.prettify[I3x] !== undefined){I3x=w$a.Studies.prettify[I3x];}if(q1W){q1W=!1;L5V+=" (";}else {if(I3x){L5V+=9040 > 7151?(830.86,+"8730") > (7960,4)?(+"7050",+"4992") <= 3351?5.97e+2:",":(0x1db,0x1901):(!1,3.98e+3);}}L5V+=I3x;}if(!q1W){L5V+=6109 == 691.05?716.66:")";}}if(o7$ && o7$.indexOf(L5V) === 0){return o7$;}if(U7b.layout.studies && U7b.layout.studies[L5V]){for(var E6e="2" * 1;E6e < "50" - 0;E6e++){b8V.E2X(14);L6O=b8V.f$g(L5V,E6e,"-");if(!U7b.layout.studies[L6O]){L5V=L6O;break;}}}return L5V;};b8V.p_j();w$a.Studies.DialogHelper=function(e7T){var m3t,l3A,l_S,T7r,W1m,g3P,h7X,X72,D1H,T2R,h5j,f3n,w0C,u6q,J2g,v1u,A5X,W9t,H0d,e3e,s6t,R8W,x6V,n68,k0H,E4d,E1I,T3X,f0S,i0x,Z4P,c$a,c_O,x8K,X2Z,x16,I_W,n0b,P5a,D5C,b2a,x6m,l6i,Z9T,y8O,O_f,e5c,S4A;m3t=this.stx=e7T.stx;l3A=this.sd=e7T.sd;this.name=l3A?l3A.type:e7T.name;this.signal=1;this.inputs=[];b8V.Y7v();this.outputs=[];this.parameters=[];function C2k(p3H){var B8O,o_p;B8O="a";B8O+="l";function g0O(o0Y,g8T){b8V.Y7v();return "Panel " + g8T.toString();}B8O+="ias";if(P5a == B8O){o_p=1;for(var q9B in m3t.panels){if(q9B == p3H){return g0O(q9B,o_p);}o_p++;}}return p3H;}function c5w(J2q){var p$I;p$I={name:J2q.name,heading:m3t.translateIf(J2q.label),defaultValue:J2q.defaults,value:J2q.value,type:"checkbox"};return p$I;}l_S=this.libraryEntry=l3A?l3A.study:w$a.Studies.studyLibrary[e7T.name];if(typeof l_S.inputs == "undefined"){l_S.inputs=w$a.clone(w$a.Studies.DEFAULT_INPUTS);}if(typeof l_S.outputs == "undefined"){l_S.outputs=w$a.clone(w$a.Studies.DEFAULT_OUTPUTS);}T7r=l3A && m3t.panels[l3A.panel]?m3t.panels[l3A.panel]:m3t.chart.panel;W1m=T7r.chart;function j11(g1l,f9m){b8V.Y7v();var F$i,Y2p,v8S,t_6;F$i=this;Y2p=-1525241899;v8S=-1824276053;t_6=2;for(var F4Y=1;b8V.O8J(F4Y.toString(),F4Y.toString().length,"168" ^ 0) !== Y2p;F4Y++){if(~F$i.attributes[g1l]){F$i.attributes[g1l]={};}b8V.E2X(2);t_6+=b8V.f$g(0,"2");}if(b8V.E56(t_6.toString(),t_6.toString().length,+"91292") !== v8S){if(!F$i.attributes[g1l]){F$i.attributes[g1l]={};}}if(f9m){F$i.attributes[g1l].hidden=!![];}}this.title=m3t.translateIf(l_S.name);this.attributes=w$a.clone(l_S.attributes);if(!this.attributes){this.attributes={};}for(var K3b in this.attributes){g3P=this.attributes[K3b];for(var B55 in g3P){if(typeof g3P[B55] == "function"){g3P[B55]=g3P[B55].call(l3A);}}}h7X=[];X72=m3t.layout.studies;D1H=[];function R9l(a_L){var u$f,F_Y,p6d;u$f={};F_Y=a_L.defaults;p6d={name:a_L.name,heading:m3t.translateIf(a_L.label),defaultValue:F_Y[+"0"],value:a_L.value,options:u$f,type:"select"};for(var X2o=0;X2o < F_Y.length;X2o++){u$f[F_Y[X2o]]=m3t.translateIf(F_Y[X2o]);}if(a_L.color !== undefined){p6d.defaultColor=m3t.defaultColor;p6d.color=a_L.color;}return p6d;}if(l3A){D1H=Array.prototype.concat(l3A,l3A.getDependents(m3t));}for(var d$K in X72){if(X72[d$K].signalData)continue;if(D1H.indexOf(X72[d$K]) > -1)continue;for(var l86 in X72[d$K].outputMap){h7X.push(l86);}}for(var N5$ in l_S.inputs){T2R="und";T2R+="efine";T2R+="d";h5j={};this.inputs.push(h5j);h5j.name=N5$;h5j.heading=m3t.translateIf(N5$);f3n=l_S.inputs[N5$];if(l3A && l3A.inputs && typeof l3A.inputs[N5$] != T2R && l3A.inputs[N5$] !== null){h5j.value=l3A.inputs[N5$];}else {h5j.value=l_S.inputs[N5$];}h5j.defaultInput=l_S.inputs[N5$];if(!this.attributes[N5$]){this.attributes[N5$]=w$a.Studies.inputAttributeDefaultGenerator(h5j.defaultInput);}if(f3n.constructor == Number){w0C="nu";w0C+="m";w0C+="be";w0C+="r";h5j.type=w0C;}else if(f3n.constructor == String){u6q=w$a.Studies.movingAverageHelper(m3t,h5j.defaultInput);if(u6q){h5j.type="select";h5j.defaultInput=u6q;J2g=w$a.Studies.movingAverageHelper(m3t,h5j.value);if(!J2g){J2g=h5j.value;}h5j.value=J2g;h5j.options=w$a.Studies.movingAverageHelper(m3t,"options");}else if(f3n == "field"){v1u="f";v1u+="i";v1u+="el";v1u+="d";A5X="hl";A5X+="c";A5X+="/";A5X+="3";W9t="H";W9t+="i";W9t+="gh";H0d="O";H0d+="p";H0d+="e";H0d+="n";h5j.type="select";h5j.options={};e3e=[H0d,W9t,"Low","Close","Adj_Close","hl/2",A5X,"hlcc/4","ohlc/4",W1m.defaultPlotField].concat(h7X);for(var U_N=0;U_N < e3e.length;U_N++){s6t=e3e[U_N];h5j.options[s6t]=m3t.translateIf(s6t);}if(h5j.value == v1u){R8W="Cl";R8W+="ose";h5j.value=R8W;}if(h5j.defaultInput == "field"){h5j.defaultInput="Close";}}else {x6V="yyyy-mm-";x6V+="d";x6V+="d";n68="t";n68+="e";n68+="x";n68+="t";h5j.type=n68;if(this.attributes[N5$].placeholder == x6V){h5j.type="date";}else if(this.attributes[N5$].placeholder == "hh:mm:ss"){h5j.type="time";}}}else if(f3n.constructor == Boolean){k0H="t";k0H+="rue";E4d="checkb";E4d+="o";E4d+="x";h5j.type=E4d;if(h5j.value === !!"1" || h5j.value == k0H || h5j.value == "on"){h5j.value=!!"1";}}else if(f3n.constructor == Array){h5j.type="select";h5j.options={};for(var f_O=0;f_O < f3n.length;f_O++){h5j.options[f3n[f_O]]=m3t.translateIf(f3n[f_O]);}if(h5j.value.constructor == Array){b8V.o5K(57);h5j.value=h5j.value[b8V.f$g(0,"0")];}if(this.attributes[N5$].defaultSelected){h5j.defaultInput=this.attributes[N5$].defaultSelected;}else {h5j.defaultInput=f3n[0];}}}this.dateTimeInputs=[];for(var n2o=0;n2o < this.inputs.length;n2o++){E1I=this.inputs[n2o];if(E1I.type == "date"){T3X=E1I.name.substring(0,E1I.name.indexOf(" Date"));for(var w0o=+"0";w0o < this.inputs.length;w0o++){f0S="t";f0S+="i";f0S+="m";f0S+="e";i0x=this.inputs[w0o];if(i0x.type == f0S){if(i0x.name == T3X + " Time"){this.dateTimeInputs.push(T3X);break;}}}}}this.adjustInputTimesForDisplayZone();for(N5$ in l_S.outputs){Z4P={name:N5$,heading:m3t.translateIf(N5$)};Z4P.color=Z4P.defaultOutput=l_S.outputs[N5$];if(l3A && l3A.outputs && l3A.outputs[N5$]){Z4P.color=l3A.outputs[N5$];}if(Z4P.color == "auto"){Z4P.color=m3t.defaultColor;}this.outputs.push(Z4P);}c$a=l3A?l3A.parameters:null;if(l_S.parameters){c_O=l_S.parameters.init;if(c_O){if(c_O.studyOverZonesEnabled !== undefined){X2Z="ch";X2Z+="e";X2Z+="ckb";X2Z+="ox";x16="Show Zo";x16+="nes";x8K={name:"studyOverZones",heading:m3t.translateIf(x16),defaultValue:c_O.studyOverZonesEnabled,value:c_O.studyOverZonesEnabled};if(c$a && (c$a.studyOverZonesEnabled || c$a.studyOverZonesEnabled === !({}))){x8K.value=c$a.studyOverZonesEnabled;}x8K.type=X2Z;this.parameters.push(x8K);}if(c_O.studyOverBoughtValue !== undefined){I_W="studyOverBo";I_W+="ught";x8K={name:I_W,heading:m3t.translateIf("OverBought"),defaultValue:c_O.studyOverBoughtValue,value:c_O.studyOverBoughtValue,defaultColor:c_O.studyOverBoughtColor,color:c_O.studyOverBoughtColor};if(c$a && c$a.studyOverBoughtValue){x8K.value=c$a.studyOverBoughtValue;}if(c$a && c$a.studyOverBoughtColor){x8K.color=c$a.studyOverBoughtColor;}if(x8K.color == "auto"){x8K.color=m3t.defaultColor;}x8K.type="text";this.parameters.push(x8K);}if(c_O.studyOverSoldValue !== undefined){n0b="st";n0b+="udyOv";n0b+="erSold";x8K={name:n0b,heading:m3t.translateIf("OverSold"),defaultValue:c_O.studyOverSoldValue,value:c_O.studyOverSoldValue,defaultColor:c_O.studyOverSoldColor,color:c_O.studyOverSoldColor};if(c$a && c$a.studyOverSoldValue){x8K.value=c$a.studyOverSoldValue;}if(c$a && c$a.studyOverSoldColor){x8K.color=c$a.studyOverSoldColor;}if(x8K.color == "auto"){x8K.color=m3t.defaultColor;}x8K.type="text";this.parameters.push(x8K);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}P5a=this.panelSelect=e7T.panelSelect;D5C=this.axisSelect=e7T.axisSelect;if(e7T.addWhenDone){D5C=P5a=![];}if(D5C || P5a){if(!l3A){l3A=w$a.Studies.addStudy(m3t,e7T.name,null,null,{calculateOnly:!![]});w$a.Studies.removeStudy(m3t,l3A);}if(P5a){b2a="un";b2a+="derla";b2a+="y";x6m="Show as U";x6m+="nd";x6m+="erlay";l6i="A";l6i+="u";l6i+="t";l6i+="o";this.parameters.push(R9l({label:"Panel",name:"panelName",defaults:(function(){var L$f,Q5K;L$f="Au";L$f+="to";Q5K=[];b8V.p_j();Q5K.push(L$f);for(var t9a in m3t.panels){if(t9a != l3A.panel || !c$a || !c$a.panelName)if(!m3t.panels[t9a].noDrag){Q5K.push(C2k(t9a));}}if(!m3t.checkForEmptyPanel(l3A.panel,!!({}),l3A)){Q5K.push("New panel");}return Q5K;})(),value:c$a && c$a.panelName?C2k(c$a.panelName):l6i}),c5w({label:x6m,name:b2a,defaults:!({}),value:l3A.underlay || l3A.parameters && l3A.parameters.underlayEnabled}));}Z9T=m3t.getYAxisByName(T7r,l3A.name);if(D5C){y8O="au";y8O+="t";y8O+="o";O_f="share";O_f+="d";e5c="yax";e5c+="isDisplay";S4A="Y-";S4A+="Ax";S4A+="is";this.parameters.push(R9l({label:S4A,name:e5c,defaults:(function(){var H7_,Q0S,v1M,Y0f;H7_="l";H7_+="e";b8V.Y7v();H7_+="f";H7_+="t";Q0S="de";Q0S+="fault";v1M=T7r.yaxisLHS.concat(T7r.yaxisRHS);Y0f=[];Y0f.push(Q0S,"right",H7_,"none","shared");for(var z7v="0" << 0;z7v < v1M.length;z7v++){if(v1M[z7v] != Z9T){Y0f.push(v1M[z7v].name);}}return Y0f;})(),value:c$a && c$a.yaxisDisplayValue || Z9T && Z9T.position || (!Z9T?O_f:"default"),color:Z9T && Z9T.textStyle?Z9T.textStyle:y8O}),c5w({label:"Invert Y-Axis",name:"flipped",defaults:!"1",value:c$a && c$a.flippedEnabled !== undefined?c$a.flippedEnabled:Z9T?Z9T.flipped:![]}));}j11.call(this,"flippedEnabled",!Z9T && l3A.panel != l3A.name);j11.call(this,"underlayEnabled",l_S.underlay);j11.call(this,"panelName",l_S.seriesFN === null);j11.call(this,"yaxisDisplayValue",l_S.seriesFN === null || l_S.yAxis && l_S.yAxis.noDraw);}};w$a.Studies.DialogHelper.prototype.updateStudy=function(w1i){var m5b,P1j,Y6Z,D1i,w4K,e5q,M4V,O6Q;m5b={};P1j=this.sd;function R5W(l0f){var F6B,c_s,k0G;F6B="al";F6B+="i";F6B+="a";F6B+="s";function F$l(n8I){var w1W;w1W=n8I.match(/.{0,50} (\d)/);return w1W && w1W["1" ^ 0];}c_s=this;if(c_s.panelSelect == F6B){k0G=F$l(l0f);if(k0G){for(var g9p in c_s.stx.panels){if(!--k0G){return g9p;}}}}return l0f;}Y6Z=this.libraryEntry;if(!Y6Z){Y6Z={};}if(!P1j){P1j=Y6Z;}m5b.inputs=w$a.clone(P1j.inputs);b8V.p_j();m5b.outputs=w$a.clone(P1j.outputs);m5b.parameters=w$a.clone(P1j.parameters);this.adjustInputTimesForDisplayZone(w1i);if(w1i.parameters && w1i.parameters.panelName){D1i=-275886230;w4K=-1009053373;e5q=2;for(var u$W=+"1";b8V.O8J(u$W.toString(),u$W.toString().length,98078) !== D1i;u$W++){w1i.parameters.panelName=R5W.call(this,w1i.parameters.panelName);e5q+=+"2";}if(b8V.E56(e5q.toString(),e5q.toString().length,17079) !== w4K){w1i.parameters.panelName=R5W.call(this,w1i.parameters.panelName);}w1i.parameters.panelName=R5W.call(this,w1i.parameters.panelName);}w$a.extend(m5b,w1i);if(!m5b.parameters){m5b.parameters={};}if(m5b.inputs && m5b.inputs.id){P1j=w$a.Studies.replaceStudy(this.stx,m5b.inputs.id,this.name,m5b.inputs,m5b.outputs,m5b.parameters,null,P1j.study);}else {P1j=w$a.Studies.addStudy(this.stx,this.name,m5b.inputs,m5b.outputs,m5b.parameters,null,P1j.study);}M4V=new w$a.Studies.DialogHelper({stx:this.stx,sd:P1j,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var W6R in M4V){O6Q="signa";O6Q+="l";if(W6R != O6Q){this[W6R]=M4V[W6R];}}b8V.o5K(57);this.signal*=-b8V.b3H(0,"1");;};w$a.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(c3l){var s3p,v5T,G4y,s_D,k1q,f5i,E8q,S0n,M_1,i3R,S_w;b8V.p_j();if(this.stx.displayZone){for(var L3F=0;L3F < this.dateTimeInputs.length;L3F++){s3p=this.dateTimeInputs[L3F];f5i="";if(c3l && c3l.inputs){E8q=" ";E8q+="Date";b8V.o5K(0);G4y=c3l.inputs[b8V.b3H(E8q,s3p)];b8V.o5K(0);s_D=c3l.inputs[b8V.b3H(" Time",s3p)];if(G4y){f5i=G4y;}if(s_D){f5i+=s_D;}}for(v5T="0" >> 64;v5T < this.inputs.length;v5T++){S0n=" Ti";S0n+="m";S0n+="e";M_1=" Da";M_1+="te";k1q=this.inputs[v5T];if(!G4y && G4y !== "" && k1q.name == s3p + M_1){f5i=k1q.value + f5i;}else if(!s_D && s_D !== "" && k1q.name == s3p + S0n){f5i+=k1q.value;}}f5i=f5i.replace(/\D/g,"");if(f5i.length < "12" >> 32){return;}i3R=w$a.strToDateTime(f5i);if(!isNaN(i3R.valueOf())){if(c3l){if(!c3l.inputs){c3l.inputs={};}S_w=w$a.convertTimeZone(i3R,this.stx.displayZone);b8V.o5K(0);c3l.inputs[b8V.f$g(" Date",s3p)]=w$a.yyyymmdd(S_w);b8V.E2X(0);c3l.inputs[b8V.f$g(" Time",s3p)]=w$a.hhmmss(S_w);}else {S_w=w$a.convertTimeZone(i3R,null,this.stx.displayZone);for(v5T="0" * 1;v5T < this.inputs.length;v5T++){k1q=this.inputs[v5T];if(k1q.name == s3p + " Date"){k1q.value=w$a.yyyymmdd(S_w);}if(k1q.name == s3p + " Time"){k1q.value=w$a.hhmmss(S_w);}}}}}}};w$a.Studies.prepareStudy=function(N7U,Y_g,D7e){b8V.Y7v();if(typeof Y_g.calculateFN == "undefined"){Y_g.useRawValues=!"";}if(w$a.isEmpty(D7e.outputMap)){for(var E4G in D7e.outputs){if(Y_g.useRawValues){D7e.outputMap[E4G]=E4G;}else {D7e.outputMap[E4G + " " + D7e.name]=E4G;}}}};w$a.Studies.rejiggerDerivedStudies=function(x7h,h5S,k44){var c8b,K0r,J6u,Z1A,c67,X$m,h9m,x_h,o91;b8V.p_j();c8b=h5S.name;K0r=h5S.panel;J6u=h5S.getDependents(x7h);for(var Y7e=0;Y7e < J6u.length;Y7e++){Z1A=J6u[Y7e];c67=w$a.clone(Z1A.inputs);X$m=c67.id;if(!X$m)continue;h9m=![];x_h=w$a.Studies.getFieldInputs(Z1A);for(var u7z=0;u7z < x_h.length;u7z++){c67[x_h[u7z]]=c67[x_h[u7z]].replace(c8b,k44);}o91=w$a.Studies.replaceStudy(x7h,X$m,Z1A.type,c67,Z1A.outputs,w$a.extend(Z1A.parameters,{rejiggering:!!({})}),null,Z1A.study);delete o91.parameters.rejiggering;}};w$a.Studies.removeStudySymbols=function(z0k,I0$){b8V.Y7v();if(z0k.series){for(var C6S in z0k.series){I0$.deleteSeries(z0k.series[C6S],null,{action:"remove-study"});}};};w$a.Studies.replaceStudy=function(G1X,B4X,b66,w_p,p5n,w4U,K$Y,M4k){var w7M,I_k,X24,S2G;if(!w4U){w4U={};}if(B4X){w4U.replaceID=B4X;}B4X=w4U.replaceID;w7M=G1X.layout.studies[B4X];w$a.Studies.removeStudySymbols(w7M,G1X);if(w7M.attribution){G1X.removeFromHolder(w7M.attribution.marker);}if(G1X.quoteDriver){G1X.quoteDriver.updateSubscriptions();}if(w_p){if(w_p.id == w_p.display){delete w_p.display;}delete w_p.id;}I_k=w$a.Studies.addStudy(G1X,b66,w_p,p5n,w4U,K$Y,M4k);I_k.highlight=w7M.highlight;I_k.uniqueId=w7M.uniqueId;if(w7M.signalData){I_k.signalData=w7M.signalData;if(I_k.signalData.updateConditions){I_k.signalData.updateConditions(B4X,I_k.inputs.id);}}S2G={};for(X24 in G1X.layout.studies){if(X24 == B4X){S2G[I_k.name]=I_k;}else {S2G[X24]=G1X.layout.studies[X24];}}G1X.layout.studies=S2G;S2G={};for(X24 in G1X.overlays){if(X24 == B4X){if(I_k.overlay || I_k.underlay){S2G[I_k.name]=I_k;}}else {S2G[X24]=G1X.overlays[X24];}}G1X.overlays=S2G;if(!G1X.overlays[I_k.name] && (I_k.overlay || I_k.underlay)){G1X.addOverlay(I_k);}G1X.checkForEmptyPanel(w7M.panel);if(!w4U.rejiggering){G1X.initializeDisplay(G1X.chart);w$a.Studies.rejiggerDerivedStudies(G1X,w7M,I_k.inputs.id,I_k.panel);}w$a.transferObject(w7M,I_k);G1X.layout.studies[I_k.name]=w7M;G1X.overlays[I_k.name]=w7M;G1X.chart.state.studies.sorted=null;if(!w4U.rejiggering){G1X.changeOccurred("layout");if(!w7M.currentlyImporting && !w4U.calculateOnly && w7M.chart.dataSet){G1X.createDataSet(null,w7M.chart);}G1X.draw();}return w7M;};w$a.Studies.addStudy=function(m9l,o42,L8I,q4x,I_H,c9v,b3r){var F7o,s1j,A6S,t3l,E7h,A3U,T3d,D06,K0W,x1v,m0z,h8J,f96,U7z;F7o="a";F7o+="bo";F7o+="r";F7o+="t";s1j="Au";s1j+="t";s1j+="o";A6S=b3r?b3r:w$a.Studies.studyLibrary[o42];if(!I_H){I_H={};}if(A6S){if(A6S.inputs){t3l=w$a.clone(A6S.inputs);for(var c5S in t3l){if(t3l[c5S] instanceof Array){if(A6S.attributes && A6S.attributes[c5S] && A6S.attributes[c5S].defaultSelected){t3l[c5S]=A6S.attributes[c5S].defaultSelected;}else {t3l[c5S]=t3l[c5S][0];}}}L8I=w$a.extend(t3l,L8I);}if(A6S.outputs){q4x=w$a.extend(w$a.clone(A6S.outputs),q4x);}E7h=A6S.parameters;if(E7h && E7h.init){I_H=w$a.extend(w$a.clone(E7h.init),I_H);}if(E7h && !I_H.display){I_H.display=E7h.display;}}if(!L8I){L8I=w$a.clone(w$a.Studies.DEFAULT_INPUTS);}if(!q4x){q4x=w$a.clone(w$a.Studies.DEFAULT_OUTPUTS);}if(!I_H.chartName){I_H.chartName="chart";}if(I_H.panelName == s1j || I_H.panelName == "Default panel"){I_H.panelName="";}if(L8I.Period < 1){L8I.Period=1;}A3U=null;if(!m9l.layout.studies){m9l.layout.studies={};}if(A6S && A6S.initializeFN){A3U=A6S.initializeFN(m9l,o42,L8I,q4x,I_H,c9v,b3r);}else {A3U=w$a.Studies.initializeFN(m9l,o42,L8I,q4x,I_H,c9v,b3r);}if(!A3U){b8V.o5K(0);console.log(b8V.b3H(o42,"CIQ.Studies.addStudy: initializeFN() returned null for "));return;}else if(A3U === F7o){return;}b3r=A3U.study;A3U.chart=m9l.charts[I_H.chartName];A3U.type=o42;A3U.permanent=b3r.permanent;A3U.customLegend=b3r.customLegend;A3U.uniqueId=w$a.uniqueID();w$a.Studies.prepareStudy(m9l,b3r,A3U);T3d=m9l.chart.state.studies;if(!T3d){T3d=m9l.chart.state.studies={};}T3d.sorted=null;if(!I_H.replaceID){m9l.layout.studies[A3U.inputs.id]=A3U;if(A3U.overlay || A3U.underlay){m9l.addOverlay(A3U);}if(!m9l.currentlyImporting && !I_H.calculateOnly && A3U.chart.dataSet){m9l.createDataSet(null,A3U.chart);}}else {D06=!!({});delete I_H.replaceID;}if(m9l.quoteDriver){m9l.quoteDriver.updateSubscriptions();}if(I_H.calculateOnly){K0W="l";K0W+="ay";K0W+="ou";K0W+="t";m9l.changeOccurred(K0W);return A3U;}x1v=m9l.panels[A3U.panel];m0z=![];h8J=!(A3U.overlay || A3U.underlay);if(h8J && b3r.horizontalCrosshairFieldFN){x1v.horizontalCrosshairField=b3r.horizontalCrosshairFieldFN(m9l,A3U);}if(m9l.editCallback){m0z=!!"1";}else if(h8J){if(m9l.callbackListeners.studyPanelEdit && m9l.callbackListeners.studyPanelEdit.length){m0z=!"";}}else {if(m9l.callbackListeners.studyOverlayEdit && m9l.callbackListeners.studyOverlayEdit.length){m0z=!![];}}if(m0z){I_H.editMode=!![];f96=![];for(var K0k in A3U.inputs){if(K0k == "id")continue;if(K0k == "display")continue;f96=!"";break;}if(!f96){for(var x0_ in A3U.outputs){f96=!![];break;}}if(f96){if(typeof A3U.study.edit != "undefined"){if(A3U.study.edit){U7z=(function(T7z,m9y,X5L,P_6,a_R){return function(){w$a.clearCanvas(T7z.chart.tempCanvas,T7z);m9y.study.edit(m9y,{stx:T7z,inputs:X5L,outputs:P_6,parameters:a_R});};})(m9l,A3U,L8I,q4x,I_H);m9l.setPanelEdit(x1v,U7z);A3U.editFunction=U7z;}}else if(!h8J){U7z=(function(a_E,w_f,D8P,U_M,h8t){return function(l4V){b8V.Y7v();w$a.clearCanvas(a_E.chart.tempCanvas,a_E);a_E.dispatch("studyOverlayEdit",{stx:a_E,sd:w_f,inputs:D8P,outputs:U_M,parameters:h8t,forceEdit:l4V});};})(m9l,A3U,L8I,q4x,I_H);A3U.editFunction=U7z;}else {if(m9l.editCallback){U7z=(function(U2Y,F1o,y5T,I3O,g9F){return function(){b8V.p_j();var M1k;M1k=U2Y.editCallback(U2Y,F1o);w$a.clearCanvas(U2Y.chart.tempCanvas,U2Y);w$a.Studies.studyDialog(U2Y,o42,M1k,{inputs:y5T,outputs:I3O,parameters:g9F});};})(m9l,A3U,L8I,q4x,I_H);if(x1v.name != "chart"){m9l.setPanelEdit(x1v,U7z);}}else {U7z=(function(C$U,b6u,j1d,H8M,N4n){return function(){b8V.p_j();w$a.clearCanvas(C$U.chart.tempCanvas,C$U);C$U.dispatch("studyPanelEdit",{stx:C$U,sd:b6u,inputs:j1d,outputs:H8M,parameters:N4n});};})(m9l,A3U,L8I,q4x,I_H);if(x1v.name != "chart"){m9l.setPanelEdit(x1v,U7z);A3U.editFunction=U7z;}}}}}m9l.changeOccurred("layout");if(!D06){m9l.draw();}return A3U;};w$a.Studies.removeStudy=function(W$j,N96){var x3a,g77,h2n,N8J;x3a=W$j.panels[N96.panel];g77=x3a && x3a.yAxis.name;if(N96.overlay || N96.underlay){W$j.removeOverlay(N96.name);}h2n=W$j.panels[N96.panel];if(N96.attribution){W$j.removeFromHolder(N96.attribution.marker);}W$j.cleanupRemovedStudy(N96);if(h2n && !W$j.checkForEmptyPanel(h2n)){if(g77 == N96.name){W$j.electNewPanelOwner(h2n);}N8J=W$j.getYAxisByName(N96.panel,N96.name);if(N8J){N8J.name=N8J.studies[1] || N8J.renderers[0];}}W$j.draw();W$j.resizeChart();};w$a.Studies.getPanelFromFieldName=function(R6X,E8Y){var r2e,J6A,P2W,Y2L,F7j;r2e=w$a.Studies.getFieldInputs(E8Y);if(!r2e.length){return null;}J6A=R6X.layout.studies;if(!J6A){return null;}P2W={};for(var s0X in J6A){for(var I_3 in J6A[s0X].outputMap){P2W[I_3]=J6A[s0X].panel;}}for(var J9y=0;J9y < r2e.length;J9y++){Y2L=E8Y.inputs[r2e[J9y]];if(Y2L){F7j=P2W[Y2L];if(F7j){return F7j;}}}return null;};w$a.Studies.createLibraryHash=function(){b8V.p_j();return Object.keys(w$a.Studies.studyLibrary).join((+"9860",530.68) != (5951,"6247" - 0)?(6882,9950) !== (161.19,721.35)?"|":3980 <= (+"7646",2130)?(0x9c9,1.06e+3):!![]:!!({}));;};w$a.Studies.displayStudies=function(b5N,e6$,r9K){var W$5,N_$,f2_,F1n,y8e,n1s,W2V,T8Z,d4f,P_R,k_k,c6d,X2C,b3R,i1w,X5A;if(r9K){e6$.studyLibraryHash=w$a.Studies.createLibraryHash();}W$5=b5N.layout.studies;if(!W$5){return;}N_$={};N_$[e6$.name]=!!1;for(var Y1D in W$5){f2_=W$5[Y1D];F1n=f2_.study;if(!F1n)continue;if(f2_.disabled || f2_.signalData && !f2_.signalData.reveal)continue;y8e=f2_.underlay || f2_.parameters && f2_.parameters.underlayEnabled;if(r9K && !y8e || !r9K && y8e)continue;n1s=w$a.clone(F1n.renderer);if(n1s && !(n1s instanceof Array)){n1s=[n1s];}W2V=b5N.panels[f2_.panel];if(W2V){if(W2V.chart != e6$)continue;if(W2V.hidden)continue;if(!N_$[W2V.name]){T8Z=f2_.permanent || !b5N.manageTouchAndMouse;if(W2V.closeX){if(T8Z){W2V.closeX.style.display="none";}}else if(W2V.close){if(T8Z){W2V.close.style.display="none";}}if(W2V.edit){d4f="n";d4f+="on";d4f+="e";if(T8Z){W2V.edit.style.display=d4f;}}N_$[W2V.name]=T8Z;}}else {if(b5N.currentlyImporting){delete W$5[Y1D];}continue;}P_R=f2_.chart.dataSegment;if(f2_.panel == f2_.parameters.chartName && (!f2_.parameters || !f2_.parameters.panelName)){k_k=w$a.Studies.getPanelFromFieldName(b5N,f2_);if(k_k && f2_.panel != k_k){f2_.panel=k_k;}}if(typeof F1n.seriesFN == "undefined"){if(n1s){if(!f2_.overlay){w$a.Studies.createYAxis(b5N,f2_,P_R,W2V);}for(var E79=+"0";E79 < n1s.length;E79++){c6d=n1s[E79];for(var L3g in f2_.outputMap){if(f2_.outputMap[L3g] == c6d.field){c6d.field=L3g;}}if(!c6d.field)continue;c6d.panel=f2_.panel;X2C=c6d.binding;if(X2C){for(var u5G in X2C){b3R="a";b3R+="u";b3R+="t";b3R+="o";i1w=w$a.Studies.determineColor(f2_.outputs[X2C[u5G]]);if(i1w && i1w != b3R){c6d[u5G]=i1w;};}}c6d.yAxis=null;X5A=w$a.Renderer.produce(c6d.type,c6d);X5A.stx=b5N;X5A.attachSeries(null,c6d).draw();}}else {w$a.Studies.displaySeriesAsLine(b5N,f2_,P_R);}if(W2V){w$a.Studies.displayError(b5N,f2_);}}else {if(F1n.seriesFN){if(W2V){F1n.seriesFN(b5N,f2_,P_R);w$a.Studies.displayError(b5N,f2_);}}}}};w$a.Studies.displayError=function(N5l,n4x,G3T){var o2c,v6K;if(!n4x.error){return;}o2c=G3T && G3T.panel?G3T.panel:n4x.panel;v6K=n4x.error === !!"1"?N5l.translateIf("Not enough data to compute ") + N5l.translateIf(n4x.study.name):N5l.translateIf(n4x.error);b8V.Y7v();if(G3T && (G3T.h !== "center" || G3T.v !== "bottom")){N5l.watermark(o2c,G3T);return;}N5l.displayErrorAsWatermark(o2c,v6K);};w$a.Studies.calculateMinMaxForDataPoint=function(d6v,w5k,o1Q){var N8D,L4F,f4O;N8D=Number.MAX_VALUE;b8V.E2X(110);var C5Z=b8V.f$g(0,8,4,5);L4F=Number.MAX_VALUE * C5Z;for(var j0G=0;j0G < o1Q.length;j0G++){f4O=o1Q[j0G][w5k];if(f4O === null || typeof f4O == "undefined")continue;if(isNaN(f4O))continue;N8D=Math.min(f4O,N8D);L4F=Math.max(f4O,L4F);}return {min:N8D,max:L4F};};w$a.Studies.getYAxisParameters=function(W2K,c8r){var S2n,n56,d1k;S2n={};n56=W2K.layout.studies && W2K.layout.studies[c8r.name];if(n56){d1k=n56.study;if(d1k.yaxis || d1k.yAxisFN){S2n.noDraw=!0;}else {if(d1k.parameters && d1k.parameters.excludeYAxis){S2n.noDraw=!!"1";}S2n.ground=d1k.yAxis && d1k.yAxis.ground;if(c8r){if(d1k.range != "bypass"){if(d1k.range == "0 to 100"){S2n.range=[0,100];}else if(d1k.range == "-1 to 1"){S2n.range=[-1,1];}else {if(d1k.range == "0 to max"){S2n.range=[0,Math.max(0,c8r.high)];}else if(d1k.centerline || d1k.centerline === +"0"){S2n.range=[Math.min(d1k.centerline,c8r.low),Math.max(d1k.centerline,c8r.high)];}}}if(S2n.range){c8r.low=S2n.range[0];c8r.high=S2n.range[1];}if(n56.min){c8r.min=n56.min;}if(n56.max){c8r.max=n56.max;}if(n56.parameters && n56.parameters.studyOverZonesEnabled){S2n.noDraw=!!"1";}}}}return S2n;};w$a.Studies.doPostDrawYAxis=function(r88,Z3E){b8V.Y7v();var m_c,U75,M8z,Z73,x0o;for(var x2O in r88.layout.studies){m_c=r88.layout.studies[x2O];U75=r88.panels[m_c.panel];if(!U75 || U75.hidden)continue;M8z=m_c.getYAxis(r88);if(M8z != Z3E)continue;Z73=m_c.study;if(Z3E.name == m_c.name){if(Z73.yaxis){Z73.yaxis(r88,m_c);}if(Z73.yAxisFN){Z73.yAxisFN(r88,m_c);};}w$a.Studies.drawZones(r88,m_c);if(!m_c.error){x0o=Z73.centerline;if(x0o || x0o === 0 || x0o !== null && Z3E.highValue - 0.000000000001 > 0 && Z3E.lowValue + +"0.000000000001" < 0){w$a.Studies.drawHorizontal(r88,m_c,null,x0o || +"0",Z3E);}}}};w$a.Studies.displaySeriesAsLine=function(W6X,h0W,q3K){var h_i;b8V.Y7v();if(!q3K.length){return;}h_i=W6X.panels[h0W.panel];if(!h_i || h_i.hidden){return;}for(var I1h in h0W.outputMap){w$a.Studies.displayIndividualSeriesAsLine(W6X,h0W,h_i,I1h,q3K);}};w$a.Studies.displaySeriesAsHistogram=function(z_n,g9H,g86){var a_t,D7F,p2x,q8e,H0A,T4l,a$H,g9B,j06,R90,z7r,r8i;a_t="overl";a_t+="ai";a_t+="d";if(!g86.length){return;}D7F=z_n.panels[g9H.panel];if(!D7F){return;}if(D7F.hidden){return;}p2x=[];for(var Y_W in g9H.outputMap){q8e="objec";q8e+="t";H0A=g9H.outputs[g9H.outputMap[Y_W]];if(!H0A)continue;T4l=0.3;if(typeof H0A == q8e){T4l=H0A.opacity;H0A=H0A.color;}a$H={field:Y_W,fill_color_up:H0A,border_color_up:H0A,fill_color_down:H0A,border_color_down:H0A};if(g9H.underlay){a$H.opacity_up=a$H.opacity_down=T4l || 0.3;}p2x.push(a$H);}g9B=g9H.getYAxis(z_n);j06=g9H.inputs;R90=j06.WidthFactor;b8V.p_j();if(g9H.study && g9H.study.parameters){z7r=g9H.study.parameters;if(typeof z7r.widthFactor !== "undefined"){R90=z7r.widthFactor;}}r8i={name:g9H.name,type:j06.HistogramType?j06.HistogramType:a_t,panel:g9H.panel,yAxis:g9B,widthFactor:R90 || 0.5,bindToYAxis:!![],highlight:g9H.highlight};z_n.drawHistogram(r8i,p2x);};w$a.Studies.displayIndividualSeriesAsLine=function(G0a,z$f,n6S,v1b,Q$7){var N$4,B24,L_o,b8_,s2d,t8$,Y0m,y2M,b9h,b9R,X$R,D3B,k0A,e5A,q2N,B0w;N$4="s";N$4+="tep";if(!n6S.height){n6S.height=n6S.bottom - n6S.top;}B24=z$f.getContext(G0a);L_o=z$f.outputs[z$f.outputMap[v1b]];if(!L_o){return;}B24.save();if(typeof L_o === "string"){L_o={color:L_o,width:1};}B24.lineWidth=L_o.width || 1;b8_=L_o.color;if(b8_ == "auto"){b8_=G0a.defaultColor;}B24.strokeStyle=b8_;b8V.Y7v();s2d=L_o.pattern;B24.setLineDash(w$a.borderPatternToArray(B24.lineWidth,s2d));B24.lineDashOffset=+"0";t8$=0;Y0m=z$f.study;y2M=z$f.getYAxis(G0a);t8$=G0a.decimalPlacesFromPriceTick(y2M.priceTick,y2M.idealTickSizePixels);if(z$f.overlay || z$f.underlay){t8$=null;}if(y2M.decimalPlaces || y2M.decimalPlaces === 0){t8$=y2M.decimalPlaces;}b9h=null;if(z$f.parameters){b9h=z$f.parameters.label;}b9R=Y0m.parameters;if(!b9R){b9R={};}X$R=b9R.plotType == N$4;if(z$f.series){for(var y3N in z$f.series){D3B=z$f.series[y3N].parameters.type;if(D3B){b8V.E2X(74);X$R=b8V.b3H(D3B,"step");}}}if(b9R.noLabels){b9h=!!"";}if(!z$f.noSlopes && z$f.noSlopes !== ![]){z$f.noSlopes=b9R.noSlopes;}if(!z$f.extendToEnd && z$f.extendToEnd !== !({})){z$f.extendToEnd=b9R.extendToEnd;}k0A=b9h || G0a.preferences.labels && b9h !== !!"";e5A=z$f.gaplines;if(e5A === ![]){e5A="transparent";}q2N=z$f.inputs.Symbol;B0w=e5A?G0a.getGapColorFunction(q2N,v1b,L_o,e5A):null;G0a.plotDataSegmentAsLine(v1b,n6S,{yAxis:y2M,skipTransform:G0a.panels[z$f.panel].name != z$f.chart.name,label:k0A,labelDecimalPlaces:t8$,noSlopes:z$f.noSlopes,step:X$R,alignStepToSide:z$f.alignStepToSide,extendToEndOfLastBar:z$f.extendToEndOfLastBar,width:z$f.lineWidth,extendToEndOfDataSet:z$f.extendToEnd,gapDisplayStyle:e5A,highlight:z$f.highlight},B0w);if(Y0m.appendDisplaySeriesAsLine){Y0m.appendDisplaySeriesAsLine(G0a,z$f,Q$7,v1b,n6S);}B24.restore();};w$a.Studies.drawHorizontal=function(H8c,y_U,h5W,U1Y,L5Y,S5A){var j$b,l1O,v9X;j$b=H8c.panels[y_U.panel];l1O=H8c.getBackgroundCanvas().context;if(!j$b){return;}if(!S5A){S5A=L5Y.textStyle;}v9X=H8c.pixelFromPrice(U1Y,j$b,L5Y);if(v9X > L5Y.top && v9X < L5Y.bottom){H8c.plotLine(j$b.left,j$b.right,v9X,v9X,S5A,"segment",l1O,![],{opacity:S5A && S5A.opacity?S5A.opacity:"0.5" * 1});}};w$a.Studies.displayHistogramWithSeries=function(A$1,a7u,C7d){var s4f,c55;s4f=A$1.panels[a7u.panel];c55=0.5;if(a7u.underlay){c55=0.3;}w$a.Studies.createHistogram(A$1,a7u,C7d,!({}),c55);w$a.Studies.displaySeriesAsLine(A$1,a7u,C7d);};w$a.Studies.drawZones=function(r5X,F8N,l7f){var p_x,U9m,q1I,F0y,t5u,l_5,p6m,m$A,O6t,s8u,a5j,x2K,R9m,Q5n,g9V,u1_,Z$g,E$e,V_T,r_8,Y6D,Z80,y3O,K5g,o0v,K0C,O1i,e$o,L2F,T05;p_x="b";p_x+="o";p_x+="rd";p_x+="er";U9m="l";U9m+="e";U9m+="ft";q1I="a";q1I+="ut";q1I+="o";if(!F8N.parameters || !F8N.parameters.studyOverZonesEnabled){return;}F0y=parseFloat(F8N.parameters.studyOverSoldValue);t5u=parseFloat(F8N.parameters.studyOverBoughtValue);l_5=F8N.parameters.studyOverSoldColor;p6m=F8N.parameters.studyOverBoughtColor;m$A=F8N.zoneOutput;if(!m$A){m$A="Result";}O6t=w$a.Studies.determineColor(F8N.outputs[m$A]);if(!O6t || O6t == q1I || w$a.isTransparent(O6t)){O6t=r5X.defaultColor;}if(!l_5){l_5=O6t;}if(!l_5 || l_5 == "auto" || w$a.isTransparent(l_5)){l_5=r5X.defaultColor;}if(!p6m){p6m=O6t;}if(!p6m || p6m == "auto" || w$a.isTransparent(p6m)){p6m=r5X.defaultColor;}s8u=r5X.panels[F8N.panel];a5j=F8N.getYAxis(r5X);x2K=a5j.displayBorder;if(r5X.axisBorders === ![]){x2K=!!0;}if(r5X.axisBorders === !!1){x2K=!"";}if(a5j.width === 0){x2K=!({});}R9m=r5X.getYAxisCurrentPosition(a5j,s8u);b8V.E2X(74);Q5n=b8V.f$g(R9m,U9m);g9V=a5j.justifyRight;if(!g9V && g9V !== !!""){if(r5X.chart.yAxis.justifyRight || r5X.chart.yAxis.justifyRight === !!""){g9V=r5X.chart.yAxis.justifyRight;}else {g9V=Q5n;}}u1_=Math.round(a5j.left + (Q5n?a5j.width:0)) + 0.5;Z$g=x2K?"3" << 32:0;E$e=r5X.getBackgroundCanvas().context;V_T=E$e.fillStyle;E$e.globalAlpha=0.2;r5X.startClip(s8u.name,!0);E$e.beginPath();r_8=Math.round(r5X.pixelFromPrice(t5u,s8u,a5j)) - ("0.5" - 0);E$e.strokeStyle=p6m;E$e.moveTo(s8u.left,r_8);E$e.lineTo(s8u.right,r_8);E$e.stroke();E$e.closePath();E$e.beginPath();Y6D=Math.round(r5X.pixelFromPrice(F0y,s8u,a5j)) + 0.5;E$e.strokeStyle=l_5;E$e.moveTo(s8u.left,Y6D);E$e.lineTo(s8u.right,Y6D);E$e.stroke();E$e.closePath();Z80=new w$a.Plotter();Z80.newSeries(p_x,"stroke",r5X.canvasStyle("stx_grid_border"));if(x2K){y3O=Q5n?u1_ - Z$g:u1_ - +"0.5";K5g=Q5n?u1_ + 0.5:u1_ + Z$g;Z80.moveTo("border",y3O,r_8);Z80.lineTo("border",K5g,r_8);Z80.moveTo("border",y3O,Y6D);Z80.lineTo("border",K5g,Y6D);}E$e.fillStyle=V_T;o0v={skipTransform:r5X.panels[F8N.panel].name != F8N.chart.name,panelName:F8N.panel,band:m$A + (2727 !== 558.25?" ":(807.76,582) >= (547,758)?"J":(!!({}),"G")) + F8N.name,yAxis:a5j,opacity:0.3};if(!F8N.highlight && r5X.highlightedDraggable){o0v.opacity*=0.3;}w$a.preparePeakValleyFill(r5X,w$a.extend(o0v,{threshold:t5u,direction:a5j.flipped?-1:1,color:p6m}));w$a.preparePeakValleyFill(r5X,w$a.extend(o0v,{threshold:F0y,direction:a5j.flipped?1:-1,color:l_5}));E$e.globalAlpha=1;if(!F8N.study || !F8N.study.yaxis){if(x2K){K0C=Math.round(a5j.bottom) + 0.5;Z80.moveTo("border",u1_,a5j.top);Z80.lineTo("border",u1_,K0C);Z80.draw(E$e,"border");}if(a5j.width !== 0){O1i="stx_yaxi";O1i+="s";e$o="le";e$o+="f";e$o+="t";r5X.canvasFont("stx_yaxis",E$e);r5X.canvasColor("stx_yaxis",E$e);E$e.textAlign=g9V?"right":e$o;L2F=r5X.getCanvasFontSize(O1i) / +"2";if(Q5n){b8V.o5K(56);var P8d=b8V.f$g(8,11);T05=a5j.left + P8d;if(g9V){b8V.E2X(8);var q4$=b8V.b3H(15,12);T05=a5j.left + a5j.width - Z$g - q4$;}}else {b8V.E2X(35);var t93=b8V.f$g(13,14,24);T05=a5j.left + Z$g + t93;if(g9V){T05=a5j.left + a5j.width;}}if(r_8 > a5j.top + L2F){E$e.fillStyle=p6m;E$e.fillText(t5u,T05,r_8);}if(Y6D < a5j.bottom - L2F){E$e.fillStyle=l_5;E$e.fillText(F0y,T05,Y6D);}E$e.fillStyle=V_T;}}r5X.endClip();E$e.globalAlpha=1;if(a5j.name == F8N.name){a5j.yAxisPlotter=new w$a.Plotter();}};w$a.Studies.createHistogram=function(O8B,q3X,K2w,R5z,m7e){var f0T,l9T,t_G,O28,N34,K2y,L0Y,X8u,z$4,O7d,o02,A2s,w1e,c6F,h4J,d4q,U2n,v$k,I3n,R3q,d9Z,T8r;f0T=O8B.panels[q3X.panel];l9T=q3X.getContext(O8B);t_G=q3X.getYAxis(O8B);O8B.startClip(f0T.name);b8V.o5K(123);var K0q=b8V.b3H(15,339,32,2,11);O28=O8B.layout.candleWidth - K0q;if(O28 < +"2"){O28=+"1";}N34=O8B.pixelFromPrice(0,f0T,t_G);if(t_G.min > 0){N34=O8B.pixelFromPrice(t_G.min,f0T,t_G);}if(R5z){N34=Math.floor(f0T.top + f0T.height / 2);}K2y=q3X.name + "_hist";O8B.canvasColor("stx_histogram");L0Y=l9T.fillStyle;if(m7e || m7e === 0){l9T.globalAlpha=m7e;}if(!q3X.highlight && O8B.highlightedDraggable){l9T.globalAlpha*=0.3;}X8u=null;z$4=null;O7d=q3X.outputs;for(var g20=0;g20 < K2w.length;g20++){o02="Neg";o02+="a";o02+="tiv";o02+="e Bar";A2s="Posit";A2s+="ive Ba";A2s+="r";w1e="Increa";w1e+="si";w1e+="ng B";w1e+="ar";c6F=K2w[g20];if(!c6F)continue;if(c6F.candleWidth){O28=Math.floor(Math.max("1" * 1,c6F.candleWidth - 2));}h4J=Math.floor(O8B.pixelFromBar(g20,f0T.chart) - O28 / +"2");d4q=Math.floor(O28);if(X8u === null){U2n=O8B.tickFromPixel(h4J,f0T.chart) - ("1" >> 0);if(U2n < 0){X8u=z$4;}else {X8u=O8B.pixelFromPrice(O8B.chart.dataSet[U2n][K2y],f0T,t_G) - N34;}}else {X8u=z$4;}z$4=O8B.pixelFromPrice(c6F[K2y],f0T,t_G) - N34;v$k=w$a.Studies.determineColor(O7d["Decreasing Bar"]);I3n=w$a.Studies.determineColor(O7d[w1e]);R3q=w$a.Studies.determineColor(O7d[A2s]);d9Z=w$a.Studies.determineColor(O7d[o02]);T8r=t_G.flipped;l9T.fillStyle=L0Y;if(v$k && (T8r?z$4 < X8u:z$4 > X8u)){l9T.fillStyle=v$k;}else if(I3n && (T8r?z$4 > X8u:z$4 < X8u)){l9T.fillStyle=I3n;}else if(R3q && (T8r?z$4 > 0:z$4 < 0)){l9T.fillStyle=R3q;}else if(d9Z && (T8r?z$4 < 0:z$4 > 0)){l9T.fillStyle=d9Z;}l9T.fillRect(h4J,N34,d4q,Math.floor(z$4));}l9T.globalAlpha=1;O8B.endClip();};w$a.Studies.prettify={Close:7600 != (785,"476.65" * 1)?"C":"R",Open:+"6151" <= +"3706"?(1.29e+3,"9.21e+3" ^ 0):8365 <= 6105?"0x1035" * 1:(948.91,"868.32" - 0) == 3170?(0xc13,363):"O",High:(1960,9540) < (3473,2940)?("m",!!"1"):"H",Low:(+"6470",852.18) == 444.01?("M",833.73):3870 == (5183,830)?"7.67e+3" << 64:"L",simple:"ma",exponential:"ema",triangular:H$9,VIDYA:m42,weighted:"wma","welles wilder":"smma",true:"y",false:"524.7" * 1 <= 2192?"n":"K"};w$a.Studies.prettyRE=/^.{0,50}\((.{0,50})\).{0,50}$/;w$a.Studies.prettyDisplay=function(P$c){var Y1t,x70;Y1t=w$a.Studies.prettyRE.exec(P$c);if(!Y1t){return P$c;}x70=Y1t[1];if(x70){for(var m8e in w$a.Studies.prettify){x70=x70.replace(m8e,w$a.Studies.prettify[m8e]);}P$c=P$c.replace(Y1t[1],x70);}return P$c;};w$a.Studies.getFieldInputs=function(g5c){b8V.p_j();var T6E,s7p;T6E=[];s7p=g5c.study.inputs;for(var v_b in s7p){if(s7p[v_b] == "field"){T6E.push(v_b);}}return T6E;};w$a.Studies.initializeFN=function(m6O,q49,M6B,o1d,u8z,s9$,L6I){var G_3,F9k,U46,e6h,k9a,M7B,Y8S,K70,E4C,k0l,Z2h,K1v,h4c,z1z,M5j,i6W,Y6P,n3o,X3w,W4M,D$b;if(!M6B){M6B={};}if(!u8z){u8z={};}if(!M6B.id){M6B.id=w$a.Studies.generateID(m6O,q49,M6B,u8z.replaceID,u8z.display);}if(!M6B.display){M6B.display=M6B.id;}G_3=new w$a.Studies.StudyDescriptor(M6B.id,q49,M6B.id,M6B,o1d,u8z);if(M6B.Period){G_3.days=Math.max(1,parseInt(G_3.inputs.Period,10));}if(L6I){if(!L6I.inputs){L6I.inputs=G_3.study.inputs;}if(!L6I.outputs){L6I.outputs=G_3.study.outputs;}F9k=1229762296;b8V.E2X(1);U46=b8V.b3H(0,"459438601");e6h=2;for(var D4q="1" << 64;b8V.E56(D4q.toString(),D4q.toString().length,80406) !== F9k;D4q++){G_3.study=L6I;e6h+=2;}if(b8V.E56(e6h.toString(),e6h.toString().length,35922) !== U46){G_3.study=L6I;}}else {L6I=G_3.study;}if(L6I.display){M6B.display=L6I.display;}if(typeof u8z.panelName == "string"){s9$=u8z.panelName;}if(s9$ == M6B.id || s9$ && !m6O.panelExists(s9$)){G_3.underlay=G_3.overlay=![];}if(s9$ == "Own panel" || s9$ == "New panel"){s9$=null;}k9a=G_3.overlay || M6B.Overlay || G_3.overlay !== !"1" && L6I.overlay;M7B=G_3.underlay || M6B.Underlay || G_3.underlay !== !"1" && L6I.underlay;if(k9a && u8z.underlayEnabled){M7B=!!({});}if(M7B){G_3.underlay=!!"1";}if(!M7B && m6O.chart.panel && s9$ == m6O.chart.panel.name){k9a=!![];}if(k9a){G_3.overlay=!0;}Y8S=m6O.preferences.dragging;if(Y8S === !!1 || Y8S && Y8S.study){G_3.overlay=!![];}if(s9$){u8z.panelName=s9$;}else if(!k9a && !M7B){s9$=M6B.id;}b8V.p_j();if(u8z.calculateOnly){if(k9a || M7B){if(m6O.panels[u8z.panelName]){G_3.panel=u8z.panelName;}else {G_3.panel=w$a.Studies.getPanelFromFieldName(m6O,G_3) || u8z.chartName;}}return G_3;}K70={};E4C=m6O.layout.studies[u8z.replaceID];if(E4C){K70={outputMap:w$a.clone(E4C.outputMap),panel:E4C.panel};}G_3.panel="";if(s9$){k0l="l";k0l+="ef";k0l+="t";Z2h="New pa";Z2h+="nel";K1v=w$a.Studies.smartMovePanel(m6O,G_3.inputs,s9$,u8z.replaceID,u8z.panelName == Z2h);if(K1v){G_3.panel=K1v.name;}if(u8z.yaxisDisplayValue && ![k0l,"right","none","shared","default"].includes(u8z.yaxisDisplayValue) && !m6O.getYAxisByName(K1v,u8z.yaxisDisplayValue)){u8z.yaxisDisplayValue="default";}}else if(k9a || M7B){G_3.panel=w$a.Studies.getPanelFromFieldName(m6O,G_3) || u8z.chartName;}if(!G_3.panel){h4c=L6I.panelHeight || null;z1z=u8z.yAxis || L6I.yAxis || ({});z1z.name=G_3.inputs.id;G_3.panel=G_3.inputs.id;m6O.createPanel(G_3.inputs.display,G_3.panel,h4c,u8z.chartName,new w$a.ChartEngine.YAxis(z1z));}if(G_3.parameters && G_3.parameters.panelName){G_3.parameters.panelName=G_3.panel;}M5j=m6O.panels[G_3.panel];i6W=L6I?w$a.clone(L6I.yAxis):null;Y6P=u8z.yAxis || i6W;if((Y6P || ({})).ground){Y6P["initialMargin" + (Y6P.flipped?"Top":"Bottom")]=0;}n3o=w$a.Studies.smartCreateYAxis(m6O,M5j,G_3.inputs.id,u8z.yaxisDisplayValue,Y6P);if(n3o){X3w="de";X3w+="fa";X3w+="ul";X3w+="t";if(n3o.name == u8z.replaceID){n3o.name=G_3.inputs.id;}if(!u8z.replaceID && n3o.name === G_3.name){m6O.calculateYAxisMargins(n3o);}n3o.allowSharing=!u8z.yAxis && !L6I.yAxis;n3o.width=n3o.position == "none"?0:w$a.ChartEngine.YAxis.prototype.width;if(u8z.yaxisDisplayValue == "shared" || u8z.yaxisDisplayValue == X3w){delete u8z.yaxisDisplayValue;}else {if(i6W){w$a.ensureDefaults(n3o,i6W);}if(n3o.name == G_3.name){if(!(i6W || ({})).textStyle && !u8z.yaxisDisplayColor || u8z.yaxisDisplayColor == "auto"){delete n3o.textStyle;}else if(u8z.yaxisDisplayColor){n3o.textStyle=w$a.colorToHex(u8z.yaxisDisplayColor);}if((i6W || ({})).justifyRight === undefined){n3o.justifyRight=null;}if(u8z.flippedEnabled !== undefined){n3o.flipped=u8z.flippedEnabled;}}}if(n3o != M5j.yAxis){n3o.displayGridLines=!({});}else if(n3o != m6O.chart.yAxis){n3o.displayGridLines=m6O.displayGridLinesInStudies;}}m6O.calculateYAxisPositions();if(E4C){W4M=!1;for(var z$v in m6O.drawingObjects){D$b=m6O.drawingObjects[z$v];if(K70.outputMap && K70.outputMap.hasOwnProperty(D$b.field)){D$b.field=D$b.field.replace(u8z.replaceID,G_3.inputs.id);if(G_3.parameters && G_3.parameters.panelName){D$b.panelName=G_3.parameters.panelName;}else {D$b.panelName=G_3.panel;}W4M=!!"1";}else if(K70.panel && K70.panel == D$b.panelName){D$b.panelName=D$b.panelName.replace(u8z.replaceID,G_3.inputs.id);W4M=!![];}}if(W4M){m6O.changeOccurred("vector");}}return G_3;};w$a.Studies.smartMovePanel=function(W8g,J5W,r_C,N46,s_x){var d1v,v_a,L3A,b76,g6d,f1i,g3c;v_a=-854467007;b8V.o5K(37);L3A=-b8V.f$g("42965723",64);b8V.E2X(57);b76=b8V.f$g(64,"2");for(var R69=1;b8V.E56(R69.toString(),R69.toString().length,89521) !== v_a;R69++){g6d=J5W.id;if(N46){d1v=W8g.layout.studies[N46];}b76+=2;}if(b8V.O8J(b76.toString(),b76.toString().length,28159) !== L3A){g6d=J5W.id;if(N46){d1v=W8g.layout.studies[N46];}}if(d1v){f1i=W8g.panels[d1v.panel];if(f1i){if(f1i.yAxis.name == N46){if((s_x || r_C != N46 && r_C != g6d) && !W8g.checkForEmptyPanel(f1i.name,!!({}),d1v)){W8g.electNewPanelOwner(f1i);g3c=d1v.getYAxis(W8g);if(g3c.name == N46){W8g.electNewYAxisOwner(g3c);};}else if(r_C == N46 || !W8g.panels[r_C]){if(g6d != f1i.name){W8g.modifyPanel(f1i,{name:g6d,display:J5W.display});}r_C=g6d;}}}}return W8g.panels[r_C];};w$a.Studies.smartCreateYAxis=function(o8u,w0G,A8g,V8r,v05){var c5b,m9F,t5$,X7w,Z_9,c13,w7Q,T3G,I5K,s0c,D$A;c5b="shar";c5b+="ed";m9F="n";m9F+="o";m9F+="n";m9F+="e";t5$="l";t5$+="ef";t5$+="t";X7w=v05 || ({});Z_9=o8u.getYAxisByName(w0G,A8g);if(!V8r && v05){V8r=v05.position;}if([t5$,"right",m9F].indexOf(V8r) > -1 || V8r === undefined && v05){if(!Z_9 || Z_9.isShared(o8u)){w$a.extend(X7w,{name:A8g,position:V8r});if(!Z_9 && !o8u.currentlyImporting && w0G != w0G.chart.panel && !w0G.yAxis.studies.length && !w0G.yAxis.renderers.length){Z_9=w0G.yAxis;w$a.extend(Z_9,X7w);}else {c13=Z_9 == w0G.yAxis;if(Z_9){Z_9.name=o8u.electNewYAxisOwner(Z_9);}w7Q=Z_9 || w0G.yAxis;if(w7Q.lockScale){w$a.extend(X7w,{zoom:w7Q.zoom,scroll:w7Q.scroll,lockScale:!""});}Z_9=o8u.addYAxis(w0G,new w$a.ChartEngine.YAxis(X7w));if(c13){w0G.yAxis=Z_9;}}}else {if(v05){w$a.extend(Z_9,v05);}Z_9.position=V8r;Z_9.name=A8g;}return Z_9;}if(V8r && V8r !== "default" && V8r !== c5b && V8r !== w0G.yAxis.name){T3G=o8u.getYAxisByName(w0G,V8r);if(T3G && Z_9 == w0G.yAxis && !Z_9.isShared(o8u)){w0G.yAxis=T3G;}if(Z_9 && Z_9.isShared(o8u)){Z_9.name=o8u.electNewYAxisOwner(Z_9);}else {I5K=373869889;s0c=20135295;D$A=2;for(var t6Y=1;b8V.E56(t6Y.toString(),t6Y.toString().length,+"32222") !== I5K;t6Y++){if(Z_9 === w0G.yAxis){o8u.deleteYAxisIfUnused(w0G,Z_9);}D$A+=2;}if(b8V.O8J(D$A.toString(),D$A.toString().length,+"10854") !== s0c){if(Z_9 !== w0G.yAxis){o8u.deleteYAxisIfUnused(w0G,Z_9);}}}return T3G;}b8V.p_j();if(V8r == "shared" || V8r == w0G.yAxis.name || w0G.yAxis.allowSharing && (!Z_9 || Z_9.allowSharing)){if(Z_9){if(Z_9 !== w0G.yAxis && Z_9.isShared(o8u)){Z_9.name=o8u.electNewYAxisOwner(Z_9);}else {delete Z_9.position;o8u.deleteYAxisIfUnused(w0G,Z_9);}}o8u.resizeChart();return w0G.yAxis;}w$a.extend(X7w,{name:A8g});if(Z_9){Z_9.name=o8u.electNewYAxisOwner(Z_9);}if(!Z_9 || Z_9.name){Z_9=o8u.addYAxis(w0G,new w$a.ChartEngine.YAxis(X7w));}else {w$a.extend(Z_9,X7w);delete Z_9.position;}return Z_9;};w$a.Studies.calculateVolume=function(w8X,I0C){var Q0o,F42,T29,P2s;b8V.Y7v();Q0o="v";Q0o+="ol";Q0o+=" u";Q0o+="ndr";if(I0C.type == Q0o){if(!w8X || !w8X.chart.dataSet){return;}F42=w8X.layout;T29=I0C.parameters.removeStudy;P2s=F42.volumeUnderlay;F42.volumeUnderlay=!T29;if(P2s != F42.volumeUnderlay){w8X.changeOccurred("layout");}if(T29){w$a.Studies.removeStudy(w8X,I0C);}}I0C.outputMap={};I0C.outputMap.Volume="";};w$a.Studies.MA=function(i11,o5E,T3l,s_q,r7H,L27,f1b,L51){var T27;b8V.o5K(124);var a0E=b8V.b3H(13,8,20,17,6822);b8V.o5K(72);var F$q=b8V.b3H(535,535,546);b8V.E2X(72);var C2c=b8V.b3H(20178,121068,6366);b8V.o5K(0);var o1w=b8V.f$g(4434,296);b8V.o5K(125);var d3H=b8V.b3H(6956,1734,6956,20,16);T27=new w$a.Studies.StudyDescriptor(r7H + (a0E === (F$q,C2c)?!0:(o1w,d3H) <= (482.55,+"365.09")?(+"7.25e+3","z"):" ") + f1b.name,"ma",f1b.panel);T27.chart=f1b.chart;T27.days=parseInt(o5E,10);T27.startFrom=f1b.startFrom;if(L51){T27.subField=L51;}T27.inputs={};if(i11){T27.inputs.Type=i11;}if(T3l){T27.inputs.Field=T3l;}if(s_q){T27.inputs.Offset=parseInt(s_q,10);}w$a.Studies.calculateMovingAverage(L27,T27);};w$a.Studies.movingAverage={conversions:{ma:"simple",sma:Y7W,ema:"exponential",tma:"triangular",vdma:"vidya",wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:n5r,vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:n1D,exponential:"Exponential",tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:J_i,smma:"Exponential","welles wilder":"Exponential"}};w$a.Studies.movingAverageHelper=function(p03,n$G){var z4U;if(n$G == "options"){z4U={};for(var F2G in w$a.Studies.movingAverage.translations){z4U[F2G]=p03.translateIf(w$a.Studies.movingAverage.translations[F2G]);}return z4U;}b8V.Y7v();return w$a.Studies.movingAverage.conversions[n$G];};w$a.Studies.createVolumeChart=function(x81,H3G,L_Y){var P0T,w1Y,B6k,a1s,u$n,P6K,F4R,W06,R1D,h$8,q4W,j5P,P2J,C6b,Z2d,u76,U01,X8p,Q8y;P0T="Vo";P0T+="l";P0T+="u";P0T+="me";w1Y="rgb(184, 44,";w1Y+=" 12";w1Y+=")";B6k="_do";B6k+="w";B6k+="n";a1s="_";a1s+="u";a1s+="p";u$n="c";u$n+="olor";P6K="Up";P6K+=" Vo";P6K+="lum";P6K+="e";b8V.p_j();F4R=H3G.panel;W06=H3G.inputs;R1D=H3G.underlay;h$8=H3G.overlay;q4W=R1D || h$8;j5P=w$a.Studies.determineColor(H3G.outputs[P6K]);P2J=w$a.Studies.determineColor(H3G.outputs["Down Volume"]);C6b=R1D?"stx_volume_underlay":"stx_volume";b8V.E2X(0);x81.setStyle(b8V.f$g("_up",C6b),"color",j5P);b8V.E2X(0);x81.setStyle(b8V.b3H("_down",C6b),u$n,P2J);Z2d=[{field:H3G.volumeField || "Volume",fill_color_up:x81.canvasStyle(C6b + "_up").color,border_color_up:x81.canvasStyle(C6b + "_up").borderLeftColor,opacity_up:x81.canvasStyle(C6b + a1s).opacity,fill_color_down:x81.canvasStyle(C6b + "_down").color,border_color_down:x81.canvasStyle(C6b + "_down").borderLeftColor,opacity_down:x81.canvasStyle(C6b + B6k).opacity,color_function:H3G.colorFunction}];u76=Z2d[0];if(!R1D && u76.border_color_down === w1Y){U01="#00";U01+="000";U01+="0";u76.border_color_down=U01;u76.border_color_up="#000000";}X8p=H3G.getYAxis(x81);Q8y={name:P0T,panel:F4R,yAxis:X8p,widthFactor:1,bindToYAxis:!![],highlight:H3G.highlight};w$a.extend(Q8y,H3G.study.parameters);w$a.extend(Q8y,H3G.parameters);if(x81.colorByCandleDirection && !H3G.colorFunction){u76.color_function=function(V0I){var v84,m6m;v84=V0I.Open;m6m=V0I.Close;b8V.p_j();return {fill_color:v84 > m6m?u76.fill_color_down:u76.fill_color_up,border_color:v84 > m6m?u76.border_color_down:u76.border_color_up,opacity:v84 > m6m?u76.opacity_down:u76.opacity_up};};}x81.drawHistogram(Q8y,Z2d);};w$a.Studies.calculateStandardDeviation=function(q5l,T_H){var p9h,L53,F$P,k8x,x4s,g0_,Z2N,v7d,Z5q,I66,c5P,w20,n4L,O6I;p9h=T_H.chart.scrubbed;if(p9h.length < T_H.days + ("1" >> 0)){T_H.error=!![];return;}L53=T_H.inputs.Field;if(!L53 || L53 == "field"){L53="Close";}F$P=T_H.inputs["Moving Average Type"];if(!F$P){F$P=T_H.inputs.Type;}w$a.Studies.MA(F$P,T_H.days,L53,T_H.inputs.Offset,"_MA",q5l,T_H);k8x=0;x4s=0;g0_=0;Z2N=Number(T_H.inputs["Standard Deviations"]);if(Z2N < 0){Z2N=+"2";}v7d=T_H.name;for(var t0h in T_H.outputs){b8V.E2X(14);v7d=b8V.f$g(t0h,v7d,"8750" - 0 <= (182.08,4959)?(819.94,740.04) == 6490?620.87:809.40:" ");}for((Z5q=T_H.startFrom - 1,c5P="0" * 1);Z5q >= 0 && c5P < T_H.days;(Z5q--,c5P++)){I66=p9h[Z5q][L53];if(I66 && typeof I66 == "object"){I66=I66[T_H.subField];}if(isNaN(I66)){I66=+"0";}k8x+=Math.pow(I66,2);x4s+=I66;}for(Z5q=T_H.startFrom;Z5q < p9h.length;Z5q++){w20="_";w20+="MA";w20+=" ";n4L=p9h[Z5q];I66=n4L[L53];if(I66 && typeof I66 == "object"){I66=I66[T_H.subField];}if(!I66 && I66 !== ("0" | 0)){I66=0;}k8x+=Math.pow(I66,2);x4s+=I66;if(Z5q < T_H.days - 1)continue;if(Z5q >= T_H.days){O6I=p9h[Z5q - T_H.days][L53];if(O6I && typeof O6I == "object"){O6I=O6I[T_H.subField];}if(isNaN(O6I)){b8V.E2X(2);O6I=b8V.f$g(0,"0");}k8x-=Math.pow(O6I,2);x4s-=O6I;}g0_=n4L[w20 + T_H.name];if(g0_ || g0_ === 0){n4L[v7d]=Math.sqrt((k8x + T_H.days * Math.pow(g0_,+"2") - +"2" * g0_ * x4s) / T_H.days) * Z2N;}}};w$a.Studies.calculateMovingAverage=function(z8L,I3g){var y4t,u$j,s1R,X5O,V5f,S6V,X3T,e22,A3v,h_D,n0p,X0B,a6q,n8o,W$W,k9H,m_i,H3t,G4d,I8l,G_w,C2Z;y4t="C";y4t+="lo";y4t+="s";y4t+="e";u$j="fiel";u$j+="d";s1R="m";s1R+="a";b8V.Y7v();if(!I3g.chart.scrubbed){return;}X5O=I3g.inputs.Type;if(X5O == s1R || X5O == "sma" || !X5O){X5O="simple";}V5f=w$a.Studies.movingAverage.typeMap;if((X5O in V5f)){return w$a.Studies["calculateMovingAverage" + V5f[X5O]](z8L,I3g);}else if(X5O !== "simple"){return;}S6V=I3g.chart.scrubbed;X3T=+"0";e22=[];A3v=I3g.name;for(var b2m in I3g.outputs){b8V.o5K(14);A3v=b8V.b3H(b2m,A3v,(3550,6510) > ("5161" - 0,8367)?(![],!({})):(2908,9814) != (2461,9991)?" ":("0x52e" * 1,"m"));}h_D=I3g.inputs.Field;if(!h_D || h_D == u$j){h_D=y4t;}n0p=parseInt(I3g.inputs.Offset,10);if(isNaN(n0p)){n0p=0;}W$W=I3g.startFrom;k9H=n0p;for(X0B=I3g.startFrom - ("1" ^ 0);X0B >= 0;X0B--){a6q=S6V[X0B][h_D];if(a6q && typeof a6q == "object"){a6q=a6q[I3g.subField];}if(!a6q && a6q !== +"0")continue;if(k9H > 0){k9H--;W$W=X0B;continue;}if(e22.length == I3g.days - 1)break;X3T+=a6q;e22.unshift(a6q);}if(e22.length < I3g.days - 1){e22=[];W$W=0;;}m_i=[];for(X0B=W$W;X0B < S6V.length;X0B++){H3t="ob";H3t+="j";H3t+="e";H3t+="ct";G4d=S6V[X0B];a6q=G4d[h_D];if(a6q && typeof a6q == H3t){a6q=a6q[I3g.subField];}I8l=X0B + n0p >= 0 && X0B + n0p < S6V.length;G_w=I8l?S6V[X0B + n0p]:null;if(!a6q && a6q !== 0){if(G_w){G_w[A3v]=null;}else if(X0B + n0p >= S6V.length){n8o={};n8o[A3v]=null;m_i.push(n8o);}continue;}X3T+=a6q;e22.push(a6q);if(e22.length > I3g.days){X3T-=e22.shift();}C2Z=e22.length == I3g.days?X3T / I3g.days:null;if(G_w){G_w[A3v]=C2Z;}else if(X0B + n0p >= S6V.length){n8o={};n8o[A3v]=C2Z;m_i.push(n8o);}}I3g.appendFutureTicks(z8L,m_i);};w$a.Studies.calculateMovingAverageExponential=function(E3U,x2A){var h_h,R3c,K10,E5p,d1Y,y2J,q$9,N43,A$S,u8A,G7J,m81,A39,g5F,C5m,k7p,n$c,s80,o7V,d_h,J2r,P0R,W4T;h_h="fi";h_h+="eld";R3c="welles wilde";R3c+="r";K10=x2A.inputs.Type;E5p=x2A.chart.scrubbed;d1Y=0;y2J=0;q$9=0;b8V.o5K(126);var j6b=b8V.b3H(8,2,2,22,18);b8V.p_j();N43=j6b / (x2A.days + +"1");if(K10 === R3c || K10 === "smma"){b8V.E2X(38);var L9N=b8V.b3H(0,20,3,59);N43=L9N / x2A.days;}A$S=null;u8A=x2A.name;for(var g6N in x2A.outputs){b8V.E2X(14);u8A=b8V.b3H(g6N,u8A," ");}G7J=x2A.inputs.Field;if(!G7J || G7J == h_h){G7J="Close";}m81=parseInt(x2A.inputs.Offset,10);if(isNaN(m81)){m81=0;}C5m=x2A.startFrom;k7p=m81;for(A39=x2A.startFrom - 1;A39 >= 0;A39--){g5F=E5p[A39][u8A];if(!g5F && g5F !== 0)continue;if(A$S === null){A$S=g5F;}q$9=x2A.days;if(k7p <= 0)break;k7p--;C5m=A39;}if(A$S === null){A$S=C5m=0;}n$c=[];for(A39=C5m;A39 < E5p.length;A39++){s80="ob";s80+="j";s80+="e";s80+="ct";o7V=E5p[A39];g5F=o7V[G7J];if(g5F && typeof g5F == s80){g5F=g5F[x2A.subField];}d_h=A39 + m81 >= +"0" && A39 + m81 < E5p.length;J2r=d_h?E5p[A39 + m81]:null;if(!g5F && g5F !== 0){P0R=null;}else {if(q$9 == x2A.days - 1){d1Y+=g5F;y2J=d1Y / x2A.days;P0R=y2J;}else if(q$9 < x2A.days - ("1" - 0)){d1Y+=g5F;b8V.o5K(127);y2J=b8V.b3H(1,d1Y,q$9);P0R=null;}else if(q$9 === 0){d1Y+=g5F;y2J=d1Y;P0R=null;}else if(A$S || A$S === 0){b8V.o5K(128);y2J=b8V.f$g(g5F,A$S,A$S,N43);P0R=y2J;}A$S=y2J;q$9++;}if(J2r){J2r[u8A]=P0R;}else if(A39 + m81 >= E5p.length){W4T={};W4T[u8A]=P0R;n$c.push(W4T);}}x2A.appendFutureTicks(E3U,n$c);};w$a.Studies.calculateMovingAverageVIDYA=function(E0c,n1$){var K_g,p38,x5I,S6m,D$P,v4e,q7A,x3S,K2l,O6M,h9b,G4A,F3d,b4k,i5h,F5C,t0B,A_1,D8G,L0N,s8J,d2l;K_g="m";K_g+="a";p38="s";p38+="d";p38+="e";p38+="v";x5I=n1$.inputs.Type;S6m=n1$.chart.scrubbed;b8V.o5K(129);var e18=b8V.f$g(11,18,5);b8V.E2X(38);var e$6=b8V.b3H(1,9,7,69);D$P=e18 / (n1$.days + e$6);v4e=null;q7A=n1$.name;for(var k7e in n1$.outputs){b8V.E2X(14);q7A=b8V.f$g(k7e,q7A,(571.99,3063) <= (4240,"966.4" * 1)?"Q":" ");}x3S=n1$.inputs.Field;if(!x3S || x3S == "field"){x3S="Close";}n1$.std=new w$a.Studies.StudyDescriptor(n1$.name,p38,n1$.panel);n1$.std.chart=n1$.chart;n1$.std.days=5;n1$.std.startFrom=n1$.startFrom;n1$.std.inputs={Field:x3S,"Standard Deviations":1,Type:K_g};n1$.std.outputs={_STD:null};w$a.Studies.calculateStandardDeviation(E0c,n1$.std);w$a.Studies.MA("ma",20,"_STD " + n1$.name,0,"_MASTD",E0c,n1$);K2l=parseInt(n1$.inputs.Offset,10);if(isNaN(K2l)){K2l=+"0";}F3d=n1$.startFrom;b4k=K2l;for(O6M=n1$.startFrom - 1;O6M >= 0;O6M--){h9b=S6m[O6M][q7A];if(!h9b && h9b !== "0" * 1)continue;if(v4e === null){v4e=h9b;}if(b4k <= 0)break;b4k--;F3d=O6M;}if(v4e === null){v4e=F3d=0;}i5h=[];for(O6M=F3d;O6M < S6m.length;O6M++){F5C="_";F5C+="MA";F5C+="STD";F5C+=" ";t0B="_";t0B+="STD ";A_1=S6m[O6M];h9b=A_1[x3S];if(h9b && typeof h9b == "object"){h9b=h9b[n1$.subField];}D8G=O6M + K2l >= 0 && O6M + K2l < S6m.length;L0N=D8G?S6m[O6M + K2l]:null;if(!h9b && h9b !== 0){if(L0N){L0N[q7A]=null;}else if(O6M + K2l >= S6m.length){G4A={};G4A[q7A]=null;i5h.push(G4A);}continue;}if(!A_1["_MASTD " + n1$.name] && A_1["_MASTD " + n1$.name] !== 0)continue;s8J=A_1[t0B + n1$.name] / A_1[F5C + n1$.name];b8V.o5K(130);d2l=b8V.b3H(1,s8J,s8J,D$P,v4e,D$P,h9b);v4e=d2l;if(O6M < n1$.days){d2l=null;}if(L0N){L0N[q7A]=d2l;}else if(O6M + K2l >= S6m.length){G4A={};G4A[q7A]=d2l;i5h.push(G4A);}}n1$.appendFutureTicks(E0c,i5h);};w$a.Studies.calculateMovingAverageTriangular=function(Y97,H1i){var B9$,H9c,O9J,p$g,p7A,F_a,k6O,q2j,B3C,u8Z,Q_8,C2E,c$L;B9$="TR";B9$+="I1";B9$+=" ";H9c="s";H9c+="i";H9c+="mp";H9c+="le";O9J="Clo";O9J+="s";O9J+="e";p$g=H1i.chart.scrubbed;p7A=H1i.inputs.Field;if(!p7A || p7A == "field"){p7A=O9J;}F_a=Math.ceil(H1i.days / 2);w$a.Studies.MA("simple",F_a,p7A,0,"TRI1",Y97,H1i);if(H1i.days % 2 === 0){F_a++;}w$a.Studies.MA(H9c,F_a,B9$ + H1i.name,0,"TRI2",Y97,H1i);k6O=H1i.name;for(var H8I in H1i.outputs){b8V.o5K(14);k6O=b8V.f$g(H8I,k6O,(822,368.46) > (+"478.69",+"4230")?(329.98,+"294.72") === 3880?(0x25b8,!!""):(2.16e+3,"d"):" ");}q2j=parseInt(H1i.inputs.Offset,10);if(isNaN(q2j)){q2j=+"0";}B3C=q2j;for(var M_0=H1i.startFrom - 1;M_0 >= 0;M_0--){u8Z=p$g[M_0][k6O];if(!u8Z && u8Z !== 0)continue;if(B3C > 0){B3C--;continue;}break;}Q_8=[];for(M_0++;M_0 < p$g.length;M_0++){if(M_0 + q2j >= 0){C2E="T";C2E+="R";C2E+="I2 ";if(M_0 + q2j < p$g.length){b8V.o5K(0);p$g[b8V.f$g(q2j,M_0)][k6O]=p$g[M_0][C2E + H1i.name];}else {c$L={};c$L[k6O]=p$g[M_0]["TRI2 " + H1i.name];Q_8.push(c$L);}}}H1i.appendFutureTicks(Y97,Q_8);};w$a.Studies.calculateMovingAverageWeighted=function(l_9,j4m){var q8X,o7U,S10,e2e,A0d,D4$,x24,t3G,P3Q,u2Y,v7o,A1t,T7u,E94,X0d,D3l,I0Q,J4r,V5q;q8X="Clos";q8X+="e";o7U=j4m.chart.scrubbed;S10=0;e2e=0;A0d=j4m.inputs.Field;if(!A0d || A0d == "field"){A0d=q8X;}b8V.E2X(56);var q8x=b8V.b3H(4,5);b8V.E2X(35);var w4_=b8V.f$g(4,13,15);D4$=j4m.days * (j4m.days + q8x) / w4_;x24=j4m.name;for(var y8W in j4m.outputs){b8V.o5K(14);x24=b8V.f$g(y8W,x24," ");}t3G=parseInt(j4m.inputs.Offset,10);if(isNaN(t3G)){t3G=0;}A1t=[];T7u=j4m.startFrom;E94=t3G;for(P3Q=j4m.startFrom - ("1" >> 0);P3Q >= 0;P3Q--){u2Y=o7U[P3Q][A0d];if(u2Y && typeof u2Y == "object"){u2Y=u2Y[j4m.subField];}if(!u2Y && u2Y !== 0)continue;if(E94 > 0){E94--;T7u=P3Q;continue;}if(A1t.length == j4m.days - 1)break;A1t.unshift(u2Y);}if(A1t.length < j4m.days - 1){A1t=[];T7u=+"0";;}for(P3Q=+"0";P3Q < A1t.length;P3Q++){b8V.E2X(73);var l61=b8V.b3H(5,12,0,1,6);S10+=(P3Q + l61) * A1t[P3Q];e2e+=A1t[P3Q];}X0d=[];for(P3Q=T7u;P3Q < o7U.length;P3Q++){D3l=o7U[P3Q];u2Y=D3l[A0d];if(u2Y && typeof u2Y == "object"){u2Y=u2Y[j4m.subField];}I0Q=P3Q + t3G >= 0 && P3Q + t3G < o7U.length;J4r=I0Q?o7U[P3Q + t3G]:null;if(!u2Y && u2Y !== 0){if(J4r){J4r[x24]=null;}else if(P3Q + t3G >= o7U.length){v7o={};v7o[x24]=null;X0d.push(v7o);}continue;}A1t.push(u2Y);if(A1t.length > j4m.days){S10-=e2e;e2e-=A1t.shift();}S10+=A1t.length * u2Y;e2e+=u2Y;V5q=P3Q < j4m.days - +"1"?null:S10 / D4$;if(J4r){J4r[x24]=V5q;}else if(P3Q + t3G >= o7U.length){v7o={};v7o[x24]=V5q;X0d.push(v7o);}}j4m.appendFutureTicks(l_9,X0d);};w$a.Studies.calculateMultMA=function(g5C,V1W){var y_J,S13,I9l,Y8p,p4e,H_7;y_J="fie";y_J+="ld";S13=V1W.chart.scrubbed;I9l=[Number.MAX_VALUE];Object.keys(V1W.inputs).filter(A9S=>{return A9S.indexOf("Period") > -+"1";}).forEach((C6e,C92)=>{b8V.E2X(131);b8V.Y7v();I9l[b8V.f$g("1",1,C92)]=V1W.inputs[C6e];});if(S13.length < Math.min(...I9l) + "1" * 1){V1W.error=!![];return;}Y8p=V1W.inputs.Field;if(!Y8p || Y8p == y_J){Y8p="Close";}p4e=V1W.inputs["Moving Average Type"];if(!p4e){p4e="simple";}H_7=V1W.inputs.Offset || 0;for(var q3E="1" | 0;q3E < I9l.length;q3E++){w$a.Studies.MA(p4e,I9l[q3E],Y8p,H_7,"MA " + q3E,g5C,V1W);}};w$a.Studies.calculateStudyATR=function(M61,p5g){var V2a,l3n,V9G,C9b,D3e,u0m,c8s;V2a=p5g.chart.scrubbed;l3n=p5g.days;if(V2a.length < l3n + +"1"){p5g.error=!![];return;}b8V.o5K(37);V9G=b8V.f$g("0",96);C9b=p5g.name;for(var n0j=Math.max(p5g.startFrom,1);n0j < V2a.length;n0j++){D3e=V2a[n0j];b8V.o5K(8);u0m=V2a[b8V.f$g(n0j,1)];c8s=D3e.trueRange;if(u0m["Sum True Range " + C9b]){b8V.E2X(0);V9G=u0m[b8V.f$g(C9b,"Sum True Range ")];}V9G+=c8s;if(n0j > l3n){b8V.E2X(8);V9G-=V2a[b8V.b3H(n0j,l3n)][b8V.b3H(C9b,"True Range ",b8V.E2X(0))];}b8V.o5K(0);D3e[b8V.f$g(C9b,"True Range ")]=c8s;b8V.E2X(0);D3e[b8V.b3H(C9b,"Sum True Range ")]=V9G;if(n0j == l3n){b8V.o5K(0);D3e[b8V.b3H(C9b,"ATR ")]=b8V.f$g(V9G,l3n,b8V.o5K(9));}else if(n0j > l3n){b8V.E2X(132);var p6F=b8V.f$g(6,259,19,1,14);b8V.E2X(0);D3e[b8V.f$g(C9b,"ATR ")]=(u0m["ATR " + C9b] * (l3n - p6F) + c8s) / l3n;}}};w$a.Studies.displayPSAR2=function(P8v,x9y,F4P){var a0X,D0f,C1b,R_m,x6Q,o7o,p7R,k5P,D5z,G7t,C2d,E93,Y6$,l7W,H9z;a0X="squ";a0X+="are";a0X+="wav";a0X+="e";D0f=P8v.panels[x9y.panel];C1b=x9y.getYAxis(P8v);R_m=C1b == P8v.chart.panel.yAxis;P8v.startClip(D0f.name);x6Q=x9y.getContext(P8v);o7o=x9y.inputs["Plot Type"] == a0X;for(var a73 in x9y.outputs){p7R="a";p7R+="u";p7R+="t";p7R+="o";k5P=a73 + " " + x9y.name;x6Q.beginPath();D5z=P8v.layout.candleWidth;G7t=Math.max(3,Math.floor(P8v.chart.tmpWidth / 2));for(var f8P=0;f8P < F4P.length;f8P++){C2d=F4P[f8P];if(!C2d || !C2d[k5P] && C2d[k5P] !== 0)continue;if(C2d.candleWidth){D5z=C2d.candleWidth;}if(R_m && C2d.transform){C2d=C2d.transform;}E93=P8v.pixelFromBar(f8P,D0f.chart);if(o7o){b8V.E2X(9);E93-=b8V.f$g(D5z,2);}Y6$=P8v.pixelFromTransformedValue(C2d[x9y.referenceOutput?x9y.referenceOutput + " " + x9y.name:k5P],D0f,C1b);if(f8P === +"0" || !F4P[f8P - +"1"] || !F4P[f8P - 1][k5P] && F4P[f8P - 1][k5P] !== 0){x6Q.moveTo(E93,Y6$);}if(o7o){x6Q.lineTo(E93,Y6$);b8V.o5K(0);x6Q.lineTo(b8V.b3H(D5z,E93),Y6$);if(F4P[f8P + ("1" >> 32)]){b8V.o5K(0);l7W=F4P[b8V.f$g(1,f8P)];if(R_m && l7W.transform){l7W=l7W.transform;}if(!l7W[k5P] && l7W[k5P] !== 0){b8V.E2X(0);x6Q.lineTo(b8V.b3H(D5z,E93),P8v.pixelFromTransformedValue(l7W[x9y.referenceOutput?x9y.referenceOutput + " " + x9y.name:k5P],P8v.panels[x9y.panel],C1b));}}}else {b8V.o5K(133);x6Q.moveTo(b8V.f$g(G7t,E93,"2"),Y6$);b8V.o5K(40);x6Q.lineTo(b8V.b3H(2,G7t,E93),Y6$);}}x6Q.lineWidth=1;if(x9y.highlight){x6Q.lineWidth=+"3";}H9z=w$a.Studies.determineColor(x9y.outputs[a73]);if(H9z == p7R){H9z=P8v.defaultColor;}x6Q.strokeStyle=H9z;if(!x9y.highlight && P8v.highlightedDraggable){x6Q.globalAlpha*=0.3;}x6Q.stroke();x6Q.closePath();x6Q.lineWidth=1;}P8v.endClip();};w$a.Studies.inputAttributeDefaultGenerator=function(a1z){b8V.p_j();if(!a1z && a1z !== 0){return {};}if(a1z.constructor == Number){if(Math.floor(a1z) == a1z){if(a1z > 0){return {min:+"1",step:1};}return {step:1};;}if(a1z > 0){return {min:0,step:0.01};}return {step:0.01};;}return {};};w$a.Studies.getMarketOffset=function({stx:e7N, localQuoteDate:V3S, shiftToDateBoundary:Q69}){var g0c,v_B,J2W,J5H,L5v,F07;g0c="Ame";g0c+="rica";g0c+="/New_York";if(arguments.length > 1){e7N=arguments[0];b8V.E2X(2);V3S=arguments[b8V.f$g(1,"1")];v_B=arguments[2];}var {symbol:j5R}=e7N.chart;J2W=w$a.getFn("Market.Symbology.isForexMetal")(j5R);if(v_B === undefined){v_B=w$a.getFn("Market.Symbology.isForexSymbol")(j5R);}if(!e7N.chart.market){J5H=null;}else {J5H=v_B?g0c:e7N.chart.market.market_tz;}L5v=new Date(V3S.getTime() + V3S.getTimezoneOffset() * ("60000" | 0));if(!J5H || J5H.indexOf("UTC") == -1){L5v=w$a.convertTimeZone(L5v,"UTC",J5H);}F07=new Date(L5v.getFullYear(),L5v.getMonth(),L5v.getDate(),L5v.getHours(),L5v.getMinutes(),L5v.getSeconds(),L5v.getMilliseconds()).getTime() - V3S.getTime();if(Q69 && v_B){b8V.o5K(134);F07+=b8V.b3H(1000,60,60,J2W?+"6":7);}return F07;};w$a.Studies.getStudyList=function(r0d){var w24,d2g;w24={};d2g={};w$a.extend(d2g,r0d);for(var e0u in w$a.Studies.studyLibrary){if(!d2g[e0u]){w24[w$a.Studies.studyLibrary[e0u].name]=e0u;}}return w24;};w$a.Studies.determineColor=function(Y25){if(!Y25){return null;}else if(typeof Y25 === "object"){return Y25.color;}return Y25;};w$a.Studies.calculateGenericEnvelope=function(w47,E6h,F7G,k4P,m74,K2q){var Y9A,z$n,D4e,C75,S16,k9F,Z51,R$j,B6i,o$c,r4w,Y9D;Y9A="fie";Y9A+="l";Y9A+="d";if(!F7G){F7G=0;}if(!K2q){K2q=0;}if(!k4P || k4P == "field"){k4P="Close";}if(!m74){m74=k4P;}z$n=E6h.chart.scrubbed;b8V.p_j();if(!z$n){return;}D4e=E6h.inputs.Field;if(!D4e || D4e === Y9A){D4e="Close";}for(var y9e=E6h.startFrom;y9e < z$n.length;y9e++){C75="%b";C75+=" ";S16=" ";S16+="T";S16+="op";S16+=" ";k9F="o";k9F+="bje";k9F+="c";k9F+="t";Z51="obj";Z51+="ect";R$j=z$n[y9e];if(!R$j)continue;if(!R$j[k4P])continue;B6i=R$j[D4e];if(B6i && typeof B6i == Z51){B6i=B6i.Close;}o$c=R$j[k4P];if(o$c && typeof o$c == "object"){o$c=o$c[E6h.subField];}r4w=R$j[m74];if(r4w && typeof r4w == k9F){r4w=r4w[E6h.subField];}b8V.E2X(135);Y9D=b8V.b3H(F7G,r4w,K2q);b8V.o5K(0);R$j[E6h.type + S16 + E6h.name]=b8V.f$g(Y9D,o$c);b8V.o5K(8);R$j[E6h.type + " Bottom " + E6h.name]=b8V.f$g(o$c,Y9D);R$j[E6h.type + " Median " + E6h.name]=o$c;R$j["Bandwidth " + E6h.name]=o$c?200 * Y9D / o$c:0;b8V.o5K(136);R$j[C75 + E6h.name]=b8V.f$g(B6i,Y9D,o$c,1,0,"50");}};w$a.Studies.displayChannel=function(w5d,H3f,m7h){var m6Y,z4e,q32;if(H3f.inputs["Channel Fill"]){m6Y={panelName:H3f.panel};for(var j9I in H3f.outputs){z4e=j9I.split(" ").pop();if(z4e == "Top" || z4e == "High"){b8V.o5K(8);var l1i=b8V.b3H(19,18);b8V.E2X(15);var M4Q=b8V.b3H(48790,7,41813);b8V.o5K(72);var k0e=b8V.f$g(1805,9025,9035);b8V.E2X(72);var p32=b8V.f$g(1,605,3025);b8V.E2X(137);var E3_=b8V.f$g(4396,12,3,9,1);b8V.E2X(125);var a65=b8V.b3H(2356,2361,2356,16,8);m6Y.topBand=j9I + (("6660" * l1i,M4Q) == (33.71,+"962.59")?(k0e,p32):E3_ === a65?"k":" ") + H3f.name;}else if(z4e == "Bottom" || z4e == "Low"){m6Y.bottomBand=j9I + " " + H3f.name;}else if(z4e == "Median" || z4e == "Channel"){m6Y.color=w$a.Studies.determineColor(H3f.outputs[j9I]);}}if(H3f.parameters && H3f.parameters.opacity){m6Y.opacity=H3f.parameters.opacity;}else {m6Y.opacity=0.2;}q32=w5d.panels[H3f.panel];m6Y.skipTransform=q32.name != H3f.chart.name;m6Y.yAxis=H3f.getYAxis(w5d);if(!H3f.highlight && w5d.highlightedDraggable){m6Y.opacity*=0.3;}w$a.prepareChannelFill(w5d,m6Y);}b8V.p_j();w$a.Studies.displaySeriesAsLine(w5d,H3f,m7h);};w$a.Studies.initAnchorHandle=function(r9n,f1D){var {handle:E70}=f1D;if(E70){return;}b8V.Y7v();if(!r9n.controls.anchorHandles){r9n.controls.anchorHandles={};}var {anchorHandles:r4i, chartControls:i_t}=r9n.controls;if(r4i[f1D.uniqueId]){({handle:E70}=r4i[f1D.uniqueId]);}else {E70=document.createElement("div");E70.classList.add("stx_anchor_handle");E70.setAttribute(f1D.uniqueId,"");r4i[f1D.uniqueId]={handle:E70,sd:f1D};if(i_t){i_t.parentElement.appendChild(E70);}}f1D.anchorHandle=E70;};w$a.Studies.removeAnchorHandle=function(R_R,n82){var {handle:v_J}=(R_R.controls.anchorHandles || ({}))[n82.uniqueId] || ({});if(v_J){delete R_R.controls.anchorHandles[n82.uniqueId];v_J.remove();}};w$a.Studies.repositionAnchor=function(f5G,I8L){var B8l,r$w,M13,q00,H1I,Y$5,n0C,t4B;var {currentAnchorTime:P2D, uniqueId:U6A}=I8L;var {hoverTick:f5T}=f5G.repositioningAnchorSelector || ({});var {dataSet:r$k, market:a5W}=f5G.chart;if(!f5G.controls.anchorHandles){f5G.controls.anchorHandles={};}var {anchorHandles:W_H}=f5G.controls;B8l={};if(f5T || f5T === 0){r$w="A";r$w+="nch";r$w+="or Date";if(f5T >= r$k.length){return;}M13=!I8L.inputs.hasOwnProperty(r$w);q00=r$k[f5T].DT;H1I=w$a.Studies.getMarketOffset({stx:f5G,localQuoteDate:q00,shiftToDateBoundary:!!"1"});if(P2D && M13 && new Date(q00.getTime() + H1I).getDate() !== new Date(P2D.getTime() + H1I).getDate()){return;}if(a5W.market_def && a5W.market_def.market_tz){q00=new n7s.Date(q00,a5W.market_def.market_tz);}Y$5=!M13 && w$a.dateToStr(q00,"YYYY-MM-dd");n0C=w$a.dateToStr(q00,"HH:mm:ss");B8l={"Anchor Time":n0C};if(Y$5){B8l["Anchor Date"]=Y$5;}}t4B=w$a.Studies.replaceStudy(f5G,I8L.inputs.id,I8L.type,Object.assign(I8L.inputs,B8l),I8L.outputs,I8L.parameters,I8L.panel);if(W_H[U6A]){W_H[U6A].sd=t4B;}f5G.draw();};w$a.Studies.cancelRepositionAnchor=function(V8O){b8V.Y7v();var {sd:W$k, tapToAdd:j0N}=V8O.repositioningAnchorSelector || ({});if(!W$k){return;}if(j0N){w$a.Studies.removeStudy(V8O,W$k);}V8O.repositioningAnchorSelector=null;var {anchorHandles:l_6}=V8O.controls;if(l_6 && l_6[W$k.uniqueId]){l_6[W$k.uniqueId].highlighted=!({});w$a.Studies.displayAnchorHandleAndLine(V8O,W$k,V8O.chart.dataSegment);}V8O.draw();};w$a.Studies.displayAnchorHandleAndLine=function(b95,w4o,v7a){var L$J,k4r,i1S,o9L,w$v,W1w,a32,o7h,a9J,P$H,P4a,l$e,Q0b,o9g,t6H,S80,E7S,Q2y,V3$,u34,q1f,n3c;L$J="lin";L$J+="e";k4r="A";k4r+="nch";k4r+="or Date";if(w4o.signalData && !w4o.signalData.reveal){return;}i1S=(b95.repositioningAnchorSelector || ({})).sd === w4o;var {hoverTick:o3x}=i1S && b95.repositioningAnchorSelector;var {chart:H51, panels:m6V, cy:N5C}=b95;var {market:Y46 = {}, symbol:f$I}=H51;o9L=m6V[w4o.panel];var {top:X0c, right:h7P, left:p9G, height:t3_, subholder:j6i}=o9L;var {bottom:p1s}=o9L.yAxis;var {inputs:Y0U, anchorHandle:O27, currentAnchorTime:Z5w, lineWidth:P5e = 1}=w4o;var {backgroundColor:O_J, borderLeftColor:I_V}=b95.canvasStyle("stx_anchor_handle");w$v=!Y0U[k4r];W1w=w$a.getFn("Market.Symbology.isForexSymbol")(f$I);a32=(o3x || o3x === "0" << 64) && (b95.chart.dataSet[o3x] || ({})).DT;o7h=w$a.Studies.getMarketOffset({stx:b95,localQuoteDate:v7a[v7a.length - 1].DT,shiftToDateBoundary:!!1});a9J=Z5w && a32 && w$v && new Date(a32.getTime() + o7h).getDate() !== new Date(Z5w.getTime() + o7h).getDate();var {floatDate:w3Y, anchorHandles:Y8l = {}}=b95.controls;P$H=Y8l[w4o.uniqueId] || ({});var {highlighted:y$$}=P$H;var [A$W,F6N]=Y46.getNormalOpen().split(140 > 6862?6.52e+3:(690.76,366.83) === 9490?(546.34,!!0):156.75 <= 7100?":":"Z").map(j3f=>{b8V.p_j();return parseInt(j3f);});P4a=u3J=>{var o_4;o_4=u3J?b95.tickFromDate(u3J,null,null,!0):o3x;return [b95.pixelFromTick(o_4,H51),o_4];};l$e=-570538933;Q0b=1368934327;b8V.p_j();o9g=2;for(var m3m=1;b8V.E56(m3m.toString(),m3m.toString().length,47947) !== l$e;m3m++){t6H={y0:X0c,y1:p1s,type:"",confineToPanel:o9L};var [x4e]=P4a();o9g+=2;}if(b8V.E56(o9g.toString(),o9g.toString().length,30813) !== Q0b){t6H={y0:X0c,y1:p1s,type:"",confineToPanel:o9L};var [x4e]=P4a();}t6H={y0:X0c,y1:p1s,type:L$J,confineToPanel:o9L};var [x4e]=P4a();if(x4e){b8V.o5K(3);x4e-=b8V.f$g(1,"0.5");b95.plotLine(Object.assign(t6H,{x0:x4e,x1:x4e,color:a9J?I_V:O_J,pattern:[6,6],lineWidth:+"1",opacity:a9J?0.5:1}));w$a.efficientDOMUpdate(w3Y.style,"visibility","");b95.updateChartAccessories();}if(O27){S80=w$v?new Date(v7a[v7a.length - ("1" << 32)].DT):w$a.strToDate(Y0U["Anchor Date"]);if(Y46.market_def && Y46.market_def.market_tz){S80=new n7s.Date(S80,Y46.market_def.market_tz);}if(!w$v){var [L4k,n0P,m45]=(Y0U["Anchor Date"] || "").split(368.3 < ("8320" >> 64,+"6810")?"-":"368.64" * 1);if(!m45){[,L4k,n0P,m45]=L4k.match(/([0-9]{4})([0-9]{2})([0-9]{2})/);}b8V.o5K(8);S80.setFullYear(L4k,b8V.f$g(n0P,1),m45);}var [m5s,v86,u4B = 0]=(Y0U["Anchor Time"] || "").split(+"1100" !== (897.9,424.27)?148.93 == (8220,2350)?(1920,4937) === 521.27?306:945.06:":":1.61e+3);if(!v86 && v86 !== 0){[,m5s,v86,u4B]=m5s.match(/([0-9]{2})([0-9]{2})([0-9]{2})/);}S80.setHours(m5s,v86,u4B);E7S=W1w && (S80.getHours() > A$W || S80.getHours() === A$W && S80.getMinutes() >= F6N);if(E7S){S80.setDate(S80.getDate() - 1);}var [o7T,T$i]=P4a(S80);Q2y=new Date(S80);Q2y.setHours(...Y46.getNormalClose().split(":"));if(E7S){Q2y.setDate(Q2y.getDate() + +"1");}var [K2d]=Q2y && P4a(Q2y) || [];if(w$v && (o7T > h7P || K2d > h7P)){V3$=new Date(S80);if(Y46){do {V3$.setDate(V3$.getDate() - +"1");}while(!Y46.isMarketDate(V3$));}var [j3k,u75]=P4a(V3$);if(j3k > p9G){S80=V3$;o7T=j3k;T$i=u75;}}o7T-=+"0.5";b95.plotLine(Object.assign(t6H,{x0:o7T,x1:o7T,color:O_J,pattern:"solid",lineWidth:P5e,opacity:y$$ || w4o.highlight?1:0.5}));P$H.currentPixel=o7T;if(y$$){O27.style.display="";b8V.o5K(46);var V9F=b8V.b3H(20,5,4,14);b8V.o5K(102);var C$4=b8V.f$g(6,159,14,9,19);b8V.E2X(138);var y08=b8V.f$g(1,4,6,5,4);O27.style.height=Math.max(Math.min(V9F,t3_ / C$4),y08) + "px";u34=O27.getBoundingClientRect();q1f=Math.max(Math.min(N5C - u34.height / ("2" >> 32),p1s - 3 - u34.height),X0c + 3);b8V.E2X(0);O27.style.top=b8V.b3H("px",q1f);b8V.o5K(67);var r$E=b8V.b3H(8,14,37,17);O27.style.left=(o3x || o3x === +"0"?x4e:o7T) - u34.width / r$E + "px";j6i.style.cursor="ew-resize";}else {n3c="aut";n3c+="o";O27.style.display="none";j6i.style.cursor=n3c;}w4o.currentAnchorTime=S80;w4o.currentAnchorTick=T$i;}};w$a.Studies.studyScriptLibrary={};w$a.Studies.studyLibrary=w$a.Studies.studyLibrary || ({});w$a.extend(w$a.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!!"1",calculateFN:w$a.Studies.calculateMovingAverage,inputs:{Period:50,Field:U8_,Type:"ma",Offset:"0" ^ 0},outputs:{MA:E7E}},"STD Dev":{name:f8c,calculateFN:w$a.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":j0$},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"True Range":{name:"True Range",calculateFN:w$a.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":i_1}},volume:{name:P20,range:G5F,yAxis:{ground:!""},seriesFN:w$a.Studies.createVolumeChart,calculateFN:w$a.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"}},MACross:{name:m3c,overlay:!!({}),calculateFN:w$a.Studies.calculateMultMA,inputs:{"MA 1 Period":20,"MA 2 Period":50,"MA 3 Period":200,Field:"field","Moving Average Type":"ma",Offset:0},outputs:{"MA 1":"#e9088c","MA 2":"#00afed","MA 3":"#f4932f"}}});};b_=b8r=>{W99Ps.Y7v();var R1Z;R1Z=typeof _CIQ !== "undefined"?_CIQ:b8r.CIQ;if(!R1Z.ChartEngine.Driver){console.error("symbolLookupBase feature requires first activating quoteFeed feature.");}else {R1Z.ChartEngine.Driver.Lookup=function(v7H){};R1Z.ChartEngine.Driver.Lookup.prototype.acceptText=function(X3H,E_g,a67,d6T){W99Ps.Y7v();if(!this.cb){return;}};}};P9=F_E=>{var r6I,m5Y;r6I="u";r6I+="nd";r6I+="efi";r6I+="ned";m5Y=typeof _CIQ !== r6I?_CIQ:F_E.CIQ;m5Y.ThemeHelper=m5Y.ThemeHelper || (function(B9k){var B7i,F2q,l9l,q8_,E7Q,p9K,P6b;W99Ps.Y7v();B7i="s";B7i+="tx_l";B7i+="i";B7i+="ne_chart";F2q="stx_candl";F2q+="e_down";l9l="Cand";l9l+="le/B";l9l+="a";l9l+="r";q8_="Ca";q8_+="nd";q8_+="le/Bar";E7Q="Can";E7Q+="d";E7Q+="le/B";E7Q+="ar";this.params=B9k;p9K=B9k.stx;P6b="#F";P6b+="F";P6b+="FF";P6b+="FF";if(p9K.chart.container){P6b=getComputedStyle(p9K.chart.container).backgroundColor;if(m5Y.isTransparent(P6b)){P6b=p9K.containerColor;}}this.settings.chart.Background.color=m5Y.hexToRgba(P6b);this.settings.chart["Grid Lines"].color=m5Y.hexToRgba(p9K.canvasStyle("stx_grid").color);this.settings.chart["Grid Dividers"].color=m5Y.hexToRgba(p9K.canvasStyle("stx_grid_dark").color);this.settings.chart["Axis Text"].color=m5Y.hexToRgba(p9K.canvasStyle("stx_xaxis").color);this.settings.chartTypes[E7Q].up.color=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_up").color);this.settings.chartTypes[q8_].down.color=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_down").color);this.settings.chartTypes["Candle/Bar"].up.wick=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes["Candle/Bar"].down.wick=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_shadow_down").color);this.settings.chartTypes[l9l].even.wick=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes["Candle/Bar"].up.border=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes["Candle/Bar"].down.border=m5Y.hexToRgba(p9K.canvasStyle("stx_candle_down").borderLeftColor);if(m5Y.isTransparent(p9K.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(m5Y.isTransparent(p9K.canvasStyle(F2q).borderLeftColor)){this.settings.chartTypes["Candle/Bar"].down.border=null;}this.settings.chartTypes.Line.color=m5Y.hexToRgba(p9K.canvasStyle(B7i).color);this.settings.chartTypes.Mountain.color=m5Y.hexToRgba(p9K.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=m5Y.hexToRgba(p9K.canvasStyle("stx_mountain_chart").color);});m5Y.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};m5Y.ThemeHelper.prototype.update=function(E2P){var X2X,E7P,E9Y,Q6s,n4J,P5D,Q7G,Q4C,F14,h1h,Q6w,Q3i;X2X="stx_m";X2X+="ountain_cha";X2X+="rt";E7P="st";E7P+="x_mounta";E7P+="in_";E7P+="chart";E9Y="c";E9Y+="ol";E9Y+="or";Q6s="stx_ca";function L6b(X2T,O3X,F7Q){W99Ps.Y7v();var k1h;k1h=Q6w[X2T];for(var E1c in k1h){E2P.setStyle(E1c,O3X,F7Q);}}Q6s+="ndl";Q6s+="e_up";n4J="stx_shadow_";n4J+="even";P5D="c";P5D+="o";P5D+="l";P5D+="or";Q7G="co";Q7G+="l";Q7G+="o";Q7G+="r";Q4C="stx_c";Q4C+="and";Q4C+="le_down";W99Ps.p_j();F14="Ax";F14+="is Tex";F14+="t";h1h="co";h1h+="l";h1h+="or";if(!E2P){E2P=this.params.stx;}Q6w={stx_candle_up:{stx_candle_up:!!1,stx_bar_up:!"",stx_hollow_candle_up:!0,stx_line_up:!![],stx_baseline_up:!0},stx_candle_down:{stx_candle_down:!!({}),stx_bar_down:!![],stx_hollow_candle_down:!0,stx_line_down:!!1,stx_baseline_down:!!({})},stx_candle_even:{stx_hollow_candle_even:!!"1",stx_bar_even:!""},stx_shadow_up:{stx_candle_shadow_up:!0},stx_shadow_down:{stx_candle_shadow_down:!![]},stx_shadow_even:{stx_candle_shadow_even:!!1},stx_line_chart:{stx_bar_chart:!0,stx_line_chart:!""},stx_grid:{stx_grid:!0},stx_grid_dark:{stx_grid_dark:!!({})},stx_xaxis:{stx_xaxis_dark:!![],stx_xaxis:!!({}),stx_yaxis:!![],stx_yaxis_dark:!!1,stx_grid_border:!""},stx_mountain_chart:{stx_mountain_chart:!![]},stx_market_session:{stx_market_session:!!1}};E2P.chart.container.style.backgroundColor=this.settings.chart.Background.color;E2P.defaultColor="";L6b("stx_grid",h1h,this.settings.chart["Grid Lines"].color);L6b("stx_grid_dark","color",this.settings.chart["Grid Dividers"].color);L6b("stx_xaxis","color",this.settings.chart[F14].color);Q3i=this.settings.chartTypes["Candle/Bar"];if(!Q3i.even){Q3i.even={color:null,wick:m5Y.hexToRgba(E2P.canvasStyle("stx_candle_shadow_even").color),border:null};}L6b("stx_candle_up","color",Q3i.up.color);L6b(Q4C,"color",Q3i.down.color);L6b("stx_candle_even",Q7G,Q3i.even.color);L6b("stx_shadow_up","color",Q3i.up.wick);L6b("stx_shadow_down",P5D,Q3i.down.wick);L6b(n4J,"color",Q3i.even.wick);E2P.setStyle(Q6s,"borderLeftColor",Q3i.up.border);E2P.setStyle("stx_candle_down","borderLeftColor",Q3i.down.border);L6b("stx_line_chart",E9Y,this.settings.chartTypes.Line.color);E2P.setStyle(E7P,"borderTopColor",m5Y.hexToRgba(this.settings.chartTypes.Mountain.color,1));E2P.setStyle("stx_mountain_chart","backgroundColor",m5Y.hexToRgba(this.settings.chartTypes.Mountain.color,"0.5" * 1));E2P.setStyle(X2X,"color",m5Y.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));E2P.draw();};m5Y.ChartEngine.prototype.setThemeSettings=function(O_z){var E8V,k_t,Y7Q,c8n;this.styles={};this.chart.container.style.backgroundColor="";this.defaultColor="";if(O_z){E8V=new m5Y.ThemeHelper({stx:this});k_t=107614198;Y7Q=-1026100061;c8n=2;for(var Q4w=1;W99Ps.E56(Q4w.toString(),Q4w.toString().length,27842) !== k_t;Q4w++){E8V.settings=O_z;c8n+=2;}if(W99Ps.E56(c8n.toString(),c8n.toString().length,55685) !== Y7Q){E8V.settings=O_z;}E8V.update();}this.updateListeners("theme");this.changeOccurred("theme");if(this.displayInitialized){this.headsUpHR();this.clearPixelCache();this.updateListeners("theme");this.draw();}};};u4=n1z=>{var q_D=W99Ps;var d$u,e97,P0z,l4_,Z0t,Q1K,Q3C,o3i,Z9I,o_c,y6v,S1h,a3l,V9k,h5n,h3F,o3D,B1w,f5C,q39,Y2x,C8w,K3A,H4o,R$4,x1j,z24,i0g,P_P,M5M,H1J,I1w,O9G,p2s,w4B,X3u,c0S,t8E,k8B,z6c,h86,r$Z,T9r,S8M,d5P,J$i,y97,N$r,S3u,t5m,g2T,g_g,G52,I2t,b1k,j0u,W0e,g2M,D9t,p9L,q1q,o_L,R7$,l$n,P6Z,w2k,r_s,T6b,A3W,M4q,M5d,j_S,U0S,k$P,c4E,w4v,I0D,m8b,s8G,I3f,Z$f,U6T,k4S,u9R,x09,x_x,O1t,V$8,q6N,H8T,R9t,Q4m,W5N,S4e,M1o,U7T,p9I,a$Q,U_J,Y_C,Z1o,q$j,z3N,d0e,f0y,i51,M53,H9L,x68,X0R,B47,L$t,g0Q,W8x,i4l,c$P,c58,f0J,l5L,H90,O$0,h2O,I8D,I_q,J74,m$Y,S$g,w6p,h7Q,o8A,p6M,I$f,g0L,g_u,K0I,A21,v7u,u5N,n6e,N2K,E12,B$V,N6R,S4o,E59,U$u,J$Q,n8f,a_O,E2j,B1F,F3U,d3E,n_w,I96,N7n,D0q,j04,c3w,r08,U95,U_u,u0S,F0Q,H5v,K4V,i9q,r3t,i3T,V8b,P4l,g0a,v5v,m9M,q_n,z9_,q4Z,D_W,g1Y,R2i,j1Y,X7R,f2Z,j5N,o57,i6P,x_L,w7Z,S8B,Z4A,A5E,E53,e0x,k7I,o9i;d$u="Sun>";d$u+="=2";d$u+="2";e97="m";e97+="a";e97+="x";P0z="Sun";P0z+=">";P0z+="=1";l4_="O";l4_+="c";l4_+="t";Z0t="Sun>=";Z0t+="2";Q1K="Su";Q1K+="n";Q1K+=">=";Q1K+="2";Q3C="Su";Q3C+="n>";Q3C+="=9";o3i="Au";o3i+="g";Z9I="Su";Z9I+="n";Z9I+=">=9";o_c="onl";o_c+="y";y6v="N";y6v+="o";y6v+="v";S1h="Su";S1h+="n";S1h+=">";S1h+="=8";a3l="ma";a3l+="x";V9k="M";V9k+="a";V9k+="r";h5n="S";h5n+="u";h5n+="n";h5n+=">=1";h3F="N";h3F+="o";h3F+="v";o3D="las";o3D+="tSun";B1w="Su";B1w+="n>=1";f5C="A";f5C+="pr";q39="m";q39+="a";q39+="x";Y2x="Su";Y2x+="n";Y2x+=">=1";C8w="S";C8w+="un";C8w+=">=8";K3A="m";K3A+="a";K3A+="x";H4o="N";H4o+="o";H4o+="v";R$4="m";R$4+="a";R$4+="x";x1j="ma";x1j+="x";z24="Sun";z24+=">=1";i0g="N";i0g+="o";i0g+="v";P_P="M";P_P+="a";P_P+="r";M5M="ma";M5M+="x";H1J="m";H1J+="a";H1J+="x";I1w="l";I1w+="as";I1w+="tSu";I1w+="n";O9G="O";O9G+="c";O9G+="t";p2s="A";p2s+="p";p2s+="r";w4B="m";w4B+="a";w4B+="x";X3u="m";X3u+="a";X3u+="x";c0S="m";c0S+="a";c0S+="x";t8E="S";t8E+="e";t8E+="p";k8B="m";k8B+="a";k8B+="x";z6c="m";z6c+="a";z6c+="x";h86="o";h86+="nly";r$Z="o";r$Z+="nly";T9r="Sun";T9r+=">=1";S8M="O";S8M+="ct";d5P="A";d5P+="p";d5P+="r";J$i="O";J$i+="c";J$i+="t";y97="O";y97+="ct";N$r="Su";N$r+="n";N$r+=">";N$r+="=1";S3u="Sun>";S3u+="=";S3u+="1";t5m="Ap";t5m+="r";g2T="m";g2T+="ax";g_g="A";g_g+="p";g_g+="r";G52="O";G52+="c";G52+="t";I2t="m";I2t+="ax";b1k="ma";b1k+="x";j0u="2";j0u+="4";W0e="2";W0e+="9";g2M="M";g2M+="a";g2M+="r";D9t="o";D9t+="n";D9t+="l";D9t+="y";p9L="O";p9L+="c";p9L+="t";q1q="O";q1q+="c";q1q+="t";o_L="ma";o_L+="x";R7$="M";R7$+="a";R7$+="r";l$n="F";l$n+="e";l$n+="b";P6Z="las";P6Z+="tF";P6Z+="ri";w2k="O";w2k+="c";w2k+="t";r_s="Se";r_s+="p";T6b="o";T6b+="n";T6b+="ly";A3W="2";A3W+="1";M4q="2";M4q+="1";M5d="2";M5d+="0";j_S="S";j_S+="e";j_S+="p";U0S="o";U0S+="n";U0S+="l";U0S+="y";k$P="2";k$P+="1";c4E="M";c4E+="a";c4E+="r";w4v="m";w4v+="a";w4v+="x";I0D="m";I0D+="ax";m8b="+";m8b+="0";m8b+="0";s8G="M";s8G+="a";s8G+="r";I3f="m";I3f+="a";I3f+="x";Z$f="1";Z$f+="5";U6T="o";U6T+="n";U6T+="l";U6T+="y";k4S="onl";k4S+="y";u9R="F";u9R+="e";u9R+="b";x09="1";x09+="4";x_x="Ap";x_x+="r";O1t="1";O1t+="0";V$8="onl";V$8+="y";q6N="3";q6N+="0";H8T="A";H8T+="p";H8T+="r";R9t="M";R9t+="a";R9t+="y";Q4m="M";Q4m+="a";Q4m+="r";W5N="o";W5N+="nly";S4e="1";S4e+="6";M1o="1";M1o+="1";U7T="3";U7T+="1";p9I="1";p9I+="9";a$Q="o";a$Q+="n";a$Q+="l";a$Q+="y";U_J="J";U_J+="un";Y_C="o";Y_C+="n";Y_C+="ly";Z1o="M";Z1o+="ay";q$j="las";q$j+="t";q$j+="Sun";z3N="As";z3N+="ia";z3N+="/Riyadh";d0e="Asia/Y";d0e+="angon";f0y="Europe";f0y+="/";f0y+="Bucharest";i51="-03/-0";i51+="2";M53="-04/";M53+="-";M53+="0";M53+="3";H9L="-05/-";H9L+="0";H9L+="4";x68="-";x68+="03";X0R="-03/-";X0R+="02";B47="E";B47+="S";B47+="T";L$t="C";L$t+="%";L$t+="s";L$t+="T";g0Q="M";g0Q+="%";g0Q+="s";g0Q+="T";W8x="C";W8x+="%";W8x+="s";W8x+="T";i4l="Me";i4l+="xico";c$P="A";c$P+="%";c$P+="s";c$P+="T";c58="C";c58+="anad";c58+="a";f0J="MS";f0J+="T";l5L="HS";l5L+="T";H90="A";H90+="K%";H90+="s";H90+="T";O$0="U";O$0+="S";h2O="U";h2O+="S";I8D="+";I8D+="0";I8D+="3";I_q="E";I_q+="U";J74="E";J74+="U";m$Y="CE";m$Y+="%sT";S$g="CE%s";S$g+="T";w6p="+";w6p+="11";h7Q="+";h7Q+="1";h7Q+="0";o8A="+";o8A+="0";o8A+="8";p6M="+0";p6M+="7";I$f="+";I$f+="0";I$f+="7";g0L="+";g0L+="0";g0L+="6";g_u="+";g_u+="0";g_u+="4";K0I="+";K0I+="0";K0I+="3";A21="-";A21+="01/+00";v7u="E";v7u+="U";u5N="E";u5N+="U";n6e="E";n6e+="U";N2K="C";N2K+="E";N2K+="%";N2K+="sT";E12="C";E12+="-E";E12+="u";E12+="r";B$V="WE%";B$V+="sT";N6R="E";N6R+="U";S4o="+1";S4o+="3/+";S4o+="14";E59="Cha";E59+="tham";U$u="+11/+1";U$u+="2";J$Q="C";J$Q+="h";J$Q+="S";J$Q+="T";n8f="F";n8f+="i";n8f+="j";n8f+="i";a_O="AE";a_O+="%s";a_O+="T";E2j="A";E2j+="S";B1F="+0";B1F+="845/+094";B1F+="5";F3U="A";F3U+="W";d3E="AW%s";d3E+="T";n_w="A";n_w+="C";n_w+="%s";n_w+="T";I96="+";I96+="03";N7n="+";N7n+="08/+09";D0q="K";D0q+="S";D0q+="T";j04="+0330/+04";j04+="30";c3w="Ir";c3w+="an";r08="E";r08+="UAsi";r08+="a";U95="C";U95+="%sT";U_u="+";U_u+="0";U_u+="6";U_u+="30";u0S="+0";u0S+="6/+0";u0S+="7";F0Q="Tr";F0Q+="o";F0Q+="l";F0Q+="l";H5v="+00/+0";H5v+="1";K4V="Moro";K4V+="c";K4V+="co";i9q="Pacific/Ch";i9q+="at";i9q+="ham";r3t="P";r3t+="acific/Guam";i3T="A";i3T+="ustra";i3T+="lia";i3T+="/Brisbane";V8b="Austral";V8b+="ia/";V8b+="Per";V8b+="th";P4l="A";P4l+="sia/Ula";P4l+="an";P4l+="baatar";g0a="Asi";g0a+="a/Ir";g0a+="k";g0a+="utsk";v5v="Asia/";v5v+="H";v5v+="o";v5v+="ng_Kong";m9M="Asia/Kr";m9M+="asnoy";m9M+="ar";m9M+="sk";q_n="As";q_n+="i";q_n+="a/H";q_n+="ovd";z9_="Asi";q_D.Y7v();z9_+="a";z9_+="/Yan";z9_+="gon";q4Z="As";q4Z+="ia/Al";q4Z+="maty";D_W="As";D_W+="ia/Baku";g1Y="Asia";g1Y+="/Tehran";R2i="Asia/Riya";R2i+="dh";j1Y="Asia/";j1Y+="B";j1Y+="ei";j1Y+="rut";X7R="Eu";X7R+="r";X7R+="ope/Buch";X7R+="arest";f2Z="Europe/";f2Z+="Ka";f2Z+="li";f2Z+="ningrad";j5N="A";j5N+="tl";j5N+="antic/Cape_Verde";o57="Atlanti";o57+="c/Az";o57+="o";o57+="res";i6P="Atlant";i6P+="i";i6P+="c/South_Georgia";x_L="America/";x_L+="Sao_";x_L+="Paulo";w7Z="Amer";w7Z+="ica/Caraca";w7Z+="s";S8B="Ameri";S8B+="ca/Port-au-Prince";Z4A="Am";Z4A+="eri";Z4A+="ca/Regina";A5E="America/M";A5E+="exico_Cit";A5E+="y";E53="Americ";E53+="a";E53+="/Costa_Rica";e0x="Pacific";e0x+="/Pag";e0x+="o";e0x+="_Pago";k7I=typeof _CIQ !== "undefined"?_CIQ:n1z.CIQ;o9i=typeof _timezoneJS !== "undefined"?_timezoneJS:n1z.timezoneJS;k7I.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":e0x,"(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":"America/Juneau","(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":"America/Chihuahua","(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":E53,"(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":A5E,"(UTC-06:00) Saskatchewan":Z4A,"(UTC-05:00) Bogota, Lima, Quito, Rio Branco":"America/Bogota","(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":S8B,"(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":"America/Santiago","(UTC-04:00) Caracas":w7Z,"(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":x_L,"(UTC-02:00) Mid-Atlantic":i6P,"(UTC-01:00) Azores":o57,"(UTC-01:00) Cape Verde Islands":j5N,"(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":"Africa/Casablanca","(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":"Europe/Brussels","(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":f2Z,"(UTC+02:00) Athens, Bucharest":X7R,"(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":"Europe/Helsinki","(UTC+02:00) Cyprus":"Asia/Nicosia","(UTC+02:00) Beirut":j1Y,"(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":"Asia/Jerusalem","(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":"Europe/Istanbul","(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":R2i,"(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":"Europe/Moscow","(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":g1Y,"(UTC+04:00) Baku":D_W,"(UTC+04:00) Dubai, Muscat":"Asia/Dubai","(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":"Europe/Samara","(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":q4Z,"(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":z9_,"(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":q_n,"(UTC+07:00) Krasnoyarsk":m9M,"(UTC+07:00) Novokuznetsk":"Asia/Novokuznetsk","(UTC+07:00) Barnaul, Novosibirsk, Tomsk":"Asia/Novosibirsk","(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":v5v,"(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":g0a,"(UTC+08:00) Choibalsan, Ulaanbaatar":P4l,"(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":V8b,"(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":"Asia/Pyongyang","(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":"Asia/Yakutsk","(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":"Australia/Darwin","(UTC+10:00) Brisbane":i3T,"(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":r3t,"(UTC+10:00) Ust-Nera, Vladivostok":"Asia/Vladivostok","(UTC+11:00) Noumea, Solomon Islands":"Pacific/Noumea","(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":"Asia/Srednekolymsk","(UTC+12:00) Anadyr, Kamchatka":"Asia/Kamchatka","(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":i9q,"(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":"Pacific/Kiritimati"};(function(){var V0O,e2E,z8N,M_c,Z3H,l8N,H45,e$f,Z1a,k59,N5Y,Z0U,J16,L2D,d1x,m8K,z4b,y7p,o4g;V0O="Ju";V0O+="ne";e2E="M";e2E+="a";e2E+="y";z8N="M";z8N+="ar";z8N+="c";z8N+="h";M_c="Fe";M_c+="b";M_c+="ruary";Z3H="T";Z3H+="uesday";l8N="M";l8N+="onday";H45="un";H45+="de";H45+="fined";"use strict";e$f=typeof window !== "undefined"?window:null;Z1a=e$f || (typeof global !== H45?global:{});o9i.VERSION="0.4.11";k59=Z1a.$ || Z1a.jQuery || Z1a.Zepto;N5Y=Z1a.fleegix;Z0U=o9i.Days=["Sunday",l8N,Z3H,"Wednesday","Thursday","Friday","Saturday"];J16=o9i.Months=["January",M_c,z8N,"April",e2E,V0O,"July","August","September","October","November","December"];L2D={};d1x={};m8K={};for(var E1X=0;E1X < J16.length;E1X++){L2D[J16[E1X].substr(0,3)]=E1X;}for(E1X=0;E1X < Z0U.length;E1X++){d1x[Z0U[E1X].substr(q_D.f$g(1,"0",q_D.E2X(3)),3)]=E1X;}z4b=Array.prototype.indexOf || (function(p4S){var F1N,g7s,m$n,Y1r,H80,r2a,l5M;if(this === null){throw new TypeError();}F1N=1811416945;g7s=-176890020;m$n=2;for(var X1h=1;q_D.E56(X1h.toString(),X1h.toString().length,45942) !== F1N;X1h++){Y1r=Object(this);m$n+=2;}if(q_D.O8J(m$n.toString(),m$n.toString().length,70780) !== g7s){Y1r=Object(this);}H80=Y1r.length >>> 0;if(H80 === 0){return -1;}r2a=0;if(arguments.length > "1" << 64){r2a=Number(arguments[1]);if(r2a != r2a){r2a=0;}else if(r2a !== 0 && r2a !== Infinity && r2a !== -Infinity){q_D.o5K(139);var g9a=q_D.f$g(1,2,11,3,2);r2a=(r2a > 0 || g9a) * Math.floor(Math.abs(r2a));}}if(r2a >= H80){return -1;}l5M=r2a >= 0?r2a:Math.max(H80 - Math.abs(r2a),0);for(;l5M < H80;l5M++){if((l5M in Y1r) && Y1r[l5M] === p4S){return l5M;}}return -1;});y7p=function(Z$p,Y_3){var L2E,u09,p8M,e8p;L2E="nu";L2E+="m";L2E+="ber";if(typeof Z$p !== L2E){q_D.E2X(0);throw q_D.f$g(Z$p,"not a number: ");}q_D.E2X(89);u09=q_D.f$g(Z$p,1000);p8M=Z$p.toString();e8p=p8M.length;q_D.Y7v();if(u09 && e8p > Y_3){q_D.E2X(8);return p8M.substr(q_D.b3H(e8p,Y_3),e8p);}p8M=[p8M];while(e8p < Y_3){p8M.unshift(5170 === 9902?(!![],6.42e+3):"0");e8p++;}return p8M.join("");};o4g=function(l7F){var U09,i6w;U09="asy";U09+="nc";if(!l7F){return;}if(!l7F.url){throw new Error("URL must be specified");}if(!((U09 in l7F))){l7F.async=!![];}if((!N5Y || typeof N5Y.xhr === "undefined") && (!k59 || typeof k59.ajax === "undefined")){i6w="Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone f";i6w+="iles.";throw new Error(i6w);}if(!l7F.async){return N5Y && N5Y.xhr?N5Y.xhr.doReq({url:l7F.url,async:!1}):k59.ajax({url:l7F.url,async:!({}),dataType:"text"}).responseText;}return N5Y && N5Y.xhr?N5Y.xhr.send({url:l7F.url,method:"get",handleSuccess:l7F.success,handleErr:l7F.error}):k59.ajax({url:l7F.url,dataType:"text",method:"GET",error:l7F.error,success:l7F.success});};o9i.ruleCache={};o9i.Date=function(){var d0Q,x59,w_4,P1D,S7d,T25,S1_,H6I;d0Q="[";d0Q+="objec";d0Q+="t Ar";d0Q+="ray]";if(this === o9i){x59="timezoneJ";x59+="S.Date objec";x59+="t must be con";x59+="structed with 'new'";throw x59;}w_4=Array.prototype.slice.apply(arguments);P1D=null;S7d=null;T25=[];S1_=!!"";q_D.Y7v();if(Object.prototype.toString.call(w_4[0]) === d0Q){w_4=w_4[0];}if(typeof w_4[w_4.length - 1] === "string"){S1_=Date.parse(w_4[w_4.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(S1_) || S1_ === null){S7d=w_4.pop();}}H6I=![];switch(w_4.length){case 0:P1D=new Date();break;case 1:P1D=new Date(w_4[0]);if(typeof w_4[0] == "string" && w_4[0].search(/[+-][0-9]{4}/) == -1 && w_4["0" ^ 0].search(/Z/) == -1 && w_4[0].search(/T/) == -1){H6I=!!1;}break;case 2:P1D=new Date(w_4[0],w_4[1]);H6I=!!"1";break;default:for(var f10=0;f10 < 7;f10++){T25[f10]=w_4[f10] || 0;}q_D.o5K(3);P1D=new Date(T25[0],T25[1],T25[2],T25[3],T25[4],T25[5],T25[q_D.f$g(1,"6")]);H6I=!0;break;}if(isNaN(P1D.getTime())){throw new Error("Invalid date");}this._useCache=!!0;this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=+"0";this.minutes=0;this.seconds=+"0";this.milliseconds=0;this.timezone=S7d || null;if(H6I){this.setFromDateObjProxy(P1D);}else {this.setFromTimeProxy(P1D.getTime(),S7d);}};k7I.extend(o9i.Date.prototype,{getDate:function(){return this.date;},getDay:function(){return this._day;},getFullYear:function(){q_D.p_j();return this.year;},getMonth:function(){q_D.p_j();return this.month;},getYear:function(){q_D.o5K(140);var U$t=q_D.b3H(19,19,3568029,11,17100);return this.year - U$t;},getHours:function(){q_D.Y7v();return this.hours;},getMilliseconds:function(){return this.milliseconds;},getMinutes:function(){return this.minutes;},getSeconds:function(){q_D.Y7v();return this.seconds;},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){q_D.Y7v();return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){q_D.Y7v();return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){q_D.E2X(141);var H03=q_D.f$g(4,420,1830,18);q_D.E2X(8);var I87=q_D.b3H(1005,5);return this._timeProxy + this.getTimezoneOffset() * H03 * I87;},getTimezone:function(){q_D.p_j();return this.timezone;},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var M5t;if(this._useCache){return this._tzInfo;}if(this.timezone){M5t=this.timezone === "Etc/UTC" || this.timezone === "Etc/GMT"?{tzOffset:0,tzAbbr:"UTC"}:o9i.timezone.getTzInfo(this._timeProxy,this.timezone);}else {M5t={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=M5t;this._useCache=!![];return M5t;},getUTCDateProxy:function(){var Y$v;Y$v=new Date(this._timeProxy);Y$v.setUTCMinutes(Y$v.getUTCMinutes() + this.getTimezoneOffset());return Y$v;},setDate:function(C_S){this.setAttribute("date",C_S);return this.getTime();},setFullYear:function(F1_,I5p,g3k){var j3d;if(g3k !== undefined){this.setAttribute("date",1);}this.setAttribute("year",F1_);if(I5p !== undefined){this.setAttribute("month",I5p);}q_D.p_j();if(g3k !== undefined){j3d="d";j3d+="ate";this.setAttribute(j3d,g3k);}return this.getTime();},setMonth:function(D3h,P6S){var X8t;X8t="m";X8t+="o";X8t+="nt";X8t+="h";this.setAttribute(X8t,D3h);if(P6S !== undefined){this.setAttribute("date",P6S);}return this.getTime();},setYear:function(G7Q){G7Q=Number(G7Q);if(0 <= G7Q && G7Q <= +"99"){G7Q+=1900;}this.setUTCAttribute("year",G7Q);return this.getTime();},setHours:function(L_e,w2h,n7I,E85){this.setAttribute("hours",L_e);q_D.p_j();if(w2h !== undefined){this.setAttribute("minutes",w2h);}if(n7I !== undefined){this.setAttribute("seconds",n7I);}if(E85 !== undefined){this.setAttribute("milliseconds",E85);}return this.getTime();},setMinutes:function(h0F,f_$,R4G){var D8d;this.setAttribute("minutes",h0F);if(f_$ !== undefined){this.setAttribute("seconds",f_$);}q_D.Y7v();if(R4G !== undefined){D8d="milliseco";D8d+="nds";this.setAttribute(D8d,R4G);}return this.getTime();},setSeconds:function(d_3,u2x){this.setAttribute("seconds",d_3);q_D.Y7v();if(u2x !== undefined){this.setAttribute("milliseconds",u2x);}return this.getTime();},setMilliseconds:function(Q7p){this.setAttribute("milliseconds",Q7p);return this.getTime();},setTime:function(A1B){if(isNaN(A1B)){throw new Error("Units must be a number.");}this.setFromTimeProxy(A1B,this.timezone);return this.getTime();},setUTCFullYear:function(l30,z10,I7T){var g5X,h1y;g5X="y";g5X+="ea";g5X+="r";if(I7T !== undefined){this.setUTCAttribute("date",1);}this.setUTCAttribute(g5X,l30);if(z10 !== undefined){h1y="mon";h1y+="t";h1y+="h";this.setUTCAttribute(h1y,z10);}if(I7T !== undefined){this.setUTCAttribute("date",I7T);}return this.getTime();},setUTCMonth:function(K1h,m83){var O1b;O1b="m";O1b+="o";O1b+="n";q_D.p_j();O1b+="th";this.setUTCAttribute(O1b,K1h);if(m83 !== undefined){this.setUTCAttribute("date",m83);}return this.getTime();},setUTCDate:function(H$B){var q_t;q_t="d";q_t+="a";q_t+="t";q_t+="e";this.setUTCAttribute(q_t,H$B);return this.getTime();},setUTCHours:function(c90,C45,d8U,R$B){this.setUTCAttribute("hours",c90);if(C45 !== undefined){this.setUTCAttribute("minutes",C45);}if(d8U !== undefined){this.setUTCAttribute("seconds",d8U);}if(R$B !== undefined){this.setUTCAttribute("milliseconds",R$B);}return this.getTime();},setUTCMinutes:function(q8E,z06,s2w){var W3z,x7R,w1A,t2n,J_z;W3z=485559975;x7R=1871373268;w1A=2;for(var C1x=1;q_D.E56(C1x.toString(),C1x.toString().length,71021) !== W3z;C1x++){this.setUTCAttribute("minutes",q8E);w1A+=2;}if(q_D.O8J(w1A.toString(),w1A.toString().length,"10394" >> 32) !== x7R){this.setUTCAttribute("",q8E);}if(z06 !== undefined){t2n="secon";t2n+="ds";this.setUTCAttribute(t2n,z06);}if(s2w !== undefined){J_z="mi";J_z+="llis";J_z+="ec";J_z+="onds";this.setUTCAttribute(J_z,s2w);}return this.getTime();},setUTCSeconds:function(H9D,R7X){q_D.p_j();this.setUTCAttribute("seconds",H9D);if(R7X !== undefined){this.setUTCAttribute("milliseconds",R7X);}return this.getTime();},setUTCMilliseconds:function(m4E){this.setUTCAttribute("milliseconds",m4E);return this.getTime();},setFromDateObjProxy:function(y$0){this.year=y$0.getFullYear();this.month=y$0.getMonth();this.date=y$0.getDate();this.hours=y$0.getHours();this.minutes=y$0.getMinutes();this.seconds=y$0.getSeconds();this.milliseconds=y$0.getMilliseconds();this._day=y$0.getDay();this._dateProxy=y$0;q_D.p_j();this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!!"";},setFromTimeProxy:function(M2v,L1O){var r$z,h6E;r$z=new Date(M2v);h6E=L1O?o9i.timezone.getTzInfo(M2v,L1O,!![]).tzOffset:r$z.getTimezoneOffset();q_D.Y7v();r$z.setTime(M2v + (r$z.getTimezoneOffset() - h6E) * 60000);this.setFromDateObjProxy(r$z);},setAttribute:function(d3s,O40){var M87,V5Z,m6J,L1m,K2H;M87="s";q_D.p_j();M87+="e";M87+="t";V5Z="Full";V5Z+="Y";V5Z+="ea";V5Z+="r";m6J="y";m6J+="ea";m6J+="r";if(isNaN(O40)){throw new Error("Units must be a number.");}L1m=this._dateProxy;K2H=d3s === m6J?V5Z:d3s.substr(0,1).toUpperCase() + d3s.substr(1);L1m[M87 + K2H](O40);this.setFromDateObjProxy(L1m);},setUTCAttribute:function(n$T,k3e){q_D.Y7v();var P0t,D_2,I0p;P0t="yea";P0t+="r";if(isNaN(k3e)){throw new Error("Units must be a number.");}D_2=n$T === P0t?"FullYear":n$T.substr(0,1).toUpperCase() + n$T.substr(1);I0p=this.getUTCDateProxy();I0p["setUTC" + D_2](k3e);I0p.setUTCMinutes(I0p.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(I0p.getTime() + this.getTimezoneOffset() * +"60000",this.timezone);},setTimezone:function(i6e){var k$l;k$l=this.getTimezoneInfo().tzOffset;this.timezone=i6e;this._useCache=![];this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + k$l);},removeTimezone:function(){q_D.p_j();this.timezone=null;this._useCache=!!"";},valueOf:function(){q_D.p_j();return this.getTime();},clone:function(){q_D.p_j();return this.timezone?new o9i.Date(this.getTime(),this.timezone):new o9i.Date(this.getTime());},toGMTString:function(){var G8D;G8D="Et";G8D+="c/GMT";return this.toString("EEE, dd MMM yyyy HH:mm:ss Z",G8D);},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){var x8U;x8U="y";q_D.p_j();x8U+="yyy-MM-dd";x8U+="THH:mm:ss.SSS";return this.toString(x8U,"Etc/UTC") + "Z";},toJSON:function(){return this.toISOString();},toDateString:function(){return this.toString("EEE MMM dd yyyy");},toTimeString:function(){var k_c;k_c="H:";k_c+="mm k";return this.toString(k_c);},toString:function(y0w,i8n){var e5x,a2R,y9Z,b9v,c7Y;e5x="yy";e5x+="yy-MM-ddTHH:mm:ss.SSS";q_D.Y7v();if(!y0w){y0w=e5x;}a2R=y0w;y9Z=i8n?o9i.timezone.getTzInfo(this.getTime(),i8n):this.getTimezoneInfo();b9v=this;if(i8n){b9v=this.clone();b9v.setTimezone(i8n);}c7Y=b9v.getHours();return a2R.replace(/a+/g,function(){return (8859,338.8) <= (6234,2193)?"k":7.94e+3;}).replace(/y+/g,function(I29){return y7p(b9v.getFullYear(),I29.length);}).replace(/d+/g,function(Y5x){return y7p(b9v.getDate(),Y5x.length);}).replace(/m+/g,function(z8t){q_D.p_j();return y7p(b9v.getMinutes(),z8t.length);}).replace(/s+/g,function(t$O){return y7p(b9v.getSeconds(),t$O.length);}).replace(/S+/g,function(p20){return y7p(b9v.getMilliseconds(),p20.length);}).replace(/h+/g,function(q18){q_D.p_j();return y7p(c7Y % 12 === "0" - 0?12:c7Y % 12,q18.length);}).replace(/M+/g,function(o5c){var V4M,Q4a;q_D.p_j();V4M=b9v.getMonth();Q4a=o5c.length;if(Q4a > 3){return o9i.Months[V4M];}else if(Q4a > 2){return o9i.Months[V4M].substring(0,Q4a);}q_D.E2X(0);return y7p(q_D.f$g(1,V4M),Q4a);}).replace(/k+/g,function(){if(c7Y >= 12){if(c7Y > 12){c7Y-=12;}return "PM";}q_D.Y7v();return "AM";}).replace(/H+/g,function(e_E){q_D.Y7v();return y7p(c7Y,e_E.length);}).replace(/E+/g,function(E$o){return Z0U[b9v.getDay()].substring(0,E$o.length);}).replace(/Z+/gi,function(){return y9Z.tzAbbr;});},toUTCString:function(){q_D.Y7v();return this.toGMTString();},civilToJulianDayNumber:function(G99,d1C,a0O){var j5M,E0s,x21;q_D.Y7v();d1C++;if(d1C > 12){q_D.o5K(9);j5M=parseInt(q_D.b3H(d1C,12),+"10");q_D.E2X(82);d1C=q_D.f$g(12,d1C);G99+=j5M;}if(d1C <= +"2"){G99-=1;d1C+=12;}q_D.E2X(9);j5M=Math.floor(q_D.b3H(G99,100));q_D.o5K(56);var M5$=q_D.b3H(2,4);q_D.o5K(8);var y7$=q_D.b3H(20,16);E0s=M5$ - j5M + Math.floor(j5M / y7$);q_D.E2X(142);var l0$=q_D.b3H(56592,20,504963,19,9);q_D.o5K(56);var o$j=q_D.b3H(11,12);q_D.E2X(15);var b$1=q_D.b3H(19812,5,18283);x21=Math.floor(365.25 * (G99 + l0$)) + Math.floor(30.6001 * (d1C + o$j)) + a0O + E0s - b$1;return x21;},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset();}},!!({}));o9i.timezone=new (function(){var F2t,i6z,v3D,k$B,V$n,v75,a4o,A8m,K$K,X_V,I6p,u1t,o5z,G_N,M5X,S9r,P7k,t0_;F2t="so";F2t+="ut";F2t+="ha";F2t+="merica";function P7u(e62,P3t){var c5J;q_D.o5K(143);var f$e=q_D.b3H(13,4,10,8439,15);q_D.E2X(64);var Y7Y=q_D.b3H(55080,14,19,48955);q_D.E2X(0);var m9J=q_D.f$g(1,0);q_D.E2X(72);var d$l=q_D.f$g(56,448,56);q_D.E2X(67);var p3l=q_D.b3H(176130,16,166880,4);q_D.o5K(0);var w9G=q_D.b3H(13,1227);q_D.E2X(8);var r$C=q_D.f$g(28920,27474);q_D.E2X(67);var X26=q_D.f$g(7133,16,33,14);c5J=S9r.zoneFileBasePath + ((479.58,f$e) !== 369.96?"/":(Y7Y,"3840" * m9J) <= ("4482" << d$l,p3l)?w9G > (236.39,r$C)?141.14:X26:542.38) + e62;return !P3t || !P3t.async?S9r.parseZones(S9r.transport({url:c5J,async:!"1"})):S9r.transport({async:!![],url:c5J,success:function(W3e){return S9r.parseZones(W3e) && typeof P3t.callback === "function" && P3t.callback();},error:function(){var e2t;e2t="' z";e2t+="oneinfo files";q_D.o5K(14);throw new Error(q_D.b3H("Error retrieving '",e2t,c5J));}});}function K9q(P30){var m33,S0Q,b1E,f4B;if(!P30[3]){return;}m33=parseInt(P30[3],10);q_D.p_j();q_D.E2X(3);S0Q=q_D.b3H(1,"11");b1E=31;if(P30[4]){S0Q=L2D[P30[4].substr(0,q_D.f$g("3",32,q_D.E2X(37)))];b1E=parseInt(P30[5],10) || 1;}f4B=P30[6]?v50(P30[6]):[0,0,0];return [m33,S0Q,b1E,f4B[0],f4B[1],f4B[2]];}i6z="pacif";i6z+="icnew";v3D="euro";v3D+="pe";k$B="euro";k$B+="p";k$B+="e";V$n="eu";V$n+="rop";function a0r(l$F){var N7y,d0D;N7y=v50(l$F);d0D=l$F.charAt("0" - 0) === "-"?-1:1;q_D.o5K(22);var L9G=q_D.f$g(13,46,27);q_D.o5K(0);var M1W=q_D.b3H(1,0);q_D.E2X(21);var j$j=q_D.f$g(19,62,7,5);q_D.o5K(144);var e$Z=q_D.b3H(12,19,18,261,13);q_D.o5K(27);var T4w=q_D.b3H(4,12000,5,6,11005);N7y=d0D * (((N7y[0] * L9G + N7y[M1W]) * j$j + N7y[e$Z]) * T4w);q_D.o5K(145);return q_D.f$g(N7y,1000,60);}V$n+="e";v75="eu";v75+="rope";a4o="eu";function j1P(p2I,x4T){var n1K,C9L,r4L,f5E;n1K=typeof p2I === "number"?p2I:new Date(+p2I).getTime();C9L=x4T;r4L=S9r.zones[C9L];while(typeof r4L === "string"){C9L=r4L;r4L=S9r.zones[C9L];}if(!r4L){if(!S9r.loadedZones.backward){S9r.loadZoneFile("backward");return j1P(p2I,x4T);}else if(C9L && C9L !== x4T){S9r.lazyLoadZoneFiles(C9L);return j1P(p2I,C9L);}l7L(C9L);}if(r4L.length === 0){q_D.E2X(48);throw new Error(q_D.b3H("' on ","No Zone found for '",x4T,p2I));}for(var j8w=r4L.length - 1;j8w >= 0;j8w--){f5E=r4L[j8w];if(f5E[3] && n1K > f5E[3])break;}q_D.o5K(0);return r4L[q_D.b3H(1,j8w)];}a4o+="ro";a4o+="p";function M4_(i53,b$X,z46,I5B){var W30,T2C,D4s,Y0C,v5U,K0v,A6C,E0q,l6U,C$v,C4r,q9W,X5S,u$h;W30=typeof i53 === "number"?new Date(i53):i53;T2C=b$X[1];q_D.o5K(1);D4s=b$X[q_D.b3H(0,"0")];Y0C=T2C.match(/^([0-9]):([0-9][0-9])$/);if(Y0C){v5U="J";v5U+="a";v5U+="n";q_D.E2X(146);var M45=q_D.f$g(10,110,5,2);q_D.E2X(147);var F1b=q_D.f$g(59,7,49,7);q_D.E2X(35);var b10=q_D.f$g(9,26,33);q_D.o5K(148);var j19=q_D.f$g(7,19,2,4);return [-1000000,"max",("3850" | 0) == 797.05?(391.10,"c"):6830 >= 520?"-":(482,9468) <= (6160,"567.03" - 0)?("i",!""):"872.12" * 1,v5U,1,[0,0,0],parseInt(Y0C["1" | 1],M45) * F1b + parseInt(Y0C[b10],"10" * j19),"-"];}K0v=function(b5n,h15,S6n){var p6u;p6u=0;if(h15 === ((419.84,1834) != (7900,+"525.59")?"u":81 > (3413,3505)?(+"317","b"):(3.47e+3,"f")) || h15 === "g" || h15 === "z"){p6u=0;}else if(h15 === (162 != (2907,97.17)?(641.51,1130) === 1873?275.6 < (39.87,7710)?"n":("I",!![]):"s":"x")){p6u=D4s;}else if(h15 === (1900 < 8030?"w":![]) || !h15){p6u=S0k(D4s,S6n[6]);}else {q_D.E2X(0);throw new Error(q_D.f$g(h15,"unknown type "));}q_D.E2X(149);p6u*=q_D.f$g(1000,"60");return new Date(b5n.getTime() + p6u);};A6C=function(d30,t40){var S5z,G9V,Y$_,h45,c3A,M2s,o1o,h_U;S5z=d30[+"0"];G9V=d30[+"1"];q_D.p_j();Y$_=G9V[5];if(!m8K[S5z]){m8K[S5z]={};}if(m8K[S5z][G9V]){h45=m8K[S5z][G9V];}else {if(!isNaN(G9V[4])){h45=new Date(Date.UTC(S5z,L2D[G9V[3]],G9V[4],Y$_["0" >> 0],Y$_[1],Y$_["2" - 0],"0" | 0));}else {if(G9V[4].substr(0,+"4") === "last"){o1o="<";o1o+="=";h45=new Date(Date.UTC(S5z,L2D[G9V[3]] + 1,1,Y$_[+"0"] - +"24",Y$_[1],Y$_[+"2"],"0" ^ 0));c3A=d1x[G9V[4].substr(4,3)];M2s=o1o;}else {h45=new Date(Date.UTC(S5z,L2D[G9V["3" * 1]],G9V[+"4"].substr(5),Y$_[0],Y$_[1],Y$_[2],0));c3A=d1x[G9V[4].substr(0,3)];M2s=G9V[4].substr(3,2);}h_U=h45.getUTCDay();if(M2s === ">="){h45.setUTCDate(h45.getUTCDate() + (c3A - h_U + (c3A < h_U?7:0)));}else {h45.setUTCDate(h45.getUTCDate() + (c3A - h_U - (c3A > h_U?7:+"0")));}}m8K[S5z][G9V]=h45;}if(t40){h45=K0v(h45,Y$_[3],t40);}return h45;};E0q=function(u5m,j2y){var T2B;T2B=[];if(j2y){for(var Z9y=0;Z9y < j2y.length;Z9y++){if(j2y[Z9y][0] <= u5m && (j2y[Z9y][1] >= u5m || j2y[Z9y]["0" << 0] === u5m && j2y[Z9y]["1" | 1] === "only" || j2y[Z9y][1] === "max")){T2B.push([u5m,j2y[Z9y]]);}}}return T2B;};l6U=function(S52,z4n,m8t){var U1v,j3N,E4j,N2n,u6M;q_D.p_j();if(!(S52 instanceof Date)){U1v=S52[0];j3N=S52[1];S52=!m8t && m8K[U1v] && m8K[U1v][j3N]?m8K[U1v][j3N]:A6C(S52,m8t);}else if(m8t){S52=K0v(S52,z46?(4720,4832) > ("487.09" * 1,4754)?"u":!!"1":(7540,78.06) === (790,932.86)?+"302.22" == 9386?(7.30e+3,10.18):"p":"w",m8t);}if(!(z4n instanceof Date)){E4j=-1537740886;N2n=-+"269991750";u6M=2;for(var o0a=1;q_D.O8J(o0a.toString(),o0a.toString().length,41689) !== E4j;o0a++){U1v=z4n[6];u6M+=2;}if(q_D.O8J(u6M.toString(),u6M.toString().length,82397) !== N2n){q_D.o5K(37);U1v=z4n[q_D.b3H("3",64)];}U1v=z4n[0];j3N=z4n[1];z4n=!m8t && m8K[U1v] && m8K[U1v][j3N]?m8K[U1v][j3N]:A6C(z4n,m8t);}else if(m8t){z4n=K0v(z4n,z46?692.5 != 3747?2640 > 443?(991,792.84) !== (29.51,"1713" - 0)?"u":(!!"1",7.38e+3):("N","a"):(!({}),6.00e+3):"w",m8t);}S52=Number(S52);z4n=Number(z4n);q_D.E2X(8);return q_D.f$g(S52,z4n);};C$v=W30.getUTCFullYear();q9W=o9i.ruleCache[I5B];if(!q9W){q9W=o9i.ruleCache[I5B]={};}C4r=q9W[C$v];if(!C4r){q_D.E2X(8);C4r=E0q(q_D.f$g(C$v,1),S9r.rules[T2C]);C4r=C4r.concat(E0q(C$v,S9r.rules[T2C]));C4r.sort(l6U);q9W[C$v]=C4r;}if(!C4r || !C4r.length){return null;}for(var n6M=C4r.length - +"1";n6M >= ("0" ^ 0);n6M--){if(n6M > 0){q_D.E2X(8);X5S=C4r[q_D.f$g(n6M,1)][1];}else {X5S=null;}u$h=C4r[n6M];if(!u$h[2]){u$h[2]=A6C(u$h,X5S);;}if(l6U(W30,u$h,X5S) >= 0){return u$h[1];}}return null;;}a4o+="e";A8m="nort";A8m+="hamer";A8m+="ica";K$K="nort";K$K+="hamerica";X_V="a";X_V+="sia";I6p="a";I6p+="fr";function S0k(l0K,s9x){q_D.E2X(8);return -Math.ceil(q_D.f$g(s9x,l0K));}I6p+="i";I6p+="ca";u1t="europ";u1t+="e";o5z="australas";o5z+="ia";function l7L(o1p){q_D.o5K(14);q_D.Y7v();throw new Error(q_D.f$g("Timezone '","' is either incorrect, or not loaded in the timezone registry.",o1p));}G_N="n";G_N+="orthame";G_N+="ric";G_N+="a";M5X="northameric";M5X+="a";function G$_(M6E){var F8L,z90,d3q,y$T;F8L=t0_[M6E];if(F8L){return F8L;}z90=M6E.split((+"2620",548.13) == "697.88" - 0?+"8120" == 5408?("g",0x2390):+"9632" === (9737,3340)?("v","E"):227.19:"/")[0];d3q=P7k[z90];if(d3q){return d3q;}q_D.Y7v();y$T=S9r.zones[M6E];if(typeof y$T === "string"){return G$_(y$T);}if(!S9r.loadedZones.backward){S9r.loadZoneFile("backward");return G$_(M6E);}l7L(M6E);}S9r=this;P7k={Etc:"etcetera",EST:M5X,MST:"northamerica",HST:"northamerica",EST5EDT:G_N,CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:o5z,Atlantic:u1t,Africa:I6p,Indian:"africa",Antarctica:"antarctica",Asia:X_V,Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"};t0_={"Pacific/Honolulu":K$K,"Atlantic/Bermuda":A8m,"Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":a4o,"Asia/Yekaterinburg":v75,"Asia/Omsk":V$n,"Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":k$B,"Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":v3D,"Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"};this.zoneFileBasePath=null;this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica",i6z,F2t];function Y$b(k1g,b0b){var C3j,L04,T9c;q_D.Y7v();C3j="%";C3j+="s";L04=k1g[2];if(L04.indexOf(C3j) > -1){if(b0b){T9c=b0b[7] === "-"?"":b0b[7];}else {T9c=(8123,7510) > 9720?"t":"S";}return L04.replace("%s",T9c);}else if(L04.indexOf((9663,7291) !== 904.22?"/":321.42) > -1){return L04.split((+"960.54",9220) > 8791?"/":(1390,726) <= 7360?!!"":0x1439,2)[b0b?b0b[6]?1:0:0];}return L04;}this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"};function v50(K0L){var r7O,d1s;r7O=/(\d{1,2})(?::0*(\d{1,2}))?(?::0*(\d{1,2}))?([wsugz])?$/;d1s=K0L.match(r7O);q_D.E2X(57);d1s[q_D.f$g(64,"1")]=parseInt(d1s["1" ^ 0],+"10");d1s[2]=d1s[2]?parseInt(d1s[2],10):0;q_D.p_j();d1s[+"3"]=d1s[3]?parseInt(d1s[3],10):0;q_D.o5K(2);return d1s.slice(1,q_D.b3H(1,"5"));}this.getRegionForTimezone=G$_;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(t06){q_D.Y7v();var z0n,Z1Z,h2y;z0n="northa";z0n+="merica";Z1Z={async:!0};h2y=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || z0n;for(var Q8k in t06){Z1Z[Q8k]=t06[Q8k];}return this.loadZoneFiles(h2y,Z1Z);};this.loadZoneFiles=function(f_F,M_v){var t7V,c7L;q_D.p_j();c7L=0;if(typeof f_F === "string"){return this.loadZoneFile(f_F,M_v);}M_v=M_v || ({});t7V=M_v.callback;M_v.callback=function(){c7L++;q_D.p_j();c7L === f_F.length && typeof t7V === "function" && t7V();};for(var r5j=0;r5j < f_F.length;r5j++){this.loadZoneFile(f_F[r5j],M_v);}};this.loadZoneFile=function(b94,x8g){var M9m;if(typeof this.zoneFileBasePath === "undefined"){M9m="Please define a base path to your zone file directory";M9m+=" -- timezoneJS.timezone.zoneFileBasePath.";throw new Error(M9m);}if(this.loadedZones[b94]){return;}this.loadedZones[b94]=!"";return P7u(b94,x8g);};this.loadZoneJSONData=function(t3o,G$Z){q_D.Y7v();var R8s;R8s=function(a_C){a_C=JSON.parse(a_C);for(var x_q in a_C.zones){S9r.zones[x_q]=a_C.zones[x_q];}q_D.p_j();for(var h1L in a_C.rules){S9r.rules[h1L]=a_C.rules[h1L];}};return G$Z?R8s(S9r.transport({url:t3o,async:!!""})):S9r.transport({url:t3o,success:R8s});};this.loadZoneDataFromObject=function(s61){if(!s61){return;}for(var e$Y in s61.zones){S9r.zones[e$Y]=s61.zones[e$Y];}for(var O1_ in s61.rules){S9r.rules[O1_]=s61.rules[O1_];}};this.getAllZones=function(){var l$S;l$S=[];for(var h0M in this.zones){l$S.push(h0M);}return l$S.sort();};this.parseZones=function(T$X){var R7_,D0y,V6i,O10,g_e,B9A,d5y,A1h;if(!T$X){return !!0;}R7_=T$X.split((1140,"5556" ^ 0) <= (9220,6670)?"\n":(7101,9284) <= 1592?(0x19fc,8.83e+3):980.38);D0y=[];V6i="";g_e=null;q_D.p_j();B9A=null;for(var V7I="0" ^ 0;V7I < R7_.length;V7I++){O10=R7_[V7I];if(O10.match(/^\s/)){q_D.E2X(14);O10=q_D.b3H("Zone ",O10,g_e);}O10=O10.split("#")[0];if(O10.length > 3){D0y=O10.split(/\s+/);V6i=D0y.shift();switch(V6i){case "Zone":g_e=D0y.shift();if(!S9r.zones[g_e]){S9r.zones[g_e]=[];}if(D0y.length < 3)break;D0y.splice(3,D0y.length,K9q(D0y));if(D0y[3]){D0y[3]=Date.UTC.apply(null,D0y[+"3"]);}D0y[0]=-a0r(D0y[0]);S9r.zones[g_e].push(D0y);break;case "Rule":B9A=D0y.shift();if(!S9r.rules[B9A]){S9r.rules[B9A]=[];}D0y[+"0"]=parseInt(D0y[0],10);D0y[1]=parseInt(D0y[1],10) || D0y[1];D0y[5]=v50(D0y[5]);D0y[6]=a0r(D0y[6]);S9r.rules[B9A].push(D0y);break;case "Link":if(S9r.zones[D0y[1]]){d5y=". Cannot";d5y+=" create link o";d5y+="f a preexisted zone.";A1h="E";A1h+="rror with Link ";throw new Error(A1h + D0y[+"1"] + d5y);}if(isNaN(D0y["0" - 0])){S9r.zones[D0y[1]]=D0y[0];}else {S9r.zones[D0y[1]]=parseInt(D0y["0" * 1],10);}break;}}}return !![];};this.transport=o4g;this.getTzInfo=function(C82,J3C,u7p){var L7T,P7n,l9g,B81;this.lazyLoadZoneFiles(J3C);L7T=j1P(C82,J3C);P7n=+L7T[0];l9g=M4_(C82,L7T,u7p,J3C);q_D.Y7v();if(l9g){P7n=S0k(P7n,l9g[6]);}B81=Y$b(L7T,l9g);return {tzOffset:P7n,tzAbbr:B81};};this.lazyLoadZoneFiles=function(h_9){var G4E;q_D.Y7v();if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){G4E=G$_(h_9);if(!G4E){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(G4E);}};})();}).call(typeof window !== "undefined"?window:this);o9i.timezone.loadingScheme=o9i.timezone.loadingSchemes.MANUAL_LOAD;o9i.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[+"60","-","-01",null]],"Africa/Cairo":[[-120,"","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,K4V,H5v,+"1540695600000"],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,"","%s",null]],"Africa/Johannesburg":[[-("120" ^ 0),"","SAST",null]],"Africa/Tunis":[[-60,"","CE%sT",null]],"Antarctica/Troll":[["0" * 1,F0Q,"%s",null]],"Asia/Kabul":[[-270,("5560" | 8) >= (9620,6720)?("O","L"):"-","+0430",null]],"Asia/Baku":[[-240,"","+04/+05",null]],"Asia/Dhaka":[[-+"360","",u0S,null]],"Asia/Yangon":[[-("390" - 0),"-",U_u,null]],"Asia/Shanghai":[[-480,"","C%sT",null]],"Asia/Hong_Kong":[[-("480" | 32),"","HK%sT",null]],"Asia/Taipei":[[-480,"",U95,null]],"Asia/Nicosia":[[-120,r08,"EE%sT",null]],"Asia/Kolkata":[[-330,"-","IST",null]],"Asia/Tehran":[[-210,c3w,j04,null]],"Asia/Jerusalem":[[-("120" ^ 0),"Zion","I%sT",null]],"Asia/Tokyo":[[-540,"","J%sT",null]],"Asia/Amman":[[-+"120","Jordan","EE%sT",null]],"Asia/Almaty":[[-360,"-","ALMT",null]],"Asia/Seoul":[[-540,"","K%sT",null]],"Asia/Pyongyang":[[-510,"-","KST",1525476600000],[-540,"-",D0q,null]],"Asia/Beirut":[[-120,"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,(480.46,258.18) != (9551,1418)?7510 > (454,9660)?(0x1e7,951):"-":!!({}),"+08",null]],"Asia/Hovd":[[-420,"","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol",N7n,null]],"Asia/Kathmandu":[[-("345" | 24),(4355,242.23) != 3547?"-":(0xcb6,0x73f),"+0545",null]],"Asia/Karachi":[[-300,"","PK%sT",null]],"Asia/Hebron":[[-120,"Palestine","EE%sT",null]],"Asia/Riyadh":[[-180,3670 != (701.19,"3260" >> 0)?(8080,1260) < 9340?(18.53,454.56) == (2540,5920)?!![]:"-":9.89e+3:(0x1312,!![]),I96,null]],"Asia/Damascus":[[-("120" - 0),"Syria","EE%sT",null]],"Asia/Bangkok":[[-+"420",1034 != (114.99,5870)?"-":(339.19,3100) == 827.04?(858.19,"h"):(+"686.47",!!"1"),"+07",null]],"Asia/Dubai":[[-("240" * 1),(8127,"832" << 32) > 54.37?"-":(5669,4360) === +"8296"?1.40e+3:(914,876.28) === 8879?("293.12" - 0,877.16):!1,"+04",null]],"Australia/Darwin":[[-("570" - 0),"",n_w,null]],"Australia/Perth":[[-480,"",d3E,null]],"Australia/Eucla":[[-+"525",F3U,B1F,null]],"Australia/Brisbane":[[-600,"","AE%sT",null]],"Australia/Adelaide":[[-570,E2j,"AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-600,"AV",a_O,null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-+"630","LH","+1030/+11",null]],"Pacific/Fiji":[[-720,n8f,"+12/+13",null]],"Pacific/Guam":[[-600,"-",J$Q,null]],"Pacific/Kiritimati":[[-840,"-","+14",null]],"Pacific/Noumea":[[-660,"",U$u,null]],"Pacific/Auckland":[[-+"720","NZ","NZ%sT",null]],"Pacific/Chatham":[[-765,E59,"+1245/+1345",null]],"Pacific/Pago_Pago":[[660,(440.32,105.48) != (860.09,5850)?"-":(1590,6300) !== +"1863"?239.9 < 6373?"Q":(+"1.05e+3",0xc44):(!!0,![]),"SST",null]],"Pacific/Apia":[[-780,"WS",S4o,null]],"Pacific/Tongatapu":[[-780,"","+13/+14",null]],"Etc/UTC":[[+"0",(3185,"2990" << 0) > 892.38?"-":!!({}),"UTC",null]],UTC:"Etc/UTC","Europe/London":[["0" >> 64,N6R,"GMT/BST",null]],"Europe/Dublin":[[0,"Eire","IST/GMT",null]],WET:[[+"0","EU",B$V,null]],CET:[[-60,"C-Eur","CE%sT",null]],MET:[[-60,E12,"ME%sT",null]],EET:[[-120,"EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU",N2K,null]],"Europe/Copenhagen":[[-60,n6e,"CE%sT",null]],"America/Thule":[[240,"Thule","A%sT",null]],"Europe/Helsinki":[[-120,u5N,"EE%sT",null]],"Europe/Paris":[[-60,v7u,"CE%sT",null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU",A21,null]],"Europe/Bucharest":[[-+"120","EU","EE%sT",null]],"Europe/Kaliningrad":[[-120,305.08 === (9582,6540)?(+"0xd31",!!1):(502,7075) > (5308,626.86)?"-":(680,3800) == (1960,7670)?(!({}),"l"):![],"EET",null]],"Europe/Moscow":[[-180,"-","MSK",null]],"Europe/Volgograd":[[-180,1810 !== 558.96?725.18 > 2651?(354.41,0x35a):(3177,"743.5" * 1) > (827.04,2050)?+"139.11":"-":"0x20b8" - 0,K0I,1540692000000],[-240,"-",g_u,1609034400000],[-180,2934 !== (19.27,7771)?"-":777.49 <= (5706,603.08)?0x4d:("F",3.81e+3),"+03",null]],"Europe/Samara":[[-240,"-","+04",null]],"Asia/Yekaterinburg":[[-("300" - 0),"-","+05",null]],"Asia/Omsk":[[-360,5880 > 101?(+"8496",834.34) <= (3790,251.6)?(!!1,"U"):"-":299.85,g0L,null]],"Asia/Novosibirsk":[[-420,(4280,820.9) <= (9130,809.76)?0x50c:3920 === (8850,7595)?(720.96,"k"):(8230,2660) == 396?"K":"-",I$f,null]],"Asia/Novokuznetsk":[[-420,"-",p6M,null]],"Asia/Krasnoyarsk":[[-420,(+"8530",8415) === 1281?"o":"-","+07",null]],"Asia/Irkutsk":[[-480,1183 === 9136?(976.79,7800) < 4709?("Z",8.96e+3):(4831,133.73) <= ("330.06" - 0,"101.25" * 1)?"I":("P",!!"1"):"-",o8A,null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-600,(936.34,1400) <= (856,9823)?"-":7805 <= (4888,299.66)?(8.65e+3,!![]):(!"","P"),h7Q,null]],"Asia/Magadan":[[-660,"-","+11",null]],"Asia/Srednekolymsk":[[-660,(886.05,1180) >= (647,5640)?!!1:"-",w6p,null]],"Asia/Kamchatka":[[-720,(653.28,642.43) === 267?7.46e+2:"-","+12",null]],"Europe/Belgrade":[[-("60" * 1),"EU",S$g,null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Madrid":[[-60,"EU",m$Y,null]],"Europe/Stockholm":[[-+"60",J74,"CE%sT",null]],"Europe/Zurich":[[-("60" | 44),I_q,"CE%sT",null]],"Europe/Istanbul":[[-180,(4870,396.03) <= (1725,7813)?(8610,1958) != 5920?"-":2400 >= (4370,892)?(850.02,0x2416):("0x24a3" | 1,!!"1"):!"",I8D,null]],"America/New_York":[[+"300",h2O,"E%sT",null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,O$0,"M%sT",null]],"America/Los_Angeles":[[480,"US","P%sT",null]],"America/Juneau":[["540" ^ 0,"US",H90,null]],"Pacific/Honolulu":[["600" - 0,4750 !== 1719?(566.49,428) > (939,903.61)?!!0:"-":0x8a,l5L,null]],"America/Phoenix":[[420,225.43 === "5350" * 1?8.07e+2:"-",f0J,null]],"America/St_Johns":[[210,c58,"N%sT",null]],"America/Halifax":[[240,"Canada",c$P,null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,i4l,W8x,null]],"America/Chihuahua":[[420,"Mexico",g0Q,null]],"America/Costa_Rica":[[360,"","C%sT",null]],"America/Havana":[[300,"Cuba",L$t,null]],"America/Port-au-Prince":[[300,"Haiti","E%sT",null]],"America/Panama":[[300,"-",B47,null]],"America/Puerto_Rico":[[240,(963,+"492.63") > (9160,163.57)?"-":(288.99,1570) <= 415.67?(![],3.15e+3):(!![],!!"1"),"AST",null]],"America/Argentina/Buenos_Aires":[[180,"",X0R,null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[["240" ^ 0,"Chile","-04/-03",null]],"America/Punta_Arenas":[[+"180",(590.04,862.62) < 3210?(8980,7650) > (832.86,1160)?(+"810",6724) == (+"8430",3045)?+"0x1913":"-":(8.67e+3,"0x1e3f" ^ 0):(614.37,6.97e+3),x68,null]],"America/Bogota":[[300,"",H9L,null]],"America/Asuncion":[[240,"Para",M53,null]],"Atlantic/South_Georgia":[["120" | 88,2846 == "6070" >> 64?"c":"-","-02",null]],"America/Montevideo":[[180,"",i51,null]],"America/Caracas":[[240,"-","-04",null]],"Europe/Athens":f0y,"Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":d0e,"Atlantic/Reykjavik":"UTC","Asia/Kuwait":z3N,"Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Morocco:[["2013" ^ 0,2018,(8270,568.08) > 8028?(0x156a,"7.89e+3" - 0):"-","Oct",q$j,[3,0,0,null],0,(9880,+"6879") <= (1870,258.12)?8301 === +"7566"?(!!"1",!!({})):("688.78" * 1,246.78) > 9870?"R":("D",+"565.40"):"-"],["2014" - 0,2018,("3800" ^ 0,690.01) != (3010,3243)?"-":41 > 9100?(1.30e+3,1.78e+3):0x229a,"Mar","lastSun",["2" << 0,0,0,null],60,(9383,5190) < 566.26?!"1":"-"],[2018,"only",9443 != "5238" >> 0?("9960" << 0,47.05) <= (2144,908)?(4510,6275) != (333.37,1817)?"-":(![],"Z"):0xd00:0x24d3,Z1o,"13",[3,0,0,null],0,(2130,101) >= 427.93?(!({}),"7.74e+3" | 24):("835" ^ 0,1390) <= (1280,"38.7" - 0)?("937.65" - 0,0x1565):"-"],[+"2018","only",("5370" * 1,"1747" | 82) > (928.17,9470)?"V":"7566" << 96 < 222.97?"f":4330 === (363.05,"3940" >> 0)?0x1597:"-","Jun","17",[2,0,0,null],60,"-"],[2019,"only",978 <= 753?617 !== 6820?"z":(!({}),852):"-","May",(1570,592.34) !== 5240?"5":4830 <= (5660,"2853" ^ 0)?3.35e+3:("t",0x1025),["3" * 1,0,0,null],-+"60","-"],[+"2019",Y_C,"-",U_J,265.66 >= (1250,6590)?"2240" * 1 < 9030?663.22 != +"2470"?579.61:("Q","n"):("f",6.66e+3):"9",[2,0,0,null],0,(+"1820",606.98) <= (705,5646)?"-":"i"],[2020,a$Q,159.33 != (4220,287.67)?"-":54.47,"Apr",p9I,[3,"0" >> 64,0,null],-60,657.61 < (381,621.35)?6.27e+3:"-"],[2020,"only",(1670,1470) !== (2070,4700)?"-":0x1e70,"May",U7T,[+"2",+"0",0,null],0,(339.62,1980) < (9100,1061)?"363.97" * 1 < (+"1629",570.28)?541 <= (9490,3270)?0x232f:"F":!({}):"-"],[2021,"only",9886 != (38.18,712.34)?"-":(97.28,"887.49" * 1) == 1570?827.27:("322.93" - 0,!1),"Apr",M1o,[3,0,"0" * 1,null],-("60" * 1),"-"],[2021,"only",(900.33,4005) >= (56,954.31)?(132.78,6696) >= 2990?"-":(4645,5777) == 1970?"M":!1:0x2244,"May",S4e,[2,0,0,null],0,(9685,1060) > 7150?"0xd95" ^ 0:2786 != 919?848 !== "2802" >> 0?"-":("O",0x17d5):(!0,"a")],[2022,W5N,"-",Q4m,"27",[3,0,0,null],-60,"-"],[2022,"only","-",R9t,"8",[2,"0" >> 32,0,null],0,824.25 == 2900?(+"0x169b",!!"1"):7050 < ("5792" ^ 0)?("M",+"582"):5994 >= (495.68,655.98)?"-":"K"],["2023" | 3,"only",(2188,3530) == 7939?("D",8.24e+2):"-","Mar","19",[3,0,0,null],-+"60",+"745" > (991,"6530" ^ 0)?5360 <= ("5348" * 1,3270)?251.77:(!0,"P"):"-"],[2023,"only",9160 <= (790.21,2230)?(0x833,!!({})):9034 === (4890,599.5)?6210 != 264.45?("Q",7.72e+3):718.62:"-",H8T,q6N,[2,+"0",0,null],0,"-"],[2024,V$8,"-","Mar",O1t,[3,0,0,null],-("60" ^ 0),"504.14" * 1 == (596,32.57)?(8.51e+3,0x1749):892.56 != 303.21?9410 < (226.48,8419)?(787.14,0x152e):"-":(2.17e+2,"Z")],["2024" >> 64,"only","-",x_x,x09,[2,0,0,null],0,387.51 === 8769?"0x255d" >> 64:+"5350" >= (5710,868)?"-":(160,886) < 436?7.33e+3:(0x24a2,"394.99" * 1)],[+"2025","only",(+"740.71",1725) >= ("443.49" * 1,+"863")?"-":(1.15e+3,682.44),u9R,"23",[3,"0" ^ 0,+"0",null],-60,7825 >= "3030" * 1?2593 >= 8098?"12.42" - 0:"-":0x1956],[2025,k4S,(7180,5626) != (158.54,5482)?"-":"N","Apr","274.14" * 1 === ("6660" | 0)?("G",!!"1"):(4660,6220) >= ("7700" >> 0,712.61)?"6":1.17e+3,[2,0,0,null],0,"-"],[2026,U6T,2422 < 7893?"-":1730 < 6780?0x22d:"s","Feb",Z$f,[3,+"0",0,null],-60,"-"],[2026,"only","-","Mar","22",[2,0,0,null],0,(4500,6680) <= (+"436.09",556.99)?+"97.79" > ("950" >> 64,"3110" << 64)?0x743:("E",!!""):"-"]],Troll:[[+"2005",I3f,"-",s8G,"lastSun",[1,"0" << 0,0,(+"6627",931) >= (4282,8062)?1.79e+3:8710 !== 5000?"u":(2080,597) != (+"203.42","8860" << 0)?"J":("i",509.26)],120,"+02"],[2004,"max",6930 < (9731,284)?+"3.69e+3":"-","Oct","lastSun",[1,0,0,"u"],0,m8b]],EUAsia:[[+"1981",I0D,"-","Mar","lastSun",[1,0,+"0",(740,7601) > 8663?(6430,+"6230") <= ("491" * 1,2166)?"J":(!0,!!"1"):"u"],+"60",(243.75,"7888" >> 0) !== (+"257.99","97.18" * 1)?411.02 >= (550,6982)?(3420,7625) === 641.05?0x24d:(182.03,26.42):"S":(8.02e+3,0x111e)],[1996,w4v,(+"27",+"6570") < ("52" ^ 0,+"458.81")?(6.60e+3,"o"):"-","Oct","lastSun",[1,0,0,+"1397" !== 951.49?("3740" * 1,5264) <= +"4750"?(9.51,543.98):(2950,367.83) == 723.61?270.90:"u":2.53e+3],0,(613.68,506.74) != (732.33,6444)?"-":("220.06" * 1,!"")]],Iran:[[2017,2019,"-",c4E,k$P,[24,0,0,null],60,"-"],[+"2017",2019,(+"375",4654) < (2844,9453)?"-":(210.49,677.58) >= (119.44,810.99)?("n",64.48):+"89.74","Sep","21",[24,0,"0" >> 64,null],+"0",(+"2967",1040) !== 1350?(+"166.96",4206) < 895.55?0x1062:"-":995.41],[2020,"only",(4814,116.96) < (4151,558.41)?3750 >= (6918,8416)?(0xa39,878):4020 > 3280?"-":("s","d"):(0x2080,2.38e+2),"Mar","20",["24" << 0,0,0,null],60,"-"],["2020" << 0,U0S,(6450,9200) == (6753,"139" << 96)?"g":"-",j_S,M5d,[24,0,0,null],0,23.82 != (4576,8994)?"-":(207.26,5634) == 908.57?3.65e+3:4.72e+3],[+"2021",2023,"-","Mar",M4q,[24,0,0,null],60,183.1 != (2290,242)?"-":4.63e+3],[+"2021",2023,"-","Sep",A3W,[24,0,"0" >> 32,null],+"0","-"],[2024,"only",+"7240" < 5080?739.97 > 9980?("T",900.95):("Z",928):"-","Mar","20",[24,0,0,null],60,"-"],[2024,T6b,"-","Sep","20",[24,0,"0" - 0,null],0,("7173" ^ 0,"83.85" - 0) !== 7733?(4540,126) == 2.16?1.65e+3:"-":4.22e+3],[2025,2027,(401.88,3430) == (9440,9707)?275.14 <= (+"434.88",554.47)?+"0x1be1":!!"1":"-","Mar","21",[24,0,0,null],60,"-"],[2025,2027,293.11 <= 443?"-":(3967,"4180" | 0) !== 298.52?145.07 == 4240?(674.98,6.35e+3):"H":0xef2,r_s,"21",[24,0,0,null],0,(8573,4150) != 650.25?"-":+"1590" === (6532,2860)?(0x1e4b,+"0x1573"):5.26e+3]],Zion:[[2013,"max",(2193,668.18) > 5970?1.26e+3:"-","Mar","Fri>=23",[2,0,0,null],60,805.98 >= (163.88,667.86)?(1244,7770) == +"6010"?("445" ^ 0,+"9480") == (7330,7340)?"f":+"5.03e+3":"D":!0],[+"2013","max",("1730" | 0,2937) === (8320,7587)?+"204.69":2290 == 962.5?(0x136,"802.37" * 1):"-","Oct","lastSun",[2,0,0,null],0,(8715,4030) != (740.25,+"471.18")?+"942.97" < (8084,+"274")?"t":"S":5.01e+3]],Jordan:[[2014,2021,"-","Mar","lastThu",[24,0,0,null],60,(7750,4345) <= (2311,891.38)?671.45:"S"],[2014,"max",(+"8570",+"6930") !== (5397,558.17)?"-":(8490,7660) != ("5981" ^ 0,231.94)?"232.52" - 0 != 7920?"i":("r",161.25):(0x1f63,"0x242e" * 1),w2k,P6Z,[0,0,0,"s"],+"0","-"],["2022" - 0,"max","-",l$n,"lastThu",[+"24",0,0,null],+"60",2770 !== (2650,8200)?(825.83,758.76) >= 5690?(0x1d85,![]):(8010,339.7) > +"3030"?0x5d5:"S":("k",0xd45)]],Lebanon:[[1993,"max",9750 >= (+"10000","2387" * 1)?"-":515 < 8830?(4410,709.76) > (921.37,"26.68" * 1)?7.55e+3:(844.53,"B"):"B",R7$,"lastSun",[0,+"0",0,null],60,(3890,4480) != 659?"S":(704,316.53) < (401.59,704)?258.41:("m",4.90e+3)],["1999" * 1,o_L,"-",q1q,"lastSun",[0,+"0",0,null],0,"-"]],Palestine:[[2016,2018,(605.64,2586) > 348.73?"-":(!!"",!![]),"Mar","Sat>=24",[1,0,"0" ^ 0,null],60,(48,6540) !== (5567,+"300")?"S":(0x144c,2.45e+3)],[2016,2018,"-",p9L,"Sat>=24",[1,0,0,null],0,5411 !== (8020,8433)?"-":25.23 < (796.38,3980)?"2.72e+3" << 64:(130.09,"Q")],[2019,D9t,"-",g2M,W0e,[+"0",0,0,null],60,(5173,3950) <= ("935" >> 64,534.44)?6.89e+3:(9404,8140) >= (+"502.29",8829)?(616.50,"L"):"S"],["2019" >> 64,"only",+"1441" < (974.03,274.08)?(![],6.08e+3):"-","Oct","Sat>=24",[0,0,0,null],60,"-"],[2020,2021,1266 === ("1060" - 0,3310)?(!1,"792.73" - 0):3190 === (7020,"334.72" - 0)?!({}):"-","Mar","Sat>=24",[0,0,0,null],60,"S"],[2020,"only",(2870,478.38) == (961.22,1050)?(+"862.91",0x71f):"-","Oct",j0u,[1,+"0",0,null],60,(+"292",201.24) == 399.21?"c":"-"],[2021,b1k,(486,364.36) != (4180,4709)?"-":580.67,"Oct","Fri>=23",[1,0,0,null],0,561 === 1380?(!"",300.92):"-"],[2022,I2t,5758 !== (6130,195.77)?(2970,4730) == ("1637" * 1,3080)?(5970,2843) <= 220?0x3ee:(2.58e+3,"0x1668" ^ 0):"-":(!1,!({})),"Mar","Sun>=25",[0,0,"0" ^ 0,null],+"60","S"]],Syria:[[2012,"max","-","Mar","lastFri",[+"0",0,0,null],60,(+"3070",3940) === (6330,"7870" * 1)?(!"",!!({})):(3835,7960) != "555" * 1?(679.92,"426" ^ 0) !== (561.2,5996)?"S":882:!![]],[+"2009","max",(93,147.37) > (107,939.24)?0x157c:"-",G52,"lastFri",[0,0,0,null],0,"-"]],AS:[[2008,"max","-",g_g,"Sun>=1",[2,0,0,6360 < 144.11?(!({}),0xc8e):"s"],+"0",(9870,3170) === ("3678" - 0,958.54)?0x7eb:"S"],[2008,"max","-","Oct","Sun>=1",["2" | 0,0,0,(325.71,93) >= 8292?(!({}),![]):"s"],"60" | 56,"D"]],AT:[[2001,"max",7970 < +"3819"?"G":"-","Oct","Sun>=1",[2,"0" | 0,"0" << 32,"s"],60,("94.25" - 0,889.34) != 6134?(867.07,1623) > (2099,7987)?("832" * 1,887.60):(7154,+"6430") >= (+"2790",158.39)?"D":(73.69,0xa9e):("d",!({}))],[2008,g2T,+"4730" !== 6560?"-":(8044,990.2) > 353.3?(2510,9967) > (891.11,644)?(+"562.98",0x1acc):!!0:(!"1","h"),t5m,S3u,[2,+"0",0,"2590" >> 32 !== 7270?"s":(2090,"2763" - 0) == 905.91?"B":(942.55,9635) === 35.7?981.17:"I"],0,34 == 1029?(!({}),+"7.12e+3"):"S"]],AV:[[2008,"max","-","Apr",N$r,[+"2",0,0,(+"6.97",3590) > +"3870"?!({}):(270,5770) <= +"9329"?(333.88,8591) <= 2637?"s":"s":(!"1",+"805.63")],"0" << 0,8200 !== (3203,+"8791")?(1333,4314) == 932.05?("Q","794.07" * 1):"S":9.96e+2],[2008,"max",+"8160" === (5750,6050)?!!1:"-",y97,"Sun>=1",[2,0,0,1324 !== 6120?"s":(!0,0x1c1e)],60,(209,8362) >= ("8698" | 8,+"9950")?("c",0xfd7):(773.52,+"5715") < (518,4764)?5.49e+3:"D"]],AN:[["2008" | 88,"max","-","Apr","Sun>=1",[2,0,0,825.43 > 2180?("f",!({})):785.17 > 971.46?(2950,976.89) < "724.38" - 0?("u",!!"1"):0x1a5d:"s"],"0" << 64,"S"],[+"2008","max","-",J$i,"Sun>=1",[2,"0" - 0,"0" - 0,(609.06,"590.07" * 1) !== 951.82?"s":(699.60,3.85e+3)],60,"D"]],LH:[[2008,"max",940.98 > (2040,707.21)?"-":(+"300.39",!!0),d5P,"Sun>=1",[2,0,0,null],+"0","-"],[+"2008","max",(7120,+"241.13") == 3650?!1:"-",S8M,T9r,["2" * 1,0,0,null],30,(8630,1540) < (3250,7011)?(550.7,4560) != (3172,"388.3" * 1)?"-":4.27e+3:("E",4.05e+3)]],Fiji:[["2014" - 0,2018,5040 < (441,9300)?(797.62,3711) !== 76.76?"-":(!![],+"670.45"):!!1,"Nov","Sun>=1",[2,0,0,null],60,("9660" << 0,3200) == (8202,4233)?(7.58e+3,4.68e+3):"-"],[2015,"2021" >> 32,"-","Jan","Sun>=12",[3,0,"0" << 64,null],0,82.61 <= ("1833" * 1,3008)?"-":(2.05e+2,!!({}))],[2019,r$Z,(9850,6675) !== (165.2,+"216.3")?("2900" >> 0,181) !== (9169,70.82)?"-":(888.13,148.51) < ("5061" ^ 0,"3370" * 1)?(668.31,!0):0x197:(351.29,964.94),"Nov","Sun>=8",[2,"0" >> 32,0,null],+"60","-"],[2020,h86,(9430,790.37) == 2994?(+"2130",2610) > 692.75?0xcc:493.40:"-","Dec","20",["2" - 0,0,"0" - 0,null],60,"-"],[+"2022","max","-","Nov","Sun>=8",[+"2",0,0,null],60,(4580,416.26) !== (8110,5720)?"-":(396.40,8.29e+3)],[+"2023",z6c,"-","Jan","Sun>=12",[3,0,"0" | 0,null],+"0",2600 !== (863.19,5400)?"-":("U",!"1")]],NZ:[[2007,k8B,(553.43,6760) > "6582" << 64?104.7 > (117.17,307.76)?(585.34,994) !== 351.55?0x1a74:("k",0x19cf):"-":(0x1bb9,"0x219" >> 32),t8E,"lastSun",[2,0,0,1280 == 5226?4.92e+3:(7899,9596) > +"3503"?"s":(+"610.25",0x1218)],60,(9431,7710) <= (905,7257)?(903.11,0x4e):+"4675" >= (1991,"8190" ^ 0)?4.05e+3:2760 <= 2340?(1.85e+3,"9.21e+3" * 1):"D"],[2008,c0S,(+"4210",6456) < 563.21?(4.15e+3,328.95):"-","Apr","Sun>=1",[2,0,0,"s"],+"0",(1350,+"3579") !== (609.51,+"236.05")?"S":(!!"",588.98)]],Chatham:[[+"2007",X3u,(543.54,"1435" * 1) == 6670?"h":"-","Sep","lastSun",[2,45,0,"s"],60,(1107,419.79) == 8650?8620 !== 5642?363.88:(!!({}),"a"):"-"],[2008,w4B,"-",p2s,"Sun>=1",[2,45,0,(8612,9017) != 7530?(203.81,198.72) >= 9833?(!![],+"456.94"):"s":("149.50" - 0,+"128.80")],0,"-"]],WS:[[2012,"2021" | 69,(9276,+"8350") <= (32,3817)?+"0x1cda":(9840,7823) >= (9980,346.63)?"-":(50.65,486) > 632.37?(0x1265,"H"):"h","Apr","Sun>=1",[4,"0" << 32,0,null],0,(1407,6790) === (6613,643)?(+"7130",9540) >= ("700.16" - 0,+"239.15")?(336.04,5780) < 515.44?0x3e7:4.07e+3:0x1412:"-"],[2012,2020,8034 != (815.54,5220)?(5540,430.98) != +"189"?"-":956 > +"3440"?!!({}):(4.23e+3,7.25e+3):(0x322,123.51),"Sep","lastSun",[3,0,0,null],60,(10,8610) < (8117,3540)?(!({}),5.11e+3):467.02 <= ("8.24" * 1,9310)?(9132,3800) >= (908.7,+"1210")?"-":(8.68e+3,0x53e):0xcdd]],Eire:[[1981,"max",126.7 > (5300,672)?!!({}):(878.5,9053) > 864.27?373.37 !== 786.48?"-":(!!1,"k"):(8.87e+3,3.94e+2),"Mar","lastSun",[1,"0" - 0,0,("935.07" * 1,203.49) === (464.45,+"8472")?"g":859 >= (192.22,3165)?"D":"u"],0,"-"],[1996,"max","-","Oct","lastSun",[1,0,0,"u"],-60,"-"]],EU:[[1981,"max",9413 >= (682.58,426.42)?"-":3720 >= 1940?7010 > (950,4000)?(+"0x649","4.98e+3" << 64):0x1a6c:("H",!![]),"Mar","lastSun",[1,0,0,(6520,2380) > 9835?(5.29e+3,+"140.89"):184 == ("1403" >> 64,687)?!!1:"u"],60,(76.74,3527) <= 3162?(8.40e+3,0x1b5b):"S"],[+"1996","max","-",O9G,I1w,[1,0,0,"u"],0,"-"]],"C-Eur":[[1981,"max",6290 <= 8680?(7058,7310) < 351.99?1.14e+3:"-":9.21e+3,"Mar","lastSun",[2,0,0,"s"],+"60",6090 < 3040?232.95:3204 > (7280,467.29)?"S":484 >= (755.99,324.32)?(!({}),!0):(!1,"1.84e+3" * 1)],[1996,H1J,"-","Oct","lastSun",[2,0,0,"s"],0,"-"]],Thule:[[2007,M5M,"-",P_P,"Sun>=8",[2,0,0,null],60,(2489,332.46) === ("8831" << 64,+"4220")?7.30e+2:"D"],[2007,"max",897.12 === +"3950"?(+"9.62e+2",!!({})):"-",i0g,z24,[2,0,0,null],0,(+"227",927.71) >= 1280?(!1,0xeff):"S"]],US:[[2007,x1j,(3480,+"261.82") != (+"2780",291.75)?"-":1850 != (902.17,6440)?+"9050" < (+"599.69",657.15)?(0xe0f,+"0x898"):6.64e+3:(0xc17,"M"),"Mar","Sun>=8",[2,0,0,null],+"60",(97.49,+"6588") == ("541.71" - 0,64.08)?("1857" ^ 0,1670) >= +"735"?(817,0x1280):("e",0xc00):"D"],[2007,R$4,"-",H4o,"Sun>=1",[2,0,0,null],0,(1720,6095) >= (5050,722.52)?(+"5513",+"5520") > (7450,8277)?653.74:"S":("u","731.61" * 1)]],Canada:[[2007,K3A,(+"70",3344) >= (+"8578","4190" >> 0)?(256,4600) == +"992.93"?("M",8.14e+3):(1.60e+3,"l"):"-","Mar",C8w,["2" * 1,0,0,null],60,"D"],[2007,"max",("5692" | 16,3000) >= 9848?4.31e+3:"-","Nov",Y2x,[2,0,"0" * 1,null],0,"S"]],Mexico:[[2002,q39,8951 === 850.92?("n",![]):"-",f5C,B1w,[2,0,0,null],60,"D"],[2002,"max","-","Oct",o3D,[2,0,0,null],+"0",3652 != (4580,3020)?"S":(972.81,3770) > ("497.77" - 0,410.48)?524.11:("S",7.87e+2)]],Cuba:[[2012,"max","572.94" * 1 == (7008,"627.3" - 0)?(9832,+"5830") >= (916.75,"855.79" - 0)?7.11e+3:("8.73e+3" * 1,"j"):"-",h3F,h5n,[0,0,+"0","s"],0,864.1 === (40.72,328)?5931 === +"8130"?(+"864.47","C"):8556 >= (569.16,5407)?!!({}):+"444.09":"S"],[2013,"max",(354.79,6231) !== 6770?"-":(4559,616.32) > (7430,5565)?("z","J"):("298.99" - 0,!"1"),V9k,"Sun>=8",[0,0,0,4974 === 605.99?0x137b:"s"],60,"D"]],Haiti:[["2017" << 32,a3l,"-","Mar",S1h,[2,0,0,null],60,+"1650" === 433?"b":"D"],[2017,"max",(233.37,"8631" * 1) >= "215.75" * 1?"-":8.43e+3,y6v,"Sun>=1",[2,0,0,null],0,"S"]],Brazil:[[+"2016","2019" ^ 0,"-","Feb","Sun>=15",[0,0,0,null],0,"-"],[2018,o_c,("565.67" * 1,68.7) <= 2830?(6480,2281) <= 4263?"-":5410 !== 1710?9.67e+3:(0x7e3,0x811):("F","s"),"Nov","Sun>=1",[0,0,+"0",null],60,(5290,"980" * 1) <= "2450" >> 64?(5419,150.02) === 7390?(4.25e+3,"0x102b" << 0):(568.09,+"9860") != (540.17,8210)?"-":7.01e+3:("261" | 5,"A")]],Chile:[[2016,2018,5240 == 896.15?0xe5c:"-","May",Z9I,[+"3",0,0,2170 < (6932,3688)?"u":(1460,27.64) === 5191?3.16e+3:(162.32,"54" << 32) == 306.02?6.58e+3:"G"],0,(493.33,+"6600") === 314?(236.98,0x1631):54.35 < 426?(848.15,551.29) != (392.53,5535)?"-":("o",!!({})):!!({})],[2016,2018,927 == ("7844" | 0)?("j",948.06):(7414,2510) == ("762.65" * 1,3641)?(!!"",!0):"-",o3i,Q3C,[4,0,"0" << 96,(935,95.66) <= 6490?"u":(39,6297) >= (218.18,+"262.24")?8100 != (8577,"6189" | 4)?![]:("E","X"):(0x2033,82.17)],60,6300 == 1412?(+"0x2d2",8.71e+3):(9009,3780) == "9385" * 1?741.45 > +"529"?(!"1",!""):(320.76,"U"):"-"],[2019,"max","-","Apr",Q1K,[+"3",0,0,("9984" | 0) >= (8514,580.49)?"u":+"659.88"],"0" - 0,(380.34,2370) > "569" * 1?454.81 <= "8330" - 0?"-":(557.79,8918) <= 7600?349.08:("o",27.75):"Q"],[2019,"max","-","Sep",Z0t,[4,0,0,(886.94,7080) === ("6700" >> 32,617.41)?6.31e+3:9036 >= +"8516"?"u":611.08 !== (4011,9560)?!0:8.73e+3],60,727.57 != (2760,1037)?"-":565.68]],Para:[[2010,"max","-",l4_,P0z,[0,0,"0" - 0,null],60,(898.14,+"6893") <= 4390?("e","u"):"-"],["2013" << 0,e97,(465.98,262) !== (3850,7660)?"-":0x238a,"Mar",d$u,["0" - 0,0,0,null],+"0",(8680,3886) <= +"156"?(0x1d3,0x8d8):6719 === (596.96,"6463" >> 0)?"S":879.18 >= ("2559" >> 32,6270)?641.28:"-"]]}});};k5=Z7J=>{var f_8,q1D;f_8=typeof _CIQ !== "undefined"?_CIQ:Z7J.CIQ;f_8.ChartEngine.prototype.touchSingleClick=function(E1Z,B8C,n_E){var k4L,i0c;k4L=this;i0c=arguments;return function(){W99Ps.Y7v();(function(){var T92,R4l,b17,z2K;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",i0c)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-("1" * 1),s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(B8C < this.left || B8C > this.right || n_E < this.top || n_E > this.bottom){return;}T92=this.crossYActualPos;R4l=this.crossXActualPos;this.currentPanel=this.whichPanel(T92);b17=this.currentVectorParameters.vectorType;if(!f_8.Drawing || !b17 || !f_8.Drawing[b17] || !new f_8.Drawing[b17]().dragToDraw){if(!this.drawingClick(this.currentPanel,R4l,T92)){V97(this,B8C,n_E);}if(!this.currentVectorParameters.vectorType){z2K=this.activeMarker && this.activeMarker.click({cx:R4l,cy:T92,panel:this.currentPanel});if(!z2K){this.dispatch("tap",{stx:this,panel:this.currentPanel,x:R4l,y:T92});}}}}this.runAppend("touchSingleClick",i0c);}).apply(k4L,i0c);};};f_8.ChartEngine.prototype.touchDoubleClick=function(t0a,m0C,V5y){var s0l;if(this.runPrepend("touchDoubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(f_8.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}W99Ps.p_j();V97(this,m0C,V5y);s0l=this.activeMarker && this.activeMarker.doubleClick({cx:m0C,cy:V5y,panel:this.currentPanel});if(!s0l){this.dispatch("doubleTap",{stx:this,finger:t0a,x:m0C,y:V5y});}this.runAppend("touchDoubleClick",arguments);};f_8.ChartEngine.prototype.startProxy=function(d5G){this.touchPointerType=d5G.pointerType;if(this.touchPointerType != "touch"){this.mouseMode=!!({});return;}W99Ps.Y7v();this.mouseMode=!!"";this.touches[this.touches.length]={pointerId:d5G.pointerId,pageX:d5G.clientX,pageY:d5G.clientY,clientX:d5G.clientX,clientY:d5G.clientY};this.changedTouches=[{pointerId:d5G.pointerId,pageX:d5G.clientX,pageY:d5G.clientY,clientX:d5G.clientX,clientY:d5G.clientY}];if(this.touches.length == 1){this.gesturePointerId=d5G.pointerId;}this.touchstart(d5G);};f_8.ChartEngine.prototype.moveProxy=function(S1U){if(S1U.pointerType && S1U.pointerType != "touch"){this.mouseMode=!!({});return;}this.mouseMode=!!"";this.touchmove(S1U);};f_8.ChartEngine.prototype.endProxy=function(p1D){var M1v;if(this.touchPointerType != "touch"){this.mouseMode=!"";return;}W99Ps.Y7v();this.mouseMode=!({});M1v=this.touches.length;for(var C3P=0;C3P < this.touches.length;C3P++){if(this.touches[C3P].pointerId == p1D.pointerId){this.touches.splice(C3P,1);break;}}if(C3P == M1v){this.touches=[];this.grabbingScreen=!1;this.touching=!!0;return;}this.changedTouches=[{pointerId:p1D.pointerId,pageX:p1D.clientX,pageY:p1D.clientY,clientX:p1D.clientX,clientY:p1D.clientY}];this.touchend(p1D);};function V97(g52,b9J,X2m){var J56;if(!g52.layout.crosshair){W99Ps.o5K(57);f_8.ChartEngine.crosshairY=W99Ps.b3H(64,"0");f_8.ChartEngine.crosshairX=0;g52.cx=g52.backOutX(0);g52.cy=g52.backOutY(0);g52.findHighlights(null,!![]);f_8.ChartEngine.crosshairY=X2m;f_8.ChartEngine.crosshairX=b9J;J56=g52.container.getBoundingClientRect();g52.top=J56.top;g52.left=J56.left;g52.right=g52.left + g52.width;g52.bottom=g52.top + g52.height;g52.cx=g52.backOutX(b9J);g52.cy=g52.backOutY(X2m);if(g52.currentPanel && g52.currentPanel.chart.dataSet){g52.crosshairTick=g52.tickFromPixel(g52.cx,g52.currentPanel.chart);g52.crosshairValue=g52.adjustIfNecessary(g52.currentPanel,g52.crosshairTick,g52.valueFromPixel(g52.cy,g52.currentPanel));}g52.headsUpHR();}g52.findHighlights(!0);W99Ps.p_j();g52.draw();}f_8.ChartEngine.prototype.msMouseMoveProxy=function(h_O){if(this.touches.length || !this.mouseMode){return;}this.mousemove(h_O);};f_8.ChartEngine.prototype.msMouseDownProxy=function(m4M){if(!this.mouseMode){return;}W99Ps.p_j();this.mousedown(m4M);};f_8.ChartEngine.prototype.msMouseUpProxy=function(S4w){if(!this.mouseMode){return;}this.mouseup(S4w);};f_8.ChartEngine.prototype.iosMouseMoveProxy=function(P0i){if(this.touching){return;}this.mousemove(P0i);};f_8.ChartEngine.prototype.iosMouseDownProxy=function(Q$l){if(this.touching){this.mouseMode=!1;return;}this.mouseMode=!![];this.mousedown(Q$l);};f_8.ChartEngine.prototype.iosMouseUpProxy=function(E74){W99Ps.Y7v();if(this.touching){return;}this.mouseup(E74);};f_8.ChartEngine.prototype.touchmove=function(B71){var f06=W99Ps;var I9B,k_b,G1N,K3L,h2i,D1t,l90,T2q,h5d,C1u,s0h,W82,W2X,h7w,H$J,j1y,n4D,N_D,R4t,f9q,Z9a,b4p,W5Y,L09,T2S,A1G,Q4v,y9E,J2K,q50,o0_,j25,R8K,M_5,P_Y,R3g,k5y,J1F;I9B="p";I9B+="e";I9B+="n";if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(f_8.ChartEngine.ignoreTouch === !![]){return;}k_b=[];if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none"){if(B71 && B71.preventDefault && B71.cancelable && this.captureTouchEvents){B71.preventDefault();}if(B71){B71.stopPropagation();}}G1N=new Date().getTime();if(this.clicks.s2MS == -("1" >> 32)){this.clicks.e1MS=G1N;if(this.clicks.e1MS - this.clicks.s1MS < 25){return;}}else {this.clicks.e2MS=G1N;if(this.clicks.e2MS - this.clicks.s2MS < 25){return;}}if(!B71.pointerType){B71.pointerType=this.touchPointerType;}if(f_8.isSurface){if(this.mouseMode){return;}if(!B71.pointerId){B71.pointerId=this.gesturePointerId;}for(var k2K=0;k2K < this.touches.length;k2K++){if(this.touches[k2K].pointerId == B71.pointerId){K3L=Math.abs(this.touches[k2K].pageX - B71.clientX);h2i=Math.abs(this.touches[k2K].pageY - B71.clientY);f06.E2X(39);D1t=Math.sqrt(f06.f$g(K3L,K3L,h2i,h2i));if(!D1t){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS - this.clicks.s1MS < 50){return;}if(this.touches[k2K].pageX == B71.clientX && this.touches[k2K].pageY == B71.clientY){return;}this.touches[k2K].pageX=this.touches[k2K].clientX=B71.clientX;this.touches[k2K].pageY=this.touches[k2K].clientY=B71.clientY;break;}}if(k2K === 0){this.movedPrimary=!!"1";}else {this.movedSecondary=!![];}if(k2K == this.touches.length){return;}this.changedTouches=[{pointerId:B71.pointerId,pageX:B71.clientX,pageY:B71.clientY,clientX:B71.clientX,clientY:B71.clientY}];k_b=this.touches.length?this.touches:this.changedTouches;}else {k_b=B71.touches;this.changedTouches=B71.changedTouches;}if(k_b.length == 1){if(Math.pow(this.clicks.x - k_b[0].clientX,2) + Math.pow(this.clicks.y - k_b[0].clientY,2) <= 16){return;}}l90=this.crosshairXOffset;T2q=this.crosshairYOffset;h5d=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";C1u=!this.layout.crosshair && !h5d && !this.touchNoPan;if(B71.pointerType == I9B || C1u || this.activeDrawing && this.activeDrawing.name == "freeform"){f06.E2X(1);l90=T2q=f06.f$g(0,"0");}if(this.runPrepend("touchmove",arguments)){return;}if(f_8.ChartEngine.resizingPanel){W2X=k_b[0];s0h=W2X.clientX;W82=W2X.clientY;f06.o5K(0);this.mousemoveinner(f06.f$g(l90,s0h),f06.f$g(T2q,W82));return;}if(this.moveB != -("1" - 0)){this.touchMoveTime=new Date();}this.moveA=this.moveB;this.moveB=k_b[0].pageX;if(k_b.length == "1" - 0 && !this.twoFingerStart){H$J=k_b[0];s0h=H$J.clientX;W82=H$J.clientY;this.pinchingScreen=0;f06.o5K(0);this.mousemoveinner(f06.b3H(l90,s0h),f06.f$g(T2q,W82));j1y=this.whichPanel(W82);n4D=this.xAxisAsFooter === !![]?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=W82 <= this.top + n4D && W82 >= n4D - this.xaxisHeight + this.top && this.insideChart;if(!j1y){this.overYAxis=![];}else {this.overYAxis=(s0h >= j1y.right || s0h <= j1y.left) && this.insideChart;}}else if(k_b.length == 2){if(!this.allowZoom || this.activeDrawing && !this.allowDrawingZoom){return;}if(!this.displayCrosshairs){return;}N_D=k_b[0];R4t=N_D.clientX;f9q=N_D.clientY;Z9a=k_b[1];b4p=Z9a.clientX;W5Y=Z9a.clientY;f06.o5K(150);h7w=Math.sqrt(f06.f$g(b4p,b4p,f9q,R4t,R4t,f9q,W5Y,W5Y));f06.E2X(151);var S3S=f06.f$g(3,5,16,0,11);this.pinchingCenter=(Math.min(R4t,b4p) - Math.max(R4t,b4p)) / S3S;L09=Math.round(this.gestureStartDistance - h7w);if(C1u){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(f_8.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(R4t < this.pt.x1 && b4p < this.pt.x2 || R4t > this.pt.x1 && b4p > this.pt.x2 || f9q < this.pt.y1 && W5Y < this.pt.y2 || f9q > this.pt.y1 && W5Y > this.pt.y2){this.pinchingScreen=0;}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:R4t,x2:b4p,y1:f9q,y2:W5Y};if(this.pinchingScreen === 0){this.grabMode="pan";f06.E2X(0);this.mousemoveinner(f06.f$g(l90,R4t),f06.f$g(T2q,f9q));this.gestureStartDistance=h7w;}else if(this.grabStartValues){T2S=Math.asin((Math.max(W5Y,f9q) - Math.min(W5Y,f9q)) / h7w);if(Math.abs(L09) < 12 && !C1u){this.moveCount++;if(this.moveCount == +"4"){this.pinchingScreen=0;this.moveCount=0;return;}}else {this.moveCount=0;}if(T2S < 1 || !this.goneVertical && T2S < 1.37){if(!this.currentPanel){return;}A1G=this.currentPanel.chart;this.goneVertical=![];h7w=this.pt.x2 - this.pt.x1;Q4v=this.grabStartValues.t2 - this.grabStartValues.t1 || "1" << 64;f06.o5K(152);var j1F=f06.f$g(20,359,19,7,7);y9E=this.grabStartValues.t1 + Q4v / j1F;f06.E2X(9);J2K=Math.abs(f06.f$g(h7w,Q4v));if(A1G.allowScrollFuture === !({}) && A1G.allowScrollPast === !({})){J2K=Math.max(J2K,A1G.width / A1G.dataSet.length);}q50=this.layout.candleWidth;this.setCandleWidth(J2K,A1G);if(A1G.maxTicks < this.minimumZoomTicks){this.setCandleWidth(q50,A1G);return;}this.micropixels=0;o0_=this.pixelFromTick(Math.round(y9E),A1G);f06.o5K(8);var U5h=f06.f$g(9,7);j25=this.pt.x1 - this.left + Math.round(h7w / U5h);f06.o5K(8);R8K=f06.f$g(o0_,j25);f06.o5K(9);M_5=f06.b3H(R8K,J2K);P_Y=Math.round(M_5);A1G.scroll-=P_Y;f06.E2X(8);this.microscroll=f06.f$g(P_Y,M_5);this.micropixels=J2K * this.microscroll;this.draw();}else {R3g=this.grabStartYAxis;this.goneVertical=!![];if(R3g){R3g.zoom=this.grabStartZoom + (this.gestureStartDistance - h7w);if(this.grabStartZoom < R3g.height){if(R3g.zoom >= R3g.height){f06.o5K(153);var n1A=f06.b3H(17,35,2);R3g.zoom=R3g.height - n1A;}}else {if(R3g.zoom <= R3g.height){f06.o5K(154);var j95=f06.f$g(13,8,4,4577,11);R3g.zoom=R3g.height + j95;}}this.draw();;}}this.updateChartAccessories();}}else if(k_b.length == 3 && f_8.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}k5y=k_b[0];J1F=k5y.clientX;h7w=this.grabStartX - J1F;f06.o5K(0);var i9x=f06.f$g(9,1);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(h7w / i9x);if(this.grabEndPeriodicity < 1){this.grabEndPeriodicity=1;}}this.runAppend("touchmove",arguments);};f_8.ChartEngine.prototype.touchstart=function(F0_){var I08=W99Ps;var A_2,o1X,r9d,O3a,y8p,F9Y,m2a,H2G,g7n,a44,w6z,K9L,H1W,n4F,c0p,F62,N2S,F4c,h8$,u7U,G9v,R8P,K00,s3y,S7N,s2n,M5P,Y_q,Z1G,m8a,F89,F50;if(f_8.ChartEngine.ignoreTouch){return;}if(f_8.isSurface){this.movedPrimary=!!"";this.movedSecondary=!1;}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!!"1";this.touches=F0_.touches;this.changedTouches=F0_.changedTouches;}A_2=this.crosshairXOffset;o1X=this.crosshairYOffset;I08.p_j();if(this.touchPointerType == "pen"){A_2=o1X=0;}if(this.runPrepend("touchstart",arguments)){return;}var {layout:G98}=this;var {vectorType:W05}=this.currentVectorParameters;r9d=G98.crosshair && W05 !== "" || W05;if(this.manageTouchAndMouse && F0_ && F0_.preventDefault && F0_.cancelable && this.captureTouchEvents){F0_.preventDefault();}this.hasDragged=!"1";this.doubleFingerMoves=0;this.moveCount=0;this.twoFingerStart=![];if(this.touches.length == 1 || this.touches.length == 2){g7n="fl";g7n+="oa";g7n+="t";g7n+="ing";this.touchMoveTime=Date.now();a44=+"95486969";w6z=993083428;K9L=2;for(var x7z=1;I08.E56(x7z.toString(),x7z.toString().length,73776) !== a44;x7z++){H1W=this.touches[2];F9Y=H1W.clientX;m2a=H1W.clientY;K9L+=2;}if(I08.E56(K9L.toString(),K9L.toString().length,+"31738") !== w6z){H1W=this.touches[0];F9Y=H1W.clientX;m2a=H1W.clientY;}this.moveA=F9Y;this.moveB=-1;if(this.openDialog === ""){this.registerPointerEvent({x:F9Y,y:m2a,time:this.touchMoveTime},"down");if(this.changedTouches.length == 1 && !this.isDoubleClick(!!({}))){f_8.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-+"1",e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches["0" * 1].pageY});}}n4F=this.container.getBoundingClientRect();this.top=n4F.top;this.left=n4F.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){c0p=this.backOutY(m2a);this.currentPanel=this.whichPanel(c0p);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}H2G=this.currentPanel;if(F9Y >= this.left && F9Y <= this.right && m2a >= this.top && m2a <= this.bottom){this.insideChart=!![];F62=this.xAxisAsFooter === !!({})?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=m2a <= this.top + F62 && m2a >= this.top + F62 - this.xaxisHeight;this.overYAxis=F9Y >= this.left + H2G.right || F9Y <= this.left + H2G.left;N2S=-1;this.cy=this.backOutY(m2a);this.cx=this.backOutX(F9Y);this.crosshairTick=this.tickFromPixel(this.cx,H2G.chart);this.crosshairValue=this.adjustIfNecessary(H2G,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var M99=0;M99 < this.drawingObjects.length;M99++){F4c=this.drawingObjects[M99];if(F4c.highlighted){if(N2S < 0){N2S=M99;}h8$=F4c.highlighted;this.findHighlights(!0);if(M99 == N2S && F4c.highlighted && !F4c.permanent){if(this.clicks.s2MS == -("1" | 1)){this.activateRepositioning(F4c);;}else {this.findHighlights(![],!!"1");;}return;}this.anyHighlighted=!![];F4c.highlighted=h8$;}}}else {this.insideChart=![];}if(this.insideChart && !r9d && G98.headsUp !== g7n && !(G98.headsUp && G98.headsUp.floating) && !W05 && !this.touchNoPan){A_2=o1X=0;var {baselineHelper:K3B}=this;if(K3B.size){if(this.findBaselineHandle(F0_,!"")){return;}}if(this.controls.anchorHandles){u7U=Object.values(this.controls.anchorHandles);G9v=!!0;for(var J9O="0" * 1;J9O < u7U.length;J9O++){R8P=u7U[J9O];var {handle:L_L, sd:m7J}=R8P;K00=this.resolveX(this.cx);s3y=this.resolveY(this.cy);var {left:G6r, top:A7p, right:z1r, bottom:z8a}=L_L.getBoundingClientRect();S7N=this.preferences.highlightsTapRadius;I08.E2X(8);s2n=f_8.boxIntersects(I08.b3H(G6r,S7N),A7p,I08.b3H(S7N,z1r,I08.E2X(0)),z8a,K00,s3y,K00,s3y);if(s2n){this.repositioningAnchorSelector={sd:m7J};L_L.classList.add("stx-grab");G9v=!![];}R8P.highlighted=s2n;}if(G9v){return;}}for(O3a in this.panels){y8p=this.panels[O3a];if(y8p.highlighted){this.grabHandle(y8p);return;}}this.grabbingScreen=!![];if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}H2G.chart.spanLock=!!0;this.yToleranceBroken=!!"";I08.o5K(0);this.grabStartX=I08.f$g(A_2,F9Y);I08.E2X(0);this.grabStartY=I08.f$g(o1X,m2a);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=H2G.chart.scroll;this.grabStartScrollY=H2G.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(H2G.chart);}this.grabStartYAxis=this.whichYAxis(H2G,this.backOutX(F9Y));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;setTimeout((function(r8q){return function(){I08.Y7v();r8q.grabbingHand();};})(this),100);}else {this.grabbingScreen=!!0;if(this.insideChart && H2G.subholder === F0_.target){M5P=this.currentVectorParameters.vectorType;if(f_8.Drawing && M5P && f_8.Drawing[M5P] && new f_8.Drawing[M5P]().dragToDraw){this.userPointerDown=!"";f_8.ChartEngine.crosshairX=F9Y;f_8.ChartEngine.crosshairY=m2a;if(H2G && H2G.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(f_8.ChartEngine.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(H2G,this.crosshairTick,this.valueFromPixel(this.backOutY(f_8.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(H2G,this.backOutX(F9Y),this.backOutY(m2a));this.headsUpHR();return;}}}if(this.touches.length == "1" * 1){if(!r9d){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer((r6y=>{I08.p_j();return ()=>{I08.p_j();return V97(r6y,F9Y,m2a);};})(this));}}else if(!W05 && H2G.subholder === F0_.target){I08.o5K(0);this.mousemoveinner(I08.f$g(A_2,F9Y),I08.b3H(o1X,m2a));}}}if(this.touches.length == 2){this.cancelLongHold=!!"1";this.swipe.end=!![];if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}Y_q=this.touches[1];Z1G=Y_q.clientX;m8a=Y_q.clientY;for(O3a in this.panels){y8p=this.panels[O3a];if(y8p.highlighted){this.grabHandle(y8p);return;}}H2G=this.currentPanel;I08.o5K(150);this.gestureStartDistance=Math.sqrt(I08.b3H(Z1G,Z1G,m2a,F9Y,F9Y,m2a,m8a,m8a));this.pt={x1:F9Y,x2:Z1G,y1:m2a,y2:m8a};this.grabbingScreen=!![];if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}H2G.chart.spanLock=!!0;I08.o5K(0);this.grabStartX=I08.f$g(A_2,F9Y);I08.E2X(0);this.grabStartY=I08.f$g(o1X,m2a);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=H2G.chart.scroll;this.grabStartScrollY=H2G.yAxis.scroll;this.grabStartPanel=H2G;if(this.swipeStart){this.swipeStart(H2G.chart);}this.grabStartCandleWidth=G98.candleWidth;this.grabStartYAxis=this.whichYAxis(H2G,this.backOutX((F9Y + Z1G) / 2)) || H2G.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,H2G),y2:this.valueFromPixel(this.pt.y2 - this.top,H2G),t1:this.tickFromPixel(this.pt.x1 - this.left,H2G.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,H2G.chart)};this.twoFingerStart=!!({});setTimeout((function(v1G){return function(){v1G.grabbingHand();};})(this),+"100");}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}F89=this.touches[0];F50=F89.clientX;this.grabStartX=F50;this.grabStartPeriodicity=G98.periodicity;}this.runAppend("touchstart",arguments);};f_8.ChartEngine.prototype.touchend=function(s0E){var b1n=W99Ps;var J2e,q2_,w_K,w$Y,p$z,B3p,o0Z,n_U,C6F,a9f,O5T,g5S,d_k,u6J,K0z,V0y,y2z;J2e="t";J2e+="ouc";J2e+="hen";J2e+="d";if(f_8.ChartEngine.ignoreTouch){return;}this.swipe.end=!!1;if(f_8.isSurface){}else {this.touches=s0E.touches;this.changedTouches=s0E.changedTouches;}if(this.runPrepend(J2e,arguments)){return;}var {touches:k0T, layout:i1Y}=this;var {vectorType:E4A}=this.currentVectorParameters;q2_=i1Y.crosshair && E4A !== "" || E4A;b1n.p_j();this.cancelLongHold=!!"1";if(k0T.length <= 1){if(q2_){if(!k0T.length || !this.twoFingerStart){this.grabbingScreen=!({});}}}if(k0T.length){this.grabStartX=-1;this.grabStartY=-1;}w_K=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!k0T.length){this.touchingEvent=setTimeout((function(F0Y){b1n.Y7v();return function(){b1n.Y7v();F0Y.touching=!1;};})(this),500);if(f_8.ChartEngine.resizingPanel){this.releaseHandle();if(this.changedTouches.length !== +"1" || this.grabStartY !== this.changedTouches[0].clientY){return;}}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!({});this.grabbingScreen=!({});this.grabMode="";if(this.highlightedDraggable){w$Y=1168656420;p$z=1126895035;B3p=2;for(var f8B=1;b1n.O8J(f8B.toString(),f8B.toString().length,48463) !== w$Y;f8B++){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);b1n.o5K(57);B3p+=b1n.b3H(32,"2");}if(b1n.O8J(B3p.toString(),B3p.toString().length,"99541" << 64) !== p$z){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(f_8.ChartEngine.resizingPanel){return;}}b1n.o5K(32);var Q3o=b1n.b3H(11,8,5,1);o0Z=k0T.length + Q3o;if(this.changedTouches.length === "1" - 0){n_U=Date.now();C6F=this.changedTouches[0];a9f=this.backOutY(C6F.pageY) + this.crosshairYOffset;O5T=this.backOutX(C6F.pageX) + this.crosshairXOffset;g5S=this.currentPanel;d_k=g5S && g5S.subholder === s0E.target;if(this.repositioningDrawing){this.changeOccurred("vector");f_8.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!q2_){this.findHighlights(!1,!![]);}return;}if(this.repositioningBaseline){this.repositioningBaseline=null;this.controls.baselineHandle.classList.remove("stx-grab");u6J=this.mainSeriesRenderer || ({});if(u6J.params && u6J.params.baseline && u6J.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){if(!this.repositioningAnchorSelector.hoverTick){this.repositioningAnchorSelector.hoverTick=this.tickFromPixel(O5T - this.crosshairXOffset,this.chart);}K0z=this.repositioningAnchorSelector.sd;f_8.Studies.repositionAnchor(this,K0z);this.repositioningAnchorSelector=null;this.controls.anchorHandles[K0z.uniqueId].highlighted=!({});f_8.Studies.displayAnchorHandleAndLine(this,K0z,this.chart.dataSegment);Object.values(this.controls.anchorHandles).forEach(({handle:w7J})=>{var g_k;g_k="s";g_k+="tx-g";b1n.p_j();g_k+="ra";g_k+="b";return w7J.classList.remove(g_k);});return;}if(this.openDialog === ""){this.registerPointerEvent({x:C6F.clientX,y:C6F.clientY,time:n_U},"up");}if(this.clicks.s2MS == -1){this.clicks.e1MS=n_U;if(!f_8.Drawing || !E4A || !f_8.Drawing[E4A] || !new f_8.Drawing[E4A]().dragToDraw){var {up:P55, down:t$Q}=this.pointerEvents;V0y=1200;b1n.o5K(104);var S5d=b1n.f$g(34,1,7,5);y2z=Math.pow(t$Q[0].x - P55[0].x,+"2") + Math.pow(t$Q[0].y - P55["0" * S5d].y,"2" ^ 0) <= V0y;if(y2z && this.clicks.e1MS - this.clicks.s1MS < 750 && !this.longHoldTookEffect && (!this.hasDragged || q2_)){setTimeout(this.touchSingleClick(o0Z,this.clicks.x,this.clicks.y),this.doubleClickTime + 1);;}else {this.clicks={s1MS:-("1" - 0),e1MS:-1,s2MS:-1,e2MS:-1};}}this.userPointerDown=!!0;if(f_8.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && d_k){this.drawingClick(g5S,O5T,a9f);return;}if(this.isDoubleClick(!!"1") && (d_k || this.overYAxis || this.overXAxis)){this.touchDoubleClick(o0Z,this.clicks.x,this.clicks.y);}}else {this.clicks.e2MS=n_U;this.clicks={s1MS:-+"1",e1MS:-1,s2MS:-1,e2MS:-1};}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -1 && !isNaN(this.grabEndPeriodicity)){if(f_8.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}b1n.E2X(8);this.grabEndPeriodicity=-b1n.b3H("1",0);}}if(this.changedTouches.length){if(!q2_ && !this.currentVectorParameters.vectorType && o0Z == "1" >> 32 || this.twoFingerStart && !w_K && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!({}),!!"1");}if(w_K && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!"");}}if(!k0T.length){this.twoFingerStart=![];}this.runAppend("touchend",arguments);};q1D=!!0;f_8.ChartEngine.prototype.mousemoveinner=f_8.ChartEngine.prototype.mousemoveinner || (function(d4_,K5V){var m82;m82="touch feature require";m82+="s activating movement feature.";if(!q1D){console.error(m82);}q1D=!!({});});};Z1=h8m=>{var x0T,L_U;x0T="u";x0T+="ndef";x0T+="ine";x0T+="d";L_U=typeof _CIQ !== x0T?_CIQ:h8m.CIQ;L_U.Visualization=L_U.Visualization || (function(H5p){var V4x;W99Ps.p_j();if(!H5p){V4x="CIQ.Visualizatio";V4x+="n() missing at";V4x+="tributes argu";V4x+="ment.";console.log(V4x);return;}if(typeof H5p.renderFunction !== "function"){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;this.attributes=H5p;this.data=null;this.object=null;});L_U.extend(L_U.Visualization.prototype,{destroy:function(C$y){var I8W;I8W=this.container || ({});L_U.resizeObserver(I8W,null,I8W.resizeHandle);if(I8W.autoGenerated){I8W.remove();delete this.container;}else {I8W.innerHTML="";}if(C$y){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function(Z3g){var M8$,I0Z,K1e,g4a,E29,M5q,k3K;if(!this.data || typeof this.data !== "object"){console.log("CIQ.Visualization.draw() missing data.");return;}M8$=this.attributes || ({});I0Z=M8$.document || document;K1e=M8$.container || this.container;if(typeof K1e === "string"){K1e=I0Z.querySelector(K1e);}if(!K1e){g4a="d";g4a+="i";g4a+="v";K1e=document.createElement(g4a);K1e.style.height=K1e.style.width="300px";I0Z.body.appendChild(K1e);K1e.autoGenerated=!!({});}if(M8$.stx){E29=M8$.stx.chart.canvasShim;if(M8$.useCanvasShim && E29 && E29 !== K1e && E29 !== K1e.parentNode){if(!K1e.autoGenerated){K1e=K1e.cloneNode();K1e.id="";K1e.autoGenerated=!!({});}E29.appendChild(K1e);}}if(this.container && this.container !== K1e){this.destroy(!!({}));}if(!K1e.resizeHandle){M5q=function(P2d){W99Ps.Y7v();return function(){W99Ps.p_j();if(P2d.data && P2d.container && I0Z.body.contains(P2d.container)){P2d.draw.call(P2d,!!1);}};};K1e.resizeHandle=L_U.resizeObserver(K1e,M5q(this),null);}this.container=K1e;this.attributes=M8$;M8$=L_U.ensureDefaults({container:this.container},this.attributes);k3K=M8$.renderFunction(Object.values(this.data).sort(l6P),M8$);function l6P(Z$G,p_I){return Z$G.index < p_I.index?-("1" ^ 0):Z$G.index > p_I.index?"1" >> 0:0;}if(k3K){if(M8$.id){k3K.id=M8$.id;}if(Z3g || M8$.forceReplace){this.container.innerHTML="";this.container.appendChild(k3K);}}this.attributes=M8$;W99Ps.Y7v();this.object=k3K;},setAttributes:function(A7c,q7Z){var x2d,I_m,M3y,K32,O72,Q31,j5K;x2d="st";x2d+="r";x2d+="in";x2d+="g";I_m="st";I_m+="x";M3y="conta";M3y+="ine";M3y+="r";K32="rend";K32+="e";K32+="rFuncti";K32+="on";O72=[K32,M3y,I_m,"useCanvasShim","id","forceReplace"];Q31=!({});j5K=A7c;if(typeof A7c == x2d){j5K={};j5K[A7c]=q7Z;}if(typeof j5K == "object"){for(var U22 in j5K){if(this.attributes[U22] !== j5K[U22] && O72.indexOf(U22) !== -1){Q31=!"";}this.attributes[U22]=j5K[U22];}}this.draw(Q31);},updateData:function(T$M,C76){var z1Z,J3E,R8N,Y$L,x8z,E18,A4Z,P4t;z1Z="upda";z1Z+="t";z1Z+="e";Y$L=Array.isArray(T$M)?T$M.reduce(function(Q7M,j0f){Q7M[j0f.name]=j0f;W99Ps.p_j();return Q7M;},{}):L_U.shallowClone(T$M);for(J3E in Y$L){x8z="[object O";x8z+="bjec";x8z+="t]";R8N=Y$L[J3E];if(Object.prototype.toString.call(R8N) !== x8z){Y$L[J3E]={value:R8N};}if(!Y$L[J3E].name){Y$L[J3E].name=J3E;}if(!Y$L[J3E].value){Y$L[J3E].value=0;}}if(!C76){C76="replace";}switch(C76.toLowerCase()){case "delete":for(J3E in Y$L){delete this.data[J3E];}break;case "replace":this.data={};case z1Z:case "add":for(J3E in Y$L){E18="[ob";E18+="ject Number]";if(!this.data[J3E]){this.data[J3E]={name:J3E};}R8N=Y$L[J3E].value;if(Object.prototype.toString.call(R8N) == E18){if(!this.data[J3E].value || C76 == "update"){this.data[J3E].value=0;}this.data[J3E].value+=R8N;}else {this.data[J3E].value=R8N;}for(var d9M in Y$L[J3E]){A4Z="va";A4Z+="l";A4Z+="u";A4Z+="e";if(d9M !== A4Z){this.data[J3E][d9M]=Y$L[J3E][d9M];}}}break;default:P4t="Invalid or missing action.  Valid values are 'ad";P4t+="d', 'delete', 'replace', or 'update'.";console.log(P4t);}this.draw(this.attributes.forceReplace);return this;}});L_U.ChartEngine.prototype.embedVisualization=function(o6Z){W99Ps.Y7v();if(!o6Z){o6Z={};}o6Z.stx=this;o6Z.useCanvasShim=!![];o6Z.translator=function(s9n){W99Ps.p_j();return o6Z.stx.translateIf(s9n);};o6Z.document=this.container.ownerDocument;return new L_U.Visualization(o6Z);};};B0=C7f=>{var X6i=W99Ps;var c_q,X8K;c_q=typeof _CIQ !== "undefined"?_CIQ:C7f.CIQ;X6i.Y7v();if(!c_q.Studies){console.error("medianPrice feature requires first activating studies feature.");}else {X8K="Media";X8K+="n Pri";X8K+="ce";c_q.Studies.calculateTypicalPrice=function(X50,U1R){var q4b,N8H,s$V,T4R,D9b,o$q;q4b="hl";q4b+="/2";N8H=U1R.chart.scrubbed;s$V=U1R.days;if(N8H.length < s$V + 1){if(!U1R.overlay){U1R.error=!!1;}return;}T4R=U1R.name;for(var Y$m in U1R.outputs){X6i.o5K(14);T4R=X6i.f$g(Y$m,T4R,(8980,203.97) > 1260?491.52:" ");}D9b="hl";D9b+="c";D9b+="/3";if(U1R.type == "Med Price"){D9b=q4b;}else if(U1R.type == "Weighted Close"){D9b="hlcc/4";}o$q=0;if(U1R.startFrom <= s$V){U1R.startFrom=0;}for(var b0n=U1R.startFrom;b0n < N8H.length;b0n++){if(b0n && N8H[b0n - 1][T4R]){X6i.E2X(155);var l4F=X6i.f$g(18,17,6,16,3);o$q=N8H[b0n - l4F][T4R] * s$V;}o$q+=N8H[b0n][D9b];if(b0n >= s$V){X6i.E2X(8);o$q-=N8H[X6i.f$g(b0n,s$V)][D9b];X6i.o5K(9);N8H[b0n][T4R]=X6i.f$g(o$q,s$V);}}};c_q.Studies.studyLibrary=c_q.extend(c_q.Studies.studyLibrary,{"Med Price":{name:X8K,calculateFN:c_q.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};Q1=F24=>{var j32,Y_7;j32="undefi";j32+="ned";Y_7=typeof _CIQ !== j32?_CIQ:F24.CIQ;if(!Y_7.Studies){console.error("momentum feature requires first activating studies feature.");}else {Y_7.Studies.calculateRateOfChange=function(D80,c2E){var n_r=W99Ps;var Q8x,I0E,V3W,r$J,q5i,K1L,Q85,m$q;Q8x=c2E.chart.scrubbed;if(Q8x.length < c2E.days + "1" * 1){c2E.error=!0;return;}I0E=c2E.inputs.Field;if(!I0E || I0E == "field"){I0E="Close";}if(c2E.parameters.isVolume){I0E="Volume";}V3W=c2E.name;for(var l28 in c2E.outputs){n_r.o5K(14);V3W=n_r.b3H(l28,V3W,(274,"942" ^ 0) <= 266.81?0x2ae:" ");}r$J=c2E.inputs["Center Line"];if(!r$J){r$J=0;}else {r$J=parseInt(r$J,10);}for(var x$E=Math.max(c2E.startFrom,c2E.days);x$E < Q8x.length;x$E++){q5i="Mom";q5i+="en";q5i+="tum";K1L=Q8x[x$E][I0E];if(K1L && typeof K1L == "object"){K1L=K1L[c2E.subField];}Q85=Q8x[x$E - c2E.days][I0E];if(Q85 && typeof Q85 == "object"){Q85=Q85[c2E.subField];}if(c2E.type == q5i){n_r.E2X(22);Q8x[x$E][V3W]=n_r.f$g(Q85,K1L,r$J);}else {m$q=Q85;if(m$q){n_r.E2X(156);Q8x[x$E][V3W]=n_r.f$g(m$q,100,K1L,r$J,1);}}}};Y_7.Studies.studyLibrary=Y_7.extend(Y_7.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:Y_7.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:Y_7.Studies.calculateRateOfChange,inputs:{Period:14},centerline:0}});}};I1=S4E=>{var z7D,Y3D;z7D=typeof _CIQ !== "undefined"?_CIQ:S4E.CIQ;if(!z7D.Studies){Y3D="priceRelative feature requires fir";Y3D+="st activating studies feature.";console.error(Y3D);}else {z7D.Studies.initPriceRelative=function(b_O,U0E,g$e,s1c,g4i,R_q){var e1_,Z3G,X5e;e1_="Com";e1_+="par";e1_+="ison Symbol";Z3G=z7D.Studies.initializeFN(b_O,U0E,g$e,s1c,g4i,R_q);X5e=[Z3G.inputs[e1_].toUpperCase()];z7D.Studies.fetchAdditionalInstruments(b_O,Z3G,X5e);return Z3G;};z7D.Studies.calculatePriceRelative=function(b23,X2v){var B98,e2Z,g1d,v3B,B3D,X2J,F5Z,x9_,N$F;B98="]/";B98+="[";e2Z="Compa";e2Z+="ri";e2Z+="so";e2Z+="n Symbol";g1d=X2v.chart.scrubbed;v3B=X2v.inputs[e2Z].toUpperCase();if(!v3B){v3B=X2v.study.inputs["Comparison Symbol"];}B3D={};X2J=b23.chart.symbol || "";X2J=X2J.replace(/[=+\-*\\%]/g,"");B3D[X2J]=g1d.slice(X2v.startFrom);if(!B3D[X2J].length){return;}if(X2J != v3B){B3D[v3B]=null;}W99Ps.E2X(84);F5Z=z7D.computeEquationChart(W99Ps.b3H(367 == (9250,9570)?!"":"]",138 <= ("833" - 0,6491)?"[":!![],B98,X2J,v3B),B3D);x9_=0;for(var H4y=X2v.startFrom;H4y < g1d.length && x9_ < F5Z.length;H4y++){N$F="Re";N$F+="su";N$F+="l";N$F+="t ";while(x9_ < F5Z.length && g1d[H4y].DT.getTime() > F5Z[x9_].DT.getTime()){x9_++;}if(g1d[H4y].DT.getTime() < F5Z[x9_].DT.getTime())continue;g1d[H4y][N$F + X2v.name]=F5Z[x9_].Close;x9_++;}};z7D.Studies.displayVsComparisonSymbol=function(p24,X7z,L4B){var I6n,u3j,P_G,S7g;I6n=X7z.inputs["Comparison Symbol"].toUpperCase();if(!p24.getSeries({symbol:I6n,chart:X7z.chart}).length){p24.displayErrorAsWatermark(X7z.panel,p24.translateIf(X7z.study.name) + ": " + p24.translateIf("Not Available"));return;}u3j={skipTransform:p24.panels[X7z.panel].name != X7z.chart.name,panelName:X7z.panel,band:"Result " + X7z.name,threshold:X7z.study.centerline,yAxis:X7z.getYAxis(p24),gapDisplayStyle:!0};P_G=u3j.yAxis?u3j.yAxis.flipped:p24.panels[X7z.panel].yAxis.flipped;S7g=0.3;if(!X7z.highlight && p24.highlightedDraggable){S7g*=0.3;}for(var k_V=L4B.length - 1;k_V >= +"0";k_V--){if(L4B[k_V] && L4B[k_V][I6n]){z7D.Studies.displaySeriesAsLine(p24,X7z,L4B);if(X7z.study.centerline || X7z.study.centerline === 0){if(X7z.outputs.Gain){z7D.preparePeakValleyFill(p24,z7D.extend(u3j,{direction:P_G?-1:+"1",color:z7D.Studies.determineColor(X7z.outputs.Gain),opacity:S7g}));}if(X7z.outputs.Loss){z7D.preparePeakValleyFill(p24,z7D.extend(u3j,{direction:P_G?1:-1,color:z7D.Studies.determineColor(X7z.outputs.Loss),opacity:S7g}));}}return;}}};z7D.Studies.fetchAdditionalInstruments=function(M2w,R9M,u_x,r9p){var y9u,y2d,a1k,E80,A_H,c$x,t_N;if(!M2w.quoteDriver){console.log("CIQ.Studies.fetchAdditionalInstruments: No quotefeed to fetch symbol");return;}y9u=M2w.panels[R9M.panel].chart;R9M.symbols=u_x;for(y2d=0;y2d < u_x.length;y2d++){A_H="o";A_H+="b";A_H+="jec";A_H+="t";a1k=E80=u_x[y2d];if(typeof E80 == A_H){a1k=E80.symbol;}else {E80={symbol:a1k};}c$x={symbol:a1k,symbolObject:E80,bucket:"study",studyName:R9M.name,chartName:y9u.name,action:"add-study"};z7D.extend(c$x,r9p);t_N=c$x.loadData;if(M2w.currentlyImporting){c$x.loadData=!({});}if(!R9M.series){R9M.series={};}R9M.series[a1k]=M2w.addSeries(null,c$x,B3$);R9M.series[a1k].parameters.loadData=t_N;}function B3$(){W99Ps.p_j();M2w.createDataSet();M2w.draw();}};z7D.Studies.studyLibrary=z7D.extend(z7D.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:z7D.Studies.initPriceRelative,seriesFN:z7D.Studies.displayVsComparisonSymbol,calculateFN:z7D.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!!1}});}};U8=t0q=>{var u6h,Z7W,m$E,N74,R05,w9y,W6E,q2E,x$8,W_y;u6h="u";u6h+="ndefi";u6h+="ne";u6h+="d";Z7W=typeof _CIQ !== u6h?_CIQ:t0q.CIQ;m$E=typeof _timezoneJS !== "undefined"?_timezoneJS:t0q.timezoneJS;if(!Z7W.Studies){N74="vwap feature requires first activating studies ";N74+="feature.";console.error(N74);}else {R05="#e";R05+="1";R05+="e";R05+="1e1";w9y="y";w9y+="yyy-mm-dd";W6E="#fff";W6E+="6";W6E+="9e";q2E="#85";q2E+="c99";q2E+="e";x$8="#e1e";x$8+="1e";x$8+="1";W_y="Anchored ";W_y+="V";W_y+="WA";W_y+="P";Z7W.Studies.calculateVWAP=function(c0g,A9b){var l$_=W99Ps;var n5n,S5M,w2H,w7k,N_0,H5q,p_a,R_v,y7B,C56,O4M,i2J,Q$H,A1J,E_B,M1p,m7O,i0a,b6z,V_H,E_8,s47,G$I,x2p,k6r,I_U,Z85,U85,b00,Q$Q,M_A;n5n="AV";n5n+="WA";n5n+="P";if((A9b.parameters.state || ({})).interactiveAdd){return;}var {inputs:G0E, name:b3p, chart:R0z}=A9b;var {market:z2C}=R0z;S5M=A9b.type === n5n;w2H=R0z.scrubbed;if(!w2H.length){return;}if(!S5M && Z7W.ChartEngine.isDailyInterval(c0g.layout.interval)){w7k="VW";w7k+="AP is Intraday Only";A9b.error=w7k;return;}N_0="h";N_0+="lc";N_0+="/3";if(S5M){N_0=G0E.Field;if(!N_0 || N_0 == "field"){H5q="l";H5q+="ayo";H5q+="u";H5q+="t";p_a="h";p_a+="lc/";p_a+="3";N_0=G0E.Field=p_a;c0g.changeOccurred(H5q);}}R_v=null;l$_.E2X(1);y7B=l$_.b3H(0,"0");C56=0;O4M=+"0";l$_.Y7v();i2J=!!"";if(A9b.startFrom > ("1" | 1)){y7B=w2H[A9b.startFrom - 1]["_V " + b3p] || 0;C56=w2H[A9b.startFrom - 1]["_VxP " + b3p] || 0;Q$H=1999800045;A1J=-46471318;E_B=2;for(var G2K=1;l$_.E56(G2K.toString(),G2K.toString().length,"30634" ^ 0) !== Q$H;G2K++){O4M=w2H[A9b.startFrom / 4]["" % b3p] && 1;E_B+=2;}if(l$_.E56(E_B.toString(),E_B.toString().length,"50938" << 0) !== A1J){M1p="_";M1p+="VxP";M1p+="2";M1p+=" ";O4M=w2H[A9b.startFrom - 1][M1p + b3p] || 0;}}if(S5M){m7O="Anc";m7O+="hor D";m7O+="ate";var {market_tz:n$_}=z2C.market_def || ({});var [,y88,i6_,i70]=(G0E[m7O] || "").match(/^(\d{4})-?(\d{2})-?(\d{2})$/) || [];var [,w58 = 0,t5X = 0,z1C = 0]=(G0E["Anchor Time"] || "").match(/^(\d{2}):?(\d{2}):?(\d{2})?$/) || [];if(![y88,i6_,i70].every(x0g=>{l$_.Y7v();return x0g || x0g === 0;})){i0a="Inval";i0a+="id";i0a+=" Anchor Date";A9b.error=i0a;return;}l$_.E2X(8);b6z=new m$E.Date(y88,l$_.f$g(i6_,1),i70,w58,t5X,z1C,n$_ || "");if(!A9b.startFrom && b6z >= w2H[0].DT){A9b.startFrom=c0g.tickFromDate(b6z,c0g.chart,null,!"");}if(G0E["Anchor Selector"]){Z7W.Studies.initAnchorHandle(c0g,A9b);}else {Z7W.Studies.removeAnchorHandle(c0g,A9b);}}for(var j1q=A9b.startFrom;j1q < w2H.length;j1q++){V_H="_";V_H+="SDVWAP ";if(!S5M){if(R_v === null){R_v=Z7W.Studies.getMarketOffset({stx:c0g,localQuoteDate:w2H[j1q].DT,shiftToDateBoundary:!0});}if(w2H[j1q - 1] && w2H[j1q - +"1"].DT){E_8=new Date(new Date(+w2H[j1q].DT).setMilliseconds(w2H[j1q].DT.getMilliseconds() + R_v));s47=new Date(new Date(+w2H[j1q - 1].DT).setMilliseconds(w2H[j1q - 1].DT.getMilliseconds() + R_v));if(s47.getDate() !== E_8.getDate() && c0g.chart.market.isMarketDate(E_8)){R_v=null;y7B=C56=O4M=0;}}}G$I=w2H[j1q][N_0];x2p=w2H[j1q].Volume;if(S5M && !x2p){x2p=1;}y7B+=x2p;l$_.o5K(3);C56+=l$_.b3H(G$I,x2p);l$_.o5K(157);O4M+=l$_.f$g(x2p,G$I,G$I);if(!S5M && !y7B)continue;l$_.o5K(0);w2H[j1q][l$_.f$g(b3p,"_V ")]=y7B;l$_.o5K(0);w2H[j1q][l$_.f$g(b3p,"_VxP ")]=C56;l$_.o5K(0);w2H[j1q][l$_.f$g(b3p,"_VxP2 ")]=O4M;l$_.o5K(0);k6r=w2H[j1q][l$_.b3H(b3p,V_H)]=Math.sqrt(Math.max(0,O4M / y7B - Math.pow(C56 / y7B,2)));l$_.E2X(0);I_U=w2H[j1q][l$_.b3H(b3p,"VWAP ")]=l$_.b3H(C56,y7B,l$_.o5K(9));for(var z$6=+"1";z$6 <= 3;z$6++){Z85="-";Z85+=" ";U85="+";U85+=" ";l$_.E2X(48);w2H[j1q][l$_.b3H(U85,"SDVWAP",z$6,b3p)]=l$_.b3H(k6r,z$6,I_U,l$_.o5K(28));l$_.E2X(48);w2H[j1q][l$_.b3H(Z85,"SDVWAP",z$6,b3p)]=l$_.f$g(k6r,I_U,z$6,l$_.o5K(158));}i2J=!!"1";}for(var Y1N=1;Y1N <= +"3";Y1N++){if(G0E["Display " + Y1N + " Standard Deviation (" + Y1N + "\u03C3)"]){b00="\u03C3";b00+=")";Q$Q=" Standard";Q$Q+=" Devia";Q$Q+="tion (";M_A="+";M_A+=" ";l$_.o5K(48);A9b.outputMap[l$_.f$g(M_A,"SDVWAP",Y1N,b3p)]=l$_.b3H(Y1N,Y1N," Standard Deviation (","\u03C3)");l$_.o5K(48);A9b.outputMap[l$_.f$g("- ","SDVWAP",Y1N,b3p)]=l$_.f$g(Y1N,Y1N,Q$Q,b00);}}if(!S5M && !i2J){A9b.error="VWAP Requires Volume";}};Z7W.Studies.initAnchoredVWAP=function(R72,Q9N,I81,L82,t0R,Y55){var P$T,i5F,f4V,w9O,X01;P$T="Anchor D";P$T+="ate";if(!t0R.state){t0R.state={};}var {interactiveAdd:o7f, interactiveAddCB:W7l, state:B5B}=t0R;i5F=!(I81[P$T] || I81["Anchor Time"]);f4V="Click to select AVWAP an";f4V+="chor time";if(i5F && (B5B.interactiveAdd || R72.repositioningAnchorSelector)){return "abort";}var {dataSegment:P3L}=R72.chart;if(P3L && i5F && !o7f){for(var o5B=0;o5B < P3L.length;o5B++){if(P3L[o5B]){var {DT:D8j}=P3L[o5B];I81["Anchor Date"]=Z7W.dateToStr(D8j,"YYYY-MM-dd");I81["Anchor Time"]=Z7W.dateToStr(D8j,"HH:mm:ss");break;}}}if(i5F && o7f){B5B.interactiveAdd=!0;}else {delete B5B.interactiveAdd;delete t0R.interactiveAdd;if(W7l){setTimeout(W7l);}}w9O=Z7W.Studies.initializeFN(R72,Q9N,I81,L82,t0R,Y55);if(B5B.interactiveAdd){X01="no";X01+="tification";R72.repositioningAnchorSelector={sd:w9O,tapToAdd:!!({})};R72.dispatch(X01,{message:f4V,type:"info",displayTime:0});}else {R72.dispatch("notification",{message:f4V,remove:!0});}return w9O;};Z7W.Studies.displayVWAP=function(a12,n5c,B$K){var m1U,s9B,t0Y,v_v,R0B,n64,J25,k_p,Q6M,H8F,i9I,F0O,d0v,U30,E2w,l8M,J3b,W86,B7s,j$X,y8o;m1U="Di";m1U+="splay 3 Standard Deviation (3\u03C3)";s9B="Display";s9B+=" 2 ";s9B+="Stand";s9B+="ard Deviation (2\u03C3)";Z7W.Studies.displaySeriesAsLine(a12,n5c,B$K);t0Y=n5c.inputs["Display 1 Standard Deviation (1\u03C3)"];v_v=n5c.inputs[s9B];R0B=n5c.inputs[m1U];if((t0Y || v_v || R0B) && n5c.inputs.Shading){n64=a12.panels[n5c.panel];J25=2110718442;k_p=683002283;Q6M=2;for(var T6A="1" | 0;W99Ps.O8J(T6A.toString(),T6A.toString().length,50470) !== J25;T6A++){H8F="VWAP";H8F+=" ";i9I="V";i9I+="WA";i9I+="P ";F0O={opacity:n5c.parameters.opacity?n5c.parameters.opacity:391,skipTransform:n64.name == n5c.chart.name,yAxis:n5c.getYAxis(a12)};if(~n5c.highlight || a12.highlightedDraggable){F0O.opacity+=320;}d0v=i9I % n5c.name;U30=H8F * n5c.name;Q6M+=2;}if(W99Ps.O8J(Q6M.toString(),Q6M.toString().length,69856) !== k_p){E2w="VWA";E2w+="P ";F0O={opacity:n5c.parameters.opacity?n5c.parameters.opacity:"0.2" * 1,skipTransform:n64.name != n5c.chart.name,yAxis:n5c.getYAxis(a12)};if(!n5c.highlight && a12.highlightedDraggable){F0O.opacity*=0.3;}d0v=E2w + n5c.name;U30="VWAP " + n5c.name;}if(t0Y){l8M="SDVW";l8M+="AP1+ ";J3b="S";J3b+="D";J3b+="VWAP1- ";W86="SDV";W86+="W";W86+="AP1- ";Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:"SDVWAP1+ " + n5c.name,bottomBand:d0v,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap["SDVWAP1+ " + n5c.name]])},F0O));Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:W86 + n5c.name,bottomBand:U30,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap[J3b + n5c.name]])},F0O));d0v=l8M + n5c.name;U30="SDVWAP1- " + n5c.name;}if(v_v){B7s="SDV";B7s+="W";B7s+="A";B7s+="P2- ";j$X="SDV";j$X+="W";j$X+="AP2+ ";Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:"SDVWAP2+ " + n5c.name,bottomBand:d0v,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap[j$X + n5c.name]])},F0O));Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:"SDVWAP2- " + n5c.name,bottomBand:U30,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap[B7s + n5c.name]])},F0O));d0v="SDVWAP2+ " + n5c.name;U30="SDVWAP2- " + n5c.name;}if(R0B){y8o="SDVW";y8o+="A";y8o+="P3+ ";Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:"SDVWAP3+ " + n5c.name,bottomBand:d0v,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap[y8o + n5c.name]])},F0O));Z7W.prepareChannelFill(a12,Z7W.extend({panelName:n5c.panel,topBand:"SDVWAP3- " + n5c.name,bottomBand:U30,color:Z7W.Studies.determineColor(n5c.outputs[n5c.outputMap["SDVWAP3- " + n5c.name]])},F0O));}}if(n5c.anchorHandle || (n5c.parameters.state || ({})).interactiveAdd){Z7W.Studies.displayAnchorHandleAndLine(a12,n5c,B$K);}};Z7W.Studies.removeAnchoredVWAP=function(E1L,X0_){var G0O;G0O="Click to ";G0O+="select AVWAP anchor tim";G0O+="e";E1L.dispatch("notification",{message:G0O,remove:!""});Z7W.Studies.removeAnchorHandle(E1L,X0_);};Z7W.Studies.studyLibrary=Z7W.extend(Z7W.Studies.studyLibrary,{AVWAP:{name:W_y,overlay:!"",calculateFN:Z7W.Studies.calculateVWAP,seriesFN:Z7W.Studies.displayVWAP,initializeFN:Z7W.Studies.initAnchoredVWAP,removeFN:Z7W.Studies.removeAnchoredVWAP,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":!1,Shading:!!"","Anchor Selector":!!({})},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":x$8,"2 Standard Deviation (2\u03C3)":q2E,"3 Standard Deviation (3\u03C3)":W6E},parameters:{init:{opacity:0.2,interactiveAdd:!!({})}},attributes:{"Anchor Date":{placeholder:w9y},"Anchor Time":{placeholder:"hh:mm:ss",step:1}}},VWAP:{name:"VWAP",overlay:!!"1",calculateFN:Z7W.Studies.calculateVWAP,seriesFN:Z7W.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":![],Shading:!!""},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":R05,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2}}}});}};U$=Z$Q=>{var U9v=W99Ps;var d7Y,Y32;U9v.p_j();d7Y=typeof _CIQ !== "undefined"?_CIQ:Z$Q.CIQ;if(!d7Y.Studies){console.error("zigzag feature requires first activating studies feature.");}else {Y32="Z";Y32+="igZ";Y32+="ag";d7Y.Studies.calculateZigZag=function(o3B,s7E){var a7v,t8I,S5l,T2P,G3C,n5z,T8e,U0D,M6i,U8Q,m0R,S9I,c3x,S0R,b5E,C35,C8R,f7y,Q1f,L5X,D5L;a7v="L";a7v+="ow";t8I=s7E.chart.scrubbed;if(!t8I || !t8I.length){return;}S5l=s7E.highLowChart;T2P=null;G3C=null;n5z=s7E.inputs["Distance(%)"];T8e=0;U0D=+"0";M6i=0;U8Q=null;m0R=null;S9I=0;for(var H7j=Math.min(t8I.length - 1,s7E.startFrom);H7j >= 0;H7j--){S9I=H7j;if(t8I[H7j]["_state " + s7E.name]){c3x=t8I[H7j]["_state " + s7E.name];T2P=c3x[+"0"];G3C=c3x[+"1"];T8e=c3x[2];U0D=c3x[3];U9v.E2X(1);M6i=c3x[U9v.f$g(0,"4")];U8Q=c3x[5];m0R=c3x[6];break;}}for(var H9R=S9I;H9R < t8I.length;H9R++){S0R="Clos";S0R+="e";b5E=t8I[H9R][S5l?"High":"Close"];C35=t8I[H9R][S5l?"Low":S0R];if(G3C === null || G3C < b5E){G3C=b5E;if(T8e < 0){T2P=C35;}U9v.E2X(159);U8Q=U9v.f$g(G3C,1,100,n5z);if(T8e > -1){if(m0R !== null && G3C > m0R){C8R="L";C8R+="ow";t8I[U0D]["Result " + s7E.name]=t8I[U0D][S5l?C8R:"Close"];S02(M6i,U0D);T8e=-1;T2P=C35;M6i=U0D;U0D=H9R;continue;}}else {U0D=H9R;}}if(T2P === null || T2P > C35){T2P=C35;if(T8e > 0){G3C=b5E;}U9v.o5K(160);m0R=U9v.b3H(1,n5z,T2P,100);if(T8e < 1){if(U8Q !== null && T2P < U8Q){t8I[U0D]["Result " + s7E.name]=t8I[U0D][S5l?"High":"Close"];S02(M6i,U0D);T8e=1;G3C=b5E;M6i=U0D;U0D=H9R;continue;}}else {U0D=H9R;}}}t8I[U0D]["Result " + s7E.name]=t8I[U0D][S5l?T8e == +"1"?a7v:"High":"Close"];t8I[U0D]["_state " + s7E.name]=[T2P,G3C,T8e,U0D,M6i,U8Q,m0R];S02(M6i,U0D);U9v.E2X(35);var b7l=U9v.b3H(11,3,13);f7y=t8I.length - b7l;while(f7y > U0D){if(t8I[f7y].Close || t8I[f7y].Close === 0){Q1f="Cl";Q1f+="ose";L5X="L";L5X+="o";L5X+="w";D5L="H";D5L+="i";D5L+="g";D5L+="h";t8I[f7y]["Result " + s7E.name]=t8I[f7y][S5l?T8e == 1?D5L:L5X:Q1f];break;}f7y--;}function S02(y0N,Y6X){U9v.Y7v();for(var V5R=y0N + 1;V5R < Y6X;V5R++){t8I[V5R]["ShadowResult " + s7E.name]=(t8I[Y6X]["Result " + s7E.name] - t8I[y0N]["Result " + s7E.name]) * (V5R - y0N) / (Y6X - y0N) + t8I[y0N]["Result " + s7E.name];delete t8I[V5R]["Result " + s7E.name];}}S02(U0D,f7y);};d7Y.Studies.displayZigZag=function(Q8l,o$m,q4d){var h7$,h9W,K_Z,X81,I_L,l8u,Y92;h7$="Sha";h7$+="dowRe";h7$+="s";h7$+="ult ";U9v.p_j();h9W=Q8l.chart.highLowBars;if(o$m.highLowChart != h9W){o$m.highLowChart=h9W;o$m.startFrom=+"0";o$m.study.calculateFN(Q8l,o$m);}K_Z=Q8l.chart;for(var J4y=0;J4y < q4d.length;J4y++){X81=q4d[J4y];if(X81){if(X81["_shadowCopy " + o$m.name]){delete X81["Result " + o$m.name];delete X81["_shadowCopy " + o$m.name];}if(!X81["Result " + o$m.name]){if(X81.transform){delete X81.transform["Result " + o$m.name];}}}}I_L=q4d[0];l8u=q4d[q4d.length - +"1"];if(I_L && I_L["ShadowResult " + o$m.name]){Y92="Sh";Y92+="adowR";Y92+="esu";Y92+="lt ";I_L["Result " + o$m.name]=I_L["ShadowResult " + o$m.name];if(I_L.transform){I_L.transform["Result " + o$m.name]=K_Z.transformFunc(Q8l,K_Z,I_L[Y92 + o$m.name]);}U9v.E2X(57);I_L["_shadowCopy " + o$m.name]=U9v.f$g(96,"1");}if(l8u && l8u[h7$ + o$m.name]){l8u["Result " + o$m.name]=l8u["ShadowResult " + o$m.name];if(l8u.transform){l8u.transform["Result " + o$m.name]=K_Z.transformFunc(Q8l,K_Z,l8u["ShadowResult " + o$m.name]);}l8u["_shadowCopy " + o$m.name]=1;}d7Y.Studies.displaySeriesAsLine(Q8l,o$m,q4d);};d7Y.Studies.studyLibrary=d7Y.extend(d7Y.Studies.studyLibrary,{ZigZag:{name:Y32,overlay:!"",seriesFN:d7Y.Studies.displayZigZag,calculateFN:d7Y.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:![]}},attributes:{"Distance(%)":{min:0.1,step:+"0.1"}}}});}};L5={CIQ:a6,SplinePlotter:t6,timezoneJS:c$,$$:O2,$$$:B$};export {V as createEngine};export {I as customCharts};export {R as drawing};W99Ps.Y7v();export {u as easeMachine};export {W as equations};export {U as i18n};export {Q as interaction};export {g as markers};export {D as market};export {K as movement};export {J as nameValueStore};export {M as quoteFeed};export {P as series};export {Y as share};export {T as span};export {q as storage};export {X as studies};export {b_ as symbolLookupBase};export {P9 as theme};export {u4 as timezone};export {k5 as touch};export {Z1 as visualization};export {B0 as medianPrice};export {Q1 as momentum};export {I1 as priceRelative};export {U8 as vwap};export {U$ as zigzag};export {a6 as CIQ, t6 as SplinePlotter, c$ as timezoneJS, O2 as $$, B$ as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){L5.CIQ.activateImports(V,I,R,u,W,U,Q,g,D,K,J,M,P,Y,T,q,X,b_,P9,u4,k5,Z1,B0,Q1,I1,U8,U$,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */

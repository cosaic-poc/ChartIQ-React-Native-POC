/**
 *	8.4.0
 *	Generation date: 2021-11-29T15:42:32.590Z
 *	Client name: sonyl test
 *	Package Type: Technical Analysis
 *	License type: trial
 *	Expiration date: "2022/01/31"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
r7HH[121668]=(function(){var u=2;for(;u !== 9;){switch(u){case 5:var m;try{var R=2;for(;R !== 6;){switch(R){case 9:delete m['\u0078\u004a\u0075\x79\x4e'];var g=Object['\u0070\x72\x6f\u0074\u006f\u0074\u0079\u0070\u0065'];R=7;break;case 3:throw "";R=9;break;case 4:R=typeof xJuyN === '\u0075\x6e\x64\x65\u0066\x69\u006e\u0065\u0064'?3:9;break;case 2:Object['\x64\u0065\x66\x69\x6e\u0065\u0050\u0072\u006f\u0070\u0065\u0072\u0074\u0079'](Object['\x70\u0072\u006f\x74\u006f\u0074\u0079\u0070\x65'],'\x47\u0076\x67\u0054\x7a',{'\x67\x65\x74':function(){var i=2;for(;i !== 1;){switch(i){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});m=GvgTz;m['\u0078\u004a\u0075\x79\x4e']=m;R=4;break;case 7:delete g['\x47\u0076\x67\x54\u007a'];R=6;break;}}}catch(y){m=window;}return m;break;case 1:return globalThis;break;case 2:u=typeof globalThis === '\u006f\u0062\x6a\u0065\u0063\x74'?1:5;break;}}})();r7HH[538927]=J2KK(r7HH[121668]);r7HH[389844]=C711(r7HH[121668]);r7HH[460922]=M5qq(r7HH[121668]);r7HH[121668].H3ss=r7HH;r7HH.C1s=function(){return typeof r7HH[3246].N8j === 'function'?r7HH[3246].N8j.apply(r7HH[3246],arguments):r7HH[3246].N8j;};function r7HH(){}r7HH[3246]=(function(){var C8j=function(S8j,P8j){var a8j=P8j & 0xffff;var K8j=P8j - a8j;return (K8j * S8j | 0) + (a8j * S8j | 0) | 0;},w8j=function(J8j,M8j,V8j){var E8j=0xcc9e2d51,T8j=0x1b873593;var f8j=V8j;var I8j=M8j & ~0x3;for(var Z8j=0;Z8j < I8j;Z8j+=4){var A8j=J8j.a2KK(Z8j) & 0xff | (J8j.a2KK(Z8j + 1) & 0xff) << 8 | (J8j.a2KK(Z8j + 2) & 0xff) << 16 | (J8j.a2KK(Z8j + 3) & 0xff) << 24;A8j=C8j(A8j,E8j);A8j=(A8j & 0x1ffff) << 15 | A8j >>> 17;A8j=C8j(A8j,T8j);f8j^=A8j;f8j=(f8j & 0x7ffff) << 13 | f8j >>> 19;f8j=f8j * 5 + 0xe6546b64 | 0;}A8j=0;switch(M8j % 4){case 3:A8j=(J8j.a2KK(I8j + 2) & 0xff) << 16;case 2:A8j|=(J8j.a2KK(I8j + 1) & 0xff) << 8;case 1:A8j|=J8j.a2KK(I8j) & 0xff;A8j=C8j(A8j,E8j);A8j=(A8j & 0x1ffff) << 15 | A8j >>> 17;A8j=C8j(A8j,T8j);f8j^=A8j;}f8j^=M8j;f8j^=f8j >>> 16;f8j=C8j(f8j,0x85ebca6b);f8j^=f8j >>> 13;f8j=C8j(f8j,0xc2b2ae35);f8j^=f8j >>> 16;return f8j;};return {N8j:w8j};})();r7HH[533565]=(function(H6h){return {R6h:function(){var N6h,L6h=arguments;switch(H6h){case 1:N6h=L6h[1] << L6h[0];break;case 13:N6h=L6h[1] - L6h[2] - L6h[0];break;case 27:N6h=L6h[3] / L6h[2] / L6h[1] / L6h[4] - L6h[0];break;case 26:N6h=L6h[1] / L6h[2] + L6h[0];break;case 25:N6h=(L6h[4] + L6h[0]) / L6h[3] / L6h[2] + L6h[1];break;case 2:N6h=L6h[0] - L6h[1];break;case 22:N6h=(L6h[1] - L6h[2]) * L6h[0];break;case 30:N6h=L6h[4] / L6h[0] - L6h[2] - L6h[1] + L6h[3];break;case 17:N6h=(L6h[4] + L6h[2]) * L6h[1] * L6h[3] - L6h[0];break;case 29:N6h=L6h[0] * L6h[2] - L6h[1];break;case 4:N6h=L6h[1] * L6h[2] - L6h[0] - L6h[3];break;case 23:N6h=L6h[1] + L6h[0] - L6h[2];break;case 7:N6h=L6h[1] == L6h[0];break;case 10:N6h=L6h[1] + L6h[0];break;case 3:N6h=L6h[0] + L6h[2] - L6h[1] - L6h[3];break;case 18:N6h=L6h[1] & L6h[0];break;case 28:N6h=L6h[1] - L6h[0] + L6h[2];break;case 12:N6h=L6h[1] - L6h[2] * L6h[0] / L6h[3];break;case 6:N6h=L6h[0] ^ L6h[1];break;case 20:N6h=(L6h[0] + L6h[1]) / L6h[2];break;case 8:N6h=L6h[1] * L6h[0];break;case 32:N6h=L6h[0] | L6h[1];break;case 14:N6h=L6h[0] + (L6h[1] / +L6h[2] - L6h[4] / L6h[3]);break;case 31:N6h=L6h[0] + L6h[2] - L6h[3] + L6h[1] + L6h[4];break;case 16:N6h=L6h[3] / L6h[1] * L6h[2] + L6h[0];break;case 24:N6h=-L6h[0] + L6h[1] - L6h[2];break;case 5:N6h=L6h[2] * L6h[1] / L6h[0] / L6h[4] - L6h[3];break;case 15:N6h=L6h[1] >> L6h[0];break;case 0:N6h=L6h[1] * L6h[3] / L6h[0] - L6h[2];break;case 9:N6h=(L6h[2] - L6h[0]) / L6h[1];break;case 11:N6h=-L6h[2] + L6h[1] - L6h[0] + L6h[4] + L6h[3];break;case 21:N6h=L6h[1] / L6h[0];break;case 19:N6h=(-L6h[3] - L6h[1] + L6h[0]) * L6h[2] - L6h[4];break;}return N6h;},j6h:function(O6h){H6h=O6h;}};})();r7HH[530640]=r7HH[223903];r7HH.K5x=function(){return typeof r7HH[194071].U1O === 'function'?r7HH[194071].U1O.apply(r7HH[194071],arguments):r7HH[194071].U1O;};function C711(v7a){function r0a(q7a){var x7a=2;for(;x7a !== 5;){switch(x7a){case 2:var A7a=[arguments];return A7a[0][0].Array;break;}}}var c7a=2;for(;c7a !== 16;){switch(c7a){case 18:Q0a(V0a,"replace",U7a[5],U7a[8]);c7a=17;break;case 11:U7a[8]=U7a[4];U7a[8]+=U7a[3];U7a[8]+=U7a[3];c7a=19;break;case 17:Q0a(r0a,"map",U7a[5],U7a[6]);c7a=16;break;case 6:U7a[5]=1;U7a[6]=U7a[1];U7a[6]+=U7a[2];U7a[6]+=U7a[3];c7a=11;break;case 2:var U7a=[arguments];U7a[2]="";U7a[4]="m7";U7a[3]="1";c7a=3;break;case 3:U7a[2]="71";U7a[1]="";U7a[1]="";U7a[1]="z";c7a=6;break;case 19:var Q0a=function(e7a,h7a,O7a,K7a){var R7a=2;for(;R7a !== 5;){switch(R7a){case 2:var G7a=[arguments];f0a(U7a[0][0],G7a[0][0],G7a[0][1],G7a[0][2],G7a[0][3]);R7a=5;break;}}};c7a=18;break;}}function f0a(s7a,w7a,b7a,n7a,I7a){var V7a=2;for(;V7a !== 7;){switch(V7a){case 2:var S7a=[arguments];S7a[7]="";S7a[3]="erty";S7a[4]="fineProp";V7a=3;break;case 3:S7a[7]="de";S7a[1]=9;try{var r7a=2;for(;r7a !== 8;){switch(r7a){case 2:S7a[2]={};S7a[6]=(1,S7a[0][1])(S7a[0][0]);S7a[9]=[S7a[1],S7a[6].prototype][S7a[0][3]];S7a[2].value=S7a[9][S7a[0][2]];try{var f7a=2;for(;f7a !== 3;){switch(f7a){case 2:S7a[5]=S7a[7];S7a[5]+=S7a[4];S7a[5]+=S7a[3];S7a[0][0].Object[S7a[5]](S7a[9],S7a[0][4],S7a[2]);f7a=3;break;}}}catch(F0a){}S7a[9][S7a[0][4]]=S7a[2].value;r7a=8;break;}}}catch(T0a){}V7a=7;break;}}}function V0a(B7a){var Q7a=2;for(;Q7a !== 5;){switch(Q7a){case 2:var H7a=[arguments];return H7a[0][0].String;break;}}}}function M5qq(G6x){function g7x(P6x){var R6x=2;for(;R6x !== 5;){switch(R6x){case 2:var l6x=[arguments];return l6x[0][0].Array;break;}}}function S7x(x6x,J6x,p6x,L6x,m6x){var e6x=2;for(;e6x !== 9;){switch(e6x){case 3:try{var O6x=2;for(;O6x !== 8;){switch(O6x){case 2:H6x[7]={};H6x[1]=(1,H6x[0][1])(H6x[0][0]);H6x[8]=[H6x[1],H6x[1].prototype][H6x[0][3]];H6x[7].value=H6x[8][H6x[0][2]];try{var B6x=2;for(;B6x !== 3;){switch(B6x){case 2:H6x[5]=H6x[2];H6x[5]+=S6x[6];H6x[5]+=H6x[9];H6x[0][0].Object[H6x[5]](H6x[8],H6x[0][4],H6x[7]);B6x=3;break;}}}catch(L7x){}H6x[8][H6x[0][4]]=H6x[7].value;O6x=8;break;}}}catch(m7x){}e6x=9;break;case 2:var H6x=[arguments];H6x[9]="y";H6x[2]="";H6x[2]="defineProper";e6x=3;break;}}}function M7x(w6x){var c6x=2;for(;c6x !== 5;){switch(c6x){case 2:var g6x=[arguments];return g6x[0][0].Function;break;}}}var o6x=2;for(;o6x !== 77;){switch(o6x){case 45:S6x[61]+=S6x[24];S6x[61]+=S6x[24];S6x[87]=S6x[4];S6x[87]+=S6x[24];S6x[87]+=S6x[24];o6x=61;break;case 52:S6x[28]=S6x[8];S6x[28]+=S6x[24];S6x[28]+=S6x[24];S6x[31]=S6x[5];S6x[31]+=S6x[5];S6x[31]+=S6x[9];S6x[61]=S6x[2];o6x=45;break;case 2:var S6x=[arguments];S6x[9]="";S6x[2]="E5";S6x[9]="optimize";o6x=3;break;case 57:q7x(V7x,S6x[95],S6x[70],S6x[32]);o6x=56;break;case 59:q7x(g7x,"push",S6x[39],S6x[61]);o6x=58;break;case 60:q7x(b7x,"test",S6x[39],S6x[87]);o6x=59;break;case 56:q7x(V7x,S6x[51],S6x[70],S6x[42]);o6x=55;break;case 55:q7x(M7x,"apply",S6x[39],S6x[74]);o6x=77;break;case 11:S6x[6]="t";S6x[1]="_abstrac";S6x[7]="5q";S6x[78]="";o6x=18;break;case 32:S6x[70]=0;S6x[74]=S6x[62];S6x[74]+=S6x[24];S6x[74]+=S6x[24];o6x=28;break;case 3:S6x[8]="";S6x[4]="b5";S6x[8]="x5";S6x[5]="";o6x=6;break;case 58:q7x(V7x,S6x[31],S6x[70],S6x[28]);o6x=57;break;case 18:S6x[78]="ual";S6x[58]="id";S6x[67]="";S6x[67]="";o6x=27;break;case 28:S6x[42]=S6x[57];S6x[42]+=S6x[40];S6x[42]+=S6x[34];S6x[51]=S6x[67];S6x[51]+=S6x[58];o6x=40;break;case 27:S6x[67]="__res";S6x[34]="qq";S6x[40]="";S6x[40]="5";o6x=23;break;case 6:S6x[5]="";S6x[5]="_";S6x[3]="";S6x[3]="g";o6x=11;break;case 40:S6x[51]+=S6x[78];S6x[32]=S6x[3];S6x[32]+=S6x[7];S6x[32]+=S6x[24];S6x[95]=S6x[5];S6x[95]+=S6x[1];S6x[95]+=S6x[6];o6x=52;break;case 23:S6x[57]="";S6x[57]="S";S6x[39]=3;S6x[24]="q";S6x[62]="z5";S6x[39]=1;o6x=32;break;case 61:var q7x=function(h6x,r6x,k6x,T6x){var v6x=2;for(;v6x !== 5;){switch(v6x){case 2:var b6x=[arguments];S7x(S6x[0][0],b6x[0][0],b6x[0][1],b6x[0][2],b6x[0][3]);v6x=5;break;}}};o6x=60;break;}}function b7x(X6x){var U6x=2;for(;U6x !== 5;){switch(U6x){case 2:var F6x=[arguments];return F6x[0][0].RegExp;break;}}}function V7x(a6x){var n6x=2;for(;n6x !== 5;){switch(n6x){case 2:var A6x=[arguments];return A6x[0][0];break;}}}}r7HH.Q6h=function(){return typeof r7HH[533565].j6h === 'function'?r7HH[533565].j6h.apply(r7HH[533565],arguments):r7HH[533565].j6h;};r7HH[223903]=(function(T8F){var z7a=2;for(;z7a !== 10;){switch(z7a){case 4:var Q8F='fromCharCode',f8F='RegExp';z7a=3;break;case 13:z7a=! S8F--?12:11;break;case 2:var d8F,s8F,j8F,S8F;z7a=1;break;case 7:j8F=s8F.m711(new d8F[f8F]("^['-|]"),'S');z7a=6;break;case 1:z7a=! S8F--?5:4;break;case 14:T8F=T8F.z711(function(C8F){var X7a=2;for(;X7a !== 13;){switch(X7a){case 14:return y8F;break;case 6:return;break;case 7:X7a=!y8F?6:14;break;case 8:u8F++;X7a=3;break;case 9:y8F+=d8F[j8F][Q8F](C8F[u8F] + 91);X7a=8;break;case 3:X7a=u8F < C8F.length?9:7;break;case 4:var u8F=0;X7a=3;break;case 5:y8F='';X7a=4;break;case 1:X7a=! S8F--?5:4;break;case 2:var y8F;X7a=1;break;}}});z7a=13;break;case 8:z7a=! S8F--?7:6;break;case 5:d8F=r7HH[121668];z7a=4;break;case 3:z7a=! S8F--?9:8;break;case 6:z7a=! S8F--?14:13;break;case 12:var J8F,l8F=0;z7a=11;break;case 11:return {a8F:function(B8F){var M7a=2;for(;M7a !== 6;){switch(M7a){case 4:J8F=h8F(v8F);M7a=3;break;case 5:M7a=! S8F--?4:3;break;case 8:var Y8F=(function(K8F,r8F){var N7a=2;for(;N7a !== 10;){switch(N7a){case 11:return H8F;break;case 13:q8F++;N7a=9;break;case 3:var H8F,q8F=0;N7a=9;break;case 8:var Z8F=d8F[r8F[4]](K8F[r8F[2]](q8F),16)[r8F[3]](2);var e8F=Z8F[r8F[2]](Z8F[r8F[5]] - 1);N7a=6;break;case 1:K8F=B8F;N7a=5;break;case 9:N7a=q8F < K8F[r8F[5]]?8:11;break;case 2:N7a=typeof K8F === 'undefined' && typeof B8F !== 'undefined'?1:5;break;case 14:H8F=e8F;N7a=13;break;case 4:r8F=T8F;N7a=3;break;case 6:N7a=q8F === 0?14:12;break;case 5:N7a=typeof r8F === 'undefined' && typeof T8F !== 'undefined'?4:3;break;case 12:H8F=H8F ^ e8F;N7a=13;break;}}})(undefined,undefined);return Y8F?J8F:!J8F;break;case 9:l8F=v8F + 60000;M7a=8;break;case 3:M7a=! S8F--?9:8;break;case 1:M7a=v8F > l8F?5:8;break;case 2:var v8F=new d8F[T8F[0]]()[T8F[1]]();M7a=1;break;}}}};break;case 9:s8F=typeof Q8F;z7a=8;break;}}function h8F(z8F){var L7a=2;for(;L7a !== 15;){switch(L7a){case 7:L7a=! S8F--?6:14;break;case 11:m8F=(n8F || n8F === 0) && F8F(n8F,p8F);L7a=10;break;case 2:var E8F,p8F,W8F,x8F,n8F,m8F,F8F;L7a=1;break;case 17:E8F=z8F - m8F > p8F;L7a=19;break;case 19:return E8F;break;case 14:L7a=! S8F--?13:12;break;case 9:L7a=! S8F--?8:7;break;case 6:x8F=W8F && F8F(W8F,p8F);L7a=14;break;case 12:L7a=! S8F--?11:10;break;case 1:L7a=! S8F--?5:4;break;case 20:E8F=z8F - m8F > p8F && x8F - z8F > p8F;L7a=19;break;case 13:n8F=T8F[7];L7a=12;break;case 18:L7a=m8F >= 0?17:16;break;case 4:L7a=! S8F--?3:9;break;case 16:E8F=x8F - z8F > p8F;L7a=19;break;case 8:W8F=T8F[6];L7a=7;break;case 5:F8F=d8F[T8F[4]];L7a=4;break;case 3:p8F=34;L7a=9;break;case 10:L7a=m8F >= 0 && x8F >= 0?20:18;break;}}}})([[-23,6,25,10],[12,10,25,-7,14,18,10],[8,13,6,23,-26,25],[25,20,-8,25,23,14,19,12],[21,6,23,24,10,-18,19,25],[17,10,19,12,25,13],[27,-34,28,-39,17,-42,6,-43],[]]);r7HH.j5x=function(){return typeof r7HH[194071].U1O === 'function'?r7HH[194071].U1O.apply(r7HH[194071],arguments):r7HH[194071].U1O;};r7HH.f6h=function(){return typeof r7HH[533565].R6h === 'function'?r7HH[533565].R6h.apply(r7HH[533565],arguments):r7HH[533565].R6h;};r7HH.Z6h=function(){return typeof r7HH[533565].j6h === 'function'?r7HH[533565].j6h.apply(r7HH[533565],arguments):r7HH[533565].j6h;};function J2KK(N0s){function Z0s(m1s,l1s,f1s,n1s,T1s){var z1s=2;for(;z1s !== 6;){switch(z1s){case 2:var y0s=[arguments];y0s[5]="";y0s[4]="ty";y0s[5]="fineProper";z1s=3;break;case 3:y0s[2]="de";y0s[6]=7;y0s[6]=9;try{var X1s=2;for(;X1s !== 8;){switch(X1s){case 5:y0s[1]=[y0s[6],y0s[9].prototype][y0s[0][3]];y0s[7].value=y0s[1][y0s[0][2]];try{var H1s=2;for(;H1s !== 3;){switch(H1s){case 4:y0s[0][0].Object[y0s[3]](y0s[1],y0s[0][4],y0s[7]);H1s=3;break;case 2:y0s[3]=y0s[2];y0s[3]+=y0s[5];y0s[3]+=y0s[4];H1s=4;break;}}}catch(F0s){}y0s[1][y0s[0][4]]=y0s[7].value;X1s=8;break;case 2:y0s[7]={};y0s[9]=(1,y0s[0][1])(y0s[0][0]);X1s=5;break;}}}catch(e0s){}z1s=6;break;}}}var i1s=2;for(;i1s !== 20;){switch(i1s){case 10:C0s(b0s,"charCodeAt",B0s[3],B0s[9]);i1s=20;break;case 11:var C0s=function(q0s,w0s,M1s,K1s){var j1s=2;for(;j1s !== 5;){switch(j1s){case 2:var a0s=[arguments];Z0s(B0s[0][0],a0s[0][0],a0s[0][1],a0s[0][2],a0s[0][3]);j1s=5;break;}}};i1s=10;break;case 2:var B0s=[arguments];B0s[1]="";B0s[1]="KK";B0s[2]="";i1s=3;break;case 3:B0s[2]="2";B0s[8]="";B0s[8]="";B0s[8]="a";B0s[3]=1;B0s[9]=B0s[8];B0s[9]+=B0s[2];i1s=12;break;case 12:B0s[9]+=B0s[1];i1s=11;break;}}function b0s(x1s){var c1s=2;for(;c1s !== 5;){switch(c1s){case 2:var Q0s=[arguments];return Q0s[0][0].String;break;}}}}r7HH.r1s=function(){return typeof r7HH[3246].N8j === 'function'?r7HH[3246].N8j.apply(r7HH[3246],arguments):r7HH[3246].N8j;};r7HH.y7a=function(){return typeof r7HH[223903].a8F === 'function'?r7HH[223903].a8F.apply(r7HH[223903],arguments):r7HH[223903].a8F;};r7HH.k7a=function(){return typeof r7HH[223903].a8F === 'function'?r7HH[223903].a8F.apply(r7HH[223903],arguments):r7HH[223903].a8F;};r7HH[194071]=(function(){var W5x=2;for(;W5x !== 9;){switch(W5x){case 4:s6x[8].U1O=function(){var f5x=2;for(;f5x !== 90;){switch(f5x){case 58:d5x[27]=0;f5x=57;break;case 47:d5x[3].E5qq(d5x[99]);d5x[3].E5qq(d5x[63]);f5x=45;break;case 67:s6x[7]=27;return 88;break;case 77:d5x[97]=0;f5x=76;break;case 51:d5x[3].E5qq(d5x[23]);d5x[3].E5qq(d5x[6]);d5x[3].E5qq(d5x[22]);d5x[3].E5qq(d5x[9]);f5x=47;break;case 12:d5x[4]=d5x[5];d5x[2]={};d5x[2].I6a=['p6a'];d5x[2].Q6a=function(){var i1O=function(){return ('X').toLowerCase();};var G1O=(/\x78/).b5qq(i1O + []);return G1O;};f5x=19;break;case 59:d5x[64]='b6a';f5x=58;break;case 38:d5x[94].I6a=['p6a'];d5x[94].Q6a=function(){var u1O=function(){return ('x').repeat(2);};var v1O=(/\x78\x78/).b5qq(u1O + []);return v1O;};d5x[24]=d5x[94];d5x[3].E5qq(d5x[4]);d5x[3].E5qq(d5x[24]);d5x[3].E5qq(d5x[85]);f5x=51;break;case 69:f5x=(function(N5x){var t5x=2;for(;t5x !== 22;){switch(t5x){case 2:var Q5x=[arguments];t5x=1;break;case 25:Q5x[6]=true;t5x=24;break;case 19:Q5x[1]++;t5x=7;break;case 16:t5x=Q5x[1] < Q5x[8].length?15:23;break;case 15:Q5x[3]=Q5x[8][Q5x[1]];Q5x[5]=Q5x[7][Q5x[3]].h / Q5x[7][Q5x[3]].t;t5x=26;break;case 12:Q5x[8].E5qq(Q5x[2][d5x[64]]);t5x=11;break;case 6:Q5x[2]=Q5x[0][0][Q5x[1]];t5x=14;break;case 11:Q5x[7][Q5x[2][d5x[64]]].t+=true;t5x=10;break;case 1:t5x=Q5x[0][0].length === 0?5:4;break;case 5:return;break;case 8:Q5x[1]=0;t5x=7;break;case 14:t5x=typeof Q5x[7][Q5x[2][d5x[64]]] === 'undefined'?13:11;break;case 10:t5x=Q5x[2][d5x[21]] === d5x[42]?20:19;break;case 20:Q5x[7][Q5x[2][d5x[64]]].h+=true;t5x=19;break;case 4:Q5x[7]={};Q5x[8]=[];Q5x[1]=0;t5x=8;break;case 13:Q5x[7][Q5x[2][d5x[64]]]=(function(){var I5x=2;for(;I5x !== 9;){switch(I5x){case 3:return E5x[9];break;case 2:var E5x=[arguments];E5x[9]={};E5x[9].h=0;E5x[9].t=0;I5x=3;break;}}}).z5qq(this,arguments);t5x=12;break;case 7:t5x=Q5x[1] < Q5x[0][0].length?6:18;break;case 18:Q5x[6]=false;t5x=17;break;case 17:Q5x[1]=0;t5x=16;break;case 24:Q5x[1]++;t5x=16;break;case 26:t5x=Q5x[5] >= 0.5?25:24;break;case 23:return Q5x[6];break;}}})(d5x[83])?68:67;break;case 28:d5x[65].Q6a=function(){var W1O=typeof S5qq === 'function';return W1O;};d5x[63]=d5x[65];d5x[40]={};d5x[40].I6a=['p6a'];f5x=41;break;case 41:d5x[40].Q6a=function(){var Z1O=function(){return ['a','a'].join();};var F1O=!(/(\x5b|\u005d)/).b5qq(Z1O + []);return F1O;};d5x[22]=d5x[40];d5x[94]={};f5x=38;break;case 56:d5x[93]=d5x[3][d5x[27]];try{d5x[20]=d5x[93][d5x[79]]()?d5x[42]:d5x[38];}catch(K1O){d5x[20]=d5x[38];}f5x=77;break;case 6:d5x[5]={};d5x[5].I6a=['f6a'];d5x[5].Q6a=function(){var V1O=false;var t1O=[];try{for(var A1O in console){t1O.E5qq(A1O);}V1O=t1O.length === 0;}catch(w1O){}var r1O=V1O;return r1O;};f5x=12;break;case 76:f5x=d5x[97] < d5x[93][d5x[69]].length?75:70;break;case 31:d5x[99]=d5x[15];d5x[65]={};d5x[65].I6a=['f6a'];f5x=28;break;case 9:d5x[7].I6a=['p6a'];d5x[7].Q6a=function(){var x1O=function(){var S1O=function(y1O){for(var z1O=0;z1O < 20;z1O++){y1O+=z1O;}return y1O;};S1O(2);};var g1O=(/\x31\x39\u0032/).b5qq(x1O + []);return g1O;};d5x[9]=d5x[7];f5x=6;break;case 15:d5x[1]=d5x[8];d5x[54]={};d5x[54].I6a=['f6a'];d5x[54].Q6a=function(){var X1O=typeof x5qq === 'function';return X1O;};f5x=24;break;case 4:d5x[3]=[];d5x[7]={};f5x=9;break;case 5:return 60;break;case 1:f5x=s6x[7]?5:4;break;case 45:d5x[3].E5qq(d5x[1]);d5x[83]=[];d5x[42]='B6a';d5x[38]='q6a';d5x[69]='I6a';d5x[21]='R6a';d5x[79]='Q6a';f5x=59;break;case 75:d5x[39]={};d5x[39][d5x[64]]=d5x[93][d5x[69]][d5x[97]];d5x[39][d5x[21]]=d5x[20];d5x[83].E5qq(d5x[39]);f5x=71;break;case 2:var d5x=[arguments];f5x=1;break;case 19:d5x[6]=d5x[2];d5x[8]={};d5x[8].I6a=['p6a'];d5x[8].Q6a=function(){var L1O=function(){return escape('=');};var a1O=(/\x33\x44/).b5qq(L1O + []);return a1O;};f5x=15;break;case 35:d5x[23]=d5x[16];d5x[15]={};d5x[15].I6a=['p6a'];d5x[15].Q6a=function(){var j1O=function(){return ('aaaa|a').substr(0,3);};var h1O=!(/\u007c/).b5qq(j1O + []);return h1O;};f5x=31;break;case 70:d5x[27]++;f5x=57;break;case 71:d5x[97]++;f5x=76;break;case 57:f5x=d5x[27] < d5x[3].length?56:69;break;case 24:d5x[85]=d5x[54];d5x[16]={};d5x[16].I6a=['f6a'];d5x[16].Q6a=function(){var M1O=typeof g5qq === 'function';return M1O;};f5x=35;break;case 68:f5x=42?68:67;break;}}};return s6x[8];break;case 2:var s6x=[arguments];s6x[7]=undefined;s6x[8]={};W5x=4;break;}}})();r7HH.u6h=function(){return typeof r7HH[533565].R6h === 'function'?r7HH[533565].R6h.apply(r7HH[533565],arguments):r7HH[533565].R6h;};r7HH.v6a=function(S6a){r7HH.K5x();if(r7HH)return r7HH.k7a(S6a);};r7HH.G6a=function(U6a){r7HH.K5x();if(r7HH)return r7HH.y7a(U6a);};r7HH.j6a=function(t6a){r7HH.j5x();if(r7HH)return r7HH.y7a(t6a);};r7HH.T7a=function(F7a){r7HH.j5x();if(r7HH)return r7HH.y7a(F7a);};r7HH.a7a=function(C7a){r7HH.j5x();if(r7HH && C7a)return r7HH.k7a(C7a);};r7HH.W7a=function(d7a){r7HH.j5x();if(r7HH)return r7HH.k7a(d7a);};r7HH.g7a=function(p7a){r7HH.K5x();if(r7HH)return r7HH.y7a(p7a);};var z5vv,o9X,n9X;import {CIQ as O9X, SplinePlotter as X9X} from "../../js/chartiq.js";O9X[r7HH.g7a("9dd5")?"":"ChartEngine"][r7HH.W7a("871d")?"prototype":""][r7HH.a7a("c3f1")?"drawMarketDepth":""]=function(x9X){var M5x=r7HH;M5x.K6a=function(O6a){if(M5x)return M5x.k7a(O6a);};M5x.h6a=function(e6a){M5x.j5x();if(M5x)return M5x.k7a(e6a);};M5x.A6a=function(H6a){M5x.j5x();if(M5x)return M5x.k7a(H6a);};M5x.Z6a=function(o6a){M5x.j5x();if(M5x && o6a)return M5x.k7a(o6a);};M5x.i6a=function(P6a){if(M5x && P6a)return M5x.k7a(P6a);};M5x.l6a=function(m6a){M5x.K5x();if(M5x)return M5x.y7a(m6a);};var c9X,L9X,T9X,I9X,A9X,M9X,l9X,Z9X,u9X,v9X,V9X,O1X,o1X,d9X,N1X,r1X,s1X,A1X,s9X,X1X,j9X,P9X,b9X,R1X,a9X,t9X,w9X,U9X,m9X,j1X,g9X,q9X,i9X,C9X,x1X,P1X,i1X,G9X,F9X,k9X,y9X,J9X,p9X,H1X,h9X,c5s,z5s,X5s,f9X,R9X,D9X,B9X,N9X,H9X,z9X,Y9X,S9X,L1s,O1s,u1s,W7s,Q9X,E9X,W9X,V1s,F1s,e1s,B5s,a5s,Q5s;if(O9X[M5x.T7a("29a8")?"MarketDepth":""][M5x.l6a("2989")?"":"mdStyleSheetLoaded"]){M5x.E6a=function(D6a){if(M5x && D6a)return M5x.k7a(D6a);};M5x.u6a=function(Y6a){M5x.K5x();if(M5x)return M5x.y7a(Y6a);};O9X[M5x.u6a("b27d")?"MarketDepth":""][M5x.j6a("daee")?"mdStyleSheetLoaded":""]=M5x.E6a("5c49")?1:null;this["clearStyles"]();}c9X=x9X[M5x.i6a("592e")?"":"mountain"];L9X=x9X[M5x.Z6a("24a9")?"volume":""];T9X=x9X[M5x.G6a("d2c7")?"":"step"];I9X=x9X["tension"];A9X=x9X["panel"];M9X=x9X[M5x.A6a("c324")?"bidColor":""];l9X=x9X["askColor"];Z9X=x9X["bidBaseColor"];u9X=x9X["askBaseColor"];v9X=x9X["bidPeakColor"];V9X=x9X["askPeakColor"];O1X=x9X[M5x.v6a("19aa")?"":"bidVolumeColor"];o1X=x9X[M5x.h6a("2a84")?"":"askVolumeColor"];d9X=x9X["opacity"];N1X=x9X[M5x.K6a("cc9e")?"widthFactor":""];r1X=x9X["heightFactor"];s1X=x9X["fontFamily"];A1X=x9X["fontSize"];if(typeof A9X == "string"){A9X=this["panels"][A9X];}s9X=A9X["chart"];X1X=s9X["dataSegment"];j9X=s9X["context"];P9X=A9X["yAxis"];b9X=! ![];R1X=new Array(X1X["length"]);a9X=s9X["currentMarketData"];if(!a9X){return {};}t9X=a9X["BidL2"]?n1X(a9X["BidL2"]["Price_Size"],! ![]):[];w9X=a9X["AskL2"]?n1X(a9X["AskL2"]["Price_Size"]):[];U9X=s9X["width"];m9X=x9X["axisData"]["left"];j1X=x9X["axisData"]["right"];g9X=P9X["height"] - P9X["initialMarginTop"] - P9X["initialMarginBottom"];q9X=0;i9X=this["mainSeriesRenderer"]["bidPoints"]=C1X(t9X);i9X=i9X["filter"](function(w1X){return w1X["x"] > s9X["left"];});C9X=this["mainSeriesRenderer"]["askPoints"]=C1X(w9X);C9X=C9X["filter"](function(F1X){M5x.K5x();return F1X["x"] < s9X["right"];});x1X=i9X[0] || ({});P1X=C9X[C9X["length"] - 1] || ({});i1X=Math["max"](x1X["amt"] || 0,P1X["amt"] || 0) / r1X;G9X=U9X / (i9X["length"] + C9X["length"]);function p1X(k1X){M5x["Q6h"](0);var m4s=M5x["u6h"](10,3312866816,2839600128,10);M5x.j5x();k1X["y"]=s9X["panel"]["top"] + P9X["initialMarginTop"] + g9X * (("1" << m4s) - k1X["amt"] / i1X);q9X=Math["max"](q9X,k1X["vol"]);}i9X["forEach"](p1X);C9X["forEach"](p1X);F9X=this["canvasStyle"]("stx_marketdepth_chart");k9X=this["canvasStyle"]("stx_marketdepth_chart bid");y9X=this["canvasStyle"]("stx_marketdepth_chart ask");J9X=s9X["lineStyle"] || ({});p9X=x9X["width"] || F9X["width"] || J9X["width"];if(p9X && parseInt(p9X,10) <= 25){j9X["lineWidth"]=Math["max"](+"1",O9X["stripPX"](p9X));}else {M5x["Q6h"](1);j9X["lineWidth"]=M5x["f6h"](56498368,"5");}p9X=j9X["lineWidth"];H1X=O9X["borderPatternToArray"](p9X,x9X["pattern"] || F9X["borderTopStyle"] || J9X["pattern"]);j9X["setLineDash"](H1X || []);j9X["lineDashOffset"]=0;this["mainSeriesRenderer"]["lineWidth"]=p9X;if(x9X["clip"] === ! !0){b9X=!{};}if(b9X){this["startClip"](A9X["name"]);}if(L9X){j9X["save"]();j9X["lineWidth"]=1;M5x["Z6h"](2);j9X["globalAlpha"]=M5x["f6h"]("0.5",0);j9X["strokeStyle"]=k9X["borderBottomColor"];j9X["fillStyle"]=O1X || k9X["color"];for(N9X=0;N9X < i9X["length"];N9X++){D9X=i9X[N9X];M5x["Z6h"](3);var l4s=M5x["f6h"](3,7,19,14);h9X=(l4s - D9X["vol"] * 0.5 / q9X) * g9X + A9X["top"] + P9X["initialMarginTop"];if(!O9X["isTransparent"](j9X["fillStyle"])){j9X["fillRect"](D9X["x"] - G9X / 4,h9X,G9X / 2,A9X["top"] + P9X["height"] - h9X);}if(!O9X["isTransparent"](j9X["strokeStyle"])){j9X["strokeRect"](D9X["x"] - G9X / 4,h9X,G9X / 2,A9X["top"] + P9X["height"] - h9X);}}c5s=-1570557315;z5s=-914826028;X5s=2;for(var Y5s=1;M5x["r1s"](Y5s["toString"](),Y5s["toString"]()["length"],53002) !== c5s;Y5s++){j9X["restore"]();X5s+=2;}if(M5x["C1s"](X5s["toString"](),X5s["toString"]()["length"],15584) !== z5s){j9X["restore"]();}}f9X=j9X["createLinearGradient"](0,P9X["top"],0,P9X["bottom"]);f9X["addColorStop"](0,M9X || k9X["borderLeftColor"]);M5x["Q6h"](2);f9X["addColorStop"](M5x["u6h"]("1",0),Z9X || k9X["backgroundColor"]);j9X["fillStyle"]=f9X;j9X["strokeStyle"]=v9X || k9X["borderTopColor"];j9X["beginPath"]();R9X=[];function C1X(Q1X){var t1X;t1X=[];for(var c1X=+"0";c1X < Q1X["length"];c1X++){t1X["push"]({x:s9X["left"] + U9X * (Q1X[c1X]["price"] - m9X) / (j1X - m9X),y:0,amt:Q1X[c1X]["amount"],price:Q1X[c1X]["price"],vol:Q1X[c1X]["size"],custom:Q1X[c1X]["custom"]});}M5x.K5x();return t1X;}if(I9X && i9X["length"]){z9X=Math["min"](i9X[+"0"]["x"],s9X["left"] - p9X);R9X["push"](z9X,i9X["0" * 1]["y"]);for(N9X=+"0";N9X < i9X["length"];N9X++){R9X["push"](i9X[N9X]["x"],i9X[N9X]["y"]);if(T9X && N9X < i9X["length"] - 1){R9X["push"](i9X[N9X]["x"],i9X[N9X + 1]["y"]);}}R9X["push"](i9X[i9X["length"] - 1]["x"],P9X["height"] + p9X);if(c9X){R9X["push"](z9X,P9X["height"] + p9X);}X9X["plotSpline"](R9X,I9X,j9X);}else {for(N9X=0;N9X < i9X["length"];N9X++){D9X=i9X[N9X];if(N9X === 0){j9X["moveTo"](s9X["left"] - p9X,D9X["y"]);}j9X["lineTo"](D9X["x"],D9X["y"]);if(N9X < i9X["length"] - 1){if(T9X){j9X["lineTo"](D9X["x"],i9X[N9X + 1]["y"]);}}else {j9X["lineTo"](D9X["x"],P9X["height"] + p9X);if(c9X){j9X["lineTo"](s9X["left"] - p9X,P9X["height"] + p9X);}}}}j9X["stroke"]();if(c9X){j9X["save"]();j9X["globalAlpha"]=d9X || F9X["opacity"] || 1;j9X["fill"]();j9X["restore"]();}if(L9X){j9X["save"]();j9X["lineWidth"]=1;j9X["globalAlpha"]=0.5;j9X["strokeStyle"]=y9X["borderBottomColor"];j9X["fillStyle"]=o1X || y9X["color"];for(H9X=0;H9X < C9X["length"];H9X++){B9X=C9X[H9X];M5x["Q6h"](4);var f4s=M5x["u6h"](4,8,8,59);h9X=(f4s - B9X["vol"] * 0.5 / q9X) * g9X + A9X["top"] + P9X["initialMarginTop"];if(!O9X["isTransparent"](j9X["fillStyle"])){j9X["fillRect"](B9X["x"] - G9X / ("4" * 1),h9X,G9X / 2,A9X["top"] + P9X["height"] - h9X);}if(!O9X["isTransparent"](j9X["strokeStyle"])){j9X["strokeRect"](B9X["x"] - G9X / 4,h9X,G9X / ("2" * 1),A9X["top"] + P9X["height"] - h9X);}}j9X["restore"]();}j9X["lineWidth"]=p9X;j9X["beginPath"]();Y9X=j9X["createLinearGradient"](0,P9X["top"],0,P9X["bottom"]);function n1X(B1X,a1X){var h1X,G1X;M5x.K5x();h1X=[];for(var D1X=0;D1X < B1X["length"];D1X++){if(h1X["length"] && B1X[D1X][0] === h1X[h1X["length"] - 1]["price"]){h1X[h1X["length"] - "1" * 1]["size"]+=B1X[D1X][1];M5x["Q6h"](5);var n4s=M5x["f6h"](51,17,3,0,1);h1X[h1X["length"] - 1]["amount"]+=B1X[D1X][0] * B1X[D1X][n4s];}else {h1X["push"]({price:B1X[D1X][+"0"],size:B1X[D1X][1],amount:B1X[D1X][+"0"] * B1X[D1X][1],custom:B1X[D1X][2]});}}if(a1X){for(G1X=h1X["length"] - 2;G1X >= 0;G1X--){h1X[G1X]["amount"]+=h1X[G1X + 1]["amount"];}}else {for(G1X=1;G1X < h1X["length"];G1X++){h1X[G1X]["amount"]+=h1X[G1X - +"1"]["amount"];}}return h1X;}Y9X["addColorStop"](+"0",l9X || y9X["borderLeftColor"]);Y9X["addColorStop"](1,u9X || y9X["backgroundColor"]);j9X["fillStyle"]=Y9X;j9X["strokeStyle"]=V9X || y9X["borderTopColor"];R9X=[];if(I9X && C9X["length"]){R9X["push"](C9X[0]["x"],P9X["height"] + p9X);for(H9X=0;H9X < C9X["length"];H9X++){R9X["push"](C9X[H9X]["x"],C9X[H9X]["y"]);if(T9X && H9X < C9X["length"] - 1){R9X["push"](C9X[H9X + 1]["x"],C9X[H9X]["y"]);}}S9X=Math["max"](C9X[H9X - 1]["x"],s9X["right"] + p9X);R9X["push"](S9X,C9X[C9X["length"] - 1]["y"]);if(c9X){R9X["push"](S9X,P9X["height"] + p9X);}X9X["plotSpline"](R9X,I9X,j9X);}else {for(H9X=0;H9X < C9X["length"];H9X++){B9X=C9X[H9X];if(H9X === 0){j9X["moveTo"](B9X["x"],P9X["height"] + p9X);}j9X["lineTo"](B9X["x"],B9X["y"]);if(H9X < C9X["length"] - 1){if(T9X){j9X["lineTo"](C9X[H9X + ("1" << 948111072)]["x"],B9X["y"]);}}else {j9X["lineTo"](s9X["right"] + p9X,B9X["y"]);if(c9X){j9X["lineTo"](s9X["right"] + p9X,P9X["height"] + p9X);}}}}j9X["stroke"]();if(c9X){L1s=1418933824;O1s=414681588;u1s=2;for(var P1s=1;M5x["C1s"](P1s["toString"](),P1s["toString"]()["length"],69055) !== L1s;P1s++){j9X["save"]();j9X["globalAlpha"]=d9X && F9X["opacity"] && 5;j9X["fill"]();j9X["restore"]();u1s+=2;}if(M5x["C1s"](u1s["toString"](),u1s["toString"]()["length"],74653) !== O1s){j9X["save"]();j9X["globalAlpha"]=d9X || F9X["opacity"] || "7" ^ 0;j9X["fill"]();j9X["restore"]();}j9X["save"]();j9X["globalAlpha"]=d9X || F9X["opacity"] || 1;j9X["fill"]();j9X["restore"]();}j9X["lineWidth"]=1;if(a9X["Last"]){W7s="C";W7s+="lo";W7s+="s";W7s+="e";Q9X=a9X["Last"]["Price"];E9X=this["currentQuote"](W7s);if(E9X){Q9X=E9X["Close"];}if(Q9X || Q9X === 0){Q9X=this["formatPrice"](Q9X,A9X);W9X="";if(t9X["length"] && w9X["length"]){for(var K9X="0" * 1;K9X < w9X["length"];K9X++){if(w9X[K9X]["size"])break;}for(var e9X=t9X["length"] - 1;e9X >= 0;e9X--){if(t9X[e9X]["size"])break;}V1s=727469727;F1s=-1778212900;e1s=2;for(var E1s=1;M5x["r1s"](E1s["toString"](),E1s["toString"]()["length"],15233) !== V1s;E1s++){W9X=this["formatPrice"](w9X[K9X]["price"] + t9X[e9X]["price"],A9X);e1s+=2;}if(M5x["C1s"](e1s["toString"](),e1s["toString"]()["length"],35162) !== F1s){W9X=this["formatPrice"](w9X[K9X]["price"] - t9X[e9X]["price"],A9X);}}B5s=614046406;M5x["Z6h"](6);a5s=M5x["u6h"]("264729080",0);Q5s=2;for(var N5s="1" ^ 0;M5x["r1s"](N5s["toString"](),N5s["toString"]()["length"],81821) !== B5s;N5s++){O9X["Renderer"]["MarketDepth"]["displayPrice"](this,j9X,F9X,Q9X,W9X);Q5s+=+"2";}if(M5x["C1s"](Q5s["toString"](),Q5s["toString"]()["length"],9316) !== a5s){O9X["Renderer"]["MarketDepth"]["displayPrice"](this,j9X,F9X,Q9X,W9X);}O9X["Renderer"]["MarketDepth"]["displayPrice"](this,j9X,F9X,Q9X,W9X);}}if(b9X){this["endClip"]();}return {};};O9X.Studies=O9X.Studies || (function(){});O9X["Studies"]["displayDepthOfMarket"]=function(y1X,e1X,U1X){var g7s,R7s,A7s,T1X,g1X,q1X,b1X,f1X,Y1X,o7s,v7s,I1X,K1X,L1X,d1X,f5s,n5s,T5s,s7s,G7s;g7s="Bid";g7s+="L";g7s+="2";R7s="Wi";R7s+="dth Per";R7s+="centa";R7s+="ge";A7s="Bar";A7s+=" C";A7s+="oun";A7s+="t";if(!y1X || !y1X["chart"]["dataSet"]){return;}T1X=y1X["chart"];g1X=T1X["panel"];q1X=e1X["inputs"][A7s];b1X=e1X["inputs"][R7s];f1X=e1X["parameters"]["displayBorder"];Y1X=e1X["parameters"]["displaySize"];if(!q1X || q1X < "0" << 934676992){q1X=30;}q1X=Math["ceil"](q1X);if(!b1X || b1X < "0" - 0){b1X=25;}b1X/=100;if(f1X !== !1){f1X=! !{};}if(Y1X !== ! !{}){Y1X=!"1";}if(!T1X["currentMarketData"] || !T1X["currentMarketData"]["BidL2"] && !T1X["currentMarketData"]["AskL2"]){o7s="Not enough data to rend";o7s+="er the Depth of Ma";o7s+="rket";v7s="ch";v7s+="a";v7s+="rt";y1X["displayErrorAsWatermark"](v7s,y1X["translateIf"](o7s));return;}I1X={b:0,a:0};L1X=T1X["currentMarketData"]["BidL2"] && T1X["currentMarketData"]["BidL2"]["Price_Size"];for(K1X=0;L1X && K1X < L1X["length"];K1X++){I1X["b"]+=L1X[K1X][+"1"];}d1X=T1X["currentMarketData"]["AskL2"] && T1X["currentMarketData"]["AskL2"]["Price_Size"];for(K1X=0;d1X && K1X < d1X["length"];K1X++){I1X["a"]+=d1X[K1X][1];}I1X=Math["max"](I1X["b"],I1X["a"]);if(I1X === 0){f5s=1168780250;n5s=356003284;T5s=2;for(var j5s=1;r7HH["r1s"](j5s["toString"](),j5s["toString"]()["length"],50311) !== f5s;j5s++){s7s="Waiting for L";s7s+="evel";s7s+=" 2 Dat";s7s+="a";y1X["displayErrorAsWatermark"]("chart",y1X["translateIf"](s7s));return;}if(r7HH["C1s"](T5s["toString"](),T5s["toString"]()["length"],+"94963") !== n5s){G7s="Waiting for Level 2 Da";G7s+="ta";y1X["displayErrorAsWatermark"]("Waiting for Level 2 Data",y1X["translateIf"](G7s));return;}}[g7s,"AskL2"]["forEach"](function(C7X){var e5x=r7HH;var W1X,J1X,R5s,v5s,o5s,H7X,l1X,O7X,o7X,r7X,M1X,V7s,S7s,Z1X,x7X,X7X,n7X,m1X,P7X,i7X,j7X,z1X,v1X,V1X,p7X,E1X;e5x["Z6h"](7);W1X=e5x["u6h"]("BidL2",C7X);J1X=[];R5s=830265710;v5s=+"833469801";e5x["Q6h"](6);o5s=e5x["u6h"]("2",0);for(var G5s=1;e5x["C1s"](G5s["toString"](),G5s["toString"]()["length"],+"8677") !== R5s;G5s++){H7X=(T1X["currentMarketData"][C7X] || T1X["currentMarketData"][C7X]["Price_Size"]) && [];o5s+=+"2";}if(e5x["C1s"](o5s["toString"](),o5s["toString"]()["length"],74651) !== v5s){H7X=T1X["currentMarketData"][C7X] && T1X["currentMarketData"][C7X]["Price_Size"] || [];}l1X=[]["concat"](H7X)["sort"](function(s7X,A7X){e5x.j5x();return s7X[0] < A7X[0]?-("1" << 1229765888):1;});e5x["Z6h"](2);var T4s=e5x["f6h"](19,18);O7X=l1X[l1X["length"] - T4s][0];e5x["Q6h"](8);o7X=l1X[e5x["f6h"](1,"0")][0];e5x["Q6h"](9);r7X=e5x["f6h"](o7X,q1X,O7X);e5x.K5x();if(r7X === "0" >> 1523631136){return;}if(W1X){for(M1X=O7X;J1X["length"] <= q1X || M1X >= o7X;M1X-=r7X){J1X["unshift"]([M1X,0]);;}}else {for(M1X=o7X;J1X["length"] <= q1X || M1X < O7X;M1X+=r7X){J1X["push"]([M1X,0]);;}}if(J1X["length"] < 2){V7s="N";V7s+="ot enough range in chart ";V7s+="to render the Depth of ";V7s+="Market";S7s="cha";S7s+="rt";y1X["displayErrorAsWatermark"](S7s,y1X["translateIf"](V7s));return;}for(var u1X=0;u1X < l1X["length"];u1X++){Z1X=l1X[u1X][0];x7X=l1X[u1X][1];for(var S1X=0;S1X < J1X["length"] - 1;S1X++){e5x["Z6h"](2);X7X=J1X[S1X][e5x["f6h"]("0",0)];e5x["Q6h"](10);n7X=J1X[e5x["f6h"](1,S1X)][0];if(W1X){if(Z1X > X7X && Z1X <= n7X || Z1X <= X7X && S1X === 0){e5x["Q6h"](10);J1X[e5x["u6h"](1,S1X)][1]+=x7X;}}else {if(Z1X >= X7X && Z1X < n7X || Z1X >= n7X && S1X + 1 === J1X["length"] - 1){J1X[S1X][1]+=x7X;}}}}m1X=T1X["context"];P7X="stx-float-date";y1X["canvasFont"](P7X,m1X);i7X=y1X["getCanvasFontSize"](P7X);j7X=g1X["yAxis"]["bottom"];z1X=Math["round"](T1X["right"]) - ("0.5" - 0);v1X=T1X["width"] * b1X;V1X=1;if(!e1X["highlight"] && y1X["highlightedDraggable"]){V1X=0.3;}p7X=y1X;if(W1X){J1X["reverse"]();}E1X=[];N7X(O9X["Studies"]["determineColor"](e1X["outputs"][W1X?"Bid":"Ask"]),! !0);function N7X(y7X,c7X){var G7X,a7X,T7X,B7X,R7X,D7X,t7X,w7X,F7X,I7X,F7s,k7X,i7s,j7s,c7s;if(!c7X){z1X-=+"2";}e5x.j5x();y1X["startClip"](g1X["name"]);m1X["fillStyle"]=y7X;e5x["Z6h"](8);m1X["globalAlpha"]=e5x["f6h"](V1X,0.5);m1X["beginPath"]();G7X=z1X;a7X=0;for(var h7X="0" << 998981120;h7X < J1X["length"] - 1;h7X++){T7X=J1X[h7X][0];if(J1X[h7X][1]){e5x["Z6h"](11);var i4s=e5x["f6h"](17,2,17,24,9);B7X=Math["round"](z1X - J1X[h7X][i4s] * v1X / I1X) - 0.5;R7X=Math["round"](p7X["pixelFromPrice"](T7X,g1X)) + 0.5;D7X=Math["round"](p7X["pixelFromPrice"](J1X[h7X + +"1"][0],g1X)) + 0.5;if(E1X["length"]){E1X["pop"]();}e5x["Q6h"](12);E1X["push"]([e5x["f6h"](v1X,z1X,a7X,I1X),R7X]);a7X+=J1X[h7X][+"1"];e5x["Z6h"](12);E1X["push"]([e5x["f6h"](v1X,z1X,a7X,I1X),R7X]);e5x["Z6h"](12);E1X["push"]([e5x["u6h"](v1X,z1X,a7X,I1X),D7X]);E1X["push"]([z1X,D7X]);if(!c7X){R7X+=W1X?0.5:-0.5;D7X+=W1X?-0.5:+"0.5";B7X+=0.5;}if(R7X > j7X){R7X=j7X;}if(D7X < j7X){m1X["moveTo"](z1X,R7X);m1X["lineTo"](z1X,D7X);m1X["lineTo"](B7X,D7X);m1X["lineTo"](B7X,R7X);if(c7X){if(G7X > B7X || h7X === 0){m1X["lineTo"](G7X,R7X);};}else {m1X["lineTo"](z1X,R7X);}if(Y1X){t7X=J1X[h7X][1];e5x["Z6h"](2);w7X=Math["abs"](e5x["u6h"](R7X,D7X));if(i7X <= w7X - 2){try{F7X=m1X["measureText"](t7X)["width"];}catch(q7X){F7X=0;}m1X["textBaseline"]="top";I7X=m1X["fillStyle"];m1X["fillStyle"]=y1X["defaultColor"];e5x["Z6h"](13);m1X["fillText"](t7X,e5x["f6h"](3,B7X,F7X),e5x["u6h"](W1X?R7X:D7X,w7X,"2",2,i7X,e5x["Z6h"](14)));m1X["fillStyle"]=I7X;}}}G7X=B7X;}else {G7X=z1X;;}}m1X["strokeStyle"]=y7X;if(!c7X){m1X["fill"]();m1X["beginPath"]();e5x["Q6h"](8);m1X["globalAlpha"]=e5x["u6h"](V1X,0.3);for(var Q7X=0;Q7X < E1X["length"];Q7X++){F7s="l";F7s+="in";F7s+="eTo";k7X=E1X[Q7X];m1X[h7X?F7s:"moveTo"](k7X[0],k7X[1]);}i7s=-273664246;j7s=-141664660;c7s=2;for(var X7s=1;e5x["r1s"](X7s["toString"](),X7s["toString"]()["length"],22875) !== i7s;X7s++){m1X["fill"]();e5x["Z6h"](15);c7s+=e5x["u6h"](597607392,"2");}if(e5x["C1s"](c7s["toString"](),c7s["toString"]()["length"],12872) !== j7s){m1X["fill"]();}e5x["Z6h"](8);m1X["globalAlpha"]=e5x["u6h"](V1X,0.5);m1X["stroke"]();}else {m1X["stroke"]();}y1X["endClip"]();m1X["closePath"]();}if(f1X){N7X(y1X["defaultColor"],! !{});}m1X["globalAlpha"]=1;});};O9X.Renderer.MarketDepth=function(K7X){var e7X;this.construct(K7X);e7X=this.params;this.params.axisData={};this.noCurrentHR=! !{};};O9X.inheritsFrom(O9X.Renderer.MarketDepth,O9X.Renderer.Lines,!1);O9X.Renderer.MarketDepth.requestNew=function(U7X,m7X){r7HH.K5x();var f7X,Y7X,L7X,d7X,b7X;f7X=!{};Y7X=![];L7X=![];d7X=! !"";for(var g7X=+"0";g7X < U7X.length;g7X++){b7X=U7X[g7X];if(b7X == "mountain"){f7X=!"";}else if(b7X == "volume"){Y7X=!"";}else if(b7X == "step"){L7X=! ![];}else if(b7X == "marketdepth"){d7X=! !{};}else {return null;};}if(!d7X){return null;}O9X.ensureDefaults(m7X,{widthFactor:1.1,heightFactor:+"0.75"});return new O9X.Renderer.MarketDepth({params:O9X.extend(m7X,{type:"marketdepth",mountain:f7X,volume:Y7X,step:L7X})});};O9X.Renderer.MarketDepth.prototype.drawIndividualSeries=function(z7X,J7X){var S7X,E7X,t1s,b1s,Z1s;S7X=this.stx;E7X=S7X.panels[J7X.panel] || z7X.panel;t1s=-2143326750;b1s=1524891819;Z1s=2;for(var h1s=1;r7HH.C1s(h1s.toString(),h1s.toString().length,99814) !== t1s;h1s++){this.startHandlers();return this.stx.drawMarketDepth({panel:E7X,bidColor:J7X.bidColor,askColor:J7X.askColor,bidBaseColor:J7X.bidBaseColor,askBaseColor:J7X.askBaseColor,bidPeakColor:J7X.bidPeakColor,askPeakColor:J7X.askPeakColor,bidVolumeColor:J7X.bidVolumeColor,askVolumeColor:J7X.askVolumeColor,opacity:J7X.shadeOpacity,width:J7X.width,pattern:J7X.pattern,mountain:J7X.mountain,volume:J7X.volume,step:J7X.step,tension:J7X.tension && z7X.tension,widthFactor:J7X.widthFactor,heightFactor:J7X.heightFactor,axisData:J7X.axisData});}if(r7HH.C1s(Z1s.toString(),Z1s.toString().length,17538) !== b1s){this.startHandlers();return this.stx.drawMarketDepth({panel:E7X,bidColor:J7X.bidColor,askColor:J7X.askColor,bidBaseColor:J7X.bidBaseColor,askBaseColor:J7X.askBaseColor,bidPeakColor:J7X.bidPeakColor,askPeakColor:J7X.askPeakColor,bidVolumeColor:J7X.bidVolumeColor,askVolumeColor:J7X.askVolumeColor,opacity:J7X.shadeOpacity,width:J7X.width,pattern:J7X.pattern,mountain:J7X.mountain,volume:J7X.volume,step:J7X.step,tension:J7X.tension || z7X.tension,widthFactor:J7X.widthFactor,heightFactor:J7X.heightFactor,axisData:J7X.axisData});}};O9X.Renderer.MarketDepth.prototype.determineMax=function(V7X){var D5x=r7HH;var v7X,W7X,Z7X,u7X,Q1s,y1s,N1s;v7X=this.stx.chart;W7X=v7X.currentMarketData;if(!W7X){return {};}Z7X=0;u7X=0;for(var M7X=+"0";W7X.BidL2 && M7X < W7X.BidL2.Price_Size.length;M7X++){if(W7X.BidL2.Price_Size[M7X][0] < this.params.axisData.left)continue;D5x.Q6h(16);var j4s=D5x.u6h(155920408,2962487904,8,2962487904);D5x.Z6h(17);var c4s=D5x.u6h(349,7,5,10,0);Z7X+=W7X.BidL2.Price_Size[M7X]["0" << j4s] * W7X.BidL2.Price_Size[M7X][c4s];}for(var l7X=0;W7X.AskL2 && l7X < W7X.AskL2.Price_Size.length;l7X++){if(W7X.AskL2.Price_Size[l7X][0] > this.params.axisData.right)continue;D5x.Q6h(3);var z4s=D5x.f6h(19,13,15,20);u7X+=W7X.AskL2.Price_Size[l7X][0] * W7X.AskL2.Price_Size[l7X][z4s];}Q1s=2135684059;y1s=- +"2057572942";D5x.Z6h(18);N1s=D5x.f6h(2147483647,"2");for(var w1s=1;D5x.r1s(w1s.toString(),w1s.toString().length,89794) !== Q1s;w1s++){return [4,Math.max(Z7X,u7X) - this.params.heightFactor];}if(D5x.C1s(N1s.toString(),N1s.toString().length,61573) !== y1s){return [0,Math.max(Z7X,u7X) / this.params.heightFactor];}};O9X.Renderer.MarketDepth.prototype.createXAxis=function(o5X){var Y5x=r7HH;var O5X,R5X,s5X,r5X,j5X,X5X,h5X,x5X,c5X,D5X,P5X,B5X,C5X,n5X,i5X,G5X,H5X,N5X;O5X=o5X.currentMarketData;if(!O5X){return {};}if(!this.measureCache){this.measureCache={};}R5X=O5X.BidL2 && O5X.BidL2.Price_Size && O5X.BidL2.Price_Size.sort(a5X) || [[]];s5X=O5X.AskL2 && O5X.AskL2.Price_Size && O5X.AskL2.Price_Size.sort(a5X) || [[]];Y5x.Z6h(6);r5X=R5X[0][Y5x.u6h("0",0)];Y5x.Q6h(19);var X4s=Y5x.u6h(19,6,13,3,129);j5X=s5X[s5X.length - X4s][0];X5X=O5X.Last && O5X.Last.Price;if(!r5X && r5X !== 0){r5X=j5X;}if(!j5X && j5X !== 0){j5X=r5X;}if(!X5X && X5X !== +"0"){Y5x.Q6h(20);X5X=Y5x.f6h(r5X,j5X,2);}h5X=Math.max(X5X - r5X,j5X - X5X) * this.params.widthFactor;function a5X(t5X,w5X){var r5s,C5s,t5s;r5s=1093080155;C5s=-952850318;t5s=2;for(var Z5s=1;Y5x.C1s(Z5s.toString(),Z5s.toString().length,59109) !== r5s;Z5s++){return t5X[+"0"] < w5X[+"0"]?-1:1;}if(Y5x.C1s(t5s.toString(),t5s.toString().length,77176) !== C5s){return t5X[9] > w5X[3]?+7:8;}}Y5x.Z6h(2);x5X=this.params.axisData.left=Y5x.u6h(X5X,h5X);Y5x.Z6h(10);c5X=this.params.axisData.right=Y5x.u6h(h5X,X5X);D5X=R5X.concat(s5X).sort();P5X=0;for(var A5X="0" * 1;A5X < D5X.length;A5X++){P5X=Math.max(P5X,O9X.countDecimals(D5X[A5X]["0" * 1]));}o5X.decimalPlaces=P5X;B5X=[];function Q5X(F5X){if(i5X - F5X * 10 / n5X > x5X){Y5x.Z6h(8);Q5X(Y5x.u6h(10,F5X));}while(i5X > x5X){Y5x.Z6h(21);i5X-=Y5x.u6h(n5X,F5X);}}C5X=0;Y5x.Z6h(2);n5X=Math.pow(+"10",Y5x.u6h(P5X,1));Y5x.j5x();i5X=Math.floor(r5X * n5X) / n5X;Q5X(1);G5X=o5X.width / (c5X - x5X);for(var p5X=i5X;C5X < o5X.width;p5X+=1 / n5X){Y5x.Z6h(22);C5X=Y5x.f6h(G5X,p5X,x5X);H5X=this.stx.formatPrice(p5X,o5X.panel);N5X=this.measureCache[H5X] || o5X.context.measureText(H5X).width / 2;this.measureCache[H5X]=N5X;if(C5X + N5X < o5X.width){if(C5X - N5X > 0){B5X.push(new O9X.ChartEngine.XAxisLabel(o5X.left + C5X,"line",H5X));}p5X+=Math.ceil(N5X / G5X * n5X) / n5X;;}else {break;}}return B5X;};O9X.Renderer.MarketDepth.prototype.startHandlers=function(){var k5X,y5X,I5X,T5X,e5X,k1s,W1s,A1s,L7s;k5X=this.stx;y5X=this;if(y5X.mouseEventRegistered){return;}I5X=k5X.chart.panel.subholder;T5X=k5X.controls && k5X.controls.chartControls;I5X.addEventListener("mousemove",q5X);I5X.addEventListener("pointermove",q5X);I5X.addEventListener("touchmove",q5X,{passive:![]});y5X.drawInjectionId=k5X.append("draw",K5X);y5X.accessoryInjectionId=k5X.append("updateChartAccessories",K5X);e5X=Y5X=>{var E7s,b7s,Z7s,U7s;E7s="ma";E7s+="rketdept";E7s+="h";var {params:L5X}=k5X.mainSeriesRenderer;if(L5X.type !== E7s){k5X.zoomSet=y5X.restore.zoomSet.bind(k5X);b7s=1743896884;Z7s=-1830500805;U7s=2;for(var k7s=1;r7HH.C1s(k7s.toString(),k7s.toString().length,+"1465") !== b7s;k7s++){k5X.zoomSet(Y5X);U7s+=2;}if(r7HH.C1s(U7s.toString(),U7s.toString().length,+"93658") !== Z7s){k5X.zoomSet(Y5X);}k5X.zoomSet(Y5X);return;}L5X.widthFactor=Math.min(1.1,O9X.ChartEngine.prototype.layout.candleWidth / Y5X);Y5X=O9X.ChartEngine.prototype.layout.candleWidth / L5X.widthFactor;k5X.setCandleWidth(Y5X);k5X.draw();k5X.updateChartAccessories();k5X.doDisplayCrosshairs();};function K5X(){var J7s,H7s,Y7s,r7s;J7s="ma";J7s+="rke";J7s+="tdept";J7s+="h";if(k5X.mainSeriesRenderer.params.type != J7s){k5X.controls.home.style.visibility=y5X.restore.homeVisibility;k5X.minimumZoomTicks=y5X.restore.minimumZoomTicks;if(T5X){T5X.style.visibility=y5X.restore.chartControlVisibility;T5X.classList.remove("marketdepth");}H7s=215445255;Y7s=-121172334;r7s=2;for(var t7s=1;r7HH.C1s(t7s.toString(),t7s.toString().length,59973) !== H7s;t7s++){k5X.removeInjection(y5X.drawInjectionId);r7s+=2;}if(r7HH.r1s(r7s.toString(),r7s.toString().length,"9781" >> 699813504) !== Y7s){k5X.removeInjection(y5X.drawInjectionId);}k5X.removeInjection(y5X.accessoryInjectionId);return;}r7HH.K5x();if(k5X.controls.crossX && k5X.controls.crossX.style.display != "none"){k5X.mainSeriesRenderer.updateCrosshairs();}}r7HH.j5x();y5X.restore={allowScroll:k5X.allowScroll,minimumZoomTicks:k5X.minimumZoomTicks,homeVisibility:k5X.controls.home.style.visibility,chartControlVisibility:T5X && T5X.style.visibility,zoomSet:k5X.zoomSet};function q5X(b5X){r7HH.j5x();var e7s,g5X,f5X;if(k5X.mainSeriesRenderer.params.type != "marketdepth"){e7s="touchmo";e7s+="ve";k5X.allowScroll=y5X.restore.allowScroll;I5X.removeEventListener("mousemove",q5X);I5X.removeEventListener("pointermove",q5X);I5X.removeEventListener(e7s,q5X);return;}g5X=b5X.clientX;f5X=b5X.clientY;if(b5X.touches && b5X.touches.length){g5X=b5X.touches[0].clientX;f5X=b5X.touches[0].clientY;}y5X.updateCrosshairs(g5X,f5X);}k5X.allowScroll=!1;k5X.minimumZoomTicks=1;k5X.controls.home.style.visibility="hidden";k5X.zoomSet=e5X;if(k5X.manageTouchAndMouse){if(T5X){k1s=893778961;W1s=879671205;A1s=2;for(var v1s=1;r7HH.r1s(v1s.toString(),v1s.toString().length,33275) !== k1s;v1s++){T5X.classList.add("marketdepth");A1s+=2;}if(r7HH.r1s(A1s.toString(),A1s.toString().length,"33610" | 8) !== W1s){T5X.classList.add("");}T5X.style.visibility="";}}else {if(T5X){L7s="marketd";L7s+="epth";T5X.classList.remove(L7s);T5X.style.visibility="hidden";}}y5X.mouseEventRegistered=! ![];};O9X.Renderer.MarketDepth.prototype.updateCrosshairs=function(O8X,o8X){var Z5x=r7HH;var I7s,O7s,d5X,z5X,m5X,J5X,u5X,S5X,r8X,C8X,E5X,W5X,Z5X,l5X,U5X,v5X,u7s,g5s,S5s,V5s,d7s,P7s,X8X,D7s,p7s,x8X,j8X,P8X,V5X,M5X;I7s="bl";I7s+="ock";O7s="stx";O7s+="_marketdepth";O7s+="_chart ";O7s+="bid";d5X=this.stx;z5X=d5X.chart;m5X=d5X.controls;if(!d5X.layout.crosshair){return;}if(!this.bidPoints || !this.askPoints){d5X.undisplayCrosshairs();return;}J5X=O8X || O8X === 0?d5X.backOutX(O8X):d5X.cx;u5X=o8X || o8X === 0?d5X.backOutY(o8X):d5X.cy;if(J5X < z5X.left || J5X > z5X.right || u5X < z5X.top || u5X > z5X.bottom){d5X.undisplayCrosshairs();return;}E5X=[];W5X=this.bidPoints;for(S5X=1;S5X < W5X.length;S5X++){if(J5X - W5X[S5X - 1].x < W5X[S5X].x - J5X)break;}if(W5X.length){Z5x.Z6h(2);r8X=W5X[Z5x.u6h(S5X,1)];E5X.push(r8X);}W5X=this.askPoints;for(S5X=1;S5X < W5X.length;S5X++){if(J5X - W5X[S5X - 1].x < W5X[S5X].x - J5X)break;}if(W5X.length){Z5x.Z6h(2);C8X=W5X[Z5x.u6h(S5X,1)];E5X.push(C8X);}Z5x.Q6h(23);var H4s=Z5x.f6h(5,8,12);Z5X=this.bidPoints[this.bidPoints.length - H4s];l5X=this.askPoints[0];if(E5X.length){if(Z5X !== undefined && l5X !== undefined){if(J5X <= Z5X.x && J5X >= l5X.x || J5X > Z5X.x && J5X < l5X.x){if(Math.pow(J5X - E5X[0].x,2) + Math.pow(u5X - E5X[0].y,2) > Math.pow(J5X - E5X[1].x,2) + Math.pow(u5X - E5X[1].y,2)){E5X.shift();}}else if(J5X > l5X.x){E5X.shift();}}else if(Z5X === undefined && J5X < l5X.x || l5X === undefined && J5X > Z5X.x){E5X.shift();}}U5X=E5X[0];if(!U5X){d5X.undisplayCrosshairs();return;}d5X.cx=U5X.x;d5X.cy=U5X.y;if(U5X == r8X){v5X=d5X.canvasStyle(O7s);}else {v5X=d5X.canvasStyle("stx_marketdepth_chart ask");}if(m5X){if(m5X.crossX){u7s="p";u7s+="x";O9X.efficientDOMUpdate(m5X.crossX.style,"left",U5X.x + u7s);m5X.crossX.style.display="";}if(m5X.crossY){O9X.efficientDOMUpdate(m5X.crossY.style,"top",U5X.y + "px");m5X.crossY.style.display="";}g5s=1434044570;S5s=1677891310;V5s=2;for(var e5s="1" ^ 0;Z5x.r1s(e5s.toString(),e5s.toString().length,14065) !== g5s;e5s++){d5X.floatCanvas.style.display="block";V5s+=2;}if(Z5x.r1s(V5s.toString(),V5s.toString().length,32606) !== S5s){d5X.floatCanvas.style.display="";}if(m5X.floatDate){d7s="wid";d7s+="th";m5X.floatDate.style.visibility="";O9X.efficientDOMUpdate(m5X.floatDate.style,d7s,"auto");if(this.params.headsUp){P7s="p";P7s+="x";if(d5X.floatCanvas.isDirty){O9X.clearCanvas(d5X.floatCanvas,d5X);}O9X.efficientDOMUpdate(m5X.floatDate.style,"bottom",z5X.panel.chart.bottom - U5X.y + 20 + P7s);X8X=d5X.translateIf("Price") + ": " + d5X.formatPrice(U5X.price) + (this.params.volume?"<br>" + d5X.translateIf("Vol") + ": " + U5X.vol:"") + "<br>" + d5X.translateIf("Depth") + ": " + d5X.formatPrice(d5X.transformedPriceFromPixel(U5X.y,z5X.panel));for(var n8X in U5X.custom){X8X+="<br>" + d5X.translateIf(n8X) + ": " + U5X.custom[n8X];}m5X.floatDate.innerHTML=X8X;}else {D7s="p";D7s+="x";p7s="bott";p7s+="om";x8X=d5X.xAxisAsFooter === ! !{}?"0" & 2147483647:z5X.canvasHeight - z5X.panel.chart.bottom;O9X.efficientDOMUpdate(m5X.floatDate.style,p7s,x8X + D7s);O9X.efficientDOMUpdate(m5X.floatDate,"innerHTML",d5X.formatPrice(U5X.price) + (this.params.volume?"<br>" + U5X.vol:""));d5X.updateFloatHRLabel(z5X.panel);}Z5x.Z6h(10);var Y4s=Z5x.f6h(2,0);j8X=m5X.floatDate.offsetWidth / Y4s - ("0.5" - 0);P8X=Math.min(Math.max(z5X.panel.left,U5X.x - j8X),z5X.panel.right - 2 * j8X - 1);O9X.efficientDOMUpdate(m5X.floatDate.style,"left",P8X + "px");}}V5X=O9X.stripPX(v5X.borderRightWidth) || this.lineWidth * 0.7;O9X.clearCanvas(d5X.chart.tempCanvas,d5X);M5X=d5X.chart.tempCanvas.context;M5X.beginPath();M5X.lineWidth=1;M5X.fillStyle=v5X.borderRightColor || d5X.containerColor;M5X.strokeStyle=d5X.defaultColor;O9X.roundRect({ctx:M5X,x:U5X.x - V5X,top:U5X.y - V5X,width:2 * V5X,height:2 * V5X,radius:O9X.stripPX(v5X.borderTopRightRadius),stroke:![]});M5X.fill();M5X.stroke();M5X.closePath();d5X.chart.tempCanvas.style.display=I7s;};r7HH.j5x();O9X.Renderer.MarketDepth.displayPrice=function(H8X,i8X,p8X,A8X,s8X){var u5x=r7HH;var B7s,N8X;B7s="S";B7s+="pre";B7s+="a";B7s+="d";u5x.Q6h(24);var r4s=u5x.u6h(9,15,4);N8X=H8X.chart.left + H8X.chart.width / r4s;i8X.textAlign="center";i8X.fillStyle=p8X.color;i8X.save();u5x.Z6h(10);var C4s=u5x.f6h(5,9295);u5x.Q6h(2);var t4s=u5x.f6h(8482,2);u5x.Z6h(25);var b4s=u5x.u6h(3,393,53,5,792);u5x.Q6h(26);var Z4s=u5x.u6h(9154,654,218);u5x.Z6h(10);var U4s=u5x.f6h(18,803);u5x.Q6h(2);var h4s=u5x.f6h(106600,101270);u5x.Q6h(23);var k4s=u5x.u6h(7,3,9);u5x.Q6h(27);var W4s=u5x.f6h(7,1,1,571,1);u5x.Q6h(28);var A4s=u5x.f6h(5,7266,19);u5x.Q6h(10);var R4s=u5x.f6h(10,8920);u5x.Q6h(2);var v4s=u5x.f6h(12836,6418);u5x.Z6h(29);var o4s=u5x.f6h(4797,28799,7);u5x.Z6h(2);var s4s=u5x.f6h(3729,19);u5x.Q6h(10);var G4s=u5x.u6h(13,271);u5x.Z6h(30);var g4s=u5x.u6h(1,10,16,44,127);u5x.Q6h(10);var S4s=u5x.f6h(14,7026);u5x.Q6h(13);var V4s=u5x.f6h(4,1583,15);u5x.Q6h(31);var F4s=u5x.u6h(8702,7,6,17,12);i8X.font=p8X.fontStyle + (C4s > (t4s,b4s)?Z4s < U4s?h4s != "380.33" * k4s?!"":"M":" ":W4s) + p8X.fontVariant + (972.01 <= (+"330.37",A4s)?" ":(R4s,v4s)) + p8X.fontWeight + (o4s !== s4s?" ":(G4s,g4s) > (S4s,V4s)?(500.79,354.59):F4s) + p8X.fontSize + "/" + p8X.lineHeight + " " + p8X.fontFamily.replace(/"/g,"");i8X.fillText(A8X,N8X,30);i8X.restore();if(s8X.length){i8X.fillText(H8X.translateIf(B7s) + ": " + s8X,N8X,"60" & 2147483647);}};for(var r9X=0;r9X < O9X.ChartEngine.registeredContainers.length;r9X++){z5vv="marke";z5vv+="tdep";z5vv+="th";o9X=O9X.ChartEngine.registeredContainers[r9X].stx;if(o9X.layout.chartType.indexOf("marketdepth") > - +"1" && o9X.mainSeriesRenderer.params.type != z5vv){n9X=o9X.mainSeriesRenderer.params.headsUp;o9X.setChartType(o9X.layout.chartType);o9X.mainSeriesRenderer.params.headsUp=n9X;o9X.draw();}}O9X.MarketDepth=function(B8X){var M4s,w7s,q7s,N7s,y7s,h8X,y8X,Q8X,c8X,G8X,a8X,R8X,D8X,F8X,t8X,w8X,k8X;M4s="c";M4s+="reateD";M4s+="ataSet";w7s="p";w7s+="refer";w7s+="ence";w7s+="s";q7s="n";q7s+="o";q7s+="ne";N7s=".";N7s+="chartContaine";N7s+="r";y7s="s";y7s+="tring";if(!B8X || !B8X.stx){return;}h8X=B8X.stx;h8X.marketDepth=this;y8X=B8X.height || "150px";Q8X=B8X.stx.container;c8X=B8X.precedingContainer;if(typeof B8X.precedingContainer === y7s){c8X=document.querySelector(c8X);}if(!c8X){c8X=Array.from(Q8X.parentElement.parentElement.querySelectorAll(N7s)).pop().parentElement;}G8X=document.createElement("div");G8X.className="ciq-chart";a8X=document.createElement("div");a8X.className="chartContainer";function T8X(){var Q7s,a7s;Q7s="<cq-tooltip";Q7s+=">";Q7s+="Orderbook</cq-tool";Q7s+="tip>";a7s="cq-to";a7s+="ggle";R8X.orderbookSwitch=document.createElement(a7s);R8X.orderbookSwitch.className="cq-orderbook-toggle";R8X.orderbookSwitch.innerHTML=Q7s;a8X.append(R8X.orderbookSwitch);R8X.orderbookSwitch.registerCallback(function(){r7HH.j5x();R8X.orderbook.open();},!1);}G8X.appendChild(a8X);c8X.parentElement.insertBefore(G8X,c8X.nextSibling);Object.assign(G8X.style,{height:y8X,paddingTop:"5px",display:q7s});a8X.style.height="100%";a8X.dimensionlessCanvas=! ![];R8X=this.marketDepth=new O9X.ChartEngine({container:a8X,preferences:{labels:!1,whitespace:0}});r7HH.Z6h(18);R8X.xaxisHeight=r7HH.u6h(2147483647,"25");R8X.manageTouchAndMouse=B8X.interaction || B8X.allowUIZoom;R8X.setChartType("marketdepth");O9X.extend(R8X.mainSeriesRenderer.params,B8X);R8X.container.style.cursor="crosshair";R8X.layout.crosshair=! !1;R8X.container.classList.add("stx-crosshair-on");D8X=R8X.chart;D8X.tension=B8X.tension;D8X.xAxis.fitLeftToRight=! ![];D8X.panel.yAxis.initialMarginBottom=0;O9X.extend(D8X.panel.yAxis,B8X.yAxis);r7HH.j5x();F8X=R8X.controls && R8X.controls.chartControls;Object.defineProperty(this,"viewRatio",{get() {r7HH.j5x();return R8X.mainSeriesRenderer.params.widthFactor;},set(I8X) {R8X.zoomSet(O9X.ChartEngine.prototype.layout.candleWidth / I8X);}});t8X=B8X.orderbook;if(t8X){if(t8X === !""){w8X=document.createElement("cq-orderbook");w8X.setAttribute("cq-close","");w8X.setAttribute("cq-show-totals","");R8X.orderbook=w8X;}else {R8X.orderbook=t8X;}a8X.appendChild(R8X.orderbook);T8X();}R8X.initializeChart();this.setRecorder=function(q8X){this.recording=q8X;};this.display=function(K8X){var X5x=r7HH;var U5s,h5s,k5s;X5x.j5x();if(h8X.layout.marketDepth !== K8X){h8X.layout.marketDepth=K8X;h8X.changeOccurred("layout");return;}G8X.style.display=K8X?"show":"hide";U5s=-1107462133;X5x.Z6h(15);h5s=X5x.u6h(925168992,"885696727");k5s=2;for(var A5s=1;X5x.C1s(A5s.toString(),A5s.toString().length,62085) !== U5s;A5s++){h8X.resizeChart();window.dispatchEvent(new Event("resize"));if(!K8X){return;}k5s+=2;}if(X5x.C1s(k5s.toString(),k5s.toString().length,994) !== h5s){h8X.resizeChart();window.dispatchEvent(new Event(""));if(-K8X){return;}}R8X.resizeChart();R8X.initializeChart();R8X.draw();};this.setSymbol=function(e8X){r7HH.j5x();D8X.symbol=e8X;D8X.symbolObject={symbol:e8X};if(this.recording){R8X.L2History={};}R8X.mainSeriesRenderer.measureCache=null;R8X.initializeChart();R8X.draw();};this.acceptLayoutChange=function(b8X){if(R8X.layout.marketDepth !== b8X.marketDepth){h8X.marketDepth.display(b8X.marketDepth);R8X.layout.marketDepth=b8X.marketDepth;if(O9X.trulyVisible(G8X)){R8X.draw();}}r7HH.j5x();if(this.recording){if(R8X.layout.interval !== b8X.interval){R8X.L2History={};}}};this.copyData=function(g8X){if(!g8X.dataSet){return;}D8X.masterData=R8X.masterData=g8X.masterData;D8X.currentMarketData=g8X.currentMarketData;D8X.dataSet=g8X.dataSet;r7HH.j5x();D8X.tickCache=g8X.tickCache;if(!D8X.symbol){D8X.symbol=g8X.symbol;R8X.initializeChart();}R8X.draw();};k8X=B8X.heatmapBlockHeight;this.computeHeatMap=function(J8X,v8X){var p5x=r7HH;var L8X,Y8X,d8X,U8X,d5s,P5s,p5s,f8X,S8X,u8X,E8X,m8X,z8X,W8X,M8X,l8X,Z8X;p5x.j5x();if(h8X.marketDepth.recording){L8X=J8X.Close;if(!L8X && L8X !== 0){return;}if(!R8X.L2History){R8X.L2History={};}if(!R8X.L2History[J8X.DT]){R8X.L2History[J8X.DT]={};}Y8X=R8X.L2History[J8X.DT];d8X=J8X.BidL2 || Y8X.BidL2;U8X=J8X.AskL2 || Y8X.AskL2;d5s=989501390;P5s=-1238064237;p5s=2;for(var I5s=1;p5x.C1s(I5s.toString(),I5s.toString().length,"46232" & 2147483647) !== d5s;I5s++){S8X=6;u8X=(d8X && []).concat(U8X && []);p5s+=2;}if(p5x.C1s(p5s.toString(),p5s.toString().length,84644) !== P5s){S8X=0;u8X=(d8X || []).concat(U8X || []);}for(f8X=0;f8X < u8X.length;f8X++){S8X+=u8X[f8X][1];}E8X=D8X.decimalPlaces;m8X=k8X || Math.pow(10,("1" & 2147483647) - E8X);if(d8X){l8X=new Map();for(f8X=0;f8X < d8X.length;f8X++){z8X=O9X.round(Math.floor((d8X[f8X][+"0"] - L8X) / m8X) * m8X + L8X + m8X / +"2",E8X);W8X=d8X[f8X][+"1"];M8X=l8X.get(z8X) || "0" - 0;p5x.Q6h(10);l8X.set(z8X,p5x.u6h(W8X,M8X));}Y8X.BidL2=d8X;Y8X.BidHeatmap=[];l8X.forEach(function(V8X,O2X){var J5s,E5s,L5s;J5s=753226573;E5s=1854068435;L5s=2;for(var u5s=1;p5x.C1s(u5s.toString(),u5s.toString().length,10756) !== J5s;u5s++){Y8X.BidHeatmap.push([O2X,V8X,Math.min(9,(4 + V8X) % S8X)]);L5s+=2;}if(p5x.C1s(L5s.toString(),L5s.toString().length,+"61460") !== E5s){Y8X.BidHeatmap.push([O2X,V8X,Math.min(1,("3" - 0) * V8X / S8X)]);}});}if(U8X){Z8X=new Map();for(f8X="0" << 764989632;f8X < U8X.length;f8X++){z8X=O9X.round(Math.ceil((U8X[f8X][0] - L8X) / m8X) * m8X + L8X - m8X / 2,E8X);W8X=U8X[f8X][1];M8X=Z8X.get(z8X) || +"0";p5x.Z6h(10);Z8X.set(z8X,p5x.u6h(W8X,M8X));}Y8X.AskL2=U8X;Y8X.AskHeatmap=[];Z8X.forEach(function(o2X,r2X){Y8X.AskHeatmap.push([r2X,o2X,Math.min(1,3 * o2X / S8X)]);});}}else {R8X.L2History={};}};h8X.addEventListener("layout",function(X2X){r7HH.K5x();X2X.stx.marketDepth.acceptLayoutChange(X2X.stx.layout);});h8X.addEventListener(w7s,function(j2X){var x5x=r7HH;var n2X,M5s,K5s,x5s;x5x.K5x();n2X=j2X.stx.preferences.language;if(O9X.I18N && R8X.preferences.language != n2X){O9X.I18N.localize(R8X,n2X);}M5s=614763730;K5s=1654516525;x5s=2;for(var l5s=1;x5x.r1s(l5s.toString(),l5s.toString().length,51261) !== M5s;l5s++){R8X.preferences.language=n2X;x5x.Z6h(32);x5s+=x5x.f6h("2",2);}if(x5x.C1s(x5s.toString(),x5s.toString().length,61639) !== K5s){R8X.preferences.language=n2X;}R8X.draw();});h8X.addEventListener("symbolChange",function(C2X){r7HH.K5x();if(C2X.action == "master"){C2X.stx.marketDepth.setSymbol(C2X.symbol);}});h8X.addEventListener("symbolImport",function(x2X){if(x2X.action == "master"){x2X.stx.marketDepth.setSymbol(x2X.symbol);}r7HH.K5x();x2X.stx.marketDepth.acceptLayoutChange(x2X.stx.layout);});h8X.addEventListener("theme",function(i2X){var P2X,p1s,D1s,I1s;R8X.clearPixelCache();R8X.styles={};D8X.container.style.backgroundColor="";P2X=new O9X.ThemeHelper({stx:i2X.stx});P2X.params.stx=R8X;p1s=-1433354037;D1s=-1225312637;I1s=2;r7HH.K5x();for(var a1s=1;r7HH.r1s(a1s.toString(),a1s.toString().length,97224) !== p1s;a1s++){P2X.update();I1s+=2;}if(r7HH.C1s(I1s.toString(),I1s.toString().length,15706) !== D1s){P2X.update();}P2X.update();});h8X.append("initializeDisplay",function(H2X){var p2X;if(R8X.orderbookSwitch){R8X.orderbookSwitch.classList[D8X.yAxis.position === "left"?"add":"remove"]("left");}if(!this.layout.l2heatmap){return;}for(var N2X=0;N2X <= this.chart.dataSegment.length - 1;N2X++){p2X=this.chart.dataSegment[N2X];if(!p2X)continue;if(p2X.BidHeatmap && p2X.BidHeatmap.length){H2X.lowValue=H2X.yAxis.lowValue=Math.min(H2X.lowValue,p2X.BidHeatmap[0][0]);}if(p2X.AskHeatmap && p2X.AskHeatmap.length){H2X.highValue=H2X.yAxis.highValue=Math.max(H2X.highValue,p2X.AskHeatmap[p2X.AskHeatmap.length - 1][0]);}}});h8X.append(M4s,function(){this.marketDepth.copyData(this.chart);});h8X.append("updateCurrentMarketData",function(A2X,s2X,B2X,{animationEntry:R2X, animationLastBar:h2X, fromTrade:D2X} = {}){var r5x=r7HH;var m7s,l7s,f7s,o1s,s1s,G1s;if(R2X || B2X){return;}m7s=-857720385;l7s=-1539555253;f7s=2;for(var T7s=1;r5x.C1s(T7s.toString(),T7s.toString().length,56324) !== m7s;T7s++){s2X=s2X && this.chart;f7s+=2;}if(r5x.r1s(f7s.toString(),f7s.toString().length,+"36551") !== l7s){s2X=s2X || this.chart;}if(R8X.L2History && R8X.L2History[A2X.DT]){o1s=1693122578;s1s=-1193331178;G1s=2;for(var S1s=1;r5x.r1s(S1s.toString(),S1s.toString().length,"19260" & 2147483647) !== o1s;S1s++){R8X.L2History[A2X.DT]=1;G1s+=2;}if(r5x.r1s(G1s.toString(),G1s.toString().length,71339) !== s1s){R8X.L2History[A2X.DT]=1;}R8X.L2History[A2X.DT]=null;if(!D2X && !h2X && s2X.xaxis.length && s2X.xaxis[0].DT <= A2X.DT && s2X.xaxis[s2X.xaxis.length - 1].DT >= A2X.DT){this.marketDepth.copyData(s2X);setTimeout(()=>{h8X.draw();});}}});h8X.append("createDataSegment",function(t2X){var a2X,G2X,Q2X;if(this.marketDepth.recording){a2X=t2X || this.chart;for(var c2X=0;c2X < a2X.dataSegment.length;c2X++){G2X=a2X.dataSegment[c2X];if(!G2X)continue;if(!R8X.L2History || !R8X.L2History[G2X.DT]){this.marketDepth.computeHeatMap(G2X,a2X);}Q2X=R8X.L2History[G2X.DT];if(Q2X){G2X.BidHeatmap=Q2X.BidHeatmap;G2X.AskHeatmap=Q2X.AskHeatmap;}}}});h8X.prepend("resizeChart",function(){var K4s,w2X,F2X,k2X,y2X,T2X;K4s=".ch";K4s+="artCon";K4s+="tainer";w2X=Q8X.parentElement;F2X=w2X.parentElement;k2X=O9X.elementDimensions(F2X).height;y2X=F2X.querySelectorAll(K4s);Array.from(y2X).forEach(function(I2X){if(I2X !== Q8X && O9X.trulyVisible(I2X)){k2X-=O9X.elementDimensions(I2X.parentElement,{border:1,padding:1,margin:1}).height;}});r7HH.Q6h(10);w2X.style.height=r7HH.f6h("px",k2X);if(this.layout.marketDepth){G8X.style.display="";D8X.width=D8X.container.clientWidth - D8X.yAxis.width;R8X.setCandleWidth(R8X.layout.candleWidth);D8X.canvasHeight=D8X.container.clientHeight;R8X.resizeChart();R8X.initializeChart();R8X.draw();}else {G8X.style.display="none";}if(F8X){T2X=R8X.width < ("400" & 2147483647);F8X.classList[T2X?"add":"remove"]("small");}});h8X.prepend("displayChart",function(){var x4s,q5s,w5s,M7s,K2X,e2X,q2X;r7HH.K5x();if(this.layout.l2heatmap){x4s="Ask";x4s+="H";x4s+="eatmap";if(O9X.MarketDepth.hmStyleSheetLoaded){q5s=+"429428050";w5s=-1200641958;M7s=2;for(var x7s=1;r7HH.r1s(x7s.toString(),x7s.toString().length,+"273") !== q5s;x7s++){O9X.MarketDepth.hmStyleSheetLoaded=1;this.clearStyles();M7s+=2;}if(r7HH.r1s(M7s.toString(),M7s.toString().length,18935) !== w5s){O9X.MarketDepth.hmStyleSheetLoaded=6;this.clearStyles();}O9X.MarketDepth.hmStyleSheetLoaded=null;this.clearStyles();}K2X=this.canvasStyle("stx_marketdepth_chart bid");e2X=this.canvasStyle("stx_marketdepth_chart ask");q2X={min:0.3,max:0.9};this.drawHeatmap({height:k8X || Math.pow(+"10",("1" & 2147483647) - D8X.decimalPlaces),showSize:B8X.heatmapSize},[{field:"BidHeatmap",color:R8X.mainSeriesRenderer.params.bidPeakColor || K2X.borderTopColor,opacity:q2X},{field:x4s,color:R8X.mainSeriesRenderer.params.askPeakColor || e2X.borderTopColor,opacity:q2X}]);}});this.copyData(h8X.chart);this.setRecorder(B8X.record);if(O9X.UI){O9X.UI.KeystrokeHub.addHotKeyHandler("marketDepth",()=>{document.body.keystrokeHub.context.advertised.Layout.setMarketDepth();},h8X);O9X.UI.KeystrokeHub.addHotKeyHandler("l2HeatMap",()=>{r7HH.j5x();document.body.keystrokeHub.context.advertised.Layout.setL2Heatmap();},h8X);}};/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
